"use strict";(self.webpackChunktp1_saladejuegos=self.webpackChunktp1_saladejuegos||[]).push([[179],{6304:(ft,Ce,L)=>{L.d(Ce,{Dh:()=>He,GT:()=>ve,cc:()=>ke,on:()=>Re,pX:()=>re,xv:()=>Ze});var d=L(5879),z=L(120);ft=L.hmd(ft);const U=["ngOnDestroy"],re=(Ae,ze,ut,vt={})=>new Proxy(Ae,{get:(ie,be)=>ut.runOutsideAngular(()=>{var oe;if(Ae[be])return!(null===(oe=vt?.spy)||void 0===oe)&&oe.get&&vt.spy.get(be,Ae[be]),Ae[be];if(U.indexOf(be)>-1)return()=>{};const ye=ze.toPromise().then($e=>{const Ge=$e&&$e[be];return"function"==typeof Ge?Ge.bind($e):Ge&&Ge.then?Ge.then(wt=>ut.run(()=>wt)):ut.run(()=>Ge)});return new Proxy(()=>{},{get:($e,Ge)=>ye[Ge],apply:($e,Ge,wt)=>ye.then(Mt=>{var zt;const Cr=Mt&&Mt(...wt);return!(null===(zt=vt?.spy)||void 0===zt)&&zt.apply&&vt.spy.apply(be,wt,Cr),Cr})})})}),ve=(Ae,ze)=>{ze.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(vt=>{Object.defineProperty(Ae.prototype,vt,Object.getOwnPropertyDescriptor(ut.prototype||ut,vt))})})};class he{constructor(ze){return ze}}const He=new d.OlP("angularfire2.app.options"),Ze=new d.OlP("angularfire2.app.name");function Re(Ae,ze,ut){const ie="object"==typeof ut&&ut||{};ie.name=ie.name||"string"==typeof ut&&ut||"[DEFAULT]";const oe=z.Z.apps.filter(ye=>ye&&ye.name===ie.name)[0]||ze.runOutsideAngular(()=>z.Z.initializeApp(Ae,ie));try{JSON.stringify(Ae)!==JSON.stringify(oe.options)&&H("error",`${oe.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(oe)}const H=(Ae,...ze)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...ze)};function ke(Ae,ze,ut,vt,ie){const[,be,oe]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===Ae)||[];if(be)return function Ve(Ae,ze){try{return Ae.toString()===ze.toString()}catch{return Ae===ze}}(ie,oe)||(Te("error",`${ze} was already initialized on the ${ut} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:ie,was:oe})),be;{const ye=vt();return globalThis.\u0275AngularfireInstanceCache.push([Ae,ye,ie]),ye}}const nt=!!ft.hot,Te=(Ae,...ze)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6710:(ft,Ce,L)=>{L.d(Ce,{$:()=>mu,A:()=>Xt,D:()=>an,I:()=>cu,J:()=>Pa,L:()=>bo,N:()=>bn,P:()=>tc,Q:()=>ar,R:()=>Ys,U:()=>av,V:()=>lv,W:()=>Gp,X:()=>qs,Y:()=>La,Z:()=>cv,_:()=>fu,a:()=>yu,a0:()=>uh,a1:()=>hv,a2:()=>pM,a3:()=>fh,a4:()=>zl,a5:()=>fv,a6:()=>$l,a7:()=>pv,a8:()=>Zp,a9:()=>mv,aA:()=>Fe,aB:()=>xh,aC:()=>Cs,aD:()=>Ke,aE:()=>Eh,aF:()=>qa,aG:()=>Vr,aH:()=>$t,aL:()=>As,aO:()=>Fa,aa:()=>Kp,ab:()=>Yp,ac:()=>gu,ad:()=>Qp,ae:()=>ph,af:()=>vu,ai:()=>gv,aj:()=>gh,ak:()=>_v,an:()=>ch,ao:()=>_h,aq:()=>iI,ar:()=>ia,as:()=>Dr,at:()=>It,au:()=>En,av:()=>je,aw:()=>Au,ax:()=>To,ay:()=>Ul,az:()=>st,b:()=>Gt,c:()=>Xs,d:()=>um,e:()=>Lr,f:()=>yr,g:()=>hm,h:()=>Sn,i:()=>nr,j:()=>nc,k:()=>Js,l:()=>Eu,m:()=>Qa,o:()=>da,p:()=>Be,r:()=>Iu,s:()=>oa,u:()=>ec});var He,Ze,Re,H,W,ee,ke,Ve,nt,Te,Ae,ze,ut,vt,ie,be,oe,ye,$e,Ge,wt,Mt,zt,Cr,ys,Bs,sr,bs,mo,ae,de,me,pe,Me,Ue,it,qe,qn,yt,rn,Rt,vn,On,or,fn,Jn,Tr,Si,pi,Yi,Ai,Wn,gt,Lt,Bt,gn,Mi,Yt,_n,Wo,Qt,ws,nn,Es,Tn,er,js,Or,mi,Is,Qi,Gr,qr,Ri,go,G,$,P,N,O,Q,d=L(5861),z=L(9058),U=L(534),re=L(7582),ve=L(7879),he=L(4537);const Be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xt={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const an=function bt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ki=function ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Oi=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),te=new ve.Yd("@firebase/auth");function Xe(C,..._){te.logLevel<=ve.in.ERROR&&te.error(`Auth (${U.SDK_VERSION}): ${C}`,..._)}function je(C,..._){throw tr(C,..._)}function st(C,..._){return tr(C,..._)}function Zt(C,_,v){const E=Object.assign(Object.assign({},ki()),{[_]:v});return new z.LL("auth","Firebase",E).create(_,{appName:C.name})}function Mn(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&je(C,"argument-error"),Zt(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tr(C,..._){if("string"!=typeof C){const v=_[0],E=[..._.slice(1)];return E[0]&&(E[0].appName=C.name),C._errorFactory.create(v,...E)}return Oi.create(C,..._)}function Fe(C,_,...v){if(!C)throw tr(_,...v)}function pr(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Xe(_),new Error(_)}function Dr(C,_){C||pr(_)}function Xi(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Pl(){return"http:"===Qd()||"https:"===Qd()}function Qd(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Zo{constructor(_,v){this.shortDelay=_,this.longDelay=v,Dr(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Xd(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pl()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fl(C,_){Dr(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class J_{static initialize(_,v,E){this.fetchImpl=_,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ko={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ev=new Zo(3e4,6e4);function Cn(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Jt(C,_,v,E){return(He=He||(0,d.Z)(function*(D,R,B,q,se={}){return Ll(D,se,(0,d.Z)(function*(){let _e={},lt={};q&&("GET"===R?lt=q:_e={body:JSON.stringify(q)});const ct=(0,z.xO)(Object.assign({key:D.config.apiKey},lt)).slice(1),pt=yield D._getAdditionalHeaders();return pt["Content-Type"]="application/json",D.languageCode&&(pt["X-Firebase-Locale"]=D.languageCode),J_.fetch()(Fp(D,D.config.apiHost,B,ct),Object.assign({method:R,headers:pt,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function Ll(C,_,v){return(Ze=Ze||(0,d.Z)(function*(E,D,R){E._canInitEmulator=!1;const B=Object.assign(Object.assign({},Ko),D);try{const q=new WE(E),se=yield Promise.race([R(),q.promise]);q.clearNetworkTimeout();const _e=yield se.json();if("needConfirmation"in _e)throw Sa(E,"account-exists-with-different-credential",_e);if(se.ok&&!("errorMessage"in _e))return _e;{const lt=se.ok?_e.errorMessage:_e.error.message,[ct,pt]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Sa(E,"credential-already-in-use",_e);if("EMAIL_EXISTS"===ct)throw Sa(E,"email-already-in-use",_e);if("USER_DISABLED"===ct)throw Sa(E,"user-disabled",_e);const Wt=B[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Zt(E,Wt,pt);je(E,Wt)}}catch(q){if(q instanceof z.ZR)throw q;je(E,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function Ji(C,_,v,E){return(Re=Re||(0,d.Z)(function*(D,R,B,q,se={}){const _e=yield Jt(D,R,B,q,se);return"mfaPendingCredential"in _e&&je(D,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Fp(C,_,v,E){const D=`${_}${v}?${E}`;return C.config.emulator?Fl(C.config,D):`${C.config.apiScheme}://${D}`}class WE{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(st(this.auth,"network-request-failed")),ev.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sa(C,_,v){const E={appName:C.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const D=st(C,_,E);return D.customData._tokenResponse=v,D}function su(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Jd(C){return 1e3*Number(C)}function ou(C){const[_,v,E]=C.split(".");if(void 0===_||void 0===v||void 0===E)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,z.tV)(v);return D?JSON.parse(D):(Xe("Failed to decode base64 JWT payload"),null)}catch(D){return Xe("Caught error parsing JWT payload as JSON",D?.toString()),null}}function es(C,_){return(Ve=Ve||(0,d.Z)(function*(v,E,D=!1){if(D)return E;try{return yield E}catch(R){throw R instanceof z.ZR&&function rv({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(R)&&v.auth.currentUser===v&&(yield v.auth.signOut()),R}})).apply(this,arguments)}class Bp{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(_);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),E)}iteration(){var _=this;return(0,d.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&_.schedule(!0))}_.schedule()})()}}class eh{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Aa(C){return(nt=nt||(0,d.Z)(function*(_){var v;const E=_.auth,D=yield _.getIdToken(),R=yield es(_,function Vp(C,_){return(ee=ee||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}(E,{idToken:D}));Fe(R?.users.length,E,"internal-error");const B=R.users[0];_._notifyReloadListener(B);const q=null!==(v=B.providerUserInfo)&&void 0!==v&&v.length?function Pr(C){return C.map(_=>{var{providerId:v}=_,E=(0,re._T)(_,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(B.providerUserInfo):[],se=function mr(C,_){return[...C.filter(E=>!_.some(D=>D.providerId===E.providerId)),..._]}(_.providerData,q),ct=!!_.isAnonymous&&!(_.email&&B.passwordHash||se?.length),pt={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:se,metadata:new eh(B.createdAt,B.lastLoginAt),isAnonymous:ct};Object.assign(_,pt)})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Fe(_.idToken,"internal-error"),Fe(typeof _.idToken<"u","internal-error"),Fe(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function nv(C){const _=ou(C);return Fe(_,"internal-error"),Fe(typeof _.exp<"u","internal-error"),Fe(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var E=this;return(0,d.Z)(function*(){return Fe(!E.accessToken||E.refreshToken,_,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(_,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var E=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:R,expiresIn:B}=yield function Ma(C,_){return(Ae=Ae||(0,d.Z)(function*(v,E){const D=yield Ll(v,{},(0,d.Z)(function*(){const R=(0,z.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:B,apiKey:q}=v.config,se=Fp(v,B,"/v1/token",`key=${q}`),_e=yield v._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",J_.fetch()(se,{method:"POST",headers:_e,body:R})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}(_,v);E.updateTokensAndExpiration(D,R,Number(B))})()}updateTokensAndExpiration(_,v,E){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(_,v){const{refreshToken:E,accessToken:D,expirationTime:R}=v,B=new gr;return E&&(Fe("string"==typeof E,"internal-error",{appName:_}),B.refreshToken=E),D&&(Fe("string"==typeof D,"internal-error",{appName:_}),B.accessToken=D),R&&(Fe("number"==typeof R,"internal-error",{appName:_}),B.expirationTime=R),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return pr("not implemented")}}function Hs(C,_){Fe("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class _o{constructor(_){var{uid:v,auth:E,stsTokenManager:D}=_,R=(0,re._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new eh(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,d.Z)(function*(){const E=yield es(v,v.stsTokenManager.getToken(v.auth,_));return Fe(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(_){return function Up(C){return(ke=ke||(0,d.Z)(function*(_,v=!1){const E=(0,z.m9)(_),D=yield E.getIdToken(v),R=ou(D);Fe(R&&R.exp&&R.auth_time&&R.iat,E.auth,"internal-error");const B="object"==typeof R.firebase?R.firebase:void 0,q=B?.sign_in_provider;return{claims:R,token:D,authTime:su(Jd(R.auth_time)),issuedAtTime:su(Jd(R.iat)),expirationTime:su(Jd(R.exp)),signInProvider:q||null,signInSecondFactor:B?.sign_in_second_factor||null}})).apply(this,arguments)}(this,_)}reload(){return function en(C){return(Te=Te||(0,d.Z)(function*(_){const v=(0,z.m9)(_);yield Aa(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}(this)}_assign(_){this!==_&&(Fe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new _o(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var E=this;return(0,d.Z)(function*(){let D=!1;_.idToken&&_.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(_),D=!0),v&&(yield Aa(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var _=this;return(0,d.Z)(function*(){const v=yield _.getIdToken();return yield es(_,function tv(C,_){return(H=H||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var E,D,R,B,q,se,_e,lt;const ct=null!==(E=v.displayName)&&void 0!==E?E:void 0,pt=null!==(D=v.email)&&void 0!==D?D:void 0,Wt=null!==(R=v.phoneNumber)&&void 0!==R?R:void 0,Zn=null!==(B=v.photoURL)&&void 0!==B?B:void 0,Os=null!==(q=v.tenantId)&&void 0!==q?q:void 0,vi=null!==(se=v._redirectEventId)&&void 0!==se?se:void 0,os=null!==(_e=v.createdAt)&&void 0!==_e?_e:void 0,ha=null!==(lt=v.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Ou,emailVerified:oc,isAnonymous:Li,providerData:el,stsTokenManager:Mo}=v;Fe(Ou&&Mo,_,"internal-error");const ac=gr.fromJSON(this.name,Mo);Fe("string"==typeof Ou,_,"internal-error"),Hs(ct,_.name),Hs(pt,_.name),Fe("boolean"==typeof oc,_,"internal-error"),Fe("boolean"==typeof Li,_,"internal-error"),Hs(Wt,_.name),Hs(Zn,_.name),Hs(Os,_.name),Hs(vi,_.name),Hs(os,_.name),Hs(ha,_.name);const Ro=new _o({uid:Ou,auth:_,email:pt,emailVerified:oc,displayName:ct,isAnonymous:Li,photoURL:Zn,phoneNumber:Wt,tenantId:Os,stsTokenManager:ac,createdAt:os,lastLoginAt:ha});return el&&Array.isArray(el)&&(Ro.providerData=el.map(Pu=>Object.assign({},Pu))),vi&&(Ro._redirectEventId=vi),Ro}static _fromIdTokenResponse(_,v,E=!1){return(0,d.Z)(function*(){const D=new gr;D.updateFromServerResponse(v);const R=new _o({uid:v.localId,auth:_,stsTokenManager:D,isAnonymous:E});return yield Aa(R),R})()}}const Vl=new Map;function Cs(C){Dr(C instanceof Function,"Expected a class definition");let _=Vl.get(C);return _?(Dr(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Vl.set(C,_),_)}const bn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,E){var D=this;return(0,d.Z)(function*(){D.storage[v]=E})()}_get(v){var E=this;return(0,d.Z)(function*(){const D=E.storage[v];return void 0===D?null:D})()}_remove(v){var E=this;return(0,d.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return C.type="NONE",C})();function Ke(C,_,v){return`firebase:${C}:${_}:${v}`}class Tt{constructor(_,v,E){this.persistence=_,this.auth=v,this.userKey=E;const{config:D,name:R}=this.auth;this.fullUserKey=Ke(this.userKey,D.apiKey,R),this.fullPersistenceKey=Ke("persistence",D.apiKey,R),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,d.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?_o._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,d.Z)(function*(){if(v.persistence===_)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,E="authUser"){return(0,d.Z)(function*(){var D,R;if(!v.length)return new Tt(Cs(bn),_,E);const B=(yield Promise.all(v.map(function(ct){return(D=D||(0,d.Z)(function*(pt){if(yield pt._isAvailable())return pt})).apply(this,arguments)}))).filter(ct=>ct);let q=B[0]||Cs(bn);const se=Ke(E,_.config.apiKey,_.name);let _e=null;for(const ct of v)try{const pt=yield ct._get(se);if(pt){const Wt=_o._fromJSON(_,pt);ct!==q&&(_e=Wt),q=ct;break}}catch{}const lt=B.filter(ct=>ct._shouldAllowMigration);return q._shouldAllowMigration&&lt.length?(q=lt[0],_e&&(yield q._set(se,_e.toJSON())),yield Promise.all(v.map(function(ct){return(R=R||(0,d.Z)(function*(pt){if(pt!==q)try{yield pt._remove(se)}catch{}})).apply(this,arguments)})),new Tt(q,_,E)):new Tt(q,_,E)})()}}function wn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Ra(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Wr(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ts(_))return"Blackberry";if(Yo(_))return"Webos";if(zs(_))return"Safari";if((_.includes("chrome/")||Sr(_))&&!_.includes("edge/"))return"Chrome";if(En(_))return"Android";{const E=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Wr(C=(0,z.z$)()){return/firefox\//i.test(C)}function zs(C=(0,z.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Sr(C=(0,z.z$)()){return/crios\//i.test(C)}function Ra(C=(0,z.z$)()){return/iemobile/i.test(C)}function En(C=(0,z.z$)()){return/android/i.test(C)}function Ts(C=(0,z.z$)()){return/blackberry/i.test(C)}function Yo(C=(0,z.z$)()){return/webos/i.test(C)}function It(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Ul(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Pn(C=(0,z.z$)()){return It(C)||En(C)||Yo(C)||Ts(C)||/windows phone/i.test(C)||Ra(C)}function ka(C,_=[]){let v;switch(C){case"Browser":v=wn((0,z.z$)());break;case"Worker":v=`${wn((0,z.z$)())}-${C}`;break;default:v=C}const E=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${U.SDK_VERSION}/${E}`}function Oa(C,_){return(ut=ut||(0,d.Z)(function*(v,E){return Jt(v,"GET","/v2/recaptchaConfig",Cn(v,E))})).apply(this,arguments)}function th(C){return void 0!==C&&void 0!==C.getResponse}function vo(C){return void 0!==C&&void 0!==C.enterprise}class Ss{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Gs(C){return new Promise((_,v)=>{const E=document.createElement("script");E.setAttribute("src",C),E.onload=_,E.onerror=D=>{const R=st("internal-error");R.customData=D,v(R)},E.type="text/javascript",E.charset="UTF-8",function lu(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(E)})}function Ht(C){return`__${C}${Math.floor(1e6*Math.random())}`}class Zr{constructor(_){this.type="recaptcha-enterprise",this.auth=$t(_)}verify(_="verify",v=!1){var E=this;return(0,d.Z)(function*(){var D;function B(q,se,_e){const lt=window.grecaptcha;vo(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(q,{action:_}).then(ct=>{se(ct)}).catch(()=>{se("NO_RECAPTCHA")})}):_e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((q,se)=>{(function R(q){return(D=D||(0,d.Z)(function*(se){var _e;if(!v){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(lt,ct){return(_e=_e||(0,d.Z)(function*(pt,Wt){Oa(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zn=>{if(void 0!==Zn.recaptchaKey){const Os=new Ss(Zn);return null==se.tenantId?se._agentRecaptchaConfig=Os:se._tenantRecaptchaConfigs[se.tenantId]=Os,pt(Os.siteKey)}Wt(new Error("recaptcha Enterprise site key undefined"))}).catch(Zn=>{Wt(Zn)})})).apply(this,arguments)})})).apply(this,arguments)})(E.auth).then(_e=>{if(!v&&vo(window.grecaptcha))B(_e,q,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));Gs("https://www.google.com/recaptcha/enterprise.js?render="+_e).then(()=>{B(_e,q,se)}).catch(lt=>{se(lt)})}}).catch(_e=>{se(_e)})})})()}}function ts(C,_,v){return(vt=vt||(0,d.Z)(function*(E,D,R,B=!1){const q=new Zr(E);let se;try{se=yield q.verify(R)}catch{se=yield q.verify(R,!0)}const _e=Object.assign({},D);return Object.assign(_e,B?{captchaResp:se}:{captchaResponse:se}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}class Bl{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const E=R=>new Promise((B,q)=>{try{B(_(R))}catch(se){q(se)}});E.onAbort=v,this.queue.push(E);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,d.Z)(function*(){if(v.auth.currentUser===_)return;const E=[];try{for(const D of v.queue)yield D(_),D.onAbort&&E.push(D.onAbort)}catch(D){E.reverse();for(const R of E)try{R()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class jl{constructor(_,v,E,D){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=E,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new Bl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Oi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(_,v){var E=this;return v&&(this._popupRedirectResolver=Cs(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,R;if(!E._deleted&&(E.persistenceManager=yield Tt.create(E,_),!E._deleted)){if(null!==(D=E._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,d.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,d.Z)(function*(){var E;const D=yield v.assertedPersistence.getCurrentUser();let R=D,B=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const q=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,se=R?._redirectEventId,_e=yield v.tryRedirectSignIn(_);(!q||q===se)&&_e?.user&&(R=_e.user,B=!0)}if(!R)return v.directlySetCurrentUser(null);if(!R._redirectEventId){if(B)try{yield v.beforeStateQueue.runMiddleware(R)}catch(q){R=D,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(q))}return R?v.reloadAndSetCurrentUserOrClear(R):v.directlySetCurrentUser(null)}return Fe(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===R._redirectEventId?v.directlySetCurrentUser(R):v.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(_){var v=this;return(0,d.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,d.Z)(function*(){try{yield Aa(_)}catch(E){if("auth/network-request-failed"!==E?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Nl(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,d.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,d.Z)(function*(){const E=_?(0,z.m9)(_):null;return E&&Fe(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(_,v=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return _&&Fe(E.tenantId===_.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(_)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(_),E.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,d.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(Cs(_))}))}initializeRecaptchaConfig(){var _=this;return(0,d.Z)(function*(){const v=yield Oa(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Ss(v);null==_.tenantId?_._agentRecaptchaConfig=E:_._tenantRecaptchaConfigs[_.tenantId]=E,E.emailPasswordEnabled&&new Zr(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new z.LL("auth","Firebase",_())}onAuthStateChanged(_,v,E){return this.registerStateListener(this.authStateSubscription,_,v,E)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,E){return this.registerStateListener(this.idTokenSubscription,_,v,E)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var E=this;return(0,d.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(v);return null===_?D.removeCurrentUser():D.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const E=_&&Cs(_)||v._popupRedirectResolver;Fe(E,v,"argument-error"),v.redirectPersistenceManager=yield Tt.create(v,[Cs(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,d.Z)(function*(){var E,D;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===_?v._currentUser:(null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,d.Z)(function*(){if(_===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,E,D){if(this._deleted)return()=>{};const R="function"==typeof v?v:v.next.bind(v),B=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(B,this,"internal-error"),B.then(()=>R(this.currentUser)),"function"==typeof v?_.addObserver(v,E,D):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=ka(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,d.Z)(function*(){var v;const E={"X-Client-Version":_.clientVersion};_.app.options.appId&&(E["X-Firebase-gmpid"]=_.app.options.appId);const D=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();D&&(E["X-Firebase-Client"]=D);const R=yield _._getAppCheckToken();return R&&(E["X-Firebase-AppCheck"]=R),E})()}_getAppCheckToken(){var _=this;return(0,d.Z)(function*(){var v;const E=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return E?.error&&function De(C,..._){te.logLevel<=ve.in.WARN&&te.warn(`Auth (${U.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function $t(C){return(0,z.m9)(C)}class YE{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,z.ne)(v=>this.observer=v)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cu(C,_,v){const E=$t(C);Fe(E._canInitEmulator,E,"emulator-config-failed"),Fe(/^https?:\/\//.test(_),E,"invalid-emulator-scheme");const D=!!v?.disableWarnings,R=yo(_),{host:B,port:q}=function rh(C){const _=yo(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const R=D[1];return{host:R,port:ns(E.substr(R.length+1))}}{const[R,B]=E.split(":");return{host:R,port:ns(B)}}}(_);E.config.emulator={url:`${R}//${B}${null===q?"":`:${q}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:B,port:q,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function ih(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function yo(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function ns(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Pa{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return pr("not implemented")}_getIdTokenResponse(_){return pr("not implemented")}_linkToIdToken(_,v){return pr("not implemented")}_getReauthenticationResolver(_){return pr("not implemented")}}function zp(C,_){return(ie=ie||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:resetPassword",Cn(v,E))})).apply(this,arguments)}function QE(C,_){return(be=be||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function sh(C,_){return(ye=ye||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithPassword",Cn(v,E))})).apply(this,arguments)}function oh(C,_){return($e=$e||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:sendOobCode",Cn(v,E))})).apply(this,arguments)}function iv(C,_){return(wt=wt||(0,d.Z)(function*(v,E){return oh(v,E)})).apply(this,arguments)}function sv(C,_){return(Mt=Mt||(0,d.Z)(function*(v,E){return oh(v,E)})).apply(this,arguments)}class ah extends Pa{constructor(_,v,E,D=null){super("password",E),this._email=_,this._password=v,this._tenantId=D}static _fromEmailAndPassword(_,v){return new ah(_,v,"password")}static _fromEmailAndCode(_,v,E=null){return new ah(_,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,d.Z)(function*(){var E;switch(v.signInMethod){case"password":const R={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=_._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const B=yield ts(_,R,"signInWithPassword");return sh(_,B)}var D;return sh(_,R).catch(function(B){return(D=D||(0,d.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield ts(_,R,"signInWithPassword");return sh(_,se)}return Promise.reject(q)})).apply(this,arguments)});case"emailLink":return function lM(C,_){return(Cr=Cr||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithEmailLink",Cn(v,E))})).apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:je(_,"internal-error")}})()}_linkToIdToken(_,v){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return QE(_,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function cM(C,_){return(ys=ys||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithEmailLink",Cn(v,E))})).apply(this,arguments)}(_,{idToken:v,email:E._email,oobCode:E._password});default:je(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Qo(C,_){return(Bs=Bs||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithIdp",Cn(v,E))})).apply(this,arguments)}class bo extends Pa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new bo(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):je("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:D}=v,R=(0,re._T)(v,["providerId","signInMethod"]);if(!E||!D)return null;const B=new bo(E,D);return B.idToken=R.idToken||void 0,B.accessToken=R.accessToken||void 0,B.secret=R.secret,B.nonce=R.nonce,B.pendingToken=R.pendingToken||null,B}_getIdTokenResponse(_){return Qo(_,this.buildRequest())}_linkToIdToken(_,v){const E=this.buildRequest();return E.idToken=v,Qo(_,E)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Qo(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,z.xO)(v)}return _}}const hM={USER_NOT_FOUND:"user-not-found"};class Xo extends Pa{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Xo({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Xo({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function $p(C,_){return(bs=bs||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Cn(v,E))})).apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function ov(C,_){return(mo=mo||(0,d.Z)(function*(v,E){const D=yield Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Cn(v,E));if(D.temporaryProof)throw Sa(v,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function fM(C,_){return(ae=ae||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithPhoneNumber",Cn(v,Object.assign(Object.assign({},E),{operation:"REAUTH"})),hM)})).apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:E,verificationCode:D}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:E,code:D}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:E,phoneNumber:D,temporaryProof:R}=_;return E||v||D||R?new Xo({verificationId:v,verificationCode:E,phoneNumber:D,temporaryProof:R}):null}}class Na{constructor(_){var v,E,D,R,B,q;const se=(0,z.zd)((0,z.pd)(_)),_e=null!==(v=se.apiKey)&&void 0!==v?v:null,lt=null!==(E=se.oobCode)&&void 0!==E?E:null,ct=function Jo(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=se.mode)&&void 0!==D?D:null);Fe(_e&&lt&&ct,"argument-error"),this.apiKey=_e,this.operation=ct,this.code=lt,this.continueUrl=null!==(R=se.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(B=se.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(q=se.tenantId)&&void 0!==q?q:null}static parseLink(_){const v=function wo(C){const _=(0,z.zd)((0,z.pd)(C)).link,v=_?(0,z.zd)((0,z.pd)(_)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||v||_||C}(_);try{return new Na(v)}catch{return null}}}let ar=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,E){return ah._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const D=Na.parseLink(E);return Fe(D,"argument-error"),ah._fromEmailAndCode(v,D.code,D.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class rs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class lr extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class qs extends lr{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return Fe("providerId"in v&&"signInMethod"in v,"argument-error"),bo._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Fe(_.idToken||_.accessToken,"argument-error"),bo._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return qs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return qs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:R,nonce:B,providerId:q}=_;if(!E&&!D&&!v&&!R||!q)return null;try{return new qs(q)._credential({idToken:v,accessToken:E,nonce:B,pendingToken:R})}catch{return null}}}let av=(()=>{class C extends lr{constructor(){super("facebook.com")}static credential(v){return bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),lv=(()=>{class C extends lr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:D}=v;if(!E&&!D)return null;try{return C.credential(E,D)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Gp=(()=>{class C extends lr{constructor(){super("github.com")}static credential(v){return bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Fa extends Pa{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return Qo(_,this.buildRequest())}_linkToIdToken(_,v){const E=this.buildRequest();return E.idToken=v,Qo(_,E)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,Qo(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:D,pendingToken:R}=v;return E&&D&&R&&E===D?new Fa(E,R):null}static _create(_,v){return new Fa(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class La extends rs{constructor(_){Fe(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return La.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return La.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Fa.fromJSON(_);return Fe(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:E}=_;if(!v||!E)return null;try{return Fa._create(E,v)}catch{return null}}}let cv=(()=>{class C extends lr{constructor(){super("twitter.com")}static credential(v,E){return bo._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=v;if(!E||!D)return null;try{return C.credential(E,D)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function du(C,_){return(de=de||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signUp",Cn(v,E))})).apply(this,arguments)}class Pi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,E,D=!1){return(0,d.Z)(function*(){const R=yield _o._fromIdTokenResponse(_,E,D),B=hu(E);return new Pi({user:R,providerId:B,_tokenResponse:E,operationType:v})})()}static _forOperation(_,v,E){return(0,d.Z)(function*(){yield _._updateTokensIfNecessary(E,!0);const D=hu(E);return new Pi({user:_,providerId:D,_tokenResponse:E,operationType:v})})()}}function hu(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function fu(C){return(me=me||(0,d.Z)(function*(_){var v;const E=$t(_);if(yield E._initializationPromise,null!==(v=E.currentUser)&&void 0!==v&&v.isAnonymous)return new Pi({user:E.currentUser,providerId:null,operationType:"signIn"});const D=yield du(E,{returnSecureToken:!0}),R=yield Pi._fromIdTokenResponse(E,"signIn",D,!0);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ws extends z.ZR{constructor(_,v,E,D){var R;super(v.code,v.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,Ws.prototype),this.customData={appName:_.name,tenantId:null!==(R=_.tenantId)&&void 0!==R?R:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(_,v,E,D){return new Ws(_,v,E,D)}}function qp(C,_,v,E){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ws._fromErrorAndOperation(C,R,_,E):R})}function uv(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function ch(C,_){return(pe=pe||(0,d.Z)(function*(v,E){const D=(0,z.m9)(v);yield Va(!0,D,E);const{providerUserInfo:R}=yield function Lp(C,_){return(W=W||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:update",E)})).apply(this,arguments)}(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[E]}),B=uv(R||[]);return D.providerData=D.providerData.filter(q=>B.has(q.providerId)),B.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function pu(C,_){return(Me=Me||(0,d.Z)(function*(v,E,D=!1){const R=yield es(v,E._linkToIdToken(v.auth,yield v.getIdToken()),D);return Pi._forOperation(v,"link",R)})).apply(this,arguments)}function Va(C,_,v){return(Ue=Ue||(0,d.Z)(function*(E,D,R){yield Aa(D);const q=!1===E?"provider-already-linked":"no-such-provider";Fe(uv(D.providerData).has(R)===E,D.auth,q)})).apply(this,arguments)}function dv(C,_){return(it=it||(0,d.Z)(function*(v,E,D=!1){const{auth:R}=v,B="reauthenticate";try{const q=yield es(v,qp(R,B,E,v),D);Fe(q.idToken,R,"internal-error");const se=ou(q.idToken);Fe(se,R,"internal-error");const{sub:_e}=se;return Fe(v.uid===_e,R,"user-mismatch"),Pi._forOperation(v,B,q)}catch(q){throw"auth/user-not-found"===q?.code&&je(R,"user-mismatch"),q}})).apply(this,arguments)}function eI(C,_){return(qe=qe||(0,d.Z)(function*(v,E,D=!1){const R="signIn",B=yield qp(v,R,E),q=yield Pi._fromIdTokenResponse(v,R,B);return D||(yield v._updateCurrentUser(q.user)),q})).apply(this,arguments)}function mu(C,_){return(qn=qn||(0,d.Z)(function*(v,E){return eI($t(v),E)})).apply(this,arguments)}function uh(C,_){return(yt=yt||(0,d.Z)(function*(v,E){const D=(0,z.m9)(v);return yield Va(!1,D,E.providerId),pu(D,E)})).apply(this,arguments)}function hv(C,_){return(rn=rn||(0,d.Z)(function*(v,E){return dv((0,z.m9)(v),E)})).apply(this,arguments)}function pM(C,_){return(vn=vn||(0,d.Z)(function*(v,E){const D=$t(v),R=yield function Wp(C,_){return(Rt=Rt||(0,d.Z)(function*(v,E){return Ji(v,"POST","/v1/accounts:signInWithCustomToken",Cn(v,E))})).apply(this,arguments)}(D,{token:E,returnSecureToken:!0}),B=yield Pi._fromIdTokenResponse(D,"signIn",R);return yield D._updateCurrentUser(B.user),B})).apply(this,arguments)}class dh{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Ua._fromServerResponse(_,v):"totpInfo"in v?hh._fromServerResponse(_,v):je(_,"internal-error")}}class Ua extends dh{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Ua(v)}}class hh extends dh{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new hh(v)}}function ea(C,_,v){var E;Fe((null===(E=v.url)||void 0===E?void 0:E.length)>0,C,"invalid-continue-uri"),Fe(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Fe(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(Fe(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function fh(C,_,v){return(On=On||(0,d.Z)(function*(E,D,R){var B;const q=$t(E),se={requestType:"PASSWORD_RESET",email:D,clientType:"CLIENT_TYPE_WEB"};if(null!==(B=q._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const lt=yield ts(q,se,"getOobCode",!0);R&&ea(q,lt,R),yield iv(q,lt)}else{var _e;R&&ea(q,se,R),yield iv(q,se).catch(function(lt){return(_e=_e||(0,d.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const pt=yield ts(q,se,"getOobCode",!0);R&&ea(q,pt,R),yield iv(q,pt)}})).apply(this,arguments)})}})).apply(this,arguments)}function zl(C,_,v){return(or=or||(0,d.Z)(function*(E,D,R){yield zp((0,z.m9)(E),{oobCode:D,newPassword:R})})).apply(this,arguments)}function fv(C,_){return(fn=fn||(0,d.Z)(function*(v,E){yield function XE(C,_){return(oe=oe||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:update",Cn(v,E))})).apply(this,arguments)}((0,z.m9)(v),{oobCode:E})})).apply(this,arguments)}function $l(C,_){return(Jn=Jn||(0,d.Z)(function*(v,E){const D=(0,z.m9)(v),R=yield zp(D,{oobCode:E}),B=R.requestType;switch(Fe(B,D,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(R.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(R.mfaInfo,D,"internal-error");default:Fe(R.email,D,"internal-error")}let q=null;return R.mfaInfo&&(q=dh._fromServerResponse($t(D),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:q},operation:B}})).apply(this,arguments)}function pv(C,_){return(Tr=Tr||(0,d.Z)(function*(v,E){const{data:D}=yield $l((0,z.m9)(v),E);return D.email})).apply(this,arguments)}function Zp(C,_,v){return(Si=Si||(0,d.Z)(function*(E,D,R){var B;const q=$t(E),se={returnSecureToken:!0,email:D,password:R,clientType:"CLIENT_TYPE_WEB"};let _e;if(null!==(B=q._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const Wt=yield ts(q,se,"signUpPassword");_e=du(q,Wt)}else{var lt;_e=du(q,se).catch(function(Wt){return(lt=lt||(0,d.Z)(function*(Zn){if("auth/missing-recaptcha-token"===Zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Os=yield ts(q,se,"signUpPassword");return du(q,Os)}return Promise.reject(Zn)})).apply(this,arguments)})}const ct=yield _e.catch(Wt=>Promise.reject(Wt)),pt=yield Pi._fromIdTokenResponse(q,"signIn",ct);return yield q._updateCurrentUser(pt.user),pt})).apply(this,arguments)}function mv(C,_,v){return mu((0,z.m9)(C),ar.credential(_,v))}function Kp(C,_,v){return(pi=pi||(0,d.Z)(function*(E,D,R){var B;const q=$t(E),se={requestType:"EMAIL_SIGNIN",email:D,clientType:"CLIENT_TYPE_WEB"};function _e(ct,pt){Fe(pt.handleCodeInApp,q,"argument-error"),pt&&ea(q,ct,pt)}if(null!==(B=q._getRecaptchaConfig())&&void 0!==B&&B.emailPasswordEnabled){const ct=yield ts(q,se,"getOobCode",!0);_e(ct,R),yield sv(q,ct)}else{var lt;_e(se,R),yield sv(q,se).catch(function(ct){return(lt=lt||(0,d.Z)(function*(pt){if("auth/missing-recaptcha-token"!==pt.code)return Promise.reject(pt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Wt=yield ts(q,se,"getOobCode",!0);_e(Wt,R),yield sv(q,Wt)}})).apply(this,arguments)})}})).apply(this,arguments)}function Yp(C,_){const v=Na.parseLink(_);return"EMAIL_SIGNIN"===v?.operation}function gu(C,_,v){return(Yi=Yi||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E),q=ar.credentialWithLink(D,R||Xi());return Fe(q._tenantId===(B.tenantId||null),B,"tenant-id-mismatch"),mu(B,q)})).apply(this,arguments)}function Qp(C,_){return(Wn=Wn||(0,d.Z)(function*(v,E){const R={identifier:E,continueUri:Pl()?Xi():"http://localhost"},{signinMethods:B}=yield function _u(C,_){return(Ai=Ai||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:createAuthUri",Cn(v,E))})).apply(this,arguments)}((0,z.m9)(v),R);return B||[]})).apply(this,arguments)}function ph(C,_){return(gt=gt||(0,d.Z)(function*(v,E){const D=(0,z.m9)(v),B={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};E&&ea(D.auth,B,E);const{email:q}=yield function JE(C,_){return(Ge=Ge||(0,d.Z)(function*(v,E){return oh(v,E)})).apply(this,arguments)}(D.auth,B);q!==v.email&&(yield v.reload())})).apply(this,arguments)}function vu(C,_,v){return(Lt=Lt||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:D};R&&ea(B.auth,se,R);const{email:_e}=yield function Nn(C,_){return(zt=zt||(0,d.Z)(function*(v,E){return oh(v,E)})).apply(this,arguments)}(B.auth,se);_e!==E.email&&(yield E.reload())})).apply(this,arguments)}function gv(C,_){return(gn=gn||(0,d.Z)(function*(v,{displayName:E,photoURL:D}){if(void 0===E&&void 0===D)return;const R=(0,z.m9)(v),q={idToken:yield R.getIdToken(),displayName:E,photoUrl:D,returnSecureToken:!0},se=yield es(R,function mh(C,_){return(Bt=Bt||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:update",E)})).apply(this,arguments)}(R.auth,q));R.displayName=se.displayName||null,R.photoURL=se.photoUrl||null;const _e=R.providerData.find(({providerId:lt})=>"password"===lt);_e&&(_e.displayName=R.displayName,_e.photoURL=R.photoURL),yield R._updateTokensIfNecessary(se)})).apply(this,arguments)}function gh(C,_){return is((0,z.m9)(C),_,null)}function _v(C,_){return is((0,z.m9)(C),null,_)}function is(C,_,v){return(Mi=Mi||(0,d.Z)(function*(E,D,R){const{auth:B}=E,se={idToken:yield E.getIdToken(),returnSecureToken:!0};D&&(se.email=D),R&&(se.password=R);const _e=yield es(E,QE(B,se));yield E._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class ta{constructor(_,v,E={}){this.isNewUser=_,this.providerId=v,this.profile=E}}class pn extends ta{constructor(_,v,E,D){super(_,v,E),this.username=D}}class Gl extends ta{constructor(_,v){super(_,"facebook.com",v)}}class Ba extends pn{constructor(_,v){super(_,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Kr extends ta{constructor(_,v){super(_,"google.com",v)}}class tI extends pn{constructor(_,v,E){super(_,"twitter.com",v,E)}}function _h(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Xp(C){var _,v;if(!C)return null;const{providerId:E}=C,D=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},R=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!E&&C?.idToken){const B=null===(v=null===(_=ou(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(B)return new ta(R,"anonymous"!==B&&"custom"!==B?B:null)}if(!E)return null;switch(E){case"facebook.com":return new Gl(R,D);case"github.com":return new Ba(R,D);case"google.com":return new Kr(R,D);case"twitter.com":return new tI(R,D,C.screenName||null);case"custom":case"anonymous":return new ta(R,null);default:return new ta(R,E,D)}}(v)}class ra{constructor(_,v,E){this.type=_,this.credential=v,this.auth=E}static _fromIdtoken(_,v){return new ra("enroll",_,v)}static _fromMfaPendingCredential(_){return new ra("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,E;if(_?.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ra._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(E=_.multiFactorSession)&&void 0!==E&&E.idToken)return ra._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Wl{constructor(_,v,E){this.session=_,this.hints=v,this.signInResolver=E}static _fromError(_,v){var E;const D=$t(_),R=v.customData._serverResponse,B=(R.mfaInfo||[]).map(se=>dh._fromServerResponse(D,se));Fe(R.mfaPendingCredential,D,"internal-error");const q=ra._fromMfaPendingCredential(R.mfaPendingCredential);return new Wl(q,B,function(se){return(E=E||(0,d.Z)(function*(_e){const lt=yield _e._process(D,q);delete R.mfaInfo,delete R.mfaPendingCredential;const ct=Object.assign(Object.assign({},R),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(v.operationType){case"signIn":const pt=yield Pi._fromIdTokenResponse(D,v.operationType,ct);return yield D._updateCurrentUser(pt.user),pt;case"reauthenticate":return Fe(v.user,D,"internal-error"),Pi._forOperation(v.user,v.operationType,ct);default:je(D,"internal-error")}})).apply(this,arguments)})}resolveSignIn(_){var v=this;return(0,d.Z)(function*(){return v.signInResolver(_)})()}}function iI(C,_){var v;const E=(0,z.m9)(C),D=_;return Fe(_.customData.operationType,E,"argument-error"),Fe(null===(v=D.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),Wl._fromError(E,D)}class vh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>dh._fromServerResponse(_.auth,E)))})}static _fromUser(_){return new vh(_)}getSession(){var _=this;return(0,d.Z)(function*(){return ra._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,v){var E=this;return(0,d.Z)(function*(){const D=_,R=yield E.getSession(),B=yield es(E.user,D._process(E.user.auth,R,v));return yield E.user._updateTokensIfNecessary(B),E.user.reload()})()}unenroll(_){var v=this;return(0,d.Z)(function*(){const E="string"==typeof _?_:_.uid,D=yield v.user.getIdToken();try{const R=yield es(v.user,function wv(C,_){return Jt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Cn(C,_))}(v.user.auth,{idToken:D,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:B})=>B!==E),yield v.user._updateTokensIfNecessary(R),yield v.user.reload()}catch(R){throw R}})()}}const Zl=new WeakMap;function ia(C){const _=(0,z.m9)(C);return Zl.has(_)||Zl.set(_,vh._fromUser(_)),Zl.get(_)}const Kl="__sak";class Ev{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gt=(()=>{class C extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Iv(){const C=(0,z.z$)();return zs(C)||It(C)}()&&function au(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),R=this.localCache[E];D!==R&&v(E,R,D)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((q,se,_e)=>{this.notifyListeners(q,_e)});const D=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const q=this.storage.getItem(D);if(v.newValue!==q)null!==v.newValue?this.storage.setItem(D,v.newValue):this.storage.removeItem(D);else if(this.localCache[D]===v.newValue&&!E)return}const R=()=>{const q=this.storage.getItem(D);!E&&this.localCache[D]===q||this.notifyListeners(D,q)},B=this.storage.getItem(D);!function $s(){return(0,z.w1)()&&10===document.documentMode}()||B===v.newValue||v.newValue===v.oldValue?R():setTimeout(R,10)}notifyListeners(v,E){this.localCache[v]=E;const D=this.listeners[v];if(D)for(const R of Array.from(D))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var D=()=>super._set,R=this;return(0,d.Z)(function*(){yield D().call(R,v,E),R.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,D=this;return(0,d.Z)(function*(){const R=yield E().call(D,v);return D.localCache[v]=JSON.stringify(R),R})()}_remove(v){var E=()=>super._remove,D=this;return(0,d.Z)(function*(){yield E().call(D,v),delete D.localCache[v]})()}}return C.type="LOCAL",C})(),yu=(()=>{class C extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return C.type="SESSION",C})();let bu=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(R=>R.isListeningto(v));if(E)return E;const D=new C(v);return this.receivers.push(D),D}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,d.Z)(function*(){var D;const R=v,{eventId:B,eventType:q,data:se}=R.data,_e=E.handlersMap[q];if(!_e?.size)return;R.ports[0].postMessage({status:"ack",eventId:B,eventType:q});const lt=Array.from(_e).map(function(pt){return(D=D||(0,d.Z)(function*(Wt){return Wt(R.origin,se)})).apply(this,arguments)}),ct=yield function _r(C){var _;return Promise.all(C.map(function(v){return(_=_||(0,d.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(D){return{fulfilled:!1,reason:D}}})).apply(this,arguments)}))}(lt);R.ports[0].postMessage({status:"done",eventId:B,eventType:q,response:ct})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function As(C="",_=10){let v="";for(let E=0;E<_;E++)v+=Math.floor(10*Math.random());return C+v}class Zs{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,E=50){var D=this;return(0,d.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let B,q;return new Promise((se,_e)=>{const lt=As("",20);R.port1.start();const ct=setTimeout(()=>{_e(new Error("unsupported_event"))},E);q={messageChannel:R,onMessage(pt){const Wt=pt;if(Wt.data.eventId===lt)switch(Wt.data.status){case"ack":clearTimeout(ct),B=setTimeout(()=>{_e(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),se(Wt.data.response);break;default:clearTimeout(ct),clearTimeout(B),_e(new Error("invalid_response"))}}},D.handlers.add(q),R.port1.addEventListener("message",q.onMessage),D.target.postMessage({eventType:_,eventId:lt,data:v},[R.port2])}).finally(()=>{q&&D.removeMessageHandler(q)})})()}}function Fn(){return window}function yh(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}const Ks="firebaseLocalStorageDb",Io="firebaseLocalStorage",Ni="fbase_key";class Yl{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function ja(C,_){return C.transaction([Io],_?"readwrite":"readonly").objectStore(Io)}function im(){const C=indexedDB.open(Ks,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const E=C.result;try{E.createObjectStore(Io,{keyPath:Ni})}catch(D){v(D)}}),C.addEventListener("success",(0,d.Z)(function*(){const E=C.result;E.objectStoreNames.contains(Io)?_(E):(E.close(),yield function rm(){const C=indexedDB.deleteDatabase(Ks);return new Yl(C).toPromise()}(),_(yield im()))}))})}function bh(C,_,v){return(_n=_n||(0,d.Z)(function*(E,D,R){const B=ja(E,!0).put({[Ni]:D,value:R});return new Yl(B).toPromise()})).apply(this,arguments)}function om(C,_){const v=ja(C,!0).delete(_);return new Yl(v).toPromise()}const nr=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield im()),v.db})()}_withRetries(v){var E=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const R=yield E._openDb();return yield v(R)}catch(R){if(D++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return yh()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){var E,D;v.receiver=bu._getInstance(function Qr(){return yh()?self:null}()),v.receiver._subscribe("keyChanged",function(R,B){return(E=E||(0,d.Z)(function*(q,se){return{keyProcessed:(yield v._poll()).includes(se.key)}})).apply(this,arguments)}),v.receiver._subscribe("ping",function(R,B){return(D=D||(0,d.Z)(function*(q,se){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var E,D;if(v.activeServiceWorker=yield function gM(){return(Yt=Yt||(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Zs(v.activeServiceWorker);const R=yield v.sender._send("ping",{},800);R&&null!==(E=R[0])&&void 0!==E&&E.fulfilled&&null!==(D=R[0])&&void 0!==D&&D.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Cv(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield im();return yield bh(v,Kl,"1"),yield om(v,Kl),!0}catch{}return!1})()}_withPendingWrite(v){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(R=>bh(R,v,E)),D.localCache[v]=E,D.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,d.Z)(function*(){const D=yield E._withRetries(R=>function sm(C,_){return(Wo=Wo||(0,d.Z)(function*(v,E){const D=ja(v,!1).get(E),R=yield new Yl(D).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}(R,v));return E.localCache[v]=D,D})()}_remove(v){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(D=>om(D,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const E=yield v._withRetries(B=>{const q=ja(B,!1).getAll();return new Yl(q).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const D=[],R=new Set;for(const{fbase_key:B,value:q}of E)R.add(B),JSON.stringify(v.localCache[B])!==JSON.stringify(q)&&(v.notifyListeners(B,q),D.push(B));for(const B of Object.keys(v.localCache))v.localCache[B]&&!R.has(B)&&(v.notifyListeners(B,null),D.push(B));return D})()}notifyListeners(v,E){this.localCache[v]=E;const D=this.listeners[v];if(D)for(const R of Array.from(D))R(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),wu=1e12;class Dv{constructor(_){this.auth=_,this.counter=wu,this._widgets=new Map}render(_,v){const E=this.counter;return this._widgets.set(E,new Fr(_,this.auth.name,v||{})),this.counter++,E}reset(_){var v;const E=_||wu;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(_){var v;return(null===(v=this._widgets.get(_||wu))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,d.Z)(function*(){var E;return null===(E=v._widgets.get(_||wu))||void 0===E||E.execute(),""})()}}class Fr{constructor(_,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof _?document.getElementById(_):_;Fe(D,"argument-error",{appName:v}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sa(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<C;E++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yn=Ht("rcb"),Sv=new Zo(3e4,6e4);class Et{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Fn().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return Fe(function Av(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&th(Fn().grecaptcha)?Promise.resolve(Fn().grecaptcha):new Promise((E,D)=>{const R=Fn().setTimeout(()=>{D(st(_,"network-request-failed"))},Sv.get());Fn()[yn]=()=>{Fn().clearTimeout(R),delete Fn()[yn];const q=Fn().grecaptcha;if(!q||!th(q))return void D(st(_,"internal-error"));const se=q.render;q.render=(_e,lt)=>{const ct=se(_e,lt);return this.counter++,ct},this.hostLanguage=v,E(q)},Gs(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:yn,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(R),D(st(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=Fn().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cm{load(_){return(0,d.Z)(function*(){return new Dv(_)})()}clearedOneInstance(){}}const Xl="recaptcha",xo={theme:"light",type:"image"};class Ys{constructor(_,v=Object.assign({},xo),E){this.parameters=v,this.type=Xl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(E),this.isInvisible="invisible"===this.parameters.size,Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof _?document.getElementById(_):_;Fe(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cm:new Et,this.validateStartingState()}verify(){var _=this;return(0,d.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),E=_.getAssertedRecaptcha();return E.getResponse(v)||new Promise(R=>{const B=q=>{q&&(_.tokenChangeListeners.delete(B),R(q))};_.tokenChangeListeners.add(B),_.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof _)_(v);else if("string"==typeof _){const E=Fn()[_];"function"==typeof E&&E(v)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,d.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,d.Z)(function*(){Fe(Pl()&&!yh(),_.auth,"internal-error"),yield function vr(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function Ds(C){return(ze=ze||(0,d.Z)(function*(_){return(yield Jt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(_.auth);Fe(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ha{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Xo._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function oa(C,_,v){return(Qt=Qt||(0,d.Z)(function*(E,D,R){const B=$t(E),q=yield Jl(B,D,(0,z.m9)(R));return new Ha(q,se=>mu(B,se))})).apply(this,arguments)}function Eu(C,_,v){return(ws=ws||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E);yield Va(!1,B,"phone");const q=yield Jl(B.auth,D,(0,z.m9)(R));return new Ha(q,se=>uh(B,se))})).apply(this,arguments)}function Iu(C,_,v){return(nn=nn||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E),q=yield Jl(B.auth,D,(0,z.m9)(R));return new Ha(q,se=>hv(B,se))})).apply(this,arguments)}function Jl(C,_,v){return(Es=Es||(0,d.Z)(function*(E,D,R){var B;const q=yield R.verify();try{let se;if(Fe("string"==typeof q,E,"argument-error"),Fe(R.type===Xl,E,"argument-error"),se="string"==typeof D?{phoneNumber:D}:D,"session"in se){const _e=se.session;if("phoneNumber"in se)return Fe("enroll"===_e.type,E,"internal-error"),(yield function Dt(C,_){return Jt(C,"POST","/v2/accounts/mfaEnrollment:start",Cn(C,_))}(E,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{Fe("signin"===_e.type,E,"internal-error");const lt=(null===(B=se.multiFactorHint)||void 0===B?void 0:B.uid)||se.multiFactorUid;return Fe(lt,E,"missing-multi-factor-info"),(yield function Xr(C,_){return Jt(C,"POST","/v2/accounts/mfaSignIn:start",Cn(C,_))}(E,{mfaPendingCredential:_e.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield function dM(C,_){return(sr=sr||(0,d.Z)(function*(v,E){return Jt(v,"POST","/v1/accounts:sendVerificationCode",Cn(v,E))})).apply(this,arguments)}(E,{phoneNumber:se.phoneNumber,recaptchaToken:q});return _e}}finally{R._reset()}})).apply(this,arguments)}function ec(C,_){return(Tn=Tn||(0,d.Z)(function*(v,E){yield pu((0,z.m9)(v),E)})).apply(this,arguments)}let tc=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=$t(v)}verifyPhoneNumber(v,E){return Jl(this.auth,v,(0,z.m9)(E))}static credential(v,E){return Xo._fromVerification(v,E)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:D}=v;return E&&D?Xo._fromTokenResponse(E,D):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Fi(C,_){return _?Cs(_):(Fe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Ms extends Pa{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Qo(_,this._buildIdpRequest())}_linkToIdToken(_,v){return Qo(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return Qo(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function za(C){return eI(C.auth,new Ms(C),C.bypassAuthState)}function Mv(C){const{auth:_,user:v}=C;return Fe(v,_,"internal-error"),dv(v,new Ms(C),C.bypassAuthState)}function wh(C){return(er=er||(0,d.Z)(function*(_){const{auth:v,user:E}=_;return Fe(E,v,"internal-error"),pu(E,new Ms(_),_.bypassAuthState)})).apply(this,arguments)}class $a{constructor(_,v,E,D,R=!1){this.auth=_,this.resolver=E,this.user=D,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var v,_=this;return new Promise(function(E,D){return(v=v||(0,d.Z)(function*(R,B){_.pendingPromise={resolve:R,reject:B};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(q){_.reject(q)}})).apply(this,arguments)})}onAuthEvent(_){var v=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:R,tenantId:B,error:q,type:se}=_;if(q)return void v.reject(q);const _e={auth:v.auth,requestUri:E,sessionId:D,tenantId:B||void 0,postBody:R||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(se)(_e))}catch(lt){v.reject(lt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return za;case"linkViaPopup":case"linkViaRedirect":return wh;case"reauthViaPopup":case"reauthViaRedirect":return Mv;default:je(this.auth,"internal-error")}}resolve(_){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new Zo(2e3,1e4);function Xs(C,_,v){return(js=js||(0,d.Z)(function*(E,D,R){const B=$t(E);Mn(E,D,rs);const q=Fi(B,R);return new Ga(B,"signInViaPopup",D,q).executeNotNull()})).apply(this,arguments)}function Lr(C,_,v){return(Or=Or||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E);Mn(B.auth,D,rs);const q=Fi(B.auth,R);return new Ga(B.auth,"reauthViaPopup",D,q,B).executeNotNull()})).apply(this,arguments)}function um(C,_,v){return(mi=mi||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E);Mn(B.auth,D,rs);const q=Fi(B.auth,R);return new Ga(B.auth,"linkViaPopup",D,q,B).executeNotNull()})).apply(this,arguments)}let Ga=(()=>{class C extends $a{constructor(v,E,D,R,B){super(v,E,R,B),this.provider=D,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const E=yield v.execute();return Fe(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,d.Z)(function*(){Dr(1===v.filter.length,"Popup operations only handle one event");const E=As();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(D=>{v.reject(D)}),v.resolver._isIframeWebStorageSupported(v.auth,D=>{D||v.reject(st(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,D;this.pollId=null!==(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Qs.get())};v()}}return C.currentPopupAction=null,C})();const qt="pendingRedirect",Ln=new Map;class ei extends $a{constructor(_,v,E=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,d.Z)(function*(){let E=Ln.get(v.auth._key());if(!E){try{const R=(yield function aa(C,_){return(Is=Is||(0,d.Z)(function*(v,E){const D=dm(E),R=xu(v);if(!(yield R._isAvailable()))return!1;const B="true"===(yield R._get(D));return yield R._remove(D),B})).apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;E=()=>Promise.resolve(R)}catch(D){E=()=>Promise.reject(D)}Ln.set(v.auth._key(),E)}return v.bypassAuthState||Ln.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(E,_);if("unknown"!==_.type){if(_.eventId){const D=yield E.auth._redirectUserForId(_.eventId);if(D)return E.user=D,v().call(E,_);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Vn(C,_){return(Qi=Qi||(0,d.Z)(function*(v,E){return xu(v)._set(dm(E),"true")})).apply(this,arguments)}function Vr(){Ln.clear()}function qa(C,_){Ln.set(C._key(),_)}function xu(C){return Cs(C._redirectPersistence)}function dm(C){return Ke(qt,C.config.apiKey,C.name)}function yr(C,_,v){return function Wa(C,_,v){return(Gr=Gr||(0,d.Z)(function*(E,D,R){const B=$t(E);Mn(E,D,rs),yield B._initializationPromise;const q=Fi(B,R);return yield Vn(q,B),q._openRedirect(B,D,"signInViaRedirect")})).apply(this,arguments)}(C,_,v)}function Sn(C,_,v){return function Rs(C,_,v){return(qr=qr||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E);Mn(B.auth,D,rs),yield B.auth._initializationPromise;const q=Fi(B.auth,R);yield Vn(q,B.auth);const se=yield Ih(B);return q._openRedirect(B.auth,D,"reauthViaRedirect",se)})).apply(this,arguments)}(C,_,v)}function hm(C,_,v){return function la(C,_,v){return(Ri=Ri||(0,d.Z)(function*(E,D,R){const B=(0,z.m9)(E);Mn(B.auth,D,rs),yield B.auth._initializationPromise;const q=Fi(B.auth,R);yield Va(!1,B,D.providerId),yield Vn(q,B.auth);const se=yield Ih(B);return q._openRedirect(B.auth,D,"linkViaRedirect",se)})).apply(this,arguments)}(C,_,v)}function nc(C,_){return(go=go||(0,d.Z)(function*(v,E){return yield $t(v)._initializationPromise,Eh(v,E,!1)})).apply(this,arguments)}function Eh(C,_){return(G=G||(0,d.Z)(function*(v,E,D=!1){const R=$t(v),B=Fi(R,E),se=yield new ei(R,B,D).execute();return se&&!D&&(delete se.user._redirectEventId,yield R._persistUserIfCurrent(se.user),yield R._setRedirectUser(null,E)),se})).apply(this,arguments)}function Ih(C){return($=$||(0,d.Z)(function*(_){const v=As(`${_.uid}:::`);return _._redirectEventId=v,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),v})).apply(this,arguments)}class xh{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(_,E)&&(v=!0,this.sendToConsumer(_,E),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Co(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pt(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var E;if(_.error&&!Pt(_)){const D=(null===(E=_.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(st(this.auth,D))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const E=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&E}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(_))}saveEventToCache(_){this.cachedEventUids.add(ss(_)),this.lastProcessedEventTime=Date.now()}}function ss(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Pt({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function To(C){return(P=P||(0,d.Z)(function*(_,v={}){return Jt(_,"GET","/v1/projects",v)})).apply(this,arguments)}const Za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fm=/^https?/;function ti(C){const _=Xi(),{protocol:v,hostname:E}=new URL(_);if(C.startsWith("chrome-extension://")){const B=new URL(C);return""===B.hostname&&""===E?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&B.hostname===E}if(!fm.test(v))return!1;if(Za.test(C))return E===C;const D=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const mm=new Zo(3e4,6e4);function br(){const C=Fn().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let ic=null;const gm=new Zo(5e3,15e3),Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ca=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ua(C){const _=C.config;Fe(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?Fl(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,E={apiKey:_.apiKey,appName:C.name,v:U.SDK_VERSION},D=ca.get(C.config.apiHost);D&&(E.eid=D);const R=C._getFrameworks();return R.length&&(E.fw=R.join(",")),`${v}?${(0,z.xO)(E).slice(1)}`}const So={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kv{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lI="__/auth/handler",Ch="emulator/auth/handler",ks=encodeURIComponent("fac");function Au(C,_,v,E,D,R){return(Q=Q||(0,d.Z)(function*(B,q,se,_e,lt,ct){Fe(B.config.authDomain,B,"auth-domain-config-required"),Fe(B.config.apiKey,B,"invalid-api-key");const pt={apiKey:B.config.apiKey,appName:B.name,authType:se,redirectUrl:_e,v:U.SDK_VERSION,eventId:lt};if(q instanceof rs){q.setDefaultLanguage(B.languageCode),pt.providerId=q.providerId||"",(0,z.xb)(q.getCustomParameters())||(pt.customParameters=JSON.stringify(q.getCustomParameters()));for(const[vi,os]of Object.entries(ct||{}))pt[vi]=os}if(q instanceof lr){const vi=q.getScopes().filter(os=>""!==os);vi.length>0&&(pt.scopes=vi.join(","))}B.tenantId&&(pt.tid=B.tenantId);const Wt=pt;for(const vi of Object.keys(Wt))void 0===Wt[vi]&&delete Wt[vi];const Zn=yield B._getAppCheckToken(),Os=Zn?`#${ks}=${encodeURIComponent(Zn)}`:"";return`${function Mu({config:C}){return C.emulator?Fl(C,Ch):`https://${C.authDomain}/${lI}`}(B)}?${(0,z.xO)(Wt).slice(1)}${Os}`})).apply(this,arguments)}const Un="webStorageSupport",Js=class Th{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yu,this._completeRedirectFn=Eh,this._overrideRedirectResult=qa}_openPopup(_,v,E,D){var R=this;return(0,d.Z)(function*(){var B;Dr(null===(B=R.eventManagers[_._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const q=yield Au(_,v,E,Xi(),D);return function Su(C,_,v,E=500,D=600){const R=Math.max((window.screen.availHeight-D)/2,0).toString(),B=Math.max((window.screen.availWidth-E)/2,0).toString();let q="";const se=Object.assign(Object.assign({},So),{width:E.toString(),height:D.toString(),top:R,left:B}),_e=(0,z.z$)().toLowerCase();v&&(q=Sr(_e)?"_blank":v),Wr(_e)&&(_=_||"http://localhost",se.scrollbars="yes");const lt=Object.entries(se).reduce((pt,[Wt,Zn])=>`${pt}${Wt}=${Zn},`,"");if(function jp(C=(0,z.z$)()){var _;return It(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(_e)&&"_self"!==q)return function vm(C,_){const v=document.createElement("a");v.href=C,v.target=_;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(_||"",q),new kv(null);const ct=window.open(_||"",q,lt);Fe(ct,C,"popup-blocked");try{ct.focus()}catch{}return new kv(ct)}(_,q,As())})()}_openRedirect(_,v,E,D){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(_),function nm(C){Fn().location.href=C}(yield Au(_,v,E,Xi(),D)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:D,promise:R}=this.eventManagers[v];return D?Promise.resolve(D):(Dr(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(_);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(_){var v=this;return(0,d.Z)(function*(){const E=yield function sc(C){return(O=O||(0,d.Z)(function*(_){const v=yield function Cu(C){return ic=ic||function Do(C){return new Promise((_,v)=>{var E,D,R;function B(){br(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{br(),v(st(C,"network-request-failed"))},timeout:mm.get()})}if(null!==(D=null===(E=Fn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==D&&D.Iframe)_(gapi.iframes.getContext());else{if(null===(R=Fn().gapi)||void 0===R||!R.load){const q=Ht("iframefcb");return Fn()[q]=()=>{gapi.load?B():v(st(C,"network-request-failed"))},Gs(`https://apis.google.com/js/api.js?onload=${q}`).catch(se=>v(se))}B()}}).catch(_=>{throw ic=null,_})}(C),ic}(_),E=Fn().gapi;return Fe(E,_,"internal-error"),v.open({where:document.body,url:ua(_),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},D=>{var R;return new Promise(function(B,q){return(R=R||(0,d.Z)(function*(se,_e){yield D.restyle({setHideOnLeave:!1});const lt=st(_,"network-request-failed"),ct=Fn().setTimeout(()=>{_e(lt)},gm.get());function pt(){Fn().clearTimeout(ct),se(D)}D.ping(pt).then(pt,()=>{_e(lt)})})).apply(this,arguments)})})})).apply(this,arguments)}(_),D=new xh(_);return E.register("authEvent",R=>(Fe(R?.authEvent,_,"invalid-auth-event"),{status:D.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:D},v.iframes[_._key()]=E,D})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Un,{type:Un},D=>{var R;const B=null===(R=D?.[0])||void 0===R?void 0:R[Un];void 0!==B&&v(!!B),je(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function pm(C){return(N=N||(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:v}=yield To(_);for(const E of v)try{if(ti(E))return}catch{}je(_,"unauthorized-domain")})).apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Pn()||zs()||It()}};class ym{constructor(_){this.factorId=_}_process(_,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,E);case"signin":return this._finalizeSignIn(_,v.credential);default:return pr("unexpected MultiFactorSessionType")}}}class Ur extends ym{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ur(_)}_finalizeEnroll(_,v,E){return function em(C,_){return Jt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(C,_))}(_,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function lm(C,_){return Jt(C,"POST","/v2/accounts/mfaSignIn:finalize",Cn(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qa=(()=>{class C{constructor(){}static assertion(v){return Ur._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Pv="@firebase/auth";class cI{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(E=>{_(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nv=(0,z.Pz)("authIdTokenMaxAge")||300;let ku=null;const Fv=C=>{var _;return function(v){return(_=_||(0,d.Z)(function*(E){const D=E&&(yield E.getIdTokenResult()),R=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(R&&R>Nv)return;const B=D?.token;ku!==B&&(ku=B,yield fetch(C,{method:B?"POST":"DELETE",headers:B?{Authorization:`Bearer ${B}`}:{}}))})).apply(this,arguments)}};function da(C=(0,U.getApp)()){const _=(0,U._getProvider)(C,"auth");if(_.isInitialized())return _.getImmediate();const v=function gi(C,_){const v=(0,U._getProvider)(C,"auth");if(v.isInitialized()){const D=v.getImmediate(),R=v.getOptions();if((0,z.vZ)(R,_??{}))return D;je(D,"already-initialized")}return v.initialize({options:_})}(C,{popupRedirectResolver:Js,persistence:[nr,Gt,yu]}),E=(0,z.Pz)("authTokenSyncURL");if(E){const R=Fv(E);(function vv(C,_,v){(0,z.m9)(C).beforeAuthStateChanged(_,v)})(v,R,()=>R(v.currentUser)),function Jp(C,_,v,E){(0,z.m9)(C).onIdTokenChanged(_,v,E)}(v,B=>R(B))}const D=(0,z.q4)("auth");return D&&cu(v,`http://${D}`),v}!function Dh(C){(0,U._registerComponent)(new he.wA("auth",(_,{options:v})=>{const E=_.getProvider("app").getImmediate(),D=_.getProvider("heartbeat"),R=_.getProvider("app-check-internal"),{apiKey:B,authDomain:q}=E.options;Fe(B&&!B.includes(":"),"invalid-api-key",{appName:E.name});const se={apiKey:B,authDomain:q,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ka(C)},_e=new jl(E,D,R,se);return function Nr(C,_){const v=_?.persistence||[],E=(Array.isArray(v)?v:[v]).map(Cs);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(E,_?.popupRedirectResolver)}(_e,v),_e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,E)=>{_.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new he.wA("auth-internal",_=>{const v=$t(_.getProvider("auth").getImmediate());return new cI(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Pv,"0.23.2",function _i(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,U.registerVersion)(Pv,"0.23.2","esm2017")}("Browser")},9058:(ft,Ce,L)=>{L.d(Ce,{$s:()=>Gr,BH:()=>oe,G6:()=>mo,L:()=>Re,LL:()=>Ue,P0:()=>vt,Pz:()=>be,Sg:()=>ye,UG:()=>wt,US:()=>he,ZB:()=>ee,ZR:()=>Me,aH:()=>ie,b$:()=>Cr,eu:()=>de,hl:()=>ae,jU:()=>Mt,m9:()=>go,ne:()=>gn,pd:()=>Lt,q4:()=>ut,r3:()=>fn,ru:()=>zt,tV:()=>H,uI:()=>Ge,vZ:()=>pi,w1:()=>Bs,xO:()=>Wn,xb:()=>Tr,z$:()=>$e,zI:()=>me,zd:()=>gt});const re=function(G){const $=[];let P=0;for(let N=0;N<G.length;N++){let O=G.charCodeAt(N);O<128?$[P++]=O:O<2048?($[P++]=O>>6|192,$[P++]=63&O|128):55296==(64512&O)&&N+1<G.length&&56320==(64512&G.charCodeAt(N+1))?(O=65536+((1023&O)<<10)+(1023&G.charCodeAt(++N)),$[P++]=O>>18|240,$[P++]=O>>12&63|128,$[P++]=O>>6&63|128,$[P++]=63&O|128):($[P++]=O>>12|224,$[P++]=O>>6&63|128,$[P++]=63&O|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let O=0;O<G.length;O+=3){const Q=G[O],ge=O+1<G.length,Be=ge?G[O+1]:0,Ot=O+2<G.length,et=Ot?G[O+2]:0;let ln=(15&Be)<<2|et>>6,an=63&et;Ot||(an=64,ge||(ln=64)),N.push(P[Q>>2],P[(3&Q)<<4|Be>>4],P[ln],P[an])}return N.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(re(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let P=0,N=0;for(;P<G.length;){const O=G[P++];if(O<128)$[N++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=G[P++];$[N++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const Ot=((7&O)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;$[N++]=String.fromCharCode(55296+(Ot>>10)),$[N++]=String.fromCharCode(56320+(1023&Ot))}else{const Q=G[P++],ge=G[P++];$[N++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&ge)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const P=$?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let O=0;O<G.length;){const Q=P[G.charAt(O++)],Be=O<G.length?P[G.charAt(O)]:0;++O;const et=O<G.length?P[G.charAt(O)]:64;++O;const bt=O<G.length?P[G.charAt(O)]:64;if(++O,null==Q||null==Be||null==et||null==bt)throw new He;N.push(Q<<2|Be>>4),64!==et&&(N.push(Be<<4&240|et>>2),64!==bt&&N.push(et<<6&192|bt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class He extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(G){return function(G){const $=re(G);return he.encodeByteArray($,!0)}(G).replace(/\./g,"")},H=function(G){try{return he.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ee(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const P in $)!$.hasOwnProperty(P)||!ke(P)||(G[P]=ee(G[P],$[P]));return G}function ke(G){return"__proto__"!==G}const ze=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&H(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ut=G=>{var $,P;return null===(P=null===($=ze())||void 0===$?void 0:$.emulatorHosts)||void 0===P?void 0:P[G]},vt=G=>{const $=ut(G);if(!$)return;const P=$.lastIndexOf(":");if(P<=0||P+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const N=parseInt($.substring(P+1),10);return"["===$[0]?[$.substring(1,P-1),N]:[$.substring(0,P),N]},ie=()=>{var G;return null===(G=ze())||void 0===G?void 0:G.config},be=G=>{var $;return null===($=ze())||void 0===$?void 0:$[`_${G}`]};class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,P)=>{this.resolve=$,this.reject=P})}wrapCallback($){return(P,N)=>{P?this.reject(P):this.resolve(N),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(P):$(P,N))}}}function ye(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=$||"demo-project",O=G.iat||0,Q=G.sub||G.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ge=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:O,exp:O+3600,auth_time:O,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(ge)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function wt(){var G;const $=null===(G=ze())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function zt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bs(){const G=$e();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function mo(){return!wt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((G,$)=>{try{let P=!0;const N="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(N);O.onsuccess=()=>{O.result.close(),P||self.indexedDB.deleteDatabase(N),G(!0)},O.onupgradeneeded=()=>{P=!1},O.onerror=()=>{var Q;$((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(P){$(P)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor($,P,N){super(P),this.code=$,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor($,P,N){this.service=$,this.serviceName=P,this.errors=N}create($,...P){const N=P[0]||{},O=`${this.service}/${$}`,Q=this.errors[$],ge=Q?function it(G,$){return G.replace(qe,(P,N)=>{const O=$[N];return null!=O?String(O):`<${N}?>`})}(Q,N):"Error";return new Me(O,`${this.serviceName}: ${ge} (${O}).`,N)}}const qe=/\{\$([^}]+)}/g;function fn(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function Tr(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function pi(G,$){if(G===$)return!0;const P=Object.keys(G),N=Object.keys($);for(const O of P){if(!N.includes(O))return!1;const Q=G[O],ge=$[O];if(Yi(Q)&&Yi(ge)){if(!pi(Q,ge))return!1}else if(Q!==ge)return!1}for(const O of N)if(!P.includes(O))return!1;return!0}function Yi(G){return null!==G&&"object"==typeof G}function Wn(G){const $=[];for(const[P,N]of Object.entries(G))Array.isArray(N)?N.forEach(O=>{$.push(encodeURIComponent(P)+"="+encodeURIComponent(O))}):$.push(encodeURIComponent(P)+"="+encodeURIComponent(N));return $.length?"&"+$.join("&"):""}function gt(G){const $={};return G.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[O,Q]=N.split("=");$[decodeURIComponent(O)]=decodeURIComponent(Q)}}),$}function Lt(G){const $=G.indexOf("?");if(!$)return"";const P=G.indexOf("#",$);return G.substring($,P>0?P:void 0)}function gn(G,$){const P=new Mi(G,$);return P.subscribe.bind(P)}class Mi{constructor($,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{$(this)}).catch(N=>{this.error(N)})}next($){this.forEachObserver(P=>{P.next($)})}error($){this.forEachObserver(P=>{P.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,P,N){let O;if(void 0===$&&void 0===P&&void 0===N)throw new Error("Missing Observer.");O=function Yt(G,$){if("object"!=typeof G||null===G)return!1;for(const P of $)if(P in G&&"function"==typeof G[P])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:P,complete:N},void 0===O.next&&(O.next=_n),void 0===O.error&&(O.error=_n),void 0===O.complete&&(O.complete=_n);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,$)}sendOne($,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{P(this.observers[$])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}const Or=1e3,mi=2,Is=144e5,Qi=.5;function Gr(G,$=Or,P=mi){const N=$*Math.pow(P,G),O=Math.round(Qi*N*(Math.random()-.5)*2);return Math.min(Is,N+O)}function go(G){return G&&G._delegate?G._delegate:G}},5285:(ft,Ce,L)=>{var d=L(5879);let z=null;function U(){return z}class ve{}const he=new d.OlP("DocumentToken");let He=(()=>{var r;class e{historyGo(n){throw new Error("Not implemented")}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(Re)},providedIn:"platform"}),e})();const Ze=new d.OlP("Location Initialized");let Re=(()=>{var r;class e extends He{constructor(){super(),this._doc=(0,d.f3M)(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=U().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return new r},providedIn:"platform"}),e})();function H(r,e){if(0==r.length)return e;if(0==e.length)return r;let t=0;return r.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?r+e.substring(1):1==t?r+e:r+"/"+e}function W(r){const e=r.match(/#|\?|$/),t=e&&e.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function ee(r){return r&&"?"!==r[0]?"?"+r:r}let ke=(()=>{var r;class e{historyGo(n){throw new Error("Not implemented")}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(nt)},providedIn:"root"}),e})();const Ve=new d.OlP("appBaseHref");let nt=(()=>{var r;class e extends ke{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return H(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+ee(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,l){const h=this.prepareExternalUrl(o+ee(l));this._platformLocation.pushState(n,i,h)}replaceState(n,i,o,l){const h=this.prepareExternalUrl(o+ee(l));this._platformLocation.replaceState(n,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(He),d.LFG(Ve,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),Te=(()=>{var r;class e extends ke{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=H(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,l){let h=this.prepareExternalUrl(o+ee(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,i,h)}replaceState(n,i,o,l){let h=this.prepareExternalUrl(o+ee(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(He),d.LFG(Ve,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})(),Ae=(()=>{var r;class e{constructor(n){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function ie(r){if(new RegExp("^(https?:)?//").test(r)){const[,t]=r.split(/\/\/[^\/]+/);return t}return r}(W(vt(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ee(i))}normalize(n){return e.stripTrailingSlash(function ut(r,e){if(!r||!e.startsWith(r))return e;const t=e.substring(r.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,vt(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ee(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ee(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}}return(r=e).normalizeQueryParams=ee,r.joinWithSlash=H,r.stripTrailingSlash=W,r.\u0275fac=function(n){return new(n||r)(d.LFG(ke))},r.\u0275prov=d.Yz7({token:r,factory:function(){return function ze(){return new Ae((0,d.LFG)(ke))}()},providedIn:"root"}),e})();function vt(r){return r.replace(/\/index.html$/,"")}class Nl{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zo=(()=>{var r;class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((o,l,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Nl(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,h),Fl(p,o)}});for(let o=0,l=i.length;o<l;o++){const p=i.get(o).context;p.index=o,p.count=l,p.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{Fl(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,i){return!0}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},r.\u0275dir=d.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Fl(r,e){r.context.$implicit=e.item}let Ko=(()=>{var r;class e{constructor(n,i){this._viewContainer=n,this._context=new ev,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Cn("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Cn("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.s_b),d.Y36(d.Rgc))},r.\u0275dir=d.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class ev{constructor(){this.$implicit=null,this.ngIf=null}}function Cn(r,e){if(e&&!e.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Jt{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ll=(()=>{var r;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Ji=(()=>{var r;class e{constructor(n,i,o){this.ngSwitch=o,o._addCase(),this._view=new Jt(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Ll,9))},r.\u0275dir=d.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Vp=(()=>{var r;class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:h}=this;this._viewRef=i.createEmbeddedView(o,l,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.s_b))},r.\u0275dir=d.lG2({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),e})(),En=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();const Ts="browser";function $s(r){return"server"===r}let Ds=(()=>{var r;class e{}return(r=e).\u0275prov=(0,d.Yz7)({token:r,providedIn:"root",factory:()=>new Oa((0,d.LFG)(he),window)}),e})();class Oa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function th(r,e){const t=r.getElementById(e)||r.getElementsByName(e)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(l)return l}i=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ea extends ve{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fh extends ea{static makeCurrent(){!function re(r){z||(z=r)}(new fh)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fv(){return zl=zl||document.querySelector("base"),zl?zl.getAttribute("href"):null}();return null==t?null:function pv(r){$l=$l||document.createElement("a"),$l.setAttribute("href",r);const e=$l.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function pr(r,e){e=encodeURIComponent(e);for(const t of r.split(";")){const n=t.indexOf("="),[i,o]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let $l,zl=null,mv=(()=>{var r;class e{build(){return new XMLHttpRequest}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const Kp=new d.OlP("EventManagerPlugins");let Yp=(()=>{var r;class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(l=>l.supports(n)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(Kp),d.LFG(d.R0b))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();class gu{constructor(e){this._doc=e}}const _u="ng-app-id";let Qp=(()=>{var r;class e{constructor(n,i,o,l={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$s(l),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_u}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const l=o.get(n);return l.usage+=i,l.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===n)return o.delete(i),l.removeAttribute(_u),l;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(_u,this.appId),h}}addStyleToHost(n,i){const o=this.getStyleElement(n,i);n.appendChild(o);const l=this.styleRef,h=l.get(i)?.elements;h?h.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vu=/%COMP%/g,is=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function pn(r,e){return e.map(t=>t.replace(vu,r))}let Gl=(()=>{var r;class e{constructor(n,i,o,l,h,p,g,w=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=h,this.platformId=p,this.ngZone=g,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=$s(p),this.defaultRenderer=new Ba(n,h,g,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof Jp?o.applyToHost(n):o instanceof Yr&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const h=this.doc,p=this.ngZone,g=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,S=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:l=new Jp(g,w,i,this.appId,x,h,p,S);break;case d.ifc.ShadowDom:return new ql(g,w,n,i,h,p,this.nonce,S);default:l=new Yr(g,w,i,x,h,p,S)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(Yp),d.LFG(Qp),d.LFG(d.AFp),d.LFG(is),d.LFG(he),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();class Ba{constructor(e,t,n,i){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ph[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_h(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(_h(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new d.vHH(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const o=ph[i];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=ph[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,n,i&d.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){if("string"==typeof e&&!(e=U().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _h(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class ql extends Ba{constructor(e,t,n,i,o,l,h,p){super(e,o,l,p),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=pn(i.id,i.styles);for(const w of g){const x=document.createElement("style");h&&x.setAttribute("nonce",h),x.textContent=w,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yr extends Ba{constructor(e,t,n,i,o,l,h,p){super(e,o,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=p?pn(p,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jp extends Yr{constructor(e,t,n,i,o,l,h,p){const g=i+"-"+n.id;super(e,t,n,o,l,h,p,g),this.contentAttr=function Xp(r){return"_ngcontent-%COMP%".replace(vu,r)}(g),this.hostAttr=function ta(r){return"_nghost-%COMP%".replace(vu,r)}(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}let vv=(()=>{var r;class e extends gu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const yv=["alt","control","meta","shift"],na={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bv={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let nI=(()=>{var r;class e extends gu{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,o){const l=e.parseEventName(i),h=e.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=e._normalizeKey(i.pop());let h="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),h="code."),yv.forEach(w=>{const x=i.indexOf(w);x>-1&&(i.splice(x,1),h+=w+".")}),h+=l,0!=i.length||0===l.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static matchEventFullKeyCode(n,i){let o=na[n.key]||n.key,l="";return i.indexOf("code.")>-1&&(o=n.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),yv.forEach(h=>{h!==o&&(0,bv[h])(n)&&(l+=h+".")}),l+=o,l===i)}static eventCallback(n,i,o){return l=>{e.matchEventFullKeyCode(l,n)&&o.runGuarded(()=>i(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const wv=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Ts},{provide:d.g9A,useValue:function Dt(){fh.makeCurrent()},multi:!0},{provide:he,useFactory:function mM(){return(0,d.RDi)(document),document},deps:[]}]),vh=new d.OlP(""),Zl=[{provide:d.rWj,useClass:class Zp{addToWindow(e){d.dqk.getAngularTestability=(n,i=!0)=>{const o=e.findTestabilityInTree(n,i);if(null==o)throw new d.vHH(5103,!1);return o},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(n=>{const i=d.dqk.getAllAngularTestabilities();let o=i.length,l=!1;const h=function(p){l=l||p,o--,0==o&&n(l)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,n){return null==t?null:e.getTestability(t)??(n?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ia=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function em(){return new d.qLn},deps:[]},{provide:Kp,useClass:vv,multi:!0,deps:[he,d.R0b,d.Lbi]},{provide:Kp,useClass:nI,multi:!0,deps:[he]},Gl,Qp,Yp,{provide:d.FYo,useExisting:Gl},{provide:class Ss{},useClass:mv,deps:[]},[]];let Kl=(()=>{var r;class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:d.AFp,useValue:n.appId}]}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(vh,12))},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[...ia,...Zl],imports:[En,d.hGG]}),e})(),Ee=(()=>{var r;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:function(n){let i=null;return i=n?new n:function xv(){return new Ee((0,d.LFG)(he))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Ni=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(n){let i=null;return i=n?new(n||r):d.LFG(ja),i},providedIn:"root"}),e})(),ja=(()=>{var r;class e extends Ni{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(n){return(0,d.JVY)(n)}bypassSecurityTrustStyle(n){return(0,d.L6k)(n)}bypassSecurityTrustScript(n){return(0,d.eBb)(n)}bypassSecurityTrustUrl(n){return(0,d.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,d.pB0)(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:function(n){let i=null;return i=n?new n:function Yl(r){return new ja(r.get(he))}(d.LFG(d.zs3)),i},providedIn:"root"}),e})();var nr=L(5592),Xr=L(4674),Dn=L(2459),at=L(2096),Jr=L(5619);const{isArray:wu}=Array,{getPrototypeOf:Dv,prototype:Fr,keys:sa}=Object;function yn(r){if(1===r.length){const e=r[0];if(wu(e))return{args:e,keys:null};if(function Sv(r){return r&&"object"==typeof r&&Dv(r)===Fr}(e)){const t=sa(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:r,keys:null}}var Ql=L(2737),Et=L(7398);const{isArray:Av}=Array;function Xl(r){return(0,Et.U)(e=>function cm(r,e){return Av(e)?r(...e):r(e)}(r,e))}var xo=L(9940);function Ys(r,e){return r.reduce((t,n,i)=>(t[n]=e[i],t),{})}var vr=L(8251),Ha=L(7103);function oa(...r){const e=(0,xo.yG)(r),t=(0,xo.jO)(r),{args:n,keys:i}=yn(r);if(0===n.length)return(0,Dn.D)([],e);const o=new nr.y(function Eu(r,e,t=Ql.y){return n=>{Iu(e,()=>{const{length:i}=r,o=new Array(i);let l=i,h=i;for(let p=0;p<i;p++)Iu(e,()=>{const g=(0,Dn.D)(r[p],e);let w=!1;g.subscribe((0,vr.x)(n,x=>{o[p]=x,w||(w=!0,h--),h||n.next(t(o.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,e,i?l=>Ys(i,l):Ql.y));return t?o.pipe(Xl(t)):o}function Iu(r,e,t){r?(0,Ha.f)(t,r,e):e()}const ec=(0,L(2306).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var tc=L(7537);function Ms(...r){return function Fi(){return(0,tc.J)(1)}()((0,Dn.D)(r,(0,xo.yG)(r)))}var za=L(4829);function Mv(r){return new nr.y(e=>{(0,za.Xf)(r()).subscribe(e)})}var wh=L(8407);function $a(r,e){const t=(0,Xr.m)(r)?r:()=>r,n=i=>i.error(t());return new nr.y(e?i=>e.schedule(n,0,i):n)}var Qs=L(6232),Xs=L(7394),Lr=L(9360);function um(){return(0,Lr.e)((r,e)=>{let t=null;r._refCount++;const n=(0,vr.x)(e,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const i=r._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});r.subscribe(n),n.closed||(t=r.connect())})}class Ga extends nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,vr.x)(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xs.w0.EMPTY)}return e}refCount(){return um()(this)}}var qt=L(8645),Ln=L(4664);function ei(r){return r<=0?()=>Qs.E:(0,Lr.e)((e,t)=>{let n=0;e.subscribe((0,vr.x)(t,i=>{++n<=r&&(t.next(i),r<=n&&t.complete())}))})}function aa(...r){const e=(0,xo.yG)(r);return(0,Lr.e)((t,n)=>{(e?Ms(r,t,e):Ms(r,t)).subscribe(n)})}function Vn(r,e){return(0,Lr.e)((t,n)=>{let i=0;t.subscribe((0,vr.x)(n,o=>r.call(e,o,i++)&&n.next(o)))})}var Vr=L(1631);function qa(r){return(0,Lr.e)((e,t)=>{let n=!1;e.subscribe((0,vr.x)(t,i=>{n=!0,t.next(i)},()=>{n||t.next(r),t.complete()}))})}function xu(r=dm){return(0,Lr.e)((e,t)=>{let n=!1;e.subscribe((0,vr.x)(t,i=>{n=!0,t.next(i)},()=>n?t.complete():t.error(r())))})}function dm(){return new ec}function yr(r,e){const t=arguments.length>=2;return n=>n.pipe(r?Vn((i,o)=>r(i,o,n)):Ql.y,ei(1),t?qa(e):xu(()=>new ec))}function Wa(r,e){return(0,Xr.m)(e)?(0,Vr.z)(r,e,1):(0,Vr.z)(r,1)}function Sn(r,e,t){const n=(0,Xr.m)(r)||e||t?{next:r,error:e,complete:t}:r;return n?(0,Lr.e)((i,o)=>{var l;null===(l=n.subscribe)||void 0===l||l.call(n);let h=!0;i.subscribe((0,vr.x)(o,p=>{var g;null===(g=n.next)||void 0===g||g.call(n,p),o.next(p)},()=>{var p;h=!1,null===(p=n.complete)||void 0===p||p.call(n),o.complete()},p=>{var g;h=!1,null===(g=n.error)||void 0===g||g.call(n,p),o.error(p)},()=>{var p,g;h&&(null===(p=n.unsubscribe)||void 0===p||p.call(n)),null===(g=n.finalize)||void 0===g||g.call(n)}))}):Ql.y}function Rs(r){return(0,Lr.e)((e,t)=>{let o,n=null,i=!1;n=e.subscribe((0,vr.x)(t,void 0,void 0,l=>{o=(0,za.Xf)(r(l,Rs(r)(e))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function la(r,e){return(0,Lr.e)(function hm(r,e,t,n,i){return(o,l)=>{let h=t,p=e,g=0;o.subscribe((0,vr.x)(l,w=>{const x=g++;p=h?r(p,w,x):(h=!0,w),n&&l.next(p)},i&&(()=>{h&&l.next(p),l.complete()})))}}(r,e,arguments.length>=2,!0))}function nc(r){return r<=0?()=>Qs.E:(0,Lr.e)((e,t)=>{let n=[];e.subscribe((0,vr.x)(t,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(const i of n)t.next(i);t.complete()},void 0,()=>{n=null}))})}function rc(r){return(0,Lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(r)}})}var xh=L(2420);function ss(r){return(0,Lr.e)((e,t)=>{(0,za.Xf)(r).subscribe((0,vr.x)(t,()=>t.complete(),xh.Z)),!t.closed&&e.subscribe(t)})}const Pt="primary",Co=Symbol("RouteTitle");class To{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Za(r){return new To(r)}function fm(r,e,t){const n=t.path.split("/");if(n.length>r.length||"full"===t.pathMatch&&(e.hasChildren()||n.length<r.length))return null;const i={};for(let o=0;o<n.length;o++){const l=n[o],h=r[o];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function ti(r,e){const t=r?Object.keys(r):void 0,n=e?Object.keys(e):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!mm(r[i],e[i]))return!1;return!0}function mm(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;const t=[...r].sort(),n=[...e].sort();return t.every((i,o)=>n[o]===i)}return r===e}function br(r){return r.length>0?r[r.length-1]:null}function Do(r){return function lm(r){return!!r&&(r instanceof nr.y||(0,Xr.m)(r.lift)&&(0,Xr.m)(r.subscribe))}(r)?r:(0,d.QGY)(r)?(0,Dn.D)(Promise.resolve(r)):(0,at.of)(r)}const ic={exact:function Tu(r,e,t){if(!Ya(r.segments,e.segments)||!sc(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!r.children[n]||!Tu(r.children[n],e.children[n],t))return!1;return!0},subset:ca},Cu={exact:function _m(r,e){return ti(r,e)},subset:function Ka(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>mm(r[t],e[t]))},ignored:()=>!0};function gm(r,e,t){return ic[t.paths](r.root,e.root,t.matrixParams)&&Cu[t.queryParams](r.queryParams,e.queryParams)&&!("exact"===t.fragment&&r.fragment!==e.fragment)}function ca(r,e,t){return ua(r,e,e.segments,t)}function ua(r,e,t,n){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!Ya(i,t)||e.hasChildren()||!sc(i,t,n))}if(r.segments.length===t.length){if(!Ya(r.segments,t)||!sc(r.segments,t,n))return!1;for(const i in e.children)if(!r.children[i]||!ca(r.children[i],e.children[i],n))return!1;return!0}{const i=t.slice(0,r.segments.length),o=t.slice(r.segments.length);return!!(Ya(r.segments,i)&&sc(r.segments,i,n)&&r.children[Pt])&&ua(r.children[Pt],e,o,n)}}function sc(r,e,t){return e.every((n,i)=>Cu[t](r[i].parameters,n.parameters))}class So{constructor(e=new tn([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return lI.serialize(this)}}class tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ch(this)}}class Du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Za(this.parameters)),this._parameterMap}toString(){return Ur(this)}}function Ya(r,e){return r.length===e.length&&r.every((t,n)=>t.path===e[n].path)}let Su=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return new vm},providedIn:"root"}),e})();class vm{parse(e){const t=new Ja(e);return new So(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ks(e.root,!0)}`,n=function Ov(r){const e=Object.keys(r).map(t=>{const n=r[t];return Array.isArray(n)?n.map(i=>`${Mu(t)}=${Mu(i)}`).join("&"):`${Mu(t)}=${Mu(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${n}${"string"==typeof e.fragment?`#${function Un(r){return encodeURI(r)}(e.fragment)}`:""}`}}const lI=new vm;function Ch(r){return r.segments.map(e=>Ur(e)).join("/")}function ks(r,e){if(!r.hasChildren())return Ch(r);if(e){const t=r.children[Pt]?ks(r.children[Pt],!1):"",n=[];return Object.entries(r.children).forEach(([i,o])=>{i!==Pt&&n.push(`${i}:${ks(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function kv(r,e){let t=[];return Object.entries(r.children).forEach(([n,i])=>{n===Pt&&(t=t.concat(e(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==Pt&&(t=t.concat(e(i,n)))}),t}(r,(n,i)=>i===Pt?[ks(r.children[Pt],!1)]:[`${i}:${ks(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Pt]?`${Ch(r)}/${t[0]}`:`${Ch(r)}/(${t.join("//")})`}}function Au(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mu(r){return Au(r).replace(/%3B/gi,";")}function Th(r){return Au(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Js(r){return decodeURIComponent(r)}function ym(r){return Js(r.replace(/\+/g,"%20"))}function Ur(r){return`${Th(r.path)}${function Qa(r){return Object.keys(r).map(e=>`;${Th(e)}=${Th(r[e])}`).join("")}(r.parameters)}`}const Xa=/^[^\/()?;#]+/;function Ao(r){const e=r.match(Xa);return e?e[0]:""}const Ru=/^[^\/()?;=#]+/,bm=/^[^=?&#]+/,_i=/^[^&#]+/;class Ja{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Pt]=new tn(e,t)),n}parseSegment(){const e=Ao(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Du(Js(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Pv(r){const e=r.match(Ru);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const i=Ao(this.remaining);i&&(n=i,this.capture(n))}e[Js(t)]=Js(n)}parseQueryParam(e){const t=function cI(r){const e=r.match(bm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const l=function Dh(r){const e=r.match(_i);return e?e[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const i=ym(t),o=ym(n);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ao(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pt);const l=this.parseChildren();t[o]=1===Object.keys(l).length?l[Pt]:new tn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Nv(r){return r.segments.length>0?new tn([],{[Pt]:r}):r}function ku(r){const e={};for(const n of Object.keys(r.children)){const o=ku(r.children[n]);if(n===Pt&&0===o.segments.length&&o.hasChildren())for(const[l,h]of Object.entries(o.children))e[l]=h;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function Fv(r){if(1===r.numberOfChildren&&r.children[Pt]){const e=r.children[Pt];return new tn(r.segments.concat(e.segments),e.children)}return r}(new tn(r.segments,e))}function da(r){return r instanceof So}function _(r){let e;const i=Nv(function t(o){const l={};for(const p of o.children){const g=t(p);l[p.outlet]=g}const h=new tn(o.url,l);return o===r&&(e=h),h}(r.root));return e??i}function v(r,e,t,n){let i=r;for(;i.parent;)i=i.parent;if(0===e.length)return R(i,i,i,t,n);const o=function se(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new q(!0,0,r);let e=0,t=!1;const n=r.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([p,g])=>{h[p]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new q(t,e,n)}(e);if(o.toRoot())return R(i,i,new tn([],{}),t,n);const l=function lt(r,e,t){if(r.isAbsolute)return new _e(e,!0,0);if(!t)return new _e(e,!1,NaN);if(null===t.parent)return new _e(t,!0,0);const n=E(r.commands[0])?0:1;return function ct(r,e,t){let n=r,i=e,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new d.vHH(4005,!1);i=n.segments.length}return new _e(n,!1,i-o)}(t,t.segments.length-1+n,r.numberOfDoubleDots)}(o,i,r),h=l.processChildren?Zn(l.segmentGroup,l.index,o.commands):Wt(l.segmentGroup,l.index,o.commands);return R(i,l.segmentGroup,h,t,n)}function E(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function D(r){return"object"==typeof r&&null!=r&&r.outlets}function R(r,e,t,n,i){let l,o={};n&&Object.entries(n).forEach(([p,g])=>{o[p]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),l=r===e?t:B(r,e,t);const h=Nv(ku(l));return new So(h,o,i)}function B(r,e,t){const n={};return Object.entries(r.children).forEach(([i,o])=>{n[i]=o===e?t:B(o,e,t)}),new tn(r.segments,n)}class q{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&E(n[0]))throw new d.vHH(4003,!1);const i=n.find(D);if(i&&i!==br(n))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _e{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Wt(r,e,t){if(r||(r=new tn([],{})),0===r.segments.length&&r.hasChildren())return Zn(r,e,t);const n=function Os(r,e,t){let n=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=t.length)return o;const l=r.segments[i],h=t[n];if(D(h))break;const p=`${h}`,g=n<t.length-1?t[n+1]:null;if(i>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!Ou(p,g,l))return o;n+=2}else{if(!Ou(p,{},l))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,e,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const o=new tn(r.segments.slice(0,n.pathIndex),{});return o.children[Pt]=new tn(r.segments.slice(n.pathIndex),r.children),Zn(o,0,i)}return n.match&&0===i.length?new tn(r.segments,{}):n.match&&!r.hasChildren()?vi(r,e,t):n.match?Zn(r,0,i):vi(r,e,t)}function Zn(r,e,t){if(0===t.length)return new tn(r.segments,{});{const n=function pt(r){return D(r[0])?r[0].outlets:{[Pt]:r}}(t),i={};if(Object.keys(n).some(o=>o!==Pt)&&r.children[Pt]&&1===r.numberOfChildren&&0===r.children[Pt].segments.length){const o=Zn(r.children[Pt],e,t);return new tn(r.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=Wt(r.children[o],e,l))}),Object.entries(r.children).forEach(([o,l])=>{void 0===n[o]&&(i[o]=l)}),new tn(r.segments,i)}}function vi(r,e,t){const n=r.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(D(o)){const p=os(o.outlets);return new tn(n,p)}if(0===i&&E(t[0])){n.push(new Du(r.segments[e].path,ha(t[0]))),i++;continue}const l=D(o)?o.outlets[Pt]:`${o}`,h=i<t.length-1?t[i+1]:null;l&&h&&E(h)?(n.push(new Du(l,ha(h))),i+=2):(n.push(new Du(l,{})),i++)}return new tn(n,{})}function os(r){const e={};return Object.entries(r).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[t]=vi(new tn([],{}),0,n))}),e}function ha(r){const e={};return Object.entries(r).forEach(([t,n])=>e[t]=`${n}`),e}function Ou(r,e,t){return r==t.path&&ti(e,t.parameters)}const oc="imperative";class Li{constructor(e,t){this.id=e,this.url=t}}class el extends Li{constructor(e,t,n="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mo extends Li{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ac extends Li{constructor(e,t,n,i){super(e,t),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ro extends Li{constructor(e,t,n,i){super(e,t),this.reason=n,this.code=i,this.type=16}}class Pu extends Li{constructor(e,t,n,i){super(e,t),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sh extends Li{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uI extends Li{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _M extends Li{constructor(e,t,n,i,o){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dI extends Li{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NL extends Li{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hI{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class FL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vM{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bM{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ah{}class fI{constructor(e){this.url=e}}class VL{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wm,this.attachRef=null}}let wm=(()=>{var r;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new VL,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();class wM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vv(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){const t=Vv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nu(e,this._root).map(t=>t.value)}}function Vv(r,e){if(r===e.value)return e;for(const t of e.children){const n=Vv(r,t);if(n)return n}return null}function Nu(r,e){if(r===e.value)return[e];for(const t of e.children){const n=Nu(r,t);if(n.length)return n.unshift(e),n}return[]}class Ps{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lc(r){const e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}class Uv extends wM{constructor(e,t){super(e),this.snapshot=t,Hv(this,e)}toString(){return this.snapshot.toString()}}function Bv(r,e){const t=function Fu(r,e){const l=new cc([],{},{},"",{},Pt,e,null,{});return new Mh("",new Ps(l,[]))}(0,e),n=new Jr.X([new Du("",{})]),i=new Jr.X({}),o=new Jr.X({}),l=new Jr.X({}),h=new Jr.X(""),p=new tl(n,i,l,h,o,Pt,e,t.root);return p.snapshot=t.root,new Uv(new Ps(p,[]),t)}class tl{constructor(e,t,n,i,o,l,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Et.U)(g=>g[Co]))??(0,at.of)(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Za(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Za(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jv(r,e="emptyOnly"){const t=r.pathFromRoot;let n=0;if("always"!==e)for(n=t.length-1;n>=1;){const i=t[n],o=t[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function Em(r){return r.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(n))}class cc{get title(){return this.data?.[Co]}constructor(e,t,n,i,o,l,h,p,g){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=l,this.component=h,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Za(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mh extends wM{constructor(e,t){super(t),this.url=e,Hv(this,t)}toString(){return pI(this._root)}}function Hv(r,e){e.value._routerState=r,e.children.forEach(t=>Hv(r,t))}function pI(r){const e=r.children.length>0?` { ${r.children.map(pI).join(", ")} } `:"";return`${r.value}${e}`}function zv(r){if(r.snapshot){const e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,ti(e.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),ti(e.params,t.params)||r.paramsSubject.next(t.params),function pm(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!ti(r[t],e[t]))return!1;return!0}(e.url,t.url)||r.urlSubject.next(t.url),ti(e.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Im(r,e){const t=ti(r.params,e.params)&&function Rv(r,e){return Ya(r,e)&&r.every((t,n)=>ti(t.parameters,e[n].parameters))}(r.url,e.url);return t&&!(!r.parent!=!e.parent)&&(!r.parent||Im(r.parent,e.parent))}let Lu=(()=>{var r;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(wm),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(xm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=n;const o=this.location,h=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new EM(n,p,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),e})();class EM{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===tl?this.route:e===wm?this.childContexts:this.parent.get(e,t)}}const xm=new d.OlP("");let mI=(()=>{var r;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,o=oa([i.queryParams,i.params,i.data]).pipe((0,Ln.w)(([l,h,p],g)=>(p={...l,...h,...p},0===g?(0,at.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const h=(0,d.qFp)(i.component);if(h)for(const{templateName:p}of h.inputs)n.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();function Rh(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=e.value;const i=function IM(r,e,t){return e.children.map(n=>{for(const i of t.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Rh(r,n,i);return Rh(r,n)})}(r,e,t);return new Ps(n,i)}{if(r.shouldAttach(e.value)){const o=r.retrieve(e.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Rh(r,h)),l}}const n=function Vi(r){return new tl(new Jr.X(r.url),new Jr.X(r.params),new Jr.X(r.queryParams),new Jr.X(r.fragment),new Jr.X(r.data),r.outlet,r.component,r)}(e.value),i=e.children.map(o=>Rh(r,o));return new Ps(n,i)}}const kh="ngNavigationCancelingError";function $v(r,e){const{redirectTo:t,navigationBehaviorOptions:n}=da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Cm(!1,0,e);return i.url=t,i.navigationBehaviorOptions=n,i}function Cm(r,e,t){const n=new Error("NavigationCancelingError: "+(r||""));return n[kh]=!0,n.cancellationCode=e,t&&(n.url=t),n}function Vu(r){return r&&r[kh]}let Gv=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(n,i){1&n&&d._UZ(0,"router-outlet")},dependencies:[Lu],encapsulation:2}),e})();function Oh(r){const e=r.children&&r.children.map(Oh),t=e?{...r,children:e}:{...r};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=Gv),t}function as(r){return r.outlet||Pt}function fa(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let e=r.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vI{constructor(e,t,n,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),zv(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=lc(t);e.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],n),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const l=n.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,o=lc(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(n&&n.outlet){const l=n.outlet.detach(),h=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,o=lc(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){const i=lc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new LL(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yM(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,o=t?t.value:null;if(zv(i),i===o)if(i.component){const l=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const l=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),zv(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=fa(i.snapshot);l.attachRef=null,l.route=i,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,n)}}class qv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ph{constructor(e,t){this.component=e,this.route=t}}function Uu(r,e,t){const n=r._root;return dc(n,e?e._root:null,t,[n.value])}function uc(r,e){const t=Symbol(),n=e.get(r,t);return n===t?"function"!=typeof r||(0,d.Z0I)(r)?e.get(r):r:n}function dc(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=lc(e);return r.children.forEach(l=>{(function Dm(r,e,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=r.value,l=e?e.value:null,h=t?t.getContext(r.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const p=function kM(r,e,t){if("function"==typeof t)return t(r,e);switch(t){case"pathParamsChange":return!Ya(r.url,e.url);case"pathParamsOrQueryParamsChange":return!Ya(r.url,e.url)||!ti(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Im(r,e)||!ti(r.queryParams,e.queryParams);default:return!Im(r,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new qv(n)):(o.data=l.data,o._resolvedData=l._resolvedData),dc(r,e,o.component?h?h.children:null:t,n,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Ph(h.outlet.component,l))}else l&&Nh(e,h,i),i.canActivateChecks.push(new qv(n)),dc(r,null,o.component?h?h.children:null:t,n,i)})(l,o[l.value.outlet],t,n.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,h])=>Nh(h,t.getContext(l),i)),i}function Nh(r,e,t){const n=lc(r),i=r.value;Object.entries(n).forEach(([o,l])=>{Nh(l,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ph(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fh(r){return"function"==typeof r}function wI(r){return r instanceof ec||"EmptyError"===r?.name}const Bu=Symbol("INITIAL_VALUE");function hc(){return(0,Ln.w)(r=>oa(r.map(e=>e.pipe(ei(1),aa(Bu)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===Bu)return Bu;if(!1===t||t instanceof So)return t}return!0}),Vn(e=>e!==Bu),ei(1)))}function Zv(r){return(0,wh.z)(Sn(e=>{if(da(e))throw $v(0,e)}),(0,Et.U)(e=>!0===e))}class Lh{constructor(e){this.segmentGroup=e||null}}class Vh{constructor(e){this.urlTree=e}}function ko(r){return $a(new Lh(r))}function Yv(r){return $a(new Vh(r))}class TI{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,at.of)(n);if(i.numberOfChildren>1||!i.children[Pt])return $a(new d.vHH(4e3,!1));i=i.children[Pt]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreateUrlTree(e,t,n,i){const o=this.createSegmentGroup(e,t.root,n,i);return new So(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);n[i]=t[h]}else n[i]=o}),n}createSegmentGroup(e,t,n,i){const o=this.createSegments(e,t.segments,n,i);let l={};return Object.entries(t.children).forEach(([h,p])=>{l[h]=this.createSegmentGroup(e,p,n,i)}),new tn(o,l)}createSegments(e,t,n,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new d.vHH(4001,!1);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}const Uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bh(r,e,t,n,i){const o=Xv(r,e,t);return o.matched?(n=function _I(r,e){return r.providers&&!r._injector&&(r._injector=(0,d.MMx)(r.providers,e,`Route: ${r.path}`)),r._injector??e}(e,n),function Kv(r,e,t,n){const i=e.canMatch;if(!i||0===i.length)return(0,at.of)(!0);const o=i.map(l=>{const h=uc(l,r);return Do(function Wv(r){return r&&Fh(r.canMatch)}(h)?h.canMatch(e,t):r.runInContext(()=>h(e,t)))});return(0,at.of)(o).pipe(hc(),Zv())}(n,e,t).pipe((0,Et.U)(l=>!0===l?o:{...Uh}))):(0,at.of)(o)}function Xv(r,e,t){if(""===e.path)return"full"===e.pathMatch&&(r.hasChildren()||t.length>0)?{...Uh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fm)(t,r,e);if(!i)return{...Uh};const o={};Object.entries(i.posParams??{}).forEach(([h,p])=>{o[h]=p.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Jv(r,e,t,n){return t.length>0&&function jM(r,e,t){return t.some(n=>jh(r,e,n)&&as(n)!==Pt)}(r,t,n)?{segmentGroup:new tn(e,BM(n,new tn(t,r.children))),slicedSegments:[]}:0===t.length&&function DI(r,e,t){return t.some(n=>jh(r,e,n))}(r,t,n)?{segmentGroup:new tn(r.segments,UM(r,0,t,n,r.children)),slicedSegments:t}:{segmentGroup:new tn(r.segments,r.children),slicedSegments:t}}function UM(r,e,t,n,i){const o={};for(const l of n)if(jh(r,t,l)&&!i[as(l)]){const h=new tn([],{});o[as(l)]=h}return{...i,...o}}function BM(r,e){const t={};t[Pt]=e;for(const n of r)if(""===n.path&&as(n)!==Pt){const i=new tn([],{});t[as(n)]=i}return t}function jh(r,e,t){return(!(r.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class HM{constructor(e,t,n,i,o,l,h){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new TI(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=Jv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pt).pipe(Rs(t=>{if(t instanceof Vh)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Lh?this.noMatchError(t):t}),(0,Et.U)(t=>{const n=new cc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,{}),i=new Ps(n,t),o=new Mh("",i),l=function C(r,e,t=null,n=null){return v(_(r),e,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Pt).pipe(Rs(n=>{throw n instanceof Lh?this.noMatchError(n):n}))}inheritParamsAndData(e){const t=e.value,n=jv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,i,!0)}processChildren(e,t,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return(0,Dn.D)(i).pipe(Wa(o=>{const l=n.children[o],h=function MM(r,e){const t=r.filter(n=>as(n)===e);return t.push(...r.filter(n=>as(n)!==e)),t}(t,o);return this.processSegmentGroup(e,h,l,o)}),la((o,l)=>(o.push(...l),o)),qa(null),function Eh(r,e){const t=arguments.length>=2;return n=>n.pipe(r?Vn((i,o)=>r(i,o,n)):Ql.y,nc(1),t?qa(e):xu(()=>new ec))}(),(0,Vr.z)(o=>{if(null===o)return ko(n);const l=SI(o);return function zM(r){r.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,at.of)(l)}))}processSegment(e,t,n,i,o,l){return(0,Dn.D)(t).pipe(Wa(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,n,i,o,l).pipe(Rs(p=>{if(p instanceof Lh)return(0,at.of)(null);throw p}))),yr(h=>!!h),Rs(h=>{if(wI(h))return function ey(r,e,t){return 0===e.length&&!r.children[t]}(n,i,o)?(0,at.of)([]):ko(n);throw h}))}processSegmentAgainstRoute(e,t,n,i,o,l,h){return function Rm(r,e,t,n){return!!(as(r)===n||n!==Pt&&jh(e,t,r))&&("**"===r.path||Xv(e,r,t).matched)}(n,i,o,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,i,n,o,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,n,o,l):ko(i):ko(i)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yv(o):this.applyRedirects.lineralizeSegments(n,o).pipe((0,Vr.z)(l=>{const h=new tn(l,{});return this.processSegment(e,t,h,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,o,l){const{matched:h,consumedSegments:p,remainingSegments:g,positionalParamSegments:w}=Xv(t,i,o);if(!h)return ko(t);const x=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?Yv(x):this.applyRedirects.lineralizeSegments(i,x).pipe((0,Vr.z)(S=>this.processSegment(e,n,t,S.concat(g),l,!1)))}matchSegmentAgainstRoute(e,t,n,i,o,l){let h;if("**"===n.path){const p=i.length>0?br(i).parameters:{},g=new cc(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MI(n),as(n),n.component??n._loadedComponent??null,n,pc(n));h=(0,at.of)({snapshot:g,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=Bh(t,n,i,e).pipe((0,Et.U)(({matched:p,consumedSegments:g,remainingSegments:w,parameters:x})=>p?{snapshot:new cc(g,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MI(n),as(n),n.component??n._loadedComponent??null,n,pc(n)),consumedSegments:g,remainingSegments:w}:null));return h.pipe((0,Ln.w)(p=>null===p?ko(t):this.getChildConfig(e=n._injector??e,n,i).pipe((0,Ln.w)(({routes:g})=>{const w=n._loadedInjector??e,{snapshot:x,consumedSegments:S,remainingSegments:k}=p,{segmentGroup:j,slicedSegments:K}=Jv(t,S,k,g);if(0===K.length&&j.hasChildren())return this.processChildren(w,g,j).pipe((0,Et.U)(le=>null===le?null:[new Ps(x,le)]));if(0===g.length&&0===K.length)return(0,at.of)([new Ps(x,[])]);const J=as(n)===o;return this.processSegment(w,g,j,K,J?Pt:o,!0).pipe((0,Et.U)(le=>[new Ps(x,le)]))}))))}getChildConfig(e,t,n){return t.children?(0,at.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,at.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function CI(r,e,t,n){const i=e.canLoad;if(void 0===i||0===i.length)return(0,at.of)(!0);const o=i.map(l=>{const h=uc(l,r);return Do(function PM(r){return r&&Fh(r.canLoad)}(h)?h.canLoad(e,t):r.runInContext(()=>h(e,t)))});return(0,at.of)(o).pipe(hc(),Zv())}(e,t,n).pipe((0,Vr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Sn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Mm(r){return $a(Cm(!1,3))}())):(0,at.of)({routes:[],injector:e})}}function zL(r){const e=r.value.routeConfig;return e&&""===e.path}function SI(r){const e=[],t=new Set;for(const n of r){if(!zL(n)){e.push(n);continue}const i=e.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),t.add(i)):e.push(n)}for(const n of t){const i=SI(n.children);e.push(new Ps(n.value,i))}return e.filter(n=>!t.has(n))}function MI(r){return r.data||{}}function pc(r){return r.resolve||{}}function PI(r){return"string"==typeof r.title||null===r.title}function ny(r){return(0,Ln.w)(e=>{const t=r(e);return t?(0,Dn.D)(t).pipe((0,Et.U)(()=>e)):(0,at.of)(e)})}const Hu=new d.OlP("ROUTES");let ry=(()=>{var r;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,at.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Do(n.loadComponent()).pipe((0,Et.U)(Oo),Sn(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),rc(()=>{this.componentLoaders.delete(n)})),o=new Ga(i,()=>new qt.x).pipe(um());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,at.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,w;return Array.isArray(p)?w=p:(g=p.create(n).injector,w=g.get(Hu,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:w.map(Oh),injector:g}}),rc(()=>{this.childrenLoaders.delete(i)})),h=new Ga(l,()=>new qt.x).pipe(um());return this.childrenLoaders.set(i,h),h}loadModuleFactoryOrRoutes(n){return Do(n()).pipe((0,Et.U)(Oo),(0,Vr.z)(i=>i instanceof d.YKP||Array.isArray(i)?(0,at.of)(i):(0,Dn.D)(this.compiler.compileModuleAsync(i))))}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function Oo(r){return function $M(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let pa=(()=>{var r;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qt.x,this.transitionAbortSubject=new qt.x,this.configLoader=(0,d.f3M)(ry),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Su),this.rootContexts=(0,d.f3M)(wm),this.inputBindingEnabled=null!==(0,d.f3M)(xm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,at.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new FL(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new hI(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,o){return this.transitions=new Jr.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(l=>0!==l.id),(0,Et.U)(l=>({...l,extractedUrl:n.urlHandlingStrategy.extract(l.rawUrl)})),(0,Ln.w)(l=>{this.currentTransition=l;let h=!1,p=!1;return(0,at.of)(l).pipe(Sn(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ln.w)(g=>{const w=g.currentBrowserUrl.toString(),x=!n.navigated||g.extractedUrl.toString()!==w||w!==g.currentUrlTree.toString();if(!x&&"reload"!==(g.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const k="";return this.events.next(new Ro(g.id,this.urlSerializer.serialize(g.rawUrl),k,0)),g.resolve(null),Qs.E}if(n.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,at.of)(g).pipe((0,Ln.w)(k=>{const j=this.transitions?.getValue();return this.events.next(new el(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),j!==this.transitions?.getValue()?Qs.E:Promise.resolve(k)}),function km(r,e,t,n,i,o){return(0,Vr.z)(l=>function ju(r,e,t,n,i,o,l="emptyOnly"){return new HM(r,e,t,n,i,l,o).recognize()}(r,e,t,n,l.extractedUrl,i,o).pipe((0,Et.U)(({state:h,tree:p})=>({...l,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Sn(k=>{l.targetSnapshot=k.targetSnapshot,l.urlAfterRedirects=k.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects};const j=new Sh(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(j)}));if(x&&n.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:k,extractedUrl:j,source:K,restoredState:J,extras:le}=g,Pe=new el(k,this.urlSerializer.serialize(j),K,J);this.events.next(Pe);const Se=Bv(0,this.rootComponentType).snapshot;return this.currentTransition=l={...g,targetSnapshot:Se,urlAfterRedirects:j,extras:{...le,skipLocationChange:!1,replaceUrl:!1}},(0,at.of)(l)}{const k="";return this.events.next(new Ro(g.id,this.urlSerializer.serialize(g.extractedUrl),k,1)),g.resolve(null),Qs.E}}),Sn(g=>{const w=new uI(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),(0,Et.U)(g=>(this.currentTransition=l={...g,guards:Uu(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},l)),function fc(r,e){return(0,Vr.z)(t=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=t;return 0===l.length&&0===o.length?(0,at.of)({...t,guardsResult:!0}):function EI(r,e,t,n){return(0,Dn.D)(r).pipe((0,Vr.z)(i=>function xI(r,e,t,n,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,at.of)(!0);const l=o.map(h=>{const p=fa(e)??i,g=uc(h,p);return Do(function Sm(r){return r&&Fh(r.canDeactivate)}(g)?g.canDeactivate(r,e,t,n):p.runInContext(()=>g(r,e,t,n))).pipe(yr())});return(0,at.of)(l).pipe(hc())}(i.component,i.route,t,e,n)),yr(i=>!0!==i,!0))}(l,n,i,r).pipe((0,Vr.z)(h=>h&&function OM(r){return"boolean"==typeof r}(h)?function II(r,e,t,n){return(0,Dn.D)(e).pipe(Wa(i=>Ms(function HL(r,e){return null!==r&&e&&e(new vM(r)),(0,at.of)(!0)}(i.route.parent,n),function LM(r,e){return null!==r&&e&&e(new Lv(r)),(0,at.of)(!0)}(i.route,n),function VM(r,e,t){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(l=>function Tm(r){const e=r.routeConfig?r.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:r,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Mv(()=>{const h=l.guards.map(p=>{const g=fa(l.node)??t,w=uc(p,g);return Do(function yI(r){return r&&Fh(r.canActivateChild)}(w)?w.canActivateChild(n,r):g.runInContext(()=>w(n,r))).pipe(yr())});return(0,at.of)(h).pipe(hc())}));return(0,at.of)(o).pipe(hc())}(r,i.path,t),function Am(r,e,t){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return(0,at.of)(!0);const i=n.map(o=>Mv(()=>{const l=fa(e)??t,h=uc(o,l);return Do(function NM(r){return r&&Fh(r.canActivate)}(h)?h.canActivate(e,r):l.runInContext(()=>h(e,r))).pipe(yr())}));return(0,at.of)(i).pipe(hc())}(r,i.route,t))),yr(i=>!0!==i,!0))}(n,o,r,e):(0,at.of)(h)),(0,Et.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,g=>this.events.next(g)),Sn(g=>{if(l.guardsResult=g.guardsResult,da(g.guardsResult))throw $v(0,g.guardsResult);const w=new _M(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(w)}),Vn(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),ny(g=>{if(g.guards.canActivateChecks.length)return(0,at.of)(g).pipe(Sn(w=>{const x=new dI(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),(0,Ln.w)(w=>{let x=!1;return(0,at.of)(w).pipe(function ty(r,e){return(0,Vr.z)(t=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,at.of)(t);let o=0;return(0,Dn.D)(i).pipe(Wa(l=>function RI(r,e,t,n){const i=r.routeConfig,o=r._resolve;return void 0!==i?.title&&!PI(i)&&(o[Co]=i.title),function kI(r,e,t,n){const i=function OI(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return(0,at.of)({});const o={};return(0,Dn.D)(i).pipe((0,Vr.z)(l=>function mc(r,e,t,n){const i=fa(e)??n,o=uc(r,i);return Do(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(r[l],e,t,n).pipe(yr(),Sn(h=>{o[l]=h}))),nc(1),function Ih(r){return(0,Et.U)(()=>r)}(o),Rs(l=>wI(l)?Qs.E:$a(l)))}(o,r,e,n).pipe((0,Et.U)(l=>(r._resolvedData=l,r.data=jv(r,t).resolve,i&&PI(i)&&(r.data[Co]=i.title),null)))}(l.route,n,r,e)),Sn(()=>o++),nc(1),(0,Vr.z)(l=>o===i.length?(0,at.of)(t):Qs.E))})}(n.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(w,"",2)}}))}),Sn(w=>{const x=new NL(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),ny(g=>{const w=x=>{const S=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(x.routeConfig).pipe(Sn(k=>{x.component=k}),(0,Et.U)(()=>{})));for(const k of x.children)S.push(...w(k));return S};return oa(w(g.targetSnapshot.root)).pipe(qa(),ei(1))}),ny(()=>this.afterPreactivation()),(0,Et.U)(g=>{const w=function gI(r,e,t){const n=Rh(r,e._root,t?t._root:void 0);return new Uv(n,e)}(n.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=l={...g,targetRouterState:w},l}),Sn(()=>{this.events.next(new Ah)}),((r,e,t,n)=>(0,Et.U)(i=>(new vI(e,i.targetRouterState,i.currentRouterState,t,n).activate(r),i)))(this.rootContexts,n.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),ei(1),Sn({next:g=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mo(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),n.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{h=!0}}),ss(this.transitionAbortSubject.pipe(Sn(g=>{throw g}))),rc(()=>{h||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),Rs(g=>{if(p=!0,Vu(g))this.events.next(new ac(l.id,this.urlSerializer.serialize(l.extractedUrl),g.message,g.cancellationCode)),function ni(r){return Vu(r)&&da(r.url)}(g)?this.events.next(new fI(g.url)):l.resolve(!1);else{this.events.next(new Pu(l.id,this.urlSerializer.serialize(l.extractedUrl),g,l.targetSnapshot??void 0));try{l.resolve(n.errorHandler(g))}catch(w){l.reject(w)}}return Qs.E}))}))}cancelNavigationTransition(n,i,o){const l=new ac(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(l),n.resolve(!1)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function NI(r){return r!==oc}let FI=(()=>{var r;class e{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===Pt);return i}getResolvedTitleForRoute(n){return n.data[Co]}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(GM)},providedIn:"root"}),e})(),GM=(()=>{var r;class e extends FI{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(Ee))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),qM=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(ZM)},providedIn:"root"}),e})();class WM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZM=(()=>{var r;class e extends WM{}return(r=e).\u0275fac=function(){let t;return function(i){return(t||(t=d.n5z(r)))(i||r)}}(),r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const Hh=new d.OlP("",{providedIn:"root",factory:()=>({})});let KM=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(YM)},providedIn:"root"}),e})(),YM=(()=>{var r;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();var zh=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(zh||{});function LI(r,e){r.events.pipe(Vn(t=>t instanceof Mo||t instanceof ac||t instanceof Pu||t instanceof Ro),(0,Et.U)(t=>t instanceof Mo||t instanceof Ro?zh.COMPLETE:t instanceof ac&&(0===t.code||1===t.code)?zh.REDIRECTING:zh.FAILED),Vn(t=>t!==zh.REDIRECTING),ei(1)).subscribe(()=>{e()})}function Om(r){throw r}function ma(r,e,t){return e.parse("/")}const $h={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{var r;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new qt.x,this.options=(0,d.f3M)(Hh,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Om,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ma,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(KM),this.routeReuseStrategy=(0,d.f3M)(qM),this.titleStrategy=(0,d.f3M)(FI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Hu,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(pa),this.urlSerializer=(0,d.f3M)(Su),this.location=(0,d.f3M)(Ae),this.componentInputBindingEnabled=!!(0,d.f3M)(xm,{optional:!0}),this.eventsSubscription=new Xs.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new So,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bv(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(QM(i)&&this._events.next(i));if(i instanceof el)NI(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Ro)this.rawUrlTree=o.rawUrl;else if(i instanceof Sh){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof Ah)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof ac)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof fI){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NI(o.source)};this.scheduleNavigation(l,oc,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Pu&&this.restoreHistory(o,!0),i instanceof Mo&&(this.navigated=!0),QM(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,o){const l={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(l.state=g)}const p=this.parseUrl(n);this.scheduleNavigation(p,i,h,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Oh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:g}=i,w=g?this.currentUrlTree.fragment:h;let S,x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}null!==x&&(x=this.removeEmptyProps(x));try{S=_(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),S=this.currentUrlTree.root}return v(S,n,x,w??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=da(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,oc,null,i)}navigate(n,i={skipLocationChange:!1}){return function UI(r){for(let e=0;e<r.length;e++)if(null==r[e])throw new d.vHH(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return i}isActive(n,i){let o;if(o=!0===i?{...$h}:!1===i?{...VI}:i,da(n))return gm(this.currentUrlTree,n,o);const l=this.parseUrl(n);return gm(this.currentUrlTree,l,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{const l=n[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(n,i,o,l,h){if(this.disposed)return Promise.resolve(!1);let p,g,w;h?(p=h.resolve,g=h.reject,w=h.promise):w=new Promise((S,k)=>{p=S,g=k});const x=this.pendingTasks.add();return LI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:l,resolve:p,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function QM(r){return!(r instanceof Ah||r instanceof fI)}class Pm{}let jI=(()=>{var r;class e{constructor(n,i,o,l,h){this.router=n,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(n=>n instanceof Mo),Wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const o=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,d.MMx)(l.providers,n,`Route: ${l.path}`));const h=l._injector??n,p=l._loadedInjector??h;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(h,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,Dn.D)(o).pipe((0,tc.J)())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):(0,at.of)(null);const l=o.pipe((0,Vr.z)(h=>null===h?(0,at.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??n,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Dn.D)([l,h]).pipe((0,tc.J)())}return l})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(Br),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Pm),d.LFG(ry))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const sy=new d.OlP("");let HI=(()=>{var r;class e{constructor(n,i,o,l,h={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=l,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof el?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ro&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(r=e).\u0275fac=function(n){d.$Z()},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();function Po(r,e){return{\u0275kind:r,\u0275providers:e}}function nl(){const r=(0,d.f3M)(d.zs3);return e=>{const t=r.get(d.z2F);if(e!==t.components[0])return;const n=r.get(Br),i=r.get(GI);1===r.get(oy)&&n.initialNavigation(),r.get(WI,null,d.XFs.Optional)?.setUpPreloading(),r.get(sy,null,d.XFs.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const GI=new d.OlP("",{factory:()=>new qt.x}),oy=new d.OlP("",{providedIn:"root",factory:()=>1}),WI=new d.OlP("");function JM(r){return Po(0,[{provide:WI,useExisting:jI},{provide:Pm,useExisting:r}])}const cn=new d.OlP("ROUTER_FORROOT_GUARD"),Gh=[Ae,{provide:Su,useClass:vm},Br,wm,{provide:tl,useFactory:function zI(r){return r.routerState.root},deps:[Br]},ry,[]];function ZI(){return new d.PXZ("Router",Br)}let ly=(()=>{var r;class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[Gh,[],{provide:Hu,multi:!0,useValue:n},{provide:cn,useFactory:YI,deps:[[Br,new d.FiY,new d.tp0]]},{provide:Hh,useValue:i||{}},i?.useHash?{provide:ke,useClass:Te}:{provide:ke,useClass:nt},{provide:sy,useFactory:()=>{const r=(0,d.f3M)(Ds),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Hh),n=(0,d.f3M)(pa),i=(0,d.f3M)(Su);return t.scrollOffset&&r.setOffset(t.scrollOffset),new HI(i,n,r,e,t)}},i?.preloadingStrategy?JM(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:ZI},i?.initialNavigation?QI(i):[],i?.bindToComponentInputs?Po(8,[mI,{provide:xm,useExisting:mI}]).\u0275providers:[],[{provide:qh,useFactory:nl},{provide:d.tb,multi:!0,useExisting:qh}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Hu,multi:!0,useValue:n}]}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(cn,8))},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();function YI(r){return"guarded"}function QI(r){return["disabled"===r.initialNavigation?Po(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Br);return()=>{e.setUpLocationChangeListener()}}},{provide:oy,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?Po(2,[{provide:oy,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Ze,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const i=e.get(Br),o=e.get(GI);LI(i,()=>{n(!0)}),e.get(pa).afterPreactivation=()=>(n(!0),o.closed?(0,at.of)(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const qh=new d.OlP("");var F=L(5861);function Lm(...r){const e=(0,xo.jO)(r),{args:t,keys:n}=yn(r),i=new nr.y(o=>{const{length:l}=t;if(!l)return void o.complete();const h=new Array(l);let p=l,g=l;for(let w=0;w<l;w++){let x=!1;(0,za.Xf)(t[w]).subscribe((0,vr.x)(o,S=>{x||(x=!0,g--),h[w]=S},()=>p--,void 0,()=>{(!p||!x)&&(g||o.next(n?Ys(n,h):h),o.complete())}))}});return e?i.pipe(Xl(e)):i}let Wh=(()=>{var r;class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.Qsj),d.Y36(d.SBq))},r.\u0275dir=d.lG2({type:r}),e})(),gc=(()=>{var r;class e extends Wh{}return(r=e).\u0275fac=function(){let t;return function(i){return(t||(t=d.n5z(r)))(i||r)}}(),r.\u0275dir=d.lG2({type:r,features:[d.qOj]}),e})();const Ns=new d.OlP("NgValueAccessor"),Um={provide:Ns,useExisting:(0,d.Gpc)(()=>Zh),multi:!0},iR=new d.OlP("CompositionEventMode");let Zh=(()=>{var r;class e extends Wh{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uy(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(iR,8))},r.\u0275dir=d.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&d.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[d._Bn([Um]),d.qOj]}),e})();function ga(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function _c(r){return null!=r&&"number"==typeof r.length}const ri=new d.OlP("NgValidators"),rl=new d.OlP("NgAsyncValidators"),sR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ls{static min(e){return function dy(r){return e=>{if(ga(e.value)||ga(r))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<r?{min:{min:r,actual:e.value}}:null}}(e)}static max(e){return function ex(r){return e=>{if(ga(e.value)||ga(r))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>r?{max:{max:r,actual:e.value}}:null}}(e)}static required(e){return hy(e)}static requiredTrue(e){return function Bm(r){return!0===r.value?null:{required:!0}}(e)}static email(e){return function oR(r){return ga(r.value)||sR.test(r.value)?null:{email:!0}}(e)}static minLength(e){return function tx(r){return e=>ga(e.value)||!_c(e.value)?null:e.value.length<r?{minlength:{requiredLength:r,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function nx(r){return e=>_c(e.value)&&e.value.length>r?{maxlength:{requiredLength:r,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rx(r){if(!r)return fy;let e,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),e=new RegExp(t)):(t=r.toString(),e=r),n=>{if(ga(n.value))return null;const i=n.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Hm(e)}static composeAsync(e){return $u(e)}}function hy(r){return ga(r.value)?{required:!0}:null}function fy(r){return null}function aR(r){return null!=r}function Kh(r){return(0,d.QGY)(r)?(0,Dn.D)(r):r}function ix(r){let e={};return r.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jm(r,e){return e.map(t=>t(r))}function vc(r){return r.map(e=>function py(r){return!r.validate}(e)?e:t=>e.validate(t))}function Hm(r){if(!r)return null;const e=r.filter(aR);return 0==e.length?null:function(t){return ix(jm(t,e))}}function Yh(r){return null!=r?Hm(vc(r)):null}function $u(r){if(!r)return null;const e=r.filter(aR);return 0==e.length?null:function(t){return Lm(jm(t,e).map(Kh)).pipe((0,Et.U)(ix))}}function Gu(r){return null!=r?$u(vc(r)):null}function yc(r,e){return null===r?[e]:Array.isArray(r)?[...r,e]:[r,e]}function zm(r){return r._rawValidators}function $m(r){return r._rawAsyncValidators}function qu(r){return r?Array.isArray(r)?r:[r]:[]}function my(r,e){return Array.isArray(r)?r.includes(e):r===e}function Gm(r,e){const t=qu(e);return qu(r).forEach(i=>{my(t,i)||t.push(i)}),t}function Wu(r,e){return qu(e).filter(t=>!my(r,t))}class sx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ii extends sx{get formDirective(){return null}get path(){return null}}class _a extends sx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ox{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gy=(()=>{var r;class e extends ox{constructor(n){super(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(_a,2))},r.\u0275dir=d.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),e})(),lx=(()=>{var r;class e extends ox{constructor(n){super(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(ii,10))},r.\u0275dir=d.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[d.qOj]}),e})();const va="VALID",Km="INVALID",bc="PENDING",Jh="DISABLED";function vy(r){return(Zu(r)?r.validators:r)||null}function Ym(r,e){return(Zu(e)?e.asyncValidators:r)||null}function Zu(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function pR(r,e,t){const n=r.controls;if(!(e?Object.keys(n):n).length)throw new d.vHH(1e3,"");if(!n[t])throw new d.vHH(1001,"")}function Qm(r,e,t){r._forEachChild((n,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})}class ef{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===va}get invalid(){return this.status===Km}get pending(){return this.status==bc}get disabled(){return this.status===Jh}get enabled(){return this.status!==Jh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Gm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Gm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wu(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wu(e,this._rawAsyncValidators))}hasValidator(e){return my(this._rawValidators,e)}hasAsyncValidator(e){return my(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=va,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===bc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jh:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bc,this._hasOwnPendingAsyncValidator=!0;const t=Kh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,i)=>n&&n._find(i),this)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Jh:this.errors?Km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bc)?bc:this._anyControlsHaveStatus(Km)?Km:va}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fR(r){return Array.isArray(r)?Yh(r):r||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function hx(r){return Array.isArray(r)?Gu(r):r||null}(this._rawAsyncValidators)}}class wc extends ef{constructor(e,t,n){super(vy(t),Ym(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Qm(this,0,e),Object.keys(e).forEach(n=>{pR(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{const i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,i)=>((n.enabled||this.disabled)&&(t[i]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((i,o)=>{n=t(n,i,o)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class fx extends wc{}const Ec=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>tf}),tf="always";function Ku(r,e,t=tf){wy(r,e),e.valueAccessor.writeValue(r.value),(r.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(r.disabled),function _R(r,e){e.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&to(r,e)})}(r,e),function px(r,e){const t=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};r.registerOnChange(t),e._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,e),function Iy(r,e){e.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&to(r,e),"submit"!==r.updateOn&&r.markAsTouched()})}(r,e),function by(r,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(t),e._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,e)}function nf(r,e,t=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Ey(r,e),r&&(e._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Ui(r,e){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wy(r,e){const t=zm(r);null!==e.validator?r.setValidators(yc(t,e.validator)):"function"==typeof t&&r.setValidators([t]);const n=$m(r);null!==e.asyncValidator?r.setAsyncValidators(yc(n,e.asyncValidator)):"function"==typeof n&&r.setAsyncValidators([n]);const i=()=>r.updateValueAndValidity();Ui(e._rawValidators,i),Ui(e._rawAsyncValidators,i)}function Ey(r,e){let t=!1;if(null!==r){if(null!==e.validator){const i=zm(r);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.validator);o.length!==i.length&&(t=!0,r.setValidators(o))}}if(null!==e.asyncValidator){const i=$m(r);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.asyncValidator);o.length!==i.length&&(t=!0,r.setAsyncValidators(o))}}}const n=()=>{};return Ui(e._rawValidators,n),Ui(e._rawAsyncValidators,n),t}function to(r,e){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function mx(r,e){wy(r,e)}function xy(r,e){r._syncPendingControls(),e.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const bR={provide:ii,useExisting:(0,d.Gpc)(()=>Xm)},af=(()=>Promise.resolve())();let Xm=(()=>{var r;class e extends ii{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new wc({},Yh(n),Gu(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){af.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Ku(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){af.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){af.then(()=>{const i=this._findContainer(n.path),o=new wc({});mx(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){af.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){af.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,xy(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(ri,10),d.Y36(rl,10),d.Y36(Ec,8))},r.\u0275dir=d.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&d.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([bR]),d.qOj]}),e})();function Ty(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}function Ic(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Ar=class extends ef{constructor(e=null,t,n){super(vy(t),Ym(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ic(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ty(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ty(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ic(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Sy=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),Ay=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();const tg=new d.OlP("NgModelWithFormControlWarning"),Ex={provide:_a,useExisting:(0,d.Gpc)(()=>My)};let My=(()=>{var r;class e extends _a{set isDisabled(n){}constructor(n,i,o,l,h){super(),this._ngModelWarningConfig=l,this.callSetDisabledState=h,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=function Cy(r,e){if(!e)return null;let t,n,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Zh?t=o:function gx(r){return Object.getPrototypeOf(r.constructor)===gc}(o)?n=o:i=o}),i||n||t||null}(0,o)}ngOnChanges(n){if(this._isControlChanged(n)){const i=n.form.previousValue;i&&nf(i,this,!1),Ku(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function sf(r,e){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return(r=e)._ngModelWarningSentOnce=!1,r.\u0275fac=function(n){return new(n||r)(d.Y36(ri,10),d.Y36(rl,10),d.Y36(Ns,10),d.Y36(tg,8),d.Y36(Ec,8))},r.\u0275dir=d.lG2({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Ex]),d.qOj,d.TTD]}),e})();const ng={provide:ii,useExisting:(0,d.Gpc)(()=>rg)};let rg=(()=>{var r;class e extends ii{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ey(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Ku(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){nf(n.control||null,n,!1),function _x(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,xy(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,o=this.form.get(n.path);i!==o&&(nf(i||null,n),(r=>r instanceof Ar)(o)&&(Ku(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);mx(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function r2(r,e){return Ey(r,e)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wy(this.form,this),this._oldForm&&Ey(this._oldForm,this)}_checkFormPresent(){}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(ri,10),d.Y36(rl,10),d.Y36(Ec,8))},r.\u0275dir=d.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&d.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ng]),d.qOj,d.TTD]}),e})(),ya=(()=>{var r;class e{constructor(){this._validator=fy}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,features:[d.TTD]}),e})();const RR={provide:ri,useExisting:(0,d.Gpc)(()=>hf),multi:!0};let hf=(()=>{var r;class e extends ya{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=n=>hy}enabled(n){return n}}return(r=e).\u0275fac=function(){let t;return function(i){return(t||(t=d.n5z(r)))(i||r)}}(),r.\u0275dir=d.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&d.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([RR]),d.qOj]}),e})(),kx=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[Ay]}),e})();class Ox extends ef{constructor(e,t,n){super(vy(t),Ym(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Qm(this,0,e),e.forEach((n,i)=>{pR(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Px(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let Vy=(()=>{var r;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,i=null){const o=this._reduceControls(n);let l={};return Px(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new wc(o,l)}record(n,i=null){const o=this._reduceControls(n);return new fx(o,i)}control(n,i,o){let l={};return this.useNonNullable?(Px(i)?l=i:(l.validators=i,l.asyncValidators=o),new Ar(n,{...l,nonNullable:!0})):new Ar(n,i,o)}array(n,i,o){const l=n.map(h=>this._createControl(h));return new Ox(l,i,o)}_reduceControls(n){const i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){return n instanceof Ar||n instanceof ef?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),VR=(()=>{var r;class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ec,useValue:n.callSetDisabledState??tf}]}}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[kx]}),e})(),UR=(()=>{var r;class e{static withConfig(n){return{ngModule:e,providers:[{provide:tg,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ec,useValue:n.callSetDisabledState??tf}]}}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[kx]}),e})();var By,jy,ff,Hy,$y,Gy,ug,No,Nx,Fx,dg,Yy,ed,qx,Wx,aC,HR,_f,lC,cC,il,Cc,Rc,Oc,sb,ob,ab,Ie=L(9058),xt=L(534),Bi=L(7879),Uy=L(7582),us=L(4537);const YR=function KR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QR=new Ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cb=new Bi.Yd("@firebase/auth");function gg(r,...e){cb.logLevel<=Bi.in.ERROR&&cb.error(`Auth (${xt.SDK_VERSION}): ${r}`,...e)}function ji(r,...e){throw rd(r,...e)}function Fs(r,...e){return rd(r,...e)}function rd(r,...e){if("string"!=typeof r){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return QR.create(r,...e)}function We(r,e,...t){if(!r)throw rd(e,...t)}function Hi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gg(e),new Error(e)}function ba(r,e){r||Hi(e)}function yf(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.href)||""}function hC(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ba(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,Ie.uI)()||(0,Ie.b$)()}get(){return function JR(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Pc(){return"http:"===hC()||"https:"===hC()}()||(0,Ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wf(r,e){ba(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ef{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _g={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},v2=new bf(3e4,6e4);function Rn(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function Bn(r,e,t,n){return(By=By||(0,F.Z)(function*(i,o,l,h,p={}){return vg(i,p,(0,F.Z)(function*(){let g={},w={};h&&("GET"===o?w=h:g={body:JSON.stringify(h)});const x=(0,Ie.xO)(Object.assign({key:i.config.apiKey},w)).slice(1),S=yield i._getAdditionalHeaders();return S["Content-Type"]="application/json",i.languageCode&&(S["X-Firebase-Locale"]=i.languageCode),Ef.fetch()(ub(i,i.config.apiHost,l,x),Object.assign({method:o,headers:S,referrerPolicy:"no-referrer"},g))}))})).apply(this,arguments)}function vg(r,e,t){return(jy=jy||(0,F.Z)(function*(n,i,o){n._canInitEmulator=!1;const l=Object.assign(Object.assign({},_g),i);try{const h=new t1(n),p=yield Promise.race([o(),h.promise]);h.clearNetworkTimeout();const g=yield p.json();if("needConfirmation"in g)throw If(n,"account-exists-with-different-credential",g);if(p.ok&&!("errorMessage"in g))return g;{const w=p.ok?g.errorMessage:g.error.message,[x,S]=w.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===x)throw If(n,"credential-already-in-use",g);if("EMAIL_EXISTS"===x)throw If(n,"email-already-in-use",g);if("USER_DISABLED"===x)throw If(n,"user-disabled",g);const k=l[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(S)throw function nd(r,e,t){const n=Object.assign(Object.assign({},YR()),{[e]:t});return new Ie.LL("auth","Firebase",n).create(e,{appName:r.name})}(n,k,S);ji(n,k)}}catch(h){if(h instanceof Ie.ZR)throw h;ji(n,"network-request-failed",{message:String(h)})}})).apply(this,arguments)}function ub(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?wf(r.config,i):`${r.config.apiScheme}://${i}`}class t1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Fs(this.auth,"network-request-failed")),v2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function If(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Fs(r,e,n);return i.customData._tokenResponse=t,i}function xf(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cf(r){return 1e3*Number(r)}function yg(r){const[e,t,n]=r.split(".");if(void 0===e||void 0===t||void 0===n)return gg("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,Ie.tV)(t);return i?JSON.parse(i):(gg("Failed to decode base64 JWT payload"),null)}catch(i){return gg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ls(r,e){return(ug=ug||(0,F.Z)(function*(t,n,i=!1){if(i)return n;try{return yield n}catch(o){throw o instanceof Ie.ZR&&function fb({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}(o)&&t.auth.currentUser===t&&(yield t.auth.signOut()),o}})).apply(this,arguments)}class mC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,F.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,F.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class gC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tf(r){return(No=No||(0,F.Z)(function*(e){var t;const n=e.auth,i=yield e.getIdToken(),o=yield Ls(e,function r1(r,e){return($y=$y||(0,F.Z)(function*(t,n){return Bn(t,"POST","/v1/accounts:lookup",n)})).apply(this,arguments)}(n,{idToken:i}));We(o?.users.length,n,"internal-error");const l=o.users[0];e._notifyReloadListener(l);const h=null!==(t=l.providerUserInfo)&&void 0!==t&&t.length?function mb(r){return r.map(e=>{var{providerId:t}=e,n=(0,Uy._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}(l.providerUserInfo):[],p=function pb(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}(e.providerData,h),x=!!e.isAnonymous&&!(e.email&&l.passwordHash||p?.length),S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new gC(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(e,S)})).apply(this,arguments)}class id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function bg(r){const e=yg(r);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,F.Z)(function*(){return We(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,F.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:l}=yield function _C(r,e){return(Fx=Fx||(0,F.Z)(function*(t,n){const i=yield vg(t,{},(0,F.Z)(function*(){const o=(0,Ie.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:l,apiKey:h}=t.config,p=ub(t,l,"/v1/token",`key=${h}`),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Ef.fetch()(p,{method:"POST",headers:g,body:o})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})).apply(this,arguments)}(e,t);n.updateTokensAndExpiration(i,o,Number(l))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new id;return n&&(We("string"==typeof n,"internal-error",{appName:e}),l.refreshToken=n),i&&(We("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),o&&(We("number"==typeof o,"internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new id,this.toJSON())}_performRefresh(){return Hi("not implemented")}}function ol(r,e){We("string"==typeof r||typeof r>"u","internal-error",{appName:e})}class Nc{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=(0,Uy._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gC(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,F.Z)(function*(){const n=yield Ls(t,t.stsTokenManager.getToken(t.auth,e));return We(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function hb(r){return(Gy=Gy||(0,F.Z)(function*(e,t=!1){const n=(0,Ie.m9)(e),i=yield n.getIdToken(t),o=yg(i);We(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l="object"==typeof o.firebase?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:i,authTime:xf(Cf(o.auth_time)),issuedAtTime:xf(Cf(o.iat)),expirationTime:xf(Cf(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function o1(r){return(Nx=Nx||(0,F.Z)(function*(e){const t=(0,Ie.m9)(e);yield Tf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,F.Z)(function*(){let i=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Tf(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,F.Z)(function*(){const t=yield e.getIdToken();return yield Ls(e,function pC(r,e){return(Hy=Hy||(0,F.Z)(function*(t,n){return Bn(t,"POST","/v1/accounts:delete",n)})).apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,h,p,g,w;const x=null!==(n=t.displayName)&&void 0!==n?n:void 0,S=null!==(i=t.email)&&void 0!==i?i:void 0,k=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,j=null!==(l=t.photoURL)&&void 0!==l?l:void 0,K=null!==(h=t.tenantId)&&void 0!==h?h:void 0,J=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,le=null!==(g=t.createdAt)&&void 0!==g?g:void 0,Pe=null!==(w=t.lastLoginAt)&&void 0!==w?w:void 0,{uid:Se,emailVerified:Ne,isAnonymous:ot,providerData:St,stsTokenManager:Kt}=t;We(Se&&Kt,e,"internal-error");const Qn=id.fromJSON(this.name,Kt);We("string"==typeof Se,e,"internal-error"),ol(x,e.name),ol(S,e.name),We("boolean"==typeof Ne,e,"internal-error"),We("boolean"==typeof ot,e,"internal-error"),ol(k,e.name),ol(j,e.name),ol(K,e.name),ol(J,e.name),ol(le,e.name),ol(Pe,e.name);const Xn=new Nc({uid:Se,auth:e,email:S,emailVerified:Ne,displayName:x,isAnonymous:ot,photoURL:j,phoneNumber:k,tenantId:K,stsTokenManager:Qn,createdAt:le,lastLoginAt:Pe});return St&&Array.isArray(St)&&(Xn.providerData=St.map(fo=>Object.assign({},fo))),J&&(Xn._redirectEventId=J),Xn}static _fromIdTokenResponse(e,t,n=!1){return(0,F.Z)(function*(){const i=new id;i.updateFromServerResponse(t);const o=new Nc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return yield Tf(o),o})()}}const gb=new Map;function ro(r){ba(r instanceof Function,"Expected a class definition");let e=gb.get(r);return e?(ba(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gb.set(r,e),e)}const wg=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,F.Z)(function*(){return!0})()}_set(t,n){var i=this;return(0,F.Z)(function*(){i.storage[t]=n})()}_get(t){var n=this;return(0,F.Z)(function*(){const i=n.storage[t];return void 0===i?null:i})()}_remove(t){var n=this;return(0,F.Z)(function*(){delete n.storage[t]})()}_addListener(t,n){}_removeListener(t,n){}}return r.type="NONE",r})();function sd(r,e,t){return`firebase:${r}:${e}:${t}`}class od{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,o),this.fullPersistenceKey=sd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,F.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Nc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,F.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,F.Z)(function*(){var i,o;if(!t.length)return new od(ro(wg),e,n);const l=(yield Promise.all(t.map(function(x){return(i=i||(0,F.Z)(function*(S){if(yield S._isAvailable())return S})).apply(this,arguments)}))).filter(x=>x);let h=l[0]||ro(wg);const p=sd(n,e.config.apiKey,e.name);let g=null;for(const x of t)try{const S=yield x._get(p);if(S){const k=Nc._fromJSON(e,S);x!==h&&(g=k),h=x;break}}catch{}const w=l.filter(x=>x._shouldAllowMigration);return h._shouldAllowMigration&&w.length?(h=w[0],g&&(yield h._set(p,g.toJSON())),yield Promise.all(t.map(function(x){return(o=o||(0,F.Z)(function*(S){if(S!==h)try{yield S._remove(p)}catch{}})).apply(this,arguments)})),new od(h,e,n)):new od(h,e,n)})()}}function _b(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Ig(e))return"Webos";if(Eg(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const n=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===n?.length)return n[1]}return"Other"}function vb(r=(0,Ie.z$)()){return/firefox\//i.test(r)}function Eg(r=(0,Ie.z$)()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(r=(0,Ie.z$)()){return/crios\//i.test(r)}function vC(r=(0,Ie.z$)()){return/iemobile/i.test(r)}function bb(r=(0,Ie.z$)()){return/android/i.test(r)}function wb(r=(0,Ie.z$)()){return/blackberry/i.test(r)}function Ig(r=(0,Ie.z$)()){return/webos/i.test(r)}function ad(r=(0,Ie.z$)()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Eb(r=(0,Ie.z$)()){return ad(r)||bb(r)||Ig(r)||wb(r)||/windows phone/i.test(r)||vC(r)}function Ib(r,e=[]){let t;switch(r){case"Browser":t=_b((0,Ie.z$)());break;case"Worker":t=`${_b((0,Ie.z$)())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xt.SDK_VERSION}/${n}`}class EC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,h)=>{try{l(e(o))}catch(p){h(p)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,F.Z)(function*(){if(t.auth.currentUser===e)return;const n=[];try{for(const i of t.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class al{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=l.minPasswordLength)&&void 0!==t?t:6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),void 0!==l.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),void 0!==l.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),void 0!==l.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),void 0!==l.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=null===(t=p.meetsMinPasswordLength)||void 0===t||t),p.isValid&&(p.isValid=null===(n=p.meetsMaxPasswordLength)||void 0===n||n),p.isValid&&(p.isValid=null===(i=p.containsLowercaseLetter)||void 0===i||i),p.isValid&&(p.isValid=null===(o=p.containsUppercaseLetter)||void 0===o||o),p.isValid&&(p.isValid=null===(l=p.containsNumericCharacter)||void 0===l||l),p.isValid&&(p.isValid=null===(h=p.containsNonAlphanumericCharacter)||void 0===h||h),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class c1{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cg(this),this.idTokenSubscription=new Cg(this),this.beforeStateQueue=new EC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=ro(t)),this._initializationPromise=this.queue((0,F.Z)(function*(){var i,o;if(!n._deleted&&(n.persistenceManager=yield od.create(n,e),!n._deleted)){if(null!==(i=n._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch{}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,F.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,F.Z)(function*(){var n;const i=yield t.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,p=o?._redirectEventId,g=yield t.tryRedirectSignIn(e);(!h||h===p)&&g?.user&&(o=g.user,l=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(o)}catch(h){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return We(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,F.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,F.Z)(function*(){try{yield Tf(e)}catch(n){if("auth/network-request-failed"!==n?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function e1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var e=this;return(0,F.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,F.Z)(function*(){const n=e?(0,Ie.m9)(e):null;return n&&We(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,F.Z)(function*(){if(!n._deleted)return e&&We(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,F.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,F.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,F.Z)(function*(){yield t.assertedPersistence.setPersistence(ro(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,F.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const n=t._getPasswordPolicyInternal();return n.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,F.Z)(function*(){const t=yield function IC(r){return(dg=dg||(0,F.Z)(function*(e,t={}){return Bn(e,"GET","/v2/passwordPolicy",Rn(e,t))})).apply(this,arguments)}(e),n=new al(t);null===e.tenantId?e._projectPasswordPolicy=n:e._tenantPasswordPolicies[e.tenantId]=n})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ie.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,F.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,F.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&ro(e)||t._popupRedirectResolver;We(n,t,"argument-error"),t.redirectPersistenceManager=yield od.create(t,[ro(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,F.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,F.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,F.Z)(function*(){if(e===t.currentUser)return t.queue((0,F.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),"function"==typeof t){const p=e.addObserver(t,n,i);return()=>{l=!0,p()}}{const p=e.addObserver(t);return()=>{l=!0,p()}}}directlySetCurrentUser(e){var t=this;return(0,F.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,F.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n})()}_getAppCheckToken(){var e=this;return(0,F.Z)(function*(){var t;const n=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return n?.error&&function XR(r,...e){cb.logLevel<=Bi.in.WARN&&cb.warn(`Auth (${xt.SDK_VERSION}): ${r}`,...e)}(`Error while retrieving App Check token: ${n.error}`),n?.token})()}}function cr(r){return(0,Ie.m9)(r)}class Cg{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,Ie.ne)(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xC(r){return`__${r}${Math.floor(1e6*Math.random())}`}function SC(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Cb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}class AC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}function Ea(r,e){return(Yy=Yy||(0,F.Z)(function*(t,n){return function wa(r,e,t,n){return(ff=ff||(0,F.Z)(function*(i,o,l,h,p={}){const g=yield Bn(i,o,l,h,p);return"mfaPendingCredential"in g&&ji(i,"multi-factor-auth-required",{_serverResponse:g}),g})).apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Rn(t,n))})).apply(this,arguments)}class ul{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class v1 extends ul{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,F.Z)(function*(){const o=yield Nc._fromIdTokenResponse(e,n,i),l=Pb(n);return new bi({user:o,providerId:l,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,F.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const i=Pb(n);return new bi({user:e,providerId:i,_tokenResponse:n,operationType:t})})()}}function Pb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Rf extends Ie.ZR{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Rf(e,t,n,i)}}function Nb(r,e,t,n){return("reauthenticate"===e?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Rf._fromErrorAndOperation(r,o,e,n):o})}const Rg="__sak";class WC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rg,"1"),this.storage.removeItem(Rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KC=(()=>{class r extends WC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function L1(){const r=(0,Ie.z$)();return Eg(r)||ad(r)}()&&function wC(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&t(n,o,i)}}onStorageEvent(t,n=!1){if(!t.key)return void this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);!function bC(){return(0,Ie.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,n){var i=()=>super._set,o=this;return(0,F.Z)(function*(){yield i().call(o,t,n),o.localCache[t]=JSON.stringify(n)})()}_get(t){var n=()=>super._get,i=this;return(0,F.Z)(function*(){const o=yield n().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var n=()=>super._remove,i=this;return(0,F.Z)(function*(){yield n().call(i,t),delete i.localCache[t]})()}}return r.type="LOCAL",r})(),fd=(()=>{class r extends WC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}return r.type="SESSION",r})();let U1=(()=>{class r{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const i=new r(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var n=this;return(0,F.Z)(function*(){var i;const o=t,{eventId:l,eventType:h,data:p}=o.data,g=n.handlersMap[h];if(!g?.size)return;o.ports[0].postMessage({status:"ack",eventId:l,eventType:h});const w=Array.from(g).map(function(S){return(i=i||(0,F.Z)(function*(k){return k(o.origin,p)})).apply(this,arguments)}),x=yield function Pf(r){var e;return Promise.all(r.map(function(t){return(e=e||(0,F.Z)(function*(n){try{return{fulfilled:!0,value:yield n}}catch(i){return{fulfilled:!1,reason:i}}})).apply(this,arguments)}))}(w);o.ports[0].postMessage({status:"done",eventId:l,eventType:h,response:x})})()}_subscribe(t,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return r.receivers=[],r})();function Wb(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(10*Math.random());return r+t}class B1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,F.Z)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((p,g)=>{const w=Wb("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},n);h={messageChannel:o,onMessage(S){const k=S;if(k.data.eventId===w)switch(k.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(k.data.response);break;default:clearTimeout(x),clearTimeout(l),g(new Error("invalid_response"))}}},i.handlers.add(h),o.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:w,data:t},[o.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function rr(){return window}function Og(){return typeof rr().WorkerGlobalScope<"u"&&"function"==typeof rr().importScripts}const XC="firebaseLocalStorageDb",Zb="firebaseLocalStorage",z1="fbase_key";class Pg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nf(r,e){return r.transaction([Zb],e?"readwrite":"readonly").objectStore(Zb)}function Kb(){const r=indexedDB.open(XC,1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Zb,{keyPath:z1})}catch(i){t(i)}}),r.addEventListener("success",(0,F.Z)(function*(){const n=r.result;n.objectStoreNames.contains(Zb)?e(n):(n.close(),yield function Ng(){const r=indexedDB.deleteDatabase(XC);return new Pg(r).toPromise()}(),e(yield Kb()))}))})}function JC(r,e,t){return(lC=lC||(0,F.Z)(function*(n,i,o){const l=Nf(n,!0).put({[z1]:i,value:o});return new Pg(l).toPromise()})).apply(this,arguments)}function pd(r,e){const t=Nf(r,!0).delete(e);return new Pg(t).toPromise()}const q1=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,F.Z)(function*(){return t.db||(t.db=yield Kb()),t.db})()}_withRetries(t){var n=this;return(0,F.Z)(function*(){let i=0;for(;;)try{const o=yield n._openDb();return yield t(o)}catch(o){if(i++>3)throw o;n.db&&(n.db.close(),n.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,F.Z)(function*(){return Og()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,F.Z)(function*(){var n,i;t.receiver=U1._getInstance(function H1(){return Og()?self:null}()),t.receiver._subscribe("keyChanged",function(o,l){return(n=n||(0,F.Z)(function*(h,p){return{keyProcessed:(yield t._poll()).includes(p.key)}})).apply(this,arguments)}),t.receiver._subscribe("ping",function(o,l){return(i=i||(0,F.Z)(function*(h,p){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var t=this;return(0,F.Z)(function*(){var n,i;if(t.activeServiceWorker=yield function j1(){return(_f=_f||(0,F.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new B1(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(n=o[0])&&void 0!==n&&n.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var n=this;return(0,F.Z)(function*(){if(n.sender&&n.activeServiceWorker&&function QC(){var r;return(null===(r=navigator?.serviceWorker)||void 0===r?void 0:r.controller)||null}()===n.activeServiceWorker)try{yield n.sender._send("keyChanged",{key:t},n.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,F.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Kb();return yield JC(t,Rg,"1"),yield pd(t,Rg),!0}catch{}return!1})()}_withPendingWrite(t){var n=this;return(0,F.Z)(function*(){n.pendingWrites++;try{yield t()}finally{n.pendingWrites--}})()}_set(t,n){var i=this;return(0,F.Z)(function*(){return i._withPendingWrite((0,F.Z)(function*(){return yield i._withRetries(o=>JC(o,t,n)),i.localCache[t]=n,i.notifyServiceWorker(t)}))})()}_get(t){var n=this;return(0,F.Z)(function*(){const i=yield n._withRetries(o=>function eT(r,e){return(cC=cC||(0,F.Z)(function*(t,n){const i=Nf(t,!1).get(n),o=yield new Pg(i).toPromise();return void 0===o?null:o.value})).apply(this,arguments)}(o,t));return n.localCache[t]=i,i})()}_remove(t){var n=this;return(0,F.Z)(function*(){return n._withPendingWrite((0,F.Z)(function*(){return yield n._withRetries(i=>pd(i,t)),delete n.localCache[t],n.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,F.Z)(function*(){const n=yield t._withRetries(l=>{const h=Nf(l,!1).getAll();return new Pg(h).toPromise()});if(!n)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:l,value:h}of n)o.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!o.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,F.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return r.type="LOCAL",r})();xC("rcb"),new bf(3e4,6e4);class e0 extends AC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rk(r){return function LC(r,e){return(Wx=Wx||(0,F.Z)(function*(t,n,i=!1){const o="signIn",l=yield Nb(t,o,n),h=yield bi._fromIdTokenResponse(t,o,l);return i||(yield t._updateCurrentUser(h.user)),h})).apply(this,arguments)}(r.auth,new e0(r),r.bypassAuthState)}function ik(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),function FC(r,e){return(qx=qx||(0,F.Z)(function*(t,n,i=!1){const{auth:o}=t,l="reauthenticate";try{const h=yield Ls(t,Nb(o,l,n,t),i);We(h.idToken,o,"internal-error");const p=yg(h.idToken);We(p,o,"internal-error");const{sub:g}=p;return We(t.uid===g,o,"user-mismatch"),bi._forOperation(t,l,h)}catch(h){throw"auth/user-not-found"===h?.code&&ji(o,"user-mismatch"),h}})).apply(this,arguments)}(t,new e0(r),r.bypassAuthState)}function sk(r){return(il=il||(0,F.Z)(function*(e){const{auth:t,user:n}=e;return We(n,t,"internal-error"),function Dg(r,e){return(ed=ed||(0,F.Z)(function*(t,n,i=!1){const o=yield Ls(t,n._linkToIdToken(t.auth,yield t.getIdToken()),i);return bi._forOperation(t,"link",o)})).apply(this,arguments)}(n,new e0(e),e.bypassAuthState)})).apply(this,arguments)}class oT{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var t,e=this;return new Promise(function(n,i){return(t=t||(0,F.Z)(function*(o,l){e.pendingPromise={resolve:o,reject:l};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(h){e.reject(h)}})).apply(this,arguments)})}onAuthEvent(e){var t=this;return(0,F.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const g={auth:t.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(g))}catch(w){t.reject(w)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rk;case"linkViaPopup":case"linkViaRedirect":return sk;case"reauthViaPopup":case"reauthViaRedirect":return ik;default:ji(this.auth,"internal-error")}}resolve(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new bf(2e3,1e4);const lk="pendingRedirect",Ff=new Map;class ck extends oT{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,F.Z)(function*(){let n=Ff.get(t.auth._key());if(!n){try{const o=(yield function n0(r,e){return(Cc=Cc||(0,F.Z)(function*(t,n){const i=function lT(r){return sd(lk,r.config.apiKey,r.name)}(n),o=function aT(r){return ro(r._redirectPersistence)}(t);if(!(yield o._isAvailable()))return!1;const l="true"===(yield o._get(i));return yield o._remove(i),l})).apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(o)}catch(i){n=()=>Promise.reject(i)}Ff.set(t.auth._key(),n)}return t.bypassAuthState||Ff.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,F.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const i=yield n.auth._redirectUserForId(e.eventId);if(i)return n.user=i,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,F.Z)(function*(){})()}cleanUp(){}}function r0(r,e){Ff.set(r._key(),e)}function Lg(r,e){return(Rc=Rc||(0,F.Z)(function*(t,n,i=!1){const o=cr(t),l=function Vc(r,e){return e?ro(e):(We(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}(o,n),p=yield new ck(o,l,i).execute();return p&&!i&&(delete p.user._redirectEventId,yield o._persistUserIfCurrent(p.user),yield o._setRedirectUser(null,n)),p})).apply(this,arguments)}class uT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hT(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(r);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!dT(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dT({type:r,error:e}){return"unknown"===r&&"auth/no-auth-event"===e?.code}const fT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pT=/^https?/;function gT(r){const e=yf(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return""===l.hostname&&""===n?"chrome-extension:"===t&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===n}if(!pT.test(t))return!1;if(fT.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const gk=new bf(3e4,6e4);function _T(){const r=rr().___jsl;if(r?.H)for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}let Ug=null;function vT(r){return Ug=Ug||function _k(r){return new Promise((e,t)=>{var n,i,o;function l(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),t(Fs(r,"network-request-failed"))},timeout:gk.get()})}if(null!==(i=null===(n=rr().gapi)||void 0===n?void 0:n.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=rr().gapi)||void 0===o||!o.load){const h=xC("iframefcb");return rr()[h]=()=>{gapi.load?l():t(Fs(r,"network-request-failed"))},function Df(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=Fs("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",function Fc(){var r,e;return null!==(e=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==e?e:document}().appendChild(n)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw Ug=null,e})}(r),Ug}const G2=new bf(5e3,15e3),yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bk(r){const e=r.config;We(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wf(e,"emulator/auth/iframe"):`https://${r.config.authDomain}/__/auth/iframe`,n={apiKey:e.apiKey,appName:r.name,v:xt.SDK_VERSION},i=q2.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${(0,Ie.xO)(n).slice(1)}`}const Ek={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vf=encodeURIComponent("fac");function a0(r,e,t,n,i,o){return(ab=ab||(0,F.Z)(function*(l,h,p,g,w,x){We(l.config.authDomain,l,"auth-domain-config-required"),We(l.config.apiKey,l,"invalid-api-key");const S={apiKey:l.config.apiKey,appName:l.name,authType:p,redirectUrl:g,v:xt.SDK_VERSION,eventId:w};if(h instanceof ul){h.setDefaultLanguage(l.languageCode),S.providerId=h.providerId||"",(0,Ie.xb)(h.getCustomParameters())||(S.customParameters=JSON.stringify(h.getCustomParameters()));for(const[J,le]of Object.entries(x||{}))S[J]=le}if(h instanceof v1){const J=h.getScopes().filter(le=>""!==le);J.length>0&&(S.scopes=J.join(","))}l.tenantId&&(S.tid=l.tenantId);const k=S;for(const J of Object.keys(k))void 0===k[J]&&delete k[J];const j=yield l._getAppCheckToken(),K=j?`#${Vf}=${encodeURIComponent(j)}`:"";return`${function wT({config:r}){return r.emulator?wf(r,"emulator/auth/handler"):`https://${r.authDomain}/__/auth/handler`}(l)}?${(0,Ie.xO)(k).slice(1)}${K}`})).apply(this,arguments)}const Bg="webStorageSupport",IT=class ET{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fd,this._completeRedirectFn=Lg,this._overrideRedirectResult=r0}_openPopup(e,t,n,i){var o=this;return(0,F.Z)(function*(){var l;ba(null===(l=o.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=yield a0(e,t,n,yf(),i);return function Dk(r,e,t,n=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Ek),{width:n.toString(),height:i.toString(),top:o,left:l}),g=(0,Ie.z$)().toLowerCase();t&&(h=yb(g)?"_blank":t),vb(g)&&(e=e||"http://localhost",p.scrollbars="yes");const w=Object.entries(p).reduce((S,[k,j])=>`${S}${k}=${j},`,"");if(function yC(r=(0,Ie.z$)()){var e;return ad(r)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==h)return function Sk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}(e||"",h),new bT(null);const x=window.open(e||"",h,w);We(x,r,"popup-blocked");try{x.focus()}catch{}return new bT(x)}(e,h,Wb())})()}_openRedirect(e,t,n,i){var o=this;return(0,F.Z)(function*(){return yield o._originValidation(e),function YC(r){rr().location.href=r}(yield a0(e,t,n,yf(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ba(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,F.Z)(function*(){const n=yield function wk(r){return(ob=ob||(0,F.Z)(function*(e){const t=yield vT(e),n=rr().gapi;return We(n,e,"internal-error"),t.open({where:document.body,url:bk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},i=>{var o;return new Promise(function(l,h){return(o=o||(0,F.Z)(function*(p,g){yield i.restyle({setHideOnLeave:!1});const w=Fs(e,"network-request-failed"),x=rr().setTimeout(()=>{g(w)},G2.get());function S(){rr().clearTimeout(x),p(i)}i.ping(S).then(S,()=>{g(w)})})).apply(this,arguments)})})})).apply(this,arguments)}(e),i=new uT(e);return n.register("authEvent",o=>(We(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=n,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bg,{type:Bg},i=>{var o;const l=null===(o=i?.[0])||void 0===o?void 0:o[Bg];void 0!==l&&t(!!l),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function mT(r){return(sb=sb||(0,F.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function o0(r){return(Oc=Oc||(0,F.Z)(function*(e,t={}){return Bn(e,"GET","/v1/projects",t)})).apply(this,arguments)}(e);for(const n of t)try{if(gT(n))return}catch{}ji(e,"unauthorized-domain")})).apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Eb()||Eg()||ad()}};var TT="@firebase/auth";class Uf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,F.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Z2=(0,Ie.Pz)("authIdTokenMaxAge")||300;let ST=null;const K2=r=>{var e;return function(t){return(e=e||(0,F.Z)(function*(n){const i=n&&(yield n.getIdTokenResult()),o=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>Z2)return;const l=i?.token;ST!==l&&(ST=l,yield fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))})).apply(this,arguments)}};function Bf(r=(0,xt.getApp)()){const e=(0,xt._getProvider)(r,"auth");if(e.isInitialized())return e.getImmediate();const t=function u1(r,e){const t=(0,xt._getProvider)(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if((0,Ie.vZ)(o,e??{}))return i;ji(i,"already-initialized")}return t.initialize({options:e})}(r,{popupRedirectResolver:IT,persistence:[q1,KC,fd]}),n=(0,Ie.Pz)("authTokenSyncURL");if(n){const o=K2(n);(function hd(r,e,t){(0,Ie.m9)(r).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function P1(r,e,t,n){(0,Ie.m9)(r).onIdTokenChanged(e,t,n)}(t,l=>o(l))}const i=(0,Ie.q4)("auth");return i&&function DC(r,e,t){const n=cr(r);We(n._canInitEmulator,n,"emulator-config-failed"),We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=SC(e),{host:l,port:h}=function d1(r){const e=SC(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:Cb(n.substr(o.length+1))}}{const[o,l]=n.split(":");return{host:o,port:Cb(l)}}}(e);n.config.emulator={url:`${o}//${l}${null===h?"":`:${h}`}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function h1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r())}()}(t,`http://${i}`),t}!function c0(r){(0,xt._registerComponent)(new us.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=n.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:l,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(r)},g=new c1(n,i,o,p);return function wr(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ro);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,xt._registerComponent)(new us.wA("auth-internal",e=>{const t=cr(e.getProvider("auth").getImmediate());return new Uf(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,xt.registerVersion)(TT,"1.3.0",function Rk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,xt.registerVersion)(TT,"1.3.0","esm2017")}("Browser");var u0=L(3019),md=L(3093);const d0={now:()=>(d0.delegate||Date).now(),delegate:void 0};class Hg extends qt.x{constructor(e=1/0,t=1/0,n=d0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;t||(n.push(e),!i&&n.push(o.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!e.closed;l+=n?1:2)e.next(o[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){const l=t.now();let h=0;for(let p=1;p<n.length&&n[p]<=l;p+=2)h=p;h&&n.splice(0,h+1)}}}var h0=L(3020);function f0(r,e,t){let n,i=!1;return r&&"object"==typeof r?({bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=r):n=r??1/0,(0,h0.B)({connector:()=>new Hg(n,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function p0(r,e){return(0,Xr.m)(e)?(0,Ln.w)(()=>r,e):(0,Ln.w)(()=>r)}var pl=L(5137);(0,xt.registerVersion)("firebase","9.23.0","app");const AT=(r,e)=>e.some(t=>r instanceof t);let MT,RT;const OT=new WeakMap,m0=new WeakMap,g0=new WeakMap,$g=new WeakMap,jf=new WeakMap;let Gg={get(r,e,t){if(r instanceof IDBTransaction){if("done"===e)return m0.get(r);if("objectStoreNames"===e)return r.objectStoreNames||g0.get(r);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vo(r[e])},set:(r,e,t)=>(r[e]=t,!0),has:(r,e)=>r instanceof IDBTransaction&&("done"===e||"store"===e)||e in r};function Lk(r){return"function"==typeof r?function Fk(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zg(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(r)?function(...e){return r.apply(Hf(this),e),Vo(OT.get(this))}:function(...e){return Vo(r.apply(Hf(this),e))}:function(e,...t){const n=r.call(Hf(this),e,...t);return g0.set(n,e.sort?e.sort():[e]),Vo(n)}}(r):(r instanceof IDBTransaction&&function Nk(r){if(m0.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});m0.set(r,e)}(r),AT(r,function kT(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(r,Gg):r)}function Vo(r){if(r instanceof IDBRequest)return function PT(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Vo(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&OT.set(t,r)}).catch(()=>{}),jf.set(e,r),e}(r);if($g.has(r))return $g.get(r);const e=Lk(r);return e!==r&&($g.set(r,e),jf.set(e,r)),e}const Hf=r=>jf.get(r),_0=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],v0=new Map;function VT(r,e){var t;if(!(r instanceof IDBDatabase)||e in r||"string"!=typeof e)return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Vk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!_0.includes(n))return;const l=function(p){return(t=t||(0,F.Z)(function*(g,...w){const x=this.transaction(g,o?"readwrite":"readonly");let S=x.store;return i&&(S=S.index(w.shift())),(yield Promise.all([S[n](...w),o&&x.done]))[0]})).apply(this,arguments)};return v0.set(e,l),l}var UT,y0,qg,b0,w0,E0,I0,BT,x0,C0,jT,T0,D0,si,Bc,HT;!function NT(r){Gg=r(Gg)}(r=>({...r,get:(e,t,n)=>VT(e,t)||r.get(e,t,n),has:(e,t)=>!!VT(e,t)||r.has(e,t)}));const Bk="@firebase/installations",Wg="0.6.4",Zg=1e4,jk=`w:${Wg}`,Hk="FIS_v2",Y2="https://firebaseinstallations.googleapis.com/v1",zf=36e5,Uo=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $T(r){return r instanceof Ie.ZR&&r.code.includes("request-failed")}function A0({projectId:r}){return`${Y2}/projects/${r}/installations`}function GT(r){return{token:r.token,requestStatus:2,expiresIn:R0(r.expiresIn),creationTime:Date.now()}}function $f(r,e){return(UT=UT||(0,F.Z)(function*(t,n){const o=(yield n.json()).error;return Uo.create("request-failed",{requestName:t,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})})).apply(this,arguments)}function M0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function gd(r){return(y0=y0||(0,F.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function R0(r){return Number(r.replace("s","000"))}function ZT(r){return new Promise(e=>{setTimeout(e,r)})}const _d=/^[cdef][\w-]{21}$/,k0="";function YT(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=function O0(r){return function KT(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}(r).substr(0,22)}(r);return _d.test(t)?t:k0}catch{return k0}}function Gf(r){return`${r.appName}!${r.appId}`}const vd=new Map;function Gk(r,e){const t=Gf(r);QT(t,e),function XT(r,e){const t=function JT(){return!ml&&"BroadcastChannel"in self&&(ml=new BroadcastChannel("[Firebase] FID Change"),ml.onmessage=r=>{QT(r.data.key,r.data.fid)}),ml}();t&&t.postMessage({key:r,fid:e}),function P0(){0===vd.size&&ml&&(ml.close(),ml=null)}()}(t,e)}function QT(r,e){const t=vd.get(r);if(t)for(const n of t)n(e)}let ml=null;const eD="firebase-installations-database",Zk=1,jc="firebase-installations-store";let Kg=null;function N0(){return Kg||(Kg=function FT(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),h=Vo(l);return n&&l.addEventListener("upgradeneeded",p=>{n(Vo(l.result),p.oldVersion,p.newVersion,Vo(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),h.then(p=>{o&&p.addEventListener("close",()=>o()),i&&p.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}(eD,Zk,{upgrade:(r,e)=>{0===e&&r.createObjectStore(jc)}})),Kg}function qf(r,e){return(b0=b0||(0,F.Z)(function*(t,n){const i=Gf(t),l=(yield N0()).transaction(jc,"readwrite"),h=l.objectStore(jc),p=yield h.get(i);return yield h.put(n,i),yield l.done,(!p||p.fid!==n.fid)&&Gk(t,n.fid),n})).apply(this,arguments)}function Yg(r){return(w0=w0||(0,F.Z)(function*(e){const t=Gf(e),i=(yield N0()).transaction(jc,"readwrite");yield i.objectStore(jc).delete(t),yield i.done})).apply(this,arguments)}function yd(r,e){return(E0=E0||(0,F.Z)(function*(t,n){const i=Gf(t),l=(yield N0()).transaction(jc,"readwrite"),h=l.objectStore(jc),p=yield h.get(i),g=n(p);return void 0===g?yield h.delete(i):yield h.put(g,i),yield l.done,g&&(!p||p.fid!==g.fid)&&Gk(t,g.fid),g})).apply(this,arguments)}function Qg(r){return(I0=I0||(0,F.Z)(function*(e){let t;const n=yield yd(e.appConfig,i=>{const o=function Kk(r){return Xk(r||{fid:YT(),registrationStatus:0})}(i),l=function Yk(r,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Uo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=function X2(r,e){return(BT=BT||(0,F.Z)(function*(t,n){try{const i=yield function WT(r,e){return(qg=qg||(0,F.Z)(function*({appConfig:t,heartbeatServiceProvider:n},{fid:i}){const o=A0(t),l=M0(t),h=n.getImmediate({optional:!0});if(h){const x=yield h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const g={method:"POST",headers:l,body:JSON.stringify({fid:i,authVersion:Hk,appId:t.appId,sdkVersion:jk})},w=yield gd(()=>fetch(o,g));if(w.ok){const x=yield w.json();return{fid:x.fid||i,registrationStatus:2,refreshToken:x.refreshToken,authToken:GT(x.authToken)}}throw yield $f("Create Installation",w)})).apply(this,arguments)}(t,n);return qf(t.appConfig,i)}catch(i){throw $T(i)&&409===i.customData.serverCode?yield Yg(t.appConfig):yield qf(t.appConfig,{fid:n.fid,registrationStatus:0}),i}})).apply(this,arguments)}(r,t);return{installationEntry:t,registrationPromise:n}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tD(r)}:{installationEntry:e}}(e,o);return t=l.registrationPromise,l.installationEntry});return n.fid===k0?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function tD(r){return(x0=x0||(0,F.Z)(function*(e){let t=yield Qk(e.appConfig);for(;1===t.registrationStatus;)yield ZT(100),t=yield Qk(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield Qg(e);return i||n}return t})).apply(this,arguments)}function Qk(r){return yd(r,e=>{if(!e)throw Uo.create("installation-not-found");return Xk(e)})}function Xk(r){return function J2(r){return 1===r.registrationStatus&&r.registrationTime+Zg<Date.now()}(r)?{fid:r.fid,registrationStatus:0}:r}function eV(r,e){return(C0=C0||(0,F.Z)(function*({appConfig:t,heartbeatServiceProvider:n},i){const o=function tV(r,{fid:e}){return`${A0(r)}/${e}/authTokens:generate`}(t,i),l=function qT(r,{refreshToken:e}){const t=M0(r);return t.append("Authorization",function Q2(r){return`${Hk} ${r}`}(e)),t}(t,i),h=n.getImmediate({optional:!0});if(h){const x=yield h.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const g={method:"POST",headers:l,body:JSON.stringify({installation:{sdkVersion:jk,appId:t.appId}})},w=yield gd(()=>fetch(o,g));if(w.ok)return GT(yield w.json());throw yield $f("Generate Auth Token",w)})).apply(this,arguments)}function nD(r){return(jT=jT||(0,F.Z)(function*(e,t=!1){let n;const i=yield yd(e.appConfig,l=>{if(!F0(l))throw Uo.create("not-registered");const h=l.authToken;if(!t&&function L0(r){return 2===r.requestStatus&&!function rD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+zf}(r)}(h))return l;if(1===h.requestStatus)return n=function nV(r,e){return(T0=T0||(0,F.Z)(function*(t,n){let i=yield Jk(t.appConfig);for(;1===i.authToken.requestStatus;)yield ZT(100),i=yield Jk(t.appConfig);const o=i.authToken;return 0===o.requestStatus?nD(t,n):o})).apply(this,arguments)}(e,t),l;{if(!navigator.onLine)throw Uo.create("app-offline");const p=function eO(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}(l);return n=function rV(r,e){return(D0=D0||(0,F.Z)(function*(t,n){try{const i=yield eV(t,n),o=Object.assign(Object.assign({},n),{authToken:i});return yield qf(t.appConfig,o),i}catch(i){if(!$T(i)||401!==i.customData.serverCode&&404!==i.customData.serverCode){const o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});yield qf(t.appConfig,o)}else yield Yg(t.appConfig);throw i}})).apply(this,arguments)}(e,p),p}});return n?yield n:i.authToken})).apply(this,arguments)}function Jk(r){return yd(r,e=>{if(!F0(e))throw Uo.create("not-registered");return function Xg(r){return 1===r.requestStatus&&r.requestTime+Zg<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function F0(r){return void 0!==r&&2===r.registrationStatus}function V0(r){return Uo.create("missing-app-config-values",{valueName:r})}const bd="installations",rO=r=>{const e=r.getProvider("app").getImmediate(),t=function cV(r){if(!r||!r.options)throw V0("App Configuration");if(!r.name)throw V0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw V0(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,xt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},iO=r=>{const e=r.getProvider("app").getImmediate(),t=(0,xt._getProvider)(e,bd).getImmediate();return{getId:()=>function tO(r){return(si=si||(0,F.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:i}=yield Qg(t);return i?i.catch(console.error):nD(t).catch(console.error),n.fid})).apply(this,arguments)}(t),getToken:i=>function iV(r){return(Bc=Bc||(0,F.Z)(function*(e,t=!1){const n=e;return yield function sV(r){return(HT=HT||(0,F.Z)(function*(e){const{registrationPromise:t}=yield Qg(e);t&&(yield t)})).apply(this,arguments)}(n),(yield nD(n,t)).token})).apply(this,arguments)}(t,i)}};var e_;(function sO(){(0,xt._registerComponent)(new us.wA(bd,rO,"PUBLIC")),(0,xt._registerComponent)(new us.wA("installations-internal",iO,"PRIVATE"))})(),(0,xt.registerVersion)(Bk,Wg),(0,xt.registerVersion)(Bk,Wg,"esm2017");const U0="@firebase/remote-config",zi=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gl{constructor(e,t,n,i){this.client=e,this.storage=t,this.storageCache=n,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,i=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,F.Z)(function*(){const[n,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&l.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(l),o})()}}function hD(r=navigator){return r.languages&&r.languages[0]||r.language}class $0{constructor(e,t,n,i,o,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=i,this.apiKey=o,this.appId=l}fetch(e){var t=this;return(0,F.Z)(function*(){const[n,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:i,app_id:t.appId,language_code:hD()},g={method:"POST",headers:h,body:JSON.stringify(p)},w=fetch(l,g),x=new Promise((le,Pe)=>{e.signal.addEventListener(()=>{const Se=new Error("The operation was aborted.");Se.name="AbortError",Pe(Se)})});let S;try{yield Promise.race([w,x]),S=yield w}catch(le){let Pe="fetch-client-network";throw"AbortError"===le?.name&&(Pe="fetch-timeout"),zi.create(Pe,{originalErrorMessage:le?.message})}let k=S.status;const j=S.headers.get("ETag")||void 0;let K,J;if(200===S.status){let le;try{le=yield S.json()}catch(Pe){throw zi.create("fetch-client-parse",{originalErrorMessage:Pe?.message})}K=le.entries,J=le.state}if("INSTANCE_STATE_UNSPECIFIED"===J?k=500:"NO_CHANGE"===J?k=304:("NO_TEMPLATE"===J||"EMPTY_CONFIG"===J)&&(K={}),304!==k&&200!==k)throw zi.create("fetch-status",{httpStatus:k});return{status:k,eTag:j,config:K}})()}}class pV{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,F.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var i=this;return(0,F.Z)(function*(){yield function G0(r,e){return new Promise((t,n)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);r.addEventListener(()=>{clearTimeout(o),n(zi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function fO(r){if(!(r instanceof Ie.ZR&&r.customData))return!1;const e=Number(r.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const l={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(n),backoffCount:n+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class mO{constructor(e,t,n,i,o){this.app=e,this._client=t,this._storageCache=n,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function t_(r,e){const t=r.target.error||void 0;return zi.create(e,{originalErrorMessage:t&&t?.message})}const Hc="app_namespace_store";class gO{constructor(e,t,n,i=function mD(){return new Promise((r,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=n=>{e(t_(n,"storage-open"))},t.onsuccess=n=>{r(n.target.result)},t.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(Hc,{keyPath:"compositeKey"})}}catch(t){e(zi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,F.Z)(function*(){const n=yield t.openDbPromise;return new Promise((i,o)=>{const h=n.transaction([Hc],"readonly").objectStore(Hc),p=t.createCompositeKey(e);try{const g=h.get(p);g.onerror=w=>{o(t_(w,"storage-get"))},g.onsuccess=w=>{const x=w.target.result;i(x?x.value:void 0)}}catch(g){o(zi.create("storage-get",{originalErrorMessage:g?.message}))}})})()}set(e,t){var n=this;return(0,F.Z)(function*(){const i=yield n.openDbPromise;return new Promise((o,l)=>{const p=i.transaction([Hc],"readwrite").objectStore(Hc),g=n.createCompositeKey(e);try{const w=p.put({compositeKey:g,value:t});w.onerror=x=>{l(t_(x,"storage-set"))},w.onsuccess=()=>{o()}}catch(w){l(zi.create("storage-set",{originalErrorMessage:w?.message}))}})})()}delete(e){var t=this;return(0,F.Z)(function*(){const n=yield t.openDbPromise;return new Promise((i,o)=>{const h=n.transaction([Hc],"readwrite").objectStore(Hc),p=t.createCompositeKey(e);try{const g=h.delete(p);g.onerror=w=>{o(t_(w,"storage-delete"))},g.onsuccess=()=>{i()}}catch(g){o(zi.create("storage-delete",{originalErrorMessage:g?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class gD{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,F.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const l=yield n;l&&(e.lastSuccessfulFetchTimestampMillis=l);const h=yield i;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function vD(){return(e_=e_||(0,F.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function gV(){(0,xt._registerComponent)(new us.wA("remote-config",function r(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zi.create("registration-window");if(!(0,Ie.hl)())throw zi.create("indexed-db-unavailable");const{projectId:o,apiKey:l,appId:h}=n.options;if(!o)throw zi.create("registration-project-id");if(!l)throw zi.create("registration-api-key");if(!h)throw zi.create("registration-app-id");const p=new gO(h,n.name,t=t||"firebase"),g=new gD(p),w=new Bi.Yd(U0);w.logLevel=Bi.in.ERROR;const x=new $0(i,xt.SDK_VERSION,t,o,l,h),S=new pV(x,p),k=new gl(S,p,g,w),j=new mO(n,k,g,p,w);return function dD(r){const e=(0,Ie.m9)(r);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(U0,"0.4.4"),(0,xt.registerVersion)(U0,"0.4.4","esm2017")}();const yD=(r,e)=>e.some(t=>r instanceof t);let bD,q0;const Zf=new WeakMap,n_=new WeakMap,W0=new WeakMap,Z0=new WeakMap,K0=new WeakMap;let Y0={get(r,e,t){if(r instanceof IDBTransaction){if("done"===e)return n_.get(r);if("objectStoreNames"===e)return r.objectStoreNames||W0.get(r);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _l(r[e])},set:(r,e,t)=>(r[e]=t,!0),has:(r,e)=>r instanceof IDBTransaction&&("done"===e||"store"===e)||e in r};function yV(r){return"function"==typeof r?function vV(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wd(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(r)?function(...e){return r.apply(r_(this),e),_l(Zf.get(this))}:function(...e){return _l(r.apply(r_(this),e))}:function(e,...t){const n=r.call(r_(this),e,...t);return W0.set(n,e.sort?e.sort():[e]),_l(n)}}(r):(r instanceof IDBTransaction&&function ED(r){if(n_.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});n_.set(r,e)}(r),yD(r,function wD(){return bD||(bD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(r,Y0):r)}function _l(r){if(r instanceof IDBRequest)return function _V(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(_l(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Zf.set(t,r)}).catch(()=>{}),K0.set(e,r),e}(r);if(Z0.has(r))return Z0.get(r);const e=yV(r);return e!==r&&(Z0.set(r,e),K0.set(e,r)),e}const r_=r=>K0.get(r);function ID(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),h=_l(l);return n&&l.addEventListener("upgradeneeded",p=>{n(_l(l.result),p.oldVersion,p.newVersion,_l(l.transaction))}),t&&l.addEventListener("blocked",()=>t()),h.then(p=>{o&&p.addEventListener("close",()=>o()),i&&p.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}function Q0(r,{blocked:e}={}){const t=indexedDB.deleteDatabase(r);return e&&t.addEventListener("blocked",()=>e()),_l(t).then(()=>{})}const vO=["get","getKey","getAll","getAllKeys","count"],bV=["put","add","delete","clear"],xD=new Map;function yO(r,e){var t;if(!(r instanceof IDBDatabase)||e in r||"string"!=typeof e)return;if(xD.get(e))return xD.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=bV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!vO.includes(n))return;const l=function(p){return(t=t||(0,F.Z)(function*(g,...w){const x=this.transaction(g,o?"readwrite":"readonly");let S=x.store;return i&&(S=S.index(w.shift())),(yield Promise.all([S[n](...w),o&&x.done]))[0]})).apply(this,arguments)};return xD.set(e,l),l}var bO,wO,CD,Kf,TD,DD,X0,vl,J0,i_,s_,SD,o_,a_,Yf,EO,IO,xO,ew,AD;!function _O(r){Y0=r(Y0)}(r=>({...r,get:(e,t,n)=>yO(e,t)||r.get(e,t,n),has:(e,t)=>!!yO(e,t)||r.has(e,t)}));const CO="/firebase-messaging-sw.js",kD="/firebase-cloud-messaging-push-scope",tw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OD="https://fcmregistrations.googleapis.com/v1",PD="google.c.a.c_id",TO="google.c.a.c_l",ND="google.c.a.ts";var Qf=function(r){return r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked",r}(Qf||{});function so(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function DO(r){const t=(r+"=".repeat((4-r.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}const rw="fcm_token_details_db",EV=5,SO="fcm_token_object_Store",RO="firebase-messaging-database",kO=1,yl="firebase-messaging-store";let l_=null;function iw(){return l_||(l_=ID(RO,kO,{upgrade:(r,e)=>{0===e&&r.createObjectStore(yl)}})),l_}function sw(r){return(wO=wO||(0,F.Z)(function*(e){const t=ow(e),i=yield(yield iw()).transaction(yl).objectStore(yl).get(t);if(i)return i;{const o=yield function AO(r){return(bO=bO||(0,F.Z)(function*(e){var t;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(h=>h.name).includes(rw))return null;let n=null;return(yield ID(rw,EV,{upgrade:function(l,h,p,g){return(t=t||(0,F.Z)(function*(w,x,S,k){var j;if(x<2||!w.objectStoreNames.contains(SO))return;const K=k.objectStore(SO),J=yield K.index("fcmSenderId").get(e);if(yield K.clear(),J)if(2===x){const le=J;if(!le.auth||!le.p256dh||!le.endpoint)return;n={token:le.fcmToken,createTime:null!==(j=le.createTime)&&void 0!==j?j:Date.now(),subscriptionOptions:{auth:le.auth,p256dh:le.p256dh,endpoint:le.endpoint,swScope:le.swScope,vapidKey:"string"==typeof le.vapidKey?le.vapidKey:so(le.vapidKey)}}}else if(3===x){const le=J;n={token:le.fcmToken,createTime:le.createTime,subscriptionOptions:{auth:so(le.auth),p256dh:so(le.p256dh),endpoint:le.endpoint,swScope:le.swScope,vapidKey:so(le.vapidKey)}}}else if(4===x){const le=J;n={token:le.fcmToken,createTime:le.createTime,subscriptionOptions:{auth:so(le.auth),p256dh:so(le.p256dh),endpoint:le.endpoint,swScope:le.swScope,vapidKey:so(le.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Q0(rw),yield Q0("fcm_vapid_details_db"),yield Q0("undefined"),function MO(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return"number"==typeof r.createTime&&r.createTime>0&&"string"==typeof r.token&&r.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(n)?n:null})).apply(this,arguments)}(e.appConfig.senderId);if(o)return yield c_(e,o),o}})).apply(this,arguments)}function c_(r,e){return(CD=CD||(0,F.Z)(function*(t,n){const i=ow(t),l=(yield iw()).transaction(yl,"readwrite");return yield l.objectStore(yl).put(n,i),yield l.done,n})).apply(this,arguments)}function ow({appConfig:r}){return r.appId}const Mr=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function FD(r,e){return(TD=TD||(0,F.Z)(function*(t,n){const i=yield cw(t),o=uw(n),l={method:"POST",headers:i,body:JSON.stringify(o)};let h;try{h=yield(yield fetch(lw(t.appConfig),l)).json()}catch(p){throw Mr.create("token-subscribe-failed",{errorInfo:p?.toString()})}if(h.error)throw Mr.create("token-subscribe-failed",{errorInfo:h.error.message});if(!h.token)throw Mr.create("token-subscribe-no-token");return h.token})).apply(this,arguments)}function Xf(r,e){return(X0=X0||(0,F.Z)(function*(t,n){const o={method:"DELETE",headers:yield cw(t)};try{const h=yield(yield fetch(`${lw(t.appConfig)}/${n}`,o)).json();if(h.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:h.error.message})}catch(l){throw Mr.create("token-unsubscribe-failed",{errorInfo:l?.toString()})}})).apply(this,arguments)}function lw({projectId:r}){return`${OD}/projects/${r}/registrations`}function cw(r){return(vl=vl||(0,F.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function uw({p256dh:r,auth:e,endpoint:t,vapidKey:n}){const i={web:{endpoint:t,auth:e,p256dh:r}};return n!==tw&&(i.web.applicationPubKey=n),i}const LD=6048e5;function xV(r){return(J0=J0||(0,F.Z)(function*(e){const t=yield function TV(r,e){return(o_=o_||(0,F.Z)(function*(t,n){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:DO(n)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:so(t.getKey("auth")),p256dh:so(t.getKey("p256dh"))},i=yield sw(e.firebaseDependencies);if(i){if(function DV(r,e){return e.vapidKey===r.vapidKey&&e.endpoint===r.endpoint&&e.auth===r.auth&&e.p256dh===r.p256dh}(i.subscriptionOptions,n))return Date.now()>=i.createTime+LD?function CV(r,e){return(s_=s_||(0,F.Z)(function*(t,n){try{const i=yield function OO(r,e){return(DD=DD||(0,F.Z)(function*(t,n){const i=yield cw(t),o=uw(n.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(o)};let h;try{h=yield(yield fetch(`${lw(t.appConfig)}/${n.token}`,l)).json()}catch(p){throw Mr.create("token-update-failed",{errorInfo:p?.toString()})}if(h.error)throw Mr.create("token-update-failed",{errorInfo:h.error.message});if(!h.token)throw Mr.create("token-update-no-token");return h.token})).apply(this,arguments)}(t.firebaseDependencies,n),o=Object.assign(Object.assign({},n),{token:i,createTime:Date.now()});return yield c_(t.firebaseDependencies,o),i}catch(i){throw yield function VD(r){return(i_=i_||(0,F.Z)(function*(e){const t=yield sw(e.firebaseDependencies);t&&(yield Xf(e.firebaseDependencies,t.token),yield function IV(r){return(Kf=Kf||(0,F.Z)(function*(e){const t=ow(e),i=(yield iw()).transaction(yl,"readwrite");yield i.objectStore(yl).delete(t),yield i.done})).apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}(t),i}})).apply(this,arguments)}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield Xf(e.firebaseDependencies,i.token)}catch(o){console.warn(o)}return UD(e.firebaseDependencies,n)}return UD(e.firebaseDependencies,n)})).apply(this,arguments)}function UD(r,e){return(SD=SD||(0,F.Z)(function*(t,n){const o={token:yield FD(t,n),createTime:Date.now(),subscriptionOptions:n};return yield c_(t,o),o.token})).apply(this,arguments)}function BD(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return function PO(r,e){if(!e.notification)return;r.notification={};const t=e.notification.title;t&&(r.notification.title=t);const n=e.notification.body;n&&(r.notification.body=n);const i=e.notification.image;i&&(r.notification.image=i);const o=e.notification.icon;o&&(r.notification.icon=o)}(e,r),function SV(r,e){e.data&&(r.data=e.data)}(e,r),function AV(r,e){var t,n,i,o,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;r.fcmOptions={};const h=null!==(i=null===(n=e.fcmOptions)||void 0===n?void 0:n.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;h&&(r.fcmOptions.link=h);const p=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(r.fcmOptions.analyticsLabel=p)}(e,r),e}function NO(r,e){const t=[];for(let n=0;n<r.length;n++)t.push(r.charAt(n)),n<e.length&&t.push(e.charAt(n));return t.join("")}function dw(r){return Mr.create("missing-app-config-values",{valueName:r})}NO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kV{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function RV(r){if(!r||!r.options)throw dw("App Configuration Object");if(!r.name)throw dw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=r;for(const n of e)if(!t[n])throw dw(n);return{appName:r.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function LO(r,e){return(IO=IO||(0,F.Z)(function*(t,n){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield function PV(r,e){return(EO=EO||(0,F.Z)(function*(t,n){n?t.vapidKey=n:t.vapidKey||(t.vapidKey=tw)})).apply(this,arguments)}(t,n?.vapidKey),yield function OV(r,e){return(Yf=Yf||(0,F.Z)(function*(t,n){if(!n&&!t.swRegistration&&(yield function FO(r){return(a_=a_||(0,F.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(CO,{scope:kD}),e.swRegistration.update().catch(()=>{})}catch(t){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}(t)),n||!t.swRegistration){if(!(n instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");t.swRegistration=n}})).apply(this,arguments)}(t,n?.serviceWorkerRegistration),xV(t)})).apply(this,arguments)}function s(r,e){return(ew=ew||(0,F.Z)(function*(t,n){const i=n.data;if(!i.isFirebaseMessaging)return;t.onMessageHandler&&i.messageType===Qf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(BD(i)):t.onMessageHandler.next(BD(i)));const o=i.data;(function MV(r){return"object"==typeof r&&!!r&&PD in r})(o)&&"1"===o["google.c.a.e"]&&(yield function VO(r,e,t){return(xO=xO||(0,F.Z)(function*(n,i,o){const l=function NV(r){switch(r){case Qf.NOTIFICATION_CLICKED:return"notification_open";case Qf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(i);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(l,{message_id:o[PD],message_name:o[TO],message_time:o[ND],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(t,i.messageType,o))})).apply(this,arguments)}const a="@firebase/messaging",c="0.12.4",u=r=>{const e=new kV(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>s(e,t)),e},f=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:n=>LO(e,n)}};function y(){return(AD=AD||(0,F.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var X,fe,Oe,Ye,dt,we,zc,u_,jD;!function m(){(0,xt._registerComponent)(new us.wA("messaging",u,"PUBLIC")),(0,xt._registerComponent)(new us.wA("messaging-internal",f,"PRIVATE")),(0,xt.registerVersion)(a,c),(0,xt.registerVersion)(a,c,"esm2017")}();const zD="analytics",o5="firebase_id",a5="origin",l5=6e4,c5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UO="https://www.googletagmanager.com/gtag/js",oi=new Bi.Yd("@firebase/analytics"),ps=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function d5(r){if(!r.startsWith(UO)){const e=ps.create("invalid-gtag-resource",{gtagURL:r});return oi.warn(e.message),""}return r}function FV(r){return Promise.all(r.map(e=>e.catch(t=>t)))}const b5=30,LV=new class E5{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function I5(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function C5(r){return(Ye=Ye||(0,F.Z)(function*(e,t=LV,n){const{appId:i,apiKey:o,measurementId:l}=e.options;if(!i)throw ps.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw ps.create("no-api-key")}const h=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new S5;return setTimeout((0,F.Z)(function*(){p.abort()}),void 0!==n?n:l5),VV({appId:i,apiKey:o,measurementId:l},h,p,t)})).apply(this,arguments)}function VV(r,e,t){return(dt=dt||(0,F.Z)(function*(n,{throttleEndTimeMillis:i,backoffCount:o},l,h=LV){var p;const{appId:g,measurementId:w}=n;try{yield function T5(r,e){return new Promise((t,n)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);r.addEventListener(()=>{clearTimeout(o),n(ps.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(l,i)}catch(x){if(w)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${w} provided in the "measurementId" field in the local Firebase config. [${x?.message}]`),{appId:g,measurementId:w};throw x}try{const x=yield function x5(r){return(Oe=Oe||(0,F.Z)(function*(e){var t;const{appId:n,apiKey:i}=e,o={method:"GET",headers:I5(i)},l=c5.replace("{app-id}",n),h=yield fetch(l,o);if(200!==h.status&&304!==h.status){let p="";try{const g=yield h.json();null!==(t=g.error)&&void 0!==t&&t.message&&(p=g.error.message)}catch{}throw ps.create("config-fetch-failed",{httpStatus:h.status,responseMessage:p})}return h.json()})).apply(this,arguments)}(n);return h.deleteThrottleMetadata(g),x}catch(x){const S=x;if(!function D5(r){if(!(r instanceof Ie.ZR&&r.customData))return!1;const e=Number(r.customData.httpStatus);return 429===e||500===e||503===e||504===e}(S)){if(h.deleteThrottleMetadata(g),w)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${w} provided in the "measurementId" field in the local Firebase config. [${S?.message}]`),{appId:g,measurementId:w};throw x}const k=503===Number(null===(p=S?.customData)||void 0===p?void 0:p.httpStatus)?(0,Ie.$s)(o,h.intervalMillis,b5):(0,Ie.$s)(o,h.intervalMillis),j={throttleEndTimeMillis:Date.now()+k,backoffCount:o+1};return h.setThrottleMetadata(g,j),oi.debug(`Calling attemptFetch again in ${k} millis`),VV(n,j,l,h)}})).apply(this,arguments)}class S5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let BO,jO;function F5(r,e,t,n,i,o,l){return(u_=u_||(0,F.Z)(function*(h,p,g,w,x,S,k){var j;const K=C5(h);K.then(Ne=>{g[Ne.measurementId]=Ne.appId,h.options.measurementId&&Ne.measurementId!==h.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${h.options.measurementId}) does not match the measurement ID fetched from the server (${Ne.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ne=>oi.error(Ne)),p.push(K);const J=function N5(){return(zc=zc||(0,F.Z)(function*(){if(!(0,Ie.hl)())return oi.warn(ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(r){return oi.warn(ps.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(Ne=>{if(Ne)return w.getId()}),[le,Pe]=yield Promise.all([K,J]);(function y5(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(UO)&&t.src.includes(r))return t;return null})(S)||function f5(r,e){const t=function h5(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}("firebase-js-sdk-policy",{createScriptURL:d5}),n=document.createElement("script"),i=`${UO}?l=${r}&id=${e}`;n.src=t?t?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}(S,le.measurementId),jO&&(x("consent","default",jO),function UV(r){jO=r}(void 0)),x("js",new Date);const Se=null!==(j=k?.config)&&void 0!==j?j:{};return Se[a5]="firebase",Se.update=!0,null!=Pe&&(Se[o5]=Pe),x("config",le.measurementId,Se),BO&&(x("set",BO),function BV(r){BO=r}(void 0)),le.measurementId})).apply(this,arguments)}class L5{constructor(e){this.app=e}_delete(){return delete bl[this.app.options.appId],Promise.resolve()}}let bl={},jV=[];const HV={};let $V,wl,$D="dataLayer",HO=!1;function U5(r,e,t){!function V5(){const r=[];if((0,Ie.ru)()&&r.push("This is a browser extension environment."),(0,Ie.zI)()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,i)=>`(${i+1}) ${n}`).join(" "),t=ps.create("invalid-analytics-context",{errorInfo:e});oi.warn(t.message)}}();const n=r.options.appId;if(!n)throw ps.create("no-app-id");if(!r.options.apiKey){if(!r.options.measurementId)throw ps.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bl[n])throw ps.create("already-exists",{id:n});if(!HO){!function p5(r){let e=[];Array.isArray(window[r])?e=window[r]:window[r]=e}($D);const{wrappedGtag:o,gtagCore:l}=function v5(r,e,t,n,i){let o=function(...l){window[n].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function _5(r,e,t,n){var i;return function o(l){return(i=i||(0,F.Z)(function*(h,...p){try{if("event"===h){const[g,w]=p;yield function g5(r,e,t,n,i){return(fe=fe||(0,F.Z)(function*(o,l,h,p,g){try{let w=[];if(g&&g.send_to){let x=g.send_to;Array.isArray(x)||(x=[x]);const S=yield FV(h);for(const k of x){const j=S.find(J=>J.measurementId===k),K=j&&l[j.appId];if(!K){w=[];break}w.push(K)}}0===w.length&&(w=Object.values(l)),yield Promise.all(w),o("event",p,g||{})}catch(w){oi.error(w)}})).apply(this,arguments)}(r,e,t,g,w)}else if("config"===h){const[g,w]=p;yield function m5(r,e,t,n,i,o){return(X=X||(0,F.Z)(function*(l,h,p,g,w,x){const S=g[w];try{if(S)yield h[S];else{const j=(yield FV(p)).find(K=>K.measurementId===w);j&&(yield h[j.appId])}}catch(k){oi.error(k)}l("config",w,x)})).apply(this,arguments)}(r,e,t,n,g,w)}else if("consent"===h){const[g]=p;r("consent","update",g)}else if("get"===h){const[g,w,x]=p;r("get",g,w,x)}else if("set"===h){const[g]=p;r("set",g)}else r(h,...p)}catch(g){oi.error(g)}})).apply(this,arguments)}}(o,r,e,t),{gtagCore:o,wrappedGtag:window[i]}}(bl,jV,HV,$D,"gtag");wl=o,$V=l,HO=!0}return bl[n]=F5(r,jV,HV,e,$V,$D,t),new L5(r)}function j5(){return(jD=jD||(0,F.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const GV="@firebase/analytics";!function z5(){(0,xt._registerComponent)(new us.wA(zD,(e,{options:t})=>U5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,xt._registerComponent)(new us.wA("analytics-internal",function r(e){try{const t=e.getProvider(zD).getImmediate();return{logEvent:(n,i,o)=>function H5(r,e,t,n){r=(0,Ie.m9)(r),function A5(r,e,t,n,i){return(we=we||(0,F.Z)(function*(o,l,h,p,g){if(g&&g.global)o("event",h,p);else{const w=yield l;o("event",h,Object.assign(Object.assign({},p),{send_to:w}))}})).apply(this,arguments)}(wl,bl[r.app.options.appId],e,t,n).catch(i=>oi.error(i))}(t,n,i,o)}}catch(t){throw ps.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,xt.registerVersion)(GV,"0.10.0"),(0,xt.registerVersion)(GV,"0.10.0","esm2017")}();class $5 extends Xs.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const GD={setInterval(r,e,...t){const{delegate:n}=GD;return n?.setInterval?n.setInterval(r,e,...t):setInterval(r,e,...t)},clearInterval(r){const{delegate:e}=GD;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var G5=L(9039);class qD extends $5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return GD.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&GD.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G5.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class hw{constructor(e,t=hw.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}hw.now=d0.now;class WD extends hw{constructor(e,t=hw.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Z5=new class W5 extends WD{}(class q5 extends qD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}}),fw=new WD(qD),K5=fw,ZD=new d.GfV("7.6.1"),zO="__angularfire_symbol__analyticsIsSupportedValue",$O="__angularfire_symbol__analyticsIsSupported",GO="__angularfire_symbol__remoteConfigIsSupportedValue",qO="__angularfire_symbol__remoteConfigIsSupported",WO="__angularfire_symbol__messagingIsSupportedValue",ZO="__angularfire_symbol__messagingIsSupported";function YO(r,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(l=>l.app===t);if(1===o.length)return o[0]}return t.container.getProvider(r).getImmediate({optional:!0})}globalThis[$O]||(globalThis[$O]=j5().then(r=>globalThis[zO]=r).catch(()=>globalThis[zO]=!1)),globalThis[ZO]||(globalThis[ZO]=y().then(r=>globalThis[WO]=r).catch(()=>globalThis[WO]=!1)),globalThis[qO]||(globalThis[qO]=vD().then(r=>globalThis[GO]=r).catch(()=>globalThis[GO]=!1));const QO=(r,e)=>{const t=e?[e]:(0,xt.getApps)(),n=[];return t.forEach(i=>{i.container.getProvider(r).instances.forEach(l=>{n.includes(l)||n.push(l)})}),n};function d_(){}class WV{constructor(e,t=Z5){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,n)}}class Y5{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",d_,{},d_,d_)),t.pipe(Sn({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pw=(()=>{class r{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new WV(Zone.current)),this.insideAngular=t.run(()=>new WV(Zone.current,fw)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(d.R0b))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Jf(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}function ep(r){return Jf().ngZone.run(()=>r())}function oo(r){return Jf(),function X5(r){return function(t){return(t=t.lift(new Y5(r.ngZone))).pipe((0,pl.R)(r.outsideAngular),(0,md.Q)(r.insideAngular))}}(Jf())(r)}const J5=(r,e)=>function(){const n=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ep(()=>r.apply(void 0,n))},XO=(r,e)=>function(){let t;const n=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof n[o]&&(e&&(t||(t=ep(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",d_,{},d_,d_)))),n[o]=J5(n[o],t));const i=function Q5(r){return Jf().ngZone.runOutsideAngular(()=>r())}(()=>r.apply(this,n));if(!e){if(i instanceof nr.y){const o=Jf();return i.pipe((0,pl.R)(o.outsideAngular),(0,md.Q)(o.insideAngular))}return ep(()=>i)}return i instanceof nr.y?i.pipe(oo):i instanceof Promise?ep(()=>new Promise((o,l)=>i.then(h=>ep(()=>o(h)),h=>ep(()=>l(h))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ep(()=>i)};var Ia=L(6304);class h_{constructor(e){return e}}class JO{constructor(){return(0,xt.getApps)()}}const eP=new d.OlP("angularfire2._apps"),tG={provide:h_,useFactory:function eG(r){return r&&1===r.length?r[0]:new h_((0,xt.getApp)())},deps:[[new d.FiY,eP]]},nG={provide:JO,deps:[[new d.FiY,eP]]};function rG(r){return(e,t)=>{const n=e.runOutsideAngular(()=>r(t));return new h_(n)}}let iG=(()=>{class r{constructor(t){(0,xt.registerVersion)("angularfire",ZD.full,"core"),(0,xt.registerVersion)("angularfire",ZD.full,"app"),(0,xt.registerVersion)("angular",d.q4F.full,t.toString())}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(d.Lbi))},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[tG,nG]}),r})();function sG(r,...e){return{ngModule:iG,providers:[{provide:eP,useFactory:rG(r),multi:!0,deps:[d.R0b,d.zs3,pw,...e]}]}}const oG=XO(xt.initializeApp,!0);var ZV,KV,JV,eU,tU;const tP=new Map,iU={activated:!1,tokenObservers:[]},aG={initialized:!1,enabled:!1};function ur(r){return tP.get(r)||Object.assign({},iU)}function KD(){return aG}const nP="https://content-firebaseappcheck.googleapis.com/v1",dG="exchangeDebugToken",sU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class fG{constructor(e,t,n,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,F.Z)(function*(){t.stop();try{t.pending=new Ie.BH,yield function pG(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ie.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ei=new Ie.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rP(r){if(!ur(r).activated)throw Ei.create("use-before-activation",{appName:r.name})}function XD(r,e){return(ZV=ZV||(0,F.Z)(function*({url:t,body:n},i){const o={"Content-Type":"application/json"},l=i.getImmediate({optional:!0});if(l){const k=yield l.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const h={method:"POST",body:JSON.stringify(n),headers:o};let p,g;try{p=yield fetch(t,h)}catch(k){throw Ei.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==p.status)throw Ei.create("fetch-status-error",{httpStatus:p.status});try{g=yield p.json()}catch(k){throw Ei.create("fetch-parse-error",{originalErrorMessage:k?.message})}const w=g.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const x=1e3*Number(w[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+x,issuedAtTimeMillis:S}})).apply(this,arguments)}function oU(r,e){const{projectId:t,appId:n,apiKey:i}=r.options;return{url:`${nP}/projects/${t}/apps/${n}:${dG}?key=${i}`,body:{debug_token:e}}}const vG="firebase-app-check-database",yG=1,mw="firebase-app-check-store";let JD=null;function cU(r,e){return(KV=KV||(0,F.Z)(function*(t,n){const o=(yield function lU(){return JD||(JD=new Promise((r,e)=>{try{const t=indexedDB.open(vG,yG);t.onsuccess=n=>{r(n.target.result)},t.onerror=n=>{var i;e(Ei.create("storage-open",{originalErrorMessage:null===(i=n.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(mw,{keyPath:"compositeKey"})}}catch(t){e(Ei.create("storage-open",{originalErrorMessage:t?.message}))}}),JD)}()).transaction(mw,"readwrite"),h=o.objectStore(mw).put({compositeKey:t,value:n});return new Promise((p,g)=>{h.onsuccess=w=>{p()},o.onerror=w=>{var x;g(Ei.create("storage-set",{originalErrorMessage:null===(x=w.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const gw=new Bi.Yd("@firebase/app-check");function sP(r,e){return(0,Ie.hl)()?function wG(r,e){return cU(function dU(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{gw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function oP(){return KD().enabled}function aP(){return(JV=JV||(0,F.Z)(function*(){const r=KD();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DG={error:"UNKNOWN_ERROR"};function SG(r){return Ie.US.encodeString(JSON.stringify(r),!1)}function eS(r){return(eU=eU||(0,F.Z)(function*(e,t=!1){const n=e.app;rP(n);const i=ur(n);let l,o=i.token;if(o&&!f_(o)&&(i.token=void 0,o=void 0),!o){const g=yield i.cachedTokenPromise;g&&(f_(g)?o=g:yield sP(n,void 0))}if(!t&&o&&f_(o))return{token:o.token};let p,h=!1;if(oP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=XD(oU(n,yield aP()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const g=yield i.exchangeTokenPromise;return yield sP(n,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield ur(n).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?gw.warn(g.message):gw.error(g),l=g}return o?l?p=f_(o)?{token:o.token,internalError:l}:mU(l):(p={token:o.token},i.token=o,yield sP(n,o)):p=mU(l),h&&function pU(r,e){const t=ur(r).tokenObservers;for(const n of t)try{"EXTERNAL"===n.type&&null!=e.error?n.error(e.error):n.next(e)}catch{}}(n,p),p})).apply(this,arguments)}function cP(r,e){const t=ur(r),n=t.tokenObservers.filter(i=>i.next!==e);0===n.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=n}function fU(r){const{app:e}=r,t=ur(e);let n=t.tokenRefresher;n||(n=function AG(r){const{app:e}=r;return new fG((0,F.Z)(function*(){let n;if(n=ur(e).token?yield eS(r,!0):yield eS(r),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const t=ur(e);if(t.token){let n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,t.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},sU.RETRIAL_MIN_WAIT,sU.RETRIAL_MAX_WAIT)}(r),t.tokenRefresher=n),!n.isRunning()&&t.isTokenAutoRefreshEnabled&&n.start()}function f_(r){return r.expireTimeMillis-Date.now()>0}function mU(r){return{token:SG(DG),error:r}}class MG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ur(this.app);for(const t of e)cP(this.app,t.next);return Promise.resolve()}}const IU="app-check-internal";!function $G(){(0,xt._registerComponent)(new us.wA("app-check",r=>function RG(r,e){return new MG(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(IU).initialize()})),(0,xt._registerComponent)(new us.wA(IU,r=>function kG(r){return{getToken:e=>eS(r,e),getLimitedUseToken:()=>function hU(r){return(tU=tU||(0,F.Z)(function*(e){const t=e.app;rP(t);const{provider:n}=ur(t);if(oP()){const i=yield aP(),{token:o}=yield XD(oU(t,i),e.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}(r),addTokenListener:e=>function lP(r,e,t,n){const{app:i}=r,o=ur(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:n,type:e}],o.token&&f_(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),fU(r)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fU(r))}(r,"INTERNAL",e),removeTokenListener:e=>cP(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xt.registerVersion)("@firebase/app-check","0.8.0")}();class _w{constructor(){return QO("app-check")}}typeof window<"u"&&window,L(120);const CU=new d.OlP("angularfire2.auth.use-emulator"),TU=new d.OlP("angularfire2.auth.settings"),DU=new d.OlP("angularfire2.auth.tenant-id"),SU=new d.OlP("angularfire2.auth.langugage-code"),AU=new d.OlP("angularfire2.auth.use-device-language"),MU=new d.OlP("angularfire.auth.persistence"),RU=(r,e,t,n,i,o,l,h)=>(0,Ia.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const p=e.runOutsideAngular(()=>r.auth());if(t&&p.useEmulator(...t),n&&(p.tenantId=n),p.languageCode=i,o&&p.useDeviceLanguage(),l)for(const[g,w]of Object.entries(l))p.settings[g]=w;return h&&p.setPersistence(h),p},[t,n,i,o,l,h]);let hP=(()=>{class r{constructor(t,n,i,o,l,h,p,g,w,x,S,k){const j=new qt.x,K=(0,at.of)(void 0).pipe((0,md.Q)(l.outsideAngular),(0,Ln.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8661)))),(0,Et.U)(()=>(0,Ia.on)(t,o,n)),(0,Et.U)(J=>RU(J,o,h,g,w,x,p,S)),f0({bufferSize:1,refCount:!1}));if($s(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{K.pipe(yr()).subscribe();const le=K.pipe((0,Ln.w)(Ne=>Ne.getRedirectResult().then(ot=>ot,()=>null)),oo,f0({bufferSize:1,refCount:!1})),Pe=K.pipe((0,Ln.w)(Ne=>new nr.y(ot=>({unsubscribe:o.runOutsideAngular(()=>Ne.onAuthStateChanged(St=>ot.next(St),St=>ot.error(St),()=>ot.complete()))})))),Se=K.pipe((0,Ln.w)(Ne=>new nr.y(ot=>({unsubscribe:o.runOutsideAngular(()=>Ne.onIdTokenChanged(St=>ot.next(St),St=>ot.error(St),()=>ot.complete()))}))));this.authState=le.pipe(p0(Pe),(0,pl.R)(l.outsideAngular),(0,md.Q)(l.insideAngular)),this.user=le.pipe(p0(Se),(0,pl.R)(l.outsideAngular),(0,md.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Ln.w)(Ne=>Ne?(0,Dn.D)(Ne.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe((0,Ln.w)(Ne=>Ne?(0,Dn.D)(Ne.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,u0.T)(le,j,this.authState.pipe(Vn(Ne=>!Ne))).pipe((0,Et.U)(Ne=>Ne?.user?Ne:null),(0,pl.R)(l.outsideAngular),(0,md.Q)(l.insideAngular))}return(0,Ia.pX)(this,K,o,{spy:{apply:(J,le,Pe)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Pe.then(Se=>j.next(Se))}}})}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(Ia.Dh),d.LFG(Ia.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pw),d.LFG(CU,8),d.LFG(TU,8),d.LFG(DU,8),d.LFG(SU,8),d.LFG(AU,8),d.LFG(MU,8),d.LFG(_w,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function fP(){return(0,Lr.e)((r,e)=>{let t,n=!1;r.subscribe((0,vr.x)(e,i=>{const o=t;t=i,n&&e.next([o,i]),n=!0}))})}var tt,kU=L(3997),YG=(L(8661),L(3106)),QG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xa={},pP=pP||{},Vt=QG||self;function nS(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function vw(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var mP="closure_uid_"+(1e9*Math.random()>>>0),JG=0;function eq(r,e,t){return r.call.apply(r.bind,arguments)}function tq(r,e,t){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),r.apply(e,i)}}return function(){return r.apply(e,arguments)}}function $i(r,e,t){return($i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eq:tq).apply(null,arguments)}function rS(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),r.apply(this,n)}}function ai(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(n,i,o){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(n,l)}}function Ed(){this.s=this.s,this.o=this.o}Ed.prototype.s=!1,Ed.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XG(r){Object.prototype.hasOwnProperty.call(r,mP)&&r[mP]||(r[mP]=++JG)}(this)},Ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OU=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function gP(r){const e=r.length;if(0<e){const t=Array(e);for(let n=0;n<e;n++)t[n]=r[n];return t}return[]}function PU(r,e){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(nS(n)){const i=r.length||0,o=n.length||0;r.length=i+o;for(let l=0;l<o;l++)r[i+l]=n[l]}else r.push(n)}}function Gi(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Gi.prototype.h=function(){this.defaultPrevented=!0};var rq=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return r}();function yw(r){return/^[\s\xa0]*$/.test(r)}function iS(){var r=Vt.navigator;return r&&(r=r.userAgent)?r:""}function El(r){return-1!=iS().indexOf(r)}function _P(r){return _P[" "](r),r}_P[" "]=function(){};var yP,r,sq=El("Opera"),p_=El("Trident")||El("MSIE"),NU=El("Edge"),vP=NU||p_,FU=El("Gecko")&&!(-1!=iS().toLowerCase().indexOf("webkit")&&!El("Edge"))&&!(El("Trident")||El("MSIE"))&&!El("Edge"),oq=-1!=iS().toLowerCase().indexOf("webkit")&&!El("Edge");function LU(){var r=Vt.document;return r?r.documentMode:void 0}e:{var bP="",wP=(r=iS(),FU?/rv:([^\);]+)(\)|;)/.exec(r):NU?/Edge\/([\d\.]+)/.exec(r):p_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):oq?/WebKit\/(\S+)/.exec(r):sq?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(wP&&(bP=wP?wP[1]:""),p_){var EP=LU();if(null!=EP&&EP>parseFloat(bP)){yP=String(EP);break e}}yP=bP}var aq=Vt.document&&p_&&(LU()||parseInt(yP,10))||void 0;function bw(r,e){if(Gi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,n=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(FU){e:{try{_P(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:lq[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&bw.$.h.call(this)}}ai(bw,Gi);var lq={2:"touch",3:"pen",4:"mouse"};bw.prototype.h=function(){bw.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ww="closure_listenable_"+(1e6*Math.random()|0),cq=0;function uq(r,e,t,n,i){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!n,this.la=i,this.key=++cq,this.fa=this.ia=!1}function sS(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function xP(r,e,t){for(const n in r)e.call(t,r[n],n,r)}function UU(r){const e={};for(const t in r)e[t]=r[t];return e}const BU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jU(r,e){let t,n;for(let i=1;i<arguments.length;i++){for(t in n=arguments[i],n)r[t]=n[t];for(let o=0;o<BU.length;o++)t=BU[o],Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}}function oS(r){this.src=r,this.g={},this.h=0}function CP(r,e){var t=e.type;if(t in r.g){var o,n=r.g[t],i=OU(n,e);(o=0<=i)&&Array.prototype.splice.call(n,i,1),o&&(sS(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function TP(r,e,t,n){for(var i=0;i<r.length;++i){var o=r[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==n)return i}return-1}oS.prototype.add=function(r,e,t,n,i){var o=r.toString();(r=this.g[o])||(r=this.g[o]=[],this.h++);var l=TP(r,e,n,i);return-1<l?(e=r[l],t||(e.ia=!1)):((e=new uq(e,this.src,o,!!n,i)).ia=t,r.push(e)),e};var DP="closure_lm_"+(1e6*Math.random()|0),SP={};function HU(r,e,t,n,i){if(n&&n.once)return $U(r,e,t,n,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)HU(r,e[o],t,n,i);return null}return t=kP(t),r&&r[ww]?r.O(e,t,vw(n)?!!n.capture:!!n,i):zU(r,e,t,!1,n,i)}function zU(r,e,t,n,i,o){if(!e)throw Error("Invalid event type");var l=vw(i)?!!i.capture:!!i,h=MP(r);if(h||(r[DP]=h=new oS(r)),(t=h.add(e,t,n,l,o)).proxy)return t;if(n=function hq(){const e=fq;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=n,n.src=r,n.listener=t,r.addEventListener)rq||(i=l),void 0===i&&(i=!1),r.addEventListener(e.toString(),n,i);else if(r.attachEvent)r.attachEvent(qU(e.toString()),n);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(n)}return t}function $U(r,e,t,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$U(r,e[o],t,n,i);return null}return t=kP(t),r&&r[ww]?r.P(e,t,vw(n)?!!n.capture:!!n,i):zU(r,e,t,!0,n,i)}function GU(r,e,t,n,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)GU(r,e[o],t,n,i);else n=vw(n)?!!n.capture:!!n,t=kP(t),r&&r[ww]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=TP(o=r.g[e],t,n,i))&&(sS(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete r.g[e],r.h--))):r&&(r=MP(r))&&(e=r.g[e.toString()],r=-1,e&&(r=TP(e,t,n,i)),(t=-1<r?e[r]:null)&&AP(t))}function AP(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[ww])CP(e.i,r);else{var t=r.type,n=r.proxy;e.removeEventListener?e.removeEventListener(t,n,r.capture):e.detachEvent?e.detachEvent(qU(t),n):e.addListener&&e.removeListener&&e.removeListener(n),(t=MP(e))?(CP(t,r),0==t.h&&(t.src=null,e[DP]=null)):sS(r)}}}function qU(r){return r in SP?SP[r]:SP[r]="on"+r}function fq(r,e){if(r.fa)r=!0;else{e=new bw(e,this);var t=r.listener,n=r.la||r.src;r.ia&&AP(r),r=t.call(n,e)}return r}function MP(r){return(r=r[DP])instanceof oS?r:null}var RP="__closure_events_fn_"+(1e9*Math.random()>>>0);function kP(r){return"function"==typeof r?r:(r[RP]||(r[RP]=function(e){return r.handleEvent(e)}),r[RP])}function li(){Ed.call(this),this.i=new oS(this),this.S=this,this.J=null}function Ii(r,e){var t,n=r.J;if(n)for(t=[];n;n=n.J)t.push(n);if(r=r.S,n=e.type||e,"string"==typeof e)e=new Gi(e,r);else if(e instanceof Gi)e.target=e.target||r;else{var i=e;jU(e=new Gi(n,r),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var l=e.g=t[o];i=aS(l,n,!0,e)&&i}if(i=aS(l=e.g=r,n,!0,e)&&i,i=aS(l,n,!1,e)&&i,t)for(o=0;o<t.length;o++)i=aS(l=e.g=t[o],n,!1,e)&&i}function aS(r,e,t,n){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==t){var h=l.listener,p=l.la||l.src;l.ia&&CP(r.i,l),i=!1!==h.call(p,n)&&i}}return i&&!n.defaultPrevented}ai(li,Ed),li.prototype[ww]=!0,li.prototype.removeEventListener=function(r,e,t,n){GU(this,r,e,t,n)},li.prototype.N=function(){if(li.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],n=0;n<t.length;n++)sS(t[n]);delete r.g[e],r.h--}}this.J=null},li.prototype.O=function(r,e,t,n){return this.i.add(String(r),e,!1,t,n)},li.prototype.P=function(r,e,t,n){return this.i.add(String(r),e,!0,t,n)};var OP=Vt.JSON.stringify;function mq(){var r=PP;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var WU=new class pq{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _q,r=>r.reset());class _q{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vq(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function yq(r){Vt.setTimeout(()=>{throw r},0)}let Ew,Iw=!1,PP=new class gq{constructor(){this.h=this.g=null}add(e,t){const n=WU.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ZU=()=>{const r=Vt.Promise.resolve(void 0);Ew=()=>{r.then(bq)}};var bq=()=>{for(var r;r=mq();){try{r.h.call(r.g)}catch(t){yq(t)}var e=WU;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Iw=!1};function lS(r,e){li.call(this),this.h=r||1,this.g=e||Vt,this.j=$i(this.qb,this),this.l=Date.now()}function NP(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function FP(r,e,t){if("function"==typeof r)t&&(r=$i(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=$i(r.handleEvent,r)}return 2147483647<Number(e)?-1:Vt.setTimeout(r,e||0)}function KU(r){r.g=FP(()=>{r.g=null,r.i&&(r.i=!1,KU(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ai(lS,li),(tt=lS.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(NP(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){lS.$.N.call(this),NP(this),delete this.g};class wq extends Ed{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KU(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xw(r){Ed.call(this),this.h=r,this.g={}}ai(xw,Ed);var YU=[];function QU(r,e,t,n){Array.isArray(t)||(t&&(YU[0]=t.toString()),t=YU);for(var i=0;i<t.length;i++){var o=HU(e,t[i],n||r.handleEvent,!1,r.h||r);if(!o)break;r.g[o.key]=o}}function XU(r){xP(r.g,function(e,t){this.g.hasOwnProperty(t)&&AP(e)},r),r.g={}}function cS(){this.g=!0}function m_(r,e,t,n){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cq(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var n=t[r];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<i.length;l++)i[l]=""}}}return OP(t)}catch{return e}}(r,t)+(n?" "+n:"")})}xw.prototype.N=function(){xw.$.N.call(this),XU(this)},xw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cS.prototype.Ea=function(){this.g=!1},cS.prototype.info=function(){};var tp={},JU=null;function uS(){return JU=JU||new li}function eB(r){Gi.call(this,tp.Ta,r)}function Cw(r){const e=uS();Ii(e,new eB(e))}function tB(r,e){Gi.call(this,tp.STAT_EVENT,r),this.stat=e}function ms(r){const e=uS();Ii(e,new tB(e,r))}function nB(r,e){Gi.call(this,tp.Ua,r),this.size=e}function Tw(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){r()},e)}tp.Ta="serverreachability",ai(eB,Gi),tp.STAT_EVENT="statevent",ai(tB,Gi),tp.Ua="timingevent",ai(nB,Gi);var dS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LP(){}function sB(){}LP.prototype.h=null;var BP,Dw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VP(){Gi.call(this,"d")}function UP(){Gi.call(this,"c")}function hS(){}function Sw(r,e,t,n){this.l=r,this.j=e,this.m=t,this.W=n||1,this.U=new xw(this),this.P=Tq,this.V=new lS(r=vP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oB}function oB(){this.i=null,this.g="",this.h=!1}ai(VP,Gi),ai(UP,Gi),ai(hS,LP),hS.prototype.g=function(){return new XMLHttpRequest},hS.prototype.i=function(){return{}},BP=new hS;var Tq=45e3,jP={},fS={};function HP(r,e,t){r.L=1,r.v=_S($c(e)),r.s=t,r.S=!0,aB(r,null)}function aB(r,e){r.G=Date.now(),Aw(r),r.A=$c(r.v);var t=r.A,n=r.W;Array.isArray(n)||(n=[String(n)]),_B(t.i,"t",n),r.C=0,t=r.l.J,r.h=new oB,r.g=jB(r.l,t?e:null,!r.s),0<r.O&&(r.M=new wq($i(r.Pa,r,r.g),r.O)),QU(r.U,r.g,"readystatechange",r.nb),e=r.I?UU(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Cw(),function Eq(r,e,t,n,i,o){r.info(function(){if(r.g)if(o)for(var l="",h=o.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var w=g[0];g=g[1];var x=w.split("_");l=2<=x.length&&"type"==x[1]?l+(w+"=")+g+"&":l+(w+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(r.j,r.u,r.A,r.m,r.W,r.s)}function lB(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function cB(r,e,t){let i,n=!0;for(;!r.J&&r.C<t.length;){if(i=Dq(r,t),i==fS){4==e&&(r.o=4,ms(14),n=!1),m_(r.j,r.m,null,"[Incomplete Response]");break}if(i==jP){r.o=4,ms(15),m_(r.j,r.m,t,"[Invalid Chunk]"),n=!1;break}m_(r.j,r.m,i,null),zP(r,i)}lB(r)&&i!=fS&&i!=jP&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,ms(16),n=!1),r.i=r.i&&n,n?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),YP(e),e.M=!0,ms(11))):(m_(r.j,r.m,t,"[Invalid Chunked Response]"),np(r),Mw(r))}function Dq(r,e){var t=r.C,n=e.indexOf("\n",t);return-1==n?fS:(t=Number(e.substring(t,n)),isNaN(t)?jP:(n+=1)+t>e.length?fS:(e=e.slice(n,n+t),r.C=n+t,e))}function Aw(r){r.Y=Date.now()+r.P,uB(r,r.P)}function uB(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Tw($i(r.lb,r),e)}function pS(r){r.B&&(Vt.clearTimeout(r.B),r.B=null)}function Mw(r){0==r.l.H||r.J||LB(r.l,r)}function np(r){pS(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,NP(r.V),XU(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function zP(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||$P(t.i,r)))if(!r.K&&$P(t.i,r)&&3==t.H){try{var n=t.Ja.g.parse(e)}catch{n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;IS(t),wS(t)}KP(t),ms(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Tw($i(t.ib,t),6e3));if(1>=bB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ip(t,11)}else if((r.K||t.g==r)&&IS(t),!yw(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const w=g[3];null!=w&&(t.ra=w,t.l.info("VER="+t.ra));const x=g[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const S=g[5];null!=S&&"number"==typeof S&&0<S&&(t.L=n=1.5*S,t.l.info("backChannelRequestTimeoutMs_="+n)),n=t;const k=r.g;if(k){const j=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=n.i;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(GP(o,o.h),o.h=null))}if(n.F){const K=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(n.Da=K,jn(n.I,n.F,K))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=r;if((n=t).wa=BB(n,n.J?n.pa:null,n.Y),l.K){wB(n.i,l);var h=l,p=n.L;p&&h.setTimeout(p),h.B&&(pS(h),Aw(h)),n.g=l}else NB(n);0<t.j.length&&ES(t)}else"stop"!=g[0]&&"close"!=g[0]||ip(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?ip(t,7):ZP(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}Cw()}catch{}}function dB(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(nS(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Aq(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(nS(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const n in r)e[t++]=n;return e}}}(r),n=function Sq(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(nS(r)){for(var e=[],t=r.length,n=0;n<t;n++)e.push(r[n]);return e}for(n in e=[],t=0,r)e[t++]=r[n];return e}(r),i=n.length,o=0;o<i;o++)e.call(void 0,n[o],t&&t[o],r)}(tt=Sw.prototype).setTimeout=function(r){this.P=r},tt.nb=function(r){r=r.target;const e=this.M;e&&3==Il(r)?e.l():this.Pa(r)},tt.Pa=function(r){try{if(r==this.g)e:{const w=Il(this.g);var e=this.g.Ia();if(this.g.da(),!(3>w)&&(3!=w||vP||this.g&&(this.h.h||this.g.ja()||AB(this.g)))){this.J||4!=w||7==e||Cw(),pS(this);var t=this.g.da();this.ca=t;t:if(lB(this)){var n=AB(this.g);r="";var i=n.length,o=4==Il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){np(this),Mw(this);var l="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,r+=this.h.i.decode(n[e],{stream:o&&e==i-1});n.splice(0,i),this.h.g+=r,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Iq(r,e,t,n,i,o,l){r.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,w,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yw(h)){var g=h;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,ms(12),np(this),Mw(this);break e}m_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zP(this,t)}this.S?(cB(this,w,l),vP&&this.i&&3==w&&(QU(this.U,this.V,"tick",this.mb),this.V.start())):(m_(this.j,this.m,l,null),zP(this,l)),4==w&&np(this),this.i&&!this.J&&(4==w?LB(this.l,this):(this.i=!1,Aw(this)))}else(function Wq(r){const e={};r=(r.g&&2<=Il(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<r.length;n++){if(yw(r[n]))continue;var t=vq(r[n]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function dq(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(n){return n.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ms(12)):(this.o=0,ms(13)),np(this),Mw(this)}}}catch{}},tt.mb=function(){if(this.g){var r=Il(this.g),e=this.g.ja();this.C<e.length&&(pS(this),cB(this,r,e),this.i&&4!=r&&Aw(this))}},tt.cancel=function(){this.J=!0,np(this)},tt.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function xq(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Cw(),ms(17)),np(this),this.o=2,Mw(this)):uB(this,this.Y-r)};var hB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rp(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof rp){this.h=r.h,mS(this,r.j),this.s=r.s,this.g=r.g,gS(this,r.m),this.l=r.l;var e=r.i,t=new Ow;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fB(this,t),this.o=r.o}else r&&(e=String(r).match(hB))?(this.h=!1,mS(this,e[1]||"",!0),this.s=Rw(e[2]||""),this.g=Rw(e[3]||"",!0),gS(this,e[4]),this.l=Rw(e[5]||"",!0),fB(this,e[6]||"",!0),this.o=Rw(e[7]||"")):(this.h=!1,this.i=new Ow(null,this.h))}function $c(r){return new rp(r)}function mS(r,e,t){r.j=t?Rw(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function gS(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function fB(r,e,t){e instanceof Ow?(r.i=e,function Fq(r,e){e&&!r.j&&(Id(r),r.i=null,r.g.forEach(function(t,n){var i=n.toLowerCase();n!=i&&(mB(this,n),_B(this,i,t))},r)),r.j=e}(r.i,r.h)):(t||(e=kw(e,Pq)),r.i=new Ow(e,r.h))}function jn(r,e,t){r.i.set(e,t)}function _S(r){return jn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Rw(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function kw(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Rq),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Rq(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}rp.prototype.toString=function(){var r=[],e=this.j;e&&r.push(kw(e,pB,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(kw(e,pB,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(kw(t,"/"==t.charAt(0)?Oq:kq,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",kw(t,Nq)),r.join("")};var pB=/[#\/\?@]/g,kq=/[#\?:]/g,Oq=/[#\?]/g,Pq=/[#\?@]/g,Nq=/#/g;function Ow(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Id(r){r.g||(r.g=new Map,r.h=0,r.i&&function Mq(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var n=r[t].indexOf("="),i=null;if(0<=n){var o=r[t].substring(0,n);i=r[t].substring(n+1)}else o=r[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mB(r,e){Id(r),e=g_(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function gB(r,e){return Id(r),e=g_(r,e),r.g.has(e)}function _B(r,e,t){mB(r,e),0<t.length&&(r.i=null,r.g.set(g_(r,e),gP(t)),r.h+=t.length)}function g_(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function vB(r){this.l=r||Vq,r=Vt.PerformanceNavigationTiming?0<(r=Vt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=Ow.prototype).add=function(r,e){Id(this),this.i=null,r=g_(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(r,e){Id(this),this.g.forEach(function(t,n){t.forEach(function(i){r.call(e,i,n,this)},this)},this)},tt.ta=function(){Id(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let n=0;n<e.length;n++){const i=r[n];for(let o=0;o<i.length;o++)t.push(e[n])}return t},tt.Z=function(r){Id(this);let e=[];if("string"==typeof r)gB(this,r)&&(e=e.concat(this.g.get(g_(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},tt.set=function(r,e){return Id(this),this.i=null,gB(this,r=g_(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},tt.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var n=e[t];const o=encodeURIComponent(String(n)),l=this.Z(n);for(n=0;n<l.length;n++){var i=o;""!==l[n]&&(i+="="+encodeURIComponent(String(l[n]))),r.push(i)}}return this.i=r.join("&")};var Vq=10;function yB(r){return!!r.h||!!r.g&&r.g.size>=r.j}function bB(r){return r.h?1:r.g?r.g.size:0}function $P(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function GP(r,e){r.g?r.g.add(e):r.h=e}function wB(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function EB(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return gP(r.i)}vB.prototype.cancel=function(){if(this.i=EB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var Uq=class{stringify(r){return Vt.JSON.stringify(r,void 0)}parse(r){return Vt.JSON.parse(r,void 0)}};function Bq(){this.g=new Uq}function jq(r,e,t){const n=t||"";try{dB(r,function(i,o){let l=i;vw(i)&&(l=OP(i)),e.push(n+o+"="+encodeURIComponent(l))})}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function vS(r,e,t,n,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(n)}catch{}}function Pw(r){this.l=r.fc||null,this.j=r.ob||!1}function yS(r,e){li.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=qP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ai(Pw,LP),Pw.prototype.g=function(){return new yS(this.l,this.j)},Pw.prototype.i=function(r){return function(){return r}}({}),ai(yS,li);var qP=0;function IB(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Nw(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Fw(r)}function Fw(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(tt=yS.prototype).open=function(r,e){if(this.readyState!=qP)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Fw(this)},tt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nw(this)),this.readyState=qP},tt.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Fw(this)),this.g&&(this.readyState=3,Fw(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IB(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Nw(this):Fw(this),3==this.readyState&&IB(this)}},tt.Za=function(r){this.g&&(this.response=this.responseText=r,Nw(this))},tt.Ya=function(r){this.g&&(this.response=r,Nw(this))},tt.ka=function(){this.g&&Nw(this)},tt.setRequestHeader=function(r,e){this.v.append(r,e)},tt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(yS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var zq=Vt.JSON.parse;function dr(r){li.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xB,this.L=this.M=!1}ai(dr,li);var xB="",$q=/^https?$/i,Gq=["POST","PUT"];function CB(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,TB(r),bS(r)}function TB(r){r.F||(r.F=!0,Ii(r,"complete"),Ii(r,"error"))}function DB(r){if(r.h&&typeof pP<"u"&&(!r.C[1]||4!=Il(r)||2!=r.da()))if(r.v&&4==Il(r))FP(r.La,0,r);else if(Ii(r,"readystatechange"),4==Il(r)){r.h=!1;try{const l=r.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var n;if(n=0===l){var i=String(r.I).match(hB)[1]||null;!i&&Vt.self&&Vt.self.location&&(i=Vt.self.location.protocol.slice(0,-1)),n=!$q.test(i?i.toLowerCase():"")}t=n}if(t)Ii(r,"complete"),Ii(r,"success");else{r.m=6;try{var o=2<Il(r)?r.g.statusText:""}catch{o=""}r.j=o+" ["+r.da()+"]",TB(r)}}finally{bS(r)}}}function bS(r,e){if(r.g){SB(r);const t=r.g,n=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Ii(r,"ready");try{t.onreadystatechange=n}catch{}}}function SB(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Vt.clearTimeout(r.A),r.A=null)}function Il(r){return r.g?r.g.readyState:0}function AB(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case xB:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function MB(r){let e="";return xP(r,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function WP(r,e,t){e:{for(n in t){var n=!1;break e}n=!0}n||(t=MB(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):jn(r,e,t))}function Lw(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function RB(r){this.Ga=0,this.j=[],this.l=new cS,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lw("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lw("baseRetryDelayMs",5e3,r),this.hb=Lw("retryDelaySeedMs",1e4,r),this.eb=Lw("forwardChannelMaxRetries",2,r),this.xa=Lw("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new vB(r&&r.concurrentRequestLimit),this.Ja=new Bq,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ZP(r){if(kB(r),3==r.H){var e=r.W++,t=$c(r.I);if(jn(t,"SID",r.K),jn(t,"RID",e),jn(t,"TYPE","terminate"),Vw(r,t),(e=new Sw(r,r.l,e)).L=2,e.v=_S($c(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{t=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Aw(e)}UB(r)}function wS(r){r.g&&(YP(r),r.g.cancel(),r.g=null)}function kB(r){wS(r),r.u&&(Vt.clearTimeout(r.u),r.u=null),IS(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Vt.clearTimeout(r.m),r.m=null)}function ES(r){if(!yB(r.i)&&!r.m){r.m=!0;var e=r.Na;Ew||ZU(),Iw||(Ew(),Iw=!0),PP.add(e,r),r.C=0}}function OB(r,e){var t;t=e?e.m:r.W++;const n=$c(r.I);jn(n,"SID",r.K),jn(n,"RID",t),jn(n,"AID",r.V),Vw(r,n),r.o&&r.s&&WP(n,r.o,r.s),t=new Sw(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=PB(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),GP(r.i,t),HP(t,n,e)}function Vw(r,e){r.na&&xP(r.na,function(t,n){jn(e,n,t)}),r.h&&dB({},function(t,n){jn(e,n,t)})}function PB(r,e,t){t=Math.min(r.j.length,t);var n=r.h?$i(r.h.Va,r.h,r):null;e:{var i=r.j;let o=-1;for(;;){const l=["count="+t];-1==o?0<t?(o=i[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let g=i[p].g;const w=i[p].map;if(g-=o,0>g)o=Math.max(0,i[p].g-100),h=!1;else try{jq(w,l,"req"+g+"_")}catch{n&&n(w)}}if(h){n=l.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,n}function NB(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;Ew||ZU(),Iw||(Ew(),Iw=!0),PP.add(e,r),r.A=0}}function KP(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Tw($i(r.Ma,r),VB(r,r.A)),r.A++,0))}function YP(r){null!=r.B&&(Vt.clearTimeout(r.B),r.B=null)}function FB(r){r.g=new Sw(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=$c(r.wa);jn(e,"RID","rpc"),jn(e,"SID",r.K),jn(e,"AID",r.V),jn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&jn(e,"TO",r.qa),jn(e,"TYPE","xmlhttp"),Vw(r,e),r.o&&r.s&&WP(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=_S($c(e)),t.s=null,t.S=!0,aB(t,r)}function IS(r){null!=r.v&&(Vt.clearTimeout(r.v),r.v=null)}function LB(r,e){var t=null;if(r.g==e){IS(r),YP(r),r.g=null;var n=2}else{if(!$P(r.i,e))return;t=e.F,wB(r.i,e),n=1}if(0!=r.H)if(e.i)if(1==n){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=r.C;Ii(n=uS(),new nB(n,t)),ES(r)}else NB(r);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==n&&function Zq(r,e){return!(bB(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Tw($i(r.Na,r,e),VB(r,r.C)),r.C++,0)))}(r,e)||2==n&&KP(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),i){case 1:ip(r,5);break;case 4:ip(r,10);break;case 3:ip(r,6);break;default:ip(r,2)}}function VB(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function ip(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var n=$i(r.pb,r);t||(t=new rp("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||mS(t,"https"),_S(t)),function Hq(r,e){const t=new cS;if(Vt.Image){const n=new Image;n.onload=rS(vS,t,n,"TestLoadImage: loaded",!0,e),n.onerror=rS(vS,t,n,"TestLoadImage: error",!1,e),n.onabort=rS(vS,t,n,"TestLoadImage: abort",!1,e),n.ontimeout=rS(vS,t,n,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=r}else e(!1)}(t.toString(),n)}else ms(2);r.H=0,r.h&&r.h.za(e),UB(r),kB(r)}function UB(r){if(r.H=0,r.ma=[],r.h){const e=EB(r.i);(0!=e.length||0!=r.j.length)&&(PU(r.ma,e),PU(r.ma,r.j),r.i.i.length=0,gP(r.j),r.j.length=0),r.h.ya()}}function BB(r,e,t){var n=t instanceof rp?$c(t):new rp(t);if(""!=n.g)e&&(n.g=e+"."+n.g),gS(n,n.m);else{var i=Vt.location;n=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new rp(null);n&&mS(o,n),e&&(o.g=e),i&&gS(o,i),t&&(o.l=t),n=o}return e=r.Da,(t=r.F)&&e&&jn(n,t,e),jn(n,"VER",r.ra),Vw(r,n),n}function jB(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&r.Ha&&!r.va?new Pw({ob:!0}):r.va)).Oa(r.J),e}function HB(){}function xS(){if(p_&&!(10<=Number(aq)))throw Error("Environmental error: no available transport.")}function ao(r,e){li.call(this),this.g=new RB(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!yw(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yw(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new __(this)}function zB(r){VP.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function $B(){UP.call(this),this.status=1}function __(r){this.g=r}function Ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function QP(r,e,t){t||(t=0);var n=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)n[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)n[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=r.g[3],l=(e=r.g[0])+(o^(t=r.g[1])&((i=r.g[2])^o))+n[0]+3614090360&4294967295;l=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(l<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+n[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+n[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+n[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+n[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+n[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+n[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+n[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+n[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+n[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+n[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+n[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(i^o))+n[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(i^e&(t^i))+n[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^o&(e^t))+n[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(o^e))+n[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^o&(t^i))+n[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+n[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+n[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+n[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+n[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+n[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+n[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+n[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+n[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+n[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+n[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+n[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^o&(t^i))+n[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^i&(e^t))+n[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(o^e))+n[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(i^o))+n[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^o)+n[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+n[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+n[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+n[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+n[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+n[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+n[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+n[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+n[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+n[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+n[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+n[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^o)+n[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^i)+n[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(o^e^t)+n[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^o^e)+n[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~o))+n[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+n[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+n[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+n[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~o))+n[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+n[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+n[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+n[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~o))+n[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+n[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(o|~t))+n[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(i|~e))+n[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(e=t+((l=e+(i^(t|~o))+n[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~i))+n[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=o+((l=i+(e^(o|~t))+n[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+n[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,r.g[2]=r.g[2]+i&4294967295,r.g[3]=r.g[3]+o&4294967295}function In(r,e){this.h=e;for(var t=[],n=!0,i=r.length-1;0<=i;i--){var o=0|r[i];n&&o==e||(t[i]=o,n=!1)}this.g=t}(tt=dr.prototype).Oa=function(r){this.M=r},tt.ha=function(r,e,t,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BP.g(),this.C=function iB(r){return r.h||(r.h=r.i())}(this.u?this.u:BP),this.g.onreadystatechange=$i(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(o){return void CB(this,o)}if(r=t||"",t=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)t.set(i,n[i]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())t.set(o,n.get(o))}n=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Vt.FormData&&r instanceof Vt.FormData,!(0<=OU(Gq,e))||n||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of t)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SB(this),0<this.B&&((this.L=function qq(r){return p_&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$i(this.ua,this)):this.A=FP(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(o){CB(this,o)}},tt.ua=function(){typeof pP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))},tt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ii(this,"complete"),Ii(this,"abort"),bS(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bS(this,!0)),dr.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?DB(this):this.kb())},tt.kb=function(){DB(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),zq(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=RB.prototype).ra=8,tt.H=1,tt.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const i=new Sw(this,this.l,r);let o=this.s;if(this.U&&(o?(o=UU(o),jU(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var n=this.j[t];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PB(this,i,e),jn(t=$c(this.I),"RID",r),jn(t,"CVER",22),this.F&&jn(t,"X-HTTP-Session-Id",this.F),Vw(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(MB(o)))+"&"+e:this.o&&WP(t,this.o,o)),GP(this.i,i),this.bb&&jn(t,"TYPE","init"),this.P?(jn(t,"$req",e),jn(t,"SID","null"),i.aa=!0,HP(i,t,null)):HP(i,t,e),this.H=2}}else 3==this.H&&(r?OB(this,r):0==this.j.length||yB(this.i)||OB(this))},tt.Ma=function(){if(this.u=null,FB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Tw($i(this.jb,this),r)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ms(10),wS(this),FB(this))},tt.ib=function(){null!=this.v&&(this.v=null,wS(this),KP(this),ms(19))},tt.pb=function(r){r?(this.l.info("Successfully pinged google.com"),ms(2)):(this.l.info("Failed to ping google.com"),ms(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=HB.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},xS.prototype.g=function(r,e){return new ao(r,e)},ai(ao,li),ao.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;ms(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=BB(r,null,r.Y),ES(r)},ao.prototype.close=function(){ZP(this.g)},ao.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=OP(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ES(e)},ao.prototype.N=function(){this.g.h=null,delete this.j,ZP(this.g),delete this.g,ao.$.N.call(this)},ai(zB,VP),ai($B,UP),ai(__,HB),__.prototype.Ba=function(){Ii(this.g,"a")},__.prototype.Aa=function(r){Ii(this.g,new zB(r))},__.prototype.za=function(r){Ii(this.g,new $B)},__.prototype.ya=function(){Ii(this.g,"b")},ai(Ca,function Kq(){this.blockSize=-1}),Ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ca.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,n=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)QP(this,r,o),o+=this.blockSize;if("string"==typeof r){for(;o<e;)if(n[i++]=r.charCodeAt(o++),i==this.blockSize){QP(this,n),i=0;break}}else for(;o<e;)if(n[i++]=r[o++],i==this.blockSize){QP(this,n),i=0;break}}this.h=i,this.i+=e},Ca.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var n=0;32>n;n+=8)r[t++]=this.g[e]>>>n&255;return r};var Yq={};function XP(r){return-128<=r&&128>r?function iq(r,e){var t=Yq;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new In([0|e],0>e?-1:0)}):new In([0|r],0>r?-1:0)}function xl(r){if(isNaN(r)||!isFinite(r))return v_;if(0>r)return xi(xl(-r));for(var e=[],t=1,n=0;r>=t;n++)e[n]=r/t|0,t*=JP;return new In(e,0)}var JP=4294967296,v_=XP(0),eN=XP(1),qB=XP(16777216);function Gc(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function jo(r){return-1==r.h}function xi(r){for(var e=r.g.length,t=[],n=0;n<e;n++)t[n]=~r.g[n];return new In(t,~r.h).add(eN)}function CS(r,e){return r.add(xi(e))}function TS(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Uw(r,e){this.g=r,this.h=e}function DS(r,e){if(Gc(e))throw Error("division by zero");if(Gc(r))return new Uw(v_,v_);if(jo(r))return e=DS(xi(r),e),new Uw(xi(e.g),xi(e.h));if(jo(e))return e=DS(r,xi(e)),new Uw(xi(e.g),e.h);if(30<r.g.length){if(jo(r)||jo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=eN,n=e;0>=n.X(r);)t=WB(t),n=WB(n);var i=y_(t,1),o=y_(n,1);for(n=y_(n,2),t=y_(t,2);!Gc(n);){var l=o.add(n);0>=l.X(r)&&(i=i.add(t),o=l),n=y_(n,1),t=y_(t,1)}return e=CS(r,i.R(e)),new Uw(i,e)}for(i=v_;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),n=48>=(n=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,n-48),l=(o=xl(t)).R(e);jo(l)||0<l.X(r);)l=(o=xl(t-=n)).R(e);Gc(o)&&(o=eN),i=i.add(o),r=CS(r,l)}return new Uw(i,r)}function WB(r){for(var e=r.g.length+1,t=[],n=0;n<e;n++)t[n]=r.D(n)<<1|r.D(n-1)>>>31;return new In(t,r.h)}function y_(r,e){var t=e>>5;e%=32;for(var n=r.g.length-t,i=[],o=0;o<n;o++)i[o]=0<e?r.D(o+t)>>>e|r.D(o+t+1)<<32-e:r.D(o+t);return new In(i,r.h)}(tt=In.prototype).ea=function(){if(jo(this))return-xi(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var n=this.D(t);r+=(0<=n?n:JP+n)*e,e*=JP}return r},tt.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Gc(this))return"0";if(jo(this))return"-"+xi(this).toString(r);for(var e=xl(Math.pow(r,6)),t=this,n="";;){var i=DS(t,e).g,o=((0<(t=CS(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Gc(t=i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},tt.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},tt.X=function(r){return jo(r=CS(this,r))?-1:Gc(r)?0:1},tt.abs=function(){return jo(this)?xi(this):this},tt.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],n=0,i=0;i<=e;i++){var o=n+(65535&this.D(i))+(65535&r.D(i)),l=(o>>>16)+(this.D(i)>>>16)+(r.D(i)>>>16);n=l>>>16,t[i]=(l&=65535)<<16|(o&=65535)}return new In(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(r){if(Gc(this)||Gc(r))return v_;if(jo(this))return jo(r)?xi(this).R(xi(r)):xi(xi(this).R(r));if(jo(r))return xi(this.R(xi(r)));if(0>this.X(qB)&&0>r.X(qB))return xl(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],n=0;n<2*e;n++)t[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<r.g.length;i++){var o=this.D(n)>>>16,l=65535&this.D(n),h=r.D(i)>>>16,p=65535&r.D(i);t[2*n+2*i]+=l*p,TS(t,2*n+2*i),t[2*n+2*i+1]+=o*p,TS(t,2*n+2*i+1),t[2*n+2*i+1]+=l*h,TS(t,2*n+2*i+1),t[2*n+2*i+2]+=o*h,TS(t,2*n+2*i+2)}for(n=0;n<e;n++)t[n]=t[2*n+1]<<16|t[2*n];for(n=e;n<2*e;n++)t[n]=0;return new In(t,0)},tt.gb=function(r){return DS(this,r).h},tt.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],n=0;n<e;n++)t[n]=this.D(n)&r.D(n);return new In(t,this.h&r.h)},tt.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],n=0;n<e;n++)t[n]=this.D(n)|r.D(n);return new In(t,this.h|r.h)},tt.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],n=0;n<e;n++)t[n]=this.D(n)^r.D(n);return new In(t,this.h^r.h)},xS.prototype.createWebChannel=xS.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,dS.NO_ERROR=0,dS.TIMEOUT=8,dS.HTTP_ERROR=6,rB.COMPLETE="complete",sB.EventType=Dw,Dw.OPEN="a",Dw.CLOSE="b",Dw.ERROR="c",Dw.MESSAGE="d",li.prototype.listen=li.prototype.O,dr.prototype.listenOnce=dr.prototype.P,dr.prototype.getLastError=dr.prototype.Sa,dr.prototype.getLastErrorCode=dr.prototype.Ia,dr.prototype.getStatus=dr.prototype.da,dr.prototype.getResponseJson=dr.prototype.Wa,dr.prototype.getResponseText=dr.prototype.ja,dr.prototype.send=dr.prototype.ha,dr.prototype.setWithCredentials=dr.prototype.Oa,Ca.prototype.digest=Ca.prototype.l,Ca.prototype.reset=Ca.prototype.reset,Ca.prototype.update=Ca.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=xl,In.fromString=function GB(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return xi(GB(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xl(Math.pow(e,8)),n=v_,i=0;i<r.length;i+=8){var o=Math.min(8,r.length-i),l=parseInt(r.substring(i,i+o),e);8>o?(o=xl(Math.pow(e,o)),n=n.R(o).add(xl(l))):n=(n=n.R(t)).add(xl(l))}return n};var KB,YB,QB,XB,JB,tj,nj,rj,ij,sj,oj,aj,lj,cj,uj,dj,hj,fj,pj,mj,gj,_j,vj,yj,bj,wj,Ej,Ij,xj,Cj,Tj,Dj,Sj,Aj,Mj,Rj,kj,Oj,Pj,Nj,Fj,Lj,Vj,Qq=xa.createWebChannelTransport=function(){return new xS},Xq=xa.getStatEventTarget=function(){return uS()},tN=xa.ErrorCode=dS,Jq=xa.EventType=rB,eW=xa.Event=tp,ZB=xa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tW=xa.FetchXmlHttpFactory=Pw,SS=xa.WebChannel=sB,nW=xa.XhrIo=dr,rW=xa.Md5=Ca,b_=xa.Integer=In;const Uj="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let w_="9.23.0";const xd=new Bi.Yd("@firebase/firestore");function nN(){return xd.logLevel}function Le(r,...e){if(xd.logLevel<=Bi.in.DEBUG){const t=e.map(rN);xd.debug(`Firestore (${w_}): ${r}`,...t)}}function Er(r,...e){if(xd.logLevel<=Bi.in.ERROR){const t=e.map(rN);xd.error(`Firestore (${w_}): ${r}`,...t)}}function Ho(r,...e){if(xd.logLevel<=Bi.in.WARN){const t=e.map(rN);xd.warn(`Firestore (${w_}): ${r}`,...t)}}function rN(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function rt(r="Unexpected state"){const e=`FIRESTORE (${w_}) INTERNAL ASSERTION FAILED: `+r;throw Er(e),new Error(e)}function mt(r,e){r||rt()}function Je(r,e){return r}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ie.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class aW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lW{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable((0,F.Z)(function*(){yield g.promise,yield o(n.currentUser)}))},p=g=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(mt("string"==typeof n.accessToken),new Bj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new ci(e)}}class cW{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class uW{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new cW(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dW{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=o=>{null!=o.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),this.T=t.token,new jj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hW(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class Hj{static A(){const t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=hW(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return n}}function Ft(r,e){return r<e?-1:r>e?1:0}function E_(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}function zj(r){return r+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Kn(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Kn(0,0))}static max(){return new _t(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bw{constructor(e,t,n){void 0===t?t=0:t>e.length&&rt(),void 0===n?n=e.length-t:n>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bw?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Bw{construct(e,t,n){return new un(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const fW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Bw{construct(e,t,n){return new hr(e,t,n)}static isValidIdentifier(e){return fW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(0===n.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(n+=h,i++):(o(),i++)}if(o(),l)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(un.fromString(e))}static fromName(e){return new Qe(un.fromString(e).popFirst(5))}static empty(){return new Qe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new un(e.slice()))}}class AS{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function iN(r){return r.fields.find(e=>2===e.kind)}function sp(r){return r.fields.filter(e=>2!==e.kind)}AS.UNKNOWN_ID=-1;class MS{constructor(e,t){this.fieldPath=e,this.kind=t}}class jw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jw(0,lo.min())}}function $j(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(1e9===n?new Kn(t+1,0):new Kn(t,n));return new lo(i,Qe.empty(),e)}function Gj(r){return new lo(r.readTime,r.key,-1)}class lo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new lo(_t.min(),Qe.empty(),-1)}static max(){return new lo(_t.max(),Qe.empty(),-1)}}function sN(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(r.documentKey,e.documentKey),0!==t?t:Ft(r.largestBatchId,e.largestBatchId))}const qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cd(r){return(KB=KB||(0,F.Z)(function*(e){if(e.code!==ce.FAILED_PRECONDITION||e.message!==qj)throw e;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,n)=>{t(e)})}static reject(e){return new ne((t,n)=>{n(e)})}static waitFor(e){return new ne((t,n)=>{let i=0,o=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++o,l&&o===i&&t()},p=>n(p))}),l=!0,o===i&&t()})}static or(e){let t=ne.resolve(!1);for(const n of e)t=t.next(i=>i?ne.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ne((n,i)=>{const o=e.length,l=new Array(o);let h=0;for(let p=0;p<o;p++){const g=p;t(e[g]).next(w=>{l[g]=w,++h,h===o&&n(l)},w=>i(w))}})}static doWhile(e,t){return new ne((n,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):n()};o()})}}class RS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new zr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Hw(e,t.error)):this.v.resolve()},this.transaction.onerror=n=>{const i=oN(n.target.error);this.v.reject(new Hw(e,i))}}static open(e,t,n,i){try{return new RS(t,e.transaction(i,n))}catch(o){throw new Hw(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _W(t)}}class Ta{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Ta.S((0,Ie.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),op(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ie.hl)())return!1;if(Ta.C())return!0;const e=(0,Ie.z$)(),t=Ta.S(e),n=0<t&&t<10,i=Ta.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}$(e){var t=this;return(0,F.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=l=>{n(l.target.result)},o.onblocked=()=>{i(new Hw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new xe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new xe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Hw(e,h))},o.onupgradeneeded=l=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,o.transaction,l.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=n=>t.F(n)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,i){var o=this;return(0,F.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const p=RS.open(o.db,e,l?"readonly":"readwrite",n),g=i(p).next(w=>(p.P(),w)).catch(w=>(p.abort(w),ne.reject(w))).toPromise();return g.catch(()=>{}),yield p.R,g}catch(p){const g=p,w="FirebaseError"!==g.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",g.message,"Retrying:",w),o.close(),!w)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gW{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return op(this.L.delete())}}class Hw extends xe{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Td(r){return"IndexedDbTransactionError"===r.name}class _W{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),op(n)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),op(this.store.add(e))}get(e){return op(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),op(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),op(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const i=this.cursor(n),o=[];return this.W(i,(l,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(n.range);return new ne((o,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ne((i,o)=>{n.onerror=l=>{o(l.target.error)},n.onsuccess=l=>{i(l.target.result)}})}J(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const i=this.cursor(n);return this.W(i,(o,l,h)=>h.delete())}X(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Z(e){const t=this.cursor({});return new ne((n,i)=>{t.onerror=o=>{const l=oN(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():n()}):n()}})}W(e,t){const n=[];return new ne((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const p=new gW(h),g=t(h.primaryKey,h.value,p);if(g instanceof ne){const w=g.catch(x=>(p.done(),ne.reject(x)));n.push(w)}p.isDone?i():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ne.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function op(r){return new ne((e,t)=>{r.onsuccess=n=>{e(n.target.result)},r.onerror=n=>{const i=oN(n.target.error);t(i)}})}let Zj=!1;function oN(r){const e=Ta.S((0,Ie.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zj||(Zj=!0,setTimeout(()=>{throw n},0)),n}}return r}class vW{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,F.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(n){Td(n)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Cd(n)}yield t.et(6e4)}))}}class yW{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,F.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>t.st(n,e))})()}st(e,t){const n=new Set;let i=t,o=!0;return ne.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!n.has(l))return Le("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(h=>{i-=h,n.add(l)});o=!1})).next(()=>t-i)}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,o)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let n=e;return t.changes.forEach((i,o)=>{const l=Gj(o);sN(l,n)>0&&(n=l)}),new lo(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}let co=(()=>{class r{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function zw(r){return null==r}function $w(r){return 0===r&&1/r==-1/0}function Kj(r){return"number"==typeof r&&Number.isInteger(r)&&!$w(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function qi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Yj(e)),e=bW(r.get(t),e);return Yj(e)}function bW(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function Yj(r){return r+"\x01\x01"}function Cl(r){const e=r.length;if(mt(e>=2),2===e)return mt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),un.emptyPath();const t=e-2,n=[];let i="";for(let o=0;o<e;){const l=r.indexOf("\x01",o);switch((l<0||l>t)&&rt(),r.charAt(l+1)){case"\x01":const h=r.substring(o,l);let p;0===i.length?p=h:(i+=h,p=i,i=""),n.push(p);break;case"\x10":i+=r.substring(o,l),i+="\0";break;case"\x11":i+=r.substring(o,l+1);break;default:rt()}o=l+2}return new un(n)}const Qj=["userId","batchId"];function kS(r,e){return[r,qi(e)]}function Xj(r,e,t){return[r,qi(e),t]}const wW={},EW=["prefixPath","collectionGroup","readTime","documentId"],IW=["prefixPath","collectionGroup","documentId"],xW=["collectionGroup","readTime","prefixPath","documentId"],CW=["canonicalId","targetId"],TW=["targetId","path"],DW=["path","targetId"],SW=["collectionId","parent"],AW=["indexId","uid"],MW=["uid","sequenceNumber"],RW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kW=["indexId","uid","orderedDocumentKey"],OW=["userId","collectionPath","documentId"],PW=["userId","collectionPath","largestBatchId"],NW=["userId","collectionGroup","largestBatchId"],Jj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FW=[...Jj,"documentOverlays"],eH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tH=eH,LW=[...tH,"indexConfiguration","indexState","indexEntries"];class aN extends Wj{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ui(r,e){const t=Je(r);return Ta.M(t.ht,e)}function nH(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Dd(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function rH(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class kn{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OS(this.root,e,this.comparator,!1)}getReverseIterator(){return new OS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OS(this.root,e,this.comparator,!0)}}class OS{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Ci.RED,this.left=i??Ci.EMPTY,this.right=o??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Ci(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ci.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(r,e,t,n,i){return this}insert(r,e,t){return new Ci(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iH(this.data.getIterator())}getIteratorFrom(e){return new iH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class iH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function I_(r){return r.hasNext()?r.getNext():void 0}class Vs{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new Vs([])}unionWith(e){let t=new Hn(hr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return E_(this.fields,e.fields,(t,n)=>t.isEqual(n))}}class sH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(n){try{return atob(n)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sH("Invalid base64 string: "+i):i}}(e);return new $r(t)}static fromUint8Array(e){const t=function(n){let i="";for(let o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const UW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sd(r){if(mt(!!r),"string"==typeof r){let e=0;const t=UW.exec(r);if(mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fr(r.seconds),nanos:fr(r.nanos)}}function fr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function qc(r){return"string"==typeof r?$r.fromBase64String(r):$r.fromUint8Array(r)}function PS(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function NS(r){const e=r.mapValue.fields.__previous_value__;return PS(e)?NS(e):e}function Gw(r){const e=Sd(r.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class BW{constructor(e,t,n,i,o,l,h,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class Ad{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ad("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}const Md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FS={nullValue:"NULL_VALUE"};function Rd(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?PS(r)?4:cH(r)?9007199254740991:10:rt()}function Tl(r,e){if(r===e)return!0;const t=Rd(r);if(t!==Rd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gw(r).isEqual(Gw(e));case 3:return function(n,i){if("string"==typeof n.timestampValue&&"string"==typeof i.timestampValue&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const o=Sd(n.timestampValue),l=Sd(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return i=e,qc(r.bytesValue).isEqual(qc(i.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(n,i){return fr(n.geoPointValue.latitude)===fr(i.geoPointValue.latitude)&&fr(n.geoPointValue.longitude)===fr(i.geoPointValue.longitude)}(r,e);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return fr(n.integerValue)===fr(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const o=fr(n.doubleValue),l=fr(i.doubleValue);return o===l?$w(o)===$w(l):isNaN(o)&&isNaN(l)}return!1}(r,e);case 9:return E_(r.arrayValue.values||[],e.arrayValue.values||[],Tl);case 10:return function(n,i){const o=n.mapValue.fields||{},l=i.mapValue.fields||{};if(nH(o)!==nH(l))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===l[h]||!Tl(o[h],l[h])))return!1;return!0}(r,e);default:return rt()}var i}function qw(r,e){return void 0!==(r.values||[]).find(t=>Tl(t,e))}function kd(r,e){if(r===e)return 0;const t=Rd(r),n=Rd(e);if(t!==n)return Ft(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(r.booleanValue,e.booleanValue);case 2:return function(i,o){const l=fr(i.integerValue||i.doubleValue),h=fr(o.integerValue||o.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(r,e);case 3:return oH(r.timestampValue,e.timestampValue);case 4:return oH(Gw(r),Gw(e));case 5:return Ft(r.stringValue,e.stringValue);case 6:return function(i,o){const l=qc(i),h=qc(o);return l.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),h=o.split("/");for(let p=0;p<l.length&&p<h.length;p++){const g=Ft(l[p],h[p]);if(0!==g)return g}return Ft(l.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ft(fr(i.latitude),fr(o.latitude));return 0!==l?l:Ft(fr(i.longitude),fr(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],h=o.values||[];for(let p=0;p<l.length&&p<h.length;++p){const g=kd(l[p],h[p]);if(g)return g}return Ft(l.length,h.length)}(r.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Md.mapValue&&o===Md.mapValue)return 0;if(i===Md.mapValue)return 1;if(o===Md.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),p=o.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let w=0;w<h.length&&w<g.length;++w){const x=Ft(h[w],g[w]);if(0!==x)return x;const S=kd(l[h[w]],p[g[w]]);if(0!==S)return S}return Ft(h.length,g.length)}(r.mapValue,e.mapValue);default:throw rt()}}function oH(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ft(r,e);const t=Sd(r),n=Sd(e),i=Ft(t.seconds,n.seconds);return 0!==i?i:Ft(t.nanos,n.nanos)}function x_(r){return lN(r)}function lN(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=Sd(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?qc(r.bytesValue).toBase64():"referenceValue"in r?Qe.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=lN(l);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${lN(n.fields[h])}`;return o+"}"}(r.mapValue):rt();var e}function ap(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cN(r){return!!r&&"integerValue"in r}function Ww(r){return!!r&&"arrayValue"in r}function aH(r){return!!r&&"nullValue"in r}function lH(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function VS(r){return!!r&&"mapValue"in r}function Zw(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Dd(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Zw(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zw(r.arrayValue.values[t]);return e}return Object.assign({},r)}function cH(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function jW(r){return"nullValue"in r?FS:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ap(Ad.empty(),Qe.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:rt()}function HW(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ap(Ad.empty(),Qe.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Md:rt()}function uH(r,e){const t=kd(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function dH(r,e){const t=kd(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!VS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zw(t)}setAll(e){let t=hr.emptyPath(),n={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,n,i),n={},i=[],t=h.popLast()}l?n[h.lastSegment()]=Zw(l):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());VS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];VS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Dd(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Ti(Zw(this.value))}}function hH(r){const e=[];return Dd(r.fields,(t,n)=>{const i=new hr([t]);if(VS(n)){const o=hH(n.mapValue).fields;if(0===o.length)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Vs(e)}class zn{constructor(e,t,n,i,o,l,h){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,_t.min(),_t.min(),_t.min(),Ti.empty(),0)}static newFoundDocument(e,t,n,i){return new zn(e,1,t,_t.min(),n,i,0)}static newNoDocument(e,t){return new zn(e,2,t,_t.min(),_t.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,_t.min(),_t.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Od{constructor(e,t){this.position=e,this.inclusive=t}}function fH(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(n=o.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):kd(l,t.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function pH(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Tl(r.position[t],e.position[t]))return!1;return!0}class C_{constructor(e,t="asc"){this.field=e,this.dir=t}}function zW(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class mH{}class sn extends mH{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new $W(e,t,n):"array-contains"===t?new WW(e,n):"in"===t?new wH(e,n):"not-in"===t?new ZW(e,n):"array-contains-any"===t?new KW(e,n):new sn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new GW(e,n):new qW(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kd(t,this.value)):null!==t&&Rd(this.value)===Rd(t)&&this.matchesComparison(kd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xn extends mH{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new xn(e,t)}matches(e){return T_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function T_(r){return"and"===r.op}function uN(r){return"or"===r.op}function dN(r){return gH(r)&&T_(r)}function gH(r){for(const e of r.filters)if(e instanceof xn)return!1;return!0}function hN(r){if(r instanceof sn)return r.field.canonicalString()+r.op.toString()+x_(r.value);if(dN(r))return r.filters.map(e=>hN(e)).join(",");{const e=r.filters.map(t=>hN(t)).join(",");return`${r.op}(${e})`}}function _H(r,e){return r instanceof sn?(t=r,(n=e)instanceof sn&&t.op===n.op&&t.field.isEqual(n.field)&&Tl(t.value,n.value)):r instanceof xn?function(t,n){return n instanceof xn&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((i,o,l)=>i&&_H(o,n.filters[l]),!0)}(r,e):void rt();var t,n}function vH(r,e){const t=r.filters.concat(e);return xn.create(t,r.op)}function yH(r){return r instanceof sn?`${(e=r).field.canonicalString()} ${e.op} ${x_(e.value)}`:r instanceof xn?function(e){return e.op.toString()+" {"+e.getFilters().map(yH).join(" ,")+"}"}(r):"Filter";var e}class $W extends sn{constructor(e,t,n){super(e,t,n),this.key=Qe.fromName(n.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class GW extends sn{constructor(e,t){super(e,"in",t),this.keys=bH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qW extends sn{constructor(e,t){super(e,"not-in",t),this.keys=bH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bH(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>Qe.fromName(n.referenceValue))}class WW extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ww(t)&&qw(t.arrayValue,this.value)}}class wH extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qw(this.value.arrayValue,t)}}class ZW extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qw(this.value.arrayValue,t)}}class KW extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ww(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>qw(this.value.arrayValue,n))}}class YW{constructor(e,t=null,n=[],i=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=h,this.dt=null}}function fN(r,e=null,t=[],n=[],i=null,o=null,l=null){return new YW(r,e,t,n,i,o,l)}function lp(r){const e=Je(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>hN(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>{return(i=n).field.canonicalString()+i.dir;var i}).join(","),zw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>x_(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>x_(n)).join(",")),e.dt=t}return e.dt}function Kw(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zW(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!_H(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pH(r.startAt,e.startAt)&&pH(r.endAt,e.endAt)}function US(r){return Qe.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function BS(r,e){return r.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function EH(r,e,t){let n=FS,i=!0;for(const o of BS(r,e)){let l=FS,h=!0;switch(o.op){case"<":case"<=":l=jW(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,h=!1;break;case"!=":case"not-in":l=FS}uH({value:n,inclusive:i},{value:l,inclusive:h})<0&&(n=l,i=h)}if(null!==t)for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];uH({value:n,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(n=l,i=t.inclusive);break}return{value:n,inclusive:i}}function IH(r,e,t){let n=Md,i=!0;for(const o of BS(r,e)){let l=Md,h=!0;switch(o.op){case">=":case">":l=HW(o.value),h=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,h=!1;break;case"!=":case"not-in":l=Md}dH({value:n,inclusive:i},{value:l,inclusive:h})>0&&(n=l,i=h)}if(null!==t)for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];dH({value:n,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(n=l,i=t.inclusive);break}return{value:n,inclusive:i}}class Wc{constructor(e,t=null,n=[],i=[],o=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function xH(r,e,t,n,i,o,l,h){return new Wc(r,e,t,n,i,o,l,h)}function D_(r){return new Wc(r)}function CH(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function pN(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function jS(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function mN(r){return null!==r.collectionGroup}function cp(r){const e=Je(r);if(null===e.wt){e.wt=[];const t=jS(e),n=pN(e);if(null!==t&&null===n)t.isKeyField()||e.wt.push(new C_(t)),e.wt.push(new C_(hr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new C_(hr.keyField(),o))}}}return e.wt}function gs(r){const e=Je(r);if(!e._t)if("F"===e.limitType)e._t=fN(e.path,e.collectionGroup,cp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of cp(e))t.push(new C_(o.field,"desc"===o.dir?"asc":"desc"));const n=e.endAt?new Od(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Od(e.startAt.position,e.startAt.inclusive):null;e._t=fN(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function gN(r,e){e.getFirstInequalityField(),jS(r);const t=r.filters.concat([e]);return new Wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function HS(r,e,t){return new Wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Yw(r,e){return Kw(gs(r),gs(e))&&r.limitType===e.limitType}function TH(r){return`${lp(gs(r))}|lt:${r.limitType}`}function _N(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>yH(n)).join(", ")}]`),zw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>{return`${(i=n).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>x_(n)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>x_(n)).join(",")),`Target(${t})`}(gs(r))}; limitType=${r.limitType})`}function Qw(r,e){return e.isFoundDocument()&&function(t,n){const i=n.key.path;return null!==t.collectionGroup?n.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(r,e)&&function(t,n){for(const i of cp(t))if(!i.field.isKeyField()&&null===n.data.field(i.field))return!1;return!0}(r,e)&&function(t,n){for(const i of t.filters)if(!i.matches(n))return!1;return!0}(r,e)&&(n=e,!((t=r).startAt&&!function(i,o,l){const h=fH(i,o,l);return i.inclusive?h<=0:h<0}(t.startAt,cp(t),n)||t.endAt&&!function(i,o,l){const h=fH(i,o,l);return i.inclusive?h>=0:h>0}(t.endAt,cp(t),n)));var t,n}function DH(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function SH(r){return(e,t)=>{let n=!1;for(const i of cp(r)){const o=QW(i,e,t);if(0!==o)return o;n=n||i.field.isKeyField()}return 0}}function QW(r,e,t){const n=r.field.isKeyField()?Qe.comparator(e.key,t.key):function(i,o,l){const h=o.data.field(i),p=l.data.field(i);return null!==h&&null!==p?kd(h,p):rt()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return rt()}}class Zc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,o]of n)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dd(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return rH(this.inner)}size(){return this.innerSize}}const XW=new kn(Qe.comparator);function Us(){return XW}const AH=new kn(Qe.comparator);function Xw(...r){let e=AH;for(const t of r)e=e.insert(t.key,t);return e}function MH(r){let e=AH;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Dl(){return Jw()}function RH(){return Jw()}function Jw(){return new Zc(r=>r.toString(),(r,e)=>r.isEqual(e))}const JW=new kn(Qe.comparator),e9=new Hn(Qe.comparator);function jt(...r){let e=e9;for(const t of r)e=e.add(t);return e}const t9=new Hn(Ft);function vN(){return t9}function kH(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$w(e)?"-0":e}}function OH(r){return{integerValue:""+r}}function PH(r,e){return Kj(e)?OH(e):kH(r,e)}class zS{constructor(){this._=void 0}}function n9(r,e,t){return r instanceof S_?function(n,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&PS(i)&&(i=NS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):r instanceof up?FH(r,e):r instanceof dp?LH(r,e):function(n,i){const o=NH(n,i),l=VH(o)+VH(n.gt);return cN(o)&&cN(n.gt)?OH(l):kH(n.serializer,l)}(r,e)}function r9(r,e,t){return r instanceof up?FH(r,e):r instanceof dp?LH(r,e):t}function NH(r,e){return r instanceof A_?cN(t=e)||(n=t)&&"doubleValue"in n?e:{integerValue:0}:null;var n,t}class S_ extends zS{}class up extends zS{constructor(e){super(),this.elements=e}}function FH(r,e){const t=UH(e);for(const n of r.elements)t.some(i=>Tl(i,n))||t.push(n);return{arrayValue:{values:t}}}class dp extends zS{constructor(e){super(),this.elements=e}}function LH(r,e){let t=UH(e);for(const n of r.elements)t=t.filter(i=>!Tl(i,n));return{arrayValue:{values:t}}}class A_ extends zS{constructor(e,t){super(),this.serializer=e,this.gt=t}}function VH(r){return fr(r.integerValue||r.doubleValue)}function UH(r){return Ww(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class eE{constructor(e,t){this.field=e,this.transform=t}}class s9{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $S(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class GS{}function BH(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new R_(r.key,Yn.none()):new M_(r.key,r.data,Yn.none());{const t=r.data,n=Ti.empty();let i=new Hn(hr.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);null===l&&o.length>1&&(o=o.popLast(),l=t.field(o)),null===l?n.delete(o):n.set(o,l),i=i.add(o)}return new Kc(r.key,n,new Vs(i.toArray()),Yn.none())}}function o9(r,e,t){r instanceof M_?function(n,i,o){const l=n.value.clone(),h=zH(n.fieldTransforms,i,o.transformResults);l.setAll(h),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,e,t):r instanceof Kc?function(n,i,o){if(!$S(n.precondition,i))return void i.convertToUnknownDocument(o.version);const l=zH(n.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(HH(n)),h.setAll(l),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tE(r,e,t,n){return r instanceof M_?function(i,o,l,h){if(!$S(i.precondition,o))return l;const p=i.value.clone(),g=$H(i.fieldTransforms,h,o);return p.setAll(g),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Kc?function(i,o,l,h){if(!$S(i.precondition,o))return l;const p=$H(i.fieldTransforms,h,o),g=o.data;return g.setAll(HH(i)),g.setAll(p),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(w=>w.field))}(r,e,t,n):(l=t,$S(r.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function a9(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=NH(n.transform,i||null);null!=o&&(null===t&&(t=Ti.empty()),t.set(n.field,o))}return t||null}function jH(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(n=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===n||t&&n&&E_(t,n,(i,o)=>function i9(r,e){return r.field.isEqual(e.field)&&(n=e.transform,(t=r.transform)instanceof up&&n instanceof up||t instanceof dp&&n instanceof dp?E_(t.elements,n.elements,Tl):t instanceof A_&&n instanceof A_?Tl(t.gt,n.gt):t instanceof S_&&n instanceof S_);var t,n}(i,o))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,n}class M_ extends GS{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kc extends GS{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HH(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function zH(r,e,t){const n=new Map;mt(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,h=e.data.field(o.field);n.set(o.field,r9(l,h,t[i]))}return n}function $H(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,n9(o,l,e))}return n}class R_ extends GS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yN extends GS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bN{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&o9(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=tE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=tE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=RH();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=t.has(i.key)?null:h;const p=BH(l,h);null!==p&&n.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(_t.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&E_(this.mutations,e.mutations,(t,n)=>jH(t,n))&&E_(this.baseMutations,e.baseMutations,(t,n)=>jH(t,n))}}class wN{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){mt(e.mutations.length===n.length);let i=JW;const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new wN(e,t,n,i)}}class EN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class c9{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rr,dn;function GH(r){switch(r){default:return rt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function qH(r){if(void 0===r)return Er("GRPC error has no .code"),ce.UNKNOWN;switch(r){case Rr.OK:return ce.OK;case Rr.CANCELLED:return ce.CANCELLED;case Rr.UNKNOWN:return ce.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return ce.INTERNAL;case Rr.UNAVAILABLE:return ce.UNAVAILABLE;case Rr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Rr.NOT_FOUND:return ce.NOT_FOUND;case Rr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Rr.ABORTED:return ce.ABORTED;case Rr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Rr.DATA_LOSS:return ce.DATA_LOSS;default:return rt()}}(dn=Rr||(Rr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class IN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qS}static getOrCreateInstance(){return null===qS&&(qS=new IN),qS}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let qS=null;function WH(){return new TextEncoder}const u9=new b_([4294967295,4294967295],0);function ZH(r){const e=WH().encode(r),t=new rW;return t.update(e),new Uint8Array(t.digest())}function KH(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new b_([t,n],0),new b_([i,o],0)]}class xN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new nE(`Invalid padding: ${t}`);if(n<0)throw new nE(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new nE(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new nE(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=b_.fromNumber(this.It)}Et(e,t,n){let i=e.add(t.multiply(b_.fromNumber(n)));return 1===i.compare(u9)&&(i=new b_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ZH(e),[n,i]=KH(t);for(let o=0;o<this.hashCount;o++){const l=this.Et(n,i,o);if(!this.At(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new xN(o,i,t);return n.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=ZH(e),[n,i]=KH(t);for(let o=0;o<this.hashCount;o++){const l=this.Et(n,i,o);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rE{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,iE.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new rE(_t.min(),i,new kn(Ft),Us(),jt())}}class iE{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new iE(n,t,jt(),jt(),jt())}}class WS{constructor(e,t,n,i){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=i}}class YH{constructor(e,t){this.targetId=e,this.Vt=t}}class QH{constructor(e,t,n=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class XH{constructor(){this.St=0,this.Dt=e3(),this.Ct=$r.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=jt(),t=jt(),n=jt();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:rt()}}),new iE(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=e3()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d9{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Us(),this.zt=JH(),this.Wt=new kn(Ft)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((n,i)=>{this.te(i)&&t(i)})}ne(e){var t;const n=e.targetId,i=e.Vt.count,o=this.se(n);if(o){const l=o.target;if(US(l))if(0===i){const h=new Qe(l.path);this.Yt(n,h,zn.newNoDocument(h,_t.min()))}else mt(1===i);else{const h=this.ie(n);if(h!==i){const p=this.re(e,h);0!==p&&(this.ee(n),this.Wt=this.Wt.insert(n,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=IN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(g,w,x){var S,k,j,K,J,le;const Pe={localCacheCount:w,existenceFilterCount:x.count},Se=x.unchangedNames;return Se&&(Pe.bloomFilter={applied:0===g,hashCount:null!==(S=Se?.hashCount)&&void 0!==S?S:0,bitmapLength:null!==(K=null===(j=null===(k=Se?.bits)||void 0===k?void 0:k.bitmap)||void 0===j?void 0:j.length)&&void 0!==K?K:0,padding:null!==(le=null===(J=Se?.bits)||void 0===J?void 0:J.padding)&&void 0!==le?le:0}),Pe}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:h=0}=n;let p,g;try{p=qc(o).toUint8Array()}catch(w){if(w instanceof sH)return Ho("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw w}try{g=new xN(p,l,h)}catch(w){return Ho(w instanceof nE?"BloomFilter error: ":"Applying bloom filter failed: ",w),1}return 0===g.It?1:i!==t-this.oe(e.targetId,g)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach(o=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,l)=>{const h=this.se(l);if(h){if(o.current&&US(h.target)){const p=new Qe(h.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,zn.newNoDocument(p,e))}o.Mt&&(t.set(l,o.Ot()),o.Ft())}});let n=jt();this.zt.forEach((o,l)=>{let h=!0;l.forEachWhile(p=>{const g=this.se(p);return!g||"TargetPurposeLimboResolution"===g.purpose||(h=!1,!1)}),h&&(n=n.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(e));const i=new rE(e,t,this.Wt,this.jt,n);return this.jt=Us(),this.zt=JH(),this.Wt=new kn(Ft),i}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new XH,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hn(Ft),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new XH),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function JH(){return new kn(Qe.comparator)}function e3(){return new kn(Qe.comparator)}const h9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p9={and:"AND",or:"OR"};class m9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function CN(r,e){return r.useProto3Json||zw(e)?e:{value:e}}function k_(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t3(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function g9(r,e){return k_(r,e.toTimestamp())}function Ir(r){return mt(!!r),_t.fromTimestamp(function(e){const t=Sd(e);return new Kn(t.seconds,t.nanos)}(r))}function TN(r,e){return(t=r,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function n3(r){const e=un.fromString(r);return mt(h3(e)),e}function sE(r,e){return TN(r.databaseId,e.path)}function Sl(r,e){const t=n3(e);if(t.get(1)!==r.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Qe(s3(t))}function DN(r,e){return TN(r.databaseId,e)}function r3(r){const e=n3(r);return 4===e.length?un.emptyPath():s3(e)}function oE(r){return new un(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s3(r){return mt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function o3(r,e,t){return{name:sE(r,e),fields:t.value.mapValue.fields}}function a3(r,e,t){const n=Sl(r,e.name),i=Ir(e.updateTime),o=e.createTime?Ir(e.createTime):_t.min(),l=new Ti({mapValue:{fields:e.fields}}),h=zn.newFoundDocument(n,i,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function aE(r,e){let t;if(e instanceof M_)t={update:o3(r,e.key,e.value)};else if(e instanceof R_)t={delete:sE(r,e.key)};else if(e instanceof Kc)t={update:o3(r,e.key,e.data),updateMask:x9(e.fieldMask)};else{if(!(e instanceof yN))return rt();t={verify:sE(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const l=o.transform;if(l instanceof S_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof up)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof A_)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw rt()}(0,n))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:g9(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rt()),t;var i}function SN(r,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Yn.updateTime(Ir(i.updateTime)):void 0!==i.exists?Yn.exists(i.exists):Yn.none():Yn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let h=null;"setToServerValue"in l?(mt("REQUEST_TIME"===l.setToServerValue),h=new S_):"appendMissingElements"in l?h=new up(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new dp(l.removeAllFromArray.values||[]):"increment"in l?h=new A_(o,l.increment):rt();const p=hr.fromServerFormat(l.fieldPath);return new eE(p,h)}(r,i)):[];var i;if(e.update){const i=Sl(r,e.update.name),o=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Vs((e.updateMask.fieldPaths||[]).map(g=>hr.fromServerFormat(g)));return new Kc(i,o,l,t,n)}return new M_(i,o,t,n)}if(e.delete){const i=Sl(r,e.delete);return new R_(i,t)}if(e.verify){const i=Sl(r,e.verify);return new yN(i,t)}return rt()}function l3(r,e){return{documents:[DN(r,e.path)]}}function AN(r,e){const t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(t.parent=DN(r,n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=DN(r,n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(p){if(0!==p.length)return d3(xn.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(p){if(0!==p.length)return p.map(g=>{return{field:Pd((w=g).field),direction:w9(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=CN(r,e.limit);var h,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function c3(r){let e=r3(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){mt(1===n);const w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let o=[];t.where&&(o=function(w){const x=u3(w);return x instanceof xn&&dN(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(w=>{return new C_(O_((x=w).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let h=null;t.limit&&(h=function(w){let x;return x="object"==typeof w?w.value:w,zw(x)?null:x}(t.limit));let p=null;var w;t.startAt&&(p=new Od((w=t.startAt).values||[],!!w.before));let g=null;return t.endAt&&(g=function(w){return new Od(w.values||[],!w.before)}(t.endAt)),xH(e,i,l,o,h,"F",p,g)}function u3(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=O_(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=O_(e.unaryFilter.field);return sn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=O_(e.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=O_(e.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(r):void 0!==r.fieldFilter?sn.create(O_((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return xn.create(e.compositeFilter.filters.map(t=>u3(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(r):rt();var e}function w9(r){return h9[r]}function E9(r){return f9[r]}function I9(r){return p9[r]}function Pd(r){return{fieldPath:r.canonicalString()}}function O_(r){return hr.fromServerFormat(r.fieldPath)}function d3(r){return r instanceof sn?function(e){if("=="===e.op){if(lH(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NAN"}};if(aH(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lH(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NOT_NAN"}};if(aH(e.value))return{unaryFilter:{field:Pd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pd(e.field),op:E9(e.op),value:e.value}}}(r):r instanceof xn?function(e){const t=e.getFilters().map(n=>d3(n));return 1===t.length?t[0]:{compositeFilter:{op:I9(e.op),filters:t}}}(r):rt()}function x9(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h3(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Yc{constructor(e,t,n,i,o=_t.min(),l=_t.min(),h=$r.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Yc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class f3{constructor(e){this.fe=e}}function p3(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ZS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document={name:sE(i=r.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:k_(i,o.version.toTimestamp()),createTime:k_(i,o.createTime.toTimestamp())};else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:hp(e.version)};else{if(!e.isUnknownDocument())return rt();n.unknownDocument={path:t.path.toArray(),version:hp(e.version)}}var i,o;return n}function ZS(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function hp(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fp(r){const e=new Kn(r.seconds,r.nanoseconds);return _t.fromTimestamp(e)}function pp(r,e){const t=(e.baseMutations||[]).map(o=>SN(r.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const n=e.mutations.map(o=>SN(r.fe,o)),i=Kn.fromMillis(e.localWriteTimeMs);return new bN(e.batchId,i,t,n)}function lE(r){const e=fp(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?fp(r.lastLimboFreeSnapshotVersion):_t.min();let n;var i;return void 0!==r.query.documents?(mt(1===(i=r.query).documents.length),n=gs(D_(r3(i.documents[0])))):n=gs(c3(r.query)),new Yc(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,$r.fromBase64String(r.resumeToken))}function m3(r,e){const t=hp(e.snapshotVersion),n=hp(e.lastLimboFreeSnapshotVersion);let i;i=US(e.target)?l3(r.fe,e.target):AN(r.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function MN(r){const e=c3({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?HS(e,e.limit,"L"):e}function RN(r,e){return new EN(e.largestBatchId,SN(r.fe,e.overlayMutation))}function g3(r,e){const t=e.path.lastSegment();return[r,qi(e.path.popLast()),t]}function _3(r,e,t,n){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:hp(n.readTime),documentKey:qi(n.documentKey.path),largestBatchId:n.largestBatchId}}class T9{getBundleMetadata(e,t){return v3(e).get(t).next(n=>{if(n)return{id:(i=n).bundleId,createTime:fp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return v3(e).put({bundleId:(n=t).id,createTime:hp(Ir(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return y3(e).get(t).next(n=>{if(n)return{name:(i=n).name,query:MN(i.bundledQuery),readTime:fp(i.readTime)};var i})}saveNamedQuery(e,t){return y3(e).put({name:(n=t).name,readTime:hp(Ir(n.readTime)),bundledQuery:n.bundledQuery});var n}}function v3(r){return ui(r,"bundles")}function y3(r){return ui(r,"namedQueries")}class KS{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new KS(e,t.uid||"")}getOverlay(e,t){return cE(e).get(g3(this.userId,t)).next(n=>n?RN(this.serializer,n):null)}getOverlays(e,t){const n=Dl();return ne.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){const i=[];return n.forEach((o,l)=>{const h=new EN(t,l);i.push(this.we(e,h))}),ne.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(l=>i.add(qi(l.getCollectionPath())));const o=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,n+1],!1,!0);o.push(cE(e).J("collectionPathOverlayIndex",h))}),ne.waitFor(o)}getOverlaysForCollection(e,t,n){const i=Dl(),o=qi(t),l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return cE(e).j("collectionPathOverlayIndex",l).next(h=>{for(const p of h){const g=RN(this.serializer,p);i.set(g.getKey(),g)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const o=Dl();let l;const h=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cE(e).X({index:"collectionGroupOverlayIndex",range:h},(p,g,w)=>{const x=RN(this.serializer,g);o.size()<i||x.largestBatchId===l?(o.set(x.getKey(),x),l=x.largestBatchId):w.done()}).next(()=>o)}we(e,t){return cE(e).put(function(n,i,o){const[l,h,p]=g3(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:aE(n.fe,o.mutation)}}(this.serializer,this.userId,t))}}function cE(r){return ui(r,"documentOverlays")}class mp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(fr(e.integerValue));else if("doubleValue"in e){const n=fr(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),$w(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(qc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?cH(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const i of Object.keys(n))this.Te(i,t),this.me(n[i],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const i of n)this.me(i,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(n=>{this.ye(t,60),this.be(n,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function D9(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function b3(r){const e=64-function(t){let n=0;for(let i=0;i<8;++i){const o=D9(255&t[i]);if(n+=o,8!==o)break}return n}(r);return Math.ceil(e/8)}mp.Ve=new mp;class S9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.De(n);else if(n<2048)this.De(960|n>>>6),this.De(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.De(480|n>>>12),this.De(128|63&n>>>6),this.De(128|63&n);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Ne(n);else if(n<2048)this.Ne(960|n>>>6),this.Ne(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|n>>>12),this.Ne(128|63&n>>>6),this.Ne(128|63&n);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),n=b3(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),n=b3(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class A9{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class M9{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class uE{constructor(){this.je=new S9,this.ze=new A9(this.je),this.We=new M9(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class gp{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new gp(this.indexId,this.documentKey,this.arrayValue,n)}}function Nd(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=w3(r.arrayValue,e.arrayValue),0!==t?t:(t=w3(r.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(r.documentKey,e.documentKey)))}function w3(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(0!==n)return n}return r.length-e.length}class R9{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const n=t;n.isInequality()?this.Ze=n:this.Xe.push(n)}}tn(e){mt(e.collectionGroup===this.collectionId);const t=iN(e);if(void 0!==t&&!this.en(t))return!1;const n=sp(e);let i=new Set,o=0,l=0;for(;o<n.length&&this.en(n[o]);++o)i=i.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=n[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++o}for(;o<n.length;++o)if(l>=this.Ye.length||!this.sn(this.Ye[l++],n[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function E3(r){var e,t;if(mt(r instanceof sn||r instanceof xn),r instanceof sn){if(r instanceof wH){const i=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>sn.create(r.field,"==",o)))||[];return xn.create(i,"or")}return r}const n=r.filters.map(i=>E3(i));return xn.create(n,r.op)}function k9(r){if(0===r.getFilters().length)return[];const e=PN(E3(r));return mt(I3(e)),kN(e)||ON(e)?[e]:e.getFilters()}function kN(r){return r instanceof sn}function ON(r){return r instanceof xn&&dN(r)}function I3(r){return kN(r)||ON(r)||function(e){if(e instanceof xn&&uN(e)){for(const t of e.getFilters())if(!kN(t)&&!ON(t))return!1;return!0}return!1}(r)}function PN(r){if(mt(r instanceof sn||r instanceof xn),r instanceof sn)return r;if(1===r.filters.length)return PN(r.filters[0]);const e=r.filters.map(n=>PN(n));let t=xn.create(e,r.op);return t=YS(t),I3(t)?t:(mt(t instanceof xn),mt(T_(t)),mt(t.filters.length>1),t.filters.reduce((n,i)=>NN(n,i)))}function NN(r,e){let t;return mt(r instanceof sn||r instanceof xn),mt(e instanceof sn||e instanceof xn),t=r instanceof sn?e instanceof sn?xn.create([r,e],"and"):x3(r,e):e instanceof sn?x3(e,r):function(n,i){if(mt(n.filters.length>0&&i.filters.length>0),T_(n)&&T_(i))return vH(n,i.getFilters());const o=uN(n)?n:i,l=uN(n)?i:n,h=o.filters.map(p=>NN(p,l));return xn.create(h,"or")}(r,e),YS(t)}function x3(r,e){if(T_(e))return vH(e,r.getFilters());{const t=e.filters.map(n=>NN(r,n));return xn.create(t,"or")}}function YS(r){if(mt(r instanceof sn||r instanceof xn),r instanceof sn)return r;const e=r.getFilters();if(1===e.length)return YS(e[0]);if(gH(r))return r;const t=e.map(i=>YS(i)),n=[];return t.forEach(i=>{i instanceof sn?n.push(i):i instanceof xn&&(i.op===r.op?n.push(...i.filters):n.push(i))}),1===n.length?n[0]:xn.create(n,r.op)}class O9{constructor(){this.rn=new FN}addToCollectionParentIndex(e,t){return this.rn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(lo.min())}updateCollectionGroup(e,t,n){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class FN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Hn(un.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Hn(un.comparator)).toArray()}}const QS=new Uint8Array(0);class P9{constructor(e,t){this.user=e,this.databaseId=t,this.on=new FN,this.un=new Zc(n=>lp(n),(n,i)=>Kw(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:n,parent:qi(i)};return C3(e).put(o)}return ne.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[zj(t),""],!1,!0);return C3(e).j(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;n.push(Cl(l.parent))}return n})}addFieldIndex(e,t){const n=XS(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete i.indexId;const o=n.add(i);if(t.indexState){const l=hE(e);return o.next(h=>{l.put(_3(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const n=XS(e),i=hE(e),o=dE(e);return n.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=dE(e);let i=!0;const o=new Map;return ne.forEach(this.cn(t),l=>this.an(e,l).next(h=>{i&&(i=!!h),o.set(l,h)})).next(()=>{if(i){let l=jt();const h=[];return ne.forEach(o,(p,g)=>{var w;Le("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Se=>`${Se.fieldPath}:${Se.kind}`).join(",")}`} to execute ${lp(t)}`);const x=function(Se,Ne){const ot=iN(Ne);if(void 0===ot)return null;for(const St of BS(Se,ot.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(g,p),S=function(Se,Ne){const ot=new Map;for(const St of sp(Ne))for(const Kt of BS(Se,St.fieldPath))switch(Kt.op){case"==":case"in":ot.set(St.fieldPath.canonicalString(),Kt.value);break;case"not-in":case"!=":return ot.set(St.fieldPath.canonicalString(),Kt.value),Array.from(ot.values())}return null}(g,p),k=function(Se,Ne){const ot=[];let St=!0;for(const Kt of sp(Ne)){const Qn=0===Kt.kind?EH(Se,Kt.fieldPath,Se.startAt):IH(Se,Kt.fieldPath,Se.startAt);ot.push(Qn.value),St&&(St=Qn.inclusive)}return new Od(ot,St)}(g,p),j=function(Se,Ne){const ot=[];let St=!0;for(const Kt of sp(Ne)){const Qn=0===Kt.kind?IH(Se,Kt.fieldPath,Se.endAt):EH(Se,Kt.fieldPath,Se.endAt);ot.push(Qn.value),St&&(St=Qn.inclusive)}return new Od(ot,St)}(g,p),K=this.hn(p,g,k),J=this.hn(p,g,j),le=this.ln(p,g,S),Pe=this.fn(p.indexId,x,K,k.inclusive,J,j.inclusive,le);return ne.forEach(Pe,Se=>n.H(Se,t.limit).next(Ne=>{Ne.forEach(ot=>{const St=Qe.fromSegments(ot.documentKey);l.has(St)||(l=l.add(St),h.push(St))})}))}).next(()=>h)}return ne.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:k9(xn.create(e.filters,"and")).map(n=>fN(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,n,i,o,l,h){const p=(null!=t?t.length:1)*Math.max(n.length,o.length),g=p/(null!=t?t.length:1),w=[];for(let x=0;x<p;++x){const S=t?this.dn(t[x/g]):QS,k=this.wn(e,S,n[x%g],i),j=this._n(e,S,o[x%g],l),K=h.map(J=>this.wn(e,S,J,!0));w.push(...this.createRange(k,j,K))}return w}wn(e,t,n,i){const o=new gp(e,Qe.empty(),t,n);return i?o:o.Je()}_n(e,t,n,i){const o=new gp(e,Qe.empty(),t,n);return i?o.Je():o}an(e,t){const n=new R9(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const h of o)n.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let n=2;const i=this.cn(t);return ne.forEach(i,o=>this.an(e,o).next(l=>{l?0!==n&&l.fields.length<function(h){let p=new Hn(hr.comparator),g=!1;for(const w of h.filters)for(const x of w.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?g=!0:p=p.add(x.field));for(const w of h.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(g?1:0)}(o)&&(n=1):n=0})).next(()=>null!==t.limit&&i.length>1&&2===n?1:n)}mn(e,t){const n=new uE;for(const i of sp(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const l=n.He(i.kind);mp.Ve._e(o,l)}return n.Qe()}dn(e){const t=new uE;return mp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new uE;return mp.Ve._e(ap(this.databaseId,t),n.He(function(i){const o=sp(i);return 0===o.length?0:o[o.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let i=[];i.push(new uE);let o=0;for(const l of sp(e)){const h=n[o++];for(const p of i)if(this.yn(t,l.fieldPath)&&Ww(h))i=this.pn(i,l,h);else{const g=p.He(l.kind);mp.Ve._e(h,g)}}return this.In(i)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const i=[...e],o=[];for(const l of n.arrayValue.values||[])for(const h of i){const p=new uE;p.seed(h.Qe()),mp.Ve._e(l,p.He(t.kind)),o.push(p)}return o}yn(e,t){return!!e.filters.find(n=>n instanceof sn&&n.field.isEqual(t)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(e,t){const n=XS(e),i=hE(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next(o=>{const l=[];return ne.forEach(o,h=>i.get([h.indexId,this.uid]).next(p=>{l.push(function(g,w){const x=w?new jw(w.sequenceNumber,new lo(fp(w.readTime),new Qe(Cl(w.documentKey)),w.largestBatchId)):jw.empty(),S=g.fields.map(([k,j])=>new MS(hr.fromServerFormat(k),j));return new AS(g.indexId,g.collectionGroup,S,x)}(h,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((n,i)=>{const o=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ft(n.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=XS(e),o=hE(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ne.forEach(h,p=>o.put(_3(p.indexId,this.user,l,n)))))}updateIndexEntries(e,t){const n=new Map;return ne.forEach(t,(i,o)=>{const l=n.get(i.collectionGroup);return(l?ne.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(n.set(i.collectionGroup,h),ne.forEach(h,p=>this.En(e,i,p).next(g=>{const w=this.An(o,p);return g.isEqual(w)?ne.resolve():this.vn(e,o,p,g,w)}))))})}Rn(e,t,n,i){return dE(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,i){return dE(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const i=dE(e);let o=new Hn(Nd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(l,h)=>{o=o.add(new gp(n.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let n=new Hn(Nd);const i=this.mn(t,e);if(null==i)return n;const o=iN(t);if(null!=o){const l=e.data.field(o.fieldPath);if(Ww(l))for(const h of l.arrayValue.values||[])n=n.add(new gp(t.indexId,e.key,this.dn(h),i))}else n=n.add(new gp(t.indexId,e.key,QS,i));return n}vn(e,t,n,i,o){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,p,g,w,x){const S=h.getIterator(),k=p.getIterator();let j=I_(S),K=I_(k);for(;j||K;){let J=!1,le=!1;if(j&&K){const Pe=g(j,K);Pe<0?le=!0:Pe>0&&(J=!0)}else null!=j?le=!0:J=!0;J?(w(K),K=I_(k)):le?(x(j),j=I_(S)):(j=I_(S),K=I_(k))}}(i,o,Nd,h=>{l.push(this.Rn(e,t,n,h))},h=>{l.push(this.Pn(e,t,n,h))}),ne.waitFor(l)}Tn(e){let t=1;return hE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((l,h)=>Nd(l,h)).filter((l,h,p)=>!h||0!==Nd(l,p[h-1]));const i=[];i.push(e);for(const l of n){const h=Nd(l,e),p=Nd(l,t);if(0===h)i[0]=e.Je();else if(h>0&&p<0)i.push(l),i.push(l.Je());else if(p>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];o.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,QS,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,QS,[]]))}return o}bn(e,t){return Nd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(T3)}getMinOffset(e,t){return ne.mapArray(this.cn(t),n=>this.an(e,n).next(i=>i||rt())).next(T3)}}function C3(r){return ui(r,"collectionParents")}function dE(r){return ui(r,"indexEntries")}function XS(r){return ui(r,"indexConfiguration")}function hE(r){return ui(r,"indexState")}function T3(r){mt(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const i=r[n].indexState.offset;sN(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new lo(e.readTime,e.documentKey,t)}const D3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wi{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function S3(r,e,t){const n=r.store("mutations"),i=r.store("documentMutations"),o=[],l=IDBKeyRange.only(t.batchId);let h=0;const p=n.X({range:l},(w,x,S)=>(h++,S.delete()));o.push(p.next(()=>{mt(1===h)}));const g=[];for(const w of t.mutations){const x=Xj(e,w.key.path,t.batchId);o.push(i.delete(x)),g.push(w.key)}return ne.waitFor(o).next(()=>g)}function JS(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw rt();e=r.noDocument}return JSON.stringify(e).length}Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);class eA{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Vn={}}static de(e,t,n,i){mt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new eA(o,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fd(e).X({index:"userMutationsIndex",range:n},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,n,i){const o=P_(e),l=Fd(e);return l.add({}).next(h=>{mt("number"==typeof h);const p=new bN(h,t,n,i),g=function(S,k,j){const K=j.baseMutations.map(le=>aE(S.fe,le)),J=j.mutations.map(le=>aE(S.fe,le));return{userId:k,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:K,mutations:J}}(this.serializer,this.userId,p),w=[];let x=new Hn((S,k)=>Ft(S.canonicalString(),k.canonicalString()));for(const S of i){const k=Xj(this.userId,S.key.path,h);x=x.add(S.key.path.popLast()),w.push(l.put(g)),w.push(o.put(k,wW))}return x.forEach(S=>{w.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ne.waitFor(w).next(()=>p)})}lookupMutationBatch(e,t){return Fd(e).get(t).next(n=>n?(mt(n.userId===this.userId),pp(this.serializer,n)):null)}Sn(e,t){return this.Vn[t]?ne.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const i=n.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return Fd(e).X({index:"userMutationsIndex",range:i},(l,h,p)=>{h.userId===this.userId&&(mt(h.batchId>=n),o=pp(this.serializer,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Fd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,l)=>{n=o.batchId,l.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fd(e).j("userMutationsIndex",t).next(n=>n.map(i=>pp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=kS(this.userId,t.path),i=IDBKeyRange.lowerBound(n),o=[];return P_(e).X({range:i},(l,h,p)=>{const[g,w,x]=l,S=Cl(w);if(g===this.userId&&t.path.isEqual(S))return Fd(e).get(x).next(k=>{if(!k)throw rt();mt(k.userId===this.userId),o.push(pp(this.serializer,k))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Hn(Ft);const i=[];return t.forEach(o=>{const l=kS(this.userId,o.path),h=IDBKeyRange.lowerBound(l),p=P_(e).X({range:h},(g,w,x)=>{const[S,k,j]=g,K=Cl(k);S===this.userId&&o.path.isEqual(K)?n=n.add(j):x.done()});i.push(p)}),ne.waitFor(i).next(()=>this.Dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,o=kS(this.userId,n),l=IDBKeyRange.lowerBound(o);let h=new Hn(Ft);return P_(e).X({range:l},(p,g,w)=>{const[x,S,k]=p,j=Cl(S);x===this.userId&&n.isPrefixOf(j)?j.length===i&&(h=h.add(k)):w.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const n=[],i=[];return t.forEach(o=>{i.push(Fd(e).get(o).next(l=>{if(null===l)throw rt();mt(l.userId===this.userId),n.push(pp(this.serializer,l))}))}),ne.waitFor(i).next(()=>n)}removeMutationBatch(e,t){return S3(e.ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ne.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return P_(e).X({range:n},(o,l,h)=>{if(o[0]===this.userId){const p=Cl(o[1]);i.push(p)}else h.done()}).next(()=>{mt(0===i.length)})})}containsKey(e,t){return A3(e,this.userId,t)}xn(e){return M3(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function A3(r,e,t){const n=kS(e,t.path),i=n[1],o=IDBKeyRange.lowerBound(n);let l=!1;return P_(r).X({range:o,Y:!0},(h,p,g)=>{const[w,x,S]=h;w===e&&x===i&&(l=!0),g.done()}).next(()=>l)}function Fd(r){return ui(r,"mutations")}function P_(r){return ui(r,"documentMutations")}function M3(r){return ui(r,"mutationQueues")}class _p{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _p(0)}static Mn(){return new _p(-1)}}class N9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const n=new _p(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>N_(e).delete(t.targetId)).next(()=>this.$n(e)).next(n=>(mt(n.targetCount>0),n.targetCount-=1,this.On(e,n)))}removeTargets(e,t,n){let i=0;const o=[];return N_(e).X((l,h)=>{const p=lE(h);p.sequenceNumber<=t&&null===n.get(p.targetId)&&(i++,o.push(this.removeTargetData(e,p)))}).next(()=>ne.waitFor(o)).next(()=>i)}forEachTarget(e,t){return N_(e).X((n,i)=>{const o=lE(i);t(o)})}$n(e){return R3(e).get("targetGlobalKey").next(t=>(mt(null!==t),t))}On(e,t){return R3(e).put("targetGlobalKey",t)}Fn(e,t){return N_(e).put(m3(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const n=lp(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return N_(e).X({range:i,index:"queryTargetsIndex"},(l,h,p)=>{const g=lE(h);Kw(t,g.target)&&(o=g,p.done())}).next(()=>o)}addMatchingKeys(e,t,n){const i=[],o=Ld(e);return t.forEach(l=>{const h=qi(l.path);i.push(o.put({targetId:n,path:h})),i.push(this.referenceDelegate.addReference(e,n,l))}),ne.waitFor(i)}removeMatchingKeys(e,t,n){const i=Ld(e);return ne.forEach(t,o=>{const l=qi(o.path);return ne.waitFor([i.delete([n,l]),this.referenceDelegate.removeReference(e,n,o)])})}removeMatchingKeysForTargetId(e,t){const n=Ld(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ld(e);let o=jt();return i.X({range:n,Y:!0},(l,h,p)=>{const g=Cl(l[1]),w=new Qe(g);o=o.add(w)}).next(()=>o)}containsKey(e,t){const n=qi(t.path),i=IDBKeyRange.bound([n],[zj(n)],!1,!0);let o=0;return Ld(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,h],p,g)=>{0!==l&&(o++,g.done())}).next(()=>o>0)}le(e,t){return N_(e).get(t).next(n=>n?lE(n):null)}}function N_(r){return ui(r,"targets")}function R3(r){return ui(r,"targetGlobal")}function Ld(r){return ui(r,"targetDocuments")}function k3([r,e],[t,n]){const i=Ft(r,t);return 0===i?Ft(e,n):i}class F9{constructor(e){this.Ln=e,this.buffer=new Hn(k3),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();k3(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class O3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,F.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(n){Td(n)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Cd(n)}yield t.Qn(3e5)}))}}class L9{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(co.ct);const n=new F9(t);return this.jn.forEachTarget(e,i=>n.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>n.Kn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(D3)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D3):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,i,o,l,h,p,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(n=x,h=Date.now(),this.removeTargets(e,n,t))).next(x=>(o=x,p=Date.now(),this.removeOrphanedDocuments(e,n))).next(x=>(g=Date.now(),nN()<=Bi.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${x} documents in `+(g-p)+`ms\nTotal Duration: ${g-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:x})))}}class V9{constructor(e,t){this.db=e,this.garbageCollector=function P3(r,e){return new L9(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}Jn(e){let t=0;return this.Wn(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(n,i)=>t(i))}addReference(e,t,n){return tA(e,n)}removeReference(e,t,n){return tA(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return tA(e,t)}Xn(e,t){return function(n,i){let o=!1;return M3(n).Z(l=>A3(n,l,i).next(h=>(h&&(o=!0),ne.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(l,h)=>{if(h<=t){const p=this.Xn(e,l).next(g=>{if(!g)return o++,n.getEntry(e,l).next(()=>(n.removeEntry(l,_t.min()),Ld(e).delete([0,qi(l.path)])))});i.push(p)}}).next(()=>ne.waitFor(i)).next(()=>n.apply(e)).next(()=>o)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return tA(e,t)}Yn(e,t){const n=Ld(e);let i,o=co.ct;return n.X({index:"documentTargetsIndex"},([l,h],{path:p,sequenceNumber:g})=>{0===l?(o!==co.ct&&t(new Qe(Cl(i)),o),o=g,i=p):o=co.ct}).next(()=>{o!==co.ct&&t(new Qe(Cl(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tA(r,e){return Ld(r).put((n=r.currentSequenceNumber,{targetId:0,path:qi(e.path),sequenceNumber:n}));var n}class N3{constructor(){this.changes=new Zc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class U9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vp(e).put(n)}removeEntry(e,t,n){return vp(e).delete(function(i,o){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ZS(o),l[l.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Zn(e,n)))}getEntry(e,t){let n=zn.newInvalidDocument(t);return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fE(t))},(i,o)=>{n=this.ts(t,o)}).next(()=>n)}es(e,t){let n={size:0,document:zn.newInvalidDocument(t)};return vp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fE(t))},(i,o)=>{n={document:this.ts(t,o),size:JS(o)}}).next(()=>n)}getEntries(e,t){let n=Us();return this.ns(e,t,(i,o)=>{const l=this.ts(i,o);n=n.insert(i,l)}).next(()=>n)}ss(e,t){let n=Us(),i=new kn(Qe.comparator);return this.ns(e,t,(o,l)=>{const h=this.ts(o,l);n=n.insert(o,h),i=i.insert(o,JS(l))}).next(()=>({documents:n,rs:i}))}ns(e,t,n){if(t.isEmpty())return ne.resolve();let i=new Hn(U3);t.forEach(p=>i=i.add(p));const o=IDBKeyRange.bound(fE(i.first()),fE(i.last())),l=i.getIterator();let h=l.getNext();return vp(e).X({index:"documentKeyIndex",range:o},(p,g,w)=>{const x=Qe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&U3(h,x)<0;)n(h,null),h=l.getNext();h&&h.isEqual(x)&&(n(h,g),h=l.hasNext()?l.getNext():null),h?w.G(fE(h)):w.done()}).next(()=>{for(;h;)n(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,n,i){const o=t.path,l=[o.popLast().toArray(),o.lastSegment(),ZS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vp(e).j(IDBKeyRange.bound(l,h,!0)).next(p=>{let g=Us();for(const w of p){const x=this.ts(Qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);x.isFoundDocument()&&(Qw(t,x)||i.has(x.key))&&(g=g.insert(x.key,x))}return g})}getAllFromCollectionGroup(e,t,n,i){let o=Us();const l=V3(t,n),h=V3(t,lo.max());return vp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(p,g,w)=>{const x=this.ts(Qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(x.key,x),o.size===i&&w.done()}).next(()=>o)}newChangeBuffer(e){return new B9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return L3(e).get("remoteDocumentGlobalKey").next(t=>(mt(!!t),t))}Zn(e,t){return L3(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const n=function C9(r,e){let t;if(e.document)t=a3(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Qe.fromSegments(e.noDocument.path),i=fp(e.noDocument.readTime);t=zn.newNoDocument(n,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const n=Qe.fromSegments(e.unknownDocument.path),i=fp(e.unknownDocument.version);t=zn.newUnknownDocument(n,i)}}return e.readTime&&t.setReadTime(function(n){const i=new Kn(n[0],n[1]);return _t.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(_t.min()))return n}return zn.newInvalidDocument(e)}}function F3(r){return new U9(r)}class B9 extends N3{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Zc(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const t=[];let n=0,i=new Hn((o,l)=>Ft(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),l.isValidDocument()){const p=p3(this.os.serializer,l);i=i.add(o.path.popLast());const g=JS(p);n+=g-h.size,t.push(this.os.addEntry(e,o,p))}else if(n-=h.size,this.trackRemovals){const p=p3(this.os.serializer,l.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,o,p))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,n)),ne.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(n=>(this.us.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:n,rs:i})=>(i.forEach((o,l)=>{this.us.set(o,{size:l,readTime:n.get(o).readTime})}),n))}}function L3(r){return ui(r,"remoteDocumentGlobal")}function vp(r){return ui(r,"remoteDocumentsV14")}function fE(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V3(r,e){const t=e.documentKey.path.toArray();return[r,ZS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function U3(r,e){const t=r.path.toArray(),n=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<n.length-2;++o)if(i=Ft(t[o],n[o]),i)return i;return i=Ft(t.length,n.length),i||(i=Ft(t[t.length-2],n[n.length-2]),i||Ft(t[t.length-1],n[n.length-1]))}class j9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class B3{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==n&&tE(n.mutation,i,Vs.empty(),Kn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,jt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=jt()){const i=Dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Xw();return o.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Dl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,jt()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,n,i){let o=Us();const l=Jw(),h=Jw();return t.forEach((p,g)=>{const w=n.get(g.key);i.has(g.key)&&(void 0===w||w.mutation instanceof Kc)?o=o.insert(g.key,g):void 0!==w?(l.set(g.key,w.mutation.getFieldMask()),tE(w.mutation,g,w.mutation.getFieldMask(),Kn.now())):l.set(g.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((g,w)=>l.set(g,w)),t.forEach((g,w)=>{var x;return h.set(g,new j9(w,null!==(x=l.get(g))&&void 0!==x?x:null))}),h))}recalculateAndSaveOverlays(e,t){const n=Jw();let i=new kn((l,h)=>l-h),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(p=>{const g=t.get(p);if(null===g)return;let w=n.get(p)||Vs.empty();w=h.applyToLocalView(g,w),n.set(p,w);const x=(i.get(h.batchId)||jt()).add(p);i=i.insert(h.batchId,x)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,w=p.value,x=RH();w.forEach(S=>{if(!o.has(S)){const k=BH(t.get(S),n.get(S));null!==k&&x.set(S,k),o=o.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n){return Qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):mN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n);var i}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ne.resolve(Dl());let h=-1,p=o;return l.next(g=>ne.forEach(g,(w,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,p,g,jt())).next(w=>({batchId:h,changes:MH(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(n=>{let i=Xw();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let o=Xw();return this.indexManager.getCollectionParents(e,i).next(l=>ne.forEach(l,h=>{const p=(g=t,w=h.child(i),new Wc(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,w;return this.getDocumentsMatchingCollectionQuery(e,p,n).next(g=>{g.forEach((w,x)=>{o=o.insert(w,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i))).next(o=>{i.forEach((h,p)=>{const g=p.getKey();null===o.get(g)&&(o=o.insert(g,zn.newInvalidDocument(g)))});let l=Xw();return o.forEach((h,p)=>{const g=i.get(h);void 0!==g&&tE(g.mutation,p,Vs.empty(),Kn.now()),Qw(t,p)&&(l=l.insert(h,p))}),l})}}class H9{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ne.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Ir(n.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(n=t).name,query:MN(n.bundledQuery),readTime:Ir(n.readTime)}),ne.resolve();var n}}class z9{constructor(){this.overlays=new kn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Dl();return ne.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.we(e,t,o)}),ne.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(n)),ne.resolve()}getOverlaysForCollection(e,t,n){const i=Dl(),o=t.length+1,l=new Qe(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&p.largestBatchId>n&&i.set(p.getKey(),p)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new kn((g,w)=>g-w);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let w=o.get(g.largestBatchId);null===w&&(w=Dl(),o=o.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=Dl(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,w)=>h.set(g,w)),!(h.size()>=i)););return ne.resolve(h)}we(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new EN(t,n));let o=this.ls.get(t);void 0===o&&(o=jt(),this.ls.set(t,o)),this.ls.set(t,o.add(n.key))}}class LN{constructor(){this.fs=new Hn(di.ds),this.ws=new Hn(di._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new di(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.ys(new di(e,t))}ps(e,t){e.forEach(n=>this.removeReference(n,t))}Is(e){const t=new Qe(new un([])),n=new di(t,e),i=new di(t,e+1),o=[];return this.ws.forEachInRange([n,i],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new un([])),n=new di(t,e),i=new di(t,e+1);let o=jt();return this.ws.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new di(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class di{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Ft(e.As,t.As)}static _s(e,t){return Ft(e.As,t.As)||Qe.comparator(e.key,t.key)}}class $9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hn(di.ds)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const o=this.vs;this.vs++;const l=new bN(o,t,n,i);this.mutationQueue.push(l);for(const h of i)this.Rs=this.Rs.add(new di(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([n,i],l=>{const h=this.Ps(l.As);o.push(h)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Hn(Ft);return t.forEach(i=>{const o=new di(i,0),l=new di(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],h=>{n=n.add(h.As)})}),ne.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Qe.isDocumentKey(o)||(o=o.child(""));const l=new di(new Qe(o),0);let h=new Hn(Ft);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!n.isPrefixOf(g)&&(g.length===i&&(h=h.add(p.As)),!0)},l),ne.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(n=>{const i=this.Ps(n);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return ne.forEach(t.mutations,i=>{const o=new di(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new di(t,0),i=this.Rs.firstAfterOrEqual(n);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class G9{constructor(e){this.Ds=e,this.docs=new kn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ne.resolve(n?n.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let n=Us();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Us();const l=t.path,h=new Qe(l.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||sN(Gj(w),n)<=0||(i.has(w.key)||Qw(t,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,t,n,i){rt()}Cs(e,t){return ne.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new q9(this)}getSize(e){return ne.resolve(this.size)}}class q9 extends N3{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(n)}),ne.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class W9{constructor(e){this.persistence=e,this.xs=new Zc(t=>lp(t),Kw),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LN,this.targetCount=0,this.Ms=_p.kn()}forEachTarget(e,t){return this.xs.forEach((n,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),ne.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new _p(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Fn(t),ne.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===n.get(h.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return ne.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),ne.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return ne.resolve(n)}containsKey(e,t){return ne.resolve(this.ks.containsKey(t))}}class VN{constructor(e,t){this.$s={},this.overlays={},this.Os=new co(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new W9(this),this.indexManager=new O9,this.remoteDocumentCache=new G9(n=>this.referenceDelegate.Ls(n)),this.serializer=new f3(t),this.qs=new H9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new $9(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Le("MemoryPersistence","Starting transaction:",e);const i=new Z9(this.Os.next());return this.referenceDelegate.Us(),n(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return ne.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class Z9 extends Wj{constructor(e){super(),this.currentSequenceNumber=e}}class nA{constructor(e){this.persistence=e,this.Qs=new LN,this.js=null}static zs(e){return new nA(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),ne.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ws,n=>{const i=Qe.fromPath(n);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(n=>{n?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ne.or([()=>ne.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class K9{constructor(e){this.serializer=e}O(e,t,n,i){const o=new RS("createOrUpgrade",t);var h;n<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qj,{unique:!0}),h.createObjectStore("documentMutations"),j3(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=ne.resolve();return n<3&&i>=3&&(0!==n&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),j3(e)),l=l.next(()=>function(h){const p=h.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",g)}(o))),n<4&&i>=4&&(0!==n&&(l=l.next(()=>function(h,p){return p.store("mutations").j().next(g=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qj,{unique:!0});const w=p.store("mutations"),x=g.map(S=>w.put(S));return ne.waitFor(x)})}(e,o))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(l=l.next(()=>this.Ys(o))),n<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),n<7&&i>=7&&(l=l.next(()=>this.Zs(o))),n<8&&i>=8&&(l=l.next(()=>this.ti(e,o))),n<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(l=l.next(()=>this.ei(o))),n<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(l=l.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:OW});p.createIndex("collectionPathOverlayIndex",PW,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",NW,{unique:!1})}(e)})),n<13&&i>=13&&(l=l.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:EW});p.createIndex("documentKeyIndex",IW),p.createIndex("collectionGroupIndex",xW)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(l=l.next(()=>this.si(e,o))),n<15&&i>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:AW}).createIndex("sequenceNumberIndex",MW,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:RW}).createIndex("documentKeyIndex",kW,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((n,i)=>{t+=JS(i)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next(i=>ne.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",l).next(h=>ne.forEach(h,p=>{mt(p.userId===o.userId);const g=pp(this.serializer,p);return S3(e,o.userId,g).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return n.X((l,h)=>{const p=new un(l),g=[0,qi(p)];o.push(t.get(g).next(w=>w?ne.resolve():t.put({targetId:0,path:qi(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:SW});const n=t.store("collectionParents"),i=new FN,o=l=>{if(i.add(l)){const h=l.lastSegment(),p=l.popLast();return n.put({collectionId:h,parent:qi(p)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const p=new un(l);return o(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,p],g)=>{const w=Cl(h);return o(w.popLast())}))}ei(e){const t=e.store("targets");return t.X((n,i)=>{const o=lE(i),l=m3(this.serializer,o);return t.put(l)})}ni(e,t){const n=t.store("remoteDocuments"),i=[];return n.X((o,l)=>{const h=t.store("remoteDocumentsV14"),p=(g=l,g.document?new Qe(un.fromString(g.document.name).popFirst(5)):g.noDocument?Qe.fromSegments(g.noDocument.path):g.unknownDocument?Qe.fromSegments(g.unknownDocument.path):rt()).path.toArray();var g;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(w))}).next(()=>ne.waitFor(i))}si(e,t){const n=t.store("mutations"),i=F3(this.serializer),o=new VN(nA.zs,this.serializer.fe);return n.j().next(l=>{const h=new Map;return l.forEach(p=>{var g;let w=null!==(g=h.get(p.userId))&&void 0!==g?g:jt();pp(this.serializer,p).keys().forEach(x=>w=w.add(x)),h.set(p.userId,w)}),ne.forEach(h,(p,g)=>{const w=new ci(g),x=KS.de(this.serializer,w),S=o.getIndexManager(w),k=eA.de(w,this.serializer,S,o.referenceDelegate);return new B3(i,k,x,S).recalculateAndSaveOverlaysForDocumentKeys(new aN(t,co.ct),p).next()})})}}function j3(r){r.createObjectStore("targetDocuments",{keyPath:TW}).createIndex("documentTargetsIndex",DW,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CW,{unique:!0}),r.createObjectStore("targetGlobal")}const UN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BN{constructor(e,t,n,i,o,l,h,p,g,w,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=o,this.window=l,this.document=h,this.ri=g,this.oi=w,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=S=>Promise.resolve(),!BN.D())throw new xe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V9(this,i),this.di=t+"main",this.serializer=new f3(p),this.wi=new Ta(this.di,this.ui,new K9(this.serializer)),this.Bs=new N9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=F3(this.serializer),this.qs=new T9,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===w&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,UN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new co(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n,t=this;return this.fi=function(i){return(n=n||(0,F.Z)(function*(o){if(t.started)return e(o)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var t;this.wi.B(function(n){return(t=t||(0,F.Z)(function*(i){null===i.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,F.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>iA(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Td(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return pE(e).get("owner").next(t=>ne.resolve(this.Ri(t)))}Pi(e){return iA(e).delete(this.clientId)}bi(){var e=this;return(0,F.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=ui(n,"clientMetadata");return i.j().next(o=>{const l=e.Si(o,18e5),h=o.filter(p=>-1===l.indexOf(p));return ne.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const n of t)e._i.removeItem(e.Di(n.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ne.resolve(!0):pE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,UN);return!1}}return!(!this.networkEnabled||!this.inForeground)||iA(e).j().next(n=>void 0===this.Si(n,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,F.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new aN(t,co.ct);return e.Ai(n).next(()=>e.Pi(n))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(n=>this.Vi(n.updateTimeMs,t)&&!this.Ci(n.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>iA(e).j().next(t=>this.Si(t,18e5).map(n=>n.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return eA.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new P9(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return KS.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(l=this.ui)?LW:14===l?tH:13===l?eH:12===l?FW:11===l?Jj:void rt();var l;let h;return this.wi.runTransaction(e,i,o,p=>(h=new aN(p,this.Os?this.Os.next():co.ct),"readwrite-primary"===t?this.Ti(h).next(g=>!!g||this.Ei(h)).next(g=>{if(!g)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new xe(ce.FAILED_PRECONDITION,qj);return n(h)}).next(g=>this.vi(h).next(()=>g)):this.Oi(h).next(()=>n(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return pE(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ce.FAILED_PRECONDITION,UN)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pE(e).put("owner",t)}static D(){return Ta.D()}Ai(e){const t=pE(e);return t.get("owner").next(n=>this.Ri(n)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}Vi(e,t){const n=Date.now();return!(e<n-t||e>n&&(Er(`Detected an update time that is in the future: ${e} > ${n}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Ie.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Le("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Er("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pE(r){return ui(r,"owner")}function iA(r){return ui(r,"clientMetadata")}function jN(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class HN{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=i}static Li(e,t){let n=jt(),i=jt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new HN(e,t.fromCache,n,i)}}class H3{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,n)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(CH(t))return ne.resolve(null);let n=gs(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=HS(t,null,"F"),n=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=jt(...o);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,n).next(p=>{const g=this.ji(t,h);return this.zi(t,g,l,p.readTime)?this.Ki(e,HS(t,null,"F")):this.Wi(e,g,t,p)}))})))}Gi(e,t,n,i){return CH(t)||i.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(o=>{const l=this.ji(t,o);return this.zi(t,l,n,i)?this.Qi(e,t):(nN()<=Bi.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_N(t)),this.Wi(e,l,t,$j(i,-1)))})}ji(e,t){let n=new Hn(SH(e));return t.forEach((i,o)=>{Qw(e,o)&&(n=n.add(o))}),n}zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return nN()<=Bi.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",_N(t)),this.Ui.getDocumentsMatchingQuery(e,t,lo.min())}Wi(e,t,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}class Y9{constructor(e,t,n,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new kn(Ft),this.Yi=new Zc(o=>lp(o),Kw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function z3(r,e,t,n){return new Y9(r,e,t,n)}function $3(r,e){return(YB=YB||(0,F.Z)(function*(t,n){const i=Je(t);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let l;return i.mutationQueue.getAllMutationBatches(o).next(h=>(l=h,i.tr(n),i.mutationQueue.getAllMutationBatches(o))).next(h=>{const p=[],g=[];let w=jt();for(const x of l){p.push(x.batchId);for(const S of x.mutations)w=w.add(S.key)}for(const x of h){g.push(x.batchId);for(const S of x.mutations)w=w.add(S.key)}return i.localDocuments.getDocuments(o,w).next(x=>({er:x,removedBatchIds:p,addedBatchIds:g}))})})})).apply(this,arguments)}function G3(r){const e=Je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function q3(r,e,t){let n=jt(),i=jt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Us();return t.forEach((h,p)=>{const g=o.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(_t.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||0===p.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{nr:l,sr:i}})}function J9(r,e){const t=Je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function F_(r,e){const t=Je(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Bs.getTargetData(n,e).next(o=>o?(i=o,ne.resolve(i)):t.Bs.allocateTargetId(n).next(l=>(i=new Yc(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Bs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ji.get(n.targetId);return(null===i||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(n.targetId,n),t.Yi.set(e,n.targetId)),n})}function L_(r,e,t){return(QB=QB||(0,F.Z)(function*(n,i,o){const l=Je(n),h=l.Ji.get(i),p=o?"readwrite":"readwrite-primary";try{o||(yield l.persistence.runTransaction("Release target",p,g=>l.persistence.referenceDelegate.removeTarget(g,h)))}catch(g){if(!Td(g))throw g;Le("LocalStore",`Failed to update sequence numbers for target ${i}: ${g}`)}l.Ji=l.Ji.remove(i),l.Yi.delete(h.target)})).apply(this,arguments)}function sA(r,e,t){const n=Je(r);let i=_t.min(),o=jt();return n.persistence.runTransaction("Execute query","readonly",l=>function(h,p,g){const w=Je(h),x=w.Yi.get(g);return void 0!==x?ne.resolve(w.Ji.get(x)):w.Bs.getTargetData(p,g)}(n,l,gs(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,n.Bs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{o=p})}).next(()=>n.Hi.getDocumentsMatchingQuery(l,e,t?i:_t.min(),t?o:jt())).next(h=>(K3(n,DH(e),h),{documents:h,ir:o})))}function W3(r,e){const t=Je(r),n=Je(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>n.le(o,e).next(l=>l?l.target:null))}function Z3(r,e){const t=Je(r),n=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,$j(n,-1),Number.MAX_SAFE_INTEGER)).then(i=>(K3(t,e,i),i))}function K3(r,e,t){let n=r.Xi.get(e)||_t.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Xi.set(e,n)}function t8(r,e){return(JB=JB||(0,F.Z)(function*(t,n,i=jt()){const o=yield F_(t,gs(MN(n.bundledQuery))),l=Je(t);return l.persistence.runTransaction("Save named query","readwrite",h=>{const p=Ir(n.readTime);if(o.snapshotVersion.compareTo(p)>=0)return l.qs.saveNamedQuery(h,n);const g=o.withResumeToken($r.EMPTY_BYTE_STRING,p);return l.Ji=l.Ji.insert(g.targetId,g),l.Bs.updateTargetData(h,g).next(()=>l.Bs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.Bs.addMatchingKeys(h,i,o.targetId)).next(()=>l.qs.saveNamedQuery(h,n))})})).apply(this,arguments)}function Y3(r,e){return`firestore_clients_${r}_${e}`}function Q3(r,e,t){let n=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function zN(r,e){return`firestore_targets_${r}_${e}`}class oA{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static ar(e,t,n){const i=JSON.parse(n);let o,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(o=new xe(i.error.code,i.error.message))),l?new oA(e,t,i.state,o):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let i,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(i=new xe(n.error.code,n.error.message))),o?new mE(e,n.state,i):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,o=vN();for(let l=0;i&&l<n.activeTargetIds.length;++l)i=Kj(n.activeTargetIds[l]),o=o.add(n.activeTargetIds[l]);return i?new aA(e,o):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $N{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $N(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GN{constructor(){this.activeTargetIds=vN()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(e,t,n,i,o){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new kn(Ft),this.started=!1,this.yr=[];const l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=Y3(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new GN),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,F.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const o=e.getItem(Y3(e.persistenceKey,i));if(o){const l=aA.ar(i,o);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const n=e.storage.getItem(e.vr);if(n){const i=e.br(n);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(zN(this.persistenceKey,e));if(n){const i=mE.ar(e,n);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zN(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,n.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Le("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,F.Z)(function*(){if(t.started){if(null!==n.key)if(t.Tr.test(n.key)){if(null==n.newValue){const i=t.Or(n.key);return t.Fr(i,null)}{const i=t.Br(n.key,n.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(n.key)){if(null!==n.newValue){const i=t.Lr(n.key,n.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(n.key)){if(null!==n.newValue){const i=t.Ur(n.key,n.newValue);if(i)return t.Kr(i)}}else if(n.key===t.vr){if(null!==n.newValue){const i=t.br(n.newValue);if(i)return t.Vr(i)}}else if(n.key===t.Ir){const i=function(o){let l=co.ct;if(null!=o)try{const h=JSON.parse(o);mt("number"==typeof h),l=h}catch(h){Er("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(n.newValue);i!==co.ct&&t.sequenceNumberHandler(i)}else if(n.key===t.Rr){const i=t.Gr(n.newValue);yield Promise.all(i.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(n)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const i=new oA(this.currentUser,e,t,n),o=Q3(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const t=Q3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,n){const i=zN(this.persistenceKey,e),o=new mE(e,t,n);this.setItem(i,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return aA.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),i=Number(n[1]);return oA.ar(new ci(void 0!==n[2]?n[2]:null),i,t)}Ur(e,t){const n=this.Ar.exec(e),i=Number(n[1]);return mE.ar(i,t)}br(e){return $N.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,F.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(n),l=[],h=[];return o.forEach(p=>{i.has(p)||l.push(p)}),i.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=n})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=vN();return e.forEach((n,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class X3{constructor(){this.Hr=new GN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new GN,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n8{Yr(e){}shutdown(){}}class J3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lA=null;function WN(){return null===lA?lA=268435456+Math.round(2147483648*Math.random()):lA++,"0x"+lA.toString(16)}const r8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i8{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Zi="WebChannelConnection";class s8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,i,o){const l=WN(),h=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${l}:`,h,n);const p={};return this.Eo(p,i,o),this.Ao(e,h,p,n).then(g=>(Le("RestConnection",`Received RPC '${e}' ${l}: `,g),g),g=>{throw Ho("RestConnection",`RPC '${e}' ${l} failed with error: `,g,"url: ",h,"request:",n),g})}vo(e,t,n,i,o,l){return this.Io(e,t,n,i,o)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+w_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${r8[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,i){const o=WN();return new Promise((l,h)=>{const p=new nW;p.setWithCredentials(!0),p.listenOnce(Jq.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tN.NO_ERROR:const w=p.getResponseJson();Le(Zi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(w)),l(w);break;case tN.TIMEOUT:Le(Zi,`RPC '${e}' ${o} timed out`),h(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case tN.HTTP_ERROR:const x=p.getStatus();if(Le(Zi,`RPC '${e}' ${o} failed with status:`,x,"response text:",p.getResponseText()),x>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const j=function(K){const J=K.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(J)>=0?J:ce.UNKNOWN}(k.status);h(new xe(j,k.message))}else h(new xe(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Le(Zi,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(i);Le(Zi,`RPC '${e}' ${o} sending request:`,i),p.send(t,"POST",g,n,15)})}Ro(e,t,n){const i=WN(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Qq(),h=Xq(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new tW({})),this.Eo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const w=o.join("");Le(Zi,`Creating RPC '${e}' stream ${i}: ${w}`,p);const x=l.createWebChannel(w,p);let S=!1,k=!1;const j=new i8({ro:J=>{k?Le(Zi,`Not sending because RPC '${e}' stream ${i} is closed:`,J):(S||(Le(Zi,`Opening RPC '${e}' stream ${i} transport.`),x.open(),S=!0),Le(Zi,`RPC '${e}' stream ${i} sending:`,J),x.send(J))},oo:()=>x.close()}),K=(J,le,Pe)=>{J.listen(le,Se=>{try{Pe(Se)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return K(x,SS.EventType.OPEN,()=>{k||Le(Zi,`RPC '${e}' stream ${i} transport opened.`)}),K(x,SS.EventType.CLOSE,()=>{k||(k=!0,Le(Zi,`RPC '${e}' stream ${i} transport closed`),j.wo())}),K(x,SS.EventType.ERROR,J=>{k||(k=!0,Ho(Zi,`RPC '${e}' stream ${i} transport errored:`,J),j.wo(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),K(x,SS.EventType.MESSAGE,J=>{var le;if(!k){const Pe=J.data[0];mt(!!Pe);const Ne=Pe.error||(null===(le=Pe[0])||void 0===le?void 0:le.error);if(Ne){Le(Zi,`RPC '${e}' stream ${i} received error:`,Ne);const ot=Ne.status;let St=function(Qn){const Xn=Rr[Qn];if(void 0!==Xn)return qH(Xn)}(ot),Kt=Ne.message;void 0===St&&(St=ce.INTERNAL,Kt="Unknown error status: "+ot+" with message "+Ne.message),k=!0,j.wo(new xe(St,Kt)),x.close()}else Le(Zi,`RPC '${e}' stream ${i} received:`,Pe),j._o(Pe)}}),K(h,eW.STAT_EVENT,J=>{J.stat===ZB.PROXY?Le(Zi,`RPC '${e}' stream ${i} detected buffering proxy`):J.stat===ZB.NOPROXY&&Le(Zi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function ez(){return typeof window<"u"?window:null}function cA(){return typeof document<"u"?document:null}function gE(r){return new m9(r,!0)}class ZN{constructor(e,t,n=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-n);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tz{constructor(e,t,n,i,o,l,h,p){this.ii=e,this.$o=n,this.Oo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZN(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,F.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,F.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var n=this;return(0,F.Z)(function*(){n.Ho(),n.Jo(),n.qo.cancel(),n.Fo++,4!==e?n.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),n.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Yo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Fo===t&&this.Zo(n,i)},n=>{e(()=>{const i=new xe(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.tu(i)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{n(()=>this.tu(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,F.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o8 extends tz{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function v9(r,e){let t;if("targetChange"in e){const n="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:rt(),i=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(mt(void 0===g||"string"==typeof g),$r.fromBase64String(g||"")):(mt(void 0===g||g instanceof Uint8Array),$r.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=void 0===p.code?ce.UNKNOWN:qH(p.code);return new xe(g,p.message||"")}(l);t=new QH(n,i,o,h||null)}else if("documentChange"in e){const n=e.documentChange,i=Sl(r,n.document.name),o=Ir(n.document.updateTime),l=n.document.createTime?Ir(n.document.createTime):_t.min(),h=new Ti({mapValue:{fields:n.document.fields}}),p=zn.newFoundDocument(i,o,l,h);t=new WS(n.targetIds||[],n.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const n=e.documentDelete,i=Sl(r,n.document),o=n.readTime?Ir(n.readTime):_t.min(),l=zn.newNoDocument(i,o);t=new WS([],n.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const n=e.documentRemove,i=Sl(r,n.document);t=new WS([],n.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const n=e.filter,{count:i=0,unchangedNames:o}=n,l=new c9(i,o);t=new YH(n.targetId,l)}}var p;return t}(this.serializer,e),n=function(i){if(!("targetChange"in i))return _t.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?Ir(o.readTime):_t.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=oE(this.serializer),t.addTarget=function(i,o){let l;const h=o.target;if(l=US(h)?{documents:l3(i,h)}:{query:AN(i,h)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=t3(i,o.resumeToken);const p=CN(i,o.expectedCount);null!==p&&(l.expectedCount=p)}else if(o.snapshotVersion.compareTo(_t.min())>0){l.readTime=k_(i,o.snapshotVersion.toTimestamp());const p=CN(i,o.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const n=function b9(r,e){const t=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=oE(this.serializer),t.removeTarget=e,this.Wo(t)}}class a8 extends tz{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function y9(r,e){return r&&r.length>0?(mt(void 0!==e),r.map(t=>function(n,i){let o=Ir(n.updateTime?n.updateTime:i);return o.isEqual(_t.min())&&(o=Ir(i)),new s9(o,n.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),n=Ir(e.commitTime);return this.listener.cu(n,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=oE(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>aE(this.serializer,n))};this.Wo(t)}}class l8 extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,n,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ce.UNKNOWN,i.toString())})}vo(e,t,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,t,n,o,l,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class u8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Er(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class d8{constructor(e,t,n,i,o){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{n.enqueueAndForget((0,F.Z)(function*(){var p;Vd(l)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield function(g){return(p=p||(0,F.Z)(function*(w){const x=Je(w);x.vu.add(4),yield V_(x),x.bu.set("Unknown"),x.vu.delete(4),yield _E(x)})).apply(this,arguments)}(l))}))}),this.bu=new u8(n,i)}}function _E(r){return(tj=tj||(0,F.Z)(function*(e){if(Vd(e))for(const t of e.Ru)yield t(!0)})).apply(this,arguments)}function V_(r){return(nj=nj||(0,F.Z)(function*(e){for(const t of e.Ru)yield t(!1)})).apply(this,arguments)}function uA(r,e){const t=Je(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),QN(t)?YN(t):B_(t).Ko()&&KN(t,e))}function vE(r,e){const t=Je(r),n=B_(t);t.Au.delete(e),n.Ko()&&nz(t,e),0===t.Au.size&&(n.Ko()?n.jo():Vd(t)&&t.bu.set("Unknown"))}function KN(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}B_(r).su(e)}function nz(r,e){r.Vu.qt(e),B_(r).iu(e)}function YN(r){r.Vu=new d9({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),B_(r).start(),r.bu.gu()}function QN(r){return Vd(r)&&!B_(r).Uo()&&r.Au.size>0}function Vd(r){return 0===Je(r).vu.size}function rz(r){r.Vu=void 0}function h8(r){return(rj=rj||(0,F.Z)(function*(e){e.Au.forEach((t,n)=>{KN(e,t)})})).apply(this,arguments)}function f8(r,e){return(ij=ij||(0,F.Z)(function*(t,n){rz(t),QN(t)?(t.bu.Iu(n),YN(t)):t.bu.set("Unknown")})).apply(this,arguments)}function p8(r,e,t){return(sj=sj||(0,F.Z)(function*(n,i,o){if(n.bu.set("Online"),i instanceof QH&&2===i.state&&i.cause)try{var l;yield function(h,p){return(l=l||(0,F.Z)(function*(g,w){const x=w.cause;for(const S of w.targetIds)g.Au.has(S)&&(yield g.remoteSyncer.rejectListen(S,x),g.Au.delete(S),g.Vu.removeTarget(S))})).apply(this,arguments)}(n,i)}catch(h){Le("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield dA(n,h)}else if(i instanceof WS?n.Vu.Ht(i):i instanceof YH?n.Vu.ne(i):n.Vu.Xt(i),!o.isEqual(_t.min()))try{const h=yield G3(n.localStore);o.compareTo(h)>=0&&(yield function(p,g){const w=p.Vu.ce(g);return w.targetChanges.forEach((x,S)=>{if(x.resumeToken.approximateByteSize()>0){const k=p.Au.get(S);k&&p.Au.set(S,k.withResumeToken(x.resumeToken,g))}}),w.targetMismatches.forEach((x,S)=>{const k=p.Au.get(x);if(!k)return;p.Au.set(x,k.withResumeToken($r.EMPTY_BYTE_STRING,k.snapshotVersion)),nz(p,x);const j=new Yc(k.target,x,S,k.sequenceNumber);KN(p,j)}),p.remoteSyncer.applyRemoteEvent(w)}(n,o))}catch(h){Le("RemoteStore","Failed to raise snapshot:",h),yield dA(n,h)}})).apply(this,arguments)}function dA(r,e,t){return(oj=oj||(0,F.Z)(function*(n,i,o){if(!Td(i))throw i;n.vu.add(1),yield V_(n),n.bu.set("Offline"),o||(o=()=>G3(n.localStore)),n.asyncQueue.enqueueRetryable((0,F.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield o(),n.vu.delete(1),yield _E(n)}))})).apply(this,arguments)}function iz(r,e){return e().catch(t=>dA(r,t,e))}function U_(r){return(aj=aj||(0,F.Z)(function*(e){const t=Je(e),n=Ud(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;m8(t);)try{const o=yield J9(t.localStore,i);if(null===o){0===t.Eu.length&&n.jo();break}i=o.batchId,g8(t,o)}catch(o){yield dA(t,o)}sz(t)&&oz(t)})).apply(this,arguments)}function m8(r){return Vd(r)&&r.Eu.length<10}function g8(r,e){r.Eu.push(e);const t=Ud(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function sz(r){return Vd(r)&&!Ud(r).Uo()&&r.Eu.length>0}function oz(r){Ud(r).start()}function _8(r){return(lj=lj||(0,F.Z)(function*(e){Ud(e).hu()})).apply(this,arguments)}function v8(r){return(cj=cj||(0,F.Z)(function*(e){const t=Ud(e);for(const n of e.Eu)t.uu(n.mutations)})).apply(this,arguments)}function y8(r,e,t){return(uj=uj||(0,F.Z)(function*(n,i,o){const l=n.Eu.shift(),h=wN.from(l,i,o);yield iz(n,()=>n.remoteSyncer.applySuccessfulWrite(h)),yield U_(n)})).apply(this,arguments)}function b8(r,e){return(dj=dj||(0,F.Z)(function*(t,n){var i;n&&Ud(t).ou&&(yield function(o,l){return(i=i||(0,F.Z)(function*(h,p){if(GH(g=p.code)&&g!==ce.ABORTED){const w=h.Eu.shift();Ud(h).Qo(),yield iz(h,()=>h.remoteSyncer.rejectFailedWrite(w.batchId,p)),yield U_(h)}var g})).apply(this,arguments)}(t,n)),sz(t)&&oz(t)})).apply(this,arguments)}function az(r,e){return(hj=hj||(0,F.Z)(function*(t,n){const i=Je(t);i.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const o=Vd(i);i.vu.add(3),yield V_(i),o&&i.bu.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.vu.delete(3),yield _E(i)})).apply(this,arguments)}function XN(r,e){return(fj=fj||(0,F.Z)(function*(t,n){const i=Je(t);n?(i.vu.delete(2),yield _E(i)):n||(i.vu.add(2),yield V_(i),i.bu.set("Unknown"))})).apply(this,arguments)}function B_(r){var e;return r.Su||(r.Su=function(t,n,i){const o=Je(t);return o.fu(),new o8(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{uo:h8.bind(null,r),ao:f8.bind(null,r),nu:p8.bind(null,r)}),r.Ru.push(function(t){return(e=e||(0,F.Z)(function*(n){n?(r.Su.Qo(),QN(r)?YN(r):r.bu.set("Unknown")):(yield r.Su.stop(),rz(r))})).apply(this,arguments)})),r.Su}function Ud(r){var e;return r.Du||(r.Du=function(t,n,i){const o=Je(t);return o.fu(),new a8(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{uo:_8.bind(null,r),ao:b8.bind(null,r),au:v8.bind(null,r),cu:y8.bind(null,r)}),r.Ru.push(function(t){return(e=e||(0,F.Z)(function*(n){n?(r.Du.Qo(),yield U_(r)):(yield r.Du.stop(),r.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))})).apply(this,arguments)})),r.Du}class JN{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,h=new JN(e,t,l,i,o);return h.start(n),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j_(r,e){if(Er("AsyncQueue",`${e}: ${r}`),Td(r))return new xe(ce.UNAVAILABLE,`${e}: ${r}`);throw r}class H_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Qe.comparator(t.key,n.key):(t,n)=>Qe.comparator(t.key,n.key),this.keyedMap=Xw(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new H_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof H_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new H_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class lz{constructor(){this.Cu=new kn(Qe.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class z_{constructor(e,t,n,i,o,l,h,p,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new z_(e,t,H_.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class w8{constructor(){this.Nu=void 0,this.listeners=[]}}class E8{constructor(){this.queries=new Zc(e=>TH(e),Yw),this.onlineState="Unknown",this.ku=new Set}}function eF(r,e){return(pj=pj||(0,F.Z)(function*(t,n){const i=Je(t),o=n.query;let l=!1,h=i.queries.get(o);if(h||(l=!0,h=new w8),l)try{h.Nu=yield i.onListen(o)}catch(p){const g=j_(p,`Initialization of query '${_N(n.query)}' failed`);return void n.onError(g)}i.queries.set(o,h),h.listeners.push(n),n.Mu(i.onlineState),h.Nu&&n.$u(h.Nu)&&nF(i)})).apply(this,arguments)}function tF(r,e){return(mj=mj||(0,F.Z)(function*(t,n){const i=Je(t),o=n.query;let l=!1;const h=i.queries.get(o);if(h){const p=h.listeners.indexOf(n);p>=0&&(h.listeners.splice(p,1),l=0===h.listeners.length)}if(l)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function I8(r,e){const t=Je(r);let n=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.$u(i)&&(n=!0);l.Nu=i}}n&&nF(t)}function x8(r,e,t){const n=Je(r),i=n.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);n.queries.delete(e)}function nF(r){r.ku.forEach(e=>{e.next()})}class rF{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)3!==i.type&&n.push(i);e=new z_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=z_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class C8{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class cz{constructor(e){this.serializer=e}rr(e){return Sl(this.serializer,e)}ur(e){return e.metadata.exists?a3(this.serializer,e.document,!1):zn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ir(e)}}class T8{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uz(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=un.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new cz(this.serializer);for(const i of e)if(i.metadata.queries){const o=n.rr(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||jt()).add(o);t.set(l,h)}}return t}complete(){var e=this;return(0,F.Z)(function*(){const t=yield function e8(r,e,t,n){return(XB=XB||(0,F.Z)(function*(i,o,l,h){const p=Je(i);let g=jt(),w=Us();for(const k of l){const j=o.rr(k.metadata.name);k.document&&(g=g.add(j));const K=o.ur(k);K.setReadTime(o.cr(k.metadata.readTime)),w=w.insert(j,K)}const x=p.Zi.newChangeBuffer({trackRemovals:!0}),S=yield F_(p,(k=h,gs(D_(un.fromString(`__bundle__/docs/${k}`)))));var k;return p.persistence.runTransaction("Apply bundle documents","readwrite",k=>q3(k,x,w).next(j=>(x.apply(k),j)).next(j=>p.Bs.removeMatchingKeysForTargetId(k,S.targetId).next(()=>p.Bs.addMatchingKeys(k,g,S.targetId)).next(()=>p.localDocuments.getLocalViewOfDocuments(k,j.nr,j.sr)).next(()=>j.nr)))})).apply(this,arguments)}(e.localStore,new cz(e.serializer),e.documents,e.ju.id),n=e.Wu(e.documents);for(const i of e.queries)yield t8(e.localStore,i,n.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function uz(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class dz{constructor(e){this.key=e}}class hz{constructor(e){this.key=e}}class fz{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=jt(),this.mutatedKeys=jt(),this.tc=SH(e),this.ec=new H_(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new lz,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,g="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,x)=>{const S=i.get(w),k=Qw(this.query,x)?x:null,j=!!S&&this.mutatedKeys.has(S.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;S&&k?S.data.isEqual(k.data)?j!==K&&(n.track({type:3,doc:k}),J=!0):this.rc(S,k)||(n.track({type:2,doc:k}),J=!0,(p&&this.tc(k,p)>0||g&&this.tc(k,g)<0)&&(h=!0)):!S&&k?(n.track({type:0,doc:k}),J=!0):S&&!k&&(n.track({type:1,doc:S}),J=!0,(p||g)&&(h=!0)),J&&(k?(l=l.add(k),o=K?o.add(w):o.delete(w)):(l=l.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),o=o.delete(w.key),n.track({type:1,doc:w})}return{ec:l,ic:n,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((g,w)=>function(x,S){const k=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return k(x)-k(S)}(g.type,w.type)||this.tc(g.doc,w.doc)),this.oc(n);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==o.length||p?{snapshot:new z_(this.query,e.ec,i,o,e.mutatedKeys,0===h,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=jt(),this.ec.forEach(n=>{this.ac(n.key)&&(this.Zu=this.Zu.add(n.key))});const t=[];return e.forEach(n=>{this.Zu.has(n)||t.push(new hz(n))}),this.Zu.forEach(n=>{e.has(n)||t.push(new dz(n))}),t}hc(e){this.Yu=e.ir,this.Zu=jt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return z_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class D8{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class S8{constructor(e){this.key=e,this.fc=!1}}class A8{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Zc(h=>TH(h),Yw),this._c=new Map,this.mc=new Set,this.gc=new kn(Qe.comparator),this.yc=new Map,this.Ic=new LN,this.Tc={},this.Ec=new Map,this.Ac=_p.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function M8(r,e){return(gj=gj||(0,F.Z)(function*(t,n){const i=cF(t);let o,l;const h=i.wc.get(n);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),l=h.view.lc();else{const p=yield F_(i.localStore,gs(n)),g=i.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,l=yield iF(i,n,o,"current"===g,p.resumeToken),i.isPrimaryClient&&uA(i.remoteStore,p)}return l})).apply(this,arguments)}function iF(r,e,t,n,i){return(_j=_j||(0,F.Z)(function*(o,l,h,p,g){o.Rc=(J,le,Pe)=>{var Se;return function(Ne,ot,St,Kt){return(Se=Se||(0,F.Z)(function*(Qn,Xn,fo,GE){let kl=Xn.view.sc(fo);kl.zi&&(kl=yield sA(Qn.localStore,Xn.query,!1).then(({documents:oM})=>Xn.view.sc(oM,kl)));const iu=GE&&GE.targetChanges.get(Xn.targetId),qE=Xn.view.applyChanges(kl,Qn.isPrimaryClient,iu);return aF(Qn,Xn.targetId,qE.cc),qE.snapshot})).apply(this,arguments)}(o,J,le,Pe)};const w=yield sA(o.localStore,l,!0),x=new fz(l,w.ir),S=x.sc(w.documents),k=iE.createSynthesizedTargetChangeForCurrentChange(h,p&&"Offline"!==o.onlineState,g),j=x.applyChanges(S,o.isPrimaryClient,k);aF(o,h,j.cc);const K=new D8(l,h,x);return o.wc.set(l,K),o._c.has(h)?o._c.get(h).push(l):o._c.set(h,[l]),j.snapshot})).apply(this,arguments)}function R8(r,e){return(vj=vj||(0,F.Z)(function*(t,n){const i=Je(t),o=i.wc.get(n),l=i._c.get(o.targetId);if(l.length>1)return i._c.set(o.targetId,l.filter(h=>!Yw(h,n))),void i.wc.delete(n);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield L_(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),vE(i.remoteStore,o.targetId),$_(i,o.targetId)}).catch(Cd))):($_(i,o.targetId),yield L_(i.localStore,o.targetId,!0))})).apply(this,arguments)}function pz(r,e){return(bj=bj||(0,F.Z)(function*(t,n){const i=Je(t);try{const o=yield function X9(r,e){const t=Je(r),n=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((w,x)=>{const S=i.get(x);if(!S)return;h.push(t.Bs.removeMatchingKeys(o,w.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(o,w.addedDocuments,x)));let k=S.withSequenceNumber(o.currentSequenceNumber);var j,K,J;null!==e.targetMismatches.get(x)?k=k.withResumeToken($r.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):w.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(w.resumeToken,n)),i=i.insert(x,k),K=k,J=w,(0===(j=S).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,k))});let p=Us(),g=jt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(q3(o,l,e.documentUpdates).next(w=>{p=w.nr,g=w.sr})),!n.isEqual(_t.min())){const w=t.Bs.getLastRemoteSnapshotVersion(o).next(x=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,n));h.push(w)}return ne.waitFor(h).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,g)).next(()=>p)}).then(o=>(t.Ji=i,o))}(i.localStore,n);n.targetChanges.forEach((l,h)=>{const p=i.yc.get(h);p&&(mt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.fc=!0:l.modifiedDocuments.size>0?mt(p.fc):l.removedDocuments.size>0&&(mt(p.fc),p.fc=!1))}),yield Qc(i,o,n)}catch(o){yield Cd(o)}})).apply(this,arguments)}function mz(r,e,t){const n=Je(r);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const i=[];n.wc.forEach((o,l)=>{const h=l.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(o,l){const h=Je(o);h.onlineState=l;let p=!1;h.queries.forEach((g,w)=>{for(const x of w.listeners)x.Mu(l)&&(p=!0)}),p&&nF(h)}(n.eventManager,e),i.length&&n.dc.nu(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function O8(r,e,t){return(wj=wj||(0,F.Z)(function*(n,i,o){const l=Je(n);l.sharedClientState.updateQueryState(i,"rejected",o);const h=l.yc.get(i),p=h&&h.key;if(p){let g=new kn(Qe.comparator);g=g.insert(p,zn.newNoDocument(p,_t.min()));const w=jt().add(p),x=new rE(_t.min(),new Map,new kn(Ft),g,w);yield pz(l,x),l.gc=l.gc.remove(p),l.yc.delete(i),lF(l)}else yield L_(l.localStore,i,!1).then(()=>$_(l,i,o)).catch(Cd)})).apply(this,arguments)}function P8(r,e){return(Ej=Ej||(0,F.Z)(function*(t,n){const i=Je(t),o=n.batch.batchId;try{const l=yield function Q9(r,e){const t=Je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,p,g){const w=p.batch,x=w.keys();let S=ne.resolve();return x.forEach(k=>{S=S.next(()=>g.getEntry(h,k)).next(j=>{const K=p.docVersions.get(k);mt(null!==K),j.version.compareTo(K)<0&&(w.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))})}),S.next(()=>l.mutationQueue.removeMutationBatch(h,w))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let h=jt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}(i.localStore,n);oF(i,o,null),sF(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Qc(i,l)}catch(l){yield Cd(l)}})).apply(this,arguments)}function N8(r,e,t){return(Ij=Ij||(0,F.Z)(function*(n,i,o){const l=Je(n);try{const h=yield function(p,g){const w=Je(p);return w.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let S;return w.mutationQueue.lookupMutationBatch(x,g).next(k=>(mt(null!==k),S=k.keys(),w.mutationQueue.removeMutationBatch(x,k))).next(()=>w.mutationQueue.performConsistencyCheck(x)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(x,S,g)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,S)).next(()=>w.localDocuments.getDocuments(x,S))})}(l.localStore,i);oF(l,i,o),sF(l,i),l.sharedClientState.updateMutationState(i,"rejected",o),yield Qc(l,h)}catch(h){yield Cd(h)}})).apply(this,arguments)}function sF(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function oF(r,e,t){const n=Je(r);let i=n.Tc[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Tc[n.currentUser.toKey()]=i}}function $_(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r._c.get(e))r.wc.delete(n),t&&r.dc.Pc(n,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(n=>{r.Ic.containsKey(n)||gz(r,n)})}function gz(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(vE(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),lF(r))}function aF(r,e,t){for(const n of t)n instanceof dz?(r.Ic.addReference(n.key,e),L8(r,n)):n instanceof hz?(Le("SyncEngine","Document no longer in limbo: "+n.key),r.Ic.removeReference(n.key,e),r.Ic.containsKey(n.key)||gz(r,n.key)):rt()}function L8(r,e){const t=e.key,n=t.path.canonicalString();r.gc.get(t)||r.mc.has(n)||(Le("SyncEngine","New document in limbo: "+t),r.mc.add(n),lF(r))}function lF(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Qe(un.fromString(e)),n=r.Ac.next();r.yc.set(n,new S8(t)),r.gc=r.gc.insert(t,n),uA(r.remoteStore,new Yc(gs(D_(t.path)),n,"TargetPurposeLimboResolution",co.ct))}}function Qc(r,e,t){return(Cj=Cj||(0,F.Z)(function*(n,i,o){var l;const h=Je(n),p=[],g=[],w=[];h.wc.isEmpty()||(h.wc.forEach((x,S)=>{w.push(h.Rc(S,i,o).then(k=>{if((k||o)&&h.isPrimaryClient&&h.sharedClientState.updateQueryState(S.targetId,k?.fromCache?"not-current":"current"),k){p.push(k);const j=HN.Li(S.targetId,k);g.push(j)}}))}),yield Promise.all(w),h.dc.nu(p),yield function(x,S){return(l=l||(0,F.Z)(function*(k,j){const K=Je(k);try{yield K.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>ne.forEach(j,le=>ne.forEach(le.Fi,Pe=>K.persistence.referenceDelegate.addReference(J,le.targetId,Pe)).next(()=>ne.forEach(le.Bi,Pe=>K.persistence.referenceDelegate.removeReference(J,le.targetId,Pe)))))}catch(J){if(!Td(J))throw J;Le("LocalStore","Failed to update sequence numbers: "+J)}for(const J of j){const le=J.targetId;if(!J.fromCache){const Pe=K.Ji.get(le),Ne=Pe.withLastLimboFreeSnapshotVersion(Pe.snapshotVersion);K.Ji=K.Ji.insert(le,Ne)}}})).apply(this,arguments)}(h.localStore,g))})).apply(this,arguments)}function V8(r,e){return(Tj=Tj||(0,F.Z)(function*(t,n){const i=Je(t);if(!i.currentUser.isEqual(n)){Le("SyncEngine","User change. New user:",n.toKey());const o=yield $3(i.localStore,n);i.currentUser=n,(l=i).Ec.forEach(p=>{p.forEach(g=>{g.reject(new xe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),i.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield Qc(i,o.er)}var l})).apply(this,arguments)}function U8(r,e){const t=Je(r),n=t.yc.get(e);if(n&&n.fc)return jt().add(n.key);{let i=jt();const o=t._c.get(e);if(!o)return i;for(const l of o){const h=t.wc.get(l);i=i.unionWith(h.view.nc)}return i}}function B8(r,e){return(Dj=Dj||(0,F.Z)(function*(t,n){const i=Je(t),o=yield sA(i.localStore,n.query,!0),l=n.view.hc(o);return i.isPrimaryClient&&aF(i,n.targetId,l.cc),l})).apply(this,arguments)}function j8(r,e){return(Sj=Sj||(0,F.Z)(function*(t,n){const i=Je(t);return Z3(i.localStore,n).then(o=>Qc(i,o))})).apply(this,arguments)}function H8(r,e,t,n){return(Aj=Aj||(0,F.Z)(function*(i,o,l,h){const p=Je(i),g=yield function(w,x){const S=Je(w),k=Je(S.mutationQueue);return S.persistence.runTransaction("Lookup mutation documents","readonly",j=>k.Sn(j,x).next(K=>K?S.localDocuments.getDocuments(j,K):ne.resolve(null)))}(p.localStore,o);var x;null!==g?("pending"===l?yield U_(p.remoteStore):"acknowledged"===l||"rejected"===l?(oF(p,o,h||null),sF(p,o),x=o,Je(Je(p.localStore).mutationQueue).Cn(x)):rt(),yield Qc(p,g)):Le("SyncEngine","Cannot apply mutation batch with id: "+o)})).apply(this,arguments)}function _z(r,e,t){return(Rj=Rj||(0,F.Z)(function*(n,i,o){const l=Je(n),h=[],p=[];for(const g of i){let w;const x=l._c.get(g);if(x&&0!==x.length){w=yield F_(l.localStore,gs(x[0]));for(const S of x){const k=l.wc.get(S),j=yield B8(l,k);j.snapshot&&p.push(j.snapshot)}}else{const S=yield W3(l.localStore,g);w=yield F_(l.localStore,S),yield iF(l,vz(S),g,!1,w.resumeToken)}h.push(w)}return l.dc.nu(p),h})).apply(this,arguments)}function vz(r){return xH(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function $8(r){const e=Je(r);return Je(Je(e.localStore).persistence).$i()}function G8(r,e,t,n){return(kj=kj||(0,F.Z)(function*(i,o,l,h){const p=Je(i);if(p.vc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const g=p._c.get(o);if(g&&g.length>0)switch(l){case"current":case"not-current":{const w=yield Z3(p.localStore,DH(g[0])),x=rE.createSynthesizedRemoteEventForCurrentChange(o,"current"===l,$r.EMPTY_BYTE_STRING);yield Qc(p,w,x);break}case"rejected":yield L_(p.localStore,o,!0),$_(p,o,h);break;default:rt()}})).apply(this,arguments)}function q8(r,e,t){return(Oj=Oj||(0,F.Z)(function*(n,i,o){const l=cF(n);if(l.vc){for(const h of i){if(l._c.has(h)){Le("SyncEngine","Adding an already active target "+h);continue}const p=yield W3(l.localStore,h),g=yield F_(l.localStore,p);yield iF(l,vz(p),g.targetId,!1,g.resumeToken),uA(l.remoteStore,g)}for(const h of o)l._c.has(h)&&(yield L_(l.localStore,h,!1).then(()=>{vE(l.remoteStore,h),$_(l,h)}).catch(Cd))}})).apply(this,arguments)}function cF(r){const e=Je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O8.bind(null,e),e.dc.nu=I8.bind(null,e.eventManager),e.dc.Pc=x8.bind(null,e.eventManager),e}function uF(r){const e=Je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N8.bind(null,e),e}class yE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,F.Z)(function*(){t.serializer=gE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return z3(this.persistence,new H3,e.initialUser,this.serializer)}createPersistence(e){return new VN(nA.zs,this.serializer)}createSharedClientState(e){return new X3}terminate(){var e=this;return(0,F.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dF extends yE{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,F.Z)(function*(){yield t().call(n,e),yield n.Vc.initialize(n,e),yield uF(n.Vc.syncEngine),yield U_(n.Vc.remoteStore),yield n.persistence.Ii(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return z3(this.persistence,new H3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new O3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new yW(t,this.persistence);return new vW(e.asyncQueue,n)}createPersistence(e){const t=jN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new BN(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ez(),cA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new X3}}class yz extends dF{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,F.Z)(function*(){var i;yield t().call(n,e);const o=n.Vc.syncEngine;n.sharedClientState instanceof qN&&(n.sharedClientState.syncEngine={jr:H8.bind(null,o),zr:G8.bind(null,o),Wr:q8.bind(null,o),$i:$8.bind(null,o),Qr:j8.bind(null,o)},yield n.sharedClientState.start()),yield n.persistence.Ii(function(l){return(i=i||(0,F.Z)(function*(h){yield function z8(r,e){return(Mj=Mj||(0,F.Z)(function*(t,n){const i=Je(t);if(cF(i),uF(i),!0===n&&!0!==i.vc){const o=i.sharedClientState.getAllActiveQueryTargets(),l=yield _z(i,o.toArray());i.vc=!0,yield XN(i.remoteStore,!0);for(const h of l)uA(i.remoteStore,h)}else if(!1===n&&!1!==i.vc){const o=[];let l=Promise.resolve();i._c.forEach((h,p)=>{i.sharedClientState.isLocalQueryTarget(p)?o.push(p):l=l.then(()=>($_(i,p),L_(i.localStore,p,!0))),vE(i.remoteStore,p)}),yield l,yield _z(i,o),function(h){const p=Je(h);p.yc.forEach((g,w)=>{vE(p.remoteStore,w)}),p.Ic.Ts(),p.yc=new Map,p.gc=new kn(Qe.comparator)}(i),i.vc=!1,yield XN(i.remoteStore,!1)}})).apply(this,arguments)}(n.Vc.syncEngine,h),n.gcScheduler&&(h&&!n.gcScheduler.started?n.gcScheduler.start():h||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(h&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():h||n.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const t=ez();if(!qN.D(t))throw new xe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=jN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qN(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class G_{initialize(e,t){var n=this;return(0,F.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=i=>mz(n.syncEngine,i,1),n.remoteStore.remoteSyncer.handleCredentialChange=V8.bind(null,n.syncEngine),yield XN(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new E8}createDatastore(e){const t=gE(e.databaseInfo.databaseId),n=new s8(e.databaseInfo);return new l8(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,o=h=>mz(this.syncEngine,h,0),l=J3.D()?new J3:new n8,new d8(t,n,i,o,l);var t,n,i,o,l}createSyncEngine(e,t){return function(n,i,o,l,h,p,g){const w=new A8(n,i,o,l,h,p);return g&&(w.vc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e;return function(t){return(e=e||(0,F.Z)(function*(n){const i=Je(n);Le("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield V_(i),i.Pu.shutdown(),i.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function bz(r,e=10240){let t=0;return{read:()=>(0,F.Z)(function*(){if(t<r.byteLength){const n={value:r.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}})(),cancel:()=>(0,F.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class K8{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new zr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(n=>{n&&n.Qu()?this.metadata.resolve(n.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.Gu)}`))},n=>this.metadata.reject(n))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,F.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,F.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,F.Z)(function*(){const t=yield e.kc();if(null===t)return null;const n=e.xc.decode(t),i=Number(n);isNaN(i)&&e.Mc(`length string (${n}) is not valid number`);const o=yield e.$c(i);return new C8(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,F.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}$c(e){var t=this;return(0,F.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const n=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,F.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Y8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,F.Z)(function*(){var n;if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield function(o,l){return(n=n||(0,F.Z)(function*(h,p){const g=Je(h),w=oE(g.serializer)+"/documents",x={documents:p.map(K=>sE(g.serializer,K))},S=yield g.vo("BatchGetDocuments",w,x,p.length),k=new Map;S.forEach(K=>{const J=function _9(r,e){return"found"in e?function(t,n){mt(!!n.found);const i=Sl(t,n.found.name),o=Ir(n.found.updateTime),l=n.found.createTime?Ir(n.found.createTime):_t.min(),h=new Ti({mapValue:{fields:n.found.fields}});return zn.newFoundDocument(i,o,l,h)}(r,e):"missing"in e?function(t,n){mt(!!n.missing),mt(!!n.readTime);const i=Sl(t,n.missing),o=Ir(n.readTime);return zn.newNoDocument(i,o)}(r,e):rt()}(g.serializer,K);k.set(J.key.toString(),J)});const j=[];return p.forEach(K=>{const J=k.get(K.toString());mt(!!J),j.push(J)}),j})).apply(this,arguments)}(t.datastore,e);return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new R_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,F.Z)(function*(){var t;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;e.mutations.forEach(i=>{n.delete(i.key.toString())}),n.forEach((i,o)=>{const l=Qe.fromPath(o);e.mutations.push(new yN(l,e.precondition(l)))}),yield function(i,o){return(t=t||(0,F.Z)(function*(l,h){const p=Je(l),g=oE(p.serializer)+"/documents",w={writes:h.map(x=>aE(p.serializer,x))};yield p.Io("Commit",g,w)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=_t.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?Yn.exists(!1):Yn.updateTime(t):Yn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new xe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(t)}return Yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Q8{constructor(e,t,n,i,o){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=o,this.Bc=n.maxAttempts,this.qo=new ZN(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,F.Z)(function*(){const t=new Y8(e.datastore),n=e.qc(t);n&&n.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Uc(o)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!zw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!GH(t)}return!1}}class X8{constructor(e,t,n,i){var l,o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=Hj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(h){return(l=l||(0,F.Z)(function*(p){Le("FirestoreClient","Received user=",p.uid),yield o.authCredentialListener(p),o.user=p})).apply(this,arguments)}),this.appCheckCredentials.start(n,h=>(Le("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,F.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,F.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=j_(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function fA(r,e){return(Pj=Pj||(0,F.Z)(function*(t,n){var i;t.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const o=yield t.getConfiguration();yield n.initialize(o);let l=o.initialUser;t.setCredentialChangeListener(function(h){return(i=i||(0,F.Z)(function*(p){l.isEqual(p)||(yield $3(n.localStore,p),l=p)})).apply(this,arguments)}),n.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=n})).apply(this,arguments)}function hF(r,e){return(Nj=Nj||(0,F.Z)(function*(t,n){t.asyncQueue.verifyOperationInProgress();const i=yield fF(t);Le("FirestoreClient","Initializing OnlineComponentProvider");const o=yield t.getConfiguration();yield n.initialize(i,o),t.setCredentialChangeListener(l=>az(n.remoteStore,l)),t.setAppCheckTokenChangeListener((l,h)=>az(n.remoteStore,h)),t._onlineComponents=n})).apply(this,arguments)}function wz(r){return"FirebaseError"===r.name?r.code===ce.FAILED_PRECONDITION||r.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function fF(r){return(Fj=Fj||(0,F.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fA(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!wz(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),yield fA(e,new yE)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield fA(e,new yE);return e._offlineComponents})).apply(this,arguments)}function pA(r){return(Lj=Lj||(0,F.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield hF(e,e._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield hF(e,new G_))),e._onlineComponents})).apply(this,arguments)}function Ez(r){return fF(r).then(e=>e.persistence)}function mA(r){return fF(r).then(e=>e.localStore)}function Iz(r){return pA(r).then(e=>e.remoteStore)}function pF(r){return pA(r).then(e=>e.syncEngine)}function q_(r){return(Vj=Vj||(0,F.Z)(function*(e){const t=yield pA(e),n=t.eventManager;return n.onListen=M8.bind(null,t.syncEngine),n.onUnlisten=R8.bind(null,t.syncEngine),n})).apply(this,arguments)}function Cz(r,e,t={}){const n=new zr;return r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return function(i,o,l,h,p){const g=new hA({next:x=>{o.enqueueAndForget(()=>tF(i,w));const S=x.docs.has(l);!S&&x.fromCache?p.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&h&&"server"===h.source?p.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new rF(D_(l.path),g,{includeMetadataChanges:!0,Ku:!0});return eF(i,w)}(yield q_(r),r.asyncQueue,e,t,n)})),n.promise}function Tz(r,e,t={}){const n=new zr;return r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return function(i,o,l,h,p){const g=new hA({next:x=>{o.enqueueAndForget(()=>tF(i,w)),x.fromCache&&"server"===h.source?p.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new rF(l,g,{includeMetadataChanges:!0,Ku:!0});return eF(i,w)}(yield q_(r),r.asyncQueue,e,t,n)})),n.promise}function Dz(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sz=new Map;function mF(r,e,t){if(!t)throw new xe(ce.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Az(r,e,t,n){if(!0===e&&!0===n)throw new xe(ce.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Mz(r){if(!Qe.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rz(r){if(Qe.isDocumentKey(r))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gA(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":rt()}function on(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gA(r);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function kz(r,e){if(e<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Oz{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Dz(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bE{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oW;switch(t.type){case"firstParty":return new uW(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sz.get(e);t&&(Le("ComponentProvider","Removing Datastore"),Sz.delete(e),t.terminate())}(this),Promise.resolve()}}function Pz(r,e,t,n={}){var i;const o=(r=on(r,bE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==l&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),n.mockUserToken){let h,p;if("string"==typeof n.mockUserToken)h=n.mockUserToken,p=ci.MOCK_USER;else{h=(0,Ie.Sg)(n.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ci(g)}r._authCredentials=new aW(new Bj(h,p))}}class $n{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Di{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Al extends Di{constructor(e,t,n){super(e,t,D_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Qe(e))}withConverter(e){return new Al(this.firestore,e,this._path)}}function Nz(r,e,...t){if(r=(0,Ie.m9)(r),mF("collection","path",e),r instanceof bE){const n=un.fromString(e,...t);return Rz(n),new Al(r,null,n)}{if(!(r instanceof $n||r instanceof Al))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(un.fromString(e,...t));return Rz(n),new Al(r.firestore,null,n)}}function _A(r,e,...t){if(r=(0,Ie.m9)(r),1===arguments.length&&(e=Hj.A()),mF("doc","path",e),r instanceof bE){const n=un.fromString(e,...t);return Mz(n),new $n(r,null,new Qe(n))}{if(!(r instanceof $n||r instanceof Al))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(un.fromString(e,...t));return Mz(n),new $n(r.firestore,r instanceof Al?r.converter:null,new Qe(n))}}function Fz(r,e){return r=(0,Ie.m9)(r),e=(0,Ie.m9)(e),(r instanceof $n||r instanceof Al)&&(e instanceof $n||e instanceof Al)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function gF(r,e){return r=(0,Ie.m9)(r),e=(0,Ie.m9)(e),r instanceof Di&&e instanceof Di&&r.firestore===e.firestore&&Yw(r._query,e._query)&&r.converter===e.converter}class l7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZN(this,"async_queue_retry"),this.Xc=()=>{const t=cA();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=cA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=cA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,F.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Td(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(n=>{throw this.Wc=n,this.Hc=!1,Er("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(n)),n}).then(n=>(this.Hc=!1,n))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=JN.createAndSchedule(this,e,t,n,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,F.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function _F(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(r)}class c7{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends bE{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new l7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lz(this),this._firestoreClient.terminate()}}function d7(r,e){const t="object"==typeof r?r:(0,xt.getApp)(),n="string"==typeof r?r:e||"(default)",i=(0,xt._getProvider)(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=(0,Ie.P0)("firestore");o&&Pz(i,...o)}return i}function xr(r){return r._firestoreClient||Lz(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Lz(r){var e,t,n;const i=r._freezeSettings(),o=(h=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new BW(r._databaseId,h,r._persistenceKey,(g=i).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Dz(g.experimentalLongPollingOptions),g.useFetchStreams));var h,g;r._firestoreClient=new X8(r._authCredentials,r._appCheckCredentials,r._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(n=i.cache)&&void 0!==n&&n._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Vz(r,e,t){const n=new zr;return r.asyncQueue.enqueue((0,F.Z)(function*(){try{yield fA(r,t),yield hF(r,e),n.resolve()}catch(i){const o=i;if(!wz(o))throw o;Ho("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function Uz(r){if(r._initialized||r._terminated)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml($r.fromBase64String(e))}catch(t){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ml($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._methodName=e}}class vA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const w7=/^__.*__$/;class E7{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new M_(e,this.data,t,this.fieldTransforms)}}class Bz{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jz(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class yA{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return EA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jz(this.ca)&&w7.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class I7{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gE(e)}ya(e,t,n,i=!1){return new yA({ca:e,methodName:t,ga:n,path:hr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(r){const e=r._freezeSettings(),t=gE(r._databaseId);return new I7(r._databaseId,!!e.ignoreUndefinedProperties,t)}function bA(r,e,t,n,i,o={}){const l=r.ya(o.merge||o.mergeFields?2:0,e,t,i);wF("Data must be an object, but it was:",l,n);const h=$z(n,l);let p,g;if(o.merge)p=new Vs(l.fieldMask),g=l.fieldTransforms;else if(o.mergeFields){const w=[];for(const x of o.mergeFields){const S=IE(e,x,t);if(!l.contains(S))throw new xe(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qz(w,S)||w.push(S)}p=new Vs(w),g=l.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,g=l.fieldTransforms;return new E7(new Ti(h),p,g)}class EE extends yp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof EE}}function Hz(r,e,t){return new yA({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vF extends yp{_toFieldTransform(e){return new eE(e.path,new S_)}isEqual(e){return e instanceof vF}}class x7 extends yp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Hz(this,e,!0),n=this.pa.map(o=>wp(o,t)),i=new up(n);return new eE(e.path,i)}isEqual(e){return this===e}}class C7 extends yp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Hz(this,e,!0),n=this.pa.map(o=>wp(o,t)),i=new dp(n);return new eE(e.path,i)}isEqual(e){return this===e}}class T7 extends yp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new A_(e.serializer,PH(e.serializer,this.Ia));return new eE(e.path,t)}isEqual(e){return this===e}}function yF(r,e,t,n){const i=r.ya(1,e,t);wF("Data must be an object, but it was:",i,n);const o=[],l=Ti.empty();Dd(n,(p,g)=>{const w=wA(e,p,t);g=(0,Ie.m9)(g);const x=i.da(w);if(g instanceof EE)o.push(w);else{const S=wp(g,x);null!=S&&(o.push(w),l.set(w,S))}});const h=new Vs(o);return new Bz(l,h,i.fieldTransforms)}function bF(r,e,t,n,i,o){const l=r.ya(1,e,t),h=[IE(e,n,t)],p=[i];if(o.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)h.push(IE(e,o[S])),p.push(o[S+1]);const g=[],w=Ti.empty();for(let S=h.length-1;S>=0;--S)if(!qz(g,h[S])){const k=h[S];let j=p[S];j=(0,Ie.m9)(j);const K=l.da(k);if(j instanceof EE)g.push(k);else{const J=wp(j,K);null!=J&&(g.push(k),w.set(k,J))}}const x=new Vs(g);return new Bz(w,x,l.fieldTransforms)}function zz(r,e,t,n=!1){return wp(t,r.ya(n?4:3,e))}function wp(r,e){if(Gz(r=(0,Ie.m9)(r)))return wF("Unsupported field value:",e,r),$z(r,e);if(r instanceof yp)return function(t,n){if(!jz(n.ca))throw n._a(`${t._methodName}() can only be used with update() and set()`);if(!n.path)throw n._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,n){const i=[];let o=0;for(const l of t){let h=wp(l,n.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(r,e)}return function(t,n){if(null===(t=(0,Ie.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PH(n.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Kn.fromDate(t);return{timestampValue:k_(n.serializer,i)}}if(t instanceof Kn){const i=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:k_(n.serializer,i)}}if(t instanceof vA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ml)return{bytesValue:t3(n.serializer,t._byteString)};if(t instanceof $n){const i=n.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw n._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:TN(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n._a(`Unsupported field value: ${gA(t)}`)}(r,e)}function $z(r,e){const t={};return rH(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dd(r,(n,i)=>{const o=wp(i,e.ha(n));null!=o&&(t[n]=o)}),{mapValue:{fields:t}}}function Gz(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Kn||r instanceof vA||r instanceof Ml||r instanceof $n||r instanceof yp)}function wF(r,e,t){if(!Gz(t)||"object"!=typeof(n=t)||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){const n=gA(t);throw e._a("an object"===n?r+" a custom object":r+" "+n)}var n}function IE(r,e,t){if((e=(0,Ie.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return wA(r,e);throw EA("Field path arguments must be of type string or ",r,!1,void 0,t)}const D7=new RegExp("[~\\*/\\[\\]]");function wA(r,e,t){if(e.search(D7)>=0)throw EA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch{throw EA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function EA(r,e,t,n,i){const o=n&&!n.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||l)&&(p+=" (found",o&&(p+=` in field ${n}`),l&&(p+=` in document ${i}`),p+=")"),new xe(ce.INVALID_ARGUMENT,h+r+p)}function qz(r,e){return r.some(t=>t.isEqual(e))}class xE{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new S7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class S7 extends xE{data(){return super.data()}}function IA(r,e){return"string"==typeof e?wA(r,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}function Wz(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EF{}class CE extends EF{}function Bd(r,e,...t){let n=[];e instanceof EF&&n.push(e),n=n.concat(t),function(i){const o=i.filter(h=>h instanceof W_).length,l=i.filter(h=>h instanceof TE).length;if(o>1||o>0&&l>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class TE extends CE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new TE(e,t,n)}_apply(e){const t=this._parse(e);return Qz(e._query,t),new Di(e.firestore,e.converter,gN(e._query,t))}_parse(e){const t=bp(e.firestore);return function(i,o,l,h,p,g,w){let x;if(p.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){Yz(w,g);const S=[];for(const k of w)S.push(Kz(h,i,k));x={arrayValue:{values:S}}}else x=Kz(h,i,w)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||Yz(w,g),x=zz(l,"where",w,"in"===g||"not-in"===g);return sn.create(p,g,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends EF{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W_(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(n,i){let o=n;const l=i.getFlattenedFilters();for(const h of l)Qz(o,h),o=gN(o,h)}(e._query,t),new Di(e.firestore,e.converter,gN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class IF extends CE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new IF(e,t)}_apply(e){const t=function(n,i,o){if(null!==n.startAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==n.endAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new C_(i,o);return function(h,p){if(null===pN(h)){const g=jS(h);null!==g&&Xz(0,g,p.field)}}(n,l),l}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(n,i){const o=n.explicitOrderBy.concat([i]);return new Wc(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,t))}}class xA extends CE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new xA(e,t,n)}_apply(e){return new Di(e.firestore,e.converter,HS(e._query,this._limit,this._limitType))}}class CA extends CE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new CA(e,t,n)}_apply(e){const t=Zz(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(i=t,new Wc((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,i,n.endAt)));var n,i}}class TA extends CE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new TA(e,t,n)}_apply(e){const t=Zz(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(i=t,new Wc((n=e._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,i)));var n,i}}function Zz(r,e,t,n){if(t[0]=(0,Ie.m9)(t[0]),t[0]instanceof xE)return function(i,o,l,h,p){if(!h)throw new xe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const g=[];for(const w of cp(i))if(w.field.isKeyField())g.push(ap(o,h.key));else{const x=h.data.field(w.field);if(PS(x))throw new xe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const S=w.field.canonicalString();throw new xe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}g.push(x)}return new Od(g,p)}(r._query,r.firestore._databaseId,e,t[0]._document,n);{const i=bp(r.firestore);return function(o,l,h,p,g,w){const x=o.explicitOrderBy;if(g.length>x.length)throw new xe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<g.length;k++){const j=g[k];if(x[k].field.isKeyField()){if("string"!=typeof j)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof j}`);if(!mN(o)&&-1!==j.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${j}' contains a slash.`);const K=o.path.child(un.fromString(j));if(!Qe.isDocumentKey(K))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const J=new Qe(K);S.push(ap(l,J))}else{const K=zz(h,p,j);S.push(K)}}return new Od(S,w)}(r._query,r.firestore._databaseId,i,e,t,n)}}function Kz(r,e,t){if("string"==typeof(t=(0,Ie.m9)(t))){if(""===t)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mN(e)&&-1!==t.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(un.fromString(t));if(!Qe.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ap(r,new Qe(n))}if(t instanceof $n)return ap(r,t._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gA(t)}.`)}function Yz(r,e){if(!Array.isArray(r)||0===r.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qz(r,e){if(e.isInequality()){const n=jS(r),i=e.field;if(null!==n&&!n.isEqual(i))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const o=pN(r);null!==o&&Xz(0,i,o)}const t=function(n,i){for(const o of n)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Xz(r,e,t){if(!t.isEqual(e))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xF{convertValue(e,t="none"){switch(Rd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Dd(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertGeoPoint(e){return new vA(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=NS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gw(e));default:return null}}convertTimestamp(e){const t=Sd(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=un.fromString(e);mt(h3(n));const i=new Ad(n.get(1),n.get(3)),o=new Qe(n.popFirst(5));return i.isEqual(t)||Er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function DA(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class L7 extends xF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jc extends xE{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new DE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(IA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class DE extends Jc{data(e={}){return super.data(e)}}class jd{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ep(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new DE(this._firestore,this._userDataWriter,n.key,n,new Ep(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(l=>({type:"added",doc:new DE(n._firestore,n._userDataWriter,l.doc.key,l.doc,new Ep(n._snapshot.mutatedKeys.has(l.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new DE(n._firestore,n._userDataWriter,l.doc.key,l.doc,new Ep(n._snapshot.mutatedKeys.has(l.doc.key),n._snapshot.fromCache),n.query.converter);let p=-1,g=-1;return 0!==l.type&&(p=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),g=o.indexOf(l.doc.key)),{type:U7(l.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function U7(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function e$(r,e){return r instanceof Jc&&e instanceof Jc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof jd&&e instanceof jd&&r._firestore===e._firestore&&gF(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Hd extends xF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function t$(r,e,t){r=on(r,$n);const n=on(r.firestore,Gn),i=DA(r.converter,e,t);return Z_(n,[bA(bp(n),"setDoc",r._key,i,null!==r.converter,t).toMutation(r._key,Yn.none())])}function n$(r,e,t,...n){r=on(r,$n);const i=on(r.firestore,Gn),o=bp(i);let l;return l="string"==typeof(e=(0,Ie.m9)(e))||e instanceof Xc?bF(o,"updateDoc",r._key,e,t,n):yF(o,"updateDoc",r._key,e),Z_(i,[l.toMutation(r._key,Yn.exists(!0))])}function r$(r,...e){var t,n,i;r=(0,Ie.m9)(r);let o={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||_F(e[l])||(o=e[l],l++);const h={includeMetadataChanges:o.includeMetadataChanges};if(_F(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(n=x.error)||void 0===n?void 0:n.bind(x),e[l+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let p,g,w;if(r instanceof $n)g=on(r.firestore,Gn),w=D_(r._key.path),p={next:x=>{e[l]&&e[l](CF(g,r,x))},error:e[l+1],complete:e[l+2]};else{const x=on(r,Di);g=on(x.firestore,Gn),w=x._query;const S=new Hd(g);p={next:k=>{e[l]&&e[l](new jd(g,S,x,k))},error:e[l+1],complete:e[l+2]},Wz(r._query)}return function(x,S,k,j){const K=new hA(j),J=new rF(S,K,k);return x.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return eF(yield q_(x),J)})),()=>{K.Dc(),x.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return tF(yield q_(x),J)}))}}(xr(g),w,h,p)}function Z_(r,e){return function(t,n){const i=new zr;return t.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return function k8(r,e,t){return(yj=yj||(0,F.Z)(function*(n,i,o){const l=uF(n);try{const h=yield function(p,g){const w=Je(p),x=Kn.now(),S=g.reduce((K,J)=>K.add(J.key),jt());let k,j;return w.persistence.runTransaction("Locally write mutations","readwrite",K=>{let J=Us(),le=jt();return w.Zi.getEntries(K,S).next(Pe=>{J=Pe,J.forEach((Se,Ne)=>{Ne.isValidDocument()||(le=le.add(Se))})}).next(()=>w.localDocuments.getOverlayedDocuments(K,J)).next(Pe=>{k=Pe;const Se=[];for(const Ne of g){const ot=a9(Ne,k.get(Ne.key).overlayedDocument);null!=ot&&Se.push(new Kc(Ne.key,ot,hH(ot.value.mapValue),Yn.exists(!0)))}return w.mutationQueue.addMutationBatch(K,x,Se,g)}).next(Pe=>{j=Pe;const Se=Pe.applyToLocalDocumentSet(k,le);return w.documentOverlayCache.saveOverlays(K,Pe.batchId,Se)})}).then(()=>({batchId:j.batchId,changes:MH(k)}))}(l.localStore,i);l.sharedClientState.addPendingMutation(h.batchId),function(p,g,w){let x=p.Tc[p.currentUser.toKey()];x||(x=new kn(Ft)),x=x.insert(g,w),p.Tc[p.currentUser.toKey()]=x}(l,h.batchId,o),yield Qc(l,h.changes),yield U_(l.remoteStore)}catch(h){const p=j_(h,"Failed to persist write");o.reject(p)}})).apply(this,arguments)}(yield pF(t),n,i)})),i.promise}(xr(r),e)}function CF(r,e,t){const n=t.docs.get(e._key),i=new Hd(r);return new Jc(r,i,e._key,n,new Ep(t.hasPendingWrites,t.fromCache),e.converter)}const rZ={maxAttempts:5};class i${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}set(e,t,n){this._verifyNotCommitted();const i=zd(e,this._firestore),o=DA(i.converter,t,n),l=bA(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,n);return this._mutations.push(l.toMutation(i._key,Yn.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const o=zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Ie.m9)(t))||t instanceof Xc?bF(this._dataReader,"WriteBatch.update",o._key,t,n,i):yF(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zd(e,this._firestore);return this._mutations=this._mutations.concat(new R_(t._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zd(r,e){if((r=(0,Ie.m9)(r)).firestore!==e)throw new xe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class iZ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bp(e)}get(e){const t=zd(e,this._firestore),n=new L7(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return rt();const o=i[0];if(o.isFoundDocument())return new xE(this._firestore,n,o.key,o,t.converter);if(o.isNoDocument())return new xE(this._firestore,n,t._key,null,t.converter);throw rt()})}set(e,t,n){const i=zd(e,this._firestore),o=DA(i.converter,t,n),l=bA(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,n);return this._transaction.set(i._key,l),this}update(e,t,n,...i){const o=zd(e,this._firestore);let l;return l="string"==typeof(t=(0,Ie.m9)(t))||t instanceof Xc?bF(this._dataReader,"Transaction.update",o._key,t,n,i):yF(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=zd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zd(e,this._firestore),n=new Hd(this._firestore);return super.get(e).then(i=>new Jc(this._firestore,n,t._key,i._document,new Ep(!1,!1),t.converter))}}function TF(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function o$(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function a$(){if(!function VW(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){w_=xt.SDK_VERSION,(0,xt._registerComponent)(new us.wA("firestore",(t,{instanceIdentifier:n,options:i})=>{const o=t.getProvider("app").getImmediate(),l=new Gn(new lW(t.getProvider("auth-internal")),new dW(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(h.options.projectId,p)}(o,n),o);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(Uj,"3.13.0",r),(0,xt.registerVersion)(Uj,"3.13.0","esm2017")}();class SE{constructor(e){this._delegate=e}static fromBase64String(e){return a$(),new SE(Ml.fromBase64String(e))}static fromUint8Array(e){return o$(),new SE(Ml.fromUint8Array(e))}toBase64(){return a$(),this._delegate.toBase64()}toUint8Array(){return o$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DF(r){return function fZ(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(r,["next","error","complete"])}class pZ{enableIndexedDbPersistence(e,t){return function h7(r,e){Uz(r=on(r,Gn));const t=xr(r);if(t._uninitializedComponentsProvider)throw new xe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=r._freezeSettings(),i=new G_;return Vz(t,i,new dF(i,n.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function f7(r){Uz(r=on(r,Gn));const e=xr(r);if(e._uninitializedComponentsProvider)throw new xe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),n=new G_;return Vz(e,n,new yz(n,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function p7(r){if(r._initialized&&!r._terminated)throw new xe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,F.Z)(function*(){try{var t;yield function(n){return(t=t||(0,F.Z)(function*(i){if(!Ta.D())return Promise.resolve();const o=i+"main";yield Ta.delete(o)})).apply(this,arguments)}(jN(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}(e._delegate)}}class l${constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ad||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ho("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Pz(this._delegate,e,t,n)}enableNetwork(){return function g7(r){return function J8(r){return r.asyncQueue.enqueue((0,F.Z)(function*(){const e=yield Ez(r),t=yield Iz(r);return e.setNetworkEnabled(!0),function(n){const i=Je(n);return i.vu.delete(0),_E(i)}(t)}))}(xr(r=on(r,Gn)))}(this._delegate)}disableNetwork(){return function _7(r){return function e7(r){return r.asyncQueue.enqueue((0,F.Z)(function*(){var e;const t=yield Ez(r),n=yield Iz(r);return t.setNetworkEnabled(!1),function(i){return(e=e||(0,F.Z)(function*(o){const l=Je(o);l.vu.add(0),yield V_(l),l.bu.set("Offline")})).apply(this,arguments)}(n)}))}(xr(r=on(r,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Az("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function m7(r){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return function F8(r,e){return(xj=xj||(0,F.Z)(function*(t,n){const i=Je(t);Vd(i.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const p=Je(h);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>p.mutationQueue.getHighestUnacknowledgedBatchId(g))}(i.localStore);if(-1===o)return void n.resolve();const l=i.Ec.get(o)||[];l.push(n),i.Ec.set(o,l)}catch(o){const l=j_(o,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}(yield pF(e),t)})),t.promise}(xr(r=on(r,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function Z7(r,e){return function r7(r,e){const t=new hA(e);return r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return n=yield q_(r),i=t,Je(n).ku.add(i),void i.next();var n,i})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){return n=yield q_(r),i=t,void Je(n).ku.delete(i);var n,i}))}}(xr(r=on(r,Gn)),_F(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new K_(this,Nz(this._delegate,e))}catch(t){throw _s(t,"collection()","Firestore.collection()")}}doc(e){try{return new zo(this,_A(this._delegate,e))}catch(t){throw _s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vs(this,function a7(r,e){if(r=on(r,bE),mF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Di(r,null,(t=e,new Wc(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sZ(r,e,t){r=on(r,Gn);const n=Object.assign(Object.assign({},rZ),t);return function(i){if(i.maxAttempts<1)throw new xe(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(i,o,l){const h=new zr;return i.asyncQueue.enqueueAndForget((0,F.Z)(function*(){const p=yield function xz(r){return pA(r).then(e=>e.datastore)}(i);new Q8(i.asyncQueue,p,l,o,h).run()})),h.promise}(xr(r),i=>e(new iZ(r,i)),n)}(this._delegate,t=>e(new c$(this,t)))}batch(){return xr(this._delegate),new u$(new i$(this._delegate,e=>Z_(this._delegate,e)))}loadBundle(e){return function v7(r,e){const t=xr(r=on(r,Gn)),n=new c7;return function i7(r,e,t,n){const i=function(o,l){let h;return h="string"==typeof o?WH().encode(o):o,p=function(p,g){if(p instanceof Uint8Array)return bz(p,g);if(p instanceof ArrayBuffer)return bz(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new K8(p,l);var p}(t,gE(e));r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){!function W8(r,e,t){var n;const i=Je(r);(function(o,l,h){return(n=n||(0,F.Z)(function*(p,g,w){try{const x=yield g.getMetadata();if(yield function(K,J){const le=Je(K),Pe=Ir(J.createTime);return le.persistence.runTransaction("hasNewerBundle","readonly",Se=>le.qs.getBundleMetadata(Se,J.id)).then(Se=>!!Se&&Se.createTime.compareTo(Pe)>=0)}(p.localStore,x))return yield g.close(),w._completeWith({taskState:"Success",documentsLoaded:(K=x).totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}),Promise.resolve(new Set);w._updateProgress(uz(x));const S=new T8(x,p.localStore,g.serializer);let k=yield g.bc();for(;k;){const K=yield S.zu(k);K&&w._updateProgress(K),k=yield g.bc()}const j=yield S.complete();return yield Qc(p,j.Ju,void 0),yield function(K,J){const le=Je(K);return le.persistence.runTransaction("Save bundle","readwrite",Pe=>le.qs.saveBundleMetadata(Pe,J))}(p.localStore,x),w._completeWith(j.progress),Promise.resolve(j.Hu)}catch(x){return Ho("SyncEngine",`Loading bundle failed with ${x}`),w._failWith(x),Promise.resolve(new Set)}var K})).apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield pF(r),i,n)}))}(t,r._databaseId,e,n),n}(this._delegate,e)}namedQuery(e){return function y7(r,e){return function s7(r,e){return r.asyncQueue.enqueue((0,F.Z)(function*(){return function(t,n){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,n))}(yield mA(r),e)}))}(xr(r=on(r,Gn)),e).then(t=>t?new Di(r,null,t.query):null)}(this._delegate,e).then(t=>t?new vs(this,t):null)}}class SA extends xF{constructor(e){super(),this.firestore=e}convertBytes(e){return new SE(new Ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zo.forKey(t,this.firestore,null)}}class c${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SA(e)}get(e){const t=xp(e);return this._delegate.get(t).then(n=>new AE(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,t.converter)))}set(e,t,n){const i=xp(e);return n?(TF("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const o=xp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=xp(e);return this._delegate.delete(t),this}}class u${constructor(e){this._delegate=e}set(e,t,n){const i=xp(e);return n?(TF("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n,...i){const o=xp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=xp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ip{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new DE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ME(this._firestore,n),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Ip.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let o=i.get(t);return o||(o=new Ip(e,new SA(e),t),i.set(t,o)),o}}Ip.INSTANCES=new WeakMap;class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SA(e)}static forPath(e,t,n){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zo(t,new $n(t._delegate,n,new Qe(e)))}static forKey(e,t,n){return new zo(t,new $n(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new K_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new K_(this.firestore,Nz(this._delegate,e))}catch(t){throw _s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ie.m9)(e))instanceof $n&&Fz(this._delegate,e)}set(e,t){t=TF("DocumentReference.set",t);try{return t?t$(this._delegate,e,t):t$(this._delegate,e)}catch(n){throw _s(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?n$(this._delegate,e):n$(this._delegate,e,t,...n)}catch(i){throw _s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function q7(r){return Z_(on(r.firestore,Gn),[new R_(r._key,Yn.none())])}(this._delegate)}onSnapshot(...e){const t=d$(e),n=h$(e,i=>new AE(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return r$(this._delegate,t,n)}get(e){let t;return t="cache"===e?.source?function j7(r){r=on(r,$n);const e=on(r.firestore,Gn),t=xr(e),n=new Hd(e);return function t7(r,e){const t=new zr;return r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){var n;return function(i,o,l){return(n=n||(0,F.Z)(function*(h,p,g){try{const w=yield function(x,S){const k=Je(x);return k.persistence.runTransaction("read document","readonly",j=>k.localDocuments.getDocument(j,S))}(h,p);w.isFoundDocument()?g.resolve(w):w.isNoDocument()?g.resolve(null):g.reject(new xe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const x=j_(w,`Failed to get document '${p} from cache`);g.reject(x)}})).apply(this,arguments)}(yield mA(r),e,t)})),t.promise}(t,r._key).then(i=>new Jc(e,n,r._key,i,new Ep(null!==i&&i.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function H7(r){r=on(r,$n);const e=on(r.firestore,Gn);return Cz(xr(e),r._key,{source:"server"}).then(t=>CF(e,r,t))}(this._delegate):function B7(r){r=on(r,$n);const e=on(r.firestore,Gn);return Cz(xr(e),r._key).then(t=>CF(e,r,t))}(this._delegate),t.then(n=>new AE(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function _s(r,e,t){return r.message=r.message.replace(e,t),r}function d$(r){for(const e of r)if("object"==typeof e&&!DF(e))return e;return{}}function h$(r,e){var t,n;let i;return i=DF(r[0])?r[0]:DF(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(n=i.complete)||void 0===n?void 0:n.bind(i)}}class AE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return e$(this._delegate,e._delegate)}}class ME extends AE{data(e){const t=this._delegate.data(e);return function sW(r,e){r||rt()}(void 0!==t),t}}class vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SA(e)}where(e,t,n){try{return new vs(this.firestore,Bd(this._delegate,function A7(r,e,t){const n=e,i=IA("where",r);return TE._create(i,n,t)}(e,t,n)))}catch(i){throw _s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vs(this.firestore,Bd(this._delegate,function M7(r,e="asc"){const t=e,n=IA("orderBy",r);return IF._create(n,t)}(e,t)))}catch(n){throw _s(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vs(this.firestore,Bd(this._delegate,function R7(r){return kz("limit",r),xA._create("limit",r,"F")}(e)))}catch(t){throw _s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vs(this.firestore,Bd(this._delegate,function k7(r){return kz("limitToLast",r),xA._create("limitToLast",r,"L")}(e)))}catch(t){throw _s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vs(this.firestore,Bd(this._delegate,function O7(...r){return CA._create("startAt",r,!0)}(...e)))}catch(t){throw _s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vs(this.firestore,Bd(this._delegate,function P7(...r){return CA._create("startAfter",r,!1)}(...e)))}catch(t){throw _s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vs(this.firestore,Bd(this._delegate,function N7(...r){return TA._create("endBefore",r,!1)}(...e)))}catch(t){throw _s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vs(this.firestore,Bd(this._delegate,function F7(...r){return TA._create("endAt",r,!0)}(...e)))}catch(t){throw _s(t,"endAt()","Query.endAt()")}}isEqual(e){return gF(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $7(r){r=on(r,Di);const e=on(r.firestore,Gn),t=xr(e),n=new Hd(e);return function n7(r,e){const t=new zr;return r.asyncQueue.enqueueAndForget((0,F.Z)(function*(){var n;return function(i,o,l){return(n=n||(0,F.Z)(function*(h,p,g){try{const w=yield sA(h,p,!0),x=new fz(p,w.ir),S=x.sc(w.documents),k=x.applyChanges(S,!1);g.resolve(k.snapshot)}catch(w){const x=j_(w,`Failed to execute query '${p} against cache`);g.reject(x)}})).apply(this,arguments)}(yield mA(r),e,t)})),t.promise}(t,r._query).then(i=>new jd(e,n,r,i))}(this._delegate):"server"===e?.source?function G7(r){r=on(r,Di);const e=on(r.firestore,Gn),t=xr(e),n=new Hd(e);return Tz(t,r._query,{source:"server"}).then(i=>new jd(e,n,r,i))}(this._delegate):function z7(r){r=on(r,Di);const e=on(r.firestore,Gn),t=xr(e),n=new Hd(e);return Wz(r._query),Tz(t,r._query).then(i=>new jd(e,n,r,i))}(this._delegate),t.then(n=>new SF(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const t=d$(e),n=h$(e,i=>new SF(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return r$(this._delegate,t,n)}withConverter(e){return new vs(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}class gZ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ME(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ME(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new gZ(this._firestore,t))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new ME(this._firestore,n))})}isEqual(e){return e$(this._delegate,e._delegate)}}class K_ extends vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zo(this.firestore,e):null}doc(e){try{return new zo(this.firestore,void 0===e?_A(this._delegate):_A(this._delegate,e))}catch(t){throw _s(t,"doc()","CollectionReference.doc()")}}add(e){return function W7(r,e){const t=on(r.firestore,Gn),n=_A(r),i=DA(r.converter,e);return Z_(t,[bA(bp(r.firestore),"addDoc",n._key,i,null!==r.converter,{}).toMutation(n._key,Yn.exists(!1))]).then(()=>n)}(this._delegate,e).then(t=>new zo(this.firestore,t))}isEqual(e){return Fz(this._delegate,e._delegate)}withConverter(e){return new K_(this.firestore,this._delegate.withConverter(e?Ip.getInstance(this.firestore,e):null))}}function xp(r){return on(r,$n)}class AF{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new AF(hr.keyField().canonicalString())}isEqual(e){return(e=(0,Ie.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aZ(){return new vF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cp(e)}static delete(){const e=function oZ(){return new EE("deleteField")}();return e._methodName="FieldValue.delete",new Cp(e)}static arrayUnion(...e){const t=function lZ(...r){return new x7("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Cp(t)}static arrayRemove(...e){const t=function cZ(...r){return new C7("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Cp(t)}static increment(e){const t=function uZ(r){return new T7("increment",r)}(e);return t._methodName="FieldValue.increment",new Cp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _Z={Firestore:l$,GeoPoint:vA,Timestamp:Kn,Blob:SE,Transaction:c$,WriteBatch:u$,DocumentReference:zo,DocumentSnapshot:AE,Query:vs,QueryDocumentSnapshot:ME,QuerySnapshot:SF,CollectionReference:K_,FieldPath:AF,FieldValue:Cp,setLogLevel:function mZ(r){!function iW(r){xd.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function f$(r,e){return function bZ(r,e=fw){return new nr.y(t=>{let n;return null!=e?e.schedule(()=>{n=r.onSnapshot({includeMetadataChanges:!0},t)}):n=r.onSnapshot({includeMetadataChanges:!0},t),()=>{n?.()}})}(r,e)}function MF(r,e){return f$(r,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function AA(r,e){return MF(r,e).pipe(aa(void 0),fP(),(0,Et.U)(([t,n])=>{const i=n.payload.docChanges(),o=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(n.payload.metadata)&&n.payload.docs.forEach((l,h)=>{const p=i.find(w=>w.doc.ref.isEqual(l.ref)),g=t?.payload.docs.find(w=>w.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&g&&JSON.stringify(g.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),o}))}function p$(r,e,t){return AA(r,t).pipe(la((n,i)=>function EZ(r,e,t){return e.forEach(n=>{t.indexOf(n.type)>-1&&(r=function IZ(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return RF(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return RF(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return RF(r,e.oldIndex,1)}return r}(r,n))}),r}(n,i.map(o=>o.payload),e),[]),(0,kU.x)(),(0,Et.U)(n=>n.map(i=>({type:i.type,payload:i}))))}function RF(r,e,t,...n){const i=r.slice();return i.splice(e,t,...n),i}function m$(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}!function yZ(r){(function vZ(r,e){r.INTERNAL.registerComponent(new us.wA("firestore-compat",t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(n,i)},"PUBLIC").setServiceProps(Object.assign({},_Z)))})(r,(e,t)=>new l$(e,t,new pZ)),r.registerVersion("@firebase/firestore-compat","0.3.12")}(YG.Z);class g${constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=AA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(n=>n.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(aa(void 0),fP(),Vn(([n,i])=>i.length>0||!n),(0,Et.U)(([n,i])=>i),oo)}auditTrail(e){return this.stateChanges(e).pipe(la((t,n)=>[...t,...n],[]))}snapshotChanges(e){const t=m$(e);return p$(this.query,t,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return MF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(n=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data())),oo)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(oo)}add(e){return this.ref.add(e)}doc(e){return new _$(this.ref.doc(e),this.afs)}}class _${constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:i,query:o}=v$(n,t);return new g$(i,o,this.afs)}snapshotChanges(){return function wZ(r,e){return f$(r,e).pipe(aa(void 0),fP(),(0,Et.U)(([t,n])=>n.exists?t?.exists?{payload:n,type:"modified"}:{payload:n,type:"added"}:{payload:n,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Dn.D)(this.ref.get(e)).pipe(oo)}}class xZ{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(n=>e.indexOf(n.type)>-1)),Vn(t=>t.length>0),oo):AA(this.query,this.afs.schedulers.outsideAngular).pipe(oo)}auditTrail(e){return this.stateChanges(e).pipe(la((t,n)=>[...t,...n],[]))}snapshotChanges(e){const t=m$(e);return p$(this.query,t,this.afs.schedulers.outsideAngular).pipe(oo)}valueChanges(e={}){return MF(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(n=>n.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),oo)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(oo)}}const CZ=new d.OlP("angularfire2.enableFirestorePersistence"),TZ=new d.OlP("angularfire2.firestore.persistenceSettings"),DZ=new d.OlP("angularfire2.firestore.settings"),SZ=new d.OlP("angularfire2.firestore.use-emulator");function v$(r,e=(t=>t)){return{query:e(r),ref:r}}let PF,AZ=(()=>{class r{constructor(t,n,i,o,l,h,p,g,w,x,S,k,j,K,J,le,Pe){this.schedulers=p;const Se=(0,Ia.on)(t,h,n),Ne=w;x&&RU(Se,h,S,j,K,J,k,le),[this.firestore,this.persistenceEnabled$]=(0,Ia.cc)(`${Se.name}.firestore`,"AngularFirestore",Se.name,()=>{const ot=h.runOutsideAngular(()=>Se.firestore());if(o&&ot.settings(o),Ne&&ot.useEmulator(...Ne),i&&!$s(l)){const St=()=>{try{return(0,Dn.D)(ot.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(Kt){return typeof console<"u"&&console.warn(Kt),(0,at.of)(!1)}};return[ot,h.runOutsideAngular(St)]}return[ot,(0,at.of)(!1)]},[o,Ne,i])}collection(t,n){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:l}=v$(i,n),h=this.schedulers.ngZone.run(()=>o);return new g$(h,l,this)}collectionGroup(t,n){const i=n||(l=>l),o=this.firestore.collectionGroup(t);return new xZ(i(o),this)}doc(t){let n;n="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>n);return new _$(i,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(Ia.Dh),d.LFG(Ia.xv,8),d.LFG(CZ,8),d.LFG(DZ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(pw),d.LFG(TZ,8),d.LFG(SZ,8),d.LFG(hP,8),d.LFG(CU,8),d.LFG(TU,8),d.LFG(DU,8),d.LFG(SU,8),d.LFG(AU,8),d.LFG(MU,8),d.LFG(_w,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),kF=(()=>{var r;class e{constructor(n,i){this.auth=n,this.db=i}login(n){return this.auth.signInWithEmailAndPassword(n.email,n.password)}signinUp(n){return this.auth.createUserWithEmailAndPassword(n.email,n.password)}updateUser(n){return function jb(r,e){return(HR=HR||(0,F.Z)(function*(t,{displayName:n,photoURL:i}){if(void 0===n&&void 0===i)return;const o=(0,Ie.m9)(t),h={idToken:yield o.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},p=yield Ls(o,function UC(r,e){return(aC=aC||(0,F.Z)(function*(t,n){return Bn(t,"POST","/v1/accounts:update",n)})).apply(this,arguments)}(o.auth,h));o.displayName=p.displayName||null,o.photoURL=p.photoUrl||null;const g=o.providerData.find(({providerId:w})=>"password"===w);g&&(g.displayName=o.displayName,g.photoURL=o.photoURL),yield o._updateTokensIfNecessary(p)})).apply(this,arguments)}(Bf().currentUser,n)}logout(){return this.auth.signOut()}saveLog(n){let i=new Date;const o=i.toLocaleDateString()+"-"+i.toLocaleTimeString();this.db.collection("users").doc().set({email:n,fecha_ingreso:o})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hP),d.LFG(AZ))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),OF=(()=>{var r;class e{constructor(n){this.router=n}setElementInLocalstorage(n,i){return localStorage.setItem(n,JSON.stringify(i))}getElementFromLocalStorage(n){return JSON.parse(localStorage.getItem(n))}routerLink(n){return this.router.navigateByUrl(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(Br))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();try{PF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PF=!1}let Y_,hi=(()=>{var r;class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function jp(r){return r===Ts}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(d.Lbi))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const y$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b$(){if(Y_)return Y_;if("object"!=typeof document||!document)return Y_=new Set(y$),Y_;let r=document.createElement("input");return Y_=new Set(y$.filter(e=>(r.setAttribute("type",e),r.type===e))),Y_}let RE,Tp,NF;function kE(r){return function MZ(){if(null==RE&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>RE=!0}))}finally{RE=RE||!1}return RE}()?r:!!r.capture}function RZ(){if(null==Tp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tp=!1,Tp;if("scrollBehavior"in document.documentElement.style)Tp=!0;else{const r=Element.prototype.scrollTo;Tp=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Tp}function $d(r){return r.composedPath?r.composedPath()[0]:r.target}function FF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function w$(r){return Vn((e,t)=>r<=t)}function eu(r){return null!=r&&"false"!=`${r}`}function RA(r){return Array.isArray(r)?r:[r]}function kr(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Gd(r){return r instanceof d.SBq?r.nativeElement:r}const E$=new Set;let Dp,jZ=(()=>{var r;class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zZ}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function HZ(r,e){if(!E$.has(r))try{Dp||(Dp=document.createElement("style"),e&&(Dp.nonce=e),Dp.setAttribute("type","text/css"),document.head.appendChild(Dp)),Dp.sheet&&(Dp.sheet.insertRule(`@media ${r} {body{ }}`,0),E$.add(r))}catch(t){console.error(t)}}(n,this._nonce),this._matchMedia(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hi),d.LFG(d.Ojb,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function zZ(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let LF=(()=>{var r;class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new qt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return I$(RA(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let l=oa(I$(RA(n)).map(h=>this._registerQuery(h).observable));return l=Ms(l.pipe(ei(1)),l.pipe(w$(1),function BZ(r,e=fw){return(0,Lr.e)((t,n)=>{let i=null,o=null,l=null;const h=()=>{if(i){i.unsubscribe(),i=null;const g=o;o=null,n.next(g)}};function p(){const g=l+r,w=e.now();if(w<g)return i=this.schedule(void 0,g-w),void n.add(i);h()}t.subscribe((0,vr.x)(n,g=>{o=g,l=e.now(),i||(i=e.schedule(p,r),n.add(i))},()=>{h(),n.complete()},void 0,()=>{o=i=null}))})}(0))),l.pipe((0,Et.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:g,query:w})=>{p.matches=p.matches||g,p.breakpoints[w]=g}),p}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),l={observable:new nr.y(h=>{const p=g=>this._zone.run(()=>h.next(g));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(aa(i),(0,Et.U)(({matches:h})=>({query:n,matches:h})),ss(this._destroySubject)),mql:i};return this._queries.set(n,l),l}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(jZ),d.LFG(d.R0b))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function I$(r){return r.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function D$(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function S$(r){const e=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const XZ=new d.OlP("cdk-input-modality-detector-options"),JZ={ignoreKeys:[18,17,224,91,16]},Q_=kE({passive:!0,capture:!0});let eK=(()=>{var r;class e{get mostRecentModality(){return this._modality.value}constructor(n,i,o,l){this._platform=n,this._mostRecentTarget=null,this._modality=new Jr.X(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(p=>p===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$d(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(D$(h)?"keyboard":"mouse"),this._mostRecentTarget=$d(h))},this._onTouchstart=h=>{S$(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$d(h))},this._options={...JZ,...l},this.modalityDetected=this._modality.pipe(w$(1)),this.modalityChanged=this.modalityDetected.pipe((0,kU.x)()),n.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Q_),o.addEventListener("mousedown",this._onMousedown,Q_),o.addEventListener("touchstart",this._onTouchstart,Q_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Q_),document.removeEventListener("mousedown",this._onMousedown,Q_),document.removeEventListener("touchstart",this._onTouchstart,Q_))}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hi),d.LFG(d.R0b),d.LFG(he),d.LFG(XZ,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const tK=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nK(){return null}}),rK=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iK=0,M$=(()=>{var r;class e{constructor(n,i,o,l){this._ngZone=i,this._defaultOptions=l,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...i){const o=this._defaultOptions;let l,h;return 1===i.length&&"number"==typeof i[0]?h=i[0]:[l,h]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=o&&o.politeness?o.politeness:"polite"),null==h&&o&&(h=o.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const n="cdk-live-announcer-element",i=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+iK++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){const l=i[o],h=l.getAttribute("aria-owns");h?-1===h.indexOf(n)&&l.setAttribute("aria-owns",h+" "+n):l.setAttribute("aria-owns",n)}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(tK,8),d.LFG(d.R0b),d.LFG(he),d.LFG(rK,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const sK=new d.OlP("cdk-focus-monitor-default-options"),kA=kE({passive:!0,capture:!0});let oK=(()=>{var r;class e{constructor(n,i,o,l,h){this._ngZone=n,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qt.x,this._rootNodeFocusAndBlurListener=p=>{for(let w=$d(p);w;w=w.parentElement)"focus"===p.type?this._onFocus(p,w):this._onBlur(p,w)},this._document=l,this._detectionMode=h?.detectionMode||0}monitor(n,i=!1){const o=Gd(n);if(!this._platform.isBrowser||1!==o.nodeType)return(0,at.of)();const l=function OZ(r){if(function kZ(){if(null==NF){const r=typeof document<"u"?document.head:null;NF=!(!r||!r.createShadowRoot&&!r.attachShadow)}return NF}()){const e=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return i&&(h.checkChildren=!0),h.subject;const p={checkChildren:i,subject:new qt.x,rootNode:l};return this._elementInfo.set(o,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(n){const i=Gd(n),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(n,i,o){const l=Gd(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,g])=>this._originChanged(p,i,g)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused","touch"===i),n.classList.toggle("cdk-keyboard-focused","keyboard"===i),n.classList.toggle("cdk-mouse-focused","mouse"===i),n.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,i){const o=this._elementInfo.get(i),l=$d(n);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(n,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kA),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kA)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ss(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kA),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kA),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,o){this._setClasses(n,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((o,l)=>{(l===n||o.checkChildren&&l.contains(n))&&i.push([l,o])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const l=n.labels;if(l)for(let h=0;h<l.length;h++)if(l[h].contains(i))return!0;return!1}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(d.R0b),d.LFG(hi),d.LFG(eK),d.LFG(he,8),d.LFG(sK,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const R$="cdk-high-contrast-black-on-white",k$="cdk-high-contrast-white-on-black",VF="cdk-high-contrast-active";let aK=(()=>{var r;class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=(0,d.f3M)(LF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(n):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(VF,R$,k$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(VF,R$):2===i&&n.add(VF,k$)}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hi),d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const lK=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function cK(){return(0,d.f3M)(he)}}),uK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let O$=(()=>{var r;class e{constructor(n){this.value="ltr",this.change=new d.vpe,n&&(this.value=function dK(r){const e=r?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?uK.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(lK,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),OE=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();const fK=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function hK(){return!0}});let $o=(()=>{var r;class e{constructor(n,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!FF()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(aK),d.LFG(fK,8),d.LFG(he))},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[OE,OE]}),e})();function pK(r){return class extends r{get disabled(){return this._disabled}set disabled(e){this._disabled=eu(e)}constructor(...e){super(...e),this._disabled=!1}}}function L$(r,e){return class extends r{get color(){return this._color}set color(t){const n=t||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function mK(r){return class extends r{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=eu(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function gK(r){return class extends r{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let vK=(()=>{var r;class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();class yK{constructor(e,t,n,i=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const V$=kE({passive:!0,capture:!0});class bK{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=$d(e);t&&this._events.get(e.type)?.forEach((n,i)=>{(i===t||i.contains(t))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,n,i){const o=this._events.get(t);if(o){const l=o.get(n);l?l.add(i):o.set(n,new Set([i]))}else this._events.set(t,new Map([[n,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,V$)})}removeHandler(e,t,n){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(n),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,V$)))}}const U$={enterDuration:225,exitDuration:150},B$=kE({passive:!0,capture:!0}),j$=["mousedown","touchstart"],H$=["mouseup","mouseleave","touchend","touchcancel"];class NE{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gd(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...U$,...n.animation};n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=n.radius||function EK(r,e,t){const n=Math.max(Math.abs(r-t.left),Math.abs(r-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+i*i)}(e,t,i),h=e-i.left,p=t-i.top,g=o.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=h-l+"px",w.style.top=p-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=n.color&&(w.style.backgroundColor=n.color),w.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(w);const x=window.getComputedStyle(w),k=x.transitionDuration,j="none"===x.transitionProperty||"0s"===k||"0s, 0s"===k||0===i.width&&0===i.height,K=new yK(this,w,n,j);w.style.transform="scale3d(1, 1, 1)",K.state=0,n.persistent||(this._mostRecentTransientRipple=K);let J=null;return!j&&(g||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const le=()=>this._finishRippleTransition(K),Pe=()=>this._destroyRipple(K);w.addEventListener("transitionend",le),w.addEventListener("transitioncancel",Pe),J={onTransitionEnd:le,onTransitionCancel:Pe}}),this._activeRipples.set(K,J),(j||!g)&&this._finishRippleTransition(K),K}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,n={...U$,...e.config.animation};t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Gd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,j$.forEach(n=>{NE._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{H$.forEach(t=>{this._triggerElement.addEventListener(t,this,B$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=D$(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!S$(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(j$.forEach(t=>NE._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&H$.forEach(t=>e.removeEventListener(t,this,B$)))}}NE._eventManager=new bK;const z$=new d.OlP("mat-ripple-global-options");let IK=(()=>{var r;class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,o,l,h){this._elementRef=n,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new NE(this,i,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(hi),d.Y36(z$,8),d.Y36(d.QbO,8))},r.\u0275dir=d.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){2&n&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),xK=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[$o,$o]}),e})();const $$={capture:!0},G$=["focus","click","mouseenter","touchstart"],UF="mat-ripple-loader-uninitialized",BF="mat-ripple-loader-class-name",q$="mat-ripple-loader-centered",OA="mat-ripple-loader-disabled";let CK=(()=>{var r;class e{constructor(){this._document=(0,d.f3M)(he,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(z$,{optional:!0}),this._platform=(0,d.f3M)(hi),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const o=n.target.closest(`[${UF}]`);o&&this.createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(const n of G$)this._document?.addEventListener(n,this._onInteraction,$$)})}ngOnDestroy(){for(const n of G$)this._document?.removeEventListener(n,this._onInteraction,$$)}configureRipple(n,i){n.setAttribute(UF,""),(i.className||!n.hasAttribute(BF))&&n.setAttribute(BF,i.className||""),i.centered&&n.setAttribute(q$,""),i.disabled&&n.setAttribute(OA,"")}getRipple(n){return n.matRipple?n.matRipple:this.createRipple(n)}setDisabled(n,i){const o=n.matRipple;o?o.disabled=i:i?n.setAttribute(OA,""):n.removeAttribute(OA)}createRipple(n){if(!this._document)return;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(BF)),n.append(i);const o=new IK(new d.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=n,o.centered=n.hasAttribute(q$),o.disabled=n.hasAttribute(OA),this.attachRipple(n,o),o}attachRipple(n,i){n.removeAttribute(UF),n.matRipple=i}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const W$=["mat-button",""],Z$=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],K$=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Y$=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",DK=["mat-icon-button",""],SK=["*"],AK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],MK=L$(pK(mK(class{constructor(r){this._elementRef=r}})));let jF=(()=>{var r;class e extends MK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=eu(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=eu(n),this._updateRippleDisabled()}constructor(n,i,o,l){super(n),this._platform=i,this._ngZone=o,this._animationMode=l,this._focusMonitor=(0,d.f3M)(oK),this._rippleLoader=(0,d.f3M)(CK),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const h=n.nativeElement.classList;for(const p of AK)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(g=>{h.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...n){return n.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(r=e).\u0275fac=function(n){d.$Z()},r.\u0275dir=d.lG2({type:r,features:[d.qOj]}),e})(),kK=(()=>{var r;class e extends jF{constructor(n,i,o,l){super(n,i,o,l),this._haltDisabledEvents=h=>{this.disabled&&(h.preventDefault(),h.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return(r=e).\u0275fac=function(n){d.$Z()},r.\u0275dir=d.lG2({type:r,features:[d.qOj]}),e})(),OK=(()=>{var r;class e extends jF{constructor(n,i,o,l){super(n,i,o,l)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(hi),d.Y36(d.R0b),d.Y36(d.QbO,8))},r.\u0275cmp=d.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:W$,ngContentSelectors:K$,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(d.F$t(Z$),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&n&&d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),HF=(()=>{var r;class e extends kK{constructor(n,i,o,l){super(n,i,o,l)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(hi),d.Y36(d.R0b),d.Y36(d.QbO,8))},r.\u0275cmp=d.Xpm({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,i){2&n&&(d.uIk("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:W$,ngContentSelectors:K$,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(d.F$t(Z$),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&n&&d.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',Y$],encapsulation:2,changeDetection:0}),e})(),Q$=(()=>{var r;class e extends jF{constructor(n,i,o,l){super(n,i,o,l),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(hi),d.Y36(d.R0b),d.Y36(d.QbO,8))},r.\u0275cmp=d.Xpm({type:r,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:DK,ngContentSelectors:SK,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(d.F$t(),d._UZ(0,"span",0),d.Hsn(1),d._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Y$],encapsulation:2,changeDetection:0}),e})(),X$=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[$o,xK,$o]}),e})();class J${}class NK{}const tu="*";function e4(r,e){return{type:7,name:r,definitions:e,options:{}}}function zF(r,e=null){return{type:4,styles:e,timings:r}}function t4(r,e=null){return{type:2,steps:r,options:e}}function Sp(r){return{type:6,styles:r,offset:null}}function $F(r,e,t){return{type:0,name:r,styles:e,options:t}}function GF(r,e,t=null){return{type:1,expr:r,animation:e,options:t}}class FE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class n4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==o&&this._onFinish()}),l.onDestroy(()=>{++n==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class WF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ZF extends WF{constructor(e,t,n,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=o}}class r4 extends WF{constructor(e,t,n,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class FK extends WF{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class KF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ZF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof r4?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof FK?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LK extends KF{constructor(e,t,n,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(n);-1!==i&&t.remove(i)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let i4=(()=>{var r;class e extends KF{constructor(n,i,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);const i=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,l=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),h=i.createComponent(l,i.length,n.injector||i.injector,n.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=n,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(n){n.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(he))},r.\u0275dir=d.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),e})(),s4=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();var VK=L(4266);const UK=["addListener","removeListener"],BK=["addEventListener","removeEventListener"],jK=["on","off"];function YF(r,e,t,n){if((0,Xr.m)(t)&&(n=t,t=void 0),n)return YF(r,e,t).pipe(Xl(n));const[i,o]=function $K(r){return(0,Xr.m)(r.addEventListener)&&(0,Xr.m)(r.removeEventListener)}(r)?BK.map(l=>h=>r[l](e,h,t)):function HK(r){return(0,Xr.m)(r.addListener)&&(0,Xr.m)(r.removeListener)}(r)?UK.map(o4(r,e)):function zK(r){return(0,Xr.m)(r.on)&&(0,Xr.m)(r.off)}(r)?jK.map(o4(r,e)):[];if(!i&&(0,VK.z)(r))return(0,Vr.z)(l=>YF(l,e,t))((0,za.Xf)(r));if(!i)throw new TypeError("Invalid event target");return new nr.y(l=>{const h=(...p)=>l.next(1<p.length?p:p[0]);return i(h),()=>o(h)})}function o4(r,e){return t=>n=>r[t](e,n)}const LE={schedule(r){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=LE;n&&(e=n.requestAnimationFrame,t=n.cancelAnimationFrame);const i=e(o=>{t=void 0,r(o)});return new Xs.w0(()=>t?.(i))},requestAnimationFrame(...r){const{delegate:e}=LE;return(e?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:e}=LE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};new class qK extends WD{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}}}(class GK extends qD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=LE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(LE.cancelAnimationFrame(t),e._scheduled=void 0)}});let QF,ZK=1;const PA={};function a4(r){return r in PA&&(delete PA[r],!0)}const KK={setImmediate(r){const e=ZK++;return PA[e]=!0,QF||(QF=Promise.resolve()),QF.then(()=>a4(e)&&r()),e},clearImmediate(r){a4(r)}},{setImmediate:YK,clearImmediate:QK}=KK,NA={setImmediate(...r){const{delegate:e}=NA;return(e?.setImmediate||YK)(...r)},clearImmediate(r){const{delegate:e}=NA;return(e?.clearImmediate||QK)(r)},delegate:void 0};new class JK extends WD{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}}}(class XK extends qD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=NA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(NA.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var nY=L(671);function l4(r,e=fw){return function tY(r){return(0,Lr.e)((e,t)=>{let n=!1,i=null,o=null,l=!1;const h=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const g=i;i=null,t.next(g)}l&&t.complete()},p=()=>{o=null,l&&t.complete()};e.subscribe((0,vr.x)(t,g=>{n=!0,i=g,o||(0,za.Xf)(r(g)).subscribe(o=(0,vr.x)(t,h,p))},()=>{l=!0,(!n||!o||o.closed)&&t.complete()}))})}(()=>function iY(r=0,e,t=K5){let n=-1;return null!=e&&((0,nY.K)(e)?t=e:n=e),new nr.y(i=>{let o=function rY(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;o<0&&(o=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=n?this.schedule(void 0,n):i.complete())},o)})}(r,e))}let oY=(()=>{var r;class e{constructor(n,i,o){this._ngZone=n,this._platform=i,this._scrolled=new qt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new nr.y(i=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(l4(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,at.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const o=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(Vn(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,n)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let o=Gd(i),l=n.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>YF(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(d.R0b),d.LFG(hi),d.LFG(he,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),c4=(()=>{var r;class e{constructor(n,i,o){this._platform=n,this._change=new qt.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),o=n.documentElement,l=o.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||n.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(l4(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hi),d.LFG(d.R0b),d.LFG(he,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),u4=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})(),d4=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[OE,u4,OE,u4]}),e})();const h4=RZ();class lY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=kr(-this._previousScrollPosition.left),e.style.top=kr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,i=this._document.body.style,o=n.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),h4&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h4&&(n.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}}class cY{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Vn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class f4{enable(){}disable(){}attach(){}}function XF(r,e){return e.some(t=>r.bottom<t.top||r.top>t.bottom||r.right<t.left||r.left>t.right)}function p4(r,e){return e.some(t=>r.top<t.top||r.bottom>t.bottom||r.left<t.left||r.right>t.right)}class uY{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();XF(t,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dY=(()=>{var r;class e{constructor(n,i,o,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new f4,this.close=h=>new cY(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new lY(this._viewportRuler,this._document),this.reposition=h=>new uY(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(oY),d.LFG(c4),d.LFG(d.R0b),d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();class m4{constructor(e){if(this.scrollStrategy=new f4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class hY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let g4=(()=>{var r;class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),fY=(()=>{var r;class e extends g4{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let h=l.length-1;h>-1;h--)if(l[h]._keydownEvents.observers.length>0){const p=l[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he),d.LFG(d.R0b,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),pY=(()=>{var r;class e extends g4{constructor(n,i,o){super(n),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=$d(l)},this._clickListener=l=>{const h=$d(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let w=g.length-1;w>-1;w--){const x=g[w];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(h)||x.overlayElement.contains(p))break;const S=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(l)):S.next(l)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he),d.LFG(hi),d.LFG(d.R0b,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),_4=(()=>{var r;class e{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||FF()){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(n),FF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he),d.LFG(hi))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();class mY{constructor(e,t,n,i,o,l,h,p,g,w=!1){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=h,this._location=p,this._outsideClickDispatcher=g,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new qt.x,this._attachments=new qt.x,this._detachments=new qt.x,this._locationChanges=Xs.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new qt.x,this._outsidePointerEvents=new qt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=kr(this._config.width),e.height=kr(this._config.height),e.minWidth=kr(this._config.minWidth),e.minHeight=kr(this._config.minHeight),e.maxWidth=kr(this._config.maxWidth),e.maxHeight=kr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){const i=RA(t||[]).filter(o=>!!o);i.length&&(n?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ss((0,u0.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const v4="cdk-overlay-connected-position-bounding-box",gY=/([A-Za-z%]+)$/;class _Y{get positions(){return this._preferredPositions}constructor(e,t,n,i,o){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new qt.x,this._resizeSubscription=Xs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(v4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,i,h),g=this._getOverlayPoint(p,t,h),w=this._getOverlayFit(g,t,n,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(w,g,n)?o.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:g,originPoint:p,position:h,overlayRect:t})}if(o.length){let h=null,p=-1;for(const g of o){const w=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);w>p&&(p=w,h=g)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ap(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(v4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let i,o;if("center"==n.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==n.originX?l:h}return t.left<0&&(i-=t.left),o="center"==n.originY?e.top+e.height/2:"top"==n.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,n){let i,o;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,n,i){const o=b4(t);let{x:l,y:h}=e,p=this._getOffset(i,"x"),g=this._getOffset(i,"y");p&&(l+=p),g&&(h+=g);let S=0-h,k=h+o.height-n.height,j=this._subtractOverflows(o.width,0-l,l+o.width-n.width),K=this._subtractOverflows(o.height,S,k),J=j*K;return{visibleArea:J,isCompletelyWithinViewport:o.width*o.height===J,fitsInViewportVertically:K===o.height,fitsInViewportHorizontally:j==o.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,o=n.right-t.x,l=y4(this._overlayRef.getConfig().minHeight),h=y4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=b4(t),o=this._viewportRect,l=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),p=Math.max(o.top-n.top-e.y,0),g=Math.max(o.left-n.left-e.x,0);let w=0,x=0;return w=i.width<=o.width?g||-l:e.x<this._viewportMargin?o.left-n.left-e.x:0,x=i.height<=o.height?p||-h:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:w,y:x},{x:e.x+w,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),i=new hY(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let o,l,h,w,x,S;if("top"===t.overlayY)l=e.y,o=n.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=n.height-e.y+2*this._viewportMargin,o=n.height-h+this._viewportMargin;else{const k=Math.min(n.bottom-e.y+n.top,e.y),j=this._lastBoundingBoxSize.height;o=2*k,l=e.y-k,o>j&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-j/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)S=n.width-e.x+this._viewportMargin,w=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,w=n.right-e.x;else{const k=Math.min(n.right-e.x+n.left,e.x),j=this._lastBoundingBoxSize.width;w=2*k,x=e.x-k,w>j&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-j/2)}return{top:l,left:x,bottom:h,right:S,width:w,height:o}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=kr(n.height),i.top=kr(n.top),i.bottom=kr(n.bottom),i.width=kr(n.width),i.left=kr(n.left),i.right=kr(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=kr(o)),l&&(i.maxWidth=kr(l))}this._lastBoundingBoxSize=n,Ap(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ap(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ap(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const w=this._viewportRuler.getViewportScrollPosition();Ap(n,this._getExactOverlayY(t,e,w)),Ap(n,this._getExactOverlayX(t,e,w))}else n.position="static";let h="",p=this._getOffset(t,"x"),g=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),g&&(h+=`translateY(${g}px)`),n.transform=h.trim(),l.maxHeight&&(i?n.maxHeight=kr(l.maxHeight):o&&(n.maxHeight="")),l.maxWidth&&(i?n.maxWidth=kr(l.maxWidth):o&&(n.maxWidth="")),Ap(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=kr(o.y),i}_getExactOverlayX(e,t,n){let l,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=kr(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:p4(e,n),isOriginOutsideView:XF(e,n),isOverlayClipped:p4(t,n),isOverlayOutsideView:XF(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,i)=>n-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&RA(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function Ap(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function y4(r){if("number"!=typeof r&&null!=r){const[e,t]=r.split(gY);return t&&"px"!==t?null:parseFloat(e)}return r||null}function b4(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const w4="cdk-global-overlay-wrapper";class vY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(w4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:h}=n,p=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),g=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),w=this._xPosition,x=this._xOffset,S="rtl"===this._overlayRef.getConfig().direction;let k="",j="",K="";p?K="flex-start":"center"===w?(K="center",S?j=x:k=x):S?"left"===w||"end"===w?(K="flex-end",k=x):("right"===w||"start"===w)&&(K="flex-start",j=x):"left"===w||"start"===w?(K="flex-start",k=x):("right"===w||"end"===w)&&(K="flex-end",j=x),e.position=this._cssPosition,e.marginLeft=p?"0":k,e.marginTop=g?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":j,t.justifyContent=K,t.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(w4),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let yY=(()=>{var r;class e{constructor(n,i,o,l){this._viewportRuler=n,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new vY}flexibleConnectedTo(n){return new _Y(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(c4),d.LFG(he),d.LFG(hi),d.LFG(_4))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),bY=0,FA=(()=>{var r;class e{constructor(n,i,o,l,h,p,g,w,x,S,k,j){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=p,this._ngZone=g,this._document=w,this._directionality=x,this._location=S,this._outsideClickDispatcher=k,this._animationsModuleType=j}create(n){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),h=new m4(n);return h.direction=h.direction||this._directionality.value,new mY(l,i,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+bY++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new LK(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(dY),d.LFG(_4),d.LFG(d._Vd),d.LFG(yY),d.LFG(fY),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(he),d.LFG(O$),d.LFG(Ae),d.LFG(pY),d.LFG(d.QbO,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();const IY={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[FA],useFactory:function EY(r){return()=>r.scrollStrategies.reposition()}};let xY=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[FA,IY],imports:[OE,s4,d4,d4]}),e})();function CY(r,e){if(1&r){const t=d.EpF();d.TgZ(0,"div",2)(1,"button",3),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.action())}),d._uU(2),d.qZA()()}if(2&r){const t=d.oxw();d.xp6(2),d.hij(" ",t.data.action," ")}}const TY=["label"];function DY(r,e){}const SY=Math.pow(2,31)-1;class JF{constructor(e,t){this._overlayRef=t,this._afterDismissed=new qt.x,this._afterOpened=new qt.x,this._onAction=new qt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,SY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const E4=new d.OlP("MatSnackBarData");class LA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let AY=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),e})(),MY=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),e})(),RY=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),e})(),kY=(()=>{var r;class e{constructor(n,i){this.snackBarRef=n,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(JF),d.Y36(E4))},r.\u0275cmp=d.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,i){1&n&&(d.TgZ(0,"div",0),d._uU(1),d.qZA(),d.YNc(2,CY,3,1,"div",1)),2&n&&(d.xp6(1),d.hij(" ",i.data.message,"\n"),d.xp6(1),d.Q6J("ngIf",i.hasAction))},dependencies:[Ko,OK,AY,MY,RY],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),e})();const OY={snackBarState:e4("state",[$F("void, hidden",Sp({transform:"scale(0.8)",opacity:0})),$F("visible",Sp({transform:"scale(1)",opacity:1})),GF("* => visible",zF("150ms cubic-bezier(0, 0, 0.2, 1)")),GF("* => void, * => hidden",zF("75ms cubic-bezier(0.4, 0.0, 1, 1)",Sp({opacity:0})))])};let PY=0,NY=(()=>{var r;class e extends KF{constructor(n,i,o,l,h){super(),this._ngZone=n,this._elementRef=i,this._changeDetectorRef=o,this._platform=l,this.snackBarConfig=h,this._document=(0,d.f3M)(he),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new qt.x,this._onExit=new qt.x,this._onEnter=new qt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+PY++,this.attachDomPortal=p=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(p);return this._afterPortalAttached(),g},this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),i}attachTemplatePortal(n){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),i}onAnimationEnd(n){const{fromState:i,toState:o}=n;if(("void"===o&&"void"!==i||"hidden"===o)&&this._completeExit(),"visible"===o){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ei(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const n=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(o=>n.classList.add(o)):n.classList.add(i)),this._exposeToModals()}_exposeToModals(){const n=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){const l=i[o],h=l.getAttribute("aria-owns");this._trackedModals.add(l),h?-1===h.indexOf(n)&&l.setAttribute("aria-owns",h+" "+n):l.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{const i=n.getAttribute("aria-owns");if(i){const o=i.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&i){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),i.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(hi),d.Y36(LA))},r.\u0275dir=d.lG2({type:r,viewQuery:function(n,i){if(1&n&&d.Gf(i4,7),2&n){let o;d.iGM(o=d.CRH())&&(i._portalOutlet=o.first)}},features:[d.qOj]}),e})(),FY=(()=>{var r;class e extends NY{_afterPortalAttached(){super._afterPortalAttached();const n=this._label.nativeElement,i="mdc-snackbar__label";n.classList.toggle(i,!n.querySelector(`.${i}`))}}return(r=e).\u0275fac=function(){let t;return function(i){return(t||(t=d.n5z(r)))(i||r)}}(),r.\u0275cmp=d.Xpm({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,i){if(1&n&&d.Gf(TY,7),2&n){let o;d.iGM(o=d.CRH())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,i){1&n&&d.WFA("@state.done",function(l){return i.onAnimationEnd(l)}),2&n&&d.d8E("@state",i._animationState)},features:[d.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,i){1&n&&(d.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),d.YNc(4,DY,0,0,"ng-template",4),d.qZA(),d._UZ(5,"div"),d.qZA()()),2&n&&(d.xp6(5),d.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[i4],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[OY.snackBarState]}}),e})(),I4=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[xY,s4,En,X$,$o,$o]}),e})();const x4=new d.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function LY(){return new LA}});let VY=(()=>{var r;class e{get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,i,o,l,h,p){this._overlay=n,this._live=i,this._injector=o,this._breakpointObserver=l,this._parentSnackBar=h,this._defaultConfig=p,this._snackBarRefAtThisLevel=null}openFromComponent(n,i){return this._attach(n,i)}openFromTemplate(n,i){return this._attach(n,i)}open(n,i="",o){const l={...this._defaultConfig,...o};return l.data={message:n,action:i},l.announcementMessage===n&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,i){const l=d.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:LA,useValue:i}]}),h=new ZF(this.snackBarContainerComponent,i.viewContainerRef,l),p=n.attach(h);return p.instance.snackBarConfig=i,p.instance}_attach(n,i){const o={...new LA,...this._defaultConfig,...i},l=this._createOverlay(o),h=this._attachSnackBarContainer(l,o),p=new JF(h,l);if(n instanceof d.Rgc){const g=new r4(n,null,{$implicit:o.data,snackBarRef:p});p.instance=h.attachTemplatePortal(g)}else{const g=this._createInjector(o,p),w=new ZF(n,void 0,g),x=h.attachComponentPortal(w);p.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(ss(l.detachments())).subscribe(g=>{l.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),o.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(p,o),this._openedSnackBarRef=p,this._openedSnackBarRef}_animateSnackBar(n,i){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),i.duration&&i.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(i.duration))}_createOverlay(n){const i=new m4;i.direction=n.direction;let o=this._overlay.position().global();const l="rtl"===n.direction,h="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!l||"end"===n.horizontalPosition&&l,p=!h&&"center"!==n.horizontalPosition;return h?o.left("0"):p?o.right("0"):o.centerHorizontally(),"top"===n.verticalPosition?o.top("0"):o.bottom("0"),i.positionStrategy=o,this._overlay.create(i)}_createInjector(n,i){return d.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:JF,useValue:i},{provide:E4,useValue:n.data}]})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(FA),d.LFG(M$),d.LFG(d.zs3),d.LFG(LF),d.LFG(r,12),d.LFG(x4))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})(),C4=(()=>{var r;class e extends VY{constructor(n,i,o,l,h,p){super(n,i,o,l,h,p),this.simpleSnackBarComponent=kY,this.snackBarContainerComponent=FY,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(FA),d.LFG(M$),d.LFG(d.zs3),d.LFG(LF),d.LFG(r,12),d.LFG(x4))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:I4}),e})();class UY{constructor(e){this._box=e,this._destroyed=new qt.x,this._resizeSubject=new qt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new nr.y(t=>{const n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Vn(t=>t.some(n=>n.target===e)),f0({bufferSize:1,refCount:!0}),ss(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let BY=(()=>{var r;class e{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,i){const o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new UY(o)),this._observers.get(o).observe(n)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),jY=(()=>{var r;class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),HY=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[jY]}),e})();const zY=["notch"],$Y=["matFormFieldNotchedOutline",""],GY=["*"],qY=["textField"],WY=["iconPrefixContainer"],ZY=["textPrefixContainer"];function KY(r,e){1&r&&d._UZ(0,"span",19)}function YY(r,e){if(1&r&&(d.TgZ(0,"label",17),d.Hsn(1,1),d.YNc(2,KY,1,0,"span",18),d.qZA()),2&r){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function QY(r,e){if(1&r&&d.YNc(0,YY,3,5,"label",16),2&r){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function XY(r,e){1&r&&d._UZ(0,"div",20)}function JY(r,e){}function eQ(r,e){if(1&r&&d.YNc(0,JY,0,0,"ng-template",22),2&r){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function tQ(r,e){if(1&r&&(d.TgZ(0,"div",21),d.YNc(1,eQ,1,1,"ng-template",9),d.qZA()),2&r){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(1),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function nQ(r,e){1&r&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function rQ(r,e){1&r&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function iQ(r,e){}function sQ(r,e){if(1&r&&d.YNc(0,iQ,0,0,"ng-template",22),2&r){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function oQ(r,e){1&r&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function aQ(r,e){1&r&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function lQ(r,e){1&r&&d._UZ(0,"div",29)}function cQ(r,e){if(1&r&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&r){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function uQ(r,e){if(1&r&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&r){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function dQ(r,e){if(1&r&&(d.TgZ(0,"div",31),d.YNc(1,uQ,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&r){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const hQ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fQ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let VA=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["mat-label"]]}),e})(),pQ=0;const T4=new d.OlP("MatError");let D4=(()=>{var r;class e{constructor(n,i){this.id="mat-mdc-error-"+pQ++,n||i.nativeElement.setAttribute("aria-live","polite")}}return(r=e).\u0275fac=function(n){return new(n||r)(d.$8M("aria-live"),d.Y36(d.SBq))},r.\u0275dir=d.lG2({type:r,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,i){2&n&&d.Ikx("id",i.id)},inputs:{id:"id"},features:[d._Bn([{provide:T4,useExisting:r}])]}),e})(),mQ=0,S4=(()=>{var r;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+mQ++}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,i){2&n&&(d.Ikx("id",i.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),e})();const gQ=new d.OlP("MatPrefix"),A4=new d.OlP("MatSuffix");let M4=(()=>{var r;class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[d._Bn([{provide:A4,useExisting:r}])]}),e})();const R4=new d.OlP("FloatingLabelParent");let k4=(()=>{var r;class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(BY),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(R4),this._resizeSubscription=new Xs.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function _Q(r){if(null!==r.offsetParent)return r.scrollWidth;const t=r.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const n=t.scrollWidth;return t.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq))},r.\u0275dir=d.lG2({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,i){2&n&&d.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const O4="mdc-line-ripple--active",UA="mdc-line-ripple--deactivating";let P4=(()=>{var r;class e{constructor(n,i){this._elementRef=n,this._handleTransitionEnd=o=>{const l=this._elementRef.nativeElement.classList,h=l.contains(UA);"opacity"===o.propertyName&&h&&l.remove(O4,UA)},i.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(UA),n.add(O4)}deactivate(){this._elementRef.nativeElement.classList.add(UA)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(d.R0b))},r.\u0275dir=d.lG2({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),N4=(()=>{var r;class e{constructor(n,i){this._elementRef=n,this._ngZone=i,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(d.R0b))},r.\u0275cmp=d.Xpm({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,i){if(1&n&&d.Gf(zY,5),2&n){let o;d.iGM(o=d.CRH())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,i){2&n&&d.ekj("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:$Y,ngContentSelectors:GY,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,i){1&n&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const vQ={transitionMessages:e4("transitionMessages",[$F("enter",Sp({opacity:1,transform:"translateY(0%)"})),GF("void => enter",[Sp({opacity:0,transform:"translateY(-5px)"}),zF("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let F4=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275dir=d.lG2({type:r}),e})();const L4=new d.OlP("MatFormField"),yQ=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let V4=0,j4=(()=>{var r;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=eu(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const i=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,i,o,l,h,p,g,w){this._elementRef=n,this._changeDetectorRef=i,this._ngZone=o,this._dir=l,this._platform=h,this._defaults=p,this._animationMode=g,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+V4++,this._hintLabelId="mat-mdc-hint-"+V4++,this._subscriptAnimationState="",this._destroyed=new qt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=!!p?.hideRequiredMarker,p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(ss(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,u0.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ss(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ss(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const i=this._control?this._control.ngControl:null;return i&&i[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+h}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(O$),d.Y36(hi),d.Y36(yQ,8),d.Y36(d.QbO,8),d.Y36(he))},r.\u0275cmp=d.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,i,o){if(1&n&&(d.Suo(o,VA,5),d.Suo(o,VA,7),d.Suo(o,F4,5),d.Suo(o,gQ,5),d.Suo(o,A4,5),d.Suo(o,T4,5),d.Suo(o,S4,5)),2&n){let l;d.iGM(l=d.CRH())&&(i._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(i._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(i._formFieldControl=l.first),d.iGM(l=d.CRH())&&(i._prefixChildren=l),d.iGM(l=d.CRH())&&(i._suffixChildren=l),d.iGM(l=d.CRH())&&(i._errorChildren=l),d.iGM(l=d.CRH())&&(i._hintChildren=l)}},viewQuery:function(n,i){if(1&n&&(d.Gf(qY,5),d.Gf(WY,5),d.Gf(ZY,5),d.Gf(k4,5),d.Gf(N4,5),d.Gf(P4,5)),2&n){let o;d.iGM(o=d.CRH())&&(i._textField=o.first),d.iGM(o=d.CRH())&&(i._iconPrefixContainer=o.first),d.iGM(o=d.CRH())&&(i._textPrefixContainer=o.first),d.iGM(o=d.CRH())&&(i._floatingLabel=o.first),d.iGM(o=d.CRH())&&(i._notchedOutline=o.first),d.iGM(o=d.CRH())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,i){2&n&&d.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:L4,useExisting:r},{provide:R4,useExisting:r}])],ngContentSelectors:fQ,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,i){1&n&&(d.F$t(hQ),d.YNc(0,QY,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(l){return i._control.onContainerClick(l)}),d.YNc(4,XY,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,tQ,2,2,"div",5),d.YNc(7,nQ,3,0,"div",6),d.YNc(8,rQ,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,sQ,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,oQ,2,0,"div",10),d.YNc(13,aQ,2,0,"div",11),d.qZA(),d.YNc(14,lQ,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,cQ,2,1,"div",14),d.YNc(17,dQ,5,2,"div",15),d.qZA()),2&n&&(d.xp6(2),d.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),d.xp6(2),d.Q6J("ngIf",i._hasOutline()),d.xp6(1),d.Q6J("ngIf",i._hasIconPrefix),d.xp6(1),d.Q6J("ngIf",i._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",i._hasTextSuffix),d.xp6(1),d.Q6J("ngIf",i._hasIconSuffix),d.xp6(1),d.Q6J("ngIf",!i._hasOutline()),d.xp6(1),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),d.Q6J("ngSwitch",i._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[Ko,Vp,Ll,Ji,S4,k4,N4,P4],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[vQ.transitionMessages]},changeDetection:0}),e})(),eL=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[$o,En,HY,$o]}),e})();const H4=kE({passive:!0});let EQ=(()=>{var r;class e{constructor(n,i){this._platform=n,this._ngZone=i,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Qs.E;const i=Gd(n),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new qt.x,h="cdk-text-field-autofilled",p=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(h)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(h)&&(i.classList.remove(h),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!1}))):(i.classList.add(h),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,H4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",p,H4)}}),l}stopMonitoring(n){const i=Gd(n),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(hi),d.LFG(d.R0b))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})(),IQ=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({}),e})();const xQ=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),CQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let TQ=0;const DQ=gK(class{constructor(r,e,t,n){this._defaultErrorStateMatcher=r,this._parentForm=e,this._parentFormGroup=t,this.ngControl=n,this.stateChanges=new qt.x}});let z4=(()=>{var r;class e extends DQ{get disabled(){return this._disabled}set disabled(n){this._disabled=eu(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ls.required)??!1}set required(n){this._required=eu(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&b$().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=eu(n)}constructor(n,i,o,l,h,p,g,w,x,S){super(p,l,h,o),this._elementRef=n,this._platform=i,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+TQ++,this.focused=!1,this.stateChanges=new qt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>b$().has(K)),this._iOSKeyupListener=K=>{const J=K.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,j=k.nodeName.toLowerCase();this._inputValueAccessor=g||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){CQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36(hi),d.Y36(_a,10),d.Y36(Xm,8),d.Y36(rg,8),d.Y36(vK),d.Y36(xQ,10),d.Y36(EQ),d.Y36(d.R0b),d.Y36(L4,8))},r.\u0275dir=d.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,i){1&n&&d.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&n&&(d.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),d.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),d.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:F4,useExisting:r}]),d.qOj,d.TTD]}),e})(),SQ=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[$o,eL,eL,IQ,$o]}),e})();class tL{}class nu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const i=t.slice(0,n),o=i.toLowerCase(),l=t.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===o.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class AQ{encodeKey(e){return $4(e)}encodeValue(e){return $4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RQ=/%(\d[a-f0-9])/gi,kQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $4(r){return encodeURIComponent(r).replace(RQ,(e,t)=>kQ[t]??e)}function BA(r){return`${r}`}class qd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new AQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MQ(r,e){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],p=t.get(l)||[];p.push(h),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t],i=Array.isArray(n)?n.map(BA):[BA(n)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(BA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const i=n.indexOf(BA(e.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OQ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function G4(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function q4(r){return typeof Blob<"u"&&r instanceof Blob}function W4(r){return typeof FormData<"u"&&r instanceof FormData}class VE{constructor(e,t,n,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function PQ(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new nu),this.context||(this.context=new OQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new qd,this.urlWithParams=t}serializeBody(){return null===this.body?null:G4(this.body)||q4(this.body)||W4(this.body)||function NQ(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||W4(this.body)?null:q4(this.body)?this.body.type||null:G4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,g=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((x,S)=>x.set(S,e.setHeaders[S]),p)),e.setParams&&(g=Object.keys(e.setParams).reduce((x,S)=>x.set(S,e.setParams[S]),g)),new VE(t,n,o,{params:g,headers:p,context:w,reportProgress:h,responseType:i,withCredentials:l})}}var rL=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(rL||{});class FQ{constructor(e,t=200,n="OK"){this.headers=e.headers||new nu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class UE extends FQ{constructor(e={}){super(e),this.type=rL.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new UE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function iL(r,e){return{body:e,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let sL=(()=>{var r;class e{constructor(n){this.handler=n}request(n,i,o={}){let l;if(n instanceof VE)l=n;else{let g,w;g=o.headers instanceof nu?o.headers:new nu(o.headers),o.params&&(w=o.params instanceof qd?o.params:new qd({fromObject:o.params})),l=new VE(n,i,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,at.of)(l).pipe(Wa(g=>this.handler.handle(g)));if(n instanceof VE||"events"===o.observe)return h;const p=h.pipe(Vn(g=>g instanceof UE));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Et.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe((0,Et.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe((0,Et.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe((0,Et.U)(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new qd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,iL(o,i))}post(n,i,o={}){return this.request("POST",n,iL(o,i))}put(n,i,o={}){return this.request("PUT",n,iL(o,i))}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(tL))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const nX=["*"];let zA;function BE(r){return function rX(){if(void 0===zA&&(zA=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(zA=r.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return zA}()?.createHTML(r)||r}function r6(r){return Error(`Unable to find icon with the name "${r}"`)}function i6(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function s6(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Rp{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let $A=(()=>{var r;class e{constructor(n,i,o,l){this._httpClient=n,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,i,o){return this.addSvgIconInNamespace("",n,i,o)}addSvgIconLiteral(n,i,o){return this.addSvgIconLiteralInNamespace("",n,i,o)}addSvgIconInNamespace(n,i,o,l){return this._addSvgIconConfig(n,i,new Rp(o,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,o,l){const h=this._sanitizer.sanitize(d.q3G.HTML,o);if(!h)throw s6(o);const p=BE(h);return this._addSvgIconConfig(n,i,new Rp("",p,l))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,o){return this._addSvgIconSetConfig(n,new Rp(i,null,o))}addSvgIconSetLiteralInNamespace(n,i,o){const l=this._sanitizer.sanitize(d.q3G.HTML,i);if(!l)throw s6(i);const h=BE(l);return this._addSvgIconSetConfig(n,new Rp("",h,o))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,n);if(!i)throw i6(n);const o=this._cachedIconsByUrl.get(i);return o?(0,at.of)(GA(o)):this._loadSvgIconFromConfig(new Rp(n,null)).pipe(Sn(l=>this._cachedIconsByUrl.set(i,l)),(0,Et.U)(l=>GA(l)))}getNamedSvgIcon(n,i=""){const o=o6(i,n);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,n),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(i);return h?this._getSvgFromIconSetConfigs(n,h):$a(r6(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,at.of)(GA(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,Et.U)(i=>GA(i)))}_getSvgFromIconSetConfigs(n,i){const o=this._extractIconWithNameFromAnySet(n,i);return o?(0,at.of)(o):Lm(i.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Rs(p=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(w)),(0,at.of)(null)})))).pipe((0,Et.U)(()=>{const h=this._extractIconWithNameFromAnySet(n,i);if(!h)throw r6(n);return h}))}_extractIconWithNameFromAnySet(n,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(n)>-1){const h=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(h,n,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(Sn(i=>n.svgText=i),(0,Et.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,at.of)(null):this._fetchIcon(n).pipe(Sn(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,o){const l=n.querySelector(`[id="${i}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const p=this._svgElementFromString(BE("<svg></svg>"));return p.appendChild(h),this._setSvgAttributes(p,o)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const i=this._svgElementFromString(BE("<svg></svg>")),o=n.attributes;for(let l=0;l<o.length;l++){const{name:h,value:p}=o[l];"id"!==h&&i.setAttribute(h,p)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:o}=n,l=o?.withCredentials??!1;if(!this._httpClient)throw function iX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!h)throw i6(i);const p=this._inProgressUrlFetches.get(h);if(p)return p;const g=this._httpClient.get(h,{responseType:"text",withCredentials:l}).pipe((0,Et.U)(w=>BE(w)),rc(()=>this._inProgressUrlFetches.delete(h)),(0,h0.B)());return this._inProgressUrlFetches.set(h,g),g}_addSvgIconConfig(n,i,o){return this._svgIconConfigs.set(o6(n,i),o),this}_addSvgIconSetConfig(n,i){const o=this._iconSetConfigs.get(n);return o?o.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,n);if(l)return oX(l)?new Rp(l.url,null,l.options):new Rp(l,null)}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(sL,8),d.LFG(Ni),d.LFG(he,8),d.LFG(d.qLn))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),e})();function GA(r){return r.cloneNode(!0)}function o6(r,e){return r+":"+e}function oX(r){return!(!r.url||!r.options)}const aX=L$(class{constructor(r){this._elementRef=r}}),lX=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),cX=new d.OlP("mat-icon-location",{providedIn:"root",factory:function uX(){const r=(0,d.f3M)(he),e=r?r.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),a6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dX=a6.map(r=>`[${r}]`).join(", "),hX=/^url\(['"]?#(.*?)['"]?\)$/;let l6=(()=>{var r;class e extends aX{get inline(){return this._inline}set inline(n){this._inline=eu(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,o,l,h,p){super(n),this._iconRegistry=i,this._location=l,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Xs.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=n.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),i.forEach(o=>n.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${n}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(dX),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)a6.forEach(h=>{const p=i[l],g=p.getAttribute(h),w=g?g.match(hX):null;if(w){let x=o.get(p);x||(x=[],o.set(p,x)),x.push({name:h,value:w[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,o]=this._splitIconName(n);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(ei(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(d.SBq),d.Y36($A),d.$8M("aria-hidden"),d.Y36(cX),d.Y36(d.qLn),d.Y36(lX,8))},r.\u0275cmp=d.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,i){2&n&&(d.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),d.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:nX,decls:1,vars:0,template:function(n,i){1&n&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),fX=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[$o,$o]}),e})();function pX(r,e){1&r&&(d.TgZ(0,"div",1),d._UZ(1,"div",2),d.TgZ(2,"p",3),d._uU(3,"Cargado..."),d.qZA()())}let c6=(()=>{var r;class e{constructor(){}ngOnInit(){}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner",class:"class"},decls:1,vars:1,consts:[["class","pl spinner-container",4,"ngIf"],[1,"pl","spinner-container"],[1,"square-7"],[1,"loading"]],template:function(n,i){1&n&&d.YNc(0,pX,4,0,"div",0),2&n&&d.Q6J("ngIf",i.showSpinner)},dependencies:[Ko],styles:[".spinner-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:99;background-color:#00000075}.square-7[_ngcontent-%COMP%]{width:55px;aspect-ratio:1;--g1:conic-gradient(from 90deg at 3px 3px ,#0000 90deg,#7c1ca4 0);--g2:conic-gradient(from -90deg at 22px 22px,#0000 90deg,#7c1ca4 0);background:var(--g1),var(--g1),var(--g1),var(--g2),var(--g2),var(--g2);background-size:25px 25px;background-repeat:no-repeat;animation:_ngcontent-%COMP%_s7 1.5s infinite;z-index:100}@keyframes _ngcontent-%COMP%_s7{0%{background-position:0 0,0 100%,100% 100%}25%{background-position:100% 0,0 100%,100% 100%}50%{background-position:100% 0,0 0,100% 100%}75%{background-position:100% 0,0 0,0 100%}to{background-position:100% 100%,0 0,0 100%}}.loading[_ngcontent-%COMP%]{padding-top:5px;color:#ccc}"]}),e})();function mX(r,e){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const t=d.oxw();d.xp6(1),d.Oqu(t.getErrorMessageEmail())}}function gX(r,e){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const t=d.oxw();d.xp6(1),d.Oqu(t.getErrorMessagePassword())}}let _X=(()=>{var r;class e{constructor(n,i,o,l){this.router=n,this.firebaseSvc=i,this.utilsSvc=o,this.snackBar=l,this.hide=!0,this.loading=!1,this.alert="",this.form=new wc({email:new Ar("",[ls.required,ls.email]),password:new Ar("",[ls.required,ls.minLength(6)])})}getErrorMessageEmail(){let n="";return this.form.controls.email.hasError("required")&&(n="Campo requerido"),this.form.controls.email.hasError("email")&&(n="Email no valido"),n}getErrorMessagePassword(){let n="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(n="Campo requerido"),n}submit(){var n=this;if(this.form.valid){var i;this.loading=!0;const o=new Date;o.toLocaleDateString(),o.toLocaleTimeString(),this.firebaseSvc.login(this.form.value).then(function(h){return(i=i||(0,F.Z)(function*(p){let g={uid:p.user.uid,name:p.user.displayName,email:p.user.email};n.firebaseSvc.saveLog(p.user.email),n.utilsSvc.setElementInLocalstorage("user",g),n.utilsSvc.routerLink("home"),n.router.navigate(["home"],{queryParams:g}),n.form.reset()})).apply(this,arguments)},h=>{this.loading=!1,"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===h.message&&(this.alert="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===h.message&&(this.alert="Usuario incorrecto vuelva a intentar");let p=this.snackBar.open(this.alert,"cerrar",{duration:3e3});p.onAction().subscribe(()=>{p.dismiss()})})}}getRegistrar(){this.router.navigate(["registro"])}getQuienSoy(){this.router.navigate(["quiensoy"])}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(Br),d.Y36(kF),d.Y36(OF),d.Y36(C4))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login"]],decls:32,vars:9,consts:[["src","../../../assets/signin_balls.png","alt","",1,"background"],[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form"],["appearance","outline",1,"focused"],[1,"label"],["matInput","","required","",1,"input",3,"formControl"],["matSuffix",""],[4,"ngIf"],["appearance","outline"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(n,i){1&n&&(d._UZ(0,"img",0)(1,"app-spinner",1),d.TgZ(2,"div",2),d._UZ(3,"img",3),d.TgZ(4,"h1",4),d._uU(5,"Bienvenido a la sala de juegos"),d.qZA(),d.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label",7),d._uU(9,"Ingresa tu email"),d.qZA(),d._UZ(10,"input",8),d.TgZ(11,"mat-icon",9),d._uU(12,"sentiment_very_satisfied"),d.qZA(),d.YNc(13,mX,2,1,"mat-error",10),d.qZA(),d.TgZ(14,"mat-form-field",11)(15,"mat-label",7),d._uU(16,"Ingresa tu contrase\xf1a"),d.qZA(),d._UZ(17,"input",12),d.TgZ(18,"button",13),d.NdJ("click",function(){return i.hide=!i.hide}),d.TgZ(19,"mat-icon"),d._uU(20),d.qZA()(),d.YNc(21,gX,2,1,"mat-error",10),d.qZA()(),d.TgZ(22,"a",14),d.NdJ("click",function(){return i.submit()}),d._uU(23,"Entrar"),d.qZA(),d.TgZ(24,"div",15)(25,"p",16),d._uU(26," No tenes cuenta? "),d.TgZ(27,"a",17),d.NdJ("click",function(){return i.getRegistrar()}),d._uU(28,"Registrate"),d.qZA()(),d.TgZ(29,"a",17),d.NdJ("click",function(){return i.getQuienSoy()}),d._uU(30,"Quien soy?"),d.qZA()()(),d._UZ(31,"router-outlet")),2&n&&(d.xp6(1),d.Q6J("showSpinner",i.loading),d.xp6(9),d.Q6J("formControl",i.form.controls.email),d.xp6(3),d.Q6J("ngIf",i.form.controls.email.invalid),d.xp6(4),d.Q6J("type",i.hide?"password":"text")("formControl",i.form.controls.password),d.xp6(1),d.uIk("aria-label","Hide password")("aria-pressed",i.hide),d.xp6(2),d.Oqu(i.hide?"visibility_off":"visibility"),d.xp6(1),d.Q6J("ngIf",i.form.controls.password.invalid))},dependencies:[Ko,Lu,Zh,gy,hf,j4,VA,D4,M4,z4,HF,Q$,l6,My,c6]}),e})(),vX=(()=>{var r;class e{constructor(n,i,o){this.router=n,this.firebaseSvc=i,this.utilsSvc=o}ngOnInit(){this.router.queryParams.subscribe(n=>{this.nameTitle=n.name})}logout(){var n=this;return(0,F.Z)(function*(){yield n.firebaseSvc.logout(),n.utilsSvc.routerLink("login")})()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(tl),d.Y36(kF),d.Y36(OF))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-home"]],inputs:{title:"title"},decls:27,vars:1,consts:[["src","../../../assets/signin_balls.png","alt",""],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form"],[1,"name","user-name"],[1,"container-games"],[1,"div1"],[1,"my-button"],["src","../../../assets/Buttons/horca.png","alt","",1,"image-icon"],[1,"div2"],["src","../../../assets/Buttons/deck-of-card.png","alt","",1,"image-icon"],[1,"div3"],["src","../../../assets/Buttons/pikachu.png","alt","",1,"image-icon"],[1,"div4"],["src","../../../assets/Buttons/carta-de-tarot.png","alt","",1,"image-icon"],[1,"my-button",3,"click"]],template:function(n,i){1&n&&(d._UZ(0,"img",0),d.TgZ(1,"div",1),d._UZ(2,"img",2),d.TgZ(3,"h1",3),d._uU(4,"Bienvenido"),d.qZA(),d.TgZ(5,"div",4)(6,"h2",5),d._uU(7),d.qZA()(),d.TgZ(8,"div",6)(9,"div",7)(10,"a",8),d._UZ(11,"img",9),d._uU(12,"Ahorcado"),d.qZA()(),d.TgZ(13,"div",10)(14,"a",8),d._UZ(15,"img",11),d._uU(16,"Mayor o menor"),d.qZA()(),d.TgZ(17,"div",12)(18,"a",8),d._UZ(19,"img",13),d._uU(20,"Preguntados"),d.qZA()(),d.TgZ(21,"div",14)(22,"a",8),d._UZ(23,"img",15),d._uU(24,"Extra game"),d.qZA()()(),d.TgZ(25,"a",16),d.NdJ("click",function(){return i.logout()}),d._uU(26,"Salir"),d.qZA()()),2&n&&(d.xp6(7),d.Oqu(i.nameTitle))},styles:[".image-icon[_ngcontent-%COMP%]{height:50px;padding-right:10px}.user-name[_ngcontent-%COMP%]{font-size:2.5em;font-weight:900;text-shadow:4px -3px 5px rgba(0,0,0,.6)}.container-games[_ngcontent-%COMP%]{margin-top:40px;display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(2,1fr);grid-column-gap:0px;grid-row-gap:25px}.div1[_ngcontent-%COMP%]{grid-area:1/1/2/4}.div2[_ngcontent-%COMP%]{grid-area:1/3/2/6}.div3[_ngcontent-%COMP%]{grid-area:2/1/4/4}.div4[_ngcontent-%COMP%]{grid-area:2/3/4/6}"]}),e})();function yX(r,e){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const t=d.oxw();d.xp6(1),d.Oqu(t.getErrorMessageName())}}function bX(r,e){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const t=d.oxw();d.xp6(1),d.Oqu(t.getErrorMessageEmail())}}function wX(r,e){if(1&r&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&r){const t=d.oxw();d.xp6(1),d.Oqu(t.getErrorMessagePassword())}}let EX=(()=>{var r;class e{constructor(n,i,o,l,h){this.router=n,this.firebaseSvc=i,this.utilsSvc=o,this.formBuilder=l,this.snackBar=h,this.hide=!0,this.nombre="",this.loading=!1,this.alert="",this.form=new wc({name:new Ar("",[ls.required,ls.minLength(3)]),email:new Ar("",[ls.required,ls.email]),password:new Ar("",[ls.required,ls.minLength(6)])})}getErrorMessageName(){let n="Debe tener al menos 3 caracteres";return this.form.controls.name.hasError("required")&&(n="Campo requerido"),n}getErrorMessageEmail(){let n="";return this.form.controls.email.hasError("required")&&(n="Campo requerido"),this.form.controls.email.hasError("email")&&(n="Email no valido"),console.log(this.form.controls.name.hasError),n}getErrorMessagePassword(){let n="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(n="Campo requerido"),n}submit(){var n=this;if(this.form.valid){var i;const o=this.nombre;this.loading=!0,this.firebaseSvc.signinUp(this.form.value).then(function(l){return(i=i||(0,F.Z)(function*(h){yield n.firebaseSvc.updateUser({displayName:o});let p={uid:h.user.uid,name:h.user.displayName,email:h.user.email};n.utilsSvc.setElementInLocalstorage("user",p),n.utilsSvc.routerLink("home"),n.router.navigate(["home"],{queryParams:p}),n.form.reset()})).apply(this,arguments)},l=>{this.loading=!1,"Firebase: The email address is already in use by another account. (auth/email-already-in-use)."===l.message&&(this.alert="Usuario ya registrado."),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===l.message&&(this.alert="Usuario incorrecto vuelva a intentar");let h=this.snackBar.open(this.alert,"cerrar",{duration:3e3,panelClass:["custom-style"]});h.onAction().subscribe(()=>{h.dismiss()})})}}getLogin(){this.utilsSvc.routerLink("login")}getQuienSoy(){this.utilsSvc.routerLink("quiensoy")}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(Br),d.Y36(kF),d.Y36(OF),d.Y36(Vy),d.Y36(C4))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-registro"]],decls:38,vars:13,consts:[["src","../../../assets/signin_balls.png","alt","",1,"background"],[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form",3,"formGroup","keyup.enter"],["appearance","outline"],[1,"label"],["matInput","","type","text","required","",1,"input",3,"ngModel","formControl","ngModelChange"],["matSuffix",""],[4,"ngIf"],["matInput","","required","",1,"input",3,"formControl"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(n,i){1&n&&(d._UZ(0,"img",0)(1,"app-spinner",1),d.TgZ(2,"div",2),d._UZ(3,"img",3),d.TgZ(4,"h1",4),d._uU(5,"Bienvenido a la sala de juegos"),d.qZA(),d.TgZ(6,"form",5),d.NdJ("keyup.enter",function(){return i.submit()}),d.TgZ(7,"mat-form-field",6)(8,"mat-label",7),d._uU(9,"Ingresa tu nombre"),d.qZA(),d.TgZ(10,"input",8),d.NdJ("ngModelChange",function(l){return i.nombre=l}),d.qZA(),d.TgZ(11,"mat-icon",9),d._uU(12,"sentiment_very_satisfied"),d.qZA(),d.YNc(13,yX,2,1,"mat-error",10),d.qZA(),d.TgZ(14,"mat-form-field",6)(15,"mat-label",7),d._uU(16,"Ingresa tu email"),d.qZA(),d._UZ(17,"input",11),d.TgZ(18,"mat-icon",9),d._uU(19,"sentiment_very_satisfied"),d.qZA(),d.YNc(20,bX,2,1,"mat-error",10),d.qZA(),d.TgZ(21,"mat-form-field",6)(22,"mat-label",7),d._uU(23,"Ingresa tu contrase\xf1a"),d.qZA(),d._UZ(24,"input",12),d.TgZ(25,"button",13),d.NdJ("click",function(){return i.hide=!i.hide}),d.TgZ(26,"mat-icon"),d._uU(27),d.qZA()(),d.YNc(28,wX,2,1,"mat-error",10),d.qZA()(),d.TgZ(29,"a",14),d.NdJ("click",function(){return i.submit()}),d._uU(30,"Registrarse"),d.qZA(),d.TgZ(31,"div",15)(32,"p",16),d._uU(33," Tenes cuenta? "),d.TgZ(34,"a",17),d.NdJ("click",function(){return i.getLogin()}),d._uU(35,"Entrar"),d.qZA()(),d.TgZ(36,"a",17),d.NdJ("click",function(){return i.getQuienSoy()}),d._uU(37,"Quien soy?"),d.qZA()()()),2&n&&(d.xp6(1),d.Q6J("showSpinner",i.loading),d.xp6(5),d.Q6J("formGroup",i.form),d.xp6(4),d.Q6J("ngModel",i.nombre)("formControl",i.form.controls.name),d.xp6(3),d.Q6J("ngIf",i.form.controls.name.invalid),d.xp6(4),d.Q6J("formControl",i.form.controls.email),d.xp6(3),d.Q6J("ngIf",i.form.controls.email.invalid),d.xp6(4),d.Q6J("type",i.hide?"password":"text")("formControl",i.form.controls.password),d.xp6(1),d.uIk("aria-label","Hide password")("aria-pressed",i.hide),d.xp6(2),d.Oqu(i.hide?"visibility_off":"visibility"),d.xp6(1),d.Q6J("ngIf",i.form.controls.password.invalid))},dependencies:[Ko,Sy,Zh,gy,lx,hf,j4,VA,D4,M4,z4,HF,Q$,l6,My,rg,c6],styles:[".container-form[_ngcontent-%COMP%]{position:absolute;top:3rem;bottom:0;left:0;right:0}mat-form-field[_ngcontent-%COMP%]{padding:8px}"]}),e})(),IX=(()=>{var r;class e{constructor(n){this.router=n}getRegistrar(){this.router.navigate(["registro"])}getLogin(){this.router.navigate(["login"])}}return(r=e).\u0275fac=function(n){return new(n||r)(d.Y36(Br))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-quien-soy"]],decls:38,vars:0,consts:[["src","../../../assets/signin_balls.png","alt",""],[1,"container-form"],[1,"title"],[1,"form"],[1,"text-name"],[1,"name"],[1,"container-img"],["src","../../../assets/perfil.png","alt","",1,"photo"],[1,"game"],[1,"card"],[1,"container-buttons"],[1,"div1"],["mat-raised-button","",1,"my-button",3,"click"],[1,"div2"]],template:function(n,i){1&n&&(d._UZ(0,"img",0),d.TgZ(1,"div",1)(2,"h1",2),d._uU(3,"Hello there!"),d.qZA(),d.TgZ(4,"div",3)(5,"h2",4),d._uU(6,"Mi nombre es "),d.TgZ(7,"span",5),d._uU(8,"Juan Sueldo "),d.qZA(),d._uU(9,"4B"),d.qZA(),d.TgZ(10,"div",6),d._UZ(11,"img",7),d.qZA(),d.TgZ(12,"h3",8),d._uU(13,"Juego Extra Reglas:"),d.qZA(),d.TgZ(14,"div",9)(15,"ul")(16,"li")(17,"p"),d._uU(18,"Cada jugador contara con 5 cartas elegidas de manera aleatoria"),d.qZA()(),d.TgZ(19,"li")(20,"p"),d._uU(21," Cada jugador cuenta con una barra de vida, El jugador que logre debilitar primero al oponente ganara la partida "),d.qZA()(),d.TgZ(22,"li")(23,"p"),d._uU(24,"El objetivo de debilitar al contricante mediante de utilizacion de las cartas que tiene en su poder"),d.qZA()(),d.TgZ(25,"li")(26,"p"),d._uU(27,"El jugador que logre debilitar primero al oponente ganara la partida"),d.qZA()(),d.TgZ(28,"li")(29,"p"),d._uU(30,"Si ambos jugadores se quedan sin cartas ganara el jugador que tenga mayor puntos de vida"),d.qZA()()()()(),d.TgZ(31,"div",10)(32,"div",11)(33,"a",12),d.NdJ("click",function(){return i.getLogin()}),d._uU(34,"Entrar"),d.qZA()(),d.TgZ(35,"div",13)(36,"a",12),d.NdJ("click",function(){return i.getRegistrar()}),d._uU(37,"Registrarse"),d.qZA()()()())},dependencies:[HF],styles:[".container-img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;border:1px solid #cccccc;background-color:#36081f}.photo[_ngcontent-%COMP%]{width:100%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-47%,-50%)}.text-name[_ngcontent-%COMP%], .game[_ngcontent-%COMP%]{color:#ccc;text-shadow:4px -3px 5px rgba(0,0,0,.6)}.container-form[_ngcontent-%COMP%]{position:absolute;inset:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}p[_ngcontent-%COMP%]{color:#ccc;font-size:1em}.container-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(1,1fr);grid-column-gap:0px;grid-row-gap:25px}.div1[_ngcontent-%COMP%]{grid-area:1/1/1/4}.div2[_ngcontent-%COMP%]{grid-area:1/3/1/6}"]}),e})(),xX=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-not-found"]],decls:7,vars:0,consts:[["src","../../../assets/signin_balls.png","alt",""],[1,"container-form"],[1,"title"],[1,"form"]],template:function(n,i){1&n&&(d._UZ(0,"img",0),d.TgZ(1,"div",1)(2,"h1",2),d._uU(3,"Hello there!"),d.qZA(),d.TgZ(4,"div",3)(5,"h2"),d._uU(6,"La ruta solicitada no existe"),d.qZA()()())}}),e})();const CX=[{name:"Esqueleto",damage:10,detail:"Atacar\xe1 al enemigo hasta la muerte xD",img:"/assets/craneo.png"},{name:"Adivina",damage:20,detail:"Adivina el futuro por eso sabe que vas a perder",img:"/assets/adivino.png"},{name:"Agua Sagrada",damage:35,detail:"Estas perdiendo? Restaura unos puntitos de vida",img:"/assets/pocion.png"},{name:"Esoterico",damage:25,detail:"No s\xe9 que es, pero te causa da\xf1o",img:"/assets/esoterico.png"},{name:"Espejo",damage:0,detail:"Espejo rebotin, rebotar\xe1 el da\xf1o recibido",img:"/assets/espejo.png"},{name:"Vudu",damage:30,detail:"-Causa mucho da\xf1o -Que bien! -Pero te descuenta 12 puntos -Que mal",img:"/assets/muneco-de-vudu.png"},{name:"Sol",damage:15,detail:"Sino usas protector solar, el sol puede ser un rival digno",img:"/assets/sol.png"},{name:"Mago",damage:20,detail:"Cl\xe1sico mago, no es Gandalf el blanco :(",img:"/assets/mago.png"},{name:"Veneno",damage:5,detail:"Si hay m\xe1gia hay veneno",img:"/assets/mortero.png"},{name:"Runas",damage:15,detail:"Runas elficas, hacen da\xf1o",img:"/assets/runas.png"},{name:"Hechizo",damage:20,detail:"No sos mago, tranqui, leete un hechizo",img:"/assets/libro-de-hechizos.png"},{name:"Fantasma",damage:10,detail:"Fantasma de la fuerza? No pero se acerca",img:"/assets/espiritu.png"}];let TX=(()=>{var r;class e{ngOnInit(){}onClick(n){}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-card"]],inputs:{index:"index",type:"type",img:"img",name:"name",detail:"detail",damage:"damage",animation:"animation"},decls:13,vars:5,consts:[[1,"card"],[1,"ribbon"],[3,"src"],[1,"card-name"],[1,"detail"],[1,"btn-circle"],[1,"damage"]],template:function(n,i){1&n&&(d.TgZ(0,"div",0)(1,"div",1)(2,"span"),d._uU(3),d.qZA()(),d._UZ(4,"img",2)(5,"hr"),d.TgZ(6,"p",3),d._uU(7),d.qZA(),d.TgZ(8,"p",4),d._uU(9),d.qZA(),d.TgZ(10,"span",5)(11,"p",6),d._uU(12),d.qZA()()()),2&n&&(d.xp6(3),d.Oqu(i.type),d.xp6(1),d.s9C("src",i.img,d.LSH),d.xp6(3),d.Oqu(i.name),d.xp6(2),d.Oqu(i.detail),d.xp6(3),d.Oqu(i.damage))},styles:['.move-center[_ngcontent-%COMP%]{transform:translate(180px) rotate(35deg);top:40%;left:43%;transform-origin:center center;z-index:99}.card[_ngcontent-%COMP%]{width:140px;height:220px;border:2px solid #333;border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer!important;background-color:#36081f;color:#ccc;transition:all .5s ease;box-shadow:10px 10px 5px #000000bf;border:4px solid #fff;position:relative}.card.move-center[_ngcontent-%COMP%]{position:fixed;transition:transform 3s ease-out,filter 3s ease-out}.card.move-center-player[_ngcontent-%COMP%]{transform:translate(180px) rotate(35deg);top:40%;left:43%;transform-origin:center center;z-index:99}img[_ngcontent-%COMP%]{height:70px;position:absolute;top:10px;filter:drop-shadow(0 2px 5px rgba(0,0,0,.7))}.card-name[_ngcontent-%COMP%]{margin-top:0;font-size:12px}.detail[_ngcontent-%COMP%]{text-align:center;font-size:8px}.btn-circle[_ngcontent-%COMP%]{width:30px;height:30px;padding:0;border-radius:50%;border:2px solid rgba(123,123,90,.797);text-align:center;font-size:12px;line-height:1.42857;position:absolute;bottom:-6px;right:-5px;background-color:#b32b30}.damage[_ngcontent-%COMP%]{padding-top:5px}.ribbon[_ngcontent-%COMP%]{position:absolute;right:-5px;top:-5px;z-index:1;overflow:hidden;width:75px;height:75px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;font-weight:700;color:#fff;text-transform:uppercase;text-align:center;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:100px;display:block;background:#79A70A;background:linear-gradient(#36813E 0%,#4CB557 100%);box-shadow:0 3px 10px -5px #000;position:absolute;top:19px;right:-21px}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:100%;z-index:-1;border-left:3px solid #4CB557;border-right:3px solid transparent;border-bottom:3px solid transparent;border-top:3px solid #4CB557}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:100%;z-index:-1;border-left:3px solid transparent;border-right:3px solid #4CB557;border-bottom:3px solid transparent;border-top:3px solid #4CB557}hr[_ngcontent-%COMP%]{position:relative;margin-top:60px;height:2px;width:60%;background-color:#000;border:none}.element[_ngcontent-%COMP%]{background:conic-gradient(from 180deg at 50% 50%,rgb(0,0,0) 0deg,rgba(255,255,255,.7) 17deg,rgb(0,0,0) 88deg,rgba(255,255,255,.7) 152deg,rgb(0,0,0) 225deg,rgba(255,255,255,.7) 289deg,rgb(0,0,0) 360deg),conic-gradient(from 180deg at 50% 50%,rgb(0,0,0) 0deg,rgb(255,255,255) 30deg,rgb(0,0,0) 96deg,rgb(255,255,255) 169deg,rgb(0,0,0) 229deg,rgb(255,255,255) 285deg,rgb(0,0,0) 360deg),radial-gradient(88% 127% at 13% 13%,rgb(248,110,251) 8%,rgb(115,66,255) 35%,rgb(66,232,255) 63%,rgb(66,255,107) 100%);background-blend-mode:screen,difference,normal}']}),e})();function DX(r,e){1&r&&(d.TgZ(0,"app-card"),d._uU(1,' [type]="this.list.name" [img]="item.img" [name]="item.name" [detail]="item.detail" [damage]="item.damage" '),d.qZA())}const SX=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:_X},{path:"home",component:vX},{path:"game",component:(()=>{var r;class e{constructor(){this.list=CX,this.eventName=new d.vpe,this.result="Esperando selecci\xf3n...",this.playerHP=10,this.cpuHP=100,this.hpBarPlayer="10",this.hpBarCpu="100",console.log(this.list)}ngOnInit(){}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-game-cards"]],inputs:{title:"title"},outputs:{eventName:"eventName"},decls:22,vars:10,consts:[[1,"container-game"],[1,"container-title"],["id","result-text",1,"retult-text"],[1,"container-players"],["id","player",1,"container-player"],[1,"player-name"],[1,"progress"],["id","hp-bar",1,"progress-bar"],["id","hp-number",1,"progress-bar-text"],["id","player-cards",1,"card-container"],[4,"ngFor","ngForOf"],["id","computer",1,"container-cpu"],[1,"cpu-name"],["id","hp-bar-cpu",1,"progress-bar","cpu-bar"],["id","hp-number-cpu",1,"progress-bar-text"],["id","computer-cards",1,"card-container"]],template:function(n,i){1&n&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p",2),d._uU(3),d.qZA()(),d.TgZ(4,"div",3)(5,"div",4)(6,"h2",5),d._uU(7,"Jugador"),d.qZA(),d.TgZ(8,"div",6)(9,"div",7)(10,"span",8),d._uU(11),d.qZA()()(),d.TgZ(12,"div",9),d.YNc(13,DX,2,0,"app-card",10),d.qZA()()(),d.TgZ(14,"div",11)(15,"h2",12),d._uU(16,"M\xe1quina"),d.qZA(),d.TgZ(17,"div",6)(18,"div",13)(19,"span",14),d._uU(20),d.qZA()()(),d._UZ(21,"div",15),d.qZA()()),2&n&&(d.xp6(3),d.Oqu(i.result),d.xp6(6),d.Jzz("width:'[",i.hpBarPlayer,"]%';"),d.xp6(2),d.hij("",i.playerHP,"HP"),d.xp6(2),d.Q6J("ngForOf",i.list),d.xp6(5),d.Jzz("width:'",i.hpBarCpu,"%';"),d.xp6(2),d.hij("",i.cpuHP,"HP"))},dependencies:[Zo,TX],styles:['@charset "UTF-8";.container-title[_ngcontent-%COMP%]{background:rgba(255,255,255,.656);border-radius:16px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(3.5px);-webkit-backdrop-filter:blur(3.5px);border:1px solid rgba(0,0,0,.01)}.title-game[_ngcontent-%COMP%]{color:#7c1ca4;text-shadow:4px 0px 4px rgba(185,168,168,.733)}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:10px;position:relative}.player-name[_ngcontent-%COMP%]{color:#428bca}.cpu-name[_ngcontent-%COMP%]{color:#42ca59}#result-text[_ngcontent-%COMP%]{font-size:18px;margin:10px;color:#36081f;font-weight:700;text-shadow:4px 0px 4px rgba(0,0,0,.849)}#play-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;cursor:po inter}.progress[_ngcontent-%COMP%]{height:35px;border:1px solid #428bca;border-radius:5px;background-color:#e6f3fa;text-align:center;margin:20px auto;width:50%;box-shadow:10px 10px 5px #000000bf}.progress-bar[_ngcontent-%COMP%]{height:100%;background:#42ca59;display:flex;align-items:center;border-radius:5px;transition:width 1.5s ease-in-out}.cpu-bar[_ngcontent-%COMP%]{background-color:#b32b30}.progress-bar-text[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#cce7f5}']}),e})()},{path:"registro",component:EX},{path:"quiensoy",component:IX},{path:"**",component:xX}];let AX=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[ly.forRoot(SX),ly]}),e})(),MX=(()=>{var r;class e{constructor(){this.title="tp1_saladejuegos"}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&d._UZ(0,"router-outlet")},dependencies:[Lu]}),e})();function u6(r){return new d.vHH(3e3,!1)}function Zd(r){switch(r.length){case 0:return new FE;case 1:return r[0];default:return new n4(r)}}function d6(r,e,t=new Map,n=new Map){const i=[],o=[];let l=-1,h=null;if(e.forEach(p=>{const g=p.get("offset"),w=g==l,x=w&&h||new Map;p.forEach((S,k)=>{let j=k,K=S;if("offset"!==k)switch(j=r.normalizePropertyName(j,i),K){case"!":K=t.get(k);break;case tu:K=n.get(k);break;default:K=r.normalizeStyleValue(k,j,K,i)}x.set(j,K)}),w||o.push(x),h=x,l=g}),i.length)throw function JX(r){return new d.vHH(3502,!1)}();return o}function aL(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&lL(t,"start",r)));break;case"done":r.onDone(()=>n(t&&lL(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&lL(t,"destroy",r)))}}function lL(r,e,t){const o=cL(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),l=r._data;return null!=l&&(o._data=l),o}function cL(r,e,t,n,i="",o=0,l){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:o,disabled:!!l}}function uo(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function h6(r){const e=r.indexOf(":");return[r.substring(1,e),r.slice(e+1)]}const dJ=(()=>typeof document>"u"?null:document.documentElement)();function uL(r){const e=r.parentNode||r.host||null;return e===dJ?null:e}let kp=null,f6=!1;function p6(r,e){for(;e;){if(e===r)return!0;e=uL(e)}return!1}function m6(r,e,t){if(t)return Array.from(r.querySelectorAll(e));const n=r.querySelector(e);return n?[n]:[]}let g6=(()=>{var r;class e{validateStyleProperty(n){return function fJ(r){kp||(kp=function pJ(){return typeof document<"u"?document.body:null}()||{},f6=!!kp.style&&"WebkitAppearance"in kp.style);let e=!0;return kp.style&&!function hJ(r){return"ebkit"==r.substring(1,6)}(r)&&(e=r in kp.style,!e&&f6&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in kp.style)),e}(n)}matchesElement(n,i){return!1}containsElement(n,i){return p6(n,i)}getParentElement(n){return uL(n)}query(n,i,o){return m6(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,l,h,p=[],g){return new FE(o,l)}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})(),dL=(()=>{class e{}return e.NOOP=new g6,e})();const mJ=1e3,hL="ng-enter",qA="ng-leave",WA="ng-trigger",ZA=".ng-trigger",v6="ng-animating",fL=".ng-animating";function ru(r){if("number"==typeof r)return r;const e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pL(parseFloat(e[1]),e[2])}function pL(r,e){return"s"===e?r*mJ:r}function KA(r,e,t){return r.hasOwnProperty("duration")?r:function _J(r,e,t){let i,o=0,l="";if("string"==typeof r){const h=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(u6()),{duration:0,delay:0,easing:""};i=pL(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=pL(parseFloat(p),h[4]));const g=h[5];g&&(l=g)}else i=r;if(!t){let h=!1,p=e.length;i<0&&(e.push(function RX(){return new d.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function kX(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,u6())}return{duration:i,delay:o,easing:l}}(r,e,t)}function jE(r,e={}){return Object.keys(r).forEach(t=>{e[t]=r[t]}),e}function y6(r){const e=new Map;return Object.keys(r).forEach(t=>{e.set(t,r[t])}),e}function Kd(r,e=new Map,t){if(t)for(let[n,i]of t)e.set(n,i);for(let[n,i]of r)e.set(n,i);return e}function Rl(r,e,t){e.forEach((n,i)=>{const o=gL(i);t&&!t.has(i)&&t.set(i,r.style[o]),r.style[o]=n})}function Op(r,e){e.forEach((t,n)=>{const i=gL(n);r.style[i]=""})}function HE(r){return Array.isArray(r)?1==r.length?r[0]:t4(r):r}const mL=new RegExp("{{\\s*(.+?)\\s*}}","g");function w6(r){let e=[];if("string"==typeof r){let t;for(;t=mL.exec(r);)e.push(t[1]);mL.lastIndex=0}return e}function zE(r,e,t){const n=r.toString(),i=n.replace(mL,(o,l)=>{let h=e[l];return null==h&&(t.push(function PX(r){return new d.vHH(3003,!1)}()),h=""),h.toString()});return i==n?r:i}function YA(r){const e=[];let t=r.next();for(;!t.done;)e.push(t.value),t=r.next();return e}const bJ=/-+([a-z0-9])/g;function gL(r){return r.replace(bJ,(...e)=>e[1].toUpperCase())}function ho(r,e,t){switch(e.type){case 7:return r.visitTrigger(e,t);case 0:return r.visitState(e,t);case 1:return r.visitTransition(e,t);case 2:return r.visitSequence(e,t);case 3:return r.visitGroup(e,t);case 4:return r.visitAnimate(e,t);case 5:return r.visitKeyframes(e,t);case 6:return r.visitStyle(e,t);case 8:return r.visitReference(e,t);case 9:return r.visitAnimateChild(e,t);case 10:return r.visitAnimateRef(e,t);case 11:return r.visitQuery(e,t);case 12:return r.visitStagger(e,t);default:throw function NX(r){return new d.vHH(3004,!1)}()}}function E6(r,e){return window.getComputedStyle(r)[e]}const QA="*";function IJ(r,e){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function xJ(r,e,t){if(":"==r[0]){const p=function CJ(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function KX(r){return new d.vHH(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof p)return void e.push(p);r=p}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function ZX(r){return new d.vHH(3015,!1)}()),e;const i=n[1],o=n[2],l=n[3];e.push(I6(i,l));"<"==o[0]&&!(i==QA&&l==QA)&&e.push(I6(l,i))}(n,t,e)):t.push(r),t}const XA=new Set(["true","1"]),JA=new Set(["false","0"]);function I6(r,e){const t=XA.has(r)||JA.has(r),n=XA.has(e)||JA.has(e);return(i,o)=>{let l=r==QA||r==i,h=e==QA||e==o;return!l&&t&&"boolean"==typeof i&&(l=i?XA.has(r):JA.has(r)),!h&&n&&"boolean"==typeof o&&(h=o?XA.has(e):JA.has(e)),l&&h}}const TJ=new RegExp("s*:selfs*,?","g");function _L(r,e,t,n){return new DJ(r).build(e,t,n)}class DJ{constructor(e){this._driver=e}build(e,t,n){const i=new MJ(t);return this._resetContextStyleTimingState(i),ho(this,HE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function LX(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,t))}),p.name=g}else if(1==h.type){const p=this.visitTransition(h,t);n+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function VX(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,l=i||{};n.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{w6(p).forEach(g=>{l.hasOwnProperty(g)||o.add(g)})})}),o.size&&(YA(o.values()),t.errors.push(function UX(r,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=ho(this,HE(e.animation),t);return{type:1,matchers:IJ(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Pp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>ho(this,n,t)),options:Pp(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const o=e.steps.map(l=>{t.currentTime=n;const h=ho(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:Pp(e.options)}}visitAnimate(e,t){const n=function kJ(r,e){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return vL(KA(r,e).duration,0,"");const t=r;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=vL(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=KA(t,e);return vL(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let i,o=e.styles?e.styles:Sp({});if(5==o.type)i=this.visitKeyframes(o,t);else{let l=e.styles,h=!1;if(!l){h=!0;const g={};n.easing&&(g.easing=n.easing),l=Sp(g)}t.currentTime+=n.duration+n.delay;const p=this.visitStyle(l,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===tu?n.push(h):t.errors.push(new d.vHH(3002,!1)):n.push(y6(h));let o=!1,l=null;return n.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!o))for(let p of h.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const g=t.collectedStyles.get(t.currentQuerySelector),w=g.get(p);let x=!0;w&&(o!=i&&o>=w.startTime&&i<=w.endTime&&(t.errors.push(function jX(r,e,t,n,i){return new d.vHH(3010,!1)}()),x=!1),o=w.startTime),x&&g.set(p,{startTime:o,endTime:i}),t.options&&function yJ(r,e,t){const n=e.params||{},i=w6(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||t.push(function OX(r){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function HX(){return new d.vHH(3011,!1)}()),n;let o=0;const l=[];let h=!1,p=!1,g=0;const w=e.steps.map(le=>{const Pe=this._makeStyleAst(le,t);let Se=null!=Pe.offset?Pe.offset:function RJ(r){if("string"==typeof r)return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Pe.styles),Ne=0;return null!=Se&&(o++,Ne=Pe.offset=Se),p=p||Ne<0||Ne>1,h=h||Ne<g,g=Ne,l.push(Ne),Pe});p&&t.errors.push(function zX(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function $X(){return new d.vHH(3200,!1)}());const x=e.steps.length;let S=0;o>0&&o<x?t.errors.push(function GX(){return new d.vHH(3202,!1)}()):0==o&&(S=1/(x-1));const k=x-1,j=t.currentTime,K=t.currentAnimateTimings,J=K.duration;return w.forEach((le,Pe)=>{const Se=S>0?Pe==k?1:S*Pe:l[Pe],Ne=Se*J;t.currentTime=j+K.delay+Ne,K.duration=Ne,this._validateStyleAst(le,t),le.offset=Se,n.styles.push(le)}),n}visitReference(e,t){return{type:8,animation:ho(this,HE(e.animation),t),options:Pp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Pp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Pp(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,l]=function SJ(r){const e=!!r.split(/\s*,\s*/).find(t=>":self"==t);return e&&(r=r.replace(TJ,"")),r=r.replace(/@\*/g,ZA).replace(/@\w+/g,t=>ZA+"-"+t.slice(1)).replace(/:animating/g,fL),[r,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,uo(t.collectedStyles,t.currentQuerySelector,new Map);const h=ho(this,HE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Pp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qX(){return new d.vHH(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:KA(e.timings,t.errors,!0);return{type:12,animation:ho(this,HE(e.animation),t),timings:n,options:null}}}class MJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pp(r){return r?(r=jE(r)).params&&(r.params=function AJ(r){return r?jE(r):null}(r.params)):r={},r}function vL(r,e,t){return{duration:r,delay:e,easing:t}}function yL(r,e,t,n,i,o,l=null,h=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:h}}class eM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const NJ=new RegExp(":enter","g"),LJ=new RegExp(":leave","g");function bL(r,e,t,n,i,o=new Map,l=new Map,h,p,g=[]){return(new VJ).buildKeyframes(r,e,t,n,i,o,l,h,p,g)}class VJ{buildKeyframes(e,t,n,i,o,l,h,p,g,w=[]){g=g||new eM;const x=new wL(e,t,g,i,o,w,[]);x.options=p;const S=p.delay?ru(p.delay):0;x.currentTimeline.delayNextStep(S),x.currentTimeline.setStyles([l],null,x.errors,p),ho(this,n,x);const k=x.timelines.filter(j=>j.containsAnimation());if(k.length&&h.size){let j;for(let K=k.length-1;K>=0;K--){const J=k[K];if(J.element===t){j=J;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,x.errors,p)}return k.length?k.map(j=>j.buildKeyframes()):[yL(t,[],[],[],0,S,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const i of e){const o=i?.delay;if(o){const l="number"==typeof o?o:ru(zE(o,i?.params??{},t.errors));n.delayNextStep(l)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime;const l=null!=n.duration?ru(n.duration):null,h=null!=n.delay?ru(n.delay):null;return 0!==l&&e.forEach(p=>{const g=t.appendInstructionToTimeline(p,l,h);o=Math.max(o,g.duration+g.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tM);const l=ru(o.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ho(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ru(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),ho(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),n.push(h.currentTimeline)}),n.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return KA(t.params?zE(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,h=t.createSubContext().currentTimeline;h.easing=n.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ru(i.delay):0;o&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tM);let l=n;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((g,w)=>{t.currentQueryIndex=w;const x=t.createSubContext(e.options,g);o&&x.delayNextStep(o),g===t.element&&(p=x.currentTimeline),ho(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,o=e.timings,l=Math.abs(o.duration),h=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=n.currentStaggerTime}const w=t.currentTimeline;p&&w.delayNextStep(p);const x=w.currentTime;ho(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-x+(i.startTime-n.currentTimeline.startTime)}}const tM={};class wL{constructor(e,t,n,i,o,l,h,p){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new nM(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=ru(n.duration)),null!=n.delay&&(i.delay=ru(n.delay));const o=n.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=zE(o[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,o=new wL(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=tM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new UJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(NJ,"."+this._enterClassName)).replace(LJ,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=n);0!==n&&(g=n<0?g.slice(g.length+n,g.length):g.slice(0,n)),h.push(...g)}return!o&&0==h.length&&l.push(function WX(r){return new d.vHH(3014,!1)}()),h}}class nM{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||tu),this._currentKeyframe.set(t,tu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},l=function BJ(r,e){const t=new Map;let n;return r.forEach(i=>{if("*"===i){n=n||e.keys();for(let o of n)t.set(o,tu)}else Kd(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of l){const g=zE(p,o,n);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??tu),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const g=Kd(h,new Map,this._backFill);g.forEach((w,x)=>{"!"===w?e.add(x):w===tu&&t.add(x)}),n||g.set("offset",p/this.duration),i.push(g)});const o=e.size?YA(e.values()):[],l=t.size?YA(t.values()):[];if(n){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return yL(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class UJ extends nM{constructor(e,t,n,i,o,l,h=!1){super(e,t,l.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=n+t,h=t/l,p=Kd(e[0]);p.set("offset",0),o.push(p);const g=Kd(e[0]);g.set("offset",T6(h)),o.push(g);const w=e.length-1;for(let x=1;x<=w;x++){let S=Kd(e[x]);const k=S.get("offset");S.set("offset",T6((t+k*n)/l)),o.push(S)}n=l,t=0,i="",e=o}return yL(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function T6(r,e=3){const t=Math.pow(10,e-1);return Math.round(r*t)/t}class EL{}const jJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class HJ extends EL{normalizePropertyName(e,t){return gL(e)}normalizeStyleValue(e,t,n,i){let o="";const l=n.toString().trim();if(jJ.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const h=n.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function FX(r,e){return new d.vHH(3005,!1)}())}return l+o}}function D6(r,e,t,n,i,o,l,h,p,g,w,x,S){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:n,toStyles:l,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:w,totalTime:x,errors:S}}const IL={};class S6{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function zJ(r,e,t,n,i){return r.some(o=>o(e,t,n,i))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,o,l,h,p,g,w){const x=[],S=this.ast.options&&this.ast.options.params||IL,j=this.buildStyles(n,h&&h.params||IL,x),K=p&&p.params||IL,J=this.buildStyles(i,K,x),le=new Set,Pe=new Map,Se=new Map,Ne="void"===i,ot={params:$J(K,S),delay:this.ast.options?.delay},St=w?[]:bL(e,t,this.ast.animation,o,l,j,J,ot,g,x);let Kt=0;if(St.forEach(Xn=>{Kt=Math.max(Xn.duration+Xn.delay,Kt)}),x.length)return D6(t,this._triggerName,n,i,Ne,j,J,[],[],Pe,Se,Kt,x);St.forEach(Xn=>{const fo=Xn.element,GE=uo(Pe,fo,new Set);Xn.preStyleProps.forEach(iu=>GE.add(iu));const kl=uo(Se,fo,new Set);Xn.postStyleProps.forEach(iu=>kl.add(iu)),fo!==t&&le.add(fo)});const Qn=YA(le.values());return D6(t,this._triggerName,n,i,Ne,j,J,St,Qn,Pe,Se,Kt)}}function $J(r,e){const t=jE(e);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(t[n]=r[n]);return t}class GJ{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,i=jE(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,h)=>{l&&(l=zE(l,i,t));const p=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,p,l,t),n.set(h,l)})}),n}}class WJ{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new GJ(i.style,i.options&&i.options.params||{},n))}),A6(this.states,"true","1"),A6(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new S6(e,i,this.states))}),this.fallbackTransition=function ZJ(r,e,t){return new S6(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(l=>l.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function A6(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}const KJ=new eM;class YJ{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],o=_L(this._driver,t,n,[]);if(n.length)throw function eJ(r){return new d.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,n){const i=e.element,o=d6(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],o=this._animations.get(e);let l;const h=new Map;if(o?(l=bL(this._driver,t,o,hL,qA,new Map,new Map,n,KJ,i),l.forEach(w=>{const x=uo(h,w.element,new Map);w.postStyleProps.forEach(S=>x.set(S,null))})):(i.push(function tJ(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function nJ(r){return new d.vHH(3504,!1)}();h.forEach((w,x)=>{w.forEach((S,k)=>{w.set(k,this._driver.computeStyle(x,k,tu))})});const g=Zd(l.map(w=>{const x=h.get(w.element);return this._buildPlayer(w,new Map,x)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function rJ(r){return new d.vHH(3301,!1)}();return t}listen(e,t,n,i){const o=cL(t,"","","");return aL(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const M6="ng-animate-queued",xL="ng-animate-disabled",tee=[],R6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Da="__ng_removed";class CL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function oee(r){return r??null}(n?e.value:e),n){const o=jE(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(i=>{null==n[i]&&(n[i]=t[i])})}}}const $E="void",TL=new CL($E);class ree{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Go(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw function iJ(r,e){return new d.vHH(3302,!1)}();if(null==n||0==n.length)throw function sJ(r){return new d.vHH(3303,!1)}();if(!function aee(r){return"start"==r||"done"==r}(n))throw function oJ(r,e){return new d.vHH(3400,!1)}();const o=uo(this._elementListeners,e,[]),l={name:t,phase:n,callback:i};o.push(l);const h=uo(this._engine.statesByElement,e,new Map);return h.has(t)||(Go(e,WA),Go(e,WA+"-"+t),h.set(t,TL)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(l);p>=0&&o.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function aJ(r){return new d.vHH(3401,!1)}();return t}trigger(e,t,n,i=!0){const o=this._getTrigger(t),l=new DL(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Go(e,WA),Go(e,WA+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const g=new CL(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(t,g),p||(p=TL),g.value!==$E&&p.value===g.value){if(!function uee(r,e){const t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||r[o]!==e[o])return!1}return!0}(p.params,g.params)){const K=[],J=o.matchStyles(p.value,p.params,K),le=o.matchStyles(g.value,g.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{Op(e,J),Rl(e,le)})}return}const S=uo(this._engine.playersByElement,e,[]);S.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let k=o.matchTransition(p.value,g.value,e,g.params),j=!1;if(!k){if(!i)return;k=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:p,toState:g,player:l,isFallbackTransition:j}),j||(Go(e,M6),l.onStart(()=>{X_(e,M6)})),l.onDone(()=>{let K=this.players.indexOf(l);K>=0&&this.players.splice(K,1);const J=this._engine.playersByElement.get(e);if(J){let le=J.indexOf(l);le>=0&&J.splice(le,1)}}),this.players.push(l),S.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,ZA,!0);n.forEach(i=>{if(i[Da])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const h=[];if(o.forEach((p,g)=>{if(l.set(g,p.value),this._triggers.has(g)){const w=this.trigger(e,g,$E,i);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),n&&Zd(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const i=new Set;t.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,g=n.get(l)||TL,w=new CL($E),x=new DL(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:g,toState:w,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(n.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Da];(!o||o===R6)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Go(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,l=this._elementListeners.get(o);l&&l.forEach(h=>{if(h.name==n.triggerName){const p=cL(o,n.triggerName,n.fromState.value,n.toState.value);p._data=e,aL(n.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{const o=n.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class iee{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new ree(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const g=n.indexOf(p);n.splice(g+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,n,i){if(rM(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!rM(t))return;const o=t[Da];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Go(e,xL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),X_(e,xL))}removeNode(e,t,n){if(rM(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,o){this.collectedLeaveElements.push(t),t[Da]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,i,o){return rM(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ZA,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fL,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Da];if(t&&t.setForRemoval){if(e[Da]=R6,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Go(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Zd(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function lJ(r){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const n=new eM,i=[],o=new Map,l=[],h=new Map,p=new Map,g=new Map,w=new Set;this.disabledNodes.forEach(ht=>{w.add(ht);const Ct=this.driver.query(ht,".ng-animate-queued",!0);for(let kt=0;kt<Ct.length;kt++)w.add(Ct[kt])});const x=this.bodyNode,S=Array.from(this.statesByElement.keys()),k=P6(S,this.collectedEnterElements),j=new Map;let K=0;k.forEach((ht,Ct)=>{const kt=hL+K++;j.set(Ct,kt),ht.forEach(hn=>Go(hn,kt))});const J=[],le=new Set,Pe=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const Ct=this.collectedLeaveElements[ht],kt=Ct[Da];kt&&kt.setForRemoval&&(J.push(Ct),le.add(Ct),kt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(hn=>le.add(hn)):Pe.add(Ct))}const Se=new Map,Ne=P6(S,Array.from(le));Ne.forEach((ht,Ct)=>{const kt=qA+K++;Se.set(Ct,kt),ht.forEach(hn=>Go(hn,kt))}),e.push(()=>{k.forEach((ht,Ct)=>{const kt=j.get(Ct);ht.forEach(hn=>X_(hn,kt))}),Ne.forEach((ht,Ct)=>{const kt=Se.get(Ct);ht.forEach(hn=>X_(hn,kt))}),J.forEach(ht=>{this.processLeaveNode(ht)})});const ot=[],St=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(t).forEach(kt=>{const hn=kt.player,fi=kt.element;if(ot.push(hn),this.collectedEnterElements.length){const Ki=fi[Da];if(Ki&&Ki.setForMove){if(Ki.previousTriggersValues&&Ki.previousTriggersValues.has(kt.triggerName)){const Np=Ki.previousTriggersValues.get(kt.triggerName),qo=this.statesByElement.get(kt.element);if(qo&&qo.has(kt.triggerName)){const aM=qo.get(kt.triggerName);aM.value=Np,qo.set(kt.triggerName,aM)}}return void hn.destroy()}}const Ol=!x||!this.driver.containsElement(x,fi),po=Se.get(fi),Yd=j.get(fi),ir=this._buildInstruction(kt,n,Yd,po,Ol);if(ir.errors&&ir.errors.length)return void St.push(ir);if(Ol)return hn.onStart(()=>Op(fi,ir.fromStyles)),hn.onDestroy(()=>Rl(fi,ir.toStyles)),void i.push(hn);if(kt.isFallbackTransition)return hn.onStart(()=>Op(fi,ir.fromStyles)),hn.onDestroy(()=>Rl(fi,ir.toStyles)),void i.push(hn);const W6=[];ir.timelines.forEach(Ki=>{Ki.stretchStartingKeyframe=!0,this.disabledNodes.has(Ki.element)||W6.push(Ki)}),ir.timelines=W6,n.append(fi,ir.timelines),l.push({instruction:ir,player:hn,element:fi}),ir.queriedElements.forEach(Ki=>uo(h,Ki,[]).push(hn)),ir.preStyleProps.forEach((Ki,Np)=>{if(Ki.size){let qo=p.get(Np);qo||p.set(Np,qo=new Set),Ki.forEach((aM,PL)=>qo.add(PL))}}),ir.postStyleProps.forEach((Ki,Np)=>{let qo=g.get(Np);qo||g.set(Np,qo=new Set),Ki.forEach((aM,PL)=>qo.add(PL))})});if(St.length){const ht=[];St.forEach(Ct=>{ht.push(function cJ(r,e){return new d.vHH(3505,!1)}())}),ot.forEach(Ct=>Ct.destroy()),this.reportError(ht)}const Kt=new Map,Qn=new Map;l.forEach(ht=>{const Ct=ht.element;n.has(Ct)&&(Qn.set(Ct,Ct),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,Kt))}),i.forEach(ht=>{const Ct=ht.element;this._getPreviousPlayers(Ct,!1,ht.namespaceId,ht.triggerName,null).forEach(hn=>{uo(Kt,Ct,[]).push(hn),hn.destroy()})});const Xn=J.filter(ht=>F6(ht,p,g)),fo=new Map;O6(fo,this.driver,Pe,g,tu).forEach(ht=>{F6(ht,p,g)&&Xn.push(ht)});const kl=new Map;k.forEach((ht,Ct)=>{O6(kl,this.driver,new Set(ht),p,"!")}),Xn.forEach(ht=>{const Ct=fo.get(ht),kt=kl.get(ht);fo.set(ht,new Map([...Ct?.entries()??[],...kt?.entries()??[]]))});const iu=[],qE=[],oM={};l.forEach(ht=>{const{element:Ct,player:kt,instruction:hn}=ht;if(n.has(Ct)){if(w.has(Ct))return kt.onDestroy(()=>Rl(Ct,hn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(hn.totalTime),void i.push(kt);let fi=oM;if(Qn.size>1){let po=Ct;const Yd=[];for(;po=po.parentNode;){const ir=Qn.get(po);if(ir){fi=ir;break}Yd.push(po)}Yd.forEach(ir=>Qn.set(ir,fi))}const Ol=this._buildAnimation(kt.namespaceId,hn,Kt,o,kl,fo);if(kt.setRealPlayer(Ol),fi===oM)iu.push(kt);else{const po=this.playersByElement.get(fi);po&&po.length&&(kt.parentPlayer=Zd(po)),i.push(kt)}}else Op(Ct,hn.fromStyles),kt.onDestroy(()=>Rl(Ct,hn.toStyles)),qE.push(kt),w.has(Ct)&&i.push(kt)}),qE.forEach(ht=>{const Ct=o.get(ht.element);if(Ct&&Ct.length){const kt=Zd(Ct);ht.setRealPlayer(kt)}}),i.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<J.length;ht++){const Ct=J[ht],kt=Ct[Da];if(X_(Ct,qA),kt&&kt.hasAnimation)continue;let hn=[];if(h.size){let Ol=h.get(Ct);Ol&&Ol.length&&hn.push(...Ol);let po=this.driver.query(Ct,fL,!0);for(let Yd=0;Yd<po.length;Yd++){let ir=h.get(po[Yd]);ir&&ir.length&&hn.push(...ir)}}const fi=hn.filter(Ol=>!Ol.destroyed);fi.length?lee(this,Ct,fi):this.processLeaveNode(Ct)}return J.length=0,iu.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const Ct=this.players.indexOf(ht);this.players.splice(Ct,1)}),ht.play()}),iu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==$E;h.forEach(g=>{g.queued||!p&&g.triggerName!=i||l.push(g)})}}return(n||i)&&(l=l.filter(h=>!(n&&n!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,n){const o=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const g=p.element,w=g!==o,x=uo(n,g,[]);this._getPreviousPlayers(g,w,l,h,t.toState).forEach(k=>{const j=k.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),k.destroy(),x.push(k)})}Op(o,t.fromStyles)}_buildAnimation(e,t,n,i,o,l){const h=t.triggerName,p=t.element,g=[],w=new Set,x=new Set,S=t.timelines.map(j=>{const K=j.element;w.add(K);const J=K[Da];if(J&&J.removedBeforeQueried)return new FE(j.duration,j.delay);const le=K!==p,Pe=function cee(r){const e=[];return N6(r,e),e}((n.get(K)||tee).map(Kt=>Kt.getRealPlayer())).filter(Kt=>!!Kt.element&&Kt.element===K),Se=o.get(K),Ne=l.get(K),ot=d6(this._normalizer,j.keyframes,Se,Ne),St=this._buildPlayer(j,ot,Pe);if(j.subTimeline&&i&&x.add(K),le){const Kt=new DL(e,h,K);Kt.setRealPlayer(St),g.push(Kt)}return St});g.forEach(j=>{uo(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function see(r,e,t){let n=r.get(e);if(n){if(n.length){const i=n.indexOf(t);n.splice(i,1)}0==n.length&&r.delete(e)}return n}(this.playersByQueriedElement,j.element,j))}),w.forEach(j=>Go(j,v6));const k=Zd(S);return k.onDestroy(()=>{w.forEach(j=>X_(j,v6)),Rl(p,t.toStyles)}),x.forEach(j=>{uo(i,j,[]).push(k)}),k}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new FE(e.duration,e.delay)}}class DL{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new FE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>aL(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rM(r){return r&&1===r.nodeType}function k6(r,e){const t=r.style.display;return r.style.display=e??"none",t}function O6(r,e,t,n,i){const o=[];t.forEach(p=>o.push(k6(p)));const l=[];n.forEach((p,g)=>{const w=new Map;p.forEach(x=>{const S=e.computeStyle(g,x,i);w.set(x,S),(!S||0==S.length)&&(g[Da]=nee,l.push(g))}),r.set(g,w)});let h=0;return t.forEach(p=>k6(p,o[h++])),l}function P6(r,e){const t=new Map;if(r.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function l(h){if(!h)return 1;let p=o.get(h);if(p)return p;const g=h.parentNode;return p=t.has(g)?g:i.has(g)?1:l(g),o.set(h,p),p}return e.forEach(h=>{const p=l(h);1!==p&&t.get(p).push(h)}),t}function Go(r,e){r.classList?.add(e)}function X_(r,e){r.classList?.remove(e)}function lee(r,e,t){Zd(t).onDone(()=>r.processLeaveNode(e))}function N6(r,e){for(let t=0;t<r.length;t++){const n=r[t];n instanceof n4?N6(n.players,e):e.push(n)}}function F6(r,e,t){const n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(o=>i.add(o)):e.set(r,n),t.delete(r),!0}class iM{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new iee(e,t,n),this._timelineEngine=new YJ(e,t,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,n,i,o){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const p=[],w=_L(this._driver,o,p,[]);if(p.length)throw function XX(r,e){return new d.vHH(3404,!1)}();h=function qJ(r,e,t){return new WJ(r,e,t)}(i,w,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[o,l]=h6(n);this._timelineEngine.command(o,t,l,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if("@"==n.charAt(0)){const[l,h]=h6(n);return this._timelineEngine.listen(l,t,h,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let hee=(()=>{class e{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let l=e.initialStylesByElement.get(n);l||e.initialStylesByElement.set(n,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Rl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rl(this._element,this._initialStyles),this._endStyles&&(Rl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Op(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Op(this._element,this._endStyles),this._endStyles=null),Rl(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function SL(r){let e=null;return r.forEach((t,n)=>{(function fee(r){return"display"===r||"position"===r})(n)&&(e=e||new Map,e.set(n,t))}),e}class L6{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&e.set(i,this._finished?n:E6(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class pee{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return p6(e,t)}getParentElement(e){return uL(e)}query(e,t,n){return m6(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,i,o,l=[]){const p={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(p.easing=o);const g=new Map,w=l.filter(k=>k instanceof L6);(function wJ(r,e){return 0===r||0===e})(n,i)&&w.forEach(k=>{k.currentSnapshot.forEach((j,K)=>g.set(K,j))});let x=function vJ(r){return r.length?r[0]instanceof Map?r:r.map(e=>y6(e)):[]}(t).map(k=>Kd(k));x=function EJ(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((o,l)=>{n.has(l)||i.push(l),n.set(l,o)}),i.length)for(let o=1;o<e.length;o++){let l=e[o];i.forEach(h=>l.set(h,E6(r,h)))}}return e}(e,x,g);const S=function dee(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=SL(e[0]),e.length>1&&(n=SL(e[e.length-1]))):e instanceof Map&&(t=SL(e)),t||n?new hee(r,t,n):null}(e,x);return new L6(e,x,p,S)}}let mee=(()=>{var r;class e extends J${constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?t4(n):n;return V6(this._renderer,null,i,"register",[o]),new gee(i,this._renderer)}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(d.FYo),d.LFG(he))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();class gee extends NK{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _ee(this._id,e,t||{},this._renderer)}}class _ee{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return V6(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function V6(r,e,t,n,i){return r.setProperty(e,`@@${t}:${n}`,i)}const U6="@.disabled";let vee=(()=>{var r;class e{constructor(n,i,o){this.delegate=n,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,h)=>{const p=h?.parentNode(l);p&&h.removeChild(p,l)}}createRenderer(n,i){const l=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(l);return x||(x=new B6("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,x)),x}const h=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,n);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(h,p,n,x.name,x)};return i.data.animation.forEach(g),new yee(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,o){n>=0&&n<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(d.FYo),d.LFG(iM),d.LFG(d.R0b))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();class B6{constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==U6?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yee extends B6{constructor(e,t,n,i,o){super(t,n,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==U6?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function bee(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(e);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function wee(r){const e=r.indexOf(".");return[r.substring(0,e),r.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,n,h)})}return this.delegate.listen(e,t,n)}}let Eee=(()=>{var r;class e extends iM{constructor(n,i,o,l){super(n.body,i,o)}ngOnDestroy(){this.flush()}}return(r=e).\u0275fac=function(n){return new(n||r)(d.LFG(he),d.LFG(dL),d.LFG(EL),d.LFG(d.z2F))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac}),e})();const j6=[{provide:J$,useClass:mee},{provide:EL,useFactory:function Iee(){return new HJ}},{provide:iM,useClass:Eee},{provide:d.FYo,useFactory:function xee(r,e,t){return new vee(r,e,t)},deps:[Gl,iM,d.R0b]}],AL=[{provide:dL,useFactory:()=>new pee},{provide:d.QbO,useValue:"BrowserAnimations"},...j6],H6=[{provide:dL,useClass:g6},{provide:d.QbO,useValue:"NoopAnimations"},...j6];let Cee=(()=>{var r;class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?H6:AL}}}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:AL,imports:[Kl]}),e})();const z6={firebase:{projectId:"laboivtp1",appId:"1:939944236212:web:c9e26a986d9427d33933e1",storageBucket:"laboivtp1.appspot.com",apiKey:"AIzaSyBmUJDHqgAR54TXTgpWfqVuPqRASSMQthA",authDomain:"laboivtp1.firebaseapp.com",messagingSenderId:"939944236212"}};var Tee=L(6710);class ML{constructor(e){return e}}class G6{constructor(){return QO("auth")}}const RL=new d.OlP("angularfire2.auth-instances");function See(r){return(e,t)=>{const n=e.runOutsideAngular(()=>r(t));return new ML(n)}}const Aee={provide:G6,deps:[[new d.FiY,RL]]},Mee={provide:ML,useFactory:function Dee(r,e){const t=YO("auth",r,e);return t&&new ML(t)},deps:[[new d.FiY,RL],h_]};let Ree=(()=>{class r{constructor(){(0,xt.registerVersion)("angularfire",ZD.full,"auth")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[Mee,Aee]}),r})();function kee(r,...e){return{ngModule:Ree,providers:[{provide:RL,useFactory:See(r),multi:!0,deps:[d.R0b,d.zs3,pw,JO,[new d.FiY,_w],...e]}]}}const Oee=XO(Tee.o,!0);class kL{constructor(e){return e}}const q6="firestore",OL=new d.OlP("angularfire2.firestore-instances");function Fee(r){return(e,t)=>{const n=e.runOutsideAngular(()=>r(t));return new kL(n)}}const Lee={provide:class Pee{constructor(){return QO(q6)}},deps:[[new d.FiY,OL]]},Vee={provide:kL,useFactory:function Nee(r,e){const t=YO(q6,r,e);return t&&new kL(t)},deps:[[new d.FiY,OL],h_]};let Uee=(()=>{class r{constructor(){(0,xt.registerVersion)("angularfire",ZD.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[Vee,Lee]}),r})();function Bee(r,...e){return{ngModule:Uee,providers:[{provide:OL,useFactory:Fee(r),multi:!0,deps:[d.R0b,d.zs3,pw,JO,[new d.FiY,G6],[new d.FiY,_w],...e]}]}}const jee=XO(d7,!0);let Hee=(()=>{var r;class e{}return(r=e).\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r,bootstrap:[MX]}),r.\u0275inj=d.cJS({providers:[{provide:Ia.Dh,useValue:z6.firebase}],imports:[Kl,AX,VR,Cee,eL,SQ,X$,fX,UR,I4,sG(()=>oG(z6.firebase)),kee(()=>Oee()),Bee(()=>jee())]}),e})();wv().bootstrapModule(Hee).catch(r=>console.error(r))},5619:(ft,Ce,L)=>{L.d(Ce,{X:()=>z});var d=L(8645);class z extends d.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const ve=super._subscribe(re);return!ve.closed&&re.next(this._value),ve}getValue(){const{hasError:re,thrownError:ve,_value:he}=this;if(re)throw ve;return this._throwIfClosed(),he}next(re){super.next(this._value=re)}}},5592:(ft,Ce,L)=>{L.d(Ce,{y:()=>Ze});var d=L(305),z=L(7394),U=L(4850),re=L(8407),ve=L(2653),he=L(4674),He=L(1441);let Ze=(()=>{class ee{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const nt=new ee;return nt.source=this,nt.operator=Ve,nt}subscribe(Ve,nt,Te){const Ae=function W(ee){return ee&&ee instanceof d.Lv||function H(ee){return ee&&(0,he.m)(ee.next)&&(0,he.m)(ee.error)&&(0,he.m)(ee.complete)}(ee)&&(0,z.Nn)(ee)}(Ve)?Ve:new d.Hp(Ve,nt,Te);return(0,He.x)(()=>{const{operator:ze,source:ut}=this;Ae.add(ze?ze.call(Ae,ut):ut?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(nt){Ve.error(nt)}}forEach(Ve,nt){return new(nt=Re(nt))((Te,Ae)=>{const ze=new d.Hp({next:ut=>{try{Ve(ut)}catch(vt){Ae(vt),ze.unsubscribe()}},error:Ae,complete:Te});this.subscribe(ze)})}_subscribe(Ve){var nt;return null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Ve)}[U.L](){return this}pipe(...Ve){return(0,re.U)(Ve)(this)}toPromise(Ve){return new(Ve=Re(Ve))((nt,Te)=>{let Ae;this.subscribe(ze=>Ae=ze,ze=>Te(ze),()=>nt(Ae))})}}return ee.create=ke=>new ee(ke),ee})();function Re(ee){var ke;return null!==(ke=ee??ve.config.Promise)&&void 0!==ke?ke:Promise}},8645:(ft,Ce,L)=>{L.d(Ce,{x:()=>He});var d=L(5592),z=L(7394);const re=(0,L(2306).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=L(9039),he=L(1441);let He=(()=>{class Re extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ee=new Ze(this,this);return ee.operator=W,ee}_throwIfClosed(){if(this.closed)throw new re}next(W){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(W)}})}error(W){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ee}=this;for(;ee.length;)ee.shift().error(W)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ee,isStopped:ke,observers:Ve}=this;return ee||ke?z.Lc:(this.currentObservers=null,Ve.push(W),new z.w0(()=>{this.currentObservers=null,(0,ve.P)(Ve,W)}))}_checkFinalizedStatuses(W){const{hasError:ee,thrownError:ke,isStopped:Ve}=this;ee?W.error(ke):Ve&&W.complete()}asObservable(){const W=new d.y;return W.source=this,W}}return Re.create=(H,W)=>new Ze(H,W),Re})();class Ze extends He{constructor(H,W){super(),this.destination=H,this.source=W}next(H){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ee||ee.call(W,H)}error(H){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ee||ee.call(W,H)}complete(){var H,W;null===(W=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===W||W.call(H)}_subscribe(H){var W,ee;return null!==(ee=null===(W=this.source)||void 0===W?void 0:W.subscribe(H))&&void 0!==ee?ee:z.Lc}}},305:(ft,Ce,L)=>{L.d(Ce,{Hp:()=>Te,Lv:()=>ee});var d=L(4674),z=L(7394),U=L(2653),re=L(3894),ve=L(2420);const he=Re("C",void 0,void 0);function Re(ie,be,oe){return{kind:ie,value:be,error:oe}}var H=L(7599),W=L(1441);class ee extends z.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,z.Nn)(be)&&be.add(this)):this.destination=vt}static create(be,oe,ye){return new Te(be,oe,ye)}next(be){this.isStopped?ut(function Ze(ie){return Re("N",ie,void 0)}(be),this):this._next(be)}error(be){this.isStopped?ut(function He(ie){return Re("E",void 0,ie)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?ut(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Ve(ie,be){return ke.call(ie,be)}class nt{constructor(be){this.partialObserver=be}next(be){const{partialObserver:oe}=this;if(oe.next)try{oe.next(be)}catch(ye){Ae(ye)}}error(be){const{partialObserver:oe}=this;if(oe.error)try{oe.error(be)}catch(ye){Ae(ye)}else Ae(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(oe){Ae(oe)}}}class Te extends ee{constructor(be,oe,ye){let $e;if(super(),(0,d.m)(be)||!be)$e={next:be??void 0,error:oe??void 0,complete:ye??void 0};else{let Ge;this&&U.config.useDeprecatedNextContext?(Ge=Object.create(be),Ge.unsubscribe=()=>this.unsubscribe(),$e={next:be.next&&Ve(be.next,Ge),error:be.error&&Ve(be.error,Ge),complete:be.complete&&Ve(be.complete,Ge)}):$e=be}this.destination=new nt($e)}}function Ae(ie){U.config.useDeprecatedSynchronousErrorHandling?(0,W.O)(ie):(0,re.h)(ie)}function ut(ie,be){const{onStoppedNotification:oe}=U.config;oe&&H.z.setTimeout(()=>oe(ie,be))}const vt={closed:!0,next:ve.Z,error:function ze(ie){throw ie},complete:ve.Z}},7394:(ft,Ce,L)=>{L.d(Ce,{Lc:()=>he,w0:()=>ve,Nn:()=>He});var d=L(4674);const U=(0,L(2306).d)(Re=>function(W){Re(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ee,ke)=>`${ke+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var re=L(9039);class ve{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ve of W)Ve.remove(this);else W.remove(this);const{initialTeardown:ee}=this;if((0,d.m)(ee))try{ee()}catch(Ve){H=Ve instanceof U?Ve.errors:[Ve]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Ve of ke)try{Ze(Ve)}catch(nt){H=H??[],nt instanceof U?H=[...H,...nt.errors]:H.push(nt)}}if(H)throw new U(H)}}add(H){var W;if(H&&H!==this)if(this.closed)Ze(H);else{if(H instanceof ve){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(H)}}_hasParent(H){const{_parentage:W}=this;return W===H||Array.isArray(W)&&W.includes(H)}_addParent(H){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(H),W):W?[W,H]:H}_removeParent(H){const{_parentage:W}=this;W===H?this._parentage=null:Array.isArray(W)&&(0,re.P)(W,H)}remove(H){const{_finalizers:W}=this;W&&(0,re.P)(W,H),H instanceof ve&&H._removeParent(this)}}ve.EMPTY=(()=>{const Re=new ve;return Re.closed=!0,Re})();const he=ve.EMPTY;function He(Re){return Re instanceof ve||Re&&"closed"in Re&&(0,d.m)(Re.remove)&&(0,d.m)(Re.add)&&(0,d.m)(Re.unsubscribe)}function Ze(Re){(0,d.m)(Re)?Re():Re.unsubscribe()}},2653:(ft,Ce,L)=>{L.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ft,Ce,L)=>{L.d(Ce,{E:()=>z});const z=new(L(5592).y)(ve=>ve.complete())},2459:(ft,Ce,L)=>{L.d(Ce,{D:()=>be});var d=L(4829),z=L(3093),U=L(5137),he=L(5592),Ze=L(4971),Re=L(4674),H=L(7103);function ee(oe,ye){if(!oe)throw new Error("Iterable cannot be null");return new he.y($e=>{(0,H.f)($e,ye,()=>{const Ge=oe[Symbol.asyncIterator]();(0,H.f)($e,ye,()=>{Ge.next().then(wt=>{wt.done?$e.complete():$e.next(wt.value)})},0,!0)})})}var ke=L(8382),Ve=L(4026),nt=L(4266),Te=L(3664),Ae=L(5726),ze=L(9853),ut=L(541);function be(oe,ye){return ye?function ie(oe,ye){if(null!=oe){if((0,ke.c)(oe))return function re(oe,ye){return(0,d.Xf)(oe).pipe((0,U.R)(ye),(0,z.Q)(ye))}(oe,ye);if((0,nt.z)(oe))return function He(oe,ye){return new he.y($e=>{let Ge=0;return ye.schedule(function(){Ge===oe.length?$e.complete():($e.next(oe[Ge++]),$e.closed||this.schedule())})})}(oe,ye);if((0,Ve.t)(oe))return function ve(oe,ye){return(0,d.Xf)(oe).pipe((0,U.R)(ye),(0,z.Q)(ye))}(oe,ye);if((0,Ae.D)(oe))return ee(oe,ye);if((0,Te.T)(oe))return function W(oe,ye){return new he.y($e=>{let Ge;return(0,H.f)($e,ye,()=>{Ge=oe[Ze.h](),(0,H.f)($e,ye,()=>{let wt,Mt;try{({value:wt,done:Mt}=Ge.next())}catch(zt){return void $e.error(zt)}Mt?$e.complete():$e.next(wt)},0,!0)}),()=>(0,Re.m)(Ge?.return)&&Ge.return()})}(oe,ye);if((0,ut.L)(oe))return function vt(oe,ye){return ee((0,ut.Q)(oe),ye)}(oe,ye)}throw(0,ze.z)(oe)}(oe,ye):(0,d.Xf)(oe)}},4829:(ft,Ce,L)=>{L.d(Ce,{Xf:()=>ke});var d=L(7582),z=L(4266),U=L(4026),re=L(5592),ve=L(8382),he=L(5726),He=L(9853),Ze=L(3664),Re=L(541),H=L(4674),W=L(3894),ee=L(4850);function ke(ie){if(ie instanceof re.y)return ie;if(null!=ie){if((0,ve.c)(ie))return function Ve(ie){return new re.y(be=>{const oe=ie[ee.L]();if((0,H.m)(oe.subscribe))return oe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,z.z)(ie))return function nt(ie){return new re.y(be=>{for(let oe=0;oe<ie.length&&!be.closed;oe++)be.next(ie[oe]);be.complete()})}(ie);if((0,U.t)(ie))return function Te(ie){return new re.y(be=>{ie.then(oe=>{be.closed||(be.next(oe),be.complete())},oe=>be.error(oe)).then(null,W.h)})}(ie);if((0,he.D)(ie))return ze(ie);if((0,Ze.T)(ie))return function Ae(ie){return new re.y(be=>{for(const oe of ie)if(be.next(oe),be.closed)return;be.complete()})}(ie);if((0,Re.L)(ie))return function ut(ie){return ze((0,Re.Q)(ie))}(ie)}throw(0,He.z)(ie)}function ze(ie){return new re.y(be=>{(function vt(ie,be){var oe,ye,$e,Ge;return(0,d.mG)(this,void 0,void 0,function*(){try{for(oe=(0,d.KL)(ie);!(ye=yield oe.next()).done;)if(be.next(ye.value),be.closed)return}catch(wt){$e={error:wt}}finally{try{ye&&!ye.done&&(Ge=oe.return)&&(yield Ge.call(oe))}finally{if($e)throw $e.error}}be.complete()})})(ie,be).catch(oe=>be.error(oe))})}},3019:(ft,Ce,L)=>{L.d(Ce,{T:()=>he});var d=L(7537),z=L(4829),U=L(6232),re=L(9940),ve=L(2459);function he(...He){const Ze=(0,re.yG)(He),Re=(0,re._6)(He,1/0),H=He;return H.length?1===H.length?(0,z.Xf)(H[0]):(0,d.J)(Re)((0,ve.D)(H,Ze)):U.E}},2096:(ft,Ce,L)=>{L.d(Ce,{of:()=>U});var d=L(9940),z=L(2459);function U(...re){const ve=(0,d.yG)(re);return(0,z.D)(re,ve)}},8251:(ft,Ce,L)=>{L.d(Ce,{x:()=>z});var d=L(305);function z(re,ve,he,He,Ze){return new U(re,ve,he,He,Ze)}class U extends d.Lv{constructor(ve,he,He,Ze,Re,H){super(ve),this.onFinalize=Re,this.shouldUnsubscribe=H,this._next=he?function(W){try{he(W)}catch(ee){ve.error(ee)}}:super._next,this._error=Ze?function(W){try{Ze(W)}catch(ee){ve.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=He?function(){try{He()}catch(W){ve.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},3997:(ft,Ce,L)=>{L.d(Ce,{x:()=>re});var d=L(2737),z=L(9360),U=L(8251);function re(he,He=d.y){return he=he??ve,(0,z.e)((Ze,Re)=>{let H,W=!0;Ze.subscribe((0,U.x)(Re,ee=>{const ke=He(ee);(W||!he(H,ke))&&(W=!1,H=ke,Re.next(ee))}))})}function ve(he,He){return he===He}},7398:(ft,Ce,L)=>{L.d(Ce,{U:()=>U});var d=L(9360),z=L(8251);function U(re,ve){return(0,d.e)((he,He)=>{let Ze=0;he.subscribe((0,z.x)(He,Re=>{He.next(re.call(ve,Re,Ze++))}))})}},7537:(ft,Ce,L)=>{L.d(Ce,{J:()=>U});var d=L(1631),z=L(2737);function U(re=1/0){return(0,d.z)(z.y,re)}},1631:(ft,Ce,L)=>{L.d(Ce,{z:()=>Ze});var d=L(7398),z=L(4829),U=L(9360),re=L(7103),ve=L(8251),He=L(4674);function Ze(Re,H,W=1/0){return(0,He.m)(H)?Ze((ee,ke)=>(0,d.U)((Ve,nt)=>H(ee,Ve,ke,nt))((0,z.Xf)(Re(ee,ke))),W):("number"==typeof H&&(W=H),(0,U.e)((ee,ke)=>function he(Re,H,W,ee,ke,Ve,nt,Te){const Ae=[];let ze=0,ut=0,vt=!1;const ie=()=>{vt&&!Ae.length&&!ze&&H.complete()},be=ye=>ze<ee?oe(ye):Ae.push(ye),oe=ye=>{Ve&&H.next(ye),ze++;let $e=!1;(0,z.Xf)(W(ye,ut++)).subscribe((0,ve.x)(H,Ge=>{ke?.(Ge),Ve?be(Ge):H.next(Ge)},()=>{$e=!0},void 0,()=>{if($e)try{for(ze--;Ae.length&&ze<ee;){const Ge=Ae.shift();nt?(0,re.f)(H,nt,()=>oe(Ge)):oe(Ge)}ie()}catch(Ge){H.error(Ge)}}))};return Re.subscribe((0,ve.x)(H,be,()=>{vt=!0,ie()})),()=>{Te?.()}}(ee,ke,Re,W)))}},3093:(ft,Ce,L)=>{L.d(Ce,{Q:()=>re});var d=L(7103),z=L(9360),U=L(8251);function re(ve,he=0){return(0,z.e)((He,Ze)=>{He.subscribe((0,U.x)(Ze,Re=>(0,d.f)(Ze,ve,()=>Ze.next(Re),he),()=>(0,d.f)(Ze,ve,()=>Ze.complete(),he),Re=>(0,d.f)(Ze,ve,()=>Ze.error(Re),he)))})}},3020:(ft,Ce,L)=>{L.d(Ce,{B:()=>ve});var d=L(4829),z=L(8645),U=L(305),re=L(9360);function ve(He={}){const{connector:Ze=(()=>new z.x),resetOnError:Re=!0,resetOnComplete:H=!0,resetOnRefCountZero:W=!0}=He;return ee=>{let ke,Ve,nt,Te=0,Ae=!1,ze=!1;const ut=()=>{Ve?.unsubscribe(),Ve=void 0},vt=()=>{ut(),ke=nt=void 0,Ae=ze=!1},ie=()=>{const be=ke;vt(),be?.unsubscribe()};return(0,re.e)((be,oe)=>{Te++,!ze&&!Ae&&ut();const ye=nt=nt??Ze();oe.add(()=>{Te--,0===Te&&!ze&&!Ae&&(Ve=he(ie,W))}),ye.subscribe(oe),!ke&&Te>0&&(ke=new U.Hp({next:$e=>ye.next($e),error:$e=>{ze=!0,ut(),Ve=he(vt,Re,$e),ye.error($e)},complete:()=>{Ae=!0,ut(),Ve=he(vt,H),ye.complete()}}),(0,d.Xf)(be).subscribe(ke))})(ee)}}function he(He,Ze,...Re){if(!0===Ze)return void He();if(!1===Ze)return;const H=new U.Hp({next:()=>{H.unsubscribe(),He()}});return(0,d.Xf)(Ze(...Re)).subscribe(H)}},5137:(ft,Ce,L)=>{L.d(Ce,{R:()=>z});var d=L(9360);function z(U,re=0){return(0,d.e)((ve,he)=>{he.add(U.schedule(()=>ve.subscribe(he),re))})}},4664:(ft,Ce,L)=>{L.d(Ce,{w:()=>re});var d=L(4829),z=L(9360),U=L(8251);function re(ve,he){return(0,z.e)((He,Ze)=>{let Re=null,H=0,W=!1;const ee=()=>W&&!Re&&Ze.complete();He.subscribe((0,U.x)(Ze,ke=>{Re?.unsubscribe();let Ve=0;const nt=H++;(0,d.Xf)(ve(ke,nt)).subscribe(Re=(0,U.x)(Ze,Te=>Ze.next(he?he(ke,Te,nt,Ve++):Te),()=>{Re=null,ee()}))},()=>{W=!0,ee()}))})}},7599:(ft,Ce,L)=>{L.d(Ce,{z:()=>d});const d={setTimeout(z,U,...re){const{delegate:ve}=d;return ve?.setTimeout?ve.setTimeout(z,U,...re):setTimeout(z,U,...re)},clearTimeout(z){const{delegate:U}=d;return(U?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4971:(ft,Ce,L)=>{L.d(Ce,{h:()=>z});const z=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ft,Ce,L)=>{L.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ft,Ce,L)=>{L.d(Ce,{_6:()=>he,jO:()=>re,yG:()=>ve});var d=L(4674),z=L(671);function U(He){return He[He.length-1]}function re(He){return(0,d.m)(U(He))?He.pop():void 0}function ve(He){return(0,z.K)(U(He))?He.pop():void 0}function he(He,Ze){return"number"==typeof U(He)?He.pop():Ze}},9039:(ft,Ce,L)=>{function d(z,U){if(z){const re=z.indexOf(U);0<=re&&z.splice(re,1)}}L.d(Ce,{P:()=>d})},2306:(ft,Ce,L)=>{function d(z){const re=z(ve=>{Error.call(ve),ve.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}L.d(Ce,{d:()=>d})},1441:(ft,Ce,L)=>{L.d(Ce,{O:()=>re,x:()=>U});var d=L(2653);let z=null;function U(ve){if(d.config.useDeprecatedSynchronousErrorHandling){const he=!z;if(he&&(z={errorThrown:!1,error:null}),ve(),he){const{errorThrown:He,error:Ze}=z;if(z=null,He)throw Ze}}else ve()}function re(ve){d.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ve)}},7103:(ft,Ce,L)=>{function d(z,U,re,ve=0,he=!1){const He=U.schedule(function(){re(),he?z.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(z.add(He),!he)return He}L.d(Ce,{f:()=>d})},2737:(ft,Ce,L)=>{function d(z){return z}L.d(Ce,{y:()=>d})},4266:(ft,Ce,L)=>{L.d(Ce,{z:()=>d});const d=z=>z&&"number"==typeof z.length&&"function"!=typeof z},5726:(ft,Ce,L)=>{L.d(Ce,{D:()=>z});var d=L(4674);function z(U){return Symbol.asyncIterator&&(0,d.m)(U?.[Symbol.asyncIterator])}},4674:(ft,Ce,L)=>{function d(z){return"function"==typeof z}L.d(Ce,{m:()=>d})},8382:(ft,Ce,L)=>{L.d(Ce,{c:()=>U});var d=L(4850),z=L(4674);function U(re){return(0,z.m)(re[d.L])}},3664:(ft,Ce,L)=>{L.d(Ce,{T:()=>U});var d=L(4971),z=L(4674);function U(re){return(0,z.m)(re?.[d.h])}},4026:(ft,Ce,L)=>{L.d(Ce,{t:()=>z});var d=L(4674);function z(U){return(0,d.m)(U?.then)}},541:(ft,Ce,L)=>{L.d(Ce,{L:()=>re,Q:()=>U});var d=L(7582),z=L(4674);function U(ve){return(0,d.FC)(this,arguments,function*(){const He=ve.getReader();try{for(;;){const{value:Ze,done:Re}=yield(0,d.qq)(He.read());if(Re)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ze)}}finally{He.releaseLock()}})}function re(ve){return(0,z.m)(ve?.getReader)}},671:(ft,Ce,L)=>{L.d(Ce,{K:()=>z});var d=L(4674);function z(U){return U&&(0,d.m)(U.schedule)}},9360:(ft,Ce,L)=>{L.d(Ce,{A:()=>z,e:()=>U});var d=L(4674);function z(re){return(0,d.m)(re?.lift)}function U(re){return ve=>{if(z(ve))return ve.lift(function(he){try{return re(he,this)}catch(He){this.error(He)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ft,Ce,L)=>{function d(){}L.d(Ce,{Z:()=>d})},8407:(ft,Ce,L)=>{L.d(Ce,{U:()=>U,z:()=>z});var d=L(2737);function z(...re){return U(re)}function U(re){return 0===re.length?d.y:1===re.length?re[0]:function(he){return re.reduce((He,Ze)=>Ze(He),he)}}},3894:(ft,Ce,L)=>{L.d(Ce,{h:()=>U});var d=L(2653),z=L(7599);function U(re){z.z.setTimeout(()=>{const{onUnhandledError:ve}=d.config;if(!ve)throw re;ve(re)})}},9853:(ft,Ce,L)=>{function d(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>d})},5879:(ft,Ce,L)=>{L.d(Ce,{$8M:()=>Tu,$WT:()=>Ma,$Z:()=>Cx,AFp:()=>dy,AaK:()=>ee,CHM:()=>Eo,CRH:()=>I0,EJc:()=>tO,EiD:()=>XM,EpF:()=>gb,F$t:()=>bb,F4k:()=>a1,FYo:()=>bc,FiY:()=>q,Gf:()=>w0,GfV:()=>Ym,Gpc:()=>nt,HDt:()=>iD,Hsn:()=>wb,Ikx:()=>jb,JOm:()=>Mh,JVY:()=>FI,JZr:()=>vt,Jzz:()=>Sg,KtG:()=>yu,L6k:()=>GM,LAX:()=>WM,LFG:()=>Be,LSH:()=>ay,Lbi:()=>Bm,Lck:()=>pk,MAs:()=>s1,MMx:()=>s0,NdJ:()=>wg,Ojb:()=>nx,OlP:()=>cn,Oqu:()=>cd,P3R:()=>eR,PXZ:()=>mO,Q6J:()=>hb,QGY:()=>ro,QbO:()=>tx,Qsj:()=>Jh,R0b:()=>jr,RDi:()=>MI,Rgc:()=>Bf,SBq:()=>va,Sil:()=>aV,Suo:()=>E0,TTD:()=>gu,TgZ:()=>bg,VuI:()=>PO,W1O:()=>D0,WFA:()=>sd,X6Q:()=>_O,XFs:()=>gt,Xpm:()=>Up,Xq5:()=>ib,Xts:()=>Gh,Y36:()=>xc,YKP:()=>fk,YNc:()=>fC,Yjl:()=>Aa,Yz7:()=>Rt,Z0I:()=>fn,ZZ4:()=>nw,_Bn:()=>hk,_UZ:()=>fb,_Vd:()=>Zm,_c5:()=>AO,_uU:()=>ld,aQg:()=>so,c2e:()=>rD,cJS:()=>On,cg1:()=>Hb,d8E:()=>BC,dDg:()=>hV,dqk:()=>Yt,eBb:()=>qM,eFA:()=>mD,eJc:()=>Zg,ekj:()=>Sb,eoX:()=>Wf,f3M:()=>et,g9A:()=>hy,h0i:()=>Uc,hGG:()=>MO,hij:()=>bi,iGM:()=>b0,ifc:()=>De,ip1:()=>F0,jDz:()=>hT,kL8:()=>HC,lG2:()=>eh,lqb:()=>eo,lri:()=>dO,mCW:()=>Om,n5z:()=>ic,oAB:()=>es,oxw:()=>yb,pB0:()=>ZM,q3G:()=>nl,q4F:()=>hx,qFp:()=>VO,qLn:()=>Yu,qOj:()=>hg,qZA:()=>Ls,qzn:()=>pa,rWj:()=>hO,rg0:()=>$l,s9C:()=>Ig,sBO:()=>ID,s_b:()=>zg,soG:()=>Xg,tb:()=>G0,tp0:()=>_e,uIk:()=>pg,vHH:()=>ie,vpe:()=>to,wAp:()=>Of,xp6:()=>ky,z2F:()=>wd,z3N:()=>Oo,zSh:()=>Lm,zs3:()=>Ui});var d=L(8645),z=L(7394),U=L(5592),re=L(3019),ve=L(5619),he=L(2096),He=L(3020),Ze=L(4664),Re=L(3997);function H(s){for(let a in s)if(s[a]===H)return a;throw Error("Could not find renamed property on target object.")}function W(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ke(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Ve=H({__forward_ref__:H});function nt(s){return s.__forward_ref__=nt,s.toString=function(){return ee(this())},s}function Te(s){return Ae(s)?s():s}function Ae(s){return"function"==typeof s&&s.hasOwnProperty(Ve)&&s.__forward_ref__===nt}function ze(s){return s&&!!s.\u0275providers}const vt="https://g.co/ng/security#xss";class ie extends Error{constructor(a,c){super(function be(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function oe(s){return"string"==typeof s?s:null==s?"":String(s)}function Mt(s,a){throw new ie(-201,!1)}function it(s,a){null==s&&function qe(s,a,c,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,s,null,"!=")}function Rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function On(s){return{providers:s.providers||[],imports:s.imports||[]}}function or(s){return Jn(s,pi)||Jn(s,Ai)}function fn(s){return null!==or(s)}function Jn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Si(s){return s&&(s.hasOwnProperty(Yi)||s.hasOwnProperty(Wn))?s[Yi]:null}const pi=H({\u0275prov:H}),Yi=H({\u0275inj:H}),Ai=H({ngInjectableDef:H}),Wn=H({ngInjectorDef:H});var gt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(gt||{});let Lt;function gn(s){const a=Lt;return Lt=s,a}function Mi(s,a,c){const u=or(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&gt.Optional?null:void 0!==a?a:void Mt(ee(s))}const Yt=globalThis,Gr={},qr="__NG_DI_FLAG__",Ri="ngTempTokenPath",G=/\n/gm,P="__source";let N;function Q(s){const a=N;return N=s,a}function ge(s,a=gt.Default){if(void 0===N)throw new ie(-203,!1);return null===N?Mi(s,void 0,a):N.get(s,a&gt.Optional?null:void 0,a)}function Be(s,a=gt.Default){return(function Bt(){return Lt}()||ge)(Te(s),a)}function et(s,a=gt.Default){return Be(s,Xt(a))}function Xt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function bt(s){const a=[];for(let c=0;c<s.length;c++){const u=Te(s[c]);if(Array.isArray(u)){if(0===u.length)throw new ie(900,!1);let f,m=gt.Default;for(let y=0;y<u.length;y++){const b=u[y],I=an(b);"number"==typeof I?-1===I?f=b.token:m|=I:f=b}a.push(Be(f,m))}else a.push(Be(u))}return a}function ln(s,a){return s[qr]=a,s.prototype[qr]=a,s}function an(s){return s[qr]}function ue(s){return{toString:s}.toString()}var te=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(te||{}),De=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(De||{});const Xe={},je=[],st=H({\u0275cmp:H}),Zt=H({\u0275dir:H}),Mn=H({\u0275pipe:H}),tr=H({\u0275mod:H}),Fe=H({\u0275fac:H}),pr=H({__NG_ELEMENT_ID__:H}),Dr=H({__NG_ENV_ID__:H});function Xi(s,a,c){let u=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===u||s.charCodeAt(f+m)<=32)return f}c=f+1}}function Pl(s,a,c){let u=0;for(;u<c.length;){const f=c[u];if("number"==typeof f){if(0!==f)break;u++;const m=c[u++],y=c[u++],b=c[u++];s.setAttribute(a,y,b,m)}else{const m=f,y=c[++u];Xd(m)?s.setProperty(a,m,y):s.setAttribute(a,m,y),u++}}return u}function Qd(s){return 3===s||4===s||6===s}function Xd(s){return 64===s.charCodeAt(0)}function Nl(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?c=f:0===c||Zo(s,c,f,null,-1===c||2===c?a[++u]:null)}}return s}function Zo(s,a,c,u,f){let m=0,y=s.length;if(-1===a)y=-1;else for(;m<s.length;){const b=s[m++];if("number"==typeof b){if(b===a){y=-1;break}if(b>a){y=m-1;break}}}for(;m<s.length;){const b=s[m];if("number"==typeof b)break;if(b===c){if(null===u)return void(null!==f&&(s[m+1]=f));if(u===s[m+1])return void(s[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==y&&(s.splice(y,0,a),m=y+1),s.splice(m++,0,c),null!==u&&s.splice(m++,0,u),null!==f&&s.splice(m++,0,f)}const Fl="ng-template";function J_(s,a,c){let u=0,f=!0;for(;u<s.length;){let m=s[u++];if("string"==typeof m&&f){const y=s[u++];if(c&&"class"===m&&-1!==Xi(y.toLowerCase(),a,0))return!0}else{if(1===m){for(;u<s.length&&"string"==typeof(m=s[u++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function Ko(s){return 4===s.type&&s.value!==Fl}function ev(s,a,c){return a===(4!==s.type||c?s.value:Fl)}function Cn(s,a,c){let u=4;const f=s.attrs||[],m=function WE(s){for(let a=0;a<s.length;a++)if(Qd(s[a]))return a;return s.length}(f);let y=!1;for(let b=0;b<a.length;b++){const I=a[b];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!ev(s,I,c)||""===I&&1===a.length){if(Jt(u))return!1;y=!0}}else{const T=8&u?I:a[++b];if(8&u&&null!==s.attrs){if(!J_(s.attrs,T,c)){if(Jt(u))return!1;y=!0}continue}const V=Ll(8&u?"class":I,f,Ko(s),c);if(-1===V){if(Jt(u))return!1;y=!0;continue}if(""!==T){let Y;Y=V>m?"":f[V+1].toLowerCase();const X=8&u?Y:null;if(X&&-1!==Xi(X,T,0)||2&u&&T!==Y){if(Jt(u))return!1;y=!0}}}}else{if(!y&&!Jt(u)&&!Jt(I))return!1;if(y&&Jt(I))continue;y=!1,u=I|1&u}}return Jt(u)||y}function Jt(s){return 0==(1&s)}function Ll(s,a,c,u){if(null===a)return-1;let f=0;if(u||!c){let m=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let b=a[++f];for(;"string"==typeof b;)b=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function Sa(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const u=s[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,s)}function Ji(s,a,c=!1){for(let u=0;u<a.length;u++)if(Cn(s,a[u],c))return!0;return!1}function tv(s,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(s.length===u.length){for(let f=0;f<s.length;f++)if(s[f]!==u[f])continue e;return!0}}return!1}function Lp(s,a){return s?":not("+a.trim()+")":a}function Vp(s){let a=s[0],c=1,u=2,f="",m=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&u){const b=s[++c];f+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Jt(y)&&(a+=Lp(m,f),f=""),u=y,m=m||!Jt(u);c++}return""!==f&&(a+=Lp(m,f)),a}function Up(s){return ue(()=>{const a=Hs(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===te.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||De.Emulated,styles:s.styles||je,_:null,schemas:s.schemas||null,tView:null,id:""};_o(c);const u=s.dependencies;return c.directiveDefs=Vl(u,!1),c.pipeDefs=Vl(u,!0),c.id=function ZE(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const f of c)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function ou(s){return en(s)||mr(s)}function nv(s){return null!==s}function es(s){return ue(()=>({type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Bp(s,a){if(null==s)return Xe;const c={};for(const u in s)if(s.hasOwnProperty(u)){let f=s[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=u,a&&(a[f]=m)}return c}function eh(s){return ue(()=>{const a=Hs(s);return _o(a),a})}function Aa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[st]||null}function mr(s){return s[Zt]||null}function Pr(s){return s[Mn]||null}function Ma(s){const a=en(s)||mr(s)||Pr(s);return null!==a&&a.standalone}function gr(s,a){const c=s[tr]||null;if(!c&&!0===a)throw new Error(`Type ${ee(s)} does not have '\u0275mod' property.`);return c}function Hs(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Xe,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bp(s.inputs,a),outputs:Bp(s.outputs)}}function _o(s){s.features?.forEach(a=>a(s))}function Vl(s,a){if(!s)return null;const c=a?Pr:ou;return()=>("function"==typeof s?s():s).map(u=>c(u)).filter(nv)}const bn=0,Ke=1,Tt=2,wn=3,Wr=4,zs=5,Sr=6,Ra=7,En=8,Ts=9,Yo=10,It=11,Ul=12,jp=13,$s=14,Pn=15,au=16,ka=17,Ds=18,Oa=19,th=20,vo=21,Ss=22,lu=23,Gs=24,Ht=25,nh=1,Hp=2,Zr=7,Bl=9,$t=11;function gi(s){return Array.isArray(s)&&"object"==typeof s[nh]}function Nr(s){return Array.isArray(s)&&!0===s[nh]}function cu(s){return 0!=(4&s.flags)}function yo(s){return s.componentOffset>-1}function rh(s){return 1==(1&s.flags)}function ns(s){return!!s.template}function ih(s){return 0!=(512&s[Tt])}function Jo(s,a){return s.hasOwnProperty(Fe)?s[Fe]:null}let ar=null,rs=!1;function lr(s){const a=ar;return ar=s,a}const qs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lv(s){if(!fu(s)||s.dirty){if(!s.producerMustRecompute(s)&&!cv(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Fa(s){s.dirty=!0,function Gp(s){if(void 0===s.liveConsumerNode)return;const a=rs;rs=!0;try{for(const c of s.liveConsumerNode)c.dirty||Fa(c)}finally{rs=a}}(s),s.consumerMarkedDirty?.(s)}function lh(s){return s&&(s.nextProducerIndex=0),lr(s)}function La(s,a){if(lr(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(fu(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)hu(s.producerNode[c],s.producerIndexOfThis[c]);for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function cv(s){Ws(s);for(let a=0;a<s.producerNode.length;a++){const c=s.producerNode[a],u=s.producerLastReadVersion[a];if(u!==c.version||(lv(c),u!==c.version))return!0}return!1}function du(s){if(Ws(s),fu(s))for(let a=0;a<s.producerNode.length;a++)hu(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function hu(s,a){if(function qp(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Ws(s),1===s.liveConsumerNode.length)for(let u=0;u<s.producerNode.length;u++)hu(s.producerNode[u],s.producerIndexOfThis[u]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const u=s.liveConsumerIndexOfThis[a],f=s.liveConsumerNode[a];Ws(f),f.producerIndexOfThis[u]=a}}function fu(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Ws(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let mu=null;function $l(s){const a=lr(null);try{return s()}finally{lr(a)}}const Zp=()=>{},mv={...qs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:Zp};class Yp{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function gu(){return _u}function _u(s){return s.type.prototype.ngOnChanges&&(s.setInput=ph),Qp}function Qp(){const s=mh(this),a=s?.current;if(a){const c=s.previous;if(c===Xe)s.previous=a;else for(let u in a)c[u]=a[u];s.current=null,this.ngOnChanges(a)}}function ph(s,a,c,u){const f=this.declaredInputs[c],m=mh(s)||function gv(s,a){return s[vu]=a}(s,{previous:Xe,current:null}),y=m.current||(m.current={}),b=m.previous,I=b[f];y[f]=new Yp(I&&I.currentValue,a,b===Xe),s[u]=a}gu.ngInherit=!0;const vu="__ngSimpleChanges__";function mh(s){return s[vu]||null}const is=function(s,a,c){};function pn(s){for(;Array.isArray(s);)s=s[bn];return s}function Ba(s,a){return pn(a[s])}function Kr(s,a){return pn(a[s.index])}function _h(s,a){return s.data[a]}function Yr(s,a){const c=a[s];return gi(c)?c:c[bn]}function na(s,a){return null==a?null:s[a]}function bv(s){s[ka]=0}function nI(s){1024&s[Tt]||(s[Tt]|=1024,ra(s,1))}function rI(s){1024&s[Tt]&&(s[Tt]&=-1025,ra(s,-1))}function ra(s,a){let c=s[wn];if(null===c)return;c[zs]+=a;let u=c;for(c=c[wn];null!==c&&(1===a&&1===u[zs]||-1===a&&0===u[zs]);)c[zs]+=a,u=c,c=c[wn]}const Dt={lFrame:lm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zl(){return Dt.bindingsEnabled}function ia(){return null!==Dt.skipHydrationRootTNode}function Ee(){return Dt.lFrame.lView}function Gt(){return Dt.lFrame.tView}function Eo(s){return Dt.lFrame.contextLView=s,s[En]}function yu(s){return Dt.lFrame.contextLView=null,s}function _r(){let s=bu();for(;null!==s&&64===s.type;)s=s.parent;return s}function bu(){return Dt.lFrame.currentTNode}function Zs(s,a){const c=Dt.lFrame;c.currentTNode=s,c.isParent=a}function Fn(){return Dt.lFrame.isParent}function nm(){Dt.lFrame.isParent=!1}function Io(){return Dt.lFrame.bindingIndex++}function Ni(s){const a=Dt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function rm(s,a){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=s,bh(a)}function bh(s){Dt.lFrame.currentDirectiveIndex=s}function sm(s){const a=Dt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function om(){return Dt.lFrame.currentQueryIndex}function am(s){Dt.lFrame.currentQueryIndex=s}function oI(s){const a=s[Ke];return 2===a.type?a.declTNode:1===a.type?s[Sr]:null}function aI(s,a,c){if(c&gt.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||c&gt.Host||(f=oI(m),null===f||(m=m[$s],10&f.type))););if(null===f)return!1;a=f,s=m}const u=Dt.lFrame=Xr();return u.currentTNode=a,u.lView=s,!0}function nr(s){const a=Xr(),c=s[Ke];Dt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Xr(){const s=Dt.lFrame,a=null===s?null:s.child;return null===a?lm(s):a}function lm(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Dn(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const at=Dn;function Jr(){const s=Dn();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fr(){return Dt.lFrame.selectedIndex}function sa(s){Dt.lFrame.selectedIndex=s}function yn(){const s=Dt.lFrame;return _h(s.tView,s.selectedIndex)}let Xl=!0;function xo(){return Xl}function Ys(s){Xl=s}function Ha(s,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:M}=m;y&&(s.contentHooks??=[]).push(-c,y),b&&((s.contentHooks??=[]).push(c,b),(s.contentCheckHooks??=[]).push(c,b)),I&&(s.viewHooks??=[]).push(-c,I),T&&((s.viewHooks??=[]).push(c,T),(s.viewCheckHooks??=[]).push(c,T)),null!=M&&(s.destroyHooks??=[]).push(c,M)}}function oa(s,a,c){Jl(s,a,3,c)}function Eu(s,a,c,u){(3&s[Tt])===c&&Jl(s,a,c,u)}function Iu(s,a){let c=s[Tt];(3&c)===a&&(c&=8191,c+=1,s[Tt]=c)}function Jl(s,a,c,u){const m=u??-1,y=a.length-1;let b=0;for(let I=void 0!==u?65535&s[ka]:0;I<y;I++)if("number"==typeof a[I+1]){if(b=a[I],null!=u&&b>=u)break}else a[I]<0&&(s[ka]+=65536),(b<m||-1==m)&&(tc(s,c,a,I),s[ka]=(4294901760&s[ka])+I+2),I++}function ec(s,a){is(4,s,a);const c=lr(null);try{a.call(s)}finally{lr(c),is(5,s,a)}}function tc(s,a,c,u){const f=c[u]<0,m=c[u+1],b=s[f?-c[u]:c[u]];f?s[Tt]>>13<s[ka]>>16&&(3&s[Tt])===a&&(s[Tt]+=8192,ec(b,m)):ec(b,m)}const Fi=-1;class Ms{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Ga(s){return s!==Fi}function qt(s){return 32767&s}function ei(s,a){let c=function Ln(s){return s>>16}(s),u=a;for(;c>0;)u=u[$s],c--;return u}let aa=!0;function Vn(s){const a=aa;return aa=s,a}const qa=255,xu=5;let dm=0;const yr={};function Sn(s,a){const c=hm(s,a);if(-1!==c)return c;const u=a[Ke];u.firstCreatePass&&(s.injectorIndex=a.length,Rs(u.data,s),Rs(a,null),Rs(u.blueprint,null));const f=la(s,a),m=s.injectorIndex;if(Ga(f)){const y=qt(f),b=ei(f,a),I=b[Ke].data;for(let T=0;T<8;T++)a[m+T]=b[y+T]|I[y+T]}return a[m+8]=f,m}function Rs(s,a){s.push(0,0,0,0,0,0,0,0,a)}function hm(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function la(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,u=null,f=a;for(;null!==f;){if(u=_m(f),null===u)return Fi;if(c++,f=f[$s],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Fi}function nc(s,a,c){!function Wa(s,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(pr)&&(u=c[pr]),null==u&&(u=c[pr]=dm++);const f=u&qa;a.data[s+(f>>xu)]|=1<<f}(s,a,c)}function Ih(s,a,c){if(c&gt.Optional||void 0!==s)return s;Mt()}function rc(s,a,c,u){if(c&gt.Optional&&void 0===u&&(u=null),!(c&(gt.Self|gt.Host))){const f=s[Ts],m=gn(void 0);try{return f?f.get(a,u,c&gt.Optional):Mi(a,u,c&gt.Optional)}finally{gn(m)}}return Ih(u,0,c)}function xh(s,a,c,u=gt.Default,f){if(null!==s){if(2048&a[Tt]&&!(u&gt.Self)){const y=function gm(s,a,c,u,f){let m=s,y=a;for(;null!==m&&null!==y&&2048&y[Tt]&&!(512&y[Tt]);){const b=ss(m,y,c,u|gt.Self,yr);if(b!==yr)return b;let I=m.parent;if(!I){const T=y[th];if(T){const M=T.get(c,yr,u);if(M!==yr)return M}I=_m(y),y=y[$s]}m=I}return f}(s,a,c,u,yr);if(y!==yr)return y}const m=ss(s,a,c,u,yr);if(m!==yr)return m}return rc(a,c,u,f)}function ss(s,a,c,u,f){const m=function Za(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(pr)?s[pr]:void 0;return"number"==typeof a?a>=0?a&qa:Do:a}(c);if("function"==typeof m){if(!aI(a,s,u))return u&gt.Host?Ih(f,0,u):rc(a,c,u,f);try{let y;if(y=m(u),null!=y||u&gt.Optional)return y;Mt()}finally{at()}}else if("number"==typeof m){let y=null,b=hm(s,a),I=Fi,T=u&gt.Host?a[Pn][Sr]:null;for((-1===b||u&gt.SkipSelf)&&(I=-1===b?la(s,a):a[b+8],I!==Fi&&pm(u,!1)?(y=a[Ke],b=qt(I),a=ei(I,a)):b=-1);-1!==b;){const M=a[Ke];if(fm(m,b,M.data)){const V=Pt(b,a,c,y,u,T);if(V!==yr)return V}I=a[b+8],I!==Fi&&pm(u,a[Ke].data[b+8]===T)&&fm(m,b,a)?(y=M,b=qt(I),a=ei(I,a)):b=-1}}return f}function Pt(s,a,c,u,f,m){const y=a[Ke],b=y.data[s+8],M=Co(b,y,c,null==u?yo(b)&&aa:u!=y&&0!=(3&b.type),f&gt.Host&&m===b);return null!==M?To(a,y,M,b):yr}function Co(s,a,c,u,f){const m=s.providerIndexes,y=a.data,b=1048575&m,I=s.directiveStart,M=m>>20,Y=f?b+M:s.directiveEnd;for(let X=u?b:b+M;X<Y;X++){const fe=y[X];if(X<I&&c===fe||X>=I&&fe.type===c)return X}if(f){const X=y[I];if(X&&ns(X)&&X.type===c)return I}return null}function To(s,a,c,u){let f=s[c];const m=a.data;if(function za(s){return s instanceof Ms}(f)){const y=f;y.resolving&&function $e(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${c}`)}(function ye(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():oe(s)}(m[c]));const b=Vn(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?gn(y.injectImpl):null;aI(s,u,gt.Default);try{f=s[c]=y.factory(void 0,m,s,u),a.firstCreatePass&&c>=u.directiveStart&&function vr(s,a,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(u){const y=_u(a);(c.preOrderHooks??=[]).push(s,y),(c.preOrderCheckHooks??=[]).push(s,y)}f&&(c.preOrderHooks??=[]).push(0-s,f),m&&((c.preOrderHooks??=[]).push(s,m),(c.preOrderCheckHooks??=[]).push(s,m))}(c,m[c],a)}finally{null!==T&&gn(T),Vn(b),y.resolving=!1,at()}}return f}function fm(s,a,c){return!!(c[a+(s>>xu)]&1<<s)}function pm(s,a){return!(s&gt.Self||s&gt.Host&&a)}class br{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return xh(this._tNode,this._lView,a,Xt(u),c)}}function Do(){return new br(_r(),Ee())}function ic(s){return ue(()=>{const a=s.prototype.constructor,c=a[Fe]||Cu(a),u=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==u;){const m=f[Fe]||Cu(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Cu(s){return Ae(s)?()=>{const a=Cu(Te(s));return a&&a()}:Jo(s)}function _m(s){const a=s[Ke],c=a.type;return 2===c?a.declTNode:1===c?s[Sr]:null}function Tu(s){return function Eh(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const m=c[f];if(Qd(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(_r(),s)}const ca="__parameters__";function tn(s,a,c){return ue(()=>{const u=function So(s){return function(...c){if(s){const u=s(...c);for(const f in u)this[f]=u[f]}}}(a);function f(...m){if(this instanceof f)return u.apply(this,m),this;const y=new f(...m);return b.annotation=y,b;function b(I,T,M){const V=I.hasOwnProperty(ca)?I[ca]:Object.defineProperty(I,ca,{value:[]})[ca];for(;V.length<=M;)V.push(null);return(V[M]=V[M]||[]).push(y),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}function Qa(s,a){s.forEach(c=>Array.isArray(c)?Qa(c,a):a(c))}function Ov(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Xa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ao(s,a){const c=[];for(let u=0;u<s;u++)c.push(a);return c}function _i(s,a,c){let u=Ja(s,a);return u>=0?s[1|u]=c:(u=~u,function bm(s,a,c,u){let f=s.length;if(f==a)s.push(c,u);else if(1===f)s.push(u,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=u}}(s,u,a,c)),u}function Dh(s,a){const c=Ja(s,a);if(c>=0)return s[1|c]}function Ja(s,a){return function ku(s,a,c){let u=0,f=s.length>>c;for(;f!==u;){const m=u+(f-u>>1),y=s[m<<c];if(a===y)return m<<c;y>a?f=m:u=m+1}return~(f<<c)}(s,a,1)}const q=ln(tn("Optional"),8),_e=ln(tn("SkipSelf"),4);function Em(s){return 128==(128&s.flags)}var Mh=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Mh||{});const Lu=new Map;let EM=0;const Cm="__ngContext__";function ni(s,a){gi(a)?(s[Cm]=a[Oa],function mI(s){Lu.set(s[Oa],s)}(a)):s[Cm]=a}let Oh;function as(s,a){return Oh(s,a)}function fa(s){const a=s[wn];return Nr(a)?a[wn]:a}function vI(s){return Ph(s[Ul])}function qv(s){return Ph(s[Wr])}function Ph(s){for(;null!==s&&!Nr(s);)s=s[Wr];return s}function Uu(s,a,c,u,f){if(null!=u){let m,y=!1;Nr(u)?m=u:gi(u)&&(y=!0,u=u[bn]);const b=pn(u);0===s&&null!==c?null==f?EI(a,c,b):fc(a,c,b,f||null,!0):1===s&&null!==c?fc(a,c,b,f||null,!0):2===s?function Mm(s,a,c){const u=Am(s,a);u&&function LM(s,a,c,u){s.removeChild(a,c,u)}(s,u,a,c)}(a,b,y):3===s&&a.destroyNode(b),null!=m&&function UM(s,a,c,u,f){const m=c[Zr];m!==pn(c)&&Uu(a,s,u,m,f);for(let b=$t;b<c.length;b++){const I=c[b];Bh(I[Ke],I,s,a,u,m)}}(a,s,m,c,f)}}function Dm(s,a,c){return s.createElement(a,c)}function yI(s,a){const c=s[Bl],u=c.indexOf(a);rI(a),c.splice(u,1)}function Sm(s,a){if(s.length<=$t)return;const c=$t+a,u=s[c];if(u){const f=u[au];null!==f&&f!==s&&yI(f,u),a>0&&(s[c-1][Wr]=u[Wr]);const m=Xa(s,$t+a);!function kM(s,a){Bh(s,a,a[It],2,null,null),a[bn]=null,a[Sr]=null}(u[Ke],u);const y=m[Ds];null!==y&&y.detachView(m[Ke]),u[wn]=null,u[Wr]=null,u[Tt]&=-129}return u}function Wv(s,a){if(!(256&a[Tt])){const c=a[It];a[lu]&&du(a[lu]),a[Gs]&&du(a[Gs]),c.destroyNode&&Bh(s,a,c,3,null,null),function OM(s){let a=s[Ul];if(!a)return bI(s[Ke],s);for(;a;){let c=null;if(gi(a))c=a[Ul];else{const u=a[$t];u&&(c=u)}if(!c){for(;a&&!a[Wr]&&a!==s;)gi(a)&&bI(a[Ke],a),a=a[wn];null===a&&(a=s),gi(a)&&bI(a[Ke],a),c=a&&a[Wr]}a=c}}(a)}}function bI(s,a){if(!(256&a[Tt])){a[Tt]&=-129,a[Tt]|=256,function wI(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let u=0;u<c.length;u+=2){const f=a[c[u]];if(!(f instanceof Ms)){const m=c[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const b=f[m[y]],I=m[y+1];is(4,b,I);try{I.call(b)}finally{is(5,b,I)}}else{is(4,f,m);try{m.call(f)}finally{is(5,f,m)}}}}}(s,a),function FM(s,a){const c=s.cleanup,u=a[Ra];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?u[y]():u[-y].unsubscribe(),m+=2}else c[m].call(u[c[m+1]]);null!==u&&(a[Ra]=null);const f=a[vo];if(null!==f){a[vo]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(s,a),1===a[Ke].type&&a[It].destroy();const c=a[au];if(null!==c&&Nr(a[wn])){c!==a[wn]&&yI(c,a);const u=a[Ds];null!==u&&u.detachView(s)}!function Rh(s){Lu.delete(s[Oa])}(a)}}function Bu(s,a,c){return function hc(s,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[bn];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:m}=s.data[u.directiveStart+f];if(m===De.None||m===De.Emulated)return null}return Kr(u,c)}}(s,a.parent,c)}function fc(s,a,c,u,f){s.insertBefore(a,c,u,f)}function EI(s,a,c){s.appendChild(a,c)}function II(s,a,c,u,f){null!==u?fc(s,a,c,u,f):EI(s,a,c)}function Am(s,a){return s.parentNode(a)}function xI(s,a,c){return Zv(s,a,c)}let Kv,Rm,AI,km,Zv=function CI(s,a,c){return 40&s.type?Kr(s,c):null};function Vh(s,a,c,u){const f=Bu(s,u,a),m=a[It],b=xI(u.parent||a[Sr],u,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)II(m,f,c[I],b,!1);else II(m,f,c,b,!1);void 0!==Kv&&Kv(m,u,a,c,f)}function ko(s,a){if(null!==a){const c=a.type;if(3&c)return Kr(a,s);if(4&c)return Qv(-1,s[a.index]);if(8&c){const u=a.child;if(null!==u)return ko(s,u);{const f=s[a.index];return Nr(f)?Qv(-1,f):pn(f)}}if(32&c)return as(a,s)()||pn(s[a.index]);{const u=Yv(s,a);return null!==u?Array.isArray(u)?u[0]:ko(fa(s[Pn]),u):ko(s,a.next)}}return null}function Yv(s,a){return null!==a?s[Pn][Sr].projection[a.projection]:null}function Qv(s,a){const c=$t+s+1;if(c<a.length){const u=a[c],f=u[Ke].firstChild;if(null!==f)return ko(u,f)}return a[Zr]}function Uh(s,a,c,u,f,m,y){for(;null!=c;){const b=u[c.index],I=c.type;if(y&&0===a&&(b&&ni(pn(b),u),c.flags|=2),32!=(32&c.flags))if(8&I)Uh(s,a,c.child,u,f,m,!1),Uu(a,s,f,b,m);else if(32&I){const T=as(c,u);let M;for(;M=T();)Uu(a,s,f,M,m);Uu(a,s,f,b,m)}else 16&I?Jv(s,a,u,c,f,m):Uu(a,s,f,b,m);c=y?c.projectionNext:c.next}}function Bh(s,a,c,u,f,m){Uh(c,u,s.firstChild,a,f,m,!1)}function Jv(s,a,c,u,f,m){const y=c[Pn],I=y[Sr].projection[u.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Uu(a,s,f,I[T],m);else{let T=I;const M=y[wn];Em(u)&&(T.flags|=128),Uh(s,a,T,M,f,m,!0)}}function DI(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function jh(s,a,c){const{mergedAttrs:u,classes:f,styles:m}=c;null!==u&&Pl(s,a,u),null!==f&&DI(s,a,f),null!==m&&function jM(s,a,c){s.setAttribute(a,"style",c)}(s,a,m)}function ju(s){return function ey(){if(void 0===Rm&&(Rm=null,Yt.trustedTypes))try{Rm=Yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Rm}()?.createHTML(s)||s}function MI(s){AI=s}function OI(s){return function ty(){if(void 0===km&&(km=null,Yt.trustedTypes))try{km=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return km}()?.createScriptURL(s)||s}class mc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vt})`}}class PI extends mc{getTypeName(){return"HTML"}}class ny extends mc{getTypeName(){return"Style"}}class Hu extends mc{getTypeName(){return"Script"}}class ry extends mc{getTypeName(){return"URL"}}class $M extends mc{getTypeName(){return"ResourceURL"}}function Oo(s){return s instanceof mc?s.changingThisBreaksApplicationSecurity:s}function pa(s,a){const c=function NI(s){return s instanceof mc&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${vt})`)}return c===a}function FI(s){return new PI(s)}function GM(s){return new ny(s)}function qM(s){return new Hu(s)}function WM(s){return new ry(s)}function ZM(s){return new $M(s)}class KM{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(ju(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class YM{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=ju(a),c}}const LI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Om(s){return(s=String(s)).match(LI)?s:"unsafe:"+s}function ma(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function $h(...s){const a={};for(const c of s)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const VI=ma("area,br,col,hr,img,wbr"),Br=ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),UI=ma("rp,rt"),iy=$h(VI,$h(Br,ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$h(UI,ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$h(UI,Br)),Pm=ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jI=$h(Pm,ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sy=ma("script,style,template");class HI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!iy.hasOwnProperty(c))return this.sanitizedSomething=!0,!sy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let f=0;f<u.length;f++){const m=u.item(f),y=m.name,b=y.toLowerCase();if(!jI.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=m.value;Pm[b]&&(I=Om(I)),this.buf.push(" ",y,'="',Po(I),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();iy.hasOwnProperty(c)&&!VI.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Po(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const GL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zI=/([^\#-~ |!])/g;function Po(s){return s.replace(/&/g,"&amp;").replace(GL,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(zI,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nm;function XM(s,a){let c=null;try{Nm=Nm||function Hh(s){const a=new YM(s);return function zh(){try{return!!(new window.DOMParser).parseFromString(ju(""),"text/html")}catch{return!1}}()?new KM(a):a}(s);let u=a?String(a):"";c=Nm.getInertBodyElement(u);let f=5,m=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=m,m=c.innerHTML,c=Nm.getInertBodyElement(u)}while(u!==m);return ju((new HI).sanitizeChildren($I(c)||c))}finally{if(c){const u=$I(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function $I(s){return"content"in s&&function qL(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var nl=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(nl||{});function ay(s){const a=Fm();return a?a.sanitize(nl.URL,s)||"":pa(s,"URL")?Oo(s):Om(oe(s))}function qI(s){const a=Fm();if(a)return OI(a.sanitize(nl.RESOURCE_URL,s)||"");if(pa(s,"ResourceURL"))return OI(Oo(s));throw new ie(904,!1)}function eR(s,a,c){return function ZL(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?qI:ay}(a,c)(s)}function Fm(){const s=Ee();return s&&s[Yo].sanitizer}class cn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Rt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gh=new cn("ENVIRONMENT_INITIALIZER"),ZI=new cn("INJECTOR",-1),ly=new cn("INJECTOR_DEF_TYPES");class cy{get(a,c=Gr){if(c===Gr){const u=new Error(`NullInjectorError: No provider for ${ee(a)}!`);throw u.name="NullInjectorError",u}return c}}function tR(...s){return{\u0275providers:YI(0,s),\u0275fromNgModule:!0}}function YI(s,...a){const c=[],u=new Set;let f;const m=y=>{c.push(y)};return Qa(a,y=>{const b=y;qh(b,m,[],u)&&(f||=[],f.push(b))}),void 0!==f&&QI(f,m),c}function QI(s,a){for(let c=0;c<s.length;c++){const{ngModule:u,providers:f}=s[c];XI(f,m=>{a(m,u)})}}function qh(s,a,c,u){if(!(s=Te(s)))return!1;let f=null,m=Si(s);const y=!m&&en(s);if(m||y){if(y&&!y.standalone)return!1;f=s}else{const I=s.ngModule;if(m=Si(I),!m)return!1;f=I}const b=u.has(f);if(y){if(b)return!1;if(u.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)qh(T,a,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let T;u.add(f);try{Qa(m.imports,M=>{qh(M,a,c,u)&&(T||=[],T.push(M))})}finally{}void 0!==T&&QI(T,a)}if(!b){const T=Jo(f)||(()=>new f);a({provide:f,useFactory:T,deps:je},f),a({provide:ly,useValue:f,multi:!0},f),a({provide:Gh,useValue:()=>Be(f),multi:!0},f)}const I=m.providers;if(null!=I&&!b){const T=s;XI(I,M=>{a(M,T)})}}}return f!==s&&void 0!==s.providers}function XI(s,a){for(let c of s)ze(c)&&(c=c.\u0275providers),Array.isArray(c)?XI(c,a):a(c)}const QL=H({provide:String,useValue:H});function JI(s){return null!==s&&"object"==typeof s&&QL in s}function zu(s){return"function"==typeof s}const Lm=new cn("Set Injector scope."),Wh={},gc={};let Ns;function Vm(){return void 0===Ns&&(Ns=new cy),Ns}class eo{}class Um extends eo{get destroyed(){return this._destroyed}constructor(a,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ls(a,y=>this.processProvider(y)),this.records.set(ZI,_c(void 0,this)),f.has("environment")&&this.records.set(eo,_c(void 0,this));const m=this.records.get(Lm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(ly.multi,je,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Q(this),u=gn(void 0);try{return a()}finally{Q(c),gn(u)}}get(a,c=Gr,u=gt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Dr))return a[Dr](this);u=Xt(u);const m=Q(this),y=gn(void 0);try{if(!(u&gt.SkipSelf)){let I=this.records.get(a);if(void 0===I){const T=function sR(s){return"function"==typeof s||"object"==typeof s&&s instanceof cn}(a)&&or(a);I=T&&this.injectableDefInScope(T)?_c(uy(a),Wh):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(u&gt.Self?Vm():this.parent).get(a,c=u&gt.Optional&&c===Gr?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Ri]=b[Ri]||[]).unshift(ee(a)),m)throw b;return function ki(s,a,c,u){const f=s[Ri];throw a[P]&&f.unshift(a[P]),s.message=function Oi(s,a,c,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ee(a);if(Array.isArray(a))f=a.map(ee).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let b=a[y];m.push(y+":"+("string"==typeof b?JSON.stringify(b):ee(b)))}f=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${s.replace(G,"\n  ")}`}("\n"+s.message,f,c,u),s.ngTokenPath=f,s[Ri]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{gn(y),Q(m)}}resolveInjectorInitializers(){const a=Q(this),c=gn(void 0);try{const f=this.get(Gh.multi,je,gt.Self);for(const m of f)m()}finally{Q(a),gn(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(ee(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(a){let c=zu(a=Te(a))?a:Te(a&&a.provide);const u=function Zh(s){return JI(s)?_c(void 0,s.useValue):_c(ga(s),Wh)}(a);if(zu(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=_c(void 0,Wh,!0),f.factory=()=>bt(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===Wh&&(c.value=gc,c.value=c.factory()),"object"==typeof c.value&&c.value&&function rl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Te(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function uy(s){const a=or(s),c=null!==a?a.factory:Jo(s);if(null!==c)return c;if(s instanceof cn)throw new ie(204,!1);if(s instanceof Function)return function iR(s){const a=s.length;if(a>0)throw Ao(a,"?"),new ie(204,!1);const c=function Tr(s){return s&&(s[pi]||s[Ai])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new ie(204,!1)}function ga(s,a,c){let u;if(zu(s)){const f=Te(s);return Jo(f)||uy(f)}if(JI(s))u=()=>Te(s.useValue);else if(function rR(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...bt(s.deps||[]));else if(function nR(s){return!(!s||!s.useExisting)}(s))u=()=>Be(Te(s.useExisting));else{const f=Te(s&&(s.useClass||s.provide));if(!function ri(s){return!!s.deps}(s))return Jo(f)||uy(f);u=()=>new f(...bt(s.deps))}return u}function _c(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function ls(s,a){for(const c of s)Array.isArray(c)?ls(c,a):c&&ze(c)?ls(c.\u0275providers,a):a(c)}const dy=new cn("AppId",{providedIn:"root",factory:()=>ex}),ex="ng",hy=new cn("Platform Initializer"),Bm=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tx=new cn("AnimationModuleType"),nx=new cn("CSP nonce",{providedIn:"root",factory:()=>function pc(){if(void 0!==AI)return AI;if(typeof document<"u")return document;throw new ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ii=(s,a,c)=>null;function ax(s,a,c=!1){return ii(s,a,c)}class XL{}class dR{}class dx{resolveComponentFactory(a){throw function JL(s){const a=Error(`No component factory found for ${ee(s)}.`);return a.ngComponent=s,a}(a)}}let Zm=(()=>{class a{}return a.NULL=new dx,a})();function t2(){return Xh(_r(),Ee())}function Xh(s,a){return new va(Kr(s,a))}let va=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=t2,a})();function Km(s){return s instanceof va?s.nativeElement:s}class bc{}let Jh=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function vy(){const s=Ee(),c=Yr(_r().index,s);return(gi(c)?c:s)[It]}(),a})(),fR=(()=>{var s;class a{}return(s=a).\u0275prov=Rt({token:s,providedIn:"root",factory:()=>null}),a})();class Ym{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const hx=new Ym("16.2.4"),Zu={};function Ku(s,a=null,c=null,u){const f=nf(s,a,c,u);return f.resolveInjectorInitializers(),f}function nf(s,a=null,c=null,u,f=new Set){const m=[c||je,tR(s)];return u=u||("object"==typeof s?void 0:ee(s)),new Um(m,a||Vm(),u||null,f)}let Ui=(()=>{var s;class a{static create(u,f){if(Array.isArray(u))return Ku({name:""},f,u,"");{const m=u.name??"";return Ku({name:m},u.parent,u.providers,m)}}}return(s=a).THROW_IF_NOT_FOUND=Gr,s.NULL=new cy,s.\u0275prov=Rt({token:s,providedIn:"any",factory:()=>Be(ZI)}),s.__NG_ELEMENT_ID__=-1,a})();function Iy(s){return a=>{setTimeout(s,void 0,a)}}const to=class _R extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let f=a,m=c||(()=>null),y=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(m=Iy(m),f&&(f=Iy(f)),y&&(y=Iy(y)));const b=super.subscribe({next:f,error:m,complete:y});return a instanceof z.w0&&a.add(b),b}};function px(...s){}class jr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new to(!1),this.onMicrotaskEmpty=new to(!1),this.onStable=new to(!1),this.onError=new to(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function mx(){const s="function"==typeof Yt.requestAnimationFrame;let a=Yt[s?"requestAnimationFrame":"setTimeout"],c=Yt[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function o2(s){const a=()=>{!function s2(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sf(s),s.isCheckStableRunning=!0,rf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,m,y,b)=>{if(function bR(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(b))return c.invokeTask(f,m,y,b);try{return gx(s),c.invokeTask(f,m,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),xy(s)}},onInvoke:(c,u,f,m,y,b,I)=>{try{return gx(s),c.invoke(f,m,y,b,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),xy(s)}},onHasTask:(c,u,f,m)=>{c.hasTask(f,m),u===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,sf(s),rf(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,f,m)=>(c.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new ie(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,vR,px,px);try{return m.runTask(y,c,u)}finally{m.cancelTask(y)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const vR={};function rf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function gx(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xy(s){s._nesting--,rf(s)}class Cy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new to,this.onMicrotaskEmpty=new to,this.onStable=new to,this.onError=new to}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,f){return a.apply(c,u)}}const _x=new cn("",{providedIn:"root",factory:yR});function yR(){const s=et(jr);let a=!0;const c=new U.y(f=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new U.y(f=>{let m;s.runOutsideAngular(()=>{m=s.onStable.subscribe(()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=s.onUnstable.subscribe(()=>{jr.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,re.T)(c,u.pipe((0,He.B)()))}function Ar(s){return s instanceof Function?s():s}let yx=(()=>{var s;class a{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ie(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const u of this.callbacks)u.invoke()}finally{this.runningCallbacks=!1;for(const u of this.deferredCallbacks)this.callbacks.add(u);this.deferredCallbacks.clear()}}register(u){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(u)}unregister(u){this.callbacks.delete(u),this.deferredCallbacks.delete(u)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=a).\u0275prov=Rt({token:s,providedIn:"root",factory:()=>new s}),a})();function Jm(s){for(;s;){s[Tt]|=64;const a=fa(s);if(ih(s)&&!a)return s;s=a}return null}function eg(s){return s.ngOriginalError}class Yu{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&eg(a);for(;c&&eg(c);)c=eg(c);return c||null}}const Sy=new cn("",{providedIn:"root",factory:()=>!1});let ng=null;function Ix(s,a){return s[a]??Ry()}function ig(s,a){const c=Ry();c.producerNode?.length&&(s[a]=ng,c.lView=s,ng=sg())}const DR={...qs,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{Jm(s.lView)},lView:null};function sg(){return Object.create(DR)}function Ry(){return ng??=sg(),ng}const Nt={};function ky(s){xx(Gt(),Ee(),Fr()+s,!1)}function xx(s,a,c,u){if(!u)if(3==(3&a[Tt])){const m=s.preOrderCheckHooks;null!==m&&oa(a,m,c)}else{const m=s.preOrderHooks;null!==m&&Eu(a,m,0,c)}sa(c)}function xc(s,a=gt.Default){const c=Ee();return null===c?Be(s,a):xh(_r(),c,Te(s),a)}function Cx(){throw new Error("invalid")}function og(s,a,c,u,f,m,y,b,I,T,M){const V=a.blueprint.slice();return V[bn]=f,V[Tt]=140|u,(null!==T||s&&2048&s[Tt])&&(V[Tt]|=2048),bv(V),V[wn]=V[$s]=s,V[En]=c,V[Yo]=y||s&&s[Yo],V[It]=b||s&&s[It],V[Ts]=I||s&&s[Ts]||null,V[Sr]=m,V[Oa]=function xm(){return EM++}(),V[Ss]=M,V[th]=T,V[Pn]=2==a.type?s[Pn]:V,V}function Qu(s,a,c,u,f){let m=s.data[a];if(null===m)m=function ag(s,a,c,u,f){const m=bu(),y=Fn(),I=s.data[a]=function Dx(s,a,c,u,f,m){let y=a?a.injectorIndex:-1,b=0;return ia()&&(b|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,a,u,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(y?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(s,a,c,u,f),function Yl(){return Dt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=f;const y=function As(){const s=Dt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Zs(m,!0),m}function uf(s,a,c,u){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(u),s.blueprint.push(u),s.data.push(null);return f}function SR(s,a,c,u,f){const m=Ix(a,lu),y=Fr(),b=2&u;try{sa(-1),b&&a.length>Ht&&xx(s,a,Ht,!1),is(b?2:0,f);const T=b?m:null,M=lh(T);try{null!==T&&(T.dirty=!1),c(u,f)}finally{La(T,M)}}finally{b&&null===a[lu]&&ig(a,lu),sa(y),is(b?3:1,f)}}function df(s,a,c){if(cu(a)){const u=lr(null);try{const m=a.directiveEnd;for(let y=a.directiveStart;y<m;y++){const b=s.data[y];b.contentQueries&&b.contentQueries(1,c[y],y)}}finally{lr(u)}}}function Py(s,a,c){Zl()&&(function Ox(s,a,c,u){const f=c.directiveStart,m=c.directiveEnd;yo(c)&&function UR(s,a,c){const u=Kr(a,s),f=Ny(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const b=ff(s,og(s,f,null,y,u,a,null,s[Yo].rendererFactory.createRenderer(u,c),null,null,null));s[a.index]=b}(a,c,s.data[f+c.componentOffset]),s.firstCreatePass||Sn(c,a),ni(u,a);const y=c.initialInputs;for(let b=f;b<m;b++){const I=s.data[b],T=To(a,s,b,c);ni(T,a),null!==y&&Bi(0,b-f,T,I,0,y),ns(I)&&(Yr(c.index,a)[En]=To(a,s,b,c))}}(s,a,c,Kr(c,a)),64==(64&c.flags)&&LR(s,a,c))}function lg(s,a,c=Kr){const u=a.localNames;if(null!==u){let f=a.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],b=-1===y?c(a,s):s[y];s[f++]=b}}}function Ny(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=ya(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function ya(s,a,c,u,f,m,y,b,I,T,M){const V=Ht+u,Y=V+f,X=function AR(s,a){const c=[];for(let u=0;u<a;u++)c.push(u<s?null:Nt);return c}(V,Y),fe="function"==typeof T?T():T;return X[Ke]={type:s,blueprint:X,template:c,queries:null,viewQuery:b,declTNode:a,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:fe,incompleteFirstPass:!1,ssrId:M}}let Fy=s=>null;function Sx(s,a,c,u){for(let f in s)if(s.hasOwnProperty(f)){c=null===c?{}:c;const m=s[f];null===u?Ly(c,a,f,m):u.hasOwnProperty(f)&&Ly(c,a,u[f],m)}return c}function Ly(s,a,c,u){s.hasOwnProperty(c)?s[c].push(a,u):s[c]=[a,u]}function cs(s,a,c,u,f,m,y,b){const I=Kr(a,c);let M,T=a.inputs;!b&&null!=T&&(M=T[u])?(ug(s,c,M,u,f),yo(a)&&function Mx(s,a){const c=Yr(a,s);16&c[Tt]||(c[Tt]|=64)}(c,a.index)):3&a.type&&(u=function Ax(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),f=null!=y?y(f,a.value||"",u):f,m.setProperty(I,u,f))}function Rx(s,a,c,u){if(Zl()){const f=null===u?null:{"":-1},m=function Px(s,a){const c=s.directiveRegistry;let u=null,f=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(Ji(a,y.selectors,!1))if(u||(u=[]),ns(y))if(null!==y.findHostDirectiveDefs){const b=[];f=f||new Map,y.findHostDirectiveDefs(y,b,f),u.unshift(...b,y),Vy(s,a,b.length)}else u.unshift(y),Vy(s,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(s,c);let y,b;null===m?y=b=null:[y,b]=m,null!==y&&FR(s,a,c,y,f,b),f&&function f2(s,a,c){if(a){const u=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new ie(-301,!1);u.push(a[f],m)}}}(c,u,f)}c.mergedAttrs=Nl(c.mergedAttrs,c.attrs)}function FR(s,a,c,u,f,m){for(let T=0;T<u.length;T++)nc(Sn(c,a),s,u[T].type);!function m2(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,u.length);for(let T=0;T<u.length;T++){const M=u[T];M.providersResolver&&M.providersResolver(M)}let y=!1,b=!1,I=uf(s,a,u.length,null);for(let T=0;T<u.length;T++){const M=u[T];c.mergedAttrs=Nl(c.mergedAttrs,M.hostAttrs),VR(s,c,a,I,M),p2(I,M,f),null!==M.contentQueries&&(c.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(c.flags|=64);const V=M.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),y=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),b=!0),I++}!function OR(s,a,c){const f=a.directiveEnd,m=s.data,y=a.attrs,b=[];let I=null,T=null;for(let M=a.directiveStart;M<f;M++){const V=m[M],Y=c?c.get(V):null,fe=Y?Y.outputs:null;I=Sx(V.inputs,M,I,Y?Y.inputs:null),T=Sx(V.outputs,M,T,fe);const Oe=null===I||null===y||Ko(a)?null:us(I,M,y);b.push(Oe)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=b,a.inputs=I,a.outputs=T}(s,c,m)}function LR(s,a,c){const u=c.directiveStart,f=c.directiveEnd,m=c.index,y=function im(){return Dt.lFrame.currentDirectiveIndex}();try{sa(m);for(let b=u;b<f;b++){const I=s.data[b],T=a[b];bh(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&h2(I,T)}}finally{sa(-1),bh(y)}}function h2(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Vy(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function p2(s,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=s;ns(a)&&(c[""]=s)}}function VR(s,a,c,u,f){s.data[u]=f;const m=f.factory||(f.factory=Jo(f.type)),y=new Ms(m,ns(f),xc);s.blueprint[u]=y,c[u]=y,function d2(s,a,c,u,f){const m=f.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const b=~a.index;(function kx(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=b&&y.push(b),y.push(c,u,m)}}(s,a,u,uf(s,c,f.hostVars,Nt),f)}function Ie(s,a,c,u,f,m){const y=Kr(s,a);!function xt(s,a,c,u,f,m,y){if(null==m)s.removeAttribute(a,f,c);else{const b=null==y?oe(m):y(m,u||"",f);s.setAttribute(a,f,b,c)}}(a[It],y,m,s.value,c,u,f)}function Bi(s,a,c,u,f,m){const y=m[a];if(null!==y)for(let b=0;b<y.length;)Uy(u,c,y[b++],y[b++],y[b++])}function Uy(s,a,c,u,f){const m=lr(null);try{const y=s.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==s.setInput?s.setInput(a,f,c,u):a[u]=f}finally{lr(m)}}function us(s,a,c){let u=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===u&&(u=[]);const y=s[m];for(let b=0;b<y.length;b+=2)if(y[b]===a){u.push(m,y[b+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function By(s,a,c,u){return[s,!0,!1,a,null,0,u,c,null,null,null]}function jy(s,a){const c=s.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const m=c[u+1];if(-1!==m){const y=s.data[m];am(c[u]),y.contentQueries(2,a[m],m)}}}function ff(s,a){return s[Ul]?s[jp][Wr]=a:s[Ul]=a,s[jp]=a,a}function cg(s,a,c){am(0);const u=lr(null);try{a(s,c)}finally{lr(u)}}function Hy(s){return s[Ra]||(s[Ra]=[])}function zy(s){return s.cleanup||(s.cleanup=[])}function $y(s,a,c){return(null===s||ns(s))&&(c=function Gl(s){for(;Array.isArray(s);){if("object"==typeof s[nh])return s;s=s[bn]}return null}(c[a.index])),c[It]}function Gy(s,a){const c=s[Ts],u=c?c.get(Yu,null):null;u&&u.handleError(a)}function ug(s,a,c,u,f){for(let m=0;m<c.length;){const y=c[m++],b=c[m++];Uy(s.data[y],a[y],u,b,f)}}function Nx(s,a){const c=Yr(a,s),u=c[Ke];!function Fx(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(u,c);const f=c[bn];null!==f&&null===c[Ss]&&(c[Ss]=ax(f,c[Ts])),dg(u,c,c[En])}function dg(s,a,c){nr(a);try{const u=s.viewQuery;null!==u&&cg(1,u,c);const f=s.template;null!==f&&SR(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&jy(s,a),s.staticViewQueries&&cg(2,s.viewQuery,c);const m=s.components;null!==m&&function Lx(s,a){for(let c=0;c<a.length;c++)Nx(s,a[c])}(a,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{a[Tt]&=-5,Jr()}}let qy=(()=>{var s;class a{constructor(){this.all=new Set,this.queue=new Map}create(u,f,m){const y=typeof Zone>"u"?null:Zone.current,b=function pv(s,a,c){const u=Object.create(mv);c&&(u.consumerAllowSignalWrites=!0),u.fn=s,u.schedule=a;const f=y=>{u.cleanupFn=y};return u.ref={notify:()=>Fa(u),run:()=>{if(u.dirty=!1,u.hasRun&&!cv(u))return;u.hasRun=!0;const y=lh(u);try{u.cleanupFn(),u.cleanupFn=Zp,u.fn(f)}finally{La(u,y)}},cleanup:()=>u.cleanupFn()},u.ref}(u,M=>{this.all.has(M)&&this.queue.set(M,y)},m);let I;this.all.add(b),b.notify();const T=()=>{b.cleanup(),I?.(),this.all.delete(b),this.queue.delete(b)};return I=f?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[u,f]of this.queue)this.queue.delete(u),f?f.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=a).\u0275prov=Rt({token:s,providedIn:"root",factory:()=>new s}),a})();function pf(s,a,c){let u=c?s.styles:null,f=c?s.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const b=a[y];"number"==typeof b?m=b:1==m?f=ke(f,b):2==m&&(u=ke(u,b+": "+a[++y]+";"))}c?s.styles=u:s.stylesWithoutHost=u,c?s.classes=f:s.classesWithoutHost=f}function Xu(s,a,c,u,f=!1){for(;null!==c;){const m=a[c.index];null!==m&&u.push(pn(m)),Nr(m)&&Wy(m,u);const y=c.type;if(8&y)Xu(s,a,c.child,u);else if(32&y){const b=as(c,a);let I;for(;I=b();)u.push(I)}else if(16&y){const b=Yv(a,c);if(Array.isArray(b))u.push(...b);else{const I=fa(a[Pn]);Xu(I[Ke],I,b,u,!0)}}c=f?c.projectionNext:c.next}return u}function Wy(s,a){for(let c=$t;c<s.length;c++){const u=s[c],f=u[Ke].firstChild;null!==f&&Xu(u[Ke],u,f,a)}s[Zr]!==s[bn]&&a.push(s[Zr])}function mf(s,a,c,u=!0){const f=a[Yo],m=f.rendererFactory,y=f.afterRenderEventManager;m.begin?.(),y?.begin();try{Zy(s,a,s.template,c)}catch(I){throw u&&Gy(a,I),I}finally{m.end?.(),f.effectManager?.flush(),y?.end()}}function Zy(s,a,c,u){const f=a[Tt];if(256!=(256&f)){a[Yo].effectManager?.flush(),nr(a);try{bv(a),function Tv(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&SR(s,a,c,2,u);const y=3==(3&f);if(y){const T=s.preOrderCheckHooks;null!==T&&oa(a,T,null)}else{const T=s.preOrderHooks;null!==T&&Eu(a,T,0,null),Iu(a,0)}if(function Bx(s){for(let a=vI(s);null!==a;a=qv(a)){if(!a[Hp])continue;const c=a[Bl];for(let u=0;u<c.length;u++){nI(c[u])}}}(a),Ky(a,2),null!==s.contentQueries&&jy(s,a),y){const T=s.contentCheckHooks;null!==T&&oa(a,T)}else{const T=s.contentHooks;null!==T&&Eu(a,T,1),Iu(a,1)}!function Oy(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const u=Ix(a,Gs);try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)sa(~m);else{const y=m,b=c[++f],I=c[++f];rm(b,y),u.dirty=!1;const T=lh(u);try{I(2,a[y])}finally{La(u,T)}}}}finally{null===a[Gs]&&ig(a,Gs),sa(-1)}}(s,a);const b=s.components;null!==b&&Qy(a,b,0);const I=s.viewQuery;if(null!==I&&cg(2,I,u),y){const T=s.viewCheckHooks;null!==T&&oa(a,T)}else{const T=s.viewHooks;null!==T&&Eu(a,T,2),Iu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Tt]&=-73,rI(a)}finally{Jr()}}}function Ky(s,a){for(let c=vI(s);null!==c;c=qv(c))for(let u=$t;u<c.length;u++)Yy(c[u],a)}function jx(s,a,c){Yy(Yr(a,s),c)}function Yy(s,a){if(!function vv(s){return 128==(128&s[Tt])}(s))return;const c=s[Ke],u=s[Tt];if(80&u&&0===a||1024&u||2===a)Zy(c,s,c.template,s[En]);else if(s[zs]>0){Ky(s,1);const f=c.components;null!==f&&Qy(s,f,1)}}function Qy(s,a,c){for(let u=0;u<a.length;u++)jx(s,a[u],c)}class Ju{get rootNodes(){const a=this._lView,c=a[Ke];return Xu(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(a){this._lView[En]=a}get destroyed(){return 256==(256&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[wn];if(Nr(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(Sm(a,u),Xa(c,u))}this._attachedToViewContainer=!1}Wv(this._lView[Ke],this._lView)}onDestroy(a){!function Wl(s,a){if(256==(256&s[Tt]))throw new ie(911,!1);null===s[vo]&&(s[vo]=[]),s[vo].push(a)}(this._lView,a)}markForCheck(){Jm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-129}reattach(){this._lView[Tt]|=128}detectChanges(){mf(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fh(s,a){Bh(s,a,a[It],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=a}}class Hx extends Ju{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;mf(a[Ke],a,a[En],!1)}checkNoChanges(){}get context(){return null}}class Xy extends Zm{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=en(a);return new ed(c,this.ngModule)}}function Jy(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class $x{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=Xt(u);const f=this.injector.get(a,Zu,u);return f!==Zu||c===Zu?f:this.parentInjector.get(a,c,u)}}class ed extends dR{get inputs(){const a=this.componentDef,c=a.inputTransforms,u=Jy(a.inputs);if(null!==c)for(const f of u)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return u}get outputs(){return Jy(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function su(s){return s.map(Vp).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,f){let m=(f=f||this.ngModule)instanceof eo?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new $x(a,m):a,b=y.get(bc,null);if(null===b)throw new ie(407,!1);const V={rendererFactory:b,sanitizer:y.get(fR,null),effectManager:y.get(qy,null),afterRenderEventManager:y.get(yx,null)},Y=b.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",fe=u?function Tx(s,a,c,u){const m=u.get(Sy,!1)||c===De.ShadowDom,y=s.selectRootElement(a,m);return function MR(s){Fy(s)}(y),y}(Y,u,this.componentDef.encapsulation,y):Dm(Y,X,function zx(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(X)),dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let we=null;null!==fe&&(we=ax(fe,y,!0));const At=ya(0,null,null,1,0,null,null,null,null,null,null),Ut=og(null,At,null,dt,null,null,V,Y,y,null,we);let mn,wi;nr(Ut);try{const Bo=this.componentDef;let zc,u_=null;Bo.findHostDirectiveDefs?(zc=[],u_=new Map,Bo.findHostDirectiveDefs(Bo,zc,u_),zc.push(Bo)):zc=[Bo];const jD=function qx(s,a){const c=s[Ke],u=Ht;return s[u]=a,Qu(c,u,2,"#host",null)}(Ut,fe),HD=function Wx(s,a,c,u,f,m,y){const b=f[Ke];!function Zx(s,a,c,u){for(const f of s)a.mergedAttrs=Nl(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(pf(a,a.mergedAttrs,!0),null!==c&&jh(u,c,a))}(u,s,a,y);let I=null;null!==a&&(I=ax(a,f[Ts]));const T=m.rendererFactory.createRenderer(a,c);let M=16;c.signals?M=4096:c.onPush&&(M=64);const V=og(f,Ny(c),null,M,f[s.index],s,m,T,null,null,I);return b.firstCreatePass&&Vy(b,s,u.length-1),ff(f,V),f[s.index]=V}(jD,fe,Bo,zc,Ut,V,Y);wi=_h(At,Ht),fe&&function Yx(s,a,c,u){if(u)Pl(s,c,["ng-version",hx.full]);else{const{attrs:f,classes:m}=function xs(s){const a=[],c=[];let u=1,f=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++u]):8===f&&c.push(m);else{if(!Jt(f))break;f=m}u++}return{attrs:a,classes:c}}(a.selectors[0]);f&&Pl(s,c,f),m&&m.length>0&&DI(s,c,m.join(" "))}}(Y,Bo,fe,u),void 0!==c&&function Qx(s,a,c){const u=s.projection=[];for(let f=0;f<a.length;f++){const m=c[f];u.push(null!=m?Array.from(m):null)}}(wi,this.ngContentSelectors,c),mn=function Kx(s,a,c,u,f,m){const y=_r(),b=f[Ke],I=Kr(y,f);FR(b,f,y,c,null,u);for(let M=0;M<c.length;M++)ni(To(f,b,y.directiveStart+M,y),f);LR(b,f,y),I&&ni(I,f);const T=To(f,b,y.directiveStart+y.componentOffset,y);if(s[En]=f[En]=T,null!==m)for(const M of m)M(T,a);return df(b,y,s),T}(HD,Bo,zc,u_,Ut,[Xx]),dg(At,Ut,null)}finally{Jr()}return new Gx(this.componentType,mn,Xh(wi,Ut),Ut,wi)}}class Gx extends XL{constructor(a,c,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Hx(f),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const m=this._rootLView;ug(m[Ke],m,f,a,c),this.previousInputValues.set(a,c),Jm(Yr(this._tNode.index,m))}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Xx(){const s=_r();Ha(Ee()[Ke],s)}function hg(s){let a=function eb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const u=[s];for(;a;){let f;if(ns(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ie(903,!1);f=a.\u0275dir}if(f){if(c){u.push(f);const y=s;y.inputs=gf(s.inputs),y.inputTransforms=gf(s.inputTransforms),y.declaredInputs=gf(s.declaredInputs),y.outputs=gf(s.outputs);const b=f.hostBindings;b&&nC(s,b);const I=f.viewQuery,T=f.contentQueries;if(I&&eC(s,I),T&&tC(s,T),W(s.inputs,f.inputs),W(s.declaredInputs,f.declaredInputs),W(s.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),W(y.inputTransforms,f.inputTransforms)),ns(f)&&f.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const b=m[y];b&&b.ngInherit&&b(s),b===hg&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Jx(s){let a=0,c=null;for(let u=s.length-1;u>=0;u--){const f=s[u];f.hostVars=a+=f.hostVars,f.hostAttrs=Nl(f.hostAttrs,c=Nl(c,f.hostAttrs))}}(u)}function gf(s){return s===Xe?{}:s===je?[]:s}function eC(s,a){const c=s.viewQuery;s.viewQuery=c?(u,f)=>{a(u,f),c(u,f)}:a}function tC(s,a){const c=s.contentQueries;s.contentQueries=c?(u,f,m)=>{a(u,f,m),c(u,f,m)}:a}function nC(s,a){const c=s.hostBindings;s.hostBindings=c?(u,f)=>{a(u,f),c(u,f)}:a}function ib(s){const a=s.inputConfig,c={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(c[u]=f[2])}s.inputTransforms=c}function _f(s){return!!fg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function fg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Hr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function pg(s,a,c,u){const f=Ee();return Hr(f,Io(),a)&&(Gt(),Ie(yn(),f,s,a,c,u)),pg}function Tc(s,a,c,u){return Hr(s,Io(),c)?a+oe(c)+u:Nt}function fC(s,a,c,u,f,m,y,b){const I=Ee(),T=Gt(),M=s+Ht,V=T.firstCreatePass?function If(s,a,c,u,f,m,y,b,I){const T=a.consts,M=Qu(a,s,4,y||null,na(T,b));Rx(a,c,M,na(T,I)),Ha(a,M);const V=M.tView=ya(2,M,u,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T,null);return null!==a.queries&&(a.queries.template(a,M),V.queries=a.queries.embeddedTView(M)),M}(M,T,I,a,c,u,f,m,y):T.data[M];Zs(V,!1);const Y=db(T,I,V,s);xo()&&Vh(T,I,Y,V),ni(Y,I),ff(I,I[M]=By(Y,I,Y,V)),rh(V)&&Py(T,I,V),null!=y&&lg(I,V,b)}let db=function pC(s,a,c,u){return Ys(!0),a[It].createComment("")};function s1(s){return function ql(s,a){return s[a]}(function yh(){return Dt.lFrame.contextLView}(),Ht+s)}function hb(s,a,c){const u=Ee();return Hr(u,Io(),a)&&cs(Gt(),yn(),u,s,a,u[It],c,!1),hb}function Cf(s,a,c,u,f){const y=f?"class":"style";ug(s,c,a.inputs[y],y,u)}function bg(s,a,c,u){const f=Ee(),m=Gt(),y=Ht+s,b=f[It],I=m.firstCreatePass?function yg(s,a,c,u,f,m){const y=a.consts,I=Qu(a,s,2,u,na(y,f));return Rx(a,c,I,na(y,m)),null!==I.attrs&&pf(I,I.attrs,!1),null!==I.mergedAttrs&&pf(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,c,u):m.data[y],T=mC(m,f,I,b,a,s);f[y]=T;const M=rh(I);return Zs(I,!0),jh(b,T,I),32!=(32&I.flags)&&xo()&&Vh(m,f,T,I),0===function tm(){return Dt.lFrame.elementDepthCount}()&&ni(T,f),function wv(){Dt.lFrame.elementDepthCount++}(),M&&(Py(m,f,I),df(m,I,f)),null!==u&&lg(f,I),bg}function Ls(){let s=_r();Fn()?nm():(s=s.parent,Zs(s,!1));const a=s;(function Kl(s){return Dt.skipHydrationRootTNode===s})(a)&&function xv(){Dt.skipHydrationRootTNode=null}(),function vh(){Dt.lFrame.elementDepthCount--}();const c=Gt();return c.firstCreatePass&&(Ha(c,s),cu(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Qs(s){return 0!=(8&s.flags)}(a)&&Cf(c,a,Ee(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Xs(s){return 0!=(16&s.flags)}(a)&&Cf(c,a,Ee(),a.stylesWithoutHost,!1),Ls}function fb(s,a,c,u){return bg(s,a,c,u),Ls(),fb}let mC=(s,a,c,u,f,m)=>(Ys(!0),Dm(u,f,function cm(){return Dt.lFrame.currentNamespace}()));function gb(){return Ee()}function ro(s){return!!s&&"function"==typeof s.then}function a1(s){return!!s&&"function"==typeof s.subscribe}function wg(s,a,c,u){const f=Ee(),m=Gt(),y=_r();return _b(m,f,f[It],y,s,a,u),wg}function sd(s,a){const c=_r(),u=Ee(),f=Gt();return _b(f,u,$y(sm(f.data),c,u),c,s,a),sd}function _b(s,a,c,u,f,m,y){const b=rh(u),T=s.firstCreatePass&&zy(s),M=a[En],V=Hy(a);let Y=!0;if(3&u.type||y){const Oe=Kr(u,a),Ye=y?y(Oe):Oe,dt=V.length,we=y?Ut=>y(pn(Ut[u.index])):u.index;let At=null;if(!y&&b&&(At=function od(s,a,c,u){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===u){const b=a[Ra],I=f[m+2];return b.length>I?b[I]:null}"string"==typeof y&&(m+=2)}return null}(s,a,f,u.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,Y=!1;else{m=Eg(u,a,M,m,!1);const Ut=c.listen(Ye,f,m);V.push(m,Ut),T&&T.push(f,we,dt,dt+1)}}else m=Eg(u,a,M,m,!1);const X=u.outputs;let fe;if(Y&&null!==X&&(fe=X[f])){const Oe=fe.length;if(Oe)for(let Ye=0;Ye<Oe;Ye+=2){const mn=a[fe[Ye]][fe[Ye+1]].subscribe(m),wi=V.length;V.push(m,mn),T&&T.push(f,u.index,wi,-(wi+1))}}}function vb(s,a,c,u){try{return is(6,a,c),!1!==c(u)}catch(f){return Gy(s,f),!1}finally{is(7,a,c)}}function Eg(s,a,c,u,f){return function m(y){if(y===Function)return u;Jm(s.componentOffset>-1?Yr(s.index,a):a);let I=vb(a,c,u,y),T=m.__ngNextListenerFn__;for(;T;)I=vb(a,c,T,y)&&I,T=T.__ngNextListenerFn__;return f&&!1===I&&y.preventDefault(),I}}function yb(s=1){return function wu(s){return(Dt.lFrame.contextLView=function Dv(s,a){for(;s>0;)a=a[$s],s--;return a}(s,Dt.lFrame.contextLView))[En]}(s)}function vC(s,a){let c=null;const u=function Fp(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===u?Ji(s,m,!0):tv(u,m))return f}else c=f}return c}function bb(s){const a=Ee()[Pn][Sr];if(!a.projection){const u=a.projection=Ao(s?s.length:1,null),f=u.slice();let m=a.child;for(;null!==m;){const y=s?vC(m,s):0;null!==y&&(f[y]?f[y].projectionNext=m:u[y]=m,f[y]=m),m=m.next}}}function wb(s,a=0,c){const u=Ee(),f=Gt(),m=Qu(f,Ht+s,16,null,c||null);null===m.projection&&(m.projection=a),nm(),(!u[Ss]||ia())&&32!=(32&m.flags)&&function Xv(s,a,c){Jv(a[It],0,a,c,Bu(s,c,a),xI(c.parent||a[Sr],c,a))}(f,u,m)}function Ig(s,a,c){return ad(s,"",a,"",c),Ig}function ad(s,a,c,u,f){const m=Ee(),y=Tc(m,a,c,u);return y!==Nt&&cs(Gt(),yn(),m,s,y,m[It],f,!1),ad}function xg(s,a){return s<<17|a<<2}function al(s){return s>>17&32767}function Cg(s){return 2|s}function Fc(s){return(131068&s)>>2}function Df(s,a){return-131069&s|a<<2}function xb(s){return 1|s}function TC(s,a,c,u,f){const m=s[c+1],y=null===a;let b=u?al(m):Fc(m),I=!1;for(;0!==b&&(!1===I||y);){const M=s[b+1];u1(s[b],a)&&(I=!0,s[b+1]=u?xb(M):Cg(M)),b=u?al(M):Fc(M)}I&&(s[c+1]=u?Cg(m):xb(m))}function u1(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ja(s,a)>=0}const wr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DC(s){return s.substring(wr.key,wr.keyEnd)}function SC(s){return s.substring(wr.value,wr.valueEnd)}function AC(s,a){const c=wr.textEnd;let u=wr.key=Lc(s,a,c);return c===u?-1:(u=wr.keyEnd=function Db(s,a,c){let u;for(;a<c&&(45===(u=s.charCodeAt(a))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)a++;return a}(s,u,c),u=Sf(s,u,c),u=wr.value=Lc(s,u,c),u=wr.valueEnd=function p1(s,a,c){let u=-1,f=-1,m=-1,y=a,b=y;for(;y<c;){const I=s.charCodeAt(y++);if(59===I)return b;34===I||39===I?b=y=Tg(s,I,y,c):a===y-4&&85===m&&82===f&&76===u&&40===I?b=y=Tg(s,41,y,c):I>32&&(b=y),m=f,f=u,u=-33&I}return b}(s,u,c),Sf(s,u,c))}function Lc(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function Sf(s,a,c,u){return(a=Lc(s,a,c))<c&&a++,a}function Tg(s,a,c,u){let f=-1,m=c;for(;m<u;){const y=s.charCodeAt(m++);if(y==a&&92!==f)return m;f=92==y&&92===f?0:y}throw new Error}function Sb(s,a){return function yi(s,a,c,u){const f=Ee(),m=Gt(),y=Ni(2);m.firstUpdatePass&&OC(m,s,y,u),a!==Nt&&Hr(f,y,a)&&Mf(m,m.data[Fr()],f,f[It],s,f[y+1]=function E2(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ee(Oo(s)))),s}(a,c),u,y)}(s,a,null,!0),Sb}function Fo(s){!function io(s,a,c,u){const f=Gt(),m=Ni(2);f.firstUpdatePass&&OC(f,null,m,u);const y=Ee();if(c!==Nt&&Hr(y,m,c)){const b=f.data[Fr()];if(PC(b,u)&&!kC(f,m)){let I=u?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(c=ke(I,c||"")),Cf(f,b,y,c,u)}else!function v1(s,a,c,u,f,m,y,b){f===Nt&&(f=je);let I=0,T=0,M=0<f.length?f[0]:null,V=0<m.length?m[0]:null;for(;null!==M||null!==V;){const Y=I<f.length?f[I+1]:void 0,X=T<m.length?m[T+1]:void 0;let Oe,fe=null;M===V?(I+=2,T+=2,Y!==X&&(fe=V,Oe=X)):null===V||null!==M&&M<V?(I+=2,fe=M):(T+=2,fe=V,Oe=X),null!==fe&&Mf(s,a,c,u,fe,Oe,y,b),M=I<f.length?f[I]:null,V=T<m.length?m[T]:null}}(f,b,y,y[It],y[m+1],y[m+1]=function w2(s,a,c){if(null==c||""===c)return je;const u=[],f=Oo(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(u,m,f[m]);else"string"==typeof f&&a(u,f);return u}(s,a,c),u,m)}}(Rb,Ab,s,!1)}function Ab(s,a){for(let c=function h1(s){return function Tb(s){wr.key=0,wr.keyEnd=0,wr.value=0,wr.valueEnd=0,wr.textEnd=s.length}(s),AC(s,Lc(s,0,wr.textEnd))}(a);c>=0;c=AC(a,c))Rb(s,DC(a),SC(a))}function kC(s,a){return a>=s.expandoStartIndex}function OC(s,a,c,u){const f=s.data;if(null===f[c+1]){const m=f[Fr()],y=kC(s,c);PC(m,u)&&null===a&&!y&&(a=!1),a=function m1(s,a,c,u){const f=sm(s);let m=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(c=cl(c=Mb(null,s,a,c,u),a.attrs,u),m=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Mb(f,s,a,c,u),null===m){let I=function g1(s,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Fc(u))return s[al(u)]}(s,a,u);void 0!==I&&Array.isArray(I)&&(I=Mb(null,s,a,I[1],u),I=cl(I,a.attrs,u),function Af(s,a,c,u){s[al(c?a.classBindings:a.styleBindings)]=u}(s,a,u,I))}else m=function _1(s,a,c){let u;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)u=cl(u,s[m].hostAttrs,c);return cl(u,a.attrs,c)}(s,a,u)}return void 0!==m&&(u?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,u),function CC(s,a,c,u,f,m){let y=m?a.classBindings:a.styleBindings,b=al(y),I=Fc(y);s[u]=c;let M,T=!1;if(Array.isArray(c)?(M=c[1],(null===M||Ja(c,M)>0)&&(T=!0)):M=c,f)if(0!==I){const Y=al(s[b+1]);s[u+1]=xg(Y,b),0!==Y&&(s[Y+1]=Df(s[Y+1],u)),s[b+1]=function cr(s,a){return 131071&s|a<<17}(s[b+1],u)}else s[u+1]=xg(b,0),0!==b&&(s[b+1]=Df(s[b+1],u)),b=u;else s[u+1]=xg(I,0),0===b?b=u:s[I+1]=Df(s[I+1],u),I=u;T&&(s[u+1]=Cg(s[u+1])),TC(s,M,u,!0),TC(s,M,u,!1),function ll(s,a,c,u,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Ja(m,a)>=0&&(c[u+1]=xb(c[u+1]))}(a,M,s,u,m),y=xg(b,I),m?a.classBindings=y:a.styleBindings=y}(f,m,a,c,y,u)}}function Mb(s,a,c,u,f){let m=null;const y=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<y&&(m=a[b],u=cl(u,m.hostAttrs,f),m!==s);)b++;return null!==s&&(c.directiveStylingLast=b),u}function cl(s,a,c){const u=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),_i(s,y,!!c||a[++m]))}return void 0===s?null:s}function Rb(s,a,c){_i(s,a,Oo(c))}function Mf(s,a,c,u,f,m,y,b){if(!(3&a.type))return;const I=s.data,T=I[b+1],M=function xC(s){return 1==(1&s)}(T)?y1(I,a,c,f,Fc(T),y):void 0;kb(M)||(kb(m)||function c1(s){return 2==(2&s)}(T)&&(m=y1(I,null,c,f,b,y)),function BM(s,a,c,u,f){if(a)f?s.addClass(c,u):s.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:Mh.DashCase;null==f?s.removeStyle(c,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Mh.Important),s.setStyle(c,u,f,m))}}(u,y,Ba(Fr(),c),f,m))}function y1(s,a,c,u,f,m){const y=null===a;let b;for(;f>0;){const I=s[f],T=Array.isArray(I),M=T?I[1]:I,V=null===M;let Y=c[f+1];Y===Nt&&(Y=V?je:void 0);let X=V?Dh(Y,u):M===u?Y:void 0;if(T&&!kb(X)&&(X=Dh(I,u)),kb(X)&&(b=X,y))return b;const fe=s[f+1];f=y?al(fe):Fc(fe)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(b=Dh(I,u))}return b}function kb(s){return void 0!==s}function PC(s,a){return 0!=(s.flags&(a?8:16))}function ld(s,a=""){const c=Ee(),u=Gt(),f=s+Ht,m=u.firstCreatePass?Qu(u,f,1,a,null):u.data[f],y=NC(u,c,m,a,s);c[f]=y,xo()&&Vh(u,c,y,m),Zs(m,!1)}let NC=(s,a,c,u,f)=>(Ys(!0),function Tm(s,a){return s.createText(a)}(a[It],u));function cd(s){return bi("",s,""),cd}function bi(s,a,c){const u=Ee(),f=Tc(u,s,a,c);return f!==Nt&&function No(s,a,c){const u=Ba(a,s);!function uc(s,a,c){s.setValue(a,c)}(s[It],u,c)}(u,Fr(),f),bi}function Sg(s,a,c){Fo(Tc(Ee(),s,a,c))}function jb(s,a,c){const u=Ee();return Hr(u,Io(),a)&&cs(Gt(),yn(),u,s,a,u[It],c,!0),jb}function BC(s,a,c){const u=Ee();if(Hr(u,Io(),a)){const m=Gt(),y=yn();cs(m,y,u,s,a,$y(sm(m.data),y,u),c,!0)}return BC}const dd=void 0;var O1=["en",[["a","p"],["AM","PM"],dd],[["AM","PM"],dd,dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dd,"{1} 'at' {0}",dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jC(s){const c=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let dl={};function Hb(s){const a=function R2(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=zC(a);if(c)return c;const u=a.split("-")[0];if(c=zC(u),c)return c;if("en"===u)return O1;throw new ie(701,!1)}function HC(s){return Hb(s)[Of.PluralCase]}function zC(s){return s in dl||(dl[s]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[s]),dl[s]}var Of=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Of||{});const hd="en-US";let hl=hd;function n0(s,a,c,u,f){if(s=Te(s),Array.isArray(s))for(let m=0;m<s.length;m++)n0(s[m],a,c,u,f);else{const m=Gt(),y=Ee(),b=_r();let I=zu(s)?s:Te(s.provide);const T=ga(s),M=1048575&b.providerIndexes,V=b.directiveStart,Y=b.providerIndexes>>20;if(zu(s)||!s.multi){const X=new Ms(T,f,xc),fe=r0(I,a,f?M:M+Y,V);-1===fe?(nc(Sn(b,y),m,I),Lf(m,s,a.length),a.push(I),b.directiveStart++,b.directiveEnd++,f&&(b.providerIndexes+=1048576),c.push(X),y.push(X)):(c[fe]=X,y[fe]=X)}else{const X=r0(I,a,M+Y,V),fe=r0(I,a,M,M+Y),Ye=fe>=0&&c[fe];if(f&&!Ye||!f&&!(X>=0&&c[X])){nc(Sn(b,y),m,I);const dt=function dk(s,a,c,u,f){const m=new Ms(s,c,xc);return m.multi=[],m.index=a,m.componentProviders=0,uk(m,f,u&&!c),m}(f?lT:aT,c.length,f,u,T);!f&&Ye&&(c[fe].providerFactory=dt),Lf(m,s,a.length,0),a.push(I),b.directiveStart++,b.directiveEnd++,f&&(b.providerIndexes+=1048576),c.push(dt),y.push(dt)}else Lf(m,s,X>-1?X:fe,uk(c[f?fe:X],T,!f&&u));!f&&u&&Ye&&c[fe].componentProviders++}}}function Lf(s,a,c,u){const f=zu(a),m=function F(s){return!!s.useClass}(a);if(f||m){const I=(m?Te(a.useClass):a).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const M=T.indexOf(c);-1===M?T.push(c,[u,I]):T[M+1].push(u,I)}else T.push(c,I)}}}function uk(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function r0(s,a,c,u){for(let f=c;f<u;f++)if(a[f]===s)return f;return-1}function aT(s,a,c,u){return cT(this.multi,[])}function lT(s,a,c,u){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=To(c,c[Ke],this.providerFactory.index,u);m=b.slice(0,y),cT(f,m);for(let I=y;I<b.length;I++)m.push(b[I])}else m=[],cT(f,m);return m}function cT(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function hk(s,a=[]){return c=>{c.providersResolver=(u,f)=>function ck(s,a,c){const u=Gt();if(u.firstCreatePass){const f=ns(s);n0(c,u.data,u.blueprint,f,!0),n0(a,u.data,u.blueprint,f,!1)}}(u,f?f(s):s,a)}}class Uc{}class fk{}function pk(s,a){return new Lg(s,a??null,[])}class Lg extends Uc{constructor(a,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xy(this);const f=gr(a);this._bootstrapComponents=Ar(f.bootstrap),this._r3Injector=nf(a,c,[{provide:Uc,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver},...u],ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Vg extends fk{constructor(a){super(),this.moduleType=a}create(a){return new Lg(this.moduleType,a,[])}}class uT extends Uc{constructor(a){super(),this.componentFactoryResolver=new Xy(this),this.instance=null;const c=new Um([...a.providers,{provide:Uc,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver}],a.parent||Vm(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function s0(s,a,c=null){return new uT({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let dT=(()=>{var s;class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const f=YI(0,u.type),m=f.length>0?s0([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,m)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(s=a).\u0275prov=Rt({token:s,providedIn:"environment",factory:()=>new s(Be(eo))}),a})();function hT(s){s.getStandaloneInjector=a=>a.get(dT).getOrCreateStandaloneInjector(s)}function Rk(){return this._results[Symbol.iterator]()}class c0{get changes(){return this._changes||(this._changes=new to)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=c0.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Rk)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const f=function Ur(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function ym(s,a,c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++){let f=s[u],m=a[u];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ST(s,a,c,u=!0){const f=a[Ke];if(function PM(s,a,c,u){const f=$t+u,m=c.length;u>0&&(c[f-1][Wr]=a),u<m-$t?(a[Wr]=c[f],Ov(c,$t+u,a)):(c.push(a),a[Wr]=null),a[wn]=c;const y=a[au];null!==y&&c!==y&&function NM(s,a){const c=s[Bl];a[Pn]!==a[wn][wn][Pn]&&(s[Hp]=!0),null===c?s[Bl]=[a]:c.push(a)}(y,a);const b=a[Ds];null!==b&&b.insertView(s),a[Tt]|=128}(f,a,s,c),u){const m=Qv(c,s),y=a[It],b=Am(y,s[Zr]);null!==b&&function Nh(s,a,c,u,f,m){u[bn]=f,u[Sr]=a,Bh(s,u,c,1,f,m)}(f,s[Sr],y,a,b,m)}}let Bf=(()=>{class a{}return a.__NG_ELEMENT_ID__=d0,a})();const u0=Bf,md=class extends u0{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,u){const f=function kk(s,a,c,u){const f=a.tView,b=og(s,f,c,4096&s[Tt]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);b[au]=s[a.index];const T=s[Ds];return null!==T&&(b[Ds]=T.createEmbeddedView(f)),dg(f,b,c),b}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:u});return new Ju(f)}};function d0(){return Hg(_r(),Ee())}function Hg(s,a){return 4&s.type?new md(a,s,Xh(s,a)):null}let zg=(()=>{class a{}return a.__NG_ELEMENT_ID__=OT,a})();function OT(){return PT(_r(),Ee())}const m0=zg,g0=class extends m0{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){const a=la(this._hostTNode,this._hostLView);if(Ga(a)){const c=ei(a,this._hostLView),u=qt(a);return new br(c[Ke].data[u+8],c)}return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=$g(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(a,c,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const b=a.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(b,f,false),b}createComponent(a,c,u,f,m){const y=a&&!function Js(s){return"function"==typeof s}(a);let b;if(y)b=c;else{const Oe=c||{};b=Oe.index,u=Oe.injector,f=Oe.projectableNodes,m=Oe.environmentInjector||Oe.ngModuleRef}const I=y?a:new ed(en(a)),T=u||this.parentInjector;if(!m&&null==I.ngModule){const Ye=(y?T:this.parentInjector).get(eo,null);Ye&&(m=Ye)}en(I.componentType??{});const X=I.create(T,f,null,m);return this.insertImpl(X.hostView,b,false),X}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,u){const f=a._lView;if(function yv(s){return Nr(s[wn])}(f)){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const T=f[wn],M=new g0(T,T[Sr],T[wn]);M.detach(M.indexOf(a))}}const y=this._adjustIndex(c),b=this._lContainer;return ST(b,f,y,!u),a.attachToViewContainerRef(),Ov(jf(b),y,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=$g(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=Sm(this._lContainer,c);u&&(Xa(jf(this._lContainer),c),Wv(u[Ke],u))}detach(a){const c=this._adjustIndex(a,-1),u=Sm(this._lContainer,c);return u&&null!=Xa(jf(this._lContainer),c)?new Ju(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function $g(s){return s[8]}function jf(s){return s[8]||(s[8]=[])}function PT(s,a){let c;const u=a[s.index];return Nr(u)?c=u:(c=By(u,a,null,s),a[s.index]=c,ff(a,c)),Gg(c,a,s,u),new g0(c,s,a)}let Gg=function NT(s,a,c,u){if(s[Zr])return;let f;f=8&c.type?pn(u):function Nk(s,a){const c=s[It],u=c.createComment(""),f=Kr(a,s);return fc(c,Am(c,f),u,function VM(s,a){return s.nextSibling(a)}(c,f),!1),u}(a,c),s[Zr]=f};class Vo{constructor(a){this.queryList=a,this.matches=null}clone(){return new Vo(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hf{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<u;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new Hf(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==T0(a,c).matches&&this.queries[c].setDirty()}}class FT{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class LT{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(a,f);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new LT(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class _0{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new _0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(a,c,Vk(c,m)),this.matchTNodeWithReadOption(a,c,Co(c,a,m,!1,!1))}else u===Bf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Co(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===va||f===zg||f===Bf&&4&c.type)this.addMatch(c.index,-2);else{const m=Co(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Vk(s,a){const c=s.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function VT(s,a,c,u){return-1===c?function v0(s,a){return 11&s.type?Xh(s,a):4&s.type?Hg(s,a):null}(a,s):-2===c?function UT(s,a,c){return c===va?Xh(a,s):c===Bf?Hg(a,s):c===zg?PT(a,s):void 0}(s,a,u):To(s,s[Ke],c,a)}function y0(s,a,c,u){const f=a[Ds].queries[u];if(null===f.matches){const m=s.data,y=c.matches,b=[];for(let I=0;I<y.length;I+=2){const T=y[I];b.push(T<0?null:VT(a,m[T],y[I+1],c.metadata.read))}f.matches=b}return f.matches}function qg(s,a,c,u){const f=s.queries.getByIndex(c),m=f.matches;if(null!==m){const y=y0(s,a,f,c);for(let b=0;b<m.length;b+=2){const I=m[b];if(I>0)u.push(y[b/2]);else{const T=m[b+1],M=a[-I];for(let V=$t;V<M.length;V++){const Y=M[V];Y[au]===Y[wn]&&qg(Y[Ke],Y,T,u)}if(null!==M[Bl]){const V=M[Bl];for(let Y=0;Y<V.length;Y++){const X=V[Y];qg(X[Ke],X,T,u)}}}}}return u}function b0(s){const a=Ee(),c=Gt(),u=om();am(u+1);const f=T0(c,u);if(s.dirty&&function Jp(s){return 4==(4&s[Tt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?qg(c,a,u,[]):y0(c,a,f,u);s.reset(m,Km),s.notifyOnChanges()}return!0}return!1}function w0(s,a,c){const u=Gt();u.firstCreatePass&&(C0(u,new FT(s,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),x0(u,Ee(),a)}function E0(s,a,c,u){const f=Gt();if(f.firstCreatePass){const m=_r();C0(f,new FT(a,c,u),m.index),function jT(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}x0(f,Ee(),c)}function I0(){return function BT(s,a){return s[Ds].queries[a].queryList}(Ee(),om())}function x0(s,a,c){const u=new c0(4==(4&c));(function hf(s,a,c,u){const f=Hy(a);f.push(c),s.firstCreatePass&&zy(s).push(u,f.length-1)})(s,a,u,u.destroy),null===a[Ds]&&(a[Ds]=new Hf),a[Ds].queries.push(new Vo(u))}function C0(s,a,c){null===s.queries&&(s.queries=new LT),s.queries.track(new _0(a,c))}function T0(s,a){return s.queries.getByIndex(a)}function D0(s,a){return Hg(s,a)}function Zg(s){return!!gr(s)}const F0=new cn("Application Initializer");let L0=(()=>{var s;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=et(F0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const m of this.appInits){const y=m();if(ro(y))u.push(y);else if(a1(y)){const b=new Promise((I,T)=>{y.subscribe({complete:I,error:T})});u.push(b)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),a})(),rD=(()=>{var s;class a{log(u){console.log(u)}warn(u){console.warn(u)}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();const Xg=new cn("LocaleId",{providedIn:"root",factory:()=>et(Xg,gt.Optional|gt.SkipSelf)||function eO(){return typeof $localize<"u"&&$localize.locale||hd}()}),tO=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let iD=(()=>{var s;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();class oV{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let aV=(()=>{var s;class a{compileModuleSync(u){return new Vg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=Ar(gr(u).declarations).reduce((b,I)=>{const T=en(I);return T&&b.push(new ed(T)),b},[]);return new oV(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();const dO=new cn(""),hO=new cn("");let z0,hV=(()=>{var s;class a{constructor(u,f,m){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z0||(function fV(s){z0=s}(m),m.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,m){return[]}}return(s=a).\u0275fac=function(u){return new(u||s)(Be(jr),Be(Wf),Be(hO))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac}),a})(),Wf=(()=>{var s;class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return z0?.findTestabilityInTree(this,u,f)??null}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})(),gl=null;const hD=new cn("AllowMultipleToken"),$0=new cn("PlatformDestroyListeners"),G0=new cn("appBootstrapListener");class mO{constructor(a,c){this.name=a,this.token=c}}function mD(s,a,c=[]){const u=`Platform: ${a}`,f=new cn(u);return(m=[])=>{let y=_D();if(!y||y.injector.get(hD,!1)){const b=[...c,...m,{provide:f,useValue:!0}];s?s(b):function t_(s){if(gl&&!gl.get(hD,!1))throw new ie(400,!1);(function fD(){!function hv(s){mu=s}(()=>{throw new ie(600,!1)})})(),gl=s;const a=s.get(vD);(function pD(s){s.get(hy,null)?.forEach(c=>c())})(s)}(function gD(s=[],a){return Ui.create({name:a,providers:[{provide:Lm,useValue:"platform"},{provide:$0,useValue:new Set([()=>gl=null])},...s]})}(b,u))}return function gO(s){const a=_D();if(!a)throw new ie(401,!1);return a}()}}function _D(){return gl?.get(vD)??null}let vD=(()=>{var s;class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const m=function bD(s="zone.js",a){return"noop"===s?new Cy:"zone.js"===s?new jr(a):s}(f?.ngZone,function yD(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return m.run(()=>{const y=function mk(s,a,c){return new Lg(s,a,c)}(u.moduleType,this.injector,function ED(s){return[{provide:jr,useFactory:s},{provide:Gh,multi:!0,useFactory:()=>{const a=et(K0,{optional:!0});return()=>a.initialize()}},{provide:W0,useFactory:Z0},{provide:_x,useFactory:yR}]}(()=>m)),b=y.injector.get(Yu,null);return m.runOutsideAngular(()=>{const I=m.onError.subscribe({next:T=>{b.handleError(T)}});y.onDestroy(()=>{Zf(this._modules,y),I.unsubscribe()})}),function q0(s,a,c){try{const u=c();return ro(u)?u.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>s.handleError(u)),u}}(b,m,()=>{const I=y.injector.get(L0);return I.runInitializers(),I.donePromise.then(()=>(function Ag(s){it(s,"Expected localeId to be defined"),"string"==typeof s&&(hl=s.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Xg,hd)||hd),this._moduleDoBootstrap(y),y))})})}bootstrapModule(u,f=[]){const m=wD({},f);return function fO(s,a,c){const u=new Vg(c);return Promise.resolve(u)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const f=u.injector.get(wd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new ie(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get($0,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=a).\u0275fac=function(u){return new(u||s)(Be(Ui))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),a})();function wD(s,a){return Array.isArray(a)?a.reduce(wD,s):{...s,...a}}let wd=(()=>{var s;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=et(W0),this.zoneIsStable=et(_x),this.componentTypes=[],this.components=[],this.isStable=et(iD).hasPendingTasks.pipe((0,Ze.w)(u=>u?(0,he.of)(!1):this.zoneIsStable),(0,Re.x)(),(0,He.B)()),this._injector=et(eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const m=u instanceof dR;if(!this._injector.get(L0).done)throw!m&&Ma(u),new ie(405,!1);let b;b=m?u:this._injector.get(Zm).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const I=function pO(s){return s.isBoundToModule}(b)?void 0:this._injector.get(Uc),M=b.create(Ui.NULL,[],f||b.selector,I),V=M.location.nativeElement,Y=M.injector.get(dO,null);return Y?.registerApplication(V),M.onDestroy(()=>{this.detachView(M.hostView),Zf(this.components,M),Y?.unregisterApplication(V)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Zf(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(G0,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Zf(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ie(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function Zf(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const W0=new cn("",{providedIn:"root",factory:()=>et(Yu).handleError.bind(void 0)});function Z0(){const s=et(jr),a=et(Yu);return c=>s.runOutsideAngular(()=>a.handleError(c))}let K0=(()=>{var s;class a{constructor(){this.zone=et(jr),this.applicationRef=et(wd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=a).\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),a})();function _O(){return!1}let ID=(()=>{class a{}return a.__NG_ELEMENT_ID__=Q0,a})();function Q0(s){return function vO(s,a,c){if(yo(s)&&!c){const u=Yr(s.index,a);return new Ju(u,u)}return 47&s.type?new Ju(a[Pn],a):null}(_r(),Ee(),16==(16&s))}class ew{constructor(){}supports(a){return _f(a)}create(a){return new MD(a)}}const AD=(s,a)=>a;class MD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||AD}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,f=0,m=null;for(;c||u;){const y=!u||c&&c.currentIndex<tw(u,f,m)?c:u,b=tw(y,f,m),I=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const T=b-f,M=I-f;if(T!=M){for(let Y=0;Y<T;Y++){const X=Y<m.length?m[Y]:m[Y]=0,fe=X+Y;M<=fe&&fe<T&&(m[Y]=X+1)}m[y.previousIndex]=M-T}}b!==I&&a(y,b,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!_f(a))throw new ie(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)m=a[b],y=this._trackByFn(b,m),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,m,y,b)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,b),u=!0),c=c._next}else f=0,function cC(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,b=>{y=this._trackByFn(f,b),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,b,y,f)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,y,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new RD(c,u),m,f),a}_verifyReinsertion(a,c,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new kD),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class RD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CO{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class kD{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new CO,this.map.set(c,u)),u.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(s,a,c){const u=s.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+a+f}class OD{constructor(){}supports(a){return a instanceof Map||fg(a)}create(){return new PD}}class PD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||fg(a)))throw new ie(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const u=new TO(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class TO{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ND(){return new nw([new ew])}let nw=(()=>{var s;class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||ND()),deps:[[a,new _e,new q]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new ie(901,!1)}}return(s=a).\u0275prov=Rt({token:s,providedIn:"root",factory:ND}),a})();function Qf(){return new so([new OD])}let so=(()=>{var s;class a{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||Qf()),deps:[[a,new _e,new q]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(f)return f;throw new ie(901,!1)}}return(s=a).\u0275prov=Rt({token:s,providedIn:"root",factory:Qf}),a})();const AO=mD(null,"core",[]);let MO=(()=>{var s;class a{constructor(u){}}return(s=a).\u0275fac=function(u){return new(u||s)(Be(wd))},s.\u0275mod=es({type:s}),s.\u0275inj=On({}),a})();function PO(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function VO(s){const a=en(s);if(!a)return null;const c=new ed(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},120:(ft,Ce,L)=>{L.d(Ce,{Z:()=>d.Z});var d=L(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(ft,Ce,L)=>{L.r(Ce);var Ze,Re,H,W,ee,d=L(5861),z=L(3106),U=L(6710),re=L(9058),He=(L(534),L(7879),L(4537));function ke(){return window}class oe extends U.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(N)),super.onEvent(N)}initialized(){var N=this;return(0,d.Z)(function*(){yield N.initPromise})()}}function Ge(P){return(ee=ee||(0,d.Z)(function*(N){const O=yield zt()._get(Cr(N));return O&&(yield zt()._remove(Cr(N))),O})).apply(this,arguments)}function Mt(){const P=[];for(let O=0;O<20;O++){const Q=Math.floor(62*Math.random());P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Q))}return P.join("")}function zt(){return(0,U.aC)(U.b)}function Cr(P){return(0,U.aD)("authEvent",P.config.apiKey,P.name)}function sr(P){if(!P?.includes("?"))return{};const[N,...O]=P.split("?");return(0,re.zd)(O.join("?"))}const ae=class mo{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(N){var O=this;return(0,d.Z)(function*(){const Q=N._key();let ge=O.eventManagers.get(Q);return ge||(ge=new oe(N),O.eventManagers.set(Q,ge),O.attachCallbackListeners(N,ge)),ge})()}_openPopup(N){(0,U.av)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,O,Q,ge){var Be=this;return(0,d.Z)(function*(){!function ut(P){var N,O,Q,ge,Be,Ot,et,Xt,bt,ln;const an=ke();(0,U.aA)("function"==typeof(null===(N=an?.universalLinks)||void 0===N?void 0:N.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aA)(typeof(null===(O=an?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aA)("function"==typeof(null===(Be=null===(ge=null===(Q=an?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Be?void 0:Be.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(Xt=null===(et=null===(Ot=an?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===et?void 0:et.browsertab)||void 0===Xt?void 0:Xt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(ln=null===(bt=an?.cordova)||void 0===bt?void 0:bt.InAppBrowser)||void 0===ln?void 0:ln.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Ot=yield Be._initialize(N);yield Ot.initialized(),Ot.resetRedirect(),(0,U.aG)(),yield Be._originValidation(N);const et=function ye(P,N,O=null){return{type:N,eventId:O,urlResponse:null,sessionId:Mt(),postBody:null,tenantId:P.tenantId,error:(0,U.az)(P,"no-auth-event")}}(N,Q,ge);yield function $e(P,N){return zt()._set(Cr(P),N)}(N,et);const Xt=yield function nt(P,N,O){return(Ze=Ze||(0,d.Z)(function*(Q,ge,Be){var Ot;const{BuildInfo:et}=ke();(0,U.as)(ge.sessionId,"AuthEvent did not contain a session ID");const Xt=yield function vt(P){return(W=W||(0,d.Z)(function*(N){const O=function ie(P){if((0,U.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const N=new ArrayBuffer(P.length),O=new Uint8Array(N);for(let Q=0;Q<P.length;Q++)O[Q]=P.charCodeAt(Q);return O}(N),Q=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(Q)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(ge.sessionId),bt={};return(0,U.at)()?bt.ibi=et.packageName:(0,U.au)()?bt.apn=et.packageName:(0,U.av)(Q,"operation-not-supported-in-this-environment"),et.displayName&&(bt.appDisplayName=et.displayName),bt.sessionId=Xt,(0,U.aw)(Q,Be,ge.type,void 0,null!==(Ot=ge.eventId)&&void 0!==Ot?Ot:void 0,bt)})).apply(this,arguments)}(N,et,O),bt=yield function Ae(P){const{cordova:N}=ke();return new Promise(O=>{N.plugins.browsertab.isAvailable(Q=>{let ge=null;Q?N.plugins.browsertab.openUrl(P):ge=N.InAppBrowser.open(P,(0,U.ay)()?"_blank":"_system","location=yes"),O(ge)})})}(Xt);return function ze(P,N,O){return(H=H||(0,d.Z)(function*(Q,ge,Be){const{cordova:Ot}=ke();let et=()=>{};try{yield new Promise((Xt,bt)=>{let ln=null;function an(){var ue;Xt();const te=null===(ue=Ot.plugins.browsertab)||void 0===ue?void 0:ue.close;"function"==typeof te&&te(),"function"==typeof Be?.close&&Be.close()}function ki(){ln||(ln=window.setTimeout(()=>{bt((0,U.az)(Q,"redirect-cancelled-by-user"))},2e3))}function Oi(){"visible"===document?.visibilityState&&ki()}ge.addPassiveListener(an),document.addEventListener("resume",ki,!1),(0,U.au)()&&document.addEventListener("visibilitychange",Oi,!1),et=()=>{ge.removePassiveListener(an),document.removeEventListener("resume",ki,!1),document.removeEventListener("visibilitychange",Oi,!1),ln&&window.clearTimeout(ln)}})}finally{et()}})).apply(this,arguments)}(N,Ot,bt)})()}_isIframeWebStorageSupported(N,O){throw new Error("Method not implemented.")}_originValidation(N){const O=N._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function Te(P){return(Re=Re||(0,d.Z)(function*(N){const{BuildInfo:O}=ke(),Q={};(0,U.at)()?Q.iosBundleId=O.packageName:(0,U.au)()?Q.androidPackageName=O.packageName:(0,U.av)(N,"operation-not-supported-in-this-environment"),yield(0,U.ax)(N,Q)})).apply(this,arguments)}(N)),this.originValidationPromises[O]}attachCallbackListeners(N,O){var Q,ge;const{universalLinks:Be,handleOpenURL:Ot,BuildInfo:et}=ke(),Xt=setTimeout((0,d.Z)(function*(){yield Ge(N),O.onEvent(de())}),500),bt=function(Oi){return(Q=Q||(0,d.Z)(function*(ue){clearTimeout(Xt);const te=yield Ge(N);let De=null;te&&ue?.url&&(De=function wt(P,N){var O,Q;const ge=function Bs(P){const N=sr(P),O=N.link?decodeURIComponent(N.link):void 0,Q=sr(O).link,ge=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return sr(ge).link||ge||Q||O||P}(N);if(ge.includes("/__/auth/callback")){const Be=sr(ge),Ot=Be.firebaseError?function ys(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(Be.firebaseError)):null,et=null===(Q=null===(O=Ot?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Q?void 0:Q[1],Xt=et?(0,U.az)(et):null;return Xt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:ge,postBody:null}}return null}(te,ue.url)),O.onEvent(De||de())})).apply(this,arguments)};typeof Be<"u"&&"function"==typeof Be.subscribe&&Be.subscribe(null,bt);const ln=Ot,an=`${et.packageName.toLowerCase()}://`;ke().handleOpenURL=function(ki){return(ge=ge||(0,d.Z)(function*(Oi){if(Oi.toLowerCase().startsWith(an)&&bt({url:Oi}),"function"==typeof ln)try{ln(Oi)}catch(ue){console.error(ue)}})).apply(this,arguments)}}};function de(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.az)("no-auth-event")}}var pe,Me,Ue;function yt(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Rt(P=(0,re.z$)()){return!("file:"!==yt()&&"ionic:"!==yt()&&"capacitor:"!==yt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jn(){try{const P=self.localStorage,N=U.aL();if(P)return P.setItem(N,"1"),P.removeItem(N),!function fn(P=(0,re.z$)()){return function On(){return(0,re.w1)()&&11===document?.documentMode}()||function or(P=(0,re.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,re.hl)()}catch{return Tr()&&(0,re.hl)()}return!1}function Tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Si(){return(function rn(){return"http:"===yt()||"https:"===yt()}()||(0,re.ru)()||Rt())&&!function vn(){return(0,re.b$)()||(0,re.UG)()}()&&Jn()&&!Tr()}function pi(){return Rt()&&typeof document<"u"}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},gt=U.aA,Lt="persistence";function gn(P){return(Me=Me||(0,d.Z)(function*(N){yield N._initializationPromise;const O=An(),Q=U.aD(Lt,N.config.apiKey,N.name);O&&O.setItem(Q,N._getPersistence())})).apply(this,arguments)}function An(){var P;try{return(null===(P=function Ai(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Yt=U.aA;class _n{constructor(){this.browserResolver=U.aC(U.k),this.cordovaResolver=U.aC(ae),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(N){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,O,Q,ge){var Be=this;return(0,d.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openPopup(N,O,Q,ge)})()}_openRedirect(N,O,Q,ge){var Be=this;return(0,d.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openRedirect(N,O,Q,ge)})()}_isIframeWebStorageSupported(N,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,O)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,d.Z)(function*(){if(N.underlyingResolver)return;const O=yield function Yi(){return(pe=pe||(0,d.Z)(function*(){return!!pi()&&new Promise(P=>{const N=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),P(!0)})})})).apply(this,arguments)}();N.underlyingResolver=O?N.cordovaResolver:N.browserResolver})()}}function Wo(P){return P.unwrap()}function ws(P){return Es(P)}function Es(P){const{_tokenResponse:N}=P instanceof re.ZR?P.customData:P;if(!N)return null;if(!(P instanceof re.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return U.P.credentialFromResult(P);const O=N.providerId;if(!O||O===U.p.PASSWORD)return null;let Q;switch(O){case U.p.GOOGLE:Q=U.V;break;case U.p.FACEBOOK:Q=U.U;break;case U.p.GITHUB:Q=U.W;break;case U.p.TWITTER:Q=U.Z;break;default:const{oauthIdToken:ge,oauthAccessToken:Be,oauthTokenSecret:Ot,pendingToken:et,nonce:Xt}=N;return Be||Ot||ge||et?et?O.startsWith("saml.")?U.aO._create(O,et):U.L._fromParams({providerId:O,signInMethod:O,pendingToken:et,idToken:ge,accessToken:Be}):new U.X(O).credential({idToken:ge,accessToken:Be,rawNonce:Xt}):null}return P instanceof re.ZR?Q.credentialFromError(P):Q.credentialFromResult(P)}function Tn(P,N){return N.catch(O=>{throw O instanceof re.ZR&&function nn(P,N){var O;const Q=null===(O=N.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new js(P,U.aq(P,N));else if(Q){const ge=Es(N),Be=N;ge&&(Be.credential=ge,Be.tenantId=Q.tenantId||void 0,Be.email=Q.email||void 0,Be.phoneNumber=Q.phoneNumber||void 0)}}(P,O),O}).then(O=>{const ge=O.user;return{operationType:O.operationType,credential:ws(O),additionalUserInfo:U.ao(O),user:Or.getOrCreate(ge)}})}function er(P,N){return(Ue=Ue||(0,d.Z)(function*(O,Q){const ge=yield Q;return{verificationId:ge.verificationId,confirm:Be=>Tn(O,ge.confirm(Be))}})).apply(this,arguments)}class js{constructor(N,O){this.resolver=O,this.auth=function Qt(P){return P.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Tn(Wo(this.auth),this.resolver.resolveSignIn(N))}}class Or{constructor(N){this._delegate=N,this.multiFactor=U.ar(N)}static getOrCreate(N){return Or.USER_MAP.has(N)||Or.USER_MAP.set(N,new Or(N)),Or.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var O=this;return(0,d.Z)(function*(){return Tn(O.auth,U.a0(O._delegate,N))})()}linkWithPhoneNumber(N,O){var Q=this;return(0,d.Z)(function*(){return er(Q.auth,U.l(Q._delegate,N,O))})()}linkWithPopup(N){var O=this;return(0,d.Z)(function*(){return Tn(O.auth,U.d(O._delegate,N,_n))})()}linkWithRedirect(N){var O=this;return(0,d.Z)(function*(){return yield gn(U.aH(O.auth)),U.g(O._delegate,N,_n)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var O=this;return(0,d.Z)(function*(){return Tn(O.auth,U.a1(O._delegate,N))})()}reauthenticateWithPhoneNumber(N,O){return er(this.auth,U.r(this._delegate,N,O))}reauthenticateWithPopup(N){return Tn(this.auth,U.e(this._delegate,N,_n))}reauthenticateWithRedirect(N){var O=this;return(0,d.Z)(function*(){return yield gn(U.aH(O.auth)),U.h(O._delegate,N,_n)})()}sendEmailVerification(N){return U.ae(this._delegate,N)}unlink(N){var O=this;return(0,d.Z)(function*(){return yield U.an(O._delegate,N),O})()}updateEmail(N){return U.aj(this._delegate,N)}updatePassword(N){return U.ak(this._delegate,N)}updatePhoneNumber(N){return U.u(this._delegate,N)}updateProfile(N){return U.ai(this._delegate,N)}verifyBeforeUpdateEmail(N,O){return U.af(this._delegate,N,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Or.USER_MAP=new WeakMap;const mi=U.aA;let Is=(()=>{class P{constructor(O,Q){if(this.app=O,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=O.options;mi(ge,"invalid-api-key",{appName:O.name}),mi(ge,"invalid-api-key",{appName:O.name});const Be=typeof window<"u"?_n:void 0;this._delegate=Q.initialize({options:{persistence:Gr(ge,O.name),popupRedirectResolver:Be}}),this._delegate._updateErrorMap(U.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Q){U.I(this._delegate,O,Q)}applyActionCode(O){return U.a5(this._delegate,O)}checkActionCode(O){return U.a6(this._delegate,O)}confirmPasswordReset(O,Q){return U.a4(this._delegate,O,Q)}createUserWithEmailAndPassword(O,Q){var ge=this;return(0,d.Z)(function*(){return Tn(ge._delegate,U.a8(ge._delegate,O,Q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return U.ad(this._delegate,O)}isSignInWithEmailLink(O){return U.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){mi(Si(),O._delegate,"operation-not-supported-in-this-environment");const Q=yield U.j(O._delegate,_n);return Q?Tn(O._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function me(P,N){(0,U.aH)(P)._logFramework(N)}(this._delegate,O)}onAuthStateChanged(O,Q,ge){const{next:Be,error:Ot,complete:et}=Qi(O,Q,ge);return this._delegate.onAuthStateChanged(Be,Ot,et)}onIdTokenChanged(O,Q,ge){const{next:Be,error:Ot,complete:et}=Qi(O,Q,ge);return this._delegate.onIdTokenChanged(Be,Ot,et)}sendSignInLinkToEmail(O,Q){return U.aa(this._delegate,O,Q)}sendPasswordResetEmail(O,Q){return U.a3(this._delegate,O,Q||void 0)}setPersistence(O){var Q=this;return(0,d.Z)(function*(){let ge;switch(function Bt(P,N){gt(Object.values(Wn).includes(N),P,"invalid-persistence-type"),(0,re.b$)()?gt(N!==Wn.SESSION,P,"unsupported-persistence-type"):(0,re.UG)()?gt(N===Wn.NONE,P,"unsupported-persistence-type"):Tr()?gt(N===Wn.NONE||N===Wn.LOCAL&&(0,re.hl)(),P,"unsupported-persistence-type"):gt(N===Wn.NONE||Jn(),P,"unsupported-persistence-type")}(Q._delegate,O),O){case Wn.SESSION:ge=U.a;break;case Wn.LOCAL:ge=(yield U.aC(U.i)._isAvailable())?U.i:U.b;break;case Wn.NONE:ge=U.N;break;default:return U.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Tn(this._delegate,U._(this._delegate))}signInWithCredential(O){return Tn(this._delegate,U.$(this._delegate,O))}signInWithCustomToken(O){return Tn(this._delegate,U.a2(this._delegate,O))}signInWithEmailAndPassword(O,Q){return Tn(this._delegate,U.a9(this._delegate,O,Q))}signInWithEmailLink(O,Q){return Tn(this._delegate,U.ac(this._delegate,O,Q))}signInWithPhoneNumber(O,Q){return er(this._delegate,U.s(this._delegate,O,Q))}signInWithPopup(O){var Q=this;return(0,d.Z)(function*(){return mi(Si(),Q._delegate,"operation-not-supported-in-this-environment"),Tn(Q._delegate,U.c(Q._delegate,O,_n))})()}signInWithRedirect(O){var Q=this;return(0,d.Z)(function*(){return mi(Si(),Q._delegate,"operation-not-supported-in-this-environment"),yield gn(Q._delegate),U.f(Q._delegate,O,_n)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return U.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=Wn,P})();function Qi(P,N,O){let Q=P;"function"!=typeof P&&({next:Q,error:N,complete:O}=P);const ge=Q;return{next:Ot=>ge(Ot&&Or.getOrCreate(Ot)),error:N,complete:O}}function Gr(P,N){const O=function Mi(P,N){const O=An();if(!O)return[];const Q=U.aD(Lt,P,N);switch(O.getItem(Q)){case Wn.NONE:return[U.N];case Wn.LOCAL:return[U.i,U.a];case Wn.SESSION:return[U.a];default:return[]}}(P,N);if(typeof self<"u"&&!O.includes(U.i)&&O.push(U.i),typeof window<"u")for(const Q of[U.b,U.a])O.includes(Q)||O.push(Q);return O.includes(U.N)||O.push(U.N),O}class qr{constructor(){this.providerId="phone",this._delegate=new U.P(Wo(z.Z.auth()))}static credential(N,O){return U.P.credential(N,O)}verifyPhoneNumber(N,O){return this._delegate.verifyPhoneNumber(N,O)}unwrap(){return this._delegate}}qr.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,qr.PROVIDER_ID=U.P.PROVIDER_ID;const Ri=U.aA;class go{constructor(N,O,Q=z.Z.app()){var ge;Ri(null===(ge=Q.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new U.R(N,O,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(P){P.INTERNAL.registerComponent(new He.wA("auth-compat",N=>{const O=N.getProvider("app-compat").getImmediate(),Q=N.getProvider("auth");return new Is(O,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.Q,FacebookAuthProvider:U.U,GithubAuthProvider:U.W,GoogleAuthProvider:U.V,OAuthProvider:U.X,SAMLAuthProvider:U.Y,PhoneAuthProvider:qr,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:go,TwitterAuthProvider:U.Z,Auth:Is,AuthCredential:U.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},3106:(ft,Ce,L)=>{L.d(Ce,{Z:()=>nt});var d=L(9058),z=L(4537),U=L(534),re=L(7879);class ve{constructor(Ae,ze){this._delegate=Ae,this.firebase=ze,(0,U._addComponent)(Ae,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ae,ze=U._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Ae);return!vt.isInitialized()&&"EXPLICIT"===(null===(ut=vt.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:ze})}_removeServiceInstance(Ae,ze=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(ze)}_addComponent(Ae){(0,U._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,U._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const He=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function Re(){const Te=function Ze(Te){const Ae={},ze={__esModule:!0,initializeApp:function ie($e,Ge={}){const wt=U.initializeApp($e,Ge);if((0,d.r3)(Ae,wt.name))return Ae[wt.name];const Mt=new Te(wt,ze);return Ae[wt.name]=Mt,Mt},app:vt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function oe($e){const Ge=$e.name,wt=Ge.replace("-compat","");if(U._registerComponent($e)&&"PUBLIC"===$e.type){const Mt=(zt=vt())=>{if("function"!=typeof zt[wt])throw He.create("invalid-app-argument",{appName:Ge});return zt[wt]()};void 0!==$e.serviceProps&&(0,d.ZB)(Mt,$e.serviceProps),ze[wt]=Mt,Te.prototype[wt]=function(...zt){return this._getService.bind(this,Ge).apply(this,$e.multipleInstances?zt:[])}}return"PUBLIC"===$e.type?ze[wt]:null},removeApp:function ut($e){delete Ae[$e]},useAsService:function ye($e,Ge){return"serverAuth"===Ge?null:Ge},modularAPIs:U}};function vt($e){if(!(0,d.r3)(Ae,$e=$e||U._DEFAULT_ENTRY_NAME))throw He.create("no-app",{appName:$e});return Ae[$e]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function be(){return Object.keys(Ae).map($e=>Ae[$e])}}),vt.App=Te,ze}(ve);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function Ae(ze){(0,d.ZB)(Te,ze)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Te}(),W=new re.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=H;!function Ve(Te){(0,U.registerVersion)("@firebase/app-compat","0.2.13",Te)}()},534:(ft,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>gn,_addComponent:()=>_n,_addOrOverwriteComponent:()=>Wo,_apps:()=>An,_clearComponents:()=>Es,_components:()=>Yt,_getProvider:()=>ws,_registerComponent:()=>Qt,_removeServiceInstance:()=>nn,deleteApp:()=>Gr,getApp:()=>Is,getApps:()=>Qi,initializeApp:()=>mi,onLog:()=>Ri,registerVersion:()=>qr,setLogLevel:()=>go});var d=L(5861),z=L(4537),U=L(7879),re=L(9058);const ve=(ue,te)=>te.some(De=>ue instanceof De);let he,He;const H=new WeakMap,W=new WeakMap,ee=new WeakMap,ke=new WeakMap,Ve=new WeakMap;let Ae={get(ue,te,De){if(ue instanceof IDBTransaction){if("done"===te)return W.get(ue);if("objectStoreNames"===te)return ue.objectStoreNames||ee.get(ue);if("store"===te)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return ie(ue[te])},set:(ue,te,De)=>(ue[te]=De,!0),has:(ue,te)=>ue instanceof IDBTransaction&&("done"===te||"store"===te)||te in ue};function vt(ue){return"function"==typeof ue?function ut(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return He||(He=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...te){return ue.apply(be(this),te),ie(H.get(this))}:function(...te){return ie(ue.apply(be(this),te))}:function(te,...De){const Xe=ue.call(be(this),te,...De);return ee.set(Xe,te.sort?te.sort():[te]),ie(Xe)}}(ue):(ue instanceof IDBTransaction&&function Te(ue){if(W.has(ue))return;const te=new Promise((De,Xe)=>{const je=()=>{ue.removeEventListener("complete",st),ue.removeEventListener("error",Zt),ue.removeEventListener("abort",Zt)},st=()=>{De(),je()},Zt=()=>{Xe(ue.error||new DOMException("AbortError","AbortError")),je()};ue.addEventListener("complete",st),ue.addEventListener("error",Zt),ue.addEventListener("abort",Zt)});W.set(ue,te)}(ue),ve(ue,function Ze(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ae):ue)}function ie(ue){if(ue instanceof IDBRequest)return function nt(ue){const te=new Promise((De,Xe)=>{const je=()=>{ue.removeEventListener("success",st),ue.removeEventListener("error",Zt)},st=()=>{De(ie(ue.result)),je()},Zt=()=>{Xe(ue.error),je()};ue.addEventListener("success",st),ue.addEventListener("error",Zt)});return te.then(De=>{De instanceof IDBCursor&&H.set(De,ue)}).catch(()=>{}),Ve.set(te,ue),te}(ue);if(ke.has(ue))return ke.get(ue);const te=vt(ue);return te!==ue&&(ke.set(ue,te),Ve.set(te,ue)),te}const be=ue=>Ve.get(ue),$e=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],wt=new Map;function Mt(ue,te){var De;if(!(ue instanceof IDBDatabase)||te in ue||"string"!=typeof te)return;if(wt.get(te))return wt.get(te);const Xe=te.replace(/FromIndex$/,""),je=te!==Xe,st=Ge.includes(Xe);if(!(Xe in(je?IDBIndex:IDBObjectStore).prototype)||!st&&!$e.includes(Xe))return;const Zt=function(tr){return(De=De||(0,d.Z)(function*(Fe,...pr){const Dr=this.transaction(Fe,st?"readwrite":"readonly");let Xi=Dr.store;return je&&(Xi=Xi.index(pr.shift())),(yield Promise.all([Xi[Xe](...pr),st&&Dr.done]))[0]})).apply(this,arguments)};return wt.set(te,Zt),Zt}var zt,Cr,ys;!function ze(ue){Ae=ue(Ae)}(ue=>({...ue,get:(te,De,Xe)=>Mt(te,De)||ue.get(te,De,Xe),has:(te,De)=>!!Mt(te,De)||ue.has(te,De)}));class Bs{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(De=>{if(function sr(ue){const te=ue.getComponent();return"VERSION"===te?.type}(De)){const Xe=De.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(De=>De).join(" ")}}const bs="@firebase/app",ae=new U.Yd("@firebase/app"),gn="[DEFAULT]",Mi={[bs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,Yt=new Map;function _n(ue,te){try{ue.container.addComponent(te)}catch(De){ae.debug(`Component ${te.name} failed to register with FirebaseApp ${ue.name}`,De)}}function Wo(ue,te){ue.container.addOrOverwriteComponent(te)}function Qt(ue){const te=ue.name;if(Yt.has(te))return ae.debug(`There were multiple attempts to register component ${te}.`),!1;Yt.set(te,ue);for(const De of An.values())_n(De,ue);return!0}function ws(ue,te){const De=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return De&&De.triggerHeartbeat(),ue.container.getProvider(te)}function nn(ue,te,De=gn){ws(ue,te).clearInstance(De)}function Es(){Yt.clear()}const er=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class js{constructor(te,De,Xe){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},De),this._name=De.name,this._automaticDataCollectionEnabled=De.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const Or="9.23.0";function mi(ue,te={}){let De=ue;"object"!=typeof te&&(te={name:te});const Xe=Object.assign({name:gn,automaticDataCollectionEnabled:!1},te),je=Xe.name;if("string"!=typeof je||!je)throw er.create("bad-app-name",{appName:String(je)});if(De||(De=(0,re.aH)()),!De)throw er.create("no-options");const st=An.get(je);if(st){if((0,re.vZ)(De,st.options)&&(0,re.vZ)(Xe,st.config))return st;throw er.create("duplicate-app",{appName:je})}const Zt=new z.H0(je);for(const tr of Yt.values())Zt.addComponent(tr);const Mn=new js(De,Xe,Zt);return An.set(je,Mn),Mn}function Is(ue=gn){const te=An.get(ue);if(!te&&ue===gn&&(0,re.aH)())return mi();if(!te)throw er.create("no-app",{appName:ue});return te}function Qi(){return Array.from(An.values())}function Gr(ue){return(zt=zt||(0,d.Z)(function*(te){const De=te.name;An.has(De)&&(An.delete(De),yield Promise.all(te.container.getProviders().map(Xe=>Xe.delete())),te.isDeleted=!0)})).apply(this,arguments)}function qr(ue,te,De){var Xe;let je=null!==(Xe=Mi[ue])&&void 0!==Xe?Xe:ue;De&&(je+=`-${De}`);const st=je.match(/\s|\//),Zt=te.match(/\s|\//);if(st||Zt){const Mn=[`Unable to register library "${je}" with version "${te}":`];return st&&Mn.push(`library name "${je}" contains illegal characters (whitespace or "/")`),st&&Zt&&Mn.push("and"),Zt&&Mn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void ae.warn(Mn.join(" "))}Qt(new z.wA(`${je}-version`,()=>({library:je,version:te}),"VERSION"))}function Ri(ue,te){if(null!==ue&&"function"!=typeof ue)throw er.create("invalid-log-argument");(0,U.Am)(ue,te)}function go(ue){(0,U.Ub)(ue)}const G="firebase-heartbeat-database",$=1,P="firebase-heartbeat-store";let N=null;function O(){return N||(N=function oe(ue,te,{blocked:De,upgrade:Xe,blocking:je,terminated:st}={}){const Zt=indexedDB.open(ue,te),Mn=ie(Zt);return Xe&&Zt.addEventListener("upgradeneeded",tr=>{Xe(ie(Zt.result),tr.oldVersion,tr.newVersion,ie(Zt.transaction),tr)}),De&&Zt.addEventListener("blocked",tr=>De(tr.oldVersion,tr.newVersion,tr)),Mn.then(tr=>{st&&tr.addEventListener("close",()=>st()),je&&tr.addEventListener("versionchange",Fe=>je(Fe.oldVersion,Fe.newVersion,Fe))}).catch(()=>{}),Mn}(G,$,{upgrade:(ue,te)=>{0===te&&ue.createObjectStore(P)}}).catch(ue=>{throw er.create("idb-open",{originalErrorMessage:ue.message})})),N}function ge(ue,te){return(ys=ys||(0,d.Z)(function*(De,Xe){try{const st=(yield O()).transaction(P,"readwrite");yield st.objectStore(P).put(Xe,Be(De)),yield st.done}catch(je){if(je instanceof re.ZR)ae.warn(je.message);else{const st=er.create("idb-set",{originalErrorMessage:je?.message});ae.warn(st.message)}}})).apply(this,arguments)}function Be(ue){return`${ue.name}!${ue.options.appId}`}class Xt{constructor(te){this.container=te,this._heartbeatsCache=null;const De=this.container.getProvider("app").getImmediate();this._storage=new an(De),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var te=this;return(0,d.Z)(function*(){const Xe=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=bt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==je&&!te._heartbeatsCache.heartbeats.some(st=>st.date===je))return te._heartbeatsCache.heartbeats.push({date:je,agent:Xe}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(st=>{const Zt=new Date(st.date).valueOf();return Date.now()-Zt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,d.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const De=bt(),{heartbeatsToSend:Xe,unsentEntries:je}=function ln(ue,te=1024){const De=[];let Xe=ue.slice();for(const je of ue){const st=De.find(Zt=>Zt.agent===je.agent);if(st){if(st.dates.push(je.date),ki(De)>te){st.dates.pop();break}}else if(De.push({agent:je.agent,dates:[je.date]}),ki(De)>te){De.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:De,unsentEntries:Xe}}(te._heartbeatsCache.heartbeats),st=(0,re.L)(JSON.stringify({version:2,heartbeats:Xe}));return te._heartbeatsCache.lastSentHeartbeatDate=De,je.length>0?(te._heartbeatsCache.heartbeats=je,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),st})()}}function bt(){return(new Date).toISOString().substring(0,10)}class an{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,d.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Q(ue){return(Cr=Cr||(0,d.Z)(function*(te){try{return yield(yield O()).transaction(P).objectStore(P).get(Be(te))}catch(De){if(De instanceof re.ZR)ae.warn(De.message);else{const Xe=er.create("idb-get",{originalErrorMessage:De?.message});ae.warn(Xe.message)}}})).apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var De=this;return(0,d.Z)(function*(){var Xe;if(yield De._canUseIndexedDBPromise){const st=yield De.read();return ge(De.app,{lastSentHeartbeatDate:null!==(Xe=te.lastSentHeartbeatDate)&&void 0!==Xe?Xe:st.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var De=this;return(0,d.Z)(function*(){var Xe;if(yield De._canUseIndexedDBPromise){const st=yield De.read();return ge(De.app,{lastSentHeartbeatDate:null!==(Xe=te.lastSentHeartbeatDate)&&void 0!==Xe?Xe:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...te.heartbeats]})}})()}}function ki(ue){return(0,re.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function Oi(ue){Qt(new z.wA("platform-logger",te=>new Bs(te),"PRIVATE")),Qt(new z.wA("heartbeat",te=>new Xt(te),"PRIVATE")),qr(bs,"0.9.13",ue),qr(bs,"0.9.13","esm2017"),qr("fire-js","")}("")},4537:(ft,Ce,L)=>{L.d(Ce,{H0:()=>Ze,wA:()=>U});var d=L(5861),z=L(9058);class U{constructor(H,W,ee){this.name=H,this.instanceFactory=W,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const re="[DEFAULT]";class ve{constructor(H,W){this.name=H,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const W=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(W)){const ee=new z.BH;if(this.instancesDeferred.set(W,ee),this.isInitialized(W)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:W});ke&&ee.resolve(ke)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(H){var W;const ee=this.normalizeInstanceIdentifier(H?.identifier),ke=null!==(W=H?.optional)&&void 0!==W&&W;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ve){if(ke)return null;throw Ve}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function He(Re){return"EAGER"===Re.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[W,ee]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(W);try{const Ve=this.getOrInitializeService({instanceIdentifier:ke});ee.resolve(Ve)}catch{}}}}clearInstance(H=re){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,d.Z)(function*(){const W=Array.from(H.instances.values());yield Promise.all([...W.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...W.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=re){return this.instances.has(H)}getOptions(H=re){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:W={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ee,options:W});for(const[Ve,nt]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ve)&&nt.resolve(ke);return ke}onInit(H,W){var ee;const ke=this.normalizeInstanceIdentifier(W),Ve=null!==(ee=this.onInitCallbacks.get(ke))&&void 0!==ee?ee:new Set;Ve.add(H),this.onInitCallbacks.set(ke,Ve);const nt=this.instances.get(ke);return nt&&H(nt,ke),()=>{Ve.delete(H)}}invokeOnInitCallbacks(H,W){const ee=this.onInitCallbacks.get(W);if(ee)for(const ke of ee)try{ke(H,W)}catch{}}getOrInitializeService({instanceIdentifier:H,options:W={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=H,Re===re?void 0:Re),options:W}),this.instances.set(H,ee),this.instancesOptions.set(H,W),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch{}var Re;return ee||null}normalizeInstanceIdentifier(H=re){return this.component?this.component.multipleInstances?H:re:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const W=this.getProvider(H.name);if(W.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);W.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const W=new ve(H,this);return this.providers.set(H,W),W}getProviders(){return Array.from(this.providers.values())}}},7879:(ft,Ce,L)=>{L.d(Ce,{Am:()=>Re,Ub:()=>Ze,Yd:()=>He,in:()=>z});const d=[];var z=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}(z||{});const U={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},re=z.INFO,ve={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},he=(H,W,...ee)=>{if(W<H.logLevel)return;const ke=(new Date).toISOString(),Ve=ve[W];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ve](`[${ke}]  ${H.name}:`,...ee)};class He{constructor(W){this.name=W,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?U[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function Ze(H){d.forEach(W=>{W.setLogLevel(H)})}function Re(H,W){for(const ee of d){let ke=null;W&&W.level&&(ke=U[W.level]),ee.userLogHandler=null===H?null:(Ve,nt,...Te)=>{const Ae=Te.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");nt>=(ke??Ve.logLevel)&&H({level:z[nt].toLowerCase(),message:Ae,args:Te,type:Ve.name})}}}},5861:(ft,Ce,L)=>{function d(U,re,ve,he,He,Ze,Re){try{var H=U[Ze](Re),W=H.value}catch(ee){return void ve(ee)}H.done?re(W):Promise.resolve(W).then(he,He)}function z(U){return function(){var re=this,ve=arguments;return new Promise(function(he,He){var Ze=U.apply(re,ve);function Re(W){d(Ze,he,He,Re,H,"next",W)}function H(W){d(Ze,he,He,Re,H,"throw",W)}Re(void 0)})}}L.d(Ce,{Z:()=>z})},7582:(ft,Ce,L)=>{function re(ae,de){var me={};for(var pe in ae)Object.prototype.hasOwnProperty.call(ae,pe)&&de.indexOf(pe)<0&&(me[pe]=ae[pe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(pe=Object.getOwnPropertySymbols(ae);Me<pe.length;Me++)de.indexOf(pe[Me])<0&&Object.prototype.propertyIsEnumerable.call(ae,pe[Me])&&(me[pe[Me]]=ae[pe[Me]])}return me}function ee(ae,de,me,pe){return new(me||(me=Promise))(function(Ue,it){function qe(rn){try{yt(pe.next(rn))}catch(Rt){it(Rt)}}function qn(rn){try{yt(pe.throw(rn))}catch(Rt){it(Rt)}}function yt(rn){rn.done?Ue(rn.value):function Me(Ue){return Ue instanceof me?Ue:new me(function(it){it(Ue)})}(rn.value).then(qe,qn)}yt((pe=pe.apply(ae,de||[])).next())})}function ie(ae){return this instanceof ie?(this.v=ae,this):new ie(ae)}function be(ae,de,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,pe=me.apply(ae,de||[]),Ue=[];return Me={},it("next"),it("throw"),it("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function it(vn){pe[vn]&&(Me[vn]=function(On){return new Promise(function(or,fn){Ue.push([vn,On,or,fn])>1||qe(vn,On)})})}function qe(vn,On){try{!function qn(vn){vn.value instanceof ie?Promise.resolve(vn.value.v).then(yt,rn):Rt(Ue[0][2],vn)}(pe[vn](On))}catch(or){Rt(Ue[0][3],or)}}function yt(vn){qe("next",vn)}function rn(vn){qe("throw",vn)}function Rt(vn,On){vn(On),Ue.shift(),Ue.length&&qe(Ue[0][0],Ue[0][1])}}function ye(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,de=ae[Symbol.asyncIterator];return de?de.call(ae):(ae=function Te(ae){var de="function"==typeof Symbol&&Symbol.iterator,me=de&&ae[de],pe=0;if(me)return me.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&pe>=ae.length&&(ae=void 0),{value:ae&&ae[pe++],done:!ae}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),me={},pe("next"),pe("throw"),pe("return"),me[Symbol.asyncIterator]=function(){return this},me);function pe(Ue){me[Ue]=ae[Ue]&&function(it){return new Promise(function(qe,qn){!function Me(Ue,it,qe,qn){Promise.resolve(qn).then(function(yt){Ue({value:yt,done:qe})},it)}(qe,qn,(it=ae[Ue](it)).done,it.value)})}}}L.d(Ce,{FC:()=>be,KL:()=>ye,_T:()=>re,mG:()=>ee,qq:()=>ie}),"function"==typeof SuppressedError&&SuppressedError}},ft=>{ft(ft.s=5285)}]);