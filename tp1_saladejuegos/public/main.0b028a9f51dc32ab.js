"use strict";(self.webpackChunktp1_saladejuegos=self.webpackChunktp1_saladejuegos||[]).push([[179],{2194:(Jt,Ke,K)=>{K.d(Ke,{nm:()=>ti});var fe,Ce,yt,ft,mt,E=K(3452),_e=(K(5879),K(8726),K(4097),K(5861)),Se=K(534),Ae=K(4537),Te=K(9058),je=K(7879);const Yt=new Map,Ve={activated:!1,tokenObservers:[]},lt={initialized:!1,enabled:!1};function ke(Le){return Yt.get(Le)||Object.assign({},Ve)}function Dt(){return lt}const St="https://content-firebaseappcheck.googleapis.com/v1",$n="exchangeDebugToken",Gn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ci{constructor(Ne,Ye,vt,Vt,cn){if(this.operation=Ne,this.retryPolicy=Ye,this.getWaitDuration=vt,this.lowerBound=Vt,this.upperBound=cn,this.pending=null,this.nextErrorWaitInterval=Vt,Vt>cn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ne){var Ye=this;return(0,_e.Z)(function*(){Ye.stop();try{Ye.pending=new Te.BH,yield function oi(Le){return new Promise(Ne=>{setTimeout(Ne,Le)})}(Ye.getNextRun(Ne)),Ye.pending.resolve(),yield Ye.pending.promise,Ye.pending=new Te.BH,yield Ye.operation(),Ye.pending.resolve(),yield Ye.pending.promise,Ye.process(!0).catch(()=>{})}catch(vt){Ye.retryPolicy(vt)?Ye.process(!1).catch(()=>{}):Ye.stop()}})()}getNextRun(Ne){if(Ne)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ye}}}const xr=new Te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tt(Le){if(!ke(Le).activated)throw xr.create("use-before-activation",{appName:Le.name})}function It(Le,Ne){return(fe=fe||(0,_e.Z)(function*({url:Ye,body:vt},Vt){const cn={"Content-Type":"application/json"},wn=Vt.getImmediate({optional:!0});if(wn){const Is=yield wn.getHeartbeatsHeader();Is&&(cn["X-Firebase-Client"]=Is)}const Un={method:"POST",body:JSON.stringify(vt),headers:cn};let zr,ar;try{zr=yield fetch(Ye,Un)}catch(Is){throw xr.create("fetch-network-error",{originalErrorMessage:Is?.message})}if(200!==zr.status)throw xr.create("fetch-status-error",{httpStatus:zr.status});try{ar=yield zr.json()}catch(Is){throw xr.create("fetch-parse-error",{originalErrorMessage:Is?.message})}const ji=ar.ttl.match(/^([\d.]+)(s)$/);if(!ji||!ji[2]||isNaN(Number(ji[1])))throw xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ar.ttl}`});const To=1e3*Number(ji[1]),js=Date.now();return{token:ar.token,expireTimeMillis:js+To,issuedAtTimeMillis:js}})).apply(this,arguments)}function Bt(Le,Ne){const{projectId:Ye,appId:vt,apiKey:Vt}=Le.options;return{url:`${St}/projects/${Ye}/apps/${vt}:${$n}?key=${Vt}`,body:{debug_token:Ne}}}const dn="firebase-app-check-database",mn=1,Xn="firebase-app-check-store";let Er=null;function Fi(Le,Ne){return(Ce=Ce||(0,_e.Z)(function*(Ye,vt){const cn=(yield function Tr(){return Er||(Er=new Promise((Le,Ne)=>{try{const Ye=indexedDB.open(dn,mn);Ye.onsuccess=vt=>{Le(vt.target.result)},Ye.onerror=vt=>{var Vt;Ne(xr.create("storage-open",{originalErrorMessage:null===(Vt=vt.target.error)||void 0===Vt?void 0:Vt.message}))},Ye.onupgradeneeded=vt=>{0===vt.oldVersion&&vt.target.result.createObjectStore(Xn,{keyPath:"compositeKey"})}}catch(Ye){Ne(xr.create("storage-open",{originalErrorMessage:Ye?.message}))}}),Er)}()).transaction(Xn,"readwrite"),Un=cn.objectStore(Xn).put({compositeKey:Ye,value:vt});return new Promise((zr,ar)=>{Un.onsuccess=ji=>{zr()},cn.onerror=ji=>{var To;ar(xr.create("storage-set",{originalErrorMessage:null===(To=ji.target.error)||void 0===To?void 0:To.message}))}})})).apply(this,arguments)}const yi=new je.Yd("@firebase/app-check");function ln(Le,Ne){return(0,Te.hl)()?function _r(Le,Ne){return Fi(function Li(Le){return`${Le.options.appId}-${Le.name}`}(Le),Ne)}(Le,Ne).catch(Ye=>{yi.warn(`Failed to write token to IndexedDB. Error: ${Ye}`)}):Promise.resolve()}function jn(){return Dt().enabled}function nr(){return(yt=yt||(0,_e.Z)(function*(){const Le=Dt();if(Le.enabled&&Le.token)return Le.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dn={error:"UNKNOWN_ERROR"};function Zn(Le){return Te.US.encodeString(JSON.stringify(Le),!1)}function or(Le){return(ft=ft||(0,_e.Z)(function*(Ne,Ye=!1){const vt=Ne.app;tt(vt);const Vt=ke(vt);let wn,cn=Vt.token;if(cn&&!Sr(cn)&&(Vt.token=void 0,cn=void 0),!cn){const ar=yield Vt.cachedTokenPromise;ar&&(Sr(ar)?cn=ar:yield ln(vt,void 0))}if(!Ye&&cn&&Sr(cn))return{token:cn.token};let zr,Un=!1;if(jn()){Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=It(Bt(vt,yield nr()),Ne.heartbeatServiceProvider).finally(()=>{Vt.exchangeTokenPromise=void 0}),Un=!0);const ar=yield Vt.exchangeTokenPromise;return yield ln(vt,ar),Vt.token=ar,{token:ar.token}}try{Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Vt.provider.getToken().finally(()=>{Vt.exchangeTokenPromise=void 0}),Un=!0),cn=yield ke(vt).exchangeTokenPromise}catch(ar){"appCheck/throttled"===ar.code?yi.warn(ar.message):yi.error(ar),wn=ar}return cn?wn?zr=Sr(cn)?{token:cn.token,internalError:wn}:Pr(wn):(zr={token:cn.token},Vt.token=cn,yield ln(vt,cn)):zr=Pr(wn),Un&&function jr(Le,Ne){const Ye=ke(Le).tokenObservers;for(const vt of Ye)try{"EXTERNAL"===vt.type&&null!=Ne.error?vt.error(Ne.error):vt.next(Ne)}catch{}}(vt,zr),zr})).apply(this,arguments)}function Ui(Le,Ne){const Ye=ke(Le),vt=Ye.tokenObservers.filter(Vt=>Vt.next!==Ne);0===vt.length&&Ye.tokenRefresher&&Ye.tokenRefresher.isRunning()&&Ye.tokenRefresher.stop(),Ye.tokenObservers=vt}function cr(Le){const{app:Ne}=Le,Ye=ke(Ne);let vt=Ye.tokenRefresher;vt||(vt=function Ms(Le){const{app:Ne}=Le;return new Ci((0,_e.Z)(function*(){let vt;if(vt=ke(Ne).token?yield or(Le,!0):yield or(Le),vt.error)throw vt.error;if(vt.internalError)throw vt.internalError}),()=>!0,()=>{const Ye=ke(Ne);if(Ye.token){let vt=Ye.token.issuedAtTimeMillis+.5*(Ye.token.expireTimeMillis-Ye.token.issuedAtTimeMillis)+3e5;return vt=Math.min(vt,Ye.token.expireTimeMillis-3e5),Math.max(0,vt-Date.now())}return 0},Gn.RETRIAL_MIN_WAIT,Gn.RETRIAL_MAX_WAIT)}(Le),Ye.tokenRefresher=vt),!vt.isRunning()&&Ye.isTokenAutoRefreshEnabled&&vt.start()}function Sr(Le){return Le.expireTimeMillis-Date.now()>0}function Pr(Le){return{token:Zn(Dn),error:Le}}class ur{constructor(Ne,Ye){this.app=Ne,this.heartbeatServiceProvider=Ye}_delete(){const{tokenObservers:Ne}=ke(this.app);for(const Ye of Ne)Ui(this.app,Ye.next);return Promise.resolve()}}const qt="app-check-internal";!function Nt(){(0,Se._registerComponent)(new Ae.wA("app-check",Le=>function Bi(Le,Ne){return new ur(Le,Ne)}(Le.getProvider("app").getImmediate(),Le.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Le,Ne,Ye)=>{Le.getProvider(qt).initialize()})),(0,Se._registerComponent)(new Ae.wA(qt,Le=>function xi(Le){return{getToken:Ne=>or(Le,Ne),getLimitedUseToken:()=>function Vi(Le){return(mt=mt||(0,_e.Z)(function*(Ne){const Ye=Ne.app;tt(Ye);const{provider:vt}=ke(Ye);if(jn()){const Vt=yield nr(),{token:cn}=yield It(Bt(Ye,Vt),Ne.heartbeatServiceProvider);return{token:cn}}{const{token:Vt}=yield vt.getToken();return{token:Vt}}})).apply(this,arguments)}(Le),addTokenListener:Ne=>function Jn(Le,Ne,Ye,vt){const{app:Vt}=Le,cn=ke(Vt);if(cn.tokenObservers=[...cn.tokenObservers,{next:Ye,error:vt,type:Ne}],cn.token&&Sr(cn.token)){const Un=cn.token;Promise.resolve().then(()=>{Ye({token:Un.token}),cr(Le)}).catch(()=>{})}cn.cachedTokenPromise.then(()=>cr(Le))}(Le,"INTERNAL",Ne),removeTokenListener:Ne=>Ui(Le.app,Ne)}}(Le.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.8.0")}();class ti{constructor(){return(0,E.vb)("app-check")}}typeof window<"u"&&window},8726:(Jt,Ke,K)=>{K.d(Ke,{Ot:()=>_,ZF:()=>mt,hX:()=>ht,z6:()=>_e});var E=K(4097),se=K(5879),ie=K(3452);class _{constructor(lt){return lt}}class _e{constructor(){return(0,E.C6)()}}const Te=new se.OlP("angularfire2._apps"),je={provide:_,useFactory:function Ae(Ve){return Ve&&1===Ve.length?Ve[0]:new _((0,E.Mq)())},deps:[[new se.FiY,Te]]},fe={provide:_e,deps:[[new se.FiY,Te]]};function Ce(Ve){return(lt,ke)=>{const st=lt.runOutsideAngular(()=>Ve(ke));return new _(st)}}let Fe=(()=>{class Ve{constructor(ke){(0,E.KN)("angularfire",ie.q4.full,"core"),(0,E.KN)("angularfire",ie.q4.full,"app"),(0,E.KN)("angular",se.q4F.full,ke.toString())}}return Ve.\u0275fac=function(ke){return new(ke||Ve)(se.LFG(se.Lbi))},Ve.\u0275mod=se.oAB({type:Ve}),Ve.\u0275inj=se.cJS({providers:[je,fe]}),Ve})();function ht(Ve,...lt){return{ngModule:Fe,providers:[{provide:Te,useFactory:Ce(Ve),multi:!0,deps:[se.R0b,se.zs3,ie.HU,...lt]}]}}const mt=(0,ie.u3)(E.ZF,!0)},6304:(Jt,Ke,K)=>{K.d(Ke,{Dh:()=>Ae,GT:()=>_e,cc:()=>ht,on:()=>je,pX:()=>_,xv:()=>Te});var E=K(5879),se=K(120);Jt=K.hmd(Jt);const ie=["ngOnDestroy"],_=(mt,pt,sn,Yt={})=>new Proxy(mt,{get:(Ve,lt)=>sn.runOutsideAngular(()=>{var ke;if(mt[lt])return!(null===(ke=Yt?.spy)||void 0===ke)&&ke.get&&Yt.spy.get(lt,mt[lt]),mt[lt];if(ie.indexOf(lt)>-1)return()=>{};const st=pt.toPromise().then(Dt=>{const St=Dt&&Dt[lt];return"function"==typeof St?St.bind(Dt):St&&St.then?St.then(tn=>sn.run(()=>tn)):sn.run(()=>St)});return new Proxy(()=>{},{get:(Dt,St)=>st[St],apply:(Dt,St,tn)=>st.then(an=>{var $n;const Gn=an&&an(...tn);return!(null===($n=Yt?.spy)||void 0===$n)&&$n.apply&&Yt.spy.apply(lt,tn,Gn),Gn})})})}),_e=(mt,pt)=>{pt.forEach(sn=>{Object.getOwnPropertyNames(sn.prototype||sn).forEach(Yt=>{Object.defineProperty(mt.prototype,Yt,Object.getOwnPropertyDescriptor(sn.prototype||sn,Yt))})})};class Se{constructor(pt){return pt}}const Ae=new E.OlP("angularfire2.app.options"),Te=new E.OlP("angularfire2.app.name");function je(mt,pt,sn){const Ve="object"==typeof sn&&sn||{};Ve.name=Ve.name||"string"==typeof sn&&sn||"[DEFAULT]";const ke=se.Z.apps.filter(st=>st&&st.name===Ve.name)[0]||pt.runOutsideAngular(()=>se.Z.initializeApp(mt,Ve));try{JSON.stringify(mt)!==JSON.stringify(ke.options)&&fe("error",`${ke.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(ke)}const fe=(mt,...pt)=>{(0,E.X6Q)()&&typeof console<"u"&&console[mt](...pt)};function ht(mt,pt,sn,Yt,Ve){const[,lt,ke]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===mt)||[];if(lt)return function nt(mt,pt){try{return mt.toString()===pt.toString()}catch{return mt===pt}}(Ve,ke)||(ft("error",`${pt} was already initialized on the ${sn} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:Ve,was:ke})),lt;{const st=Yt();return globalThis.\u0275AngularfireInstanceCache.push([mt,st,Ve]),st}}const yt=!!Jt.hot,ft=(mt,...pt)=>{(0,E.X6Q)()&&typeof console<"u"&&console[mt](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3452:(Jt,Ke,K)=>{K.d(Ke,{q4:()=>Xd,iC:()=>Ii,HU:()=>yo,vb:()=>Jd,JM:()=>Bh,u3:()=>_i});var E=K(5879),se=K(4097),ie=K(5861),_=K(534),_e=K(9058),Se=K(4537),Ae=K(7879);const Te=(B,$)=>$.some(ee=>B instanceof ee);let je,fe;const ht=new WeakMap,nt=new WeakMap,yt=new WeakMap,ft=new WeakMap,mt=new WeakMap;let Yt={get(B,$,ee){if(B instanceof IDBTransaction){if("done"===$)return nt.get(B);if("objectStoreNames"===$)return B.objectStoreNames||yt.get(B);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return st(B[$])},set:(B,$,ee)=>(B[$]=ee,!0),has:(B,$)=>B instanceof IDBTransaction&&("done"===$||"store"===$)||$ in B};function ke(B){return"function"==typeof B?function lt(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...$){return B.apply(Dt(this),$),st(ht.get(this))}:function(...$){return st(B.apply(Dt(this),$))}:function($,...ee){const ge=B.call(Dt(this),$,...ee);return yt.set(ge,$.sort?$.sort():[$]),st(ge)}}(B):(B instanceof IDBTransaction&&function sn(B){if(nt.has(B))return;const $=new Promise((ee,ge)=>{const De=()=>{B.removeEventListener("complete",He),B.removeEventListener("error",at),B.removeEventListener("abort",at)},He=()=>{ee(),De()},at=()=>{ge(B.error||new DOMException("AbortError","AbortError")),De()};B.addEventListener("complete",He),B.addEventListener("error",at),B.addEventListener("abort",at)});nt.set(B,$)}(B),Te(B,function Ce(){return je||(je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Yt):B)}function st(B){if(B instanceof IDBRequest)return function pt(B){const $=new Promise((ee,ge)=>{const De=()=>{B.removeEventListener("success",He),B.removeEventListener("error",at)},He=()=>{ee(st(B.result)),De()},at=()=>{ge(B.error),De()};B.addEventListener("success",He),B.addEventListener("error",at)});return $.then(ee=>{ee instanceof IDBCursor&&ht.set(ee,B)}).catch(()=>{}),mt.set($,B),$}(B);if(ft.has(B))return ft.get(B);const $=ke(B);return $!==B&&(ft.set(B,$),mt.set($,B)),$}const Dt=B=>mt.get(B),an=["get","getKey","getAll","getAllKeys","count"],$n=["put","add","delete","clear"],Gn=new Map;function Or(B,$){var ee;if(!(B instanceof IDBDatabase)||$ in B||"string"!=typeof $)return;if(Gn.get($))return Gn.get($);const ge=$.replace(/FromIndex$/,""),De=$!==ge,He=$n.includes(ge);if(!(ge in(De?IDBIndex:IDBObjectStore).prototype)||!He&&!an.includes(ge))return;const at=function(Tt){return(ee=ee||(0,ie.Z)(function*(rn,...yn){const fn=this.transaction(rn,He?"readwrite":"readonly");let Ir=fn.store;return De&&(Ir=Ir.index(yn.shift())),(yield Promise.all([Ir[ge](...yn),He&&fn.done]))[0]})).apply(this,arguments)};return Gn.set($,at),at}var Ci,oi,vi,xr,Qe,tt,ct,ot,It,Pt,on,Bt,dn,mn,Xn,vn;!function Ve(B){Yt=B(Yt)}(B=>({...B,get:($,ee,ge)=>Or($,ee)||B.get($,ee,ge),has:($,ee)=>!!Or($,ee)||B.has($,ee)}));const Dr="@firebase/installations",_r="0.6.4",Yr=1e4,Fr=`w:${_r}`,Fi="FIS_v2",Oi="https://firebaseinstallations.googleapis.com/v1",Li=36e5,Tn=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jn(B){return B instanceof _e.ZR&&B.code.includes("request-failed")}function nr({projectId:B}){return`${Oi}/projects/${B}/installations`}function fi(B){return{token:B.token,requestStatus:2,expiresIn:Jn(B.expiresIn),creationTime:Date.now()}}function Dn(B,$){return(Ci=Ci||(0,ie.Z)(function*(ee,ge){const He=(yield ge.json()).error;return Tn.create("request-failed",{requestName:ee,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function Zn({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Vi(B){return(oi=oi||(0,ie.Z)(function*($){const ee=yield $();return ee.status>=500&&ee.status<600?$():ee})).apply(this,arguments)}function Jn(B){return Number(B.replace("s","000"))}function Ms(B){return new Promise($=>{setTimeout($,B)})}const Sr=/^[cdef][\w-]{21}$/,Pr="";function ur(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const ee=function Bi(B){return function jr(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Sr.test(ee)?ee:Pr}catch{return Pr}}function xi(B){return`${B.appName}!${B.appId}`}const bi=new Map;function is(B,$){const ee=xi(B);ws(ee,$),function Me(B,$){const ee=function Y(){return!ae&&"BroadcastChannel"in self&&(ae=new BroadcastChannel("[Firebase] FID Change"),ae.onmessage=B=>{ws(B.data.key,B.data.fid)}),ae}();ee&&ee.postMessage({key:B,fid:$}),function te(){0===bi.size&&ae&&(ae.close(),ae=null)}()}(ee,$)}function ws(B,$){const ee=bi.get(B);if(ee)for(const ge of ee)ge($)}let ae=null;const H="firebase-installations-database",he=1,Oe="firebase-installations-store";let Ze=null;function jt(){return Ze||(Ze=function St(B,$,{blocked:ee,upgrade:ge,blocking:De,terminated:He}={}){const at=indexedDB.open(B,$),bt=st(at);return ge&&at.addEventListener("upgradeneeded",Tt=>{ge(st(at.result),Tt.oldVersion,Tt.newVersion,st(at.transaction))}),ee&&at.addEventListener("blocked",()=>ee()),bt.then(Tt=>{He&&Tt.addEventListener("close",()=>He()),De&&Tt.addEventListener("versionchange",()=>De())}).catch(()=>{}),bt}(H,he,{upgrade:(B,$)=>{0===$&&B.createObjectStore(Oe)}})),Ze}function xt(B,$){return(xr=xr||(0,ie.Z)(function*(ee,ge){const De=xi(ee),at=(yield jt()).transaction(Oe,"readwrite"),bt=at.objectStore(Oe),Tt=yield bt.get(De);return yield bt.put(ge,De),yield at.done,(!Tt||Tt.fid!==ge.fid)&&is(ee,ge.fid),ge})).apply(this,arguments)}function En(B){return(Qe=Qe||(0,ie.Z)(function*($){const ee=xi($),De=(yield jt()).transaction(Oe,"readwrite");yield De.objectStore(Oe).delete(ee),yield De.done})).apply(this,arguments)}function nn(B,$){return(tt=tt||(0,ie.Z)(function*(ee,ge){const De=xi(ee),at=(yield jt()).transaction(Oe,"readwrite"),bt=at.objectStore(Oe),Tt=yield bt.get(De),rn=ge(Tt);return void 0===rn?yield bt.delete(De):yield bt.put(rn,De),yield at.done,rn&&(!Tt||Tt.fid!==rn.fid)&&is(ee,rn.fid),rn})).apply(this,arguments)}function Ln(B){return(ct=ct||(0,ie.Z)(function*($){let ee;const ge=yield nn($.appConfig,De=>{const He=function wr(B){return At(B||{fid:ur(),registrationStatus:0})}(De),at=function Us(B,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(Tn.create("app-offline"))};const ee={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},ge=function Bs(B,$){return(ot=ot||(0,ie.Z)(function*(ee,ge){try{const De=yield function cr(B,$){return(vi=vi||(0,ie.Z)(function*({appConfig:ee,heartbeatServiceProvider:ge},{fid:De}){const He=nr(ee),at=Zn(ee),bt=ge.getImmediate({optional:!0});if(bt){const fn=yield bt.getHeartbeatsHeader();fn&&at.append("x-firebase-client",fn)}const rn={method:"POST",headers:at,body:JSON.stringify({fid:De,authVersion:Fi,appId:ee.appId,sdkVersion:Fr})},yn=yield Vi(()=>fetch(He,rn));if(yn.ok){const fn=yield yn.json();return{fid:fn.fid||De,registrationStatus:2,refreshToken:fn.refreshToken,authToken:fi(fn.authToken)}}throw yield Dn("Create Installation",yn)})).apply(this,arguments)}(ee,ge);return xt(ee.appConfig,De)}catch(De){throw jn(De)&&409===De.customData.serverCode?yield En(ee.appConfig):yield xt(ee.appConfig,{fid:ge.fid,registrationStatus:0}),De}})).apply(this,arguments)}(B,ee);return{installationEntry:ee,registrationPromise:ge}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Xe(B)}:{installationEntry:$}}($,He);return ee=at.registrationPromise,at.installationEntry});return ge.fid===Pr?{installationEntry:yield ee}:{installationEntry:ge,registrationPromise:ee}})).apply(this,arguments)}function Xe(B){return(It=It||(0,ie.Z)(function*($){let ee=yield $e($.appConfig);for(;1===ee.registrationStatus;)yield Ms(100),ee=yield $e($.appConfig);if(0===ee.registrationStatus){const{installationEntry:ge,registrationPromise:De}=yield Ln($);return De||ge}return ee})).apply(this,arguments)}function $e(B){return nn(B,$=>{if(!$)throw Tn.create("installation-not-found");return At($)})}function At(B){return function qt(B){return 1===B.registrationStatus&&B.registrationTime+Yr<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Nt(B,$){return(Pt=Pt||(0,ie.Z)(function*({appConfig:ee,heartbeatServiceProvider:ge},De){const He=function hn(B,{fid:$}){return`${nr(B)}/${$}/authTokens:generate`}(ee,De),at=function or(B,{refreshToken:$}){const ee=Zn(B);return ee.append("Authorization",function Ui(B){return`${Fi} ${B}`}($)),ee}(ee,De),bt=ge.getImmediate({optional:!0});if(bt){const fn=yield bt.getHeartbeatsHeader();fn&&at.append("x-firebase-client",fn)}const rn={method:"POST",headers:at,body:JSON.stringify({installation:{sdkVersion:Fr,appId:ee.appId}})},yn=yield Vi(()=>fetch(He,rn));if(yn.ok)return fi(yield yn.json());throw yield Dn("Generate Auth Token",yn)})).apply(this,arguments)}function Vn(B){return(on=on||(0,ie.Z)(function*($,ee=!1){let ge;const De=yield nn($.appConfig,at=>{if(!ni(at))throw Tn.create("not-registered");const bt=at.authToken;if(!ee&&function vr(B){return 2===B.requestStatus&&!function Ar(B){const $=Date.now();return $<B.creationTime||B.creationTime+B.expiresIn<$+Li}(B)}(bt))return at;if(1===bt.requestStatus)return ge=function ti(B,$){return(Bt=Bt||(0,ie.Z)(function*(ee,ge){let De=yield Wr(ee.appConfig);for(;1===De.authToken.requestStatus;)yield Ms(100),De=yield Wr(ee.appConfig);const He=De.authToken;return 0===He.requestStatus?Vn(ee,ge):He})).apply(this,arguments)}($,ee),at;{if(!navigator.onLine)throw Tn.create("app-offline");const Tt=function Qs(B){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:$})}(at);return ge=function kt(B,$){return(dn=dn||(0,ie.Z)(function*(ee,ge){try{const De=yield Nt(ee,ge),He=Object.assign(Object.assign({},ge),{authToken:De});return yield xt(ee.appConfig,He),De}catch(De){if(!jn(De)||401!==De.customData.serverCode&&404!==De.customData.serverCode){const He=Object.assign(Object.assign({},ge),{authToken:{requestStatus:0}});yield xt(ee.appConfig,He)}else yield En(ee.appConfig);throw De}})).apply(this,arguments)}($,Tt),Tt}});return ge?yield ge:De.authToken})).apply(this,arguments)}function Wr(B){return nn(B,$=>{if(!ni($))throw Tn.create("not-registered");return function qs(B){return 1===B.requestStatus&&B.requestTime+Yr<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function ni(B){return void 0!==B&&2===B.registrationStatus}function Ne(B){return Tn.create("missing-app-config-values",{valueName:B})}const Ye="installations",Vt=B=>{const $=B.getProvider("app").getImmediate(),ee=function Le(B){if(!B||!B.options)throw Ne("App Configuration");if(!B.name)throw Ne("App Name");const $=["projectId","apiKey","appId"];for(const ee of $)if(!B.options[ee])throw Ne(ee);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}($);return{app:$,appConfig:ee,heartbeatServiceProvider:(0,_._getProvider)($,"heartbeat"),_delete:()=>Promise.resolve()}},cn=B=>{const $=B.getProvider("app").getImmediate(),ee=(0,_._getProvider)($,Ye).getImmediate();return{getId:()=>function Yo(B){return(mn=mn||(0,ie.Z)(function*($){const ee=$,{installationEntry:ge,registrationPromise:De}=yield Ln(ee);return De?De.catch(console.error):Vn(ee).catch(console.error),ge.fid})).apply(this,arguments)}(ee),getToken:De=>function Kt(B){return(Xn=Xn||(0,ie.Z)(function*($,ee=!1){const ge=$;return yield function ai(B){return(vn=vn||(0,ie.Z)(function*($){const{registrationPromise:ee}=yield Ln($);ee&&(yield ee)})).apply(this,arguments)}(ge),(yield Vn(ge,ee)).token})).apply(this,arguments)}(ee,De)}};var ji;(function wn(){(0,_._registerComponent)(new Se.wA(Ye,Vt,"PUBLIC")),(0,_._registerComponent)(new Se.wA("installations-internal",cn,"PRIVATE"))})(),(0,_.registerVersion)(Dr,_r),(0,_.registerVersion)(Dr,_r,"esm2017");const To="@firebase/remote-config",Qi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ti{constructor($,ee,ge,De){this.client=$,this.storage=ee,this.storageCache=ge,this.logger=De}isCachedDataFresh($,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-ee,De=ge<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${De}.`),De}fetch($){var ee=this;return(0,ie.Z)(function*(){const[ge,De]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(De&&ee.isCachedDataFresh($.cacheMaxAgeMillis,ge))return De;$.eTag=De&&De.eTag;const He=yield ee.client.fetch($),at=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===He.status&&at.push(ee.storage.setLastSuccessfulFetchResponse(He)),yield Promise.all(at),He})()}}function Hi(B=navigator){return B.languages&&B.languages[0]||B.language}class Cs{constructor($,ee,ge,De,He,at){this.firebaseInstallations=$,this.sdkVersion=ee,this.namespace=ge,this.projectId=De,this.apiKey=He,this.appId=at}fetch($){var ee=this;return(0,ie.Z)(function*(){const[ge,De]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Tt={sdk_version:ee.sdkVersion,app_instance_id:ge,app_instance_id_token:De,app_id:ee.appId,language_code:Hi()},rn={method:"POST",headers:bt,body:JSON.stringify(Tt)},yn=fetch(at,rn),fn=new Promise((Kn,ei)=>{$.signal.addEventListener(()=>{const bo=new Error("The operation was aborted.");bo.name="AbortError",ei(bo)})});let Ir;try{yield Promise.race([yn,fn]),Ir=yield yn}catch(Kn){let ei="fetch-client-network";throw"AbortError"===Kn?.name&&(ei="fetch-timeout"),Qi.create(ei,{originalErrorMessage:Kn?.message})}let vs=Ir.status;const er=Ir.headers.get("ETag")||void 0;let ys,us;if(200===Ir.status){let Kn;try{Kn=yield Ir.json()}catch(ei){throw Qi.create("fetch-client-parse",{originalErrorMessage:ei?.message})}ys=Kn.entries,us=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===us?vs=500:"NO_CHANGE"===us?vs=304:("NO_TEMPLATE"===us||"EMPTY_CONFIG"===us)&&(ys={}),304!==vs&&200!==vs)throw Qi.create("fetch-status",{httpStatus:vs});return{status:vs,eTag:er,config:ys}})()}}class Xi{constructor($,ee){this.client=$,this.storage=ee}fetch($){var ee=this;return(0,ie.Z)(function*(){const ge=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch($,ge)})()}attemptFetch($,{throttleEndTimeMillis:ee,backoffCount:ge}){var De=this;return(0,ie.Z)(function*(){yield function ss(B,$){return new Promise((ee,ge)=>{const De=Math.max($-Date.now(),0),He=setTimeout(ee,De);B.addEventListener(()=>{clearTimeout(He),ge(Qi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,ee);try{const He=yield De.client.fetch($);return yield De.storage.deleteThrottleMetadata(),He}catch(He){if(!function ri(B){if(!(B instanceof _e.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}(He))throw He;const at={throttleEndTimeMillis:Date.now()+(0,_e.$s)(ge),backoffCount:ge+1};return yield De.storage.setThrottleMetadata(at),De.attemptFetch($,at)}})()}}class ha{constructor($,ee,ge,De,He){this.app=$,this._client=ee,this._storageCache=ge,this._storage=De,this._logger=He,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function eo(B,$){const ee=B.target.error||void 0;return Qi.create($,{originalErrorMessage:ee&&ee?.message})}const Ps="app_namespace_store";class to{constructor($,ee,ge,De=function pa(){return new Promise((B,$)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=ge=>{$(eo(ge,"storage-open"))},ee.onsuccess=ge=>{B(ge.target.result)},ee.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(Ps,{keyPath:"compositeKey"})}}catch(ee){$(Qi.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=$,this.appName=ee,this.namespace=ge,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var ee=this;return(0,ie.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((De,He)=>{const bt=ge.transaction([Ps],"readonly").objectStore(Ps),Tt=ee.createCompositeKey($);try{const rn=bt.get(Tt);rn.onerror=yn=>{He(eo(yn,"storage-get"))},rn.onsuccess=yn=>{const fn=yn.target.result;De(fn?fn.value:void 0)}}catch(rn){He(Qi.create("storage-get",{originalErrorMessage:rn?.message}))}})})()}set($,ee){var ge=this;return(0,ie.Z)(function*(){const De=yield ge.openDbPromise;return new Promise((He,at)=>{const Tt=De.transaction([Ps],"readwrite").objectStore(Ps),rn=ge.createCompositeKey($);try{const yn=Tt.put({compositeKey:rn,value:ee});yn.onerror=fn=>{at(eo(fn,"storage-set"))},yn.onsuccess=()=>{He()}}catch(yn){at(Qi.create("storage-set",{originalErrorMessage:yn?.message}))}})})()}delete($){var ee=this;return(0,ie.Z)(function*(){const ge=yield ee.openDbPromise;return new Promise((De,He)=>{const bt=ge.transaction([Ps],"readwrite").objectStore(Ps),Tt=ee.createCompositeKey($);try{const rn=bt.delete(Tt);rn.onerror=yn=>{He(eo(yn,"storage-delete"))},rn.onsuccess=()=>{De()}}catch(rn){He(Qi.create("storage-delete",{originalErrorMessage:rn?.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Jo{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,ie.Z)(function*(){const ee=$.storage.getLastFetchStatus(),ge=$.storage.getLastSuccessfulFetchTimestampMillis(),De=$.storage.getActiveConfig(),He=yield ee;He&&($.lastFetchStatus=He);const at=yield ge;at&&($.lastSuccessfulFetchTimestampMillis=at);const bt=yield De;bt&&($.activeConfig=bt)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function oo(){return(ji=ji||(0,ie.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function Ca(){(0,_._registerComponent)(new Se.wA("remote-config",function B($,{instanceIdentifier:ee}){const ge=$.getProvider("app").getImmediate(),De=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qi.create("registration-window");if(!(0,_e.hl)())throw Qi.create("indexed-db-unavailable");const{projectId:He,apiKey:at,appId:bt}=ge.options;if(!He)throw Qi.create("registration-project-id");if(!at)throw Qi.create("registration-api-key");if(!bt)throw Qi.create("registration-app-id");const Tt=new to(bt,ge.name,ee=ee||"firebase"),rn=new Jo(Tt),yn=new Ae.Yd(To);yn.logLevel=Ae.in.ERROR;const fn=new Cs(De,_.SDK_VERSION,ee,He,at,bt),Ir=new Xi(fn,Tt),vs=new Ti(Ir,Tt,rn,yn),er=new ha(ge,vs,rn,Tt,yn);return function Do(B){const $=(0,_e.m9)(B);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(er),er},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(To,"0.4.4"),(0,_.registerVersion)(To,"0.4.4","esm2017")}();const bl=(B,$)=>$.some(ee=>B instanceof ee);let ao,fr;const ea=new WeakMap,Kr=new WeakMap,ks=new WeakMap,no=new WeakMap,li=new WeakMap;let ps={get(B,$,ee){if(B instanceof IDBTransaction){if("done"===$)return Kr.get(B);if("objectStoreNames"===$)return B.objectStoreNames||ks.get(B);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ns(B[$])},set:(B,$,ee)=>(B[$]=ee,!0),has:(B,$)=>B instanceof IDBTransaction&&("done"===$||"store"===$)||$ in B};function ta(B){return"function"==typeof B?function il(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ul(){return fr||(fr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...$){return B.apply(os(this),$),Ns(ea.get(this))}:function(...$){return Ns(B.apply(os(this),$))}:function($,...ee){const ge=B.call(os(this),$,...ee);return ks.set(ge,$.sort?$.sort():[$]),Ns(ge)}}(B):(B instanceof IDBTransaction&&function rl(B){if(Kr.has(B))return;const $=new Promise((ee,ge)=>{const De=()=>{B.removeEventListener("complete",He),B.removeEventListener("error",at),B.removeEventListener("abort",at)},He=()=>{ee(),De()},at=()=>{ge(B.error||new DOMException("AbortError","AbortError")),De()};B.addEventListener("complete",He),B.addEventListener("error",at),B.addEventListener("abort",at)});Kr.set(B,$)}(B),bl(B,function xa(){return ao||(ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,ps):B)}function Ns(B){if(B instanceof IDBRequest)return function Yn(B){const $=new Promise((ee,ge)=>{const De=()=>{B.removeEventListener("success",He),B.removeEventListener("error",at)},He=()=>{ee(Ns(B.result)),De()},at=()=>{ge(B.error),De()};B.addEventListener("success",He),B.addEventListener("error",at)});return $.then(ee=>{ee instanceof IDBCursor&&ea.set(ee,B)}).catch(()=>{}),li.set($,B),$}(B);if(no.has(B))return no.get(B);const $=ta(B);return $!==B&&(no.set(B,$),li.set($,B)),$}const os=B=>li.get(B);function lo(B,$,{blocked:ee,upgrade:ge,blocking:De,terminated:He}={}){const at=indexedDB.open(B,$),bt=Ns(at);return ge&&at.addEventListener("upgradeneeded",Tt=>{ge(Ns(at.result),Tt.oldVersion,Tt.newVersion,Ns(at.transaction))}),ee&&at.addEventListener("blocked",()=>ee()),bt.then(Tt=>{He&&Tt.addEventListener("close",()=>He()),De&&Tt.addEventListener("versionchange",()=>De())}).catch(()=>{}),bt}function Bo(B,{blocked:$}={}){const ee=indexedDB.deleteDatabase(B);return $&&ee.addEventListener("blocked",()=>$()),Ns(ee).then(()=>{})}const Na=["get","getKey","getAll","getAllKeys","count"],Fa=["put","add","delete","clear"],rc=new Map;function Hs(B,$){var ee;if(!(B instanceof IDBDatabase)||$ in B||"string"!=typeof $)return;if(rc.get($))return rc.get($);const ge=$.replace(/FromIndex$/,""),De=$!==ge,He=Fa.includes(ge);if(!(ge in(De?IDBIndex:IDBObjectStore).prototype)||!He&&!Na.includes(ge))return;const at=function(Tt){return(ee=ee||(0,ie.Z)(function*(rn,...yn){const fn=this.transaction(rn,He?"readwrite":"readonly");let Ir=fn.store;return De&&(Ir=Ir.index(yn.shift())),(yield Promise.all([Ir[ge](...yn),He&&fn.done]))[0]})).apply(this,arguments)};return rc.set($,at),at}var La,xc,ic,sl,ci,Tc,sc,So,xs,Bl,co,El,Xr,ol,ms,jl,Si,jo,gs,uo;!function rr(B){ps=B(ps)}(B=>({...B,get:($,ee,ge)=>Hs($,ee)||B.get($,ee,ge),has:($,ee)=>!!Hs($,ee)||B.has($,ee)}));const Ji="/firebase-messaging-sw.js",ui="/firebase-cloud-messaging-push-scope",zs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dc="https://fcmregistrations.googleapis.com/v1",Ta="google.c.a.c_id",as="google.c.a.c_l",wl="google.c.a.ts";var Ao=function(B){return B.PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",B}(Ao||{});function ki(B){const $=new Uint8Array(B);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ho(B){const ee=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(ee),De=new Uint8Array(ge.length);for(let He=0;He<ge.length;++He)De[He]=ge.charCodeAt(He);return De}const lr="fcm_token_details_db",al=5,Va="fcm_token_object_Store",ll="firebase-messaging-database",Da=1,$s="firebase-messaging-store";let es=null;function zo(){return es||(es=lo(ll,Da,{upgrade:(B,$)=>{0===$&&B.createObjectStore($s)}})),es}function Mo(B){return(xc=xc||(0,ie.Z)(function*($){const ee=Ba($),De=yield(yield zo()).transaction($s).objectStore($s).get(ee);if(De)return De;{const He=yield function zi(B){return(La=La||(0,ie.Z)(function*($){var ee;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(bt=>bt.name).includes(lr))return null;let ge=null;return(yield lo(lr,al,{upgrade:function(at,bt,Tt,rn){return(ee=ee||(0,ie.Z)(function*(yn,fn,Ir,vs){var er;if(fn<2||!yn.objectStoreNames.contains(Va))return;const ys=vs.objectStore(Va),us=yield ys.index("fcmSenderId").get($);if(yield ys.clear(),us)if(2===fn){const Kn=us;if(!Kn.auth||!Kn.p256dh||!Kn.endpoint)return;ge={token:Kn.fcmToken,createTime:null!==(er=Kn.createTime)&&void 0!==er?er:Date.now(),subscriptionOptions:{auth:Kn.auth,p256dh:Kn.p256dh,endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:"string"==typeof Kn.vapidKey?Kn.vapidKey:ki(Kn.vapidKey)}}}else if(3===fn){const Kn=us;ge={token:Kn.fcmToken,createTime:Kn.createTime,subscriptionOptions:{auth:ki(Kn.auth),p256dh:ki(Kn.p256dh),endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:ki(Kn.vapidKey)}}}else if(4===fn){const Kn=us;ge={token:Kn.fcmToken,createTime:Kn.createTime,subscriptionOptions:{auth:ki(Kn.auth),p256dh:ki(Kn.p256dh),endpoint:Kn.endpoint,swScope:Kn.swScope,vapidKey:ki(Kn.vapidKey)}}}})).apply(this,arguments)}})).close(),yield Bo(lr),yield Bo("fcm_vapid_details_db"),yield Bo("undefined"),function oc(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:$}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}(ge)?ge:null})).apply(this,arguments)}($.appConfig.senderId);if(He)return yield mi($,He),He}})).apply(this,arguments)}function mi(B,$){return(ic=ic||(0,ie.Z)(function*(ee,ge){const De=Ba(ee),at=(yield zo()).transaction($s,"readwrite");return yield at.objectStore($s).put(ge,De),yield at.done,ge})).apply(this,arguments)}function Ba({appConfig:B}){return B.appId}const ls=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ja(B,$){return(ci=ci||(0,ie.Z)(function*(ee,ge){const De=yield q(ee),He=ye(ge),at={method:"POST",headers:De,body:JSON.stringify(He)};let bt;try{bt=yield(yield fetch(M(ee.appConfig),at)).json()}catch(Tt){throw ls.create("token-subscribe-failed",{errorInfo:Tt?.toString()})}if(bt.error)throw ls.create("token-subscribe-failed",{errorInfo:bt.error.message});if(!bt.token)throw ls.create("token-subscribe-no-token");return bt.token})).apply(this,arguments)}function cl(B,$){return(sc=sc||(0,ie.Z)(function*(ee,ge){const He={method:"DELETE",headers:yield q(ee)};try{const bt=yield(yield fetch(`${M(ee.appConfig)}/${ge}`,He)).json();if(bt.error)throw ls.create("token-unsubscribe-failed",{errorInfo:bt.error.message})}catch(at){throw ls.create("token-unsubscribe-failed",{errorInfo:at?.toString()})}})).apply(this,arguments)}function M({projectId:B}){return`${Dc}/projects/${B}/registrations`}function q(B){return(So=So||(0,ie.Z)(function*({appConfig:$,installations:ee}){const ge=yield ee.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$.apiKey,"x-goog-firebase-installations-auth":`FIS ${ge}`})})).apply(this,arguments)}function ye({p256dh:B,auth:$,endpoint:ee,vapidKey:ge}){const De={web:{endpoint:ee,auth:$,p256dh:B}};return ge!==zs&&(De.web.applicationPubKey=ge),De}const z=6048e5;function me(B){return(xs=xs||(0,ie.Z)(function*($){const ee=yield function ir(B,$){return(Xr=Xr||(0,ie.Z)(function*(ee,ge){return(yield ee.pushManager.getSubscription())||ee.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ho(ge)})})).apply(this,arguments)}($.swRegistration,$.vapidKey),ge={vapidKey:$.vapidKey,swScope:$.swRegistration.scope,endpoint:ee.endpoint,auth:ki(ee.getKey("auth")),p256dh:ki(ee.getKey("p256dh"))},De=yield Mo($.firebaseDependencies);if(De){if(function yr(B,$){return $.vapidKey===B.vapidKey&&$.endpoint===B.endpoint&&$.auth===B.auth&&$.p256dh===B.p256dh}(De.subscriptionOptions,ge))return Date.now()>=De.createTime+z?function ut(B,$){return(co=co||(0,ie.Z)(function*(ee,ge){try{const De=yield function Ro(B,$){return(Tc=Tc||(0,ie.Z)(function*(ee,ge){const De=yield q(ee),He=ye(ge.subscriptionOptions),at={method:"PATCH",headers:De,body:JSON.stringify(He)};let bt;try{bt=yield(yield fetch(`${M(ee.appConfig)}/${ge.token}`,at)).json()}catch(Tt){throw ls.create("token-update-failed",{errorInfo:Tt?.toString()})}if(bt.error)throw ls.create("token-update-failed",{errorInfo:bt.error.message});if(!bt.token)throw ls.create("token-update-no-token");return bt.token})).apply(this,arguments)}(ee.firebaseDependencies,ge),He=Object.assign(Object.assign({},ge),{token:De,createTime:Date.now()});return yield mi(ee.firebaseDependencies,He),De}catch(De){throw yield function Re(B){return(Bl=Bl||(0,ie.Z)(function*($){const ee=yield Mo($.firebaseDependencies);ee&&(yield cl($.firebaseDependencies,ee.token),yield function Ua(B){return(sl=sl||(0,ie.Z)(function*($){const ee=Ba($),De=(yield zo()).transaction($s,"readwrite");yield De.objectStore($s).delete(ee),yield De.done})).apply(this,arguments)}($.firebaseDependencies));const ge=yield $.swRegistration.pushManager.getSubscription();return!ge||ge.unsubscribe()})).apply(this,arguments)}(ee),De}})).apply(this,arguments)}($,{token:De.token,createTime:Date.now(),subscriptionOptions:ge}):De.token;try{yield cl($.firebaseDependencies,De.token)}catch(He){console.warn(He)}return zt($.firebaseDependencies,ge)}return zt($.firebaseDependencies,ge)})).apply(this,arguments)}function zt(B,$){return(El=El||(0,ie.Z)(function*(ee,ge){const He={token:yield ja(ee,ge),createTime:Date.now(),subscriptionOptions:ge};return yield mi(ee,He),He.token})).apply(this,arguments)}function $r(B){const $={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function pr(B,$){if(!$.notification)return;B.notification={};const ee=$.notification.title;ee&&(B.notification.title=ee);const ge=$.notification.body;ge&&(B.notification.body=ge);const De=$.notification.image;De&&(B.notification.image=De);const He=$.notification.icon;He&&(B.notification.icon=He)}($,B),function Mi(B,$){$.data&&(B.data=$.data)}($,B),function di(B,$){var ee,ge,De,He,at;if(!($.fcmOptions||null!==(ee=$.notification)&&void 0!==ee&&ee.click_action))return;B.fcmOptions={};const bt=null!==(De=null===(ge=$.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==De?De:null===(He=$.notification)||void 0===He?void 0:He.click_action;bt&&(B.fcmOptions.link=bt);const Tt=null===(at=$.fcmOptions)||void 0===at?void 0:at.analytics_label;Tt&&(B.fcmOptions.analyticsLabel=Tt)}($,B),$}function ro(B,$){const ee=[];for(let ge=0;ge<B.length;ge++)ee.push(B.charAt(ge)),ge<$.length&&ee.push($.charAt(ge));return ee.join("")}function ia(B){return ls.create("missing-app-config-values",{valueName:B})}ro("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ro("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $o{constructor($,ee,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function ra(B){if(!B||!B.options)throw ia("App Configuration Object");if(!B.name)throw ia("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=B;for(const ge of $)if(!ee[ge])throw ia(ge);return{appName:B.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:De,installations:ee,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function gi(B,$){return(Si=Si||(0,ie.Z)(function*(ee,ge){if(!navigator)throw ls.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ls.create("permission-blocked");return yield function Ri(B,$){return(jl=jl||(0,ie.Z)(function*(ee,ge){ge?ee.vapidKey=ge:ee.vapidKey||(ee.vapidKey=zs)})).apply(this,arguments)}(ee,ge?.vapidKey),yield function ma(B,$){return(ms=ms||(0,ie.Z)(function*(ee,ge){if(!ge&&!ee.swRegistration&&(yield function Ts(B){return(ol=ol||(0,ie.Z)(function*($){try{$.swRegistration=yield navigator.serviceWorker.register(Ji,{scope:ui}),$.swRegistration.update().catch(()=>{})}catch(ee){throw ls.create("failed-service-worker-registration",{browserErrorMessage:ee?.message})}})).apply(this,arguments)}(ee)),ge||!ee.swRegistration){if(!(ge instanceof ServiceWorkerRegistration))throw ls.create("invalid-sw-registration");ee.swRegistration=ge}})).apply(this,arguments)}(ee,ge?.serviceWorkerRegistration),me(ee)})).apply(this,arguments)}function fo(B,$){return(gs=gs||(0,ie.Z)(function*(ee,ge){const De=ge.data;if(!De.isFirebaseMessaging)return;ee.onMessageHandler&&De.messageType===Ao.PUSH_RECEIVED&&("function"==typeof ee.onMessageHandler?ee.onMessageHandler($r(De)):ee.onMessageHandler.next($r(De)));const He=De.data;(function _s(B){return"object"==typeof B&&!!B&&Ta in B})(He)&&"1"===He["google.c.a.e"]&&(yield function Sc(B,$,ee){return(jo=jo||(0,ie.Z)(function*(ge,De,He){const at=function ul(B){switch(B){case Ao.NOTIFICATION_CLICKED:return"notification_open";case Ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(De);(yield ge.firebaseDependencies.analyticsProvider.get()).logEvent(at,{message_id:He[Ta],message_name:He[as],message_time:He[wl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(ee,De.messageType,He))})).apply(this,arguments)}const Pu="@firebase/messaging",Hl=B=>{const $=new $o(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>fo($,ee)),$},sa=B=>{const $=B.getProvider("messaging").getImmediate();return{getToken:ge=>gi($,ge)}};function Rc(){return(uo=uo||(0,ie.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Oc,md,qn,ac,Fu,Lu,Uu,Bu,tu;!function Mc(){(0,_._registerComponent)(new Se.wA("messaging",Hl,"PUBLIC")),(0,_._registerComponent)(new Se.wA("messaging-internal",sa,"PRIVATE")),(0,_.registerVersion)(Pu,"0.12.4"),(0,_.registerVersion)(Pu,"0.12.4","esm2017")}();const Mt="analytics",Lr="firebase_id",Ds="origin",ga=6e4,ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ha="https://www.googletagmanager.com/gtag/js",Ei=new Ae.Yd("@firebase/analytics"),kn=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function po(B){if(!B.startsWith(Ha)){const $=kn.create("invalid-gtag-resource",{gtagURL:B});return Ei.warn($.message),""}return B}function lc(B){return Promise.all(B.map($=>$.catch(ee=>ee)))}const V=30,ce=new class W{constructor($={},ee=1e3){this.throttleMetadata=$,this.intervalMillis=ee}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,ee){this.throttleMetadata[$]=ee}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function ve(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function $t(B){return(ac=ac||(0,ie.Z)(function*($,ee=ce,ge){const{appId:De,apiKey:He,measurementId:at}=$.options;if(!De)throw kn.create("no-app-id");if(!He){if(at)return{measurementId:at,appId:De};throw kn.create("no-api-key")}const bt=ee.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tt=new gn;return setTimeout((0,ie.Z)(function*(){Tt.abort()}),void 0!==ge?ge:ga),dt({appId:De,apiKey:He,measurementId:at},bt,Tt,ee)})).apply(this,arguments)}function dt(B,$,ee){return(Fu=Fu||(0,ie.Z)(function*(ge,{throttleEndTimeMillis:De,backoffCount:He},at,bt=ce){var Tt;const{appId:rn,measurementId:yn}=ge;try{yield function Nn(B,$){return new Promise((ee,ge)=>{const De=Math.max($-Date.now(),0),He=setTimeout(ee,De);B.addEventListener(()=>{clearTimeout(He),ge(kn.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(at,De)}catch(fn){if(yn)return Ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:rn,measurementId:yn};throw fn}try{const fn=yield function Ge(B){return(qn=qn||(0,ie.Z)(function*($){var ee;const{appId:ge,apiKey:De}=$,He={method:"GET",headers:ve(De)},at=ts.replace("{app-id}",ge),bt=yield fetch(at,He);if(200!==bt.status&&304!==bt.status){let Tt="";try{const rn=yield bt.json();null!==(ee=rn.error)&&void 0!==ee&&ee.message&&(Tt=rn.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:bt.status,responseMessage:Tt})}return bt.json()})).apply(this,arguments)}(ge);return bt.deleteThrottleMetadata(rn),fn}catch(fn){const Ir=fn;if(!function tr(B){if(!(B instanceof _e.ZR&&B.customData))return!1;const $=Number(B.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Ir)){if(bt.deleteThrottleMetadata(rn),yn)return Ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${Ir?.message}]`),{appId:rn,measurementId:yn};throw fn}const vs=503===Number(null===(Tt=Ir?.customData)||void 0===Tt?void 0:Tt.httpStatus)?(0,_e.$s)(He,bt.intervalMillis,V):(0,_e.$s)(He,bt.intervalMillis),er={throttleEndTimeMillis:Date.now()+vs,backoffCount:He+1};return bt.setThrottleMetadata(rn,er),Ei.debug(`Calling attemptFetch again in ${vs} millis`),dt(ge,er,at,bt)}})).apply(this,arguments)}class gn{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let Rr,wi;function cc(B,$,ee,ge,De,He,at){return(Bu=Bu||(0,ie.Z)(function*(bt,Tt,rn,yn,fn,Ir,vs){var er;const ys=$t(bt);ys.then(Zs=>{rn[Zs.measurementId]=Zs.appId,bt.options.measurementId&&Zs.measurementId!==bt.options.measurementId&&Ei.warn(`The measurement ID in the local Firebase config (${bt.options.measurementId}) does not match the measurement ID fetched from the server (${Zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zs=>Ei.error(Zs)),Tt.push(ys);const us=function _d(){return(Uu=Uu||(0,ie.Z)(function*(){if(!(0,_e.hl)())return Ei.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(B){return Ei.warn(kn.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(Zs=>{if(Zs)return yn.getId()}),[Kn,ei]=yield Promise.all([ys,us]);(function P(B){const $=window.document.getElementsByTagName("script");for(const ee of Object.values($))if(ee.src&&ee.src.includes(Ha)&&ee.src.includes(B))return ee;return null})(Ir)||function Mn(B,$){const ee=function _n(B,$){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(B,$)),ee}("firebase-js-sdk-policy",{createScriptURL:po}),ge=document.createElement("script"),De=`${Ha}?l=${B}&id=${$}`;ge.src=ee?ee?.createScriptURL(De):De,ge.async=!0,document.head.appendChild(ge)}(Ir,Kn.measurementId),wi&&(fn("consent","default",wi),function Ft(B){wi=B}(void 0)),fn("js",new Date);const bo=null!==(er=vs?.config)&&void 0!==er?er:{};return bo[Ds]="firebase",bo.update=!0,null!=ei&&(bo[Lr]=ei),fn("config",Kn.measurementId,bo),Rr&&(fn("set",Rr),function nu(B){Rr=B}(void 0)),Kn.measurementId})).apply(this,arguments)}class Fh{constructor($){this.app=$}_delete(){return delete oa[this.app.options.appId],Promise.resolve()}}let oa={},uc=[];const Tl={};let $i,vo,_a="dataLayer",Gl=!1;function et(B,$,ee){!function Fs(){const B=[];if((0,_e.ru)()&&B.push("This is a browser extension environment."),(0,_e.zI)()||B.push("Cookies are not available."),B.length>0){const $=B.map((ge,De)=>`(${De+1}) ${ge}`).join(" "),ee=kn.create("invalid-analytics-context",{errorInfo:$});Ei.warn(ee.message)}}();const ge=B.options.appId;if(!ge)throw kn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw kn.create("no-api-key");Ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oa[ge])throw kn.create("already-exists",{id:ge});if(!Gl){!function mo(B){let $=[];Array.isArray(window[B])?$=window[B]:window[B]=$}(_a);const{wrappedGtag:He,gtagCore:at}=function D(B,$,ee,ge,De){let He=function(...at){window[ge].push(arguments)};return window[De]&&"function"==typeof window[De]&&(He=window[De]),window[De]=function wt(B,$,ee,ge){var De;return function He(at){return(De=De||(0,ie.Z)(function*(bt,...Tt){try{if("event"===bt){const[rn,yn]=Tt;yield function rt(B,$,ee,ge,De){return(md=md||(0,ie.Z)(function*(He,at,bt,Tt,rn){try{let yn=[];if(rn&&rn.send_to){let fn=rn.send_to;Array.isArray(fn)||(fn=[fn]);const Ir=yield lc(bt);for(const vs of fn){const er=Ir.find(us=>us.measurementId===vs),ys=er&&at[er.appId];if(!ys){yn=[];break}yn.push(ys)}}0===yn.length&&(yn=Object.values(at)),yield Promise.all(yn),He("event",Tt,rn||{})}catch(yn){Ei.error(yn)}})).apply(this,arguments)}(B,$,ee,rn,yn)}else if("config"===bt){const[rn,yn]=Tt;yield function Xt(B,$,ee,ge,De,He){return(Oc=Oc||(0,ie.Z)(function*(at,bt,Tt,rn,yn,fn){const Ir=rn[yn];try{if(Ir)yield bt[Ir];else{const er=(yield lc(Tt)).find(ys=>ys.measurementId===yn);er&&(yield bt[er.appId])}}catch(vs){Ei.error(vs)}at("config",yn,fn)})).apply(this,arguments)}(B,$,ee,ge,rn,yn)}else if("consent"===bt){const[rn]=Tt;B("consent","update",rn)}else if("get"===bt){const[rn,yn,fn]=Tt;B("get",rn,yn,fn)}else if("set"===bt){const[rn]=Tt;B("set",rn)}else B(bt,...Tt)}catch(rn){Ei.error(rn)}})).apply(this,arguments)}}(He,B,$,ee),{gtagCore:He,wrappedGtag:window[De]}}(oa,uc,Tl,_a,"gtag");vo=He,$i=at,Gl=!0}return oa[ge]=cc(B,uc,Tl,$,$i,_a,ee),new Fh(B)}function Wi(){return(tu=tu||(0,ie.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const ns="@firebase/analytics";!function $a(){(0,_._registerComponent)(new Se.wA(Mt,($,{options:ee})=>et($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,_._registerComponent)(new Se.wA("analytics-internal",function B($){try{const ee=$.getProvider(Mt).getImmediate();return{logEvent:(ge,De,He)=>function Lh(B,$,ee,ge){B=(0,_e.m9)(B),function go(B,$,ee,ge,De){return(Lu=Lu||(0,ie.Z)(function*(He,at,bt,Tt,rn){if(rn&&rn.global)He("event",bt,Tt);else{const yn=yield at;He("event",bt,Object.assign(Object.assign({},Tt),{send_to:yn}))}})).apply(this,arguments)}(vo,oa[B.app.options.appId],$,ee,ge).catch(De=>Ei.error(De))}(ee,ge,De,He)}}catch(ee){throw kn.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,_.registerVersion)(ns,"0.10.0"),(0,_.registerVersion)(ns,"0.10.0","esm2017")}();var va=K(1954),hc=K(2631);const aa=new class Vh extends hc.v{}(class Ks extends va.o{constructor($,ee){super($,ee),this.scheduler=$,this.work=ee}schedule($,ee=0){return ee>0?super.schedule($,ee):(this.delay=ee,this.state=$,this.scheduler.flush(this),this)}execute($,ee){return ee>0||this.closed?super.execute($,ee):this._execute($,ee)}requestAsyncId($,ee,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId($,ee,ge):($.flush(this),0)}});var iu=K(6321),ko=K(5592),Uh=K(9397),Dl=K(5137),Nc=K(3093);const Xd=new E.GfV("7.6.1"),Sl="__angularfire_symbol__analyticsIsSupportedValue",zu="__angularfire_symbol__analyticsIsSupported",Fc="__angularfire_symbol__remoteConfigIsSupportedValue",Lc="__angularfire_symbol__remoteConfigIsSupported",su="__angularfire_symbol__messagingIsSupportedValue",$u="__angularfire_symbol__messagingIsSupported";function Bh(B,$,ee){if($){if(1===$.length)return $[0];const He=$.filter(at=>at.app===ee);if(1===He.length)return He[0]}return ee.container.getProvider(B).getImmediate({optional:!0})}globalThis[zu]||(globalThis[zu]=Wi().then(B=>globalThis[Sl]=B).catch(()=>globalThis[Sl]=!1)),globalThis[$u]||(globalThis[$u]=Rc().then(B=>globalThis[su]=B).catch(()=>globalThis[su]=!1)),globalThis[Lc]||(globalThis[Lc]=oo().then(B=>globalThis[Fc]=B).catch(()=>globalThis[Fc]=!1));const Jd=(B,$)=>{const ee=$?[$]:(0,se.C6)(),ge=[];return ee.forEach(De=>{De.container.getProvider(B).instances.forEach(at=>{ge.includes(at)||ge.push(at)})}),ge};function ql(){}class Al{constructor($,ee=aa){this.zone=$,this.delegate=ee}now(){return this.delegate.now()}schedule($,ee,ge){const De=this.zone;return this.delegate.schedule(function(at){De.runGuarded(()=>{$.apply(this,[at])})},ee,ge)}}class bd{constructor($){this.zone=$,this.task=null}call($,ee){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ql,{},ql,ql)),ee.pipe((0,Uh.b)({next:ge,complete:ge,error:ge})).subscribe($).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yo=(()=>{class B{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Al(Zone.current)),this.insideAngular=ee.run(()=>new Al(Zone.current,iu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(ee){return new(ee||B)(E.LFG(E.R0b))},B.\u0275prov=E.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Ga(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Ma(B){return Ga().ngZone.run(()=>B())}function Ii(B){return Ga(),function Ml(B){return function(ee){return(ee=ee.lift(new bd(B.ngZone))).pipe((0,Dl.R)(B.outsideAngular),(0,Nc.Q)(B.insideAngular))}}(Ga())(B)}const Ss=(B,$)=>function(){const ge=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Ma(()=>B.apply(void 0,ge))},_i=(B,$)=>function(){let ee;const ge=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof ge[He]&&($&&(ee||(ee=Ma(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ql,{},ql,ql)))),ge[He]=Ss(ge[He],ee));const De=function cs(B){return Ga().ngZone.runOutsideAngular(()=>B())}(()=>B.apply(this,ge));if(!$){if(De instanceof ko.y){const He=Ga();return De.pipe((0,Dl.R)(He.outsideAngular),(0,Nc.Q)(He.insideAngular))}return Ma(()=>De)}return De instanceof ko.y?De.pipe(Ii):De instanceof Promise?Ma(()=>new Promise((He,at)=>De.then(bt=>Ma(()=>He(bt)),bt=>Ma(()=>at(bt))))):"function"==typeof De&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),De.apply(this,arguments)}:Ma(()=>De)}},6710:(Jt,Ke,K)=>{K.d(Ke,{$:()=>mi,A:()=>En,D:()=>wr,I:()=>il,J:()=>Bo,L:()=>co,N:()=>qr,P:()=>ru,Q:()=>Zr,R:()=>_a,U:()=>Dc,V:()=>Ta,W:()=>as,X:()=>zs,Y:()=>Ao,Z:()=>ki,_:()=>Va,a:()=>ga,a0:()=>Ua,a1:()=>Ba,a2:()=>ls,a3:()=>q,a4:()=>ye,a5:()=>z,a6:()=>me,a7:()=>Re,a8:()=>ut,a9:()=>zt,aA:()=>kt,aB:()=>$u,aC:()=>hr,aD:()=>Zt,aE:()=>Fc,aF:()=>aa,aG:()=>Vh,aH:()=>Yn,aL:()=>Ei,aO:()=>na,aa:()=>ir,ab:()=>yr,ac:()=>$r,ad:()=>Mi,ae:()=>di,af:()=>_s,ai:()=>ra,aj:()=>ia,ak:()=>$o,an:()=>Da,ao:()=>Ac,aq:()=>md,ar:()=>Oo,as:()=>vr,at:()=>On,au:()=>ri,av:()=>Nt,aw:()=>Ir,ax:()=>Vc,ay:()=>ha,az:()=>hn,b:()=>Lr,c:()=>dc,d:()=>$p,e:()=>Lh,f:()=>ko,g:()=>Xd,h:()=>Dl,i:()=>tr,j:()=>zu,k:()=>us,l:()=>Gl,m:()=>bo,o:()=>th,p:()=>Ze,r:()=>za,s:()=>vo,u:()=>et});var Ae,Te,je,fe,Ce,Fe,ht,nt,yt,ft,mt,pt,sn,Yt,Ve,lt,ke,st,Dt,St,tn,an,$n,Gn,Or,Ci,oi,vi,xr,Qe,tt,ct,ot,It,Pt,on,Bt,dn,mn,Xn,vn,Er,Tr,Dr,_r,Yr,Fr,Fi,Oi,Li,yi,Bn,ln,Tn,jn,nr,fi,Zn,or,Vi,Jn,Ui,cr,Ms,jr,Sr,Pr,ur,Bi,xi,bi,is,ds,Rs,ws,Me,ae,Y,te,H,he,E=K(5861),se=K(9058),ie=K(534),_=K(7582),_e=K(7879),Se=K(4537);const Ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},En={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const wr=function nn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Us=function Ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bs=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new _e.Yd("@firebase/auth");function qt(j,...w){$e.logLevel<=_e.in.ERROR&&$e.error(`Auth (${ie.SDK_VERSION}): ${j}`,...w)}function Nt(j,...w){throw Wr(j,...w)}function hn(j,...w){return Wr(j,...w)}function Vn(j,w,I){const R=Object.assign(Object.assign({},Us()),{[w]:I});return new se.LL("auth","Firebase",R).create(w,{appName:j.name})}function ti(j,w,I){if(!(w instanceof I))throw I.name!==w.constructor.name&&Nt(j,"argument-error"),Vn(j,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wr(j,...w){if("string"!=typeof j){const I=w[0],R=[...w.slice(1)];return R[0]&&(R[0].appName=j.name),j._errorFactory.create(I,...R)}return Bs.create(j,...w)}function kt(j,w,...I){if(!j)throw Wr(w,...I)}function ni(j){const w="INTERNAL ASSERTION FAILED: "+j;throw qt(w),new Error(w)}function vr(j,w){j||ni(w)}function Ar(){var j;return typeof self<"u"&&(null===(j=self.location)||void 0===j?void 0:j.href)||""}function Qs(){return"http:"===qs()||"https:"===qs()}function qs(){var j;return typeof self<"u"&&(null===(j=self.location)||void 0===j?void 0:j.protocol)||null}class ai{constructor(w,I){this.shortDelay=w,this.longDelay=I,vr(I>w,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return function Yo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qs()||(0,se.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pi(j,w){vr(j.emulator,"Emulator should always be set here");const{url:I}=j.emulator;return w?`${I}${w.startsWith("/")?w.slice(1):w}`:I}class Qo{static initialize(w,I,R){this.fetchImpl=w,I&&(this.headersImpl=I),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ca=new ai(3e4,6e4);function Hr(j,w){return j.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:j.tenantId}):w}function Le(j,w,I,R){return(Ae=Ae||(0,E.Z)(function*(ne,oe,we,Pe,it={}){return Ne(ne,it,(0,E.Z)(function*(){let Ct={},Lt={};Pe&&("GET"===oe?Lt=Pe:Ct={body:JSON.stringify(Pe)});const Pn=(0,se.xO)(Object.assign({key:ne.config.apiKey},Lt)).slice(1),Gt=yield ne._getAdditionalHeaders();return Gt["Content-Type"]="application/json",ne.languageCode&&(Gt["X-Firebase-Locale"]=ne.languageCode),Qo.fetch()(vt(ne,ne.config.apiHost,we,Pn),Object.assign({method:oe,headers:Gt,referrerPolicy:"no-referrer"},Ct))}))})).apply(this,arguments)}function Ne(j,w,I){return(Te=Te||(0,E.Z)(function*(R,ne,oe){R._canInitEmulator=!1;const we=Object.assign(Object.assign({},hs),ne);try{const Pe=new Vt(R),it=yield Promise.race([oe(),Pe.promise]);Pe.clearNetworkTimeout();const Ct=yield it.json();if("needConfirmation"in Ct)throw cn(R,"account-exists-with-different-credential",Ct);if(it.ok&&!("errorMessage"in Ct))return Ct;{const Lt=it.ok?Ct.errorMessage:Ct.error.message,[Pn,Gt]=Lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pn)throw cn(R,"credential-already-in-use",Ct);if("EMAIL_EXISTS"===Pn)throw cn(R,"email-already-in-use",Ct);if("USER_DISABLED"===Pn)throw cn(R,"user-disabled",Ct);const Sn=we[Pn]||Pn.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw Vn(R,Sn,Gt);Nt(R,Sn)}}catch(Pe){if(Pe instanceof se.ZR)throw Pe;Nt(R,"network-request-failed",{message:String(Pe)})}})).apply(this,arguments)}function Ye(j,w,I,R){return(je=je||(0,E.Z)(function*(ne,oe,we,Pe,it={}){const Ct=yield Le(ne,oe,we,Pe,it);return"mfaPendingCredential"in Ct&&Nt(ne,"multi-factor-auth-required",{_serverResponse:Ct}),Ct})).apply(this,arguments)}function vt(j,w,I,R){const ne=`${w}${I}?${R}`;return j.config.emulator?Pi(j.config,ne):`${j.config.apiScheme}://${ne}`}class Vt{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((I,R)=>{this.timer=setTimeout(()=>R(hn(this.auth,"network-request-failed")),ca.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(j,w,I){const R={appName:j.name};I.email&&(R.email=I.email),I.phoneNumber&&(R.phoneNumber=I.phoneNumber);const ne=hn(j,w,R);return ne.customData._tokenResponse=I,ne}function ar(j){if(j)try{const w=new Date(Number(j));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function js(j){return 1e3*Number(j)}function Is(j){const[w,I,R]=j.split(".");if(void 0===w||void 0===I||void 0===R)return qt("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,se.tV)(I);return ne?JSON.parse(ne):(qt("Failed to decode base64 JWT payload"),null)}catch(ne){return qt("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function Xs(j,w){return(nt=nt||(0,E.Z)(function*(I,R,ne=!1){if(ne)return R;try{return yield R}catch(oe){throw oe instanceof se.ZR&&function Qi({code:j}){return"auth/user-disabled"===j||"auth/user-token-expired"===j}(oe)&&I.auth.currentUser===I&&(yield I.auth.signOut()),oe}})).apply(this,arguments)}class Xo{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var I;if(w){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ne=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(w=!1){var I=this;if(!this.isRunning)return;const R=this.getInterval(w);this.timerId=setTimeout((0,E.Z)(function*(){yield I.iteration()}),R)}iteration(){var w=this;return(0,E.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&w.schedule(!0))}w.schedule()})()}}class ua{constructor(w,I){this.createdAt=w,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function da(j){return(yt=yt||(0,E.Z)(function*(w){var I;const R=w.auth,ne=yield w.getIdToken(),oe=yield Xs(w,function zr(j,w){return(Fe=Fe||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:lookup",R)})).apply(this,arguments)}(R,{idToken:ne}));kt(oe?.users.length,R,"internal-error");const we=oe.users[0];w._notifyReloadListener(we);const Pe=null!==(I=we.providerUserInfo)&&void 0!==I&&I.length?function pi(j){return j.map(w=>{var{providerId:I}=w,R=(0,_._T)(w,["providerId"]);return{providerId:I,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(we.providerUserInfo):[],it=function Qr(j,w){return[...j.filter(R=>!w.some(ne=>ne.providerId===R.providerId)),...w]}(w.providerData,Pe),Pn=!!w.isAnonymous&&!(w.email&&we.passwordHash||it?.length),Gt={uid:we.localId,displayName:we.displayName||null,photoURL:we.photoUrl||null,email:we.email||null,emailVerified:we.emailVerified||!1,phoneNumber:we.phoneNumber||null,tenantId:we.tenantId||null,providerData:it,metadata:new ua(we.createdAt,we.lastLoginAt),isAnonymous:Pn};Object.assign(w,Gt)})).apply(this,arguments)}class kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){kt(w.idToken,"internal-error"),kt(typeof w.idToken<"u","internal-error"),kt(typeof w.refreshToken<"u","internal-error");const I="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function wa(j){const w=Is(j);return kt(w,"internal-error"),kt(typeof w.exp<"u","internal-error"),kt(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,I)}getToken(w,I=!1){var R=this;return(0,E.Z)(function*(){return kt(!R.accessToken||R.refreshToken,w,"user-token-expired"),I||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(w,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,I){var R=this;return(0,E.Z)(function*(){const{accessToken:ne,refreshToken:oe,expiresIn:we}=yield function Js(j,w){return(mt=mt||(0,E.Z)(function*(I,R){const ne=yield Ne(I,{},(0,E.Z)(function*(){const oe=(0,se.xO)({grant_type:"refresh_token",refresh_token:R}).slice(1),{tokenApiHost:we,apiKey:Pe}=I.config,it=vt(I,we,"/v1/token",`key=${Pe}`),Ct=yield I._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",Qo.fetch()(it,{method:"POST",headers:Ct,body:oe})}));return{accessToken:ne.access_token,expiresIn:ne.expires_in,refreshToken:ne.refresh_token}})).apply(this,arguments)}(w,I);R.updateTokensAndExpiration(ne,oe,Number(we))})()}updateTokensAndExpiration(w,I,R){this.refreshToken=I||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(w,I){const{refreshToken:R,accessToken:ne,expirationTime:oe}=I,we=new kr;return R&&(kt("string"==typeof R,"internal-error",{appName:w}),we.refreshToken=R),ne&&(kt("string"==typeof ne,"internal-error",{appName:w}),we.accessToken=ne),oe&&(kt("number"==typeof oe,"internal-error",{appName:w}),we.expirationTime=oe),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new kr,this.toJSON())}_performRefresh(){return ni("not implemented")}}function Do(j,w){kt("string"==typeof j||typeof j>"u","internal-error",{appName:w})}class fs{constructor(w){var{uid:I,auth:R,stsTokenManager:ne}=w,oe=(0,_._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=R,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new ua(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(w){var I=this;return(0,E.Z)(function*(){const R=yield Xs(I,I.stsTokenManager.getToken(I.auth,w));return kt(R,I.auth,"internal-error"),I.accessToken!==R&&(I.accessToken=R,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),R})()}getIdTokenResult(w){return function To(j){return(ht=ht||(0,E.Z)(function*(w,I=!1){const R=(0,se.m9)(w),ne=yield R.getIdToken(I),oe=Is(ne);kt(oe&&oe.exp&&oe.auth_time&&oe.iat,R.auth,"internal-error");const we="object"==typeof oe.firebase?oe.firebase:void 0,Pe=we?.sign_in_provider;return{claims:oe,token:ne,authTime:ar(js(oe.auth_time)),issuedAtTime:ar(js(oe.iat)),expirationTime:ar(js(oe.exp)),signInProvider:Pe||null,signInSecondFactor:we?.sign_in_second_factor||null}})).apply(this,arguments)}(this,w)}reload(){return function dr(j){return(ft=ft||(0,E.Z)(function*(w){const I=(0,se.m9)(w);yield da(I),yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)})).apply(this,arguments)}(this)}_assign(w){this!==w&&(kt(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(I=>Object.assign({},I)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const I=new fs(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(w){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,I=!1){var R=this;return(0,E.Z)(function*(){let ne=!1;w.idToken&&w.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(w),ne=!0),I&&(yield da(R)),yield R.auth._persistUserIfCurrent(R),ne&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var w=this;return(0,E.Z)(function*(){const I=yield w.getIdToken();return yield Xs(w,function wn(j,w){return(fe=fe||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:delete",R)})).apply(this,arguments)}(w.auth,{idToken:I})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,I){var R,ne,oe,we,Pe,it,Ct,Lt;const Pn=null!==(R=I.displayName)&&void 0!==R?R:void 0,Gt=null!==(ne=I.email)&&void 0!==ne?ne:void 0,Sn=null!==(oe=I.phoneNumber)&&void 0!==oe?oe:void 0,rs=null!==(we=I.photoURL)&&void 0!==we?we:void 0,Wa=null!==(Pe=I.tenantId)&&void 0!==Pe?Pe:void 0,qi=null!==(it=I._redirectEventId)&&void 0!==it?it:void 0,Eo=null!==(Ct=I.createdAt)&&void 0!==Ct?Ct:void 0,io=null!==(Lt=I.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:wd,emailVerified:zh,isAnonymous:Wu,providerData:Id,stsTokenManager:$h}=I;kt(wd&&$h,w,"internal-error");const nh=kr.fromJSON(this.name,$h);kt("string"==typeof wd,w,"internal-error"),Do(Pn,w.name),Do(Gt,w.name),kt("boolean"==typeof zh,w,"internal-error"),kt("boolean"==typeof Wu,w,"internal-error"),Do(Sn,w.name),Do(rs,w.name),Do(Wa,w.name),Do(qi,w.name),Do(Eo,w.name),Do(io,w.name);const Go=new fs({uid:wd,auth:w,email:Gt,emailVerified:zh,displayName:Pn,isAnonymous:Wu,photoURL:rs,phoneNumber:Sn,tenantId:Wa,stsTokenManager:nh,createdAt:Eo,lastLoginAt:io});return Id&&Array.isArray(Id)&&(Go.providerData=Id.map(Zl=>Object.assign({},Zl))),qi&&(Go._redirectEventId=qi),Go}static _fromIdTokenResponse(w,I,R=!1){return(0,E.Z)(function*(){const ne=new kr;ne.updateFromServerResponse(I);const oe=new fs({uid:I.localId,auth:w,stsTokenManager:ne,isAnonymous:R});return yield da(oe),oe})()}}const Ia=new Map;function hr(j){vr(j instanceof Function,"Expected a class definition");let w=Ia.get(j);return w?(vr(w instanceof j,"Instance stored in cache mismatched with class"),w):(w=new j,Ia.set(j,w),w)}const qr=(()=>{class j{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(I,R){var ne=this;return(0,E.Z)(function*(){ne.storage[I]=R})()}_get(I){var R=this;return(0,E.Z)(function*(){const ne=R.storage[I];return void 0===ne?null:ne})()}_remove(I){var R=this;return(0,E.Z)(function*(){delete R.storage[I]})()}_addListener(I,R){}_removeListener(I,R){}}return j.type="NONE",j})();function Zt(j,w,I){return`firebase:${j}:${w}:${I}`}class Wn{constructor(w,I,R){this.persistence=w,this.auth=I,this.userKey=R;const{config:ne,name:oe}=this.auth;this.fullUserKey=Zt(this.userKey,ne.apiKey,oe),this.fullPersistenceKey=Zt("persistence",ne.apiKey,oe),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,E.Z)(function*(){const I=yield w.persistence._get(w.fullUserKey);return I?fs._fromJSON(w.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var I=this;return(0,E.Z)(function*(){if(I.persistence===w)return;const R=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=w,R?I.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,I,R="authUser"){return(0,E.Z)(function*(){var ne,oe;if(!I.length)return new Wn(hr(qr),w,R);const we=(yield Promise.all(I.map(function(Pn){return(ne=ne||(0,E.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt})).apply(this,arguments)}))).filter(Pn=>Pn);let Pe=we[0]||hr(qr);const it=Zt(R,w.config.apiKey,w.name);let Ct=null;for(const Pn of I)try{const Gt=yield Pn._get(it);if(Gt){const Sn=fs._fromJSON(w,Gt);Pn!==Pe&&(Ct=Sn),Pe=Pn;break}}catch{}const Lt=we.filter(Pn=>Pn._shouldAllowMigration);return Pe._shouldAllowMigration&&Lt.length?(Pe=Lt[0],Ct&&(yield Pe._set(it,Ct.toJSON())),yield Promise.all(I.map(function(Pn){return(oe=oe||(0,E.Z)(function*(Gt){if(Gt!==Pe)try{yield Gt._remove(it)}catch{}})).apply(this,arguments)})),new Wn(Pe,w,R)):new Wn(Pe,w,R)})()}}function Mr(j){const w=j.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(ss(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(Ti(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(Xi(w))return"Blackberry";if(Os(w))return"Webos";if(Hi(w))return"Safari";if((w.includes("chrome/")||Cs(w))&&!w.includes("edge/"))return"Chrome";if(ri(w))return"Android";{const R=j.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function Ti(j=(0,se.z$)()){return/firefox\//i.test(j)}function Hi(j=(0,se.z$)()){const w=j.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function Cs(j=(0,se.z$)()){return/crios\//i.test(j)}function ss(j=(0,se.z$)()){return/iemobile/i.test(j)}function ri(j=(0,se.z$)()){return/android/i.test(j)}function Xi(j=(0,se.z$)()){return/blackberry/i.test(j)}function Os(j=(0,se.z$)()){return/webos/i.test(j)}function On(j=(0,se.z$)()){return/iphone|ipad|ipod/i.test(j)||/macintosh/i.test(j)&&/mobile/i.test(j)}function ha(j=(0,se.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(j)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(j)}function Di(j=(0,se.z$)()){return On(j)||ri(j)||Os(j)||Xi(j)||/windows phone/i.test(j)||ss(j)}function pa(j,w=[]){let I;switch(j){case"Browser":I=Mr((0,se.z$)());break;case"Worker":I=`${Mr((0,se.z$)())}-${j}`;break;default:I=j}const R=w.length?w.join(","):"FirebaseCore-web";return`${I}/JsCore/${ie.SDK_VERSION}/${R}`}function Jo(j,w){return(sn=sn||(0,E.Z)(function*(I,R){return Le(I,"GET","/v2/recaptchaConfig",Hr(I,R))})).apply(this,arguments)}function Ca(j){return void 0!==j&&void 0!==j.getResponse}function ka(j){return void 0!==j&&void 0!==j.enterprise}class oo{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function ao(j){return new Promise((w,I)=>{const R=document.createElement("script");R.setAttribute("src",j),R.onload=w,R.onerror=ne=>{const oe=hn("internal-error");oe.customData=ne,I(oe)},R.type="text/javascript",R.charset="UTF-8",function bl(){var j,w;return null!==(w=null===(j=document.getElementsByTagName("head"))||void 0===j?void 0:j[0])&&void 0!==w?w:document}().appendChild(R)})}function fr(j){return`__${j}${Math.floor(1e6*Math.random())}`}class Kr{constructor(w){this.type="recaptcha-enterprise",this.auth=Yn(w)}verify(w="verify",I=!1){var R=this;return(0,E.Z)(function*(){var ne;function we(Pe,it,Ct){const Lt=window.grecaptcha;ka(Lt)?Lt.enterprise.ready(()=>{Lt.enterprise.execute(Pe,{action:w}).then(Pn=>{it(Pn)}).catch(()=>{it("NO_RECAPTCHA")})}):Ct(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pe,it)=>{(function oe(Pe){return(ne=ne||(0,E.Z)(function*(it){var Ct;if(!I){if(null==it.tenantId&&null!=it._agentRecaptchaConfig)return it._agentRecaptchaConfig.siteKey;if(null!=it.tenantId&&void 0!==it._tenantRecaptchaConfigs[it.tenantId])return it._tenantRecaptchaConfigs[it.tenantId].siteKey}return new Promise(function(Lt,Pn){return(Ct=Ct||(0,E.Z)(function*(Gt,Sn){Jo(it,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rs=>{if(void 0!==rs.recaptchaKey){const Wa=new oo(rs);return null==it.tenantId?it._agentRecaptchaConfig=Wa:it._tenantRecaptchaConfigs[it.tenantId]=Wa,Gt(Wa.siteKey)}Sn(new Error("recaptcha Enterprise site key undefined"))}).catch(rs=>{Sn(rs)})})).apply(this,arguments)})})).apply(this,arguments)})(R.auth).then(Ct=>{if(!I&&ka(window.grecaptcha))we(Ct,Pe,it);else{if(typeof window>"u")return void it(new Error("RecaptchaVerifier is only supported in browser"));ao("https://www.google.com/recaptcha/enterprise.js?render="+Ct).then(()=>{we(Ct,Pe,it)}).catch(Lt=>{it(Lt)})}}).catch(Ct=>{it(Ct)})})})()}}function ks(j,w,I){return(Yt=Yt||(0,E.Z)(function*(R,ne,oe,we=!1){const Pe=new Kr(R);let it;try{it=yield Pe.verify(oe)}catch{it=yield Pe.verify(oe,!0)}const Ct=Object.assign({},ne);return Object.assign(Ct,we?{captchaResp:it}:{captchaResponse:it}),Object.assign(Ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ct})).apply(this,arguments)}class no{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,I){const R=oe=>new Promise((we,Pe)=>{try{we(w(oe))}catch(it){Pe(it)}});R.onAbort=I,this.queue.push(R);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(w){var I=this;return(0,E.Z)(function*(){if(I.auth.currentUser===w)return;const R=[];try{for(const ne of I.queue)yield ne(w),ne.onAbort&&R.push(ne.onAbort)}catch(ne){R.reverse();for(const oe of R)try{oe()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}class li{constructor(w,I,R,ne){this.app=w,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=R,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rl(this),this.idTokenSubscription=new rl(this),this.beforeStateQueue=new no(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(w,I){var R=this;return I&&(this._popupRedirectResolver=hr(I)),this._initializationPromise=this.queue((0,E.Z)(function*(){var ne,oe;if(!R._deleted&&(R.persistenceManager=yield Wn.create(R,w),!R._deleted)){if(null!==(ne=R._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(I),R.lastNotifiedUid=(null===(oe=R.currentUser)||void 0===oe?void 0:oe.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,E.Z)(function*(){if(w._deleted)return;const I=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||I){if(w.currentUser&&I&&w.currentUser.uid===I.uid)return w._currentUser._assign(I),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(I,!0)}})()}initializeCurrentUser(w){var I=this;return(0,E.Z)(function*(){var R;const ne=yield I.assertedPersistence.getCurrentUser();let oe=ne,we=!1;if(w&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Pe=null===(R=I.redirectUser)||void 0===R?void 0:R._redirectEventId,it=oe?._redirectEventId,Ct=yield I.tryRedirectSignIn(w);(!Pe||Pe===it)&&Ct?.user&&(oe=Ct.user,we=!0)}if(!oe)return I.directlySetCurrentUser(null);if(!oe._redirectEventId){if(we)try{yield I.beforeStateQueue.runMiddleware(oe)}catch(Pe){oe=ne,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Pe))}return oe?I.reloadAndSetCurrentUserOrClear(oe):I.directlySetCurrentUser(null)}return kt(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===oe._redirectEventId?I.directlySetCurrentUser(oe):I.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(w){var I=this;return(0,E.Z)(function*(){let R=null;try{R=yield I._popupRedirectResolver._completeRedirectFn(I,w,!0)}catch{yield I._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(w){var I=this;return(0,E.Z)(function*(){try{yield da(w)}catch(R){if("auth/network-request-failed"!==R?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function Kt(){if(typeof navigator>"u")return null;const j=navigator;return j.languages&&j.languages[0]||j.language||null}()}_delete(){var w=this;return(0,E.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var I=this;return(0,E.Z)(function*(){const R=w?(0,se.m9)(w):null;return R&&kt(R.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(R&&R._clone(I))})()}_updateCurrentUser(w,I=!1){var R=this;return(0,E.Z)(function*(){if(!R._deleted)return w&&kt(R.tenantId===w.tenantId,R,"tenant-id-mismatch"),I||(yield R.beforeStateQueue.runMiddleware(w)),R.queue((0,E.Z)(function*(){yield R.directlySetCurrentUser(w),R.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,E.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var I=this;return this.queue((0,E.Z)(function*(){yield I.assertedPersistence.setPersistence(hr(w))}))}initializeRecaptchaConfig(){var w=this;return(0,E.Z)(function*(){const I=yield Jo(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new oo(I);null==w.tenantId?w._agentRecaptchaConfig=R:w._tenantRecaptchaConfigs[w.tenantId]=R,R.emailPasswordEnabled&&new Kr(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new se.LL("auth","Firebase",w())}onAuthStateChanged(w,I,R){return this.registerStateListener(this.authStateSubscription,w,I,R)}beforeAuthStateChanged(w,I){return this.beforeStateQueue.pushCallback(w,I)}onIdTokenChanged(w,I,R){return this.registerStateListener(this.idTokenSubscription,w,I,R)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,I){var R=this;return(0,E.Z)(function*(){const ne=yield R.getOrInitRedirectPersistenceManager(I);return null===w?ne.removeCurrentUser():ne.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var I=this;return(0,E.Z)(function*(){if(!I.redirectPersistenceManager){const R=w&&hr(w)||I._popupRedirectResolver;kt(R,I,"argument-error"),I.redirectPersistenceManager=yield Wn.create(I,[hr(R._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(w){var I=this;return(0,E.Z)(function*(){var R,ne;return I._isInitialized&&(yield I.queue((0,E.Z)(function*(){}))),(null===(R=I._currentUser)||void 0===R?void 0:R._redirectEventId)===w?I._currentUser:(null===(ne=I.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===w?I.redirectUser:null})()}_persistUserIfCurrent(w){var I=this;return(0,E.Z)(function*(){if(w===I.currentUser)return I.queue((0,E.Z)(function*(){return I.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(I=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,I,R,ne){if(this._deleted)return()=>{};const oe="function"==typeof I?I:I.next.bind(I),we=this._isInitialized?Promise.resolve():this._initializationPromise;return kt(we,this,"internal-error"),we.then(()=>oe(this.currentUser)),"function"==typeof I?w.addObserver(I,R,ne):w.addObserver(I)}directlySetCurrentUser(w){var I=this;return(0,E.Z)(function*(){I.currentUser&&I.currentUser!==w&&I._currentUser._stopProactiveRefresh(),w&&I.isProactiveRefreshEnabled&&w._startProactiveRefresh(),I.currentUser=w,w?yield I.assertedPersistence.setCurrentUser(w):yield I.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=pa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,E.Z)(function*(){var I;const R={"X-Client-Version":w.clientVersion};w.app.options.appId&&(R["X-Firebase-gmpid"]=w.app.options.appId);const ne=yield null===(I=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();ne&&(R["X-Firebase-Client"]=ne);const oe=yield w._getAppCheckToken();return oe&&(R["X-Firebase-AppCheck"]=oe),R})()}_getAppCheckToken(){var w=this;return(0,E.Z)(function*(){var I;const R=yield null===(I=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return R?.error&&function At(j,...w){$e.logLevel<=_e.in.WARN&&$e.warn(`Auth (${ie.SDK_VERSION}): ${j}`,...w)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Yn(j){return(0,se.m9)(j)}class rl{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,se.ne)(I=>this.observer=I)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function il(j,w,I){const R=Yn(j);kt(R._canInitEmulator,R,"emulator-config-failed"),kt(/^https?:\/\//.test(w),R,"invalid-emulator-scheme");const ne=!!I?.disableWarnings,oe=ta(w),{host:we,port:Pe}=function Ns(j){const w=ta(j),I=/(\/\/)?([^?#/]+)/.exec(j.substr(w.length));if(!I)return{host:"",port:null};const R=I[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(R);if(ne){const oe=ne[1];return{host:oe,port:os(R.substr(oe.length+1))}}{const[oe,we]=R.split(":");return{host:oe,port:os(we)}}}(w);R.config.emulator={url:`${oe}//${we}${null===Pe?"":`:${Pe}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:we,port:Pe,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function lo(){function j(){const w=document.createElement("p"),I=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",j):j())}()}function ta(j){const w=j.indexOf(":");return w<0?"":j.substr(0,w+1)}function os(j){if(!j)return null;const w=Number(j);return isNaN(w)?null:w}class Bo{constructor(w,I){this.providerId=w,this.signInMethod=I}toJSON(){return ni("not implemented")}_getIdTokenResponse(w){return ni("not implemented")}_linkToIdToken(w,I){return ni("not implemented")}_getReauthenticationResolver(w){return ni("not implemented")}}function Na(j,w){return(Ve=Ve||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:resetPassword",Hr(I,R))})).apply(this,arguments)}function Fa(j,w){return(lt=lt||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:update",R)})).apply(this,arguments)}function Hs(j,w){return(st=st||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithPassword",Hr(I,R))})).apply(this,arguments)}function La(j,w){return(Dt=Dt||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:sendOobCode",Hr(I,R))})).apply(this,arguments)}function ic(j,w){return(tn=tn||(0,E.Z)(function*(I,R){return La(I,R)})).apply(this,arguments)}function sl(j,w){return(an=an||(0,E.Z)(function*(I,R){return La(I,R)})).apply(this,arguments)}class So extends Bo{constructor(w,I,R,ne=null){super("password",R),this._email=w,this._password=I,this._tenantId=ne}static _fromEmailAndPassword(w,I){return new So(w,I,"password")}static _fromEmailAndCode(w,I,R=null){return new So(w,I,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(w){var I=this;return(0,E.Z)(function*(){var R;switch(I.signInMethod){case"password":const oe={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=w._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const we=yield ks(w,oe,"signInWithPassword");return Hs(w,we)}var ne;return Hs(w,oe).catch(function(we){return(ne=ne||(0,E.Z)(function*(Pe){if("auth/missing-recaptcha-token"===Pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield ks(w,oe,"signInWithPassword");return Hs(w,it)}return Promise.reject(Pe)})).apply(this,arguments)});case"emailLink":return function Tc(j,w){return(Gn=Gn||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithEmailLink",Hr(I,R))})).apply(this,arguments)}(w,{email:I._email,oobCode:I._password});default:Nt(w,"internal-error")}})()}_linkToIdToken(w,I){var R=this;return(0,E.Z)(function*(){switch(R.signInMethod){case"password":return Fa(w,{idToken:I,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function sc(j,w){return(Or=Or||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithEmailLink",Hr(I,R))})).apply(this,arguments)}(w,{idToken:I,email:R._email,oobCode:R._password});default:Nt(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function xs(j,w){return(Ci=Ci||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithIdp",Hr(I,R))})).apply(this,arguments)}class co extends Bo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const I=new co(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(I.idToken=w.idToken),w.accessToken&&(I.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(I.nonce=w.nonce),w.pendingToken&&(I.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(I.accessToken=w.oauthToken,I.secret=w.oauthTokenSecret):Nt("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:R,signInMethod:ne}=I,oe=(0,_._T)(I,["providerId","signInMethod"]);if(!R||!ne)return null;const we=new co(R,ne);return we.idToken=oe.idToken||void 0,we.accessToken=oe.accessToken||void 0,we.secret=oe.secret,we.nonce=oe.nonce,we.pendingToken=oe.pendingToken||null,we}_getIdTokenResponse(w){return xs(w,this.buildRequest())}_linkToIdToken(w,I){const R=this.buildRequest();return R.idToken=I,xs(w,R)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,xs(w,I)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),w.postBody=(0,se.xO)(I)}return w}}const ms={USER_NOT_FOUND:"user-not-found"};class Si extends Bo{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,I){return new Si({verificationId:w,verificationCode:I})}static _fromTokenResponse(w,I){return new Si({phoneNumber:w,temporaryProof:I})}_getIdTokenResponse(w){return function Xr(j,w){return(vi=vi||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithPhoneNumber",Hr(I,R))})).apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,I){return function ol(j,w){return(xr=xr||(0,E.Z)(function*(I,R){const ne=yield Ye(I,"POST","/v1/accounts:signInWithPhoneNumber",Hr(I,R));if(ne.temporaryProof)throw cn(I,"account-exists-with-different-credential",ne);return ne})).apply(this,arguments)}(w,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function jl(j,w){return(Qe=Qe||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithPhoneNumber",Hr(I,Object.assign(Object.assign({},R),{operation:"REAUTH"})),ms)})).apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:I,verificationId:R,verificationCode:ne}=this.params;return w&&I?{temporaryProof:w,phoneNumber:I}:{sessionInfo:R,code:ne}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:I,verificationCode:R,phoneNumber:ne,temporaryProof:oe}=w;return R||I||ne||oe?new Si({verificationId:I,verificationCode:R,phoneNumber:ne,temporaryProof:oe}):null}}class uo{constructor(w){var I,R,ne,oe,we,Pe;const it=(0,se.zd)((0,se.pd)(w)),Ct=null!==(I=it.apiKey)&&void 0!==I?I:null,Lt=null!==(R=it.oobCode)&&void 0!==R?R:null,Pn=function jo(j){switch(j){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=it.mode)&&void 0!==ne?ne:null);kt(Ct&&Lt&&Pn,"argument-error"),this.apiKey=Ct,this.operation=Pn,this.code=Lt,this.continueUrl=null!==(oe=it.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(we=it.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(Pe=it.tenantId)&&void 0!==Pe?Pe:null}static parseLink(w){const I=function gs(j){const w=(0,se.zd)((0,se.pd)(j)).link,I=w?(0,se.zd)((0,se.pd)(w)).deep_link_id:null,R=(0,se.zd)((0,se.pd)(j)).deep_link_id;return(R?(0,se.zd)((0,se.pd)(R)).link:null)||R||I||w||j}(w);try{return new uo(I)}catch{return null}}}let Zr=(()=>{class j{constructor(){this.providerId=j.PROVIDER_ID}static credential(I,R){return So._fromEmailAndPassword(I,R)}static credentialWithLink(I,R){const ne=uo.parseLink(R);return kt(ne,"argument-error"),So._fromEmailAndCode(I,ne.code,ne.tenantId)}}return j.PROVIDER_ID="password",j.EMAIL_PASSWORD_SIGN_IN_METHOD="password",j.EMAIL_LINK_SIGN_IN_METHOD="emailLink",j})();class Ji{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class ui extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class zs extends ui{static credentialFromJSON(w){const I="string"==typeof w?JSON.parse(w):w;return kt("providerId"in I&&"signInMethod"in I,"argument-error"),co._fromParams(I)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return kt(w.idToken||w.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return zs.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return zs.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:ne,pendingToken:oe,nonce:we,providerId:Pe}=w;if(!R&&!ne&&!I&&!oe||!Pe)return null;try{return new zs(Pe)._credential({idToken:I,accessToken:R,nonce:we,pendingToken:oe})}catch{return null}}}let Dc=(()=>{class j extends ui{constructor(){super("facebook.com")}static credential(I){return co._fromParams({providerId:j.PROVIDER_ID,signInMethod:j.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return j.credentialFromTaggedObject(I)}static credentialFromError(I){return j.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return j.credential(I.oauthAccessToken)}catch{return null}}}return j.FACEBOOK_SIGN_IN_METHOD="facebook.com",j.PROVIDER_ID="facebook.com",j})(),Ta=(()=>{class j extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(I,R){return co._fromParams({providerId:j.PROVIDER_ID,signInMethod:j.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:R})}static credentialFromResult(I){return j.credentialFromTaggedObject(I)}static credentialFromError(I){return j.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:R,oauthAccessToken:ne}=I;if(!R&&!ne)return null;try{return j.credential(R,ne)}catch{return null}}}return j.GOOGLE_SIGN_IN_METHOD="google.com",j.PROVIDER_ID="google.com",j})(),as=(()=>{class j extends ui{constructor(){super("github.com")}static credential(I){return co._fromParams({providerId:j.PROVIDER_ID,signInMethod:j.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return j.credentialFromTaggedObject(I)}static credentialFromError(I){return j.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return j.credential(I.oauthAccessToken)}catch{return null}}}return j.GITHUB_SIGN_IN_METHOD="github.com",j.PROVIDER_ID="github.com",j})();class na extends Bo{constructor(w,I){super(w,w),this.pendingToken=I}_getIdTokenResponse(w){return xs(w,this.buildRequest())}_linkToIdToken(w,I){const R=this.buildRequest();return R.idToken=I,xs(w,R)}_getReauthenticationResolver(w){const I=this.buildRequest();return I.autoCreate=!1,xs(w,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const I="string"==typeof w?JSON.parse(w):w,{providerId:R,signInMethod:ne,pendingToken:oe}=I;return R&&ne&&oe&&R===ne?new na(R,oe):null}static _create(w,I){return new na(w,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ao extends Ji{constructor(w){kt(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return Ao.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return Ao.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const I=na.fromJSON(w);return kt(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:I,providerId:R}=w;if(!I||!R)return null;try{return na._create(R,I)}catch{return null}}}let ki=(()=>{class j extends ui{constructor(){super("twitter.com")}static credential(I,R){return co._fromParams({providerId:j.PROVIDER_ID,signInMethod:j.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:R})}static credentialFromResult(I){return j.credentialFromTaggedObject(I)}static credentialFromError(I){return j.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:R,oauthTokenSecret:ne}=I;if(!R||!ne)return null;try{return j.credential(R,ne)}catch{return null}}}return j.TWITTER_SIGN_IN_METHOD="twitter.com",j.PROVIDER_ID="twitter.com",j})();function ho(j,w){return(tt=tt||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signUp",Hr(I,R))})).apply(this,arguments)}class lr{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,I,R,ne=!1){return(0,E.Z)(function*(){const oe=yield fs._fromIdTokenResponse(w,R,ne),we=al(R);return new lr({user:oe,providerId:we,_tokenResponse:R,operationType:I})})()}static _forOperation(w,I,R){return(0,E.Z)(function*(){yield w._updateTokensIfNecessary(R,!0);const ne=al(R);return new lr({user:w,providerId:ne,_tokenResponse:R,operationType:I})})()}}function al(j){return j.providerId?j.providerId:"phoneNumber"in j?"phone":null}function Va(j){return(ct=ct||(0,E.Z)(function*(w){var I;const R=Yn(w);if(yield R._initializationPromise,null!==(I=R.currentUser)&&void 0!==I&&I.isAnonymous)return new lr({user:R.currentUser,providerId:null,operationType:"signIn"});const ne=yield ho(R,{returnSecureToken:!0}),oe=yield lr._fromIdTokenResponse(R,"signIn",ne,!0);return yield R._updateCurrentUser(oe.user),oe})).apply(this,arguments)}class zi extends se.ZR{constructor(w,I,R,ne){var oe;super(I.code,I.message),this.operationType=R,this.user=ne,Object.setPrototypeOf(this,zi.prototype),this.customData={appName:w.name,tenantId:null!==(oe=w.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:I.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(w,I,R,ne){return new zi(w,I,R,ne)}}function oc(j,w,I,R){return("reauthenticate"===w?I._getReauthenticationResolver(j):I._getIdTokenResponse(j)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?zi._fromErrorAndOperation(j,oe,w,R):oe})}function ll(j){return new Set(j.map(({providerId:w})=>w).filter(w=>!!w))}function Da(j,w){return(ot=ot||(0,E.Z)(function*(I,R){const ne=(0,se.m9)(I);yield es(!0,ne,R);const{providerUserInfo:oe}=yield function Un(j,w){return(Ce=Ce||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:update",R)})).apply(this,arguments)}(ne.auth,{idToken:yield ne.getIdToken(),deleteProvider:[R]}),we=ll(oe||[]);return ne.providerData=ne.providerData.filter(Pe=>we.has(Pe.providerId)),we.has("phone")||(ne.phoneNumber=null),yield ne.auth._persistUserIfCurrent(ne),ne})).apply(this,arguments)}function $s(j,w){return(It=It||(0,E.Z)(function*(I,R,ne=!1){const oe=yield Xs(I,R._linkToIdToken(I.auth,yield I.getIdToken()),ne);return lr._forOperation(I,"link",oe)})).apply(this,arguments)}function es(j,w,I){return(Pt=Pt||(0,E.Z)(function*(R,ne,oe){yield da(ne);const Pe=!1===R?"provider-already-linked":"no-such-provider";kt(ll(ne.providerData).has(oe)===R,ne.auth,Pe)})).apply(this,arguments)}function zo(j,w){return(on=on||(0,E.Z)(function*(I,R,ne=!1){const{auth:oe}=I,we="reauthenticate";try{const Pe=yield Xs(I,oc(oe,we,R,I),ne);kt(Pe.idToken,oe,"internal-error");const it=Is(Pe.idToken);kt(it,oe,"internal-error");const{sub:Ct}=it;return kt(I.uid===Ct,oe,"user-mismatch"),lr._forOperation(I,we,Pe)}catch(Pe){throw"auth/user-not-found"===Pe?.code&&Nt(oe,"user-mismatch"),Pe}})).apply(this,arguments)}function Mo(j,w){return(Bt=Bt||(0,E.Z)(function*(I,R,ne=!1){const we=yield oc(I,"signIn",R),Pe=yield lr._fromIdTokenResponse(I,"signIn",we);return ne||(yield I._updateCurrentUser(Pe.user)),Pe})).apply(this,arguments)}function mi(j,w){return(dn=dn||(0,E.Z)(function*(I,R){return Mo(Yn(I),R)})).apply(this,arguments)}function Ua(j,w){return(mn=mn||(0,E.Z)(function*(I,R){const ne=(0,se.m9)(I);return yield es(!1,ne,R.providerId),$s(ne,R)})).apply(this,arguments)}function Ba(j,w){return(Xn=Xn||(0,E.Z)(function*(I,R){return zo((0,se.m9)(I),R)})).apply(this,arguments)}function ls(j,w){return(Er=Er||(0,E.Z)(function*(I,R){const ne=Yn(I),oe=yield function Il(j,w){return(vn=vn||(0,E.Z)(function*(I,R){return Ye(I,"POST","/v1/accounts:signInWithCustomToken",Hr(I,R))})).apply(this,arguments)}(ne,{token:R,returnSecureToken:!0}),we=yield lr._fromIdTokenResponse(ne,"signIn",oe);return yield ne._updateCurrentUser(we.user),we})).apply(this,arguments)}class ja{constructor(w,I){this.factorId=w,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(w,I){return"phoneInfo"in I?Ro._fromServerResponse(w,I):"totpInfo"in I?cl._fromServerResponse(w,I):Nt(w,"internal-error")}}class Ro extends ja{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,I){return new Ro(I)}}class cl extends ja{constructor(w){super("totp",w)}static _fromServerResponse(w,I){return new cl(I)}}function M(j,w,I){var R;kt((null===(R=I.url)||void 0===R?void 0:R.length)>0,j,"invalid-continue-uri"),kt(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,j,"invalid-dynamic-link-domain"),w.continueUrl=I.url,w.dynamicLinkDomain=I.dynamicLinkDomain,w.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(kt(I.iOS.bundleId.length>0,j,"missing-ios-bundle-id"),w.iOSBundleId=I.iOS.bundleId),I.android&&(kt(I.android.packageName.length>0,j,"missing-android-pkg-name"),w.androidInstallApp=I.android.installApp,w.androidMinimumVersionCode=I.android.minimumVersion,w.androidPackageName=I.android.packageName)}function q(j,w,I){return(Tr=Tr||(0,E.Z)(function*(R,ne,oe){var we;const Pe=Yn(R),it={requestType:"PASSWORD_RESET",email:ne,clientType:"CLIENT_TYPE_WEB"};if(null!==(we=Pe._getRecaptchaConfig())&&void 0!==we&&we.emailPasswordEnabled){const Lt=yield ks(Pe,it,"getOobCode",!0);oe&&M(Pe,Lt,oe),yield ic(Pe,Lt)}else{var Ct;oe&&M(Pe,it,oe),yield ic(Pe,it).catch(function(Lt){return(Ct=Ct||(0,E.Z)(function*(Pn){if("auth/missing-recaptcha-token"!==Pn.code)return Promise.reject(Pn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Gt=yield ks(Pe,it,"getOobCode",!0);oe&&M(Pe,Gt,oe),yield ic(Pe,Gt)}})).apply(this,arguments)})}})).apply(this,arguments)}function ye(j,w,I){return(Dr=Dr||(0,E.Z)(function*(R,ne,oe){yield Na((0,se.m9)(R),{oobCode:ne,newPassword:oe})})).apply(this,arguments)}function z(j,w){return(_r=_r||(0,E.Z)(function*(I,R){yield function rc(j,w){return(ke=ke||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:update",Hr(I,R))})).apply(this,arguments)}((0,se.m9)(I),{oobCode:R})})).apply(this,arguments)}function me(j,w){return(Yr=Yr||(0,E.Z)(function*(I,R){const ne=(0,se.m9)(I),oe=yield Na(ne,{oobCode:R}),we=oe.requestType;switch(kt(we,ne,"internal-error"),we){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":kt(oe.newEmail,ne,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":kt(oe.mfaInfo,ne,"internal-error");default:kt(oe.email,ne,"internal-error")}let Pe=null;return oe.mfaInfo&&(Pe=ja._fromServerResponse(Yn(ne),oe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===oe.requestType?oe.newEmail:oe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===oe.requestType?oe.email:oe.newEmail)||null,multiFactorInfo:Pe},operation:we}})).apply(this,arguments)}function Re(j,w){return(Fr=Fr||(0,E.Z)(function*(I,R){const{data:ne}=yield me((0,se.m9)(I),R);return ne.email})).apply(this,arguments)}function ut(j,w,I){return(Fi=Fi||(0,E.Z)(function*(R,ne,oe){var we;const Pe=Yn(R),it={returnSecureToken:!0,email:ne,password:oe,clientType:"CLIENT_TYPE_WEB"};let Ct;if(null!==(we=Pe._getRecaptchaConfig())&&void 0!==we&&we.emailPasswordEnabled){const Sn=yield ks(Pe,it,"signUpPassword");Ct=ho(Pe,Sn)}else{var Lt;Ct=ho(Pe,it).catch(function(Sn){return(Lt=Lt||(0,E.Z)(function*(rs){if("auth/missing-recaptcha-token"===rs.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wa=yield ks(Pe,it,"signUpPassword");return ho(Pe,Wa)}return Promise.reject(rs)})).apply(this,arguments)})}const Pn=yield Ct.catch(Sn=>Promise.reject(Sn)),Gt=yield lr._fromIdTokenResponse(Pe,"signIn",Pn);return yield Pe._updateCurrentUser(Gt.user),Gt})).apply(this,arguments)}function zt(j,w,I){return mi((0,se.m9)(j),Zr.credential(w,I))}function ir(j,w,I){return(Oi=Oi||(0,E.Z)(function*(R,ne,oe){var we;const Pe=Yn(R),it={requestType:"EMAIL_SIGNIN",email:ne,clientType:"CLIENT_TYPE_WEB"};function Ct(Pn,Gt){kt(Gt.handleCodeInApp,Pe,"argument-error"),Gt&&M(Pe,Pn,Gt)}if(null!==(we=Pe._getRecaptchaConfig())&&void 0!==we&&we.emailPasswordEnabled){const Pn=yield ks(Pe,it,"getOobCode",!0);Ct(Pn,oe),yield sl(Pe,Pn)}else{var Lt;Ct(it,oe),yield sl(Pe,it).catch(function(Pn){return(Lt=Lt||(0,E.Z)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Sn=yield ks(Pe,it,"getOobCode",!0);Ct(Sn,oe),yield sl(Pe,Sn)}})).apply(this,arguments)})}})).apply(this,arguments)}function yr(j,w){const I=uo.parseLink(w);return"EMAIL_SIGNIN"===I?.operation}function $r(j,w,I){return(Li=Li||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R),Pe=Zr.credentialWithLink(ne,oe||Ar());return kt(Pe._tenantId===(we.tenantId||null),we,"tenant-id-mismatch"),mi(we,Pe)})).apply(this,arguments)}function Mi(j,w){return(Bn=Bn||(0,E.Z)(function*(I,R){const oe={identifier:R,continueUri:Qs()?Ar():"http://localhost"},{signinMethods:we}=yield function pr(j,w){return(yi=yi||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:createAuthUri",Hr(I,R))})).apply(this,arguments)}((0,se.m9)(I),oe);return we||[]})).apply(this,arguments)}function di(j,w){return(ln=ln||(0,E.Z)(function*(I,R){const ne=(0,se.m9)(I),we={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};R&&M(ne.auth,we,R);const{email:Pe}=yield function xc(j,w){return(St=St||(0,E.Z)(function*(I,R){return La(I,R)})).apply(this,arguments)}(ne.auth,we);Pe!==I.email&&(yield I.reload())})).apply(this,arguments)}function _s(j,w,I){return(Tn=Tn||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R),it={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:ne};oe&&M(we.auth,it,oe);const{email:Ct}=yield function ci(j,w){return($n=$n||(0,E.Z)(function*(I,R){return La(I,R)})).apply(this,arguments)}(we.auth,it);Ct!==R.email&&(yield R.reload())})).apply(this,arguments)}function ra(j,w){return(nr=nr||(0,E.Z)(function*(I,{displayName:R,photoURL:ne}){if(void 0===R&&void 0===ne)return;const oe=(0,se.m9)(I),Pe={idToken:yield oe.getIdToken(),displayName:R,photoUrl:ne,returnSecureToken:!0},it=yield Xs(oe,function ro(j,w){return(jn=jn||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:update",R)})).apply(this,arguments)}(oe.auth,Pe));oe.displayName=it.displayName||null,oe.photoURL=it.photoUrl||null;const Ct=oe.providerData.find(({providerId:Lt})=>"password"===Lt);Ct&&(Ct.displayName=oe.displayName,Ct.photoURL=oe.photoURL),yield oe._updateTokensIfNecessary(it)})).apply(this,arguments)}function ia(j,w){return Ts((0,se.m9)(j),w,null)}function $o(j,w){return Ts((0,se.m9)(j),null,w)}function Ts(j,w,I){return(fi=fi||(0,E.Z)(function*(R,ne,oe){const{auth:we}=R,it={idToken:yield R.getIdToken(),returnSecureToken:!0};ne&&(it.email=ne),oe&&(it.password=oe);const Ct=yield Xs(R,Fa(we,it));yield R._updateTokensIfNecessary(Ct,!0)})).apply(this,arguments)}class Ri{constructor(w,I,R={}){this.isNewUser=w,this.providerId=I,this.profile=R}}class gi extends Ri{constructor(w,I,R,ne){super(w,I,R),this.username=ne}}class Sc extends Ri{constructor(w,I){super(w,"facebook.com",I)}}class ul extends gi{constructor(w,I){super(w,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class fo extends Ri{constructor(w,I){super(w,"google.com",I)}}class Pu extends gi{constructor(w,I,R){super(w,"twitter.com",I,R)}}function Ac(j){const{user:w,_tokenResponse:I}=j;return w.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function ma(j){var w,I;if(!j)return null;const{providerId:R}=j,ne=j.rawUserInfo?JSON.parse(j.rawUserInfo):{},oe=j.isNewUser||"identitytoolkit#SignupNewUserResponse"===j.kind;if(!R&&j?.idToken){const we=null===(I=null===(w=Is(j.idToken))||void 0===w?void 0:w.firebase)||void 0===I?void 0:I.sign_in_provider;if(we)return new Ri(oe,"anonymous"!==we&&"custom"!==we?we:null)}if(!R)return null;switch(R){case"facebook.com":return new Sc(oe,ne);case"github.com":return new ul(oe,ne);case"google.com":return new fo(oe,ne);case"twitter.com":return new Pu(oe,ne,j.screenName||null);case"custom":case"anonymous":return new Ri(oe,null);default:return new Ri(oe,R,ne)}}(I)}class zl{constructor(w,I,R){this.type=w,this.credential=I,this.auth=R}static _fromIdtoken(w,I){return new zl("enroll",w,I)}static _fromMfaPendingCredential(w){return new zl("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var I,R;if(w?.multiFactorSession){if(null!==(I=w.multiFactorSession)&&void 0!==I&&I.pendingCredential)return zl._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(R=w.multiFactorSession)&&void 0!==R&&R.idToken)return zl._fromIdtoken(w.multiFactorSession.idToken)}return null}}class Oc{constructor(w,I,R){this.session=w,this.hints=I,this.signInResolver=R}static _fromError(w,I){var R;const ne=Yn(w),oe=I.customData._serverResponse,we=(oe.mfaInfo||[]).map(it=>ja._fromServerResponse(ne,it));kt(oe.mfaPendingCredential,ne,"internal-error");const Pe=zl._fromMfaPendingCredential(oe.mfaPendingCredential);return new Oc(Pe,we,function(it){return(R=R||(0,E.Z)(function*(Ct){const Lt=yield Ct._process(ne,Pe);delete oe.mfaInfo,delete oe.mfaPendingCredential;const Pn=Object.assign(Object.assign({},oe),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(I.operationType){case"signIn":const Gt=yield lr._fromIdTokenResponse(ne,I.operationType,Pn);return yield ne._updateCurrentUser(Gt.user),Gt;case"reauthenticate":return kt(I.user,ne,"internal-error"),lr._forOperation(I.user,I.operationType,Pn);default:Nt(ne,"internal-error")}})).apply(this,arguments)})}resolveSignIn(w){var I=this;return(0,E.Z)(function*(){return I.signInResolver(w)})()}}function md(j,w){var I;const R=(0,se.m9)(j),ne=w;return kt(w.customData.operationType,R,"argument-error"),kt(null===(I=ne.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,R,"argument-error"),Oc._fromError(R,ne)}class Pc{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(R=>ja._fromServerResponse(w.auth,R)))})}static _fromUser(w){return new Pc(w)}getSession(){var w=this;return(0,E.Z)(function*(){return zl._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,I){var R=this;return(0,E.Z)(function*(){const ne=w,oe=yield R.getSession(),we=yield Xs(R.user,ne._process(R.user.auth,oe,I));return yield R.user._updateTokensIfNecessary(we),R.user.reload()})()}unenroll(w){var I=this;return(0,E.Z)(function*(){const R="string"==typeof w?w:w.uid,ne=yield I.user.getIdToken();try{const oe=yield Xs(I.user,function Vu(j,w){return Le(j,"POST","/v2/accounts/mfaEnrollment:withdraw",Hr(j,w))}(I.user.auth,{idToken:ne,mfaEnrollmentId:R}));I.enrolledFactors=I.enrolledFactors.filter(({uid:we})=>we!==R),yield I.user._updateTokensIfNecessary(oe),yield I.user.reload()}catch(oe){throw oe}})()}}const $l=new WeakMap;function Oo(j){const w=(0,se.m9)(j);return $l.has(w)||$l.set(w,Pc._fromUser(w)),$l.get(w)}const xl="__sak";class Uu{constructor(w,I){this.storageRetriever=w,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,I){return this.storage.setItem(w,JSON.stringify(I)),Promise.resolve()}_get(w){const I=this.storage.getItem(w);return Promise.resolve(I?JSON.parse(I):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lr=(()=>{class j extends Uu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,R)=>this.onStorageEvent(I,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bu(){const j=(0,se.z$)();return Hi(j)||On(j)}()&&function fa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Di(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const R of Object.keys(this.listeners)){const ne=this.storage.getItem(R),oe=this.localCache[R];ne!==oe&&I(R,oe,ne)}}onStorageEvent(I,R=!1){if(!I.key)return void this.forAllChangedKeys((Pe,it,Ct)=>{this.notifyListeners(Pe,Ct)});const ne=I.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(ne);if(I.newValue!==Pe)null!==I.newValue?this.storage.setItem(ne,I.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===I.newValue&&!R)return}const oe=()=>{const Pe=this.storage.getItem(ne);!R&&this.localCache[ne]===Pe||this.notifyListeners(ne,Pe)},we=this.storage.getItem(ne);!function Ps(){return(0,se.w1)()&&10===document.documentMode}()||we===I.newValue||I.newValue===I.oldValue?oe():setTimeout(oe,10)}notifyListeners(I,R){this.localCache[I]=R;const ne=this.listeners[I];if(ne)for(const oe of Array.from(ne))oe(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,R,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:R,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,R){var ne=()=>super._set,oe=this;return(0,E.Z)(function*(){yield ne().call(oe,I,R),oe.localCache[I]=JSON.stringify(R)})()}_get(I){var R=()=>super._get,ne=this;return(0,E.Z)(function*(){const oe=yield R().call(ne,I);return ne.localCache[I]=JSON.stringify(oe),oe})()}_remove(I){var R=()=>super._remove,ne=this;return(0,E.Z)(function*(){yield R().call(ne,I),delete ne.localCache[I]})()}}return j.type="LOCAL",j})(),ga=(()=>{class j extends Uu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,R){}_removeListener(I,R){}}return j.type="SESSION",j})();let Ha=(()=>{class j{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const R=this.receivers.find(oe=>oe.isListeningto(I));if(R)return R;const ne=new j(I);return this.receivers.push(ne),ne}isListeningto(I){return this.eventTarget===I}handleEvent(I){var R=this;return(0,E.Z)(function*(){var ne;const oe=I,{eventId:we,eventType:Pe,data:it}=oe.data,Ct=R.handlersMap[Pe];if(!Ct?.size)return;oe.ports[0].postMessage({status:"ack",eventId:we,eventType:Pe});const Lt=Array.from(Ct).map(function(Gt){return(ne=ne||(0,E.Z)(function*(Sn){return Sn(oe.origin,it)})).apply(this,arguments)}),Pn=yield function ts(j){var w;return Promise.all(j.map(function(I){return(w=w||(0,E.Z)(function*(R){try{return{fulfilled:!0,value:yield R}}catch(ne){return{fulfilled:!1,reason:ne}}})).apply(this,arguments)}))}(Lt);oe.ports[0].postMessage({status:"done",eventId:we,eventType:Pe,response:Pn})})()}_subscribe(I,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(R)}_unsubscribe(I,R){this.handlersMap[I]&&R&&this.handlersMap[I].delete(R),(!R||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return j.receivers=[],j})();function Ei(j="",w=10){let I="";for(let R=0;R<w;R++)I+=Math.floor(10*Math.random());return j+I}class Rt{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,I,R=50){var ne=this;return(0,E.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let we,Pe;return new Promise((it,Ct)=>{const Lt=Ei("",20);oe.port1.start();const Pn=setTimeout(()=>{Ct(new Error("unsupported_event"))},R);Pe={messageChannel:oe,onMessage(Gt){const Sn=Gt;if(Sn.data.eventId===Lt)switch(Sn.data.status){case"ack":clearTimeout(Pn),we=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),it(Sn.data.response);break;default:clearTimeout(Pn),clearTimeout(we),Ct(new Error("invalid_response"))}}},ne.handlers.add(Pe),oe.port1.addEventListener("message",Pe.onMessage),ne.target.postMessage({eventType:w,eventId:Lt,data:I},[oe.port2])}).finally(()=>{Pe&&ne.removeMessageHandler(Pe)})})()}}function kn(){return window}function lc(){return typeof kn().WorkerGlobalScope<"u"&&"function"==typeof kn().importScripts}const Xt="firebaseLocalStorageDb",wt="firebaseLocalStorage",D="fbase_key";class P{constructor(w){this.request=w}toPromise(){return new Promise((w,I)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function V(j,w){return j.transaction([wt],w?"readwrite":"readonly").objectStore(wt)}function W(){const j=indexedDB.open(Xt,1);return new Promise((w,I)=>{j.addEventListener("error",()=>{I(j.error)}),j.addEventListener("upgradeneeded",()=>{const R=j.result;try{R.createObjectStore(wt,{keyPath:D})}catch(ne){I(ne)}}),j.addEventListener("success",(0,E.Z)(function*(){const R=j.result;R.objectStoreNames.contains(wt)?w(R):(R.close(),yield function k(){const j=indexedDB.deleteDatabase(Xt);return new P(j).toPromise()}(),w(yield W()))}))})}function ce(j,w,I){return(or=or||(0,E.Z)(function*(R,ne,oe){const we=V(R,!0).put({[D]:ne,value:oe});return new P(we).toPromise()})).apply(this,arguments)}function Ge(j,w){const I=V(j,!0).delete(w);return new P(I).toPromise()}const tr=(()=>{class j{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,E.Z)(function*(){return I.db||(I.db=yield W()),I.db})()}_withRetries(I){var R=this;return(0,E.Z)(function*(){let ne=0;for(;;)try{const oe=yield R._openDb();return yield I(oe)}catch(oe){if(ne++>3)throw oe;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,E.Z)(function*(){return lc()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,E.Z)(function*(){var R,ne;I.receiver=Ha._getInstance(function mo(){return lc()?self:null}()),I.receiver._subscribe("keyChanged",function(oe,we){return(R=R||(0,E.Z)(function*(Pe,it){return{keyProcessed:(yield I._poll()).includes(it.key)}})).apply(this,arguments)}),I.receiver._subscribe("ping",function(oe,we){return(ne=ne||(0,E.Z)(function*(Pe,it){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var I=this;return(0,E.Z)(function*(){var R,ne;if(I.activeServiceWorker=yield function _n(){return(Zn=Zn||(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new Rt(I.activeServiceWorker);const oe=yield I.sender._send("ping",{},800);oe&&null!==(R=oe[0])&&void 0!==R&&R.fulfilled&&null!==(ne=oe[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var R=this;return(0,E.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function Mn(){var j;return(null===(j=navigator?.serviceWorker)||void 0===j?void 0:j.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:I},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const I=yield W();return yield ce(I,xl,"1"),yield Ge(I,xl),!0}catch{}return!1})()}_withPendingWrite(I){var R=this;return(0,E.Z)(function*(){R.pendingWrites++;try{yield I()}finally{R.pendingWrites--}})()}_set(I,R){var ne=this;return(0,E.Z)(function*(){return ne._withPendingWrite((0,E.Z)(function*(){return yield ne._withRetries(oe=>ce(oe,I,R)),ne.localCache[I]=R,ne.notifyServiceWorker(I)}))})()}_get(I){var R=this;return(0,E.Z)(function*(){const ne=yield R._withRetries(oe=>function ve(j,w){return(Vi=Vi||(0,E.Z)(function*(I,R){const ne=V(I,!1).get(R),oe=yield new P(ne).toPromise();return void 0===oe?null:oe.value})).apply(this,arguments)}(oe,I));return R.localCache[I]=ne,ne})()}_remove(I){var R=this;return(0,E.Z)(function*(){return R._withPendingWrite((0,E.Z)(function*(){return yield R._withRetries(ne=>Ge(ne,I)),delete R.localCache[I],R.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,E.Z)(function*(){const R=yield I._withRetries(we=>{const Pe=V(we,!1).getAll();return new P(Pe).toPromise()});if(!R)return[];if(0!==I.pendingWrites)return[];const ne=[],oe=new Set;for(const{fbase_key:we,value:Pe}of R)oe.add(we),JSON.stringify(I.localCache[we])!==JSON.stringify(Pe)&&(I.notifyListeners(we,Pe),ne.push(we));for(const we of Object.keys(I.localCache))I.localCache[we]&&!oe.has(we)&&(I.notifyListeners(we,null),ne.push(we));return ne})()}notifyListeners(I,R){this.localCache[I]=R;const ne=this.listeners[I];if(ne)for(const oe of Array.from(ne))oe(R)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(R)}_removeListener(I,R){this.listeners[I]&&(this.listeners[I].delete(R),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return j.type="LOCAL",j})(),Po=1e12;class Gr{constructor(w){this.auth=w,this.counter=Po,this._widgets=new Map}render(w,I){const R=this.counter;return this._widgets.set(R,new _o(w,this.auth.name,I||{})),this.counter++,R}reset(w){var I;const R=w||Po;null===(I=this._widgets.get(R))||void 0===I||I.delete(),this._widgets.delete(R)}getResponse(w){var I;return(null===(I=this._widgets.get(w||Po))||void 0===I?void 0:I.getResponse())||""}execute(w){var I=this;return(0,E.Z)(function*(){var R;return null===(R=I._widgets.get(w||Po))||void 0===R||R.execute(),""})()}}class _o{constructor(w,I,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof w?document.getElementById(w):w;kt(ne,"argument-error",{appName:I}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wi(j){const w=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<j;R++)w.push(I.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":I}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ft=fr("rcb"),nu=new ai(3e4,6e4);class cc{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=kn().grecaptcha)||void 0===w||!w.render)}load(w,I=""){return kt(function Fh(j){return j.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(j)}(I),w,"argument-error"),this.shouldResolveImmediately(I)&&Ca(kn().grecaptcha)?Promise.resolve(kn().grecaptcha):new Promise((R,ne)=>{const oe=kn().setTimeout(()=>{ne(hn(w,"network-request-failed"))},nu.get());kn()[Ft]=()=>{kn().clearTimeout(oe),delete kn()[Ft];const Pe=kn().grecaptcha;if(!Pe||!Ca(Pe))return void ne(hn(w,"internal-error"));const it=Pe.render;Pe.render=(Ct,Lt)=>{const Pn=it(Ct,Lt);return this.counter++,Pn},this.hostLanguage=I,R(Pe)},ao(`https://www.google.com/recaptcha/api.js??${(0,se.xO)({onload:Ft,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(oe),ne(hn(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var I;return!(null===(I=kn().grecaptcha)||void 0===I||!I.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oa{load(w){return(0,E.Z)(function*(){return new Gr(w)})()}clearedOneInstance(){}}const uc="recaptcha",Tl={theme:"light",type:"image"};class _a{constructor(w,I=Object.assign({},Tl),R){this.parameters=I,this.type=uc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(R),this.isInvisible="invisible"===this.parameters.size,kt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof w?document.getElementById(w):w;kt(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oa:new cc,this.validateStartingState()}verify(){var w=this;return(0,E.Z)(function*(){w.assertNotDestroyed();const I=yield w.render(),R=w.getAssertedRecaptcha();return R.getResponse(I)||new Promise(oe=>{const we=Pe=>{Pe&&(w.tokenChangeListeners.delete(we),oe(Pe))};w.tokenChangeListeners.add(we),w.isInvisible&&R.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){kt(!this.parameters.sitekey,this.auth,"argument-error"),kt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return I=>{if(this.tokenChangeListeners.forEach(R=>R(I)),"function"==typeof w)w(I);else if("string"==typeof w){const R=kn()[w];"function"==typeof R&&R(I)}}}assertNotDestroyed(){kt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,E.Z)(function*(){if(yield w.init(),!w.widgetId){let I=w.container;if(!w.isInvisible){const R=document.createElement("div");I.appendChild(R),I=R}w.widgetId=w.getAssertedRecaptcha().render(I,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,E.Z)(function*(){kt(Qs()&&!lc(),w.auth,"internal-error"),yield function vd(){let j=null;return new Promise(w=>{"complete"!==document.readyState?(j=()=>w(),window.addEventListener("load",j)):w()}).catch(w=>{throw j&&window.removeEventListener("load",j),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const I=yield function to(j){return(pt=pt||(0,E.Z)(function*(w){return(yield Le(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(w.auth);kt(I,w.auth,"internal-error"),w.parameters.sitekey=I})()}getAssertedRecaptcha(){return kt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(w,I){this.verificationId=w,this.onConfirmation=I}confirm(w){const I=Si._fromVerification(this.verificationId,w);return this.onConfirmation(I)}}function vo(j,w,I){return(Jn=Jn||(0,E.Z)(function*(R,ne,oe){const we=Yn(R),Pe=yield Fs(we,ne,(0,se.m9)(oe));return new $i(Pe,it=>mi(we,it))})).apply(this,arguments)}function Gl(j,w,I){return(Ui=Ui||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R);yield es(!1,we,"phone");const Pe=yield Fs(we.auth,ne,(0,se.m9)(oe));return new $i(Pe,it=>Ua(we,it))})).apply(this,arguments)}function za(j,w,I){return(cr=cr||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R),Pe=yield Fs(we.auth,ne,(0,se.m9)(oe));return new $i(Pe,it=>Ba(we,it))})).apply(this,arguments)}function Fs(j,w,I){return(Ms=Ms||(0,E.Z)(function*(R,ne,oe){var we;const Pe=yield oe.verify();try{let it;if(kt("string"==typeof Pe,R,"argument-error"),kt(oe.type===uc,R,"argument-error"),it="string"==typeof ne?{phoneNumber:ne}:ne,"session"in it){const Ct=it.session;if("phoneNumber"in it)return kt("enroll"===Ct.type,R,"internal-error"),(yield function qn(j,w){return Le(j,"POST","/v2/accounts/mfaEnrollment:start",Hr(j,w))}(R,{idToken:Ct.credential,phoneEnrollmentInfo:{phoneNumber:it.phoneNumber,recaptchaToken:Pe}})).phoneSessionInfo.sessionInfo;{kt("signin"===Ct.type,R,"internal-error");const Lt=(null===(we=it.multiFactorHint)||void 0===we?void 0:we.uid)||it.multiFactorUid;return kt(Lt,R,"missing-multi-factor-info"),(yield function gn(j,w){return Le(j,"POST","/v2/accounts/mfaSignIn:start",Hr(j,w))}(R,{mfaPendingCredential:Ct.credential,mfaEnrollmentId:Lt,phoneSignInInfo:{recaptchaToken:Pe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ct}=yield function El(j,w){return(oi=oi||(0,E.Z)(function*(I,R){return Le(I,"POST","/v1/accounts:sendVerificationCode",Hr(I,R))})).apply(this,arguments)}(R,{phoneNumber:it.phoneNumber,recaptchaToken:Pe});return Ct}}finally{oe._reset()}})).apply(this,arguments)}function et(j,w){return(jr=jr||(0,E.Z)(function*(I,R){yield $s((0,se.m9)(I),R)})).apply(this,arguments)}let ru=(()=>{class j{constructor(I){this.providerId=j.PROVIDER_ID,this.auth=Yn(I)}verifyPhoneNumber(I,R){return Fs(this.auth,I,(0,se.m9)(R))}static credential(I,R){return Si._fromVerification(I,R)}static credentialFromResult(I){return j.credentialFromTaggedObject(I)}static credentialFromError(I){return j.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:R,temporaryProof:ne}=I;return R&&ne?Si._fromTokenResponse(R,ne):null}}return j.PROVIDER_ID="phone",j.PHONE_SIGN_IN_METHOD="phone",j})();function Gi(j,w){return w?hr(w):(kt(j._popupRedirectResolver,j,"argument-error"),j._popupRedirectResolver)}class Wi extends Bo{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return xs(w,this._buildIdpRequest())}_linkToIdToken(w,I){return xs(w,this._buildIdpRequest(I))}_getReauthenticationResolver(w){return xs(w,this._buildIdpRequest())}_buildIdpRequest(w){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(I.idToken=w),I}}function Sa(j){return Mo(j.auth,new Wi(j),j.bypassAuthState)}function Wl(j){const{auth:w,user:I}=j;return kt(I,w,"internal-error"),zo(I,new Wi(j),j.bypassAuthState)}function Qd(j){return(Sr=Sr||(0,E.Z)(function*(w){const{auth:I,user:R}=w;return kt(R,I,"internal-error"),$s(R,new Wi(w),w.bypassAuthState)})).apply(this,arguments)}class kc{constructor(w,I,R,ne,oe=!1){this.auth=w,this.resolver=R,this.user=ne,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var I,w=this;return new Promise(function(R,ne){return(I=I||(0,E.Z)(function*(oe,we){w.pendingPromise={resolve:oe,reject:we};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(Pe){w.reject(Pe)}})).apply(this,arguments)})}onAuthEvent(w){var I=this;return(0,E.Z)(function*(){const{urlResponse:R,sessionId:ne,postBody:oe,tenantId:we,error:Pe,type:it}=w;if(Pe)return void I.reject(Pe);const Ct={auth:I.auth,requestUri:R,sessionId:ne,tenantId:we||void 0,postBody:oe||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(it)(Ct))}catch(Lt){I.reject(Lt)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Qd;case"reauthViaPopup":case"reauthViaRedirect":return Wl;default:Nt(this.auth,"internal-error")}}resolve(w){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ju=new ai(2e3,1e4);function dc(j,w,I){return(Pr=Pr||(0,E.Z)(function*(R,ne,oe){const we=Yn(R);ti(R,ne,Ji);const Pe=Gi(we,oe);return new ns(we,"signInViaPopup",ne,Pe).executeNotNull()})).apply(this,arguments)}function Lh(j,w,I){return(ur=ur||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R);ti(we.auth,ne,Ji);const Pe=Gi(we.auth,oe);return new ns(we.auth,"reauthViaPopup",ne,Pe,we).executeNotNull()})).apply(this,arguments)}function $p(j,w,I){return(Bi=Bi||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R);ti(we.auth,ne,Ji);const Pe=Gi(we.auth,oe);return new ns(we.auth,"linkViaPopup",ne,Pe,we).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class j extends kc{constructor(I,R,ne,oe,we){super(I,R,oe,we),this.provider=ne,this.authWindow=null,this.pollId=null,j.currentPopupAction&&j.currentPopupAction.cancel(),j.currentPopupAction=this}executeNotNull(){var I=this;return(0,E.Z)(function*(){const R=yield I.execute();return kt(R,I.auth,"internal-error"),R})()}onExecution(){var I=this;return(0,E.Z)(function*(){vr(1===I.filter.length,"Popup operations only handle one event");const R=Ei();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],R),I.authWindow.associatedEvent=R,I.resolver._originValidation(I.auth).catch(ne=>{I.reject(ne)}),I.resolver._isIframeWebStorageSupported(I.auth,ne=>{ne||I.reject(hn(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,j.currentPopupAction=null}pollUserCancellation(){const I=()=>{var R,ne;this.pollId=null!==(ne=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,ju.get())};I()}}return j.currentPopupAction=null,j})();const Aa="pendingRedirect",$a=new Map;class va extends kc{constructor(w,I,R=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,R),this.eventId=null}execute(){var w=()=>super.execute,I=this;return(0,E.Z)(function*(){let R=$a.get(I.auth._key());if(!R){try{const oe=(yield function Ks(j,w){return(xi=xi||(0,E.Z)(function*(I,R){const ne=iu(R),oe=Hu(I);if(!(yield oe._isAvailable()))return!1;const we="true"===(yield oe._get(ne));return yield oe._remove(ne),we})).apply(this,arguments)}(I.resolver,I.auth))?yield w().call(I):null;R=()=>Promise.resolve(oe)}catch(ne){R=()=>Promise.reject(ne)}$a.set(I.auth._key(),R)}return I.bypassAuthState||$a.set(I.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(w){var I=()=>super.onAuthEvent,R=this;return(0,E.Z)(function*(){if("signInViaRedirect"===w.type)return I().call(R,w);if("unknown"!==w.type){if(w.eventId){const ne=yield R.auth._redirectUserForId(w.eventId);if(ne)return R.user=ne,I().call(R,w);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function hc(j,w){return(bi=bi||(0,E.Z)(function*(I,R){return Hu(I)._set(iu(R),"true")})).apply(this,arguments)}function Vh(){$a.clear()}function aa(j,w){$a.set(j._key(),w)}function Hu(j){return hr(j._redirectPersistence)}function iu(j){return Zt(Aa,j.config.apiKey,j.name)}function ko(j,w,I){return function Uh(j,w,I){return(is=is||(0,E.Z)(function*(R,ne,oe){const we=Yn(R);ti(R,ne,Ji),yield we._initializationPromise;const Pe=Gi(we,oe);return yield hc(Pe,we),Pe._openRedirect(we,ne,"signInViaRedirect")})).apply(this,arguments)}(j,w,I)}function Dl(j,w,I){return function Nc(j,w,I){return(ds=ds||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R);ti(we.auth,ne,Ji),yield we.auth._initializationPromise;const Pe=Gi(we.auth,oe);yield hc(Pe,we.auth);const it=yield Lc(we);return Pe._openRedirect(we.auth,ne,"reauthViaRedirect",it)})).apply(this,arguments)}(j,w,I)}function Xd(j,w,I){return function Sl(j,w,I){return(Rs=Rs||(0,E.Z)(function*(R,ne,oe){const we=(0,se.m9)(R);ti(we.auth,ne,Ji),yield we.auth._initializationPromise;const Pe=Gi(we.auth,oe);yield es(!1,we,ne.providerId),yield hc(Pe,we.auth);const it=yield Lc(we);return Pe._openRedirect(we.auth,ne,"linkViaRedirect",it)})).apply(this,arguments)}(j,w,I)}function zu(j,w){return(ws=ws||(0,E.Z)(function*(I,R){return yield Yn(I)._initializationPromise,Fc(I,R,!1)})).apply(this,arguments)}function Fc(j,w){return(Me=Me||(0,E.Z)(function*(I,R,ne=!1){const oe=Yn(I),we=Gi(oe,R),it=yield new va(oe,we,ne).execute();return it&&!ne&&(delete it.user._redirectEventId,yield oe._persistUserIfCurrent(it.user),yield oe._setRedirectUser(null,R)),it})).apply(this,arguments)}function Lc(j){return(ae=ae||(0,E.Z)(function*(w){const I=Ei(`${w.uid}:::`);return w._redirectEventId=I,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),I})).apply(this,arguments)}class $u{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let I=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(w,R)&&(I=!0,this.sendToConsumer(w,R),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function yd(j){switch(j.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kf(j);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=w,I=!0)),I}sendToConsumer(w,I){var R;if(w.error&&!Kf(w)){const ne=(null===(R=w.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";I.onError(hn(this.auth,ne))}else I.onAuthEvent(w)}isEventForConsumer(w,I){const R=null===I.eventId||!!w.eventId&&w.eventId===I.eventId;return I.filter.includes(w.type)&&R}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ou(w))}saveEventToCache(w){this.cachedEventUids.add(ou(w)),this.lastProcessedEventTime=Date.now()}}function ou(j){return[j.type,j.eventId,j.sessionId,j.tenantId].filter(w=>w).join("-")}function Kf({type:j,error:w}){return"unknown"===j&&"auth/no-auth-event"===w?.code}function Vc(j){return(Y=Y||(0,E.Z)(function*(w,I={}){return Le(w,"GET","/v1/projects",I)})).apply(this,arguments)}const Bh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jd=/^https?/;function Al(j){const w=Ar(),{protocol:I,hostname:R}=new URL(w);if(j.startsWith("chrome-extension://")){const we=new URL(j);return""===we.hostname&&""===R?"chrome-extension:"===I&&j.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===I&&we.hostname===R}if(!Jd.test(I))return!1;if(Bh.test(j))return R===j;const ne=j.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(R)}const bd=new ai(3e4,6e4);function yo(){const j=kn().___jsl;if(j?.H)for(const w of Object.keys(j.H))if(j.H[w].r=j.H[w].r||[],j.H[w].L=j.H[w].L||[],j.H[w].r=[...j.H[w].L],j.CP)for(let I=0;I<j.CP.length;I++)j.CP[I]=null}let cs=null;const fc=new ai(5e3,15e3),Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _i(j){const w=j.config;kt(w.authDomain,j,"auth-domain-config-required");const I=w.emulator?Pi(w,"emulator/auth/iframe"):`https://${j.config.authDomain}/__/auth/iframe`,R={apiKey:w.apiKey,appName:j.name,v:ie.SDK_VERSION},ne=Ss.get(j.config.apiHost);ne&&(R.eid=ne);const oe=j._getFrameworks();return oe.length&&(R.fw=oe.join(",")),`${I}?${(0,se.xO)(R).slice(1)}`}const $={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class at{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rn="__/auth/handler",yn="emulator/auth/handler",fn=encodeURIComponent("fac");function Ir(j,w,I,R,ne,oe){return(he=he||(0,E.Z)(function*(we,Pe,it,Ct,Lt,Pn){kt(we.config.authDomain,we,"auth-domain-config-required"),kt(we.config.apiKey,we,"invalid-api-key");const Gt={apiKey:we.config.apiKey,appName:we.name,authType:it,redirectUrl:Ct,v:ie.SDK_VERSION,eventId:Lt};if(Pe instanceof Ji){Pe.setDefaultLanguage(we.languageCode),Gt.providerId=Pe.providerId||"",(0,se.xb)(Pe.getCustomParameters())||(Gt.customParameters=JSON.stringify(Pe.getCustomParameters()));for(const[qi,Eo]of Object.entries(Pn||{}))Gt[qi]=Eo}if(Pe instanceof ui){const qi=Pe.getScopes().filter(Eo=>""!==Eo);qi.length>0&&(Gt.scopes=qi.join(","))}we.tenantId&&(Gt.tid=we.tenantId);const Sn=Gt;for(const qi of Object.keys(Sn))void 0===Sn[qi]&&delete Sn[qi];const rs=yield we._getAppCheckToken(),Wa=rs?`#${fn}=${encodeURIComponent(rs)}`:"";return`${function vs({config:j}){return j.emulator?Pi(j,yn):`https://${j.authDomain}/${rn}`}(we)}?${(0,se.xO)(Sn).slice(1)}${Wa}`})).apply(this,arguments)}const er="webStorageSupport",us=class ys{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=Fc,this._overrideRedirectResult=aa}_openPopup(w,I,R,ne){var oe=this;return(0,E.Z)(function*(){var we;vr(null===(we=oe.eventManagers[w._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const Pe=yield Ir(w,I,R,Ar(),ne);return function bt(j,w,I,R=500,ne=600){const oe=Math.max((window.screen.availHeight-ne)/2,0).toString(),we=Math.max((window.screen.availWidth-R)/2,0).toString();let Pe="";const it=Object.assign(Object.assign({},$),{width:R.toString(),height:ne.toString(),top:oe,left:we}),Ct=(0,se.z$)().toLowerCase();I&&(Pe=Cs(Ct)?"_blank":I),Ti(Ct)&&(w=w||"http://localhost",it.scrollbars="yes");const Lt=Object.entries(it).reduce((Gt,[Sn,rs])=>`${Gt}${Sn}=${rs},`,"");if(function eo(j=(0,se.z$)()){var w;return On(j)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Ct)&&"_self"!==Pe)return function Tt(j,w){const I=document.createElement("a");I.href=j,I.target=w;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(R)}(w||"",Pe),new at(null);const Pn=window.open(w||"",Pe,Lt);kt(Pn,j,"popup-blocked");try{Pn.focus()}catch{}return new at(Pn)}(w,Pe,Ei())})()}_openRedirect(w,I,R,ne){var oe=this;return(0,E.Z)(function*(){return yield oe._originValidation(w),function po(j){kn().location.href=j}(yield Ir(w,I,R,Ar(),ne)),new Promise(()=>{})})()}_initialize(w){const I=w._key();if(this.eventManagers[I]){const{manager:ne,promise:oe}=this.eventManagers[I];return ne?Promise.resolve(ne):(vr(oe,"If manager is not set, promise should be"),oe)}const R=this.initAndGetManager(w);return this.eventManagers[I]={promise:R},R.catch(()=>{delete this.eventManagers[I]}),R}initAndGetManager(w){var I=this;return(0,E.Z)(function*(){const R=yield function B(j){return(H=H||(0,E.Z)(function*(w){const I=yield function Ma(j){return cs=cs||function Ga(j){return new Promise((w,I)=>{var R,ne,oe;function we(){yo(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{yo(),I(hn(j,"network-request-failed"))},timeout:bd.get()})}if(null!==(ne=null===(R=kn().gapi)||void 0===R?void 0:R.iframes)&&void 0!==ne&&ne.Iframe)w(gapi.iframes.getContext());else{if(null===(oe=kn().gapi)||void 0===oe||!oe.load){const Pe=fr("iframefcb");return kn()[Pe]=()=>{gapi.load?we():I(hn(j,"network-request-failed"))},ao(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(it=>I(it))}we()}}).catch(w=>{throw cs=null,w})}(j),cs}(w),R=kn().gapi;return kt(R,w,"internal-error"),I.open({where:document.body,url:_i(w),messageHandlersFilter:R.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},ne=>{var oe;return new Promise(function(we,Pe){return(oe=oe||(0,E.Z)(function*(it,Ct){yield ne.restyle({setHideOnLeave:!1});const Lt=hn(w,"network-request-failed"),Pn=kn().setTimeout(()=>{Ct(Lt)},fc.get());function Gt(){kn().clearTimeout(Pn),it(ne)}ne.ping(Gt).then(Gt,()=>{Ct(Lt)})})).apply(this,arguments)})})})).apply(this,arguments)}(w),ne=new $u(w);return R.register("authEvent",oe=>(kt(oe?.authEvent,w,"invalid-auth-event"),{status:ne.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[w._key()]={manager:ne},I.iframes[w._key()]=R,ne})()}_isIframeWebStorageSupported(w,I){this.iframes[w._key()].send(er,{type:er},ne=>{var oe;const we=null===(oe=ne?.[0])||void 0===oe?void 0:oe[er];void 0!==we&&I(!!we),Nt(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const I=w._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function ql(j){return(te=te||(0,E.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:I}=yield Vc(w);for(const R of I)try{if(Al(R))return}catch{}Nt(w,"unauthorized-domain")})).apply(this,arguments)}(w)),this.originValidationPromises[I]}get _shouldInitProactively(){return Di()||Hi()||On()}};class Kn{constructor(w){this.factorId=w}_process(w,I,R){switch(I.type){case"enroll":return this._finalizeEnroll(w,I.credential,R);case"signin":return this._finalizeSignIn(w,I.credential);default:return ni("unexpected MultiFactorSessionType")}}}class ei extends Kn{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new ei(w)}_finalizeEnroll(w,I,R){return function ac(j,w){return Le(j,"POST","/v2/accounts/mfaEnrollment:finalize",Hr(j,w))}(w,{idToken:I,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,I){return function Rr(j,w){return Le(j,"POST","/v2/accounts/mfaSignIn:finalize",Hr(j,w))}(w,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bo=(()=>{class j{constructor(){}static assertion(I){return ei._fromCredential(I)}}return j.FACTOR_ID="phone",j})();var jc="@firebase/auth";class jh{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var I=this;return(0,E.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const I=this.auth.onIdTokenChanged(R=>{w(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,I),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const I=this.internalListeners.get(w);I&&(this.internalListeners.delete(w),I(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hh=(0,se.Pz)("authIdTokenMaxAge")||300;let Kl=null;const Ed=j=>{var w;return function(I){return(w=w||(0,E.Z)(function*(R){const ne=R&&(yield R.getIdTokenResult()),oe=ne&&((new Date).getTime()-Date.parse(ne.issuedAtTime))/1e3;if(oe&&oe>Hh)return;const we=ne?.token;Kl!==we&&(Kl=we,yield fetch(j,{method:we?"POST":"DELETE",headers:we?{Authorization:`Bearer ${we}`}:{}}))})).apply(this,arguments)}};function th(j=(0,ie.getApp)()){const w=(0,ie._getProvider)(j,"auth");if(w.isInitialized())return w.getImmediate();const I=function ps(j,w){const I=(0,ie._getProvider)(j,"auth");if(I.isInitialized()){const ne=I.getImmediate(),oe=I.getOptions();if((0,se.vZ)(oe,w??{}))return ne;Nt(ne,"already-initialized")}return I.initialize({options:w})}(j,{popupRedirectResolver:us,persistence:[tr,Lr,ga]}),R=(0,se.Pz)("authTokenSyncURL");if(R){const oe=Ed(R);(function Rc(j,w,I){(0,se.m9)(j).beforeAuthStateChanged(w,I)})(I,oe,()=>oe(I.currentUser)),function Mc(j,w,I,R){(0,se.m9)(j).onIdTokenChanged(w,I,R)}(I,we=>oe(we))}const ne=(0,se.q4)("auth");return ne&&il(I,`http://${ne}`),I}!function Gu(j){(0,ie._registerComponent)(new Se.wA("auth",(w,{options:I})=>{const R=w.getProvider("app").getImmediate(),ne=w.getProvider("heartbeat"),oe=w.getProvider("app-check-internal"),{apiKey:we,authDomain:Pe}=R.options;kt(we&&!we.includes(":"),"invalid-api-key",{appName:R.name});const it={apiKey:we,authDomain:Pe,clientPlatform:j,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pa(j)},Ct=new li(R,ne,oe,it);return function rr(j,w){const I=w?.persistence||[],R=(Array.isArray(I)?I:[I]).map(hr);w?.errorMap&&j._updateErrorMap(w.errorMap),j._initializeWithPersistence(R,w?.popupRedirectResolver)}(Ct,I),Ct},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,I,R)=>{w.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Se.wA("auth-internal",w=>{const I=Yn(w.getProvider("auth").getImmediate());return new jh(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(jc,"0.23.2",function la(j){switch(j){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(j)),(0,ie.registerVersion)(jc,"0.23.2","esm2017")}("Browser")},8162:(Jt,Ke,K)=>{K.d(Ke,{u7:()=>Km,Jj:()=>Ch,IX:()=>t_,my:()=>Ys,xU:()=>Fl,Lz:()=>Vd,WA:()=>wt,F8:()=>Th,$q:()=>jd,W:()=>Hd,EK:()=>ii,PU:()=>f_,l7:()=>er,Ky:()=>Ft,Xb:()=>wi,Cf:()=>si,K9:()=>mo,Me:()=>De,yq:()=>po,Wi:()=>jm,ET:()=>Lp,Ab:()=>m_,vr:()=>p_,Fc:()=>Av,hJ:()=>Gy,B$:()=>Mp,at:()=>Ap,oe:()=>kh,AK:()=>Vp,TF:()=>Mv,JU:()=>Ih,ST:()=>Dv,fH:()=>Sv,Ix:()=>Op,Wu:()=>eb,Lx:()=>Bv,qY:()=>xo,GL:()=>$d,QT:()=>Fp,kl:()=>Qm,Xk:()=>Xm,PL:()=>$v,UQ:()=>tb,zN:()=>Jm,ad:()=>Tv,nP:()=>Up,b9:()=>Wm,vh:()=>qm,Pb:()=>qy,L$:()=>Ky,cf:()=>Gv,sc:()=>eg,Xo:()=>ad,IO:()=>jf,iE:()=>id,Eo:()=>Ld,i3:()=>rg,Bt:()=>ig,pl:()=>zd,Ub:()=>Ei,qK:()=>ld,TQ:()=>Uv,e0:()=>_l,r7:()=>Zc,Mx:()=>Wy,ar:()=>Hf});var Te,E=K(5861),se=K(534),ie=K(4537),_=K(7879),_e=K(9058),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},je=je||{},fe=Se||self;function Ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Fe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var nt="closure_uid_"+(1e9*Math.random()>>>0),yt=0;function ft(i,e,n){return i.call.apply(i.bind,arguments)}function mt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,o),i.apply(e,h)}}return function(){return i.apply(e,arguments)}}function pt(i,e,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:mt).apply(null,arguments)}function sn(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Yt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,h,m){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return e.prototype[h].apply(o,b)}}function Ve(){this.s=this.s,this.o=this.o}Ve.prototype.s=!1,Ve.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ht(i){Object.prototype.hasOwnProperty.call(i,nt)&&i[nt]||(i[nt]=++yt)}(this)},Ve.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ke=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function st(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Dt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ce(o)){const h=i.length||0,m=o.length||0;i.length=h+m;for(let b=0;b<m;b++)i[h+b]=o[b]}else i.push(o)}}function St(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var tn=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return i}();function an(i){return/^[\s\xa0]*$/.test(i)}function $n(){var i=fe.navigator;return i&&(i=i.userAgent)?i:""}function Gn(i){return-1!=$n().indexOf(i)}function Or(i){return Or[" "](i),i}Or[" "]=function(){};var It,i,oi=Gn("Opera"),vi=Gn("Trident")||Gn("MSIE"),xr=Gn("Edge"),Qe=xr||vi,tt=Gn("Gecko")&&!(-1!=$n().toLowerCase().indexOf("webkit")&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),ct=-1!=$n().toLowerCase().indexOf("webkit")&&!Gn("Edge");function ot(){var i=fe.document;return i?i.documentMode:void 0}e:{var Pt="",on=(i=$n(),tt?/rv:([^\);]+)(\)|;)/.exec(i):xr?/Edge\/([\d\.]+)/.exec(i):vi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ct?/WebKit\/(\S+)/.exec(i):oi?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(on&&(Pt=on?on[1]:""),vi){var Bt=ot();if(null!=Bt&&Bt>parseFloat(Pt)){It=String(Bt);break e}}It=Pt}var Xn=fe.document&&vi&&(ot()||parseInt(It,10))||void 0;function vn(i,e){if(St.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(tt){e:{try{Or(e.nodeName);var h=!0;break e}catch{}h=!1}h||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Er[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&vn.$.h.call(this)}}Yt(vn,St);var Er={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Tr="closure_listenable_"+(1e6*Math.random()|0),Dr=0;function _r(i,e,n,o,h){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=h,this.key=++Dr,this.fa=this.ia=!1}function Yr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Fr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Oi(i){const e={};for(const n in i)e[n]=i[n];return e}const Li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yi(i,e){let n,o;for(let h=1;h<arguments.length;h++){for(n in o=arguments[h],o)i[n]=o[n];for(let m=0;m<Li.length;m++)n=Li[m],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Bn(i){this.src=i,this.g={},this.h=0}function ln(i,e){var n=e.type;if(n in i.g){var m,o=i.g[n],h=ke(o,e);(m=0<=h)&&Array.prototype.splice.call(o,h,1),m&&(Yr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Tn(i,e,n,o){for(var h=0;h<i.length;++h){var m=i[h];if(!m.fa&&m.listener==e&&m.capture==!!n&&m.la==o)return h}return-1}Bn.prototype.add=function(i,e,n,o,h){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var b=Tn(i,e,o,h);return-1<b?(e=i[b],n||(e.ia=!1)):((e=new _r(e,this.src,m,!!o,h)).ia=n,i.push(e)),e};var jn="closure_lm_"+(1e6*Math.random()|0),nr={};function fi(i,e,n,o,h){if(o&&o.once)return or(i,e,n,o,h);if(Array.isArray(e)){for(var m=0;m<e.length;m++)fi(i,e[m],n,o,h);return null}return n=Sr(n),i&&i[Tr]?i.O(e,n,Fe(o)?!!o.capture:!!o,h):Dn(i,e,n,!1,o,h)}function Dn(i,e,n,o,h,m){if(!e)throw Error("Invalid event type");var b=Fe(h)?!!h.capture:!!h,O=Ms(i);if(O||(i[jn]=O=new Bn(i)),(n=O.add(e,n,o,b,m)).proxy)return n;if(o=function Zn(){const e=cr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)tn||(h=b),void 0===h&&(h=!1),i.addEventListener(e.toString(),o,h);else if(i.attachEvent)i.attachEvent(Ui(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function or(i,e,n,o,h){if(Array.isArray(e)){for(var m=0;m<e.length;m++)or(i,e[m],n,o,h);return null}return n=Sr(n),i&&i[Tr]?i.P(e,n,Fe(o)?!!o.capture:!!o,h):Dn(i,e,n,!0,o,h)}function Vi(i,e,n,o,h){if(Array.isArray(e))for(var m=0;m<e.length;m++)Vi(i,e[m],n,o,h);else o=Fe(o)?!!o.capture:!!o,n=Sr(n),i&&i[Tr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Tn(m=i.g[e],n,o,h))&&(Yr(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete i.g[e],i.h--))):i&&(i=Ms(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Tn(e,n,o,h)),(n=-1<i?e[i]:null)&&Jn(n))}function Jn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Tr])ln(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ui(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ms(e))?(ln(n,i),0==n.h&&(n.src=null,e[jn]=null)):Yr(i)}}}function Ui(i){return i in nr?nr[i]:nr[i]="on"+i}function cr(i,e){if(i.fa)i=!0;else{e=new vn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Jn(i),i=n.call(o,e)}return i}function Ms(i){return(i=i[jn])instanceof Bn?i:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(i){return"function"==typeof i?i:(i[jr]||(i[jr]=function(e){return i.handleEvent(e)}),i[jr])}function Pr(){Ve.call(this),this.i=new Bn(this),this.S=this,this.J=null}function ur(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new St(e,i);else if(e instanceof St)e.target=e.target||i;else{var h=e;yi(e=new St(o,i),h)}if(h=!0,n)for(var m=n.length-1;0<=m;m--){var b=e.g=n[m];h=Bi(b,o,!0,e)&&h}if(h=Bi(b=e.g=i,o,!0,e)&&h,h=Bi(b,o,!1,e)&&h,n)for(m=0;m<n.length;m++)h=Bi(b=e.g=n[m],o,!1,e)&&h}function Bi(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var h=!0,m=0;m<e.length;++m){var b=e[m];if(b&&!b.fa&&b.capture==n){var O=b.listener,U=b.la||b.src;b.ia&&ln(i.i,b),h=!1!==O.call(U,o)&&h}}return h&&!o.defaultPrevented}Yt(Pr,Ve),Pr.prototype[Tr]=!0,Pr.prototype.removeEventListener=function(i,e,n,o){Vi(this,i,e,n,o)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Yr(n[o]);delete i.g[e],i.h--}}this.J=null},Pr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Pr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var xi=fe.JSON.stringify;function is(){var i=H;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Rs=new class bi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ws,i=>i.reset());class ws{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Me(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function ae(i){fe.setTimeout(()=>{throw i},0)}let Y,te=!1,H=new class ds{constructor(){this.h=this.g=null}add(e,n){const o=Rs.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},he=()=>{const i=fe.Promise.resolve(void 0);Y=()=>{i.then(Oe)}};var Oe=()=>{for(var i;i=is();){try{i.h.call(i.g)}catch(n){ae(n)}var e=Rs;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}te=!1};function Ze(i,e){Pr.call(this),this.h=i||1,this.g=e||fe,this.j=pt(this.qb,this),this.l=Date.now()}function jt(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function xt(i,e,n){if("function"==typeof i)n&&(i=pt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:fe.setTimeout(i,e||0)}function En(i){i.g=xt(()=>{i.g=null,i.i&&(i.i=!1,En(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Yt(Ze,Pr),(Te=Ze.prototype).ga=!1,Te.T=null,Te.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ur(this,"tick"),this.ga&&(jt(this),this.start()))}},Te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.N=function(){Ze.$.N.call(this),jt(this),delete this.g};class nn extends Ve{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(i){Ve.call(this),this.h=i,this.g={}}Yt(Ln,Ve);var wr=[];function Us(i,e,n,o){Array.isArray(n)||(n&&(wr[0]=n.toString()),n=wr);for(var h=0;h<n.length;h++){var m=fi(e,n[h],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Bs(i){Fr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Jn(e)},i),i.g={}}function Xe(){this.g=!0}function qt(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var h=o[1];if(Array.isArray(h)&&!(1>h.length)){var m=h[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var b=1;b<h.length;b++)h[b]=""}}}return xi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ln.prototype.N=function(){Ln.$.N.call(this),Bs(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xe.prototype.Ea=function(){this.g=!1},Xe.prototype.info=function(){};var Vn={},ti=null;function Wr(){return ti=ti||new Pr}function kt(i){St.call(this,Vn.Ta,i)}function ni(i){const e=Wr();ur(e,new kt(e))}function vr(i,e){St.call(this,Vn.STAT_EVENT,i),this.stat=e}function Ar(i){const e=Wr();ur(e,new vr(e,i))}function Qs(i,e){St.call(this,Vn.Ua,i),this.size=e}function qs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){i()},e)}Vn.Ta="serverreachability",Yt(kt,St),Vn.STAT_EVENT="statevent",Yt(vr,St),Vn.Ua="timingevent",Yt(Qs,St);var Yo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Kt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ai(){}function Qo(){}ai.prototype.h=null;var Le,hs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ca(){St.call(this,"d")}function Hr(){St.call(this,"c")}function Ne(){}function Ye(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ln(this),this.P=Vt,this.V=new Ze(i=Qe?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}Yt(ca,St),Yt(Hr,St),Yt(Ne,ai),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Le=new Ne;var Vt=45e3,cn={},wn={};function Un(i,e,n){i.L=1,i.v=nl(kr(e)),i.s=n,i.S=!0,zr(i,null)}function zr(i,e){i.G=Date.now(),js(i),i.A=kr(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),ha(n.i,"t",o),i.C=0,n=i.l.J,i.h=new vt,i.g=zs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new nn(pt(i.Pa,i,i.g),i.O)),Us(i.U,i.g,"readystatechange",i.nb),e=i.I?Oi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ni(),function $e(i,e,n,o,h,m){i.info(function(){if(i.g)if(m)for(var b="",O=m.split("&"),U=0;U<O.length;U++){var J=O[U].split("=");if(1<J.length){var ue=J[0];J=J[1];var be=ue.split("_");b=2<=be.length&&"type"==be[1]?b+(ue+"=")+J+"&":b+(ue+"=redacted&")}}else b=null;else b=m;return"XMLHTTP REQ ("+o+") [attempt "+h+"]: "+e+"\n"+n+"\n"+b})}(i.j,i.u,i.A,i.m,i.W,i.s)}function ar(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ji(i,e,n){let h,o=!0;for(;!i.J&&i.C<n.length;){if(h=To(i,n),h==wn){4==e&&(i.o=4,Ar(14),o=!1),qt(i.j,i.m,null,"[Incomplete Response]");break}if(h==cn){i.o=4,Ar(15),qt(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}qt(i.j,i.m,h,null),Xo(i,h)}ar(i)&&h!=wn&&h!=cn&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ar(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Si(e),e.M=!0,Ar(11))):(qt(i.j,i.m,n,"[Invalid Chunked Response]"),Qi(i),Xs(i))}function To(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?wn:(n=Number(e.substring(n,o)),isNaN(n)?cn:(o+=1)+n>e.length?wn:(e=e.slice(o,o+n),i.C=o+n,e))}function js(i){i.Y=Date.now()+i.P,Is(i,i.P)}function Is(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qs(pt(i.lb,i),e)}function wa(i){i.B&&(fe.clearTimeout(i.B),i.B=null)}function Xs(i){0==i.l.H||i.J||uo(i.l,i)}function Qi(i){wa(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,jt(i.V),Bs(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Xo(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ca(n.i,i)))if(!i.K&&Ca(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var h=o;if(0==h[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;gs(n),So(n)}jl(n),Ar(18)}}else n.Fa=h[1],0<n.Fa-n.V&&37500>h[2]&&n.G&&0==n.A&&!n.v&&(n.v=qs(pt(n.ib,n),6e3));if(1>=Jo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zr(n,11)}else if((i.K||n.g==i)&&gs(n),!an(e))for(h=n.Ja.g.parse(e),e=0;e<h.length;e++){let J=h[e];if(n.V=J[0],J=J[1],2==n.H)if("c"==J[0]){n.K=J[1],n.pa=J[2];const ue=J[3];null!=ue&&(n.ra=ue,n.l.info("VER="+n.ra));const be=J[4];null!=be&&(n.Ga=be,n.l.info("SVER="+n.Ga));const ze=J[5];null!=ze&&"number"==typeof ze&&0<ze&&(n.L=o=1.5*ze,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const We=i.g;if(We){const Ot=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ot){var m=o.i;m.g||-1==Ot.indexOf("spdy")&&-1==Ot.indexOf("quic")&&-1==Ot.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(ka(m,m.h),m.h=null))}if(o.F){const Wt=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;Wt&&(o.Da=Wt,hr(o.I,o.F,Wt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var b=i;if((o=n).wa=ui(o,o.J?o.pa:null,o.Y),b.K){oo(o.i,b);var O=b,U=o.L;U&&O.setTimeout(U),O.B&&(wa(O),js(O)),o.g=b}else ms(o);0<n.j.length&&Bl(n)}else"stop"!=J[0]&&"close"!=J[0]||Zr(n,7);else 3==n.H&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?Zr(n,7):sc(n):"noop"!=J[0]&&n.h&&n.h.Aa(J),n.A=0)}ni()}catch{}}function dr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function da(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ce(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ua(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ce(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),h=o.length,m=0;m<h;m++)e.call(void 0,o[m],n&&n[m],i)}(Te=Ye.prototype).setTimeout=function(i){this.P=i},Te.nb=function(i){i=i.target;const e=this.M;e&&3==Hs(i)?e.l():this.Pa(i)},Te.Pa=function(i){try{if(i==this.g)e:{const ue=Hs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ue)&&(3!=ue||Qe||this.g&&(this.h.h||this.g.ja()||La(this.g)))){this.J||4!=ue||7==e||ni(),wa(this);var n=this.g.da();this.ca=n;t:if(ar(this)){var o=La(this.g);i="";var h=o.length,m=4==Hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Xs(this);var b="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<h;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==h-1});o.splice(0,h),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ja();if(this.i=200==n,function At(i,e,n,o,h,m,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+h+"]: "+e+"\n"+n+"\n"+m+" "+b})}(this.j,this.u,this.A,this.m,this.W,ue,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,U=this.g;if((O=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(O)){var J=O;break t}}J=null}if(!(n=J)){this.i=!1,this.o=3,Ar(12),Qi(this),Xs(this);break e}qt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,n)}this.S?(ji(this,ue,b),Qe&&this.i&&3==ue&&(Us(this.U,this.V,"tick",this.mb),this.V.start())):(qt(this.j,this.m,b,null),Xo(this,b)),4==ue&&Qi(this),this.i&&!this.J&&(4==ue?uo(this.l,this):(this.i=!1,js(this)))}else(function xc(i){const e={};i=(i.g&&2<=Hs(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(an(i[o]))continue;var n=Me(i[o]);const h=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const m=e[h]||[];e[h]=m,m.push(n)}!function Fi(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<b.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),Qi(this),Xs(this)}}}catch{}},Te.mb=function(){if(this.g){var i=Hs(this.g),e=this.g.ja();this.C<e.length&&(wa(this),ji(this,i,e),this.i&&4!=i&&js(this))}},Te.cancel=function(){this.J=!0,Qi(this)},Te.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Nt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ni(),Ar(17)),Qi(this),this.o=2,Xs(this)):Is(this,this.Y-i)};var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Js){this.h=i.h,Do(this,i.j),this.s=i.s,this.g=i.g,fs(this,i.m),this.l=i.l;var e=i.i,n=new ri;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ia(this,n),this.o=i.o}else i&&(e=String(i).match(Qr))?(this.h=!1,Do(this,e[1]||"",!0),this.s=qr(e[2]||""),this.g=qr(e[3]||"",!0),fs(this,e[4]),this.l=qr(e[5]||"",!0),Ia(this,e[6]||"",!0),this.o=qr(e[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}function kr(i){return new Js(i)}function Do(i,e,n){i.j=n?qr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function fs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ia(i,e,n){e instanceof ri?(i.i=e,function Ps(i,e){e&&!i.j&&(Xi(i),i.i=null,i.g.forEach(function(n,o){var h=o.toLowerCase();o!=h&&(Os(this,o),ha(this,h,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Zt(e,Cs)),i.i=new ri(e,i.h))}function hr(i,e,n){i.i.set(e,n)}function nl(i){return hr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Zt(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Wn),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Wn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Js.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Zt(e,Mr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Zt(e,Mr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Zt(n,"/"==n.charAt(0)?Hi:Ti,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Zt(n,ss)),i.join("")};var Mr=/[#\/\?@]/g,Ti=/[#\?:]/g,Hi=/[#\?]/g,Cs=/[#\?@]/g,ss=/#/g;function ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function pi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),h=null;if(0<=o){var m=i[n].substring(0,o);h=i[n].substring(o+1)}else m=i[n];e(m,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Os(i,e){Xi(i),e=eo(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function On(i,e){return Xi(i),e=eo(i,e),i.g.has(e)}function ha(i,e,n){Os(i,e),0<n.length&&(i.i=null,i.g.set(eo(i,e),st(n)),i.h+=n.length)}function eo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function fa(i){this.l=i||pa,i=fe.PerformanceNavigationTiming?0<(i=fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=ri.prototype).add=function(i,e){Xi(this),this.i=null,i=eo(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Te.forEach=function(i,e){Xi(this),this.g.forEach(function(n,o){n.forEach(function(h){i.call(e,h,o,this)},this)},this)},Te.ta=function(){Xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const h=i[o];for(let m=0;m<h.length;m++)n.push(e[o])}return n},Te.Z=function(i){Xi(this);let e=[];if("string"==typeof i)On(this,i)&&(e=e.concat(this.g.get(eo(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Te.set=function(i,e){return Xi(this),this.i=null,On(this,i=eo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Te.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const m=encodeURIComponent(String(o)),b=this.Z(o);for(o=0;o<b.length;o++){var h=m;""!==b[o]&&(h+="="+encodeURIComponent(String(b[o]))),i.push(h)}}return this.i=i.join("&")};var pa=10;function to(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Jo(i){return i.h?1:i.g?i.g.size:0}function Ca(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ka(i,e){i.g?i.g.add(e):i.h=e}function oo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function bl(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return st(i.i)}fa.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ao=class{stringify(i){return fe.JSON.stringify(i,void 0)}parse(i){return fe.JSON.parse(i,void 0)}};function fr(){this.g=new ao}function xa(i,e,n){const o=n||"";try{dr(i,function(h,m){let b=h;Fe(h)&&(b=xi(h)),e.push(o+m+"="+encodeURIComponent(b))})}catch(h){throw e.push(o+"type="+encodeURIComponent("_badmap")),h}}function ea(i,e,n,o,h){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,h(o)}catch{}}function Kr(i){this.l=i.fc||null,this.j=i.ob||!1}function ks(i,e){Pr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(Kr,ai),Kr.prototype.g=function(){return new ks(this.l,this.j)},Kr.prototype.i=function(i){return function(){return i}}({}),Yt(ks,Pr);var no=0;function li(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Yn(i){i.readyState=4,i.l=null,i.j=null,i.A=null,rl(i)}function rl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Te=ks.prototype).open=function(i,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,rl(this)},Te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yn(this)),this.readyState=no},Te.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;li(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Te.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Yn(this):rl(this),3==this.readyState&&li(this)}},Te.Za=function(i){this.g&&(this.response=this.responseText=i,Yn(this))},Te.Ya=function(i){this.g&&(this.response=i,Yn(this))},Te.ka=function(){this.g&&Yn(this)},Te.setRequestHeader=function(i,e){this.v.append(i,e)},Te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ps=fe.JSON.parse;function rr(i){Pr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=il,this.L=this.M=!1}Yt(rr,Pr);var il="",ta=/^https?$/i,Ns=["POST","PUT"];function lo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Bo(i),Fa(i)}function Bo(i){i.F||(i.F=!0,ur(i,"complete"),ur(i,"error"))}function Na(i){if(i.h&&typeof je<"u"&&(!i.C[1]||4!=Hs(i)||2!=i.da()))if(i.v&&4==Hs(i))xt(i.La,0,i);else if(ur(i,"readystatechange"),4==Hs(i)){i.h=!1;try{const b=i.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var h=String(i.I).match(Qr)[1]||null;!h&&fe.self&&fe.self.location&&(h=fe.self.location.protocol.slice(0,-1)),o=!ta.test(h?h.toLowerCase():"")}n=o}if(n)ur(i,"complete"),ur(i,"success");else{i.m=6;try{var m=2<Hs(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.da()+"]",Bo(i)}}finally{Fa(i)}}}function Fa(i,e){if(i.g){rc(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ur(i,"ready");try{n.onreadystatechange=o}catch{}}}function rc(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(fe.clearTimeout(i.A),i.A=null)}function Hs(i){return i.g?i.g.readyState:0}function La(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case il:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ic(i){let e="";return Fr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function sl(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=ic(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):hr(i,e,n))}function ci(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Tc(i){this.Ga=0,this.j=[],this.l=new Xe,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ci("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ci("baseRetryDelayMs",5e3,i),this.hb=ci("retryDelaySeedMs",1e4,i),this.eb=ci("forwardChannelMaxRetries",2,i),this.xa=ci("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new fa(i&&i.concurrentRequestLimit),this.Ja=new fr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sc(i){if(xs(i),3==i.H){var e=i.W++,n=kr(i.I);if(hr(n,"SID",i.K),hr(n,"RID",e),hr(n,"TYPE","terminate"),Xr(i,n),(e=new Ye(i,i.l,e)).L=2,e.v=nl(kr(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&fe.Image&&((new Image).src=e.v,n=!0),n||(e.g=zs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),js(e)}Ji(i)}function So(i){i.g&&(Si(i),i.g.cancel(),i.g=null)}function xs(i){So(i),i.u&&(fe.clearTimeout(i.u),i.u=null),gs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&fe.clearTimeout(i.m),i.m=null)}function Bl(i){if(!to(i.i)&&!i.m){i.m=!0;var e=i.Na;Y||he(),te||(Y(),te=!0),H.add(e,i),i.C=0}}function El(i,e){var n;n=e?e.m:i.W++;const o=kr(i.I);hr(o,"SID",i.K),hr(o,"RID",n),hr(o,"AID",i.V),Xr(i,o),i.o&&i.s&&sl(o,i.o,i.s),n=new Ye(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ol(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ka(i.i,n),Un(n,o,e)}function Xr(i,e){i.na&&Fr(i.na,function(n,o){hr(e,o,n)}),i.h&&dr({},function(n,o){hr(e,o,n)})}function ol(i,e,n){n=Math.min(i.j.length,n);var o=i.h?pt(i.h.Va,i.h,i):null;e:{var h=i.j;let m=-1;for(;;){const b=["count="+n];-1==m?0<n?(m=h[0].g,b.push("ofs="+m)):m=0:b.push("ofs="+m);let O=!0;for(let U=0;U<n;U++){let J=h[U].g;const ue=h[U].map;if(J-=m,0>J)m=Math.max(0,h[U].g-100),O=!1;else try{xa(ue,b,"req"+J+"_")}catch{o&&o(ue)}}if(O){o=b.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ms(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Y||he(),te||(Y(),te=!0),H.add(e,i),i.A=0}}function jl(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=qs(pt(i.Ma,i),Ho(i,i.A)),i.A++,0))}function Si(i){null!=i.B&&(fe.clearTimeout(i.B),i.B=null)}function jo(i){i.g=new Ye(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=kr(i.wa);hr(e,"RID","rpc"),hr(e,"SID",i.K),hr(e,"AID",i.V),hr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&hr(e,"TO",i.qa),hr(e,"TYPE","xmlhttp"),Xr(i,e),i.o&&i.s&&sl(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=nl(kr(e)),n.s=null,n.S=!0,zr(n,i)}function gs(i){null!=i.v&&(fe.clearTimeout(i.v),i.v=null)}function uo(i,e){var n=null;if(i.g==e){gs(i),Si(i),i.g=null;var o=2}else{if(!Ca(i.i,e))return;n=e.F,oo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var h=i.C;ur(o=Wr(),new Qs(o,n)),Bl(i)}else ms(i);else if(3==(h=e.o)||0==h&&0<e.ca||!(1==o&&function co(i,e){return!(Jo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=qs(pt(i.Na,i,e),Ho(i,i.C)),i.C++,0)))}(i,e)||2==o&&jl(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),h){case 1:Zr(i,5);break;case 4:Zr(i,10);break;case 3:Zr(i,6);break;default:Zr(i,2)}}function Ho(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Zr(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=pt(i.pb,i);n||(n=new Js("//www.google.com/images/cleardot.gif"),fe.location&&"http"==fe.location.protocol||Do(n,"https"),nl(n)),function Ul(i,e){const n=new Xe;if(fe.Image){const o=new Image;o.onload=sn(ea,n,o,"TestLoadImage: loaded",!0,e),o.onerror=sn(ea,n,o,"TestLoadImage: error",!1,e),o.onabort=sn(ea,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=sn(ea,n,o,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Ar(2);i.H=0,i.h&&i.h.za(e),Ji(i),xs(i)}function Ji(i){if(i.H=0,i.ma=[],i.h){const e=bl(i.i);(0!=e.length||0!=i.j.length)&&(Dt(i.ma,e),Dt(i.ma,i.j),i.i.i.length=0,st(i.j),i.j.length=0),i.h.ya()}}function ui(i,e,n){var o=n instanceof Js?kr(n):new Js(n);if(""!=o.g)e&&(o.g=e+"."+o.g),fs(o,o.m);else{var h=fe.location;o=h.protocol,e=e?e+"."+h.hostname:h.hostname,h=+h.port;var m=new Js(null);o&&Do(m,o),e&&(m.g=e),h&&fs(m,h),n&&(m.l=n),o=m}return e=i.Da,(n=i.F)&&e&&hr(o,n,e),hr(o,"VER",i.ra),Xr(i,o),o}function zs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(n&&i.Ha&&!i.va?new Kr({ob:!0}):i.va)).Oa(i.J),e}function Dc(){}function Ta(){if(vi&&!(10<=Number(Xn)))throw Error("Environmental error: no available transport.")}function as(i,e){Pr.call(this),this.g=new Tc(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!an(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!an(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ai(this)}function wl(i){ca.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function na(){Hr.call(this),this.status=1}function Ai(i){this.g=i}function ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ho(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var h=0;16>h;++h)o[h]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(h=0;16>h;++h)o[h]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var m=i.g[3],b=(e=i.g[0])+(m^(n=i.g[1])&((h=i.g[2])^m))+o[0]+3614090360&4294967295;b=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=(n=(h=(m=(e=n+(b<<7&4294967295|b>>>25))+((b=m+(h^e&(n^h))+o[1]+3905402710&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^m&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(m^e))+o[3]+3250441966&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(h^m))+o[4]+4118548399&4294967295)<<7&4294967295|b>>>25))+((b=m+(h^e&(n^h))+o[5]+1200080426&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^m&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(m^e))+o[7]+4249261313&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(h^m))+o[8]+1770035416&4294967295)<<7&4294967295|b>>>25))+((b=m+(h^e&(n^h))+o[9]+2336552879&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^m&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(m^e))+o[11]+2304563134&4294967295)<<22&4294967295|b>>>10))+((b=e+(m^n&(h^m))+o[12]+1804603682&4294967295)<<7&4294967295|b>>>25))+((b=m+(h^e&(n^h))+o[13]+4254626195&4294967295)<<12&4294967295|b>>>20))+((b=h+(n^m&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|b>>>15))+((b=n+(e^h&(m^e))+o[15]+1236535329&4294967295)<<22&4294967295|b>>>10))+((b=e+(h^m&(n^h))+o[1]+4129170786&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^h&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(m^e))+o[11]+643717713&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(h^m))+o[0]+3921069994&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^m&(n^h))+o[5]+3593408605&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^h&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(m^e))+o[15]+3634488961&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(h^m))+o[4]+3889429448&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^m&(n^h))+o[9]+568446438&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^h&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(m^e))+o[3]+4107603335&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(h^m))+o[8]+1163531501&4294967295)<<20&4294967295|b>>>12))+((b=e+(h^m&(n^h))+o[13]+2850285829&4294967295)<<5&4294967295|b>>>27))+((b=m+(n^h&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|b>>>23))+((b=h+(e^n&(m^e))+o[7]+1735328473&4294967295)<<14&4294967295|b>>>18))+((b=n+(m^e&(h^m))+o[12]+2368359562&4294967295)<<20&4294967295|b>>>12))+((b=e+(n^h^m)+o[5]+4294588738&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^h)+o[8]+2272392833&4294967295)<<11&4294967295|b>>>21))+((b=h+(m^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^m^e)+o[14]+4259657740&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^m)+o[1]+2763975236&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^h)+o[4]+1272893353&4294967295)<<11&4294967295|b>>>21))+((b=h+(m^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^m^e)+o[10]+3200236656&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^m)+o[13]+681279174&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^h)+o[0]+3936430074&4294967295)<<11&4294967295|b>>>21))+((b=h+(m^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^m^e)+o[6]+76029189&4294967295)<<23&4294967295|b>>>9))+((b=e+(n^h^m)+o[9]+3654602809&4294967295)<<4&4294967295|b>>>28))+((b=m+(e^n^h)+o[12]+3873151461&4294967295)<<11&4294967295|b>>>21))+((b=h+(m^e^n)+o[15]+530742520&4294967295)<<16&4294967295|b>>>16))+((b=n+(h^m^e)+o[2]+3299628645&4294967295)<<23&4294967295|b>>>9))+((b=e+(h^(n|~m))+o[0]+4096336452&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~h))+o[7]+1126891415&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(m|~n))+o[14]+2878612391&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(h|~e))+o[5]+4237533241&4294967295)<<21&4294967295|b>>>11))+((b=e+(h^(n|~m))+o[12]+1700485571&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~h))+o[3]+2399980690&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(m|~n))+o[10]+4293915773&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(h|~e))+o[1]+2240044497&4294967295)<<21&4294967295|b>>>11))+((b=e+(h^(n|~m))+o[8]+1873313359&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~h))+o[15]+4264355552&4294967295)<<10&4294967295|b>>>22))+((b=h+(e^(m|~n))+o[6]+2734768916&4294967295)<<15&4294967295|b>>>17))+((b=n+(m^(h|~e))+o[13]+1309151649&4294967295)<<21&4294967295|b>>>11))+((m=(e=n+((b=e+(h^(n|~m))+o[4]+4149444226&4294967295)<<6&4294967295|b>>>26))+((b=m+(n^(e|~h))+o[11]+3174756917&4294967295)<<10&4294967295|b>>>22))^((h=m+((b=h+(e^(m|~n))+o[2]+718787259&4294967295)<<15&4294967295|b>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(h+(b<<21&4294967295|b>>>11))&4294967295,i.g[2]=i.g[2]+h&4294967295,i.g[3]=i.g[3]+m&4294967295}function lr(i,e){this.h=e;for(var n=[],o=!0,h=i.length-1;0<=h;h--){var m=0|i[h];o&&m==e||(n[h]=m,o=!1)}this.g=n}(Te=rr.prototype).Oa=function(i){this.M=i},Te.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Le.g(),this.C=function Pi(i){return i.h||(i.h=i.i())}(this.u?this.u:Le),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(m){return void lo(this,m)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var h in o)n.set(h,o[h]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())n.set(m,o.get(m))}o=Array.from(n.keys()).find(m=>"content-type"==m.toLowerCase()),h=fe.FormData&&i instanceof fe.FormData,!(0<=ke(Ns,e))||o||h||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,b]of n)this.g.setRequestHeader(m,b);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rc(this),0<this.B&&((this.L=function os(i){return vi&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=xt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){lo(this,m)}},Te.ua=function(){typeof je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},Te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ur(this,"complete"),ur(this,"abort"),Fa(this))},Te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fa(this,!0)),rr.$.N.call(this)},Te.La=function(){this.s||(this.G||this.v||this.l?Na(this):this.kb())},Te.kb=function(){Na(this)},Te.isActive=function(){return!!this.g},Te.da=function(){try{return 2<Hs(this)?this.g.status:-1}catch{return-1}},Te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Te.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ps(e)}},Te.Ia=function(){return this.m},Te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=Tc.prototype).ra=8,Te.H=1,Te.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const h=new Ye(this,this.l,i);let m=this.s;if(this.U&&(m?(m=Oi(m),yi(m,this.U)):m=this.U),null!==this.o||this.O||(h.I=m,m=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ol(this,h,e),hr(n=kr(this.I),"RID",i),hr(n,"CVER",22),this.F&&hr(n,"X-HTTP-Session-Id",this.F),Xr(this,n),m&&(this.O?e="headers="+encodeURIComponent(String(ic(m)))+"&"+e:this.o&&sl(n,this.o,m)),ka(this.i,h),this.bb&&hr(n,"TYPE","init"),this.P?(hr(n,"$req",e),hr(n,"SID","null"),h.aa=!0,Un(h,n,null)):Un(h,n,e),this.H=2}}else 3==this.H&&(i?El(this,i):0==this.j.length||to(this.i)||El(this))},Te.Ma=function(){if(this.u=null,jo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=qs(pt(this.jb,this),i)}},Te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),So(this),jo(this))},Te.ib=function(){null!=this.v&&(this.v=null,So(this),jl(this),Ar(19))},Te.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))},Te.isActive=function(){return!!this.h&&this.h.isActive(this)},(Te=Dc.prototype).Ba=function(){},Te.Aa=function(){},Te.za=function(){},Te.ya=function(){},Te.isActive=function(){return!0},Te.Va=function(){},Ta.prototype.g=function(i,e){return new as(i,e)},Yt(as,Pr),as.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Ar(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=ui(i,null,i.Y),Bl(i)},as.prototype.close=function(){sc(this.g)},as.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=xi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Bl(e)},as.prototype.N=function(){this.g.h=null,delete this.j,sc(this.g),delete this.g,as.$.N.call(this)},Yt(wl,ca),Yt(na,Hr),Yt(Ai,Dc),Ai.prototype.Ba=function(){ur(this.g,"a")},Ai.prototype.Aa=function(i){ur(this.g,new wl(i))},Ai.prototype.za=function(i){ur(this.g,new na)},Ai.prototype.ya=function(){ur(this.g,"b")},Yt(ki,function Ao(){this.blockSize=-1}),ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ki.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,h=this.h,m=0;m<e;){if(0==h)for(;m<=n;)ho(this,i,m),m+=this.blockSize;if("string"==typeof i){for(;m<e;)if(o[h++]=i.charCodeAt(m++),h==this.blockSize){ho(this,o),h=0;break}}else for(;m<e;)if(o[h++]=i[m++],h==this.blockSize){ho(this,o),h=0;break}}this.h=h,this.i+=e},ki.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var al={};function Va(i){return-128<=i&&128>i?function Ci(i,e){var n=al;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new lr([0|e],0>e?-1:0)}):new lr([0|i],0>i?-1:0)}function zi(i){if(isNaN(i)||!isFinite(i))return Da;if(0>i)return mi(zi(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ll;return new lr(e,0)}var ll=4294967296,Da=Va(0),$s=Va(1),es=Va(16777216);function zo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Mo(i){return-1==i.h}function mi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new lr(n,~i.h).add($s)}function Ua(i,e){return i.add(mi(e))}function Ba(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Il(i,e){this.g=i,this.h=e}function ls(i,e){if(zo(e))throw Error("division by zero");if(zo(i))return new Il(Da,Da);if(Mo(i))return e=ls(mi(i),e),new Il(mi(e.g),mi(e.h));if(Mo(e))return e=ls(i,mi(e)),new Il(mi(e.g),e.h);if(30<i.g.length){if(Mo(i)||Mo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$s,o=e;0>=o.X(i);)n=ja(n),o=ja(o);var h=Ro(n,1),m=Ro(o,1);for(o=Ro(o,2),n=Ro(n,2);!zo(o);){var b=m.add(o);0>=b.X(i)&&(h=h.add(n),m=b),o=Ro(o,1),n=Ro(n,1)}return e=Ua(i,h.R(e)),new Il(h,e)}for(h=Da;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),b=(m=zi(n)).R(e);Mo(b)||0<b.X(i);)b=(m=zi(n-=o)).R(e);zo(m)&&(m=$s),h=h.add(m),i=Ua(i,b)}return new Il(h,i)}function ja(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new lr(n,i.h)}function Ro(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,h=[],m=0;m<o;m++)h[m]=0<e?i.D(m+n)>>>e|i.D(m+n+1)<<32-e:i.D(m+n);return new lr(h,i.h)}(Te=lr.prototype).ea=function(){if(Mo(this))return-mi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ll+o)*e,e*=ll}return i},Te.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(zo(this))return"0";if(Mo(this))return"-"+mi(this).toString(i);for(var e=zi(Math.pow(i,6)),n=this,o="";;){var h=ls(n,e).g,m=((0<(n=Ua(n,h.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(zo(n=h))return m+o;for(;6>m.length;)m="0"+m;o=m+o}},Te.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Te.X=function(i){return Mo(i=Ua(this,i))?-1:zo(i)?0:1},Te.abs=function(){return Mo(this)?mi(this):this},Te.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,h=0;h<=e;h++){var m=o+(65535&this.D(h))+(65535&i.D(h)),b=(m>>>16)+(this.D(h)>>>16)+(i.D(h)>>>16);o=b>>>16,n[h]=(b&=65535)<<16|(m&=65535)}return new lr(n,-2147483648&n[n.length-1]?-1:0)},Te.R=function(i){if(zo(this)||zo(i))return Da;if(Mo(this))return Mo(i)?mi(this).R(mi(i)):mi(mi(this).R(i));if(Mo(i))return mi(this.R(mi(i)));if(0>this.X(es)&&0>i.X(es))return zi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var h=0;h<i.g.length;h++){var m=this.D(o)>>>16,b=65535&this.D(o),O=i.D(h)>>>16,U=65535&i.D(h);n[2*o+2*h]+=b*U,Ba(n,2*o+2*h),n[2*o+2*h+1]+=m*U,Ba(n,2*o+2*h+1),n[2*o+2*h+1]+=b*O,Ba(n,2*o+2*h+1),n[2*o+2*h+2]+=m*O,Ba(n,2*o+2*h+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new lr(n,0)},Te.gb=function(i){return ls(this,i).h},Te.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new lr(n,this.h&i.h)},Te.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new lr(n,this.h|i.h)},Te.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new lr(n,this.h^i.h)},Ta.prototype.createWebChannel=Ta.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Kt.COMPLETE="complete",Qo.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,rr.prototype.listenOnce=rr.prototype.P,rr.prototype.getLastError=rr.prototype.Sa,rr.prototype.getLastErrorCode=rr.prototype.Ia,rr.prototype.getStatus=rr.prototype.da,rr.prototype.getResponseJson=rr.prototype.Wa,rr.prototype.getResponseText=rr.prototype.ja,rr.prototype.send=rr.prototype.ha,rr.prototype.setWithCredentials=rr.prototype.Oa,ki.prototype.digest=ki.prototype.l,ki.prototype.reset=ki.prototype.reset,ki.prototype.update=ki.prototype.j,lr.prototype.add=lr.prototype.add,lr.prototype.multiply=lr.prototype.R,lr.prototype.modulo=lr.prototype.gb,lr.prototype.compare=lr.prototype.X,lr.prototype.toNumber=lr.prototype.ea,lr.prototype.toString=lr.prototype.toString,lr.prototype.getBits=lr.prototype.D,lr.fromNumber=zi,lr.fromString=function oc(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return mi(oc(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),o=Da,h=0;h<i.length;h+=8){var m=Math.min(8,i.length-h),b=parseInt(i.substring(h,h+m),e);8>m?(m=zi(Math.pow(e,m)),o=o.R(m).add(zi(b))):o=(o=o.R(n)).add(zi(b))}return o};var $r,pr,Mi,di,_s,ra,ia,$o,Ts,ma,Ri,gi,Sc,ul,fo,Pu,Ac,Hl,sa,Mc,Rc,ku,Cl,Nu,dl,Yd,zl,Oc,md,qn,ac,Fu,Lu,Vu,Pc,$l,Oo,xl,Uu,Bu,tu,gd,Mt,cl=Ae.createWebChannelTransport=function(){return new Ta},M=Ae.getStatEventTarget=function(){return Wr()},q=Ae.ErrorCode=Yo,ye=Ae.EventType=Kt,z=Ae.Event=Vn,me=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Re=Ae.FetchXmlHttpFactory=Kr,ut=Ae.WebChannel=Qo,zt=Ae.XhrIo=rr,ir=Ae.Md5=ki,yr=Ae.Integer=lr;const Lr="@firebase/firestore";class Ds{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ds.UNAUTHENTICATED=new Ds(null),Ds.GOOGLE_CREDENTIALS=new Ds("google-credentials-uid"),Ds.FIRST_PARTY=new Ds("first-party-uid"),Ds.MOCK_USER=new Ds("mock-user");let ga="9.23.0";const ts=new _.Yd("@firebase/firestore");function Ha(){return ts.logLevel}function Ei(i){ts.setLogLevel(i)}function Rt(i,...e){if(ts.logLevel<=_.in.DEBUG){const n=e.map(lc);ts.debug(`Firestore (${ga}): ${i}`,...n)}}function kn(i,...e){if(ts.logLevel<=_.in.ERROR){const n=e.map(lc);ts.error(`Firestore (${ga}): ${i}`,...n)}}function po(i,...e){if(ts.logLevel<=_.in.WARN){const n=e.map(lc);ts.warn(`Firestore (${ga}): ${i}`,...n)}}function lc(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function _n(i="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+i;throw kn(e),new Error(e)}function Mn(i,e){i||_n()}function mo(i,e){i||_n()}function Xt(i,e){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends _e.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class D{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class P{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ds.UNAUTHENTICATED))}shutdown(){}}class k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W{constructor(e){this.t=e,this.currentUser=Ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let h=this.i;const m=J=>this.i!==h?(h=this.i,n(J)):Promise.resolve();let b=new D;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new D,e.enqueueRetryable(()=>m(this.currentUser))};const O=()=>{const J=b;e.enqueueRetryable((0,E.Z)(function*(){yield J.promise,yield m(o.currentUser)}))},U=J=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(J=>U(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?U(J):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new D)}},0),O()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mn("string"==typeof o.accessToken),new P(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new Ds(e)}}class ce{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Ds.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ve{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new ce(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ge{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $t{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=m=>{null!=m.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const b=m.token!==this.T;return this.T=m.token,Rt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const h=m=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>h(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?h(m):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mn("string"==typeof n.token),this.T=n.token,new Ge(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class tr{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const h=Nn(40);for(let m=0;m<h.length;++m)o.length<20&&h[m]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(h[m]%62))}return o}}function gn(i,e){return i<e?-1:i>e?1:0}function Rr(i,e,n){return i.length===e.length&&i.every((o,h)=>n(o,e[h]))}function go(i){return i+"\0"}class ii{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new ii(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class In{constructor(e){this.timestamp=e}static fromTimestamp(e){return new In(e)}static min(){return new In(new ii(0,0))}static max(){return new In(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Po{constructor(e,n,o){void 0===n?n=0:n>e.length&&_n(),void 0===o?o=e.length-n:o>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Po.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let h=0;h<o;h++){const m=e.get(h),b=n.get(h);if(m<b)return-1;if(m>b)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gr extends Po{construct(e,n,o){return new Gr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new wt(rt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(h=>h.length>0))}return new Gr(n)}static emptyPath(){return new Gr([])}}const _o=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends Po{construct(e,n,o){return new wi(e,n,o)}static isValidIdentifier(e){return _o.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const n=[];let o="",h=0;const m=()=>{if(0===o.length)throw new wt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let b=!1;for(;h<e.length;){const O=e[h];if("\\"===O){if(h+1===e.length)throw new wt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[h+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new wt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=U,h+=2}else"`"===O?(b=!b,h++):"."!==O||b?(o+=O,h++):(m(),h++)}if(m(),b)throw new wt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(n)}static emptyPath(){return new wi([])}}class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(Gr.fromString(e))}static fromName(e){return new Ft(Gr.fromString(e).popFirst(5))}static empty(){return new Ft(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new Gr(e.slice()))}}class nu{constructor(e,n,o,h){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=h}}function _d(i){return i.fields.find(e=>2===e.kind)}function cc(i){return i.fields.filter(e=>2!==e.kind)}nu.UNKNOWN_ID=-1;class oa{constructor(e,n){this.fieldPath=e,this.kind=n}}class Tl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tl(0,$i.min())}}function _a(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,h=In.fromTimestamp(1e9===o?new ii(n+1,0):new ii(n,o));return new $i(h,Ft.empty(),e)}function vd(i){return new $i(i.readTime,i.key,-1)}class $i{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new $i(In.min(),Ft.empty(),-1)}static max(){return new $i(In.max(),Ft.empty(),-1)}}function vo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ft.comparator(i.documentKey,e.documentKey),0!==n?n:gn(i.largestBatchId,e.largestBatchId))}const Gl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class za{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fs(i){return($r=$r||(0,E.Z)(function*(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==Gl)throw e;Rt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new et((o,h)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,h)},this.catchCallback=m=>{this.wrapFailure(n,m).next(o,h)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):et.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):et.reject(n)}static resolve(e){return new et((n,o)=>{n(e)})}static reject(e){return new et((n,o)=>{o(e)})}static waitFor(e){return new et((n,o)=>{let h=0,m=0,b=!1;e.forEach(O=>{++h,O.next(()=>{++m,b&&m===h&&n()},U=>o(U))}),b=!0,m===h&&n()})}static or(e){let n=et.resolve(!1);for(const o of e)n=n.next(h=>h?et.resolve(h):o());return n}static forEach(e,n){const o=[];return e.forEach((h,m)=>{o.push(n.call(this,h,m))}),this.waitFor(o)}static mapArray(e,n){return new et((o,h)=>{const m=e.length,b=new Array(m);let O=0;for(let U=0;U<m;U++){const J=U;n(e[J]).next(ue=>{b[J]=ue,++O,O===m&&o(b)},ue=>h(ue))}})}static doWhile(e,n){return new et((o,h)=>{const m=()=>{!0===e()?n().next(()=>{m()},h):o()};m()})}}class ru{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new D,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Sa(e,n.error)):this.v.resolve()},this.transaction.onerror=o=>{const h=dc(o.target.error);this.v.reject(new Sa(e,h))}}static open(e,n,o,h){try{return new ru(n,e.transaction(h,o))}catch(m){throw new Sa(n,m)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Qd(n)}}class Gi{constructor(e,n,o){this.name=e,this.version=n,this.V=o,12.2===Gi.S((0,_e.z$)())&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Rt("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(Gi.C())return!0;const e=(0,_e.z$)(),n=Gi.S(e),o=0<n&&n<10,h=Gi.N(e),m=0<h&&h<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var n=this;return(0,E.Z)(function*(){return n.db||(Rt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,h)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=b=>{o(b.target.result)},m.onblocked=()=>{h(new Sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=b=>{const O=b.target.error;h("VersionError"===O.name?new wt(rt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new wt(rt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new Sa(e,O))},m.onupgradeneeded=b=>{Rt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',b.oldVersion),n.V.O(b.target.result,m.transaction,b.oldVersion,n.version).next(()=>{Rt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=o=>n.F(o)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,h){var m=this;return(0,E.Z)(function*(){const b="readonly"===n;let O=0;for(;;){++O;try{m.db=yield m.$(e);const U=ru.open(m.db,e,b?"readonly":"readwrite",o),J=h(U).next(ue=>(U.P(),ue)).catch(ue=>(U.abort(ue),et.reject(ue))).toPromise();return J.catch(()=>{}),yield U.R,J}catch(U){const J=U,ue="FirebaseError"!==J.name&&O<3;if(Rt("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ue),m.close(),!ue)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wi{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return kc(this.L.delete())}}class Sa extends wt{constructor(e,n){super(rt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wl(i){return"IndexedDbTransactionError"===i.name}class Qd{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Rt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),kc(o)}add(e){return Rt("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}get(e){return kc(this.store.get(e)).next(n=>(void 0===n&&(n=null),Rt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Rt("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}count(){return Rt("SimpleDb","COUNT",this.store.name),kc(this.store.count())}j(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const h=this.cursor(o),m=[];return this.W(h,(b,O)=>{m.push(O)}).next(()=>m)}{const h=this.store.getAll(o.range);return new et((m,b)=>{h.onerror=O=>{b(O.target.error)},h.onsuccess=O=>{m(O.target.result)}})}}H(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new et((h,m)=>{o.onerror=b=>{m(b.target.error)},o.onsuccess=b=>{h(b.target.result)}})}J(e,n){Rt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.Y=!1;const h=this.cursor(o);return this.W(h,(m,b,O)=>O.delete())}X(e,n){let o;n?o=e:(o={},n=e);const h=this.cursor(o);return this.W(h,n)}Z(e){const n=this.cursor({});return new et((o,h)=>{n.onerror=m=>{const b=dc(m.target.error);h(b)},n.onsuccess=m=>{const b=m.target.result;b?e(b.primaryKey,b.value).next(O=>{O?b.continue():o()}):o()}})}W(e,n){const o=[];return new et((h,m)=>{e.onerror=b=>{m(b.target.error)},e.onsuccess=b=>{const O=b.target.result;if(!O)return void h();const U=new Wi(O),J=n(O.primaryKey,O.value,U);if(J instanceof et){const ue=J.catch(be=>(U.done(),et.reject(be)));o.push(ue)}U.isDone?h():null===U.K?O.continue():O.continue(U.K)}}).next(()=>et.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kc(i){return new et((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const h=dc(o.target.error);n(h)}})}let ju=!1;function dc(i){const e=Gi.S((0,_e.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ju||(ju=!0,setTimeout(()=>{throw o},0)),o}}return i}class Lh{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Rt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.Z)(function*(){n.task=null;try{Rt("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(o){Wl(o)?Rt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Fs(o)}yield n.et(6e4)}))}}class $p{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,E.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.st(o,e))})()}st(e,n){const o=new Set;let h=n,m=!0;return et.doWhile(()=>!0===m&&h>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Rt("IndexBackiller",`Processing collection: ${b}`),this.it(e,b,h).next(O=>{h-=O,o.add(b)});m=!1})).next(()=>n-h)}it(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(h=>this.localStore.localDocuments.getNextDocuments(e,n,h,o).next(m=>{const b=m.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.rt(h,m)).next(O=>(Rt("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,n,O))).next(()=>b.size)}))}rt(e,n){let o=e;return n.changes.forEach((h,m)=>{const b=vd(m);vo(b,o)>0&&(o=b)}),new $i(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ns=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=h=>this.ot(h),this.ut=h=>o.writeSequenceNumber(h))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Aa(i){return null==i}function $a(i){return 0===i&&1/i==-1/0}function va(i){return"number"==typeof i&&Number.isInteger(i)&&!$a(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ks(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vh(e)),e=hc(i.get(n),e);return Vh(e)}function hc(i,e){let n=e;const o=i.length;for(let h=0;h<o;h++){const m=i.charAt(h);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function Vh(i){return i+"\x01\x01"}function aa(i){const e=i.length;if(Mn(e>=2),2===e)return Mn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Gr.emptyPath();const n=e-2,o=[];let h="";for(let m=0;m<e;){const b=i.indexOf("\x01",m);switch((b<0||b>n)&&_n(),i.charAt(b+1)){case"\x01":const O=i.substring(m,b);let U;0===h.length?U=O:(h+=O,U=h,h=""),o.push(U);break;case"\x10":h+=i.substring(m,b),h+="\0";break;case"\x11":h+=i.substring(m,b+1);break;default:_n()}m=b+2}return new Gr(o)}const Hu=["userId","batchId"];function iu(i,e){return[i,Ks(e)]}function ko(i,e,n){return[i,Ks(e),n]}const Uh={},Dl=["prefixPath","collectionGroup","readTime","documentId"],Nc=["prefixPath","collectionGroup","documentId"],Xd=["collectionGroup","readTime","prefixPath","documentId"],Sl=["canonicalId","targetId"],zu=["targetId","path"],Fc=["path","targetId"],Lc=["collectionId","parent"],su=["indexId","uid"],$u=["uid","sequenceNumber"],ou=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kf=["indexId","uid","orderedDocumentKey"],yd=["userId","collectionPath","documentId"],Vc=["userId","collectionPath","largestBatchId"],Bh=["userId","collectionGroup","largestBatchId"],Jd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ql=[...Jd,"documentOverlays"],Al=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bd=Al,yo=[...bd,"indexConfiguration","indexState","indexEntries"];class Ga extends za{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function cs(i,e){const n=Xt(i);return Gi.M(n.ht,e)}function Ma(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fc(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function eh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ii{constructor(e,n){this.comparator=e,this.root=n||Ss.EMPTY}insert(e,n){return new Ii(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const h=this.comparator(e,o.key);if(0===h)return n+o.left.size;h<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ml(this.root,e,this.comparator,!0)}}class Ml{constructor(e,n,o,h){this.isReverse=h,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?o(e.key,n):1,n&&h&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,n,o,h,m){this.key=e,this.value=n,this.color=o??Ss.RED,this.left=h??Ss.EMPTY,this.right=m??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,h,m){return new Ss(e??this.key,n??this.value,o??this.color,h??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let h=this;const m=o(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,n,o),null):0===m?h.copy(null,n,null,null,null):h.copy(null,null,null,null,h.right.insert(e,n,o)),h.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,h=this;if(n(e,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(e,n),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===n(e,h.key)){if(h.right.isEmpty())return Ss.EMPTY;o=h.right.min(),h=h.copy(o.key,o.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(e,n))}return h.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(i,e,n,o,h){return this}insert(i,e,n){return new Ss(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const h=o.getNext();if(this.comparator(h.key,e[1])>=0)return;n(h.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B(this.data.getIterator())}getIteratorFrom(e){return new B(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const h=n.getNext().key,m=o.getNext().key;if(0!==this.comparator(h,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _i(this.comparator);return n.data=e,n}}class B{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $(i){return i.hasNext()?i.getNext():void 0}class ee{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new ee([])}unionWith(e){let n=new _i(wi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ee(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ge extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function De(){return typeof atob<"u"}class He{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ge("Invalid base64 string: "+h):h}}(e);return new He(n)}static fromUint8Array(e){const n=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new He(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const at=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bt(i){if(Mn(!!i),"string"==typeof i){let e=0;const n=at.exec(i);if(Mn(!!n),n[1]){let h=n[1];h=(h+"000000000").substr(0,9),e=Number(h)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function rn(i){return"string"==typeof i?He.fromBase64String(i):He.fromUint8Array(i)}function yn(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fn(i){const e=i.mapValue.fields.__previous_value__;return yn(e)?fn(e):e}function Ir(i){const e=bt(i.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}class vs{constructor(e,n,o,h,m,b,O,U,J){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=h,this.ssl=m,this.forceLongPolling=b,this.autoDetectLongPolling=O,this.longPollingOptions=U,this.useFetchStreams=J}}class er{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new er("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof er&&e.projectId===this.projectId&&e.database===this.database}}const ys={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},us={nullValue:"NULL_VALUE"};function Kn(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yn(i)?4:Ed(i)?9007199254740991:10:_n()}function ei(i,e){if(i===e)return!0;const n=Kn(i);if(n!==Kn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ir(i).isEqual(Ir(e));case 3:return function(o,h){if("string"==typeof o.timestampValue&&"string"==typeof h.timestampValue&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=bt(o.timestampValue),b=bt(h.timestampValue);return m.seconds===b.seconds&&m.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return h=e,rn(i.bytesValue).isEqual(rn(h.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,h){return Tt(o.geoPointValue.latitude)===Tt(h.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(h.geoPointValue.longitude)}(i,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return Tt(o.integerValue)===Tt(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=Tt(o.doubleValue),b=Tt(h.doubleValue);return m===b?$a(m)===$a(b):isNaN(m)&&isNaN(b)}return!1}(i,e);case 9:return Rr(i.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(o,h){const m=o.mapValue.fields||{},b=h.mapValue.fields||{};if(Ma(m)!==Ma(b))return!1;for(const O in m)if(m.hasOwnProperty(O)&&(void 0===b[O]||!ei(m[O],b[O])))return!1;return!0}(i,e);default:return _n()}var h}function bo(i,e){return void 0!==(i.values||[]).find(n=>ei(n,e))}function Zs(i,e){if(i===e)return 0;const n=Kn(i),o=Kn(e);if(n!==o)return gn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(i.booleanValue,e.booleanValue);case 2:return function(h,m){const b=Tt(h.integerValue||h.doubleValue),O=Tt(m.integerValue||m.doubleValue);return b<O?-1:b>O?1:b===O?0:isNaN(b)?isNaN(O)?0:-1:1}(i,e);case 3:return Uc(i.timestampValue,e.timestampValue);case 4:return Uc(Ir(i),Ir(e));case 5:return gn(i.stringValue,e.stringValue);case 6:return function(h,m){const b=rn(h),O=rn(m);return b.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(h,m){const b=h.split("/"),O=m.split("/");for(let U=0;U<b.length&&U<O.length;U++){const J=gn(b[U],O[U]);if(0!==J)return J}return gn(b.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(h,m){const b=gn(Tt(h.latitude),Tt(m.latitude));return 0!==b?b:gn(Tt(h.longitude),Tt(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(h,m){const b=h.values||[],O=m.values||[];for(let U=0;U<b.length&&U<O.length;++U){const J=Zs(b[U],O[U]);if(J)return J}return gn(b.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(h,m){if(h===ys.mapValue&&m===ys.mapValue)return 0;if(h===ys.mapValue)return 1;if(m===ys.mapValue)return-1;const b=h.fields||{},O=Object.keys(b),U=m.fields||{},J=Object.keys(U);O.sort(),J.sort();for(let ue=0;ue<O.length&&ue<J.length;++ue){const be=gn(O[ue],J[ue]);if(0!==be)return be;const ze=Zs(b[O[ue]],U[J[ue]]);if(0!==ze)return ze}return gn(O.length,J.length)}(i.mapValue,e.mapValue);default:throw _n()}}function Uc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gn(i,e);const n=bt(i),o=bt(e),h=gn(n.seconds,o.seconds);return 0!==h?h:gn(n.nanos,o.nanos)}function hl(i){return Bc(i)}function Bc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const h=bt(o);return`time(${h.seconds},${h.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?rn(i.bytesValue).toBase64():"referenceValue"in i?Ft.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let h="[",m=!0;for(const b of o.values||[])m?m=!1:h+=",",h+=Bc(b);return h+"]"}(i.arrayValue):"mapValue"in i?function(o){const h=Object.keys(o.fields||{}).sort();let m="{",b=!0;for(const O of h)b?b=!1:m+=",",m+=`${O}:${Bc(o.fields[O])}`;return m+"}"}(i.mapValue):_n();var e}function Rl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function jh(i){return!!i&&"integerValue"in i}function la(i){return!!i&&"arrayValue"in i}function Gu(i){return!!i&&"nullValue"in i}function au(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hh(i){return!!i&&"mapValue"in i}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fc(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Kl(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ed(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function th(i){return"nullValue"in i?us:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Rl(er.empty(),Ft.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_n()}function j(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Rl(er.empty(),Ft.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ys:_n()}function w(i,e){const n=Zs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function I(i,e){const n=Zs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class R{constructor(e){this.value=e}static empty(){return new R({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=wi.emptyPath(),o={},h=[];e.forEach((b,O)=>{if(!n.isImmediateParentOf(O)){const U=this.getFieldsMap(n);this.applyChanges(U,o,h),o={},h=[],n=O.popLast()}b?o[O.lastSegment()]=Kl(b):h.push(O.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,o,h)}delete(e){const n=this.field(e.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let h=n.mapValue.fields[e.get(o)];Hh(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=h),n=h}return n.mapValue.fields}applyChanges(e,n,o){fc(n,(h,m)=>e[h]=m);for(const h of o)delete e[h]}clone(){return new R(Kl(this.value))}}function ne(i){const e=[];return fc(i.fields,(n,o)=>{const h=new wi([n]);if(Hh(o)){const m=ne(o.mapValue).fields;if(0===m.length)e.push(h);else for(const b of m)e.push(h.child(b))}else e.push(h)}),new ee(e)}class oe{constructor(e,n,o,h,m,b,O){this.key=e,this.documentType=n,this.version=o,this.readTime=h,this.createTime=m,this.data=b,this.documentState=O}static newInvalidDocument(e){return new oe(e,0,In.min(),In.min(),In.min(),R.empty(),0)}static newFoundDocument(e,n,o,h){return new oe(e,1,n,In.min(),o,h,0)}static newNoDocument(e,n){return new oe(e,2,n,In.min(),In.min(),R.empty(),0)}static newUnknownDocument(e,n){return new oe(e,3,n,In.min(),In.min(),R.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(In.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=R.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=R.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=In.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class we{constructor(e,n){this.position=e,this.inclusive=n}}function Pe(i,e,n){let o=0;for(let h=0;h<i.position.length;h++){const m=e[h],b=i.position[h];if(o=m.field.isKeyField()?Ft.comparator(Ft.fromName(b.referenceValue),n.key):Zs(b,n.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function it(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ei(i.position[n],e.position[n]))return!1;return!0}class Ct{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lt(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pn{}class Gt extends Pn{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Id(e,n,o):"array-contains"===n?new Zl(e,o):"in"===n?new Cd(e,o):"not-in"===n?new Gp(e,o):"array-contains-any"===n?new fy(e,o):new Gt(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new $h(e,o):new nh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Zs(n,this.value)):null!==n&&Kn(this.value)===Kn(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends Pn{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Sn(e,n)}matches(e){return rs(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function rs(i){return"and"===i.op}function Wa(i){return"or"===i.op}function qi(i){return Eo(i)&&rs(i)}function Eo(i){for(const e of i.filters)if(e instanceof Sn)return!1;return!0}function io(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+hl(i.value);if(qi(i))return i.filters.map(e=>io(e)).join(",");{const e=i.filters.map(n=>io(n)).join(",");return`${i.op}(${e})`}}function wd(i,e){return i instanceof Gt?(n=i,(o=e)instanceof Gt&&n.op===o.op&&n.field.isEqual(o.field)&&ei(n.value,o.value)):i instanceof Sn?function(n,o){return o instanceof Sn&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((h,m,b)=>h&&wd(m,o.filters[b]),!0)}(i,e):void _n();var n,o}function zh(i,e){const n=i.filters.concat(e);return Sn.create(n,i.op)}function Wu(i){return i instanceof Gt?`${(e=i).field.canonicalString()} ${e.op} ${hl(e.value)}`:i instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(Wu).join(" ,")+"}"}(i):"Filter";var e}class Id extends Gt{constructor(e,n,o){super(e,n,o),this.key=Ft.fromName(o.referenceValue)}matches(e){const n=Ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class $h extends Gt{constructor(e,n){super(e,"in",n),this.keys=Go(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nh extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=Go(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Go(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Ft.fromName(o.referenceValue))}class Zl extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return la(n)&&bo(n.arrayValue,this.value)}}class Cd extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bo(this.value.arrayValue,n)}}class Gp extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bo(this.value.arrayValue,n)}}class fy extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!la(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>bo(this.value.arrayValue,o))}}class fg{constructor(e,n=null,o=[],h=[],m=null,b=null,O=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=h,this.limit=m,this.startAt=b,this.endAt=O,this.dt=null}}function Wp(i,e=null,n=[],o=[],h=null,m=null,b=null){return new fg(i,e,n,o,h,m,b)}function lu(i){const e=Xt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>io(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),Aa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>hl(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>hl(o)).join(",")),e.dt=n}return e.dt}function Gh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Lt(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!wd(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!it(i.startAt,e.startAt)&&it(i.endAt,e.endAt)}function Wh(i){return Ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function qh(i,e){return i.filters.filter(n=>n instanceof Gt&&n.field.isEqual(e))}function Kh(i,e,n){let o=us,h=!0;for(const m of qh(i,e)){let b=us,O=!0;switch(m.op){case"<":case"<=":b=th(m.value);break;case"==":case"in":case">=":b=m.value;break;case">":b=m.value,O=!1;break;case"!=":case"not-in":b=us}w({value:o,inclusive:h},{value:b,inclusive:O})<0&&(o=b,h=O)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=n.position[m];w({value:o,inclusive:h},{value:b,inclusive:n.inclusive})<0&&(o=b,h=n.inclusive);break}return{value:o,inclusive:h}}function qp(i,e,n){let o=ys,h=!0;for(const m of qh(i,e)){let b=ys,O=!0;switch(m.op){case">=":case">":b=j(m.value),O=!1;break;case"==":case"in":case"<=":b=m.value;break;case"<":b=m.value,O=!1;break;case"!=":case"not-in":b=ys}I({value:o,inclusive:h},{value:b,inclusive:O})>0&&(o=b,h=O)}if(null!==n)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const b=n.position[m];I({value:o,inclusive:h},{value:b,inclusive:n.inclusive})>0&&(o=b,h=n.inclusive);break}return{value:o,inclusive:h}}class Hc{constructor(e,n=null,o=[],h=[],m=null,b="F",O=null,U=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=h,this.limit=m,this.limitType=b,this.startAt=O,this.endAt=U,this.wt=null,this._t=null}}function Kp(i,e,n,o,h,m,b,O){return new Hc(i,e,n,o,h,m,b,O)}function zc(i){return new Hc(i)}function Zp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Yp(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Zh(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Yh(i){return null!==i.collectionGroup}function pc(i){const e=Xt(i);if(null===e.wt){e.wt=[];const n=Zh(e),o=Yp(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new Ct(n)),e.wt.push(new Ct(wi.keyField(),"asc"));else{let h=!1;for(const m of e.explicitOrderBy)e.wt.push(m),m.field.isKeyField()&&(h=!0);if(!h){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ct(wi.keyField(),m))}}}return e.wt}function Wo(i){const e=Xt(i);if(!e._t)if("F"===e.limitType)e._t=Wp(e.path,e.collectionGroup,pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const m of pc(e))n.push(new Ct(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new we(e.endAt.position,e.endAt.inclusive):null,h=e.startAt?new we(e.startAt.position,e.startAt.inclusive):null;e._t=Wp(e.path,e.collectionGroup,n,e.filters,e.limit,o,h)}return e._t}function xd(i,e){e.getFirstInequalityField(),Zh(i);const n=i.filters.concat([e]);return new Hc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Td(i,e,n){return new Hc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ht(i,e){return Gh(Wo(i),Wo(e))&&i.limitType===e.limitType}function qu(i){return`${lu(Wo(i))}|lt:${i.limitType}`}function cu(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>Wu(o)).join(", ")}]`),Aa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(h=o).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>hl(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>hl(o)).join(",")),`Target(${n})`}(Wo(i))}; limitType=${i.limitType})`}function $c(i,e){return e.isFoundDocument()&&function(n,o){const h=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(h):Ft.isDocumentKey(n.path)?n.path.isEqual(h):n.path.isImmediateParentOf(h)}(i,e)&&function(n,o){for(const h of pc(n))if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1;return!0}(i,e)&&function(n,o){for(const h of n.filters)if(!h.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(h,m,b){const O=Pe(h,m,b);return h.inclusive?O<=0:O<0}(n.startAt,pc(n),o)||n.endAt&&!function(h,m,b){const O=Pe(h,m,b);return h.inclusive?O>=0:O>0}(n.endAt,pc(n),o)));var n,o}function Qh(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Dd(i){return(e,n)=>{let o=!1;for(const h of pc(i)){const m=Ku(h,e,n);if(0!==m)return m;o=o||h.field.isKeyField()}return 0}}function Ku(i,e,n){const o=i.field.isKeyField()?Ft.comparator(e.key,n.key):function(h,m,b){const O=m.data.field(h),U=b.data.field(h);return null!==O&&null!==U?Zs(O,U):_n()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return _n()}}class fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[h,m]of o)if(this.equalsFn(h,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),h=this.inner[o];if(void 0===h)return this.inner[o]=[[e,n]],void this.innerSize++;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],e))return void(h[m]=[e,n]);h.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return 1===o.length?delete this.inner[n]:o.splice(h,1),this.innerSize--,!0;return!1}forEach(e){fc(this.inner,(n,o)=>{for(const[h,m]of o)e(h,m)})}isEmpty(){return eh(this.inner)}size(){return this.innerSize}}const x_=new Ii(Ft.comparator);function pl(){return x_}const Qp=new Ii(Ft.comparator);function uu(...i){let e=Qp;for(const n of i)e=e.insert(n.key,n);return e}function Zf(i){let e=Qp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function mc(){return gc()}function Xp(){return gc()}function gc(){return new fl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ol=new Ii(Ft.comparator),qa=new _i(Ft.comparator);function Nr(...i){let e=qa;for(const n of i)e=e.add(n);return e}const Ka=new _i(gn);function du(){return Ka}function hu(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function No(i){return{integerValue:""+i}}function Fo(i,e){return va(e)?No(e):hu(i,e)}class Pl{constructor(){this._=void 0}}function fu(i,e,n){return i instanceof Za?function(o,h){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&yn(h)&&(h=fn(h)),h&&(m.fields.__previous_value__=h),{mapValue:m}}(n,e):i instanceof pu?Jh(i,e):i instanceof Zu?ef(i,e):function(o,h){const m=Xh(o,h),b=pg(m)+pg(o.gt);return jh(m)&&jh(o.gt)?No(b):hu(o.serializer,b)}(i,e)}function Yl(i,e,n){return i instanceof pu?Jh(i,e):i instanceof Zu?ef(i,e):n}function Xh(i,e){return i instanceof Sd?jh(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Za extends Pl{}class pu extends Pl{constructor(e){super(),this.elements=e}}function Jh(i,e){const n=rh(e);for(const o of i.elements)n.some(h=>ei(h,o))||n.push(o);return{arrayValue:{values:n}}}class Zu extends Pl{constructor(e){super(),this.elements=e}}function ef(i,e){let n=rh(e);for(const o of i.elements)n=n.filter(h=>!ei(h,o));return{arrayValue:{values:n}}}class Sd extends Pl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function pg(i){return Tt(i.integerValue||i.doubleValue)}function rh(i){return la(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _c{constructor(e,n){this.field=e,this.transform=n}}class tf{constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ad{}function nf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new sh(i.key,As.none()):new mu(i.key,i.data,As.none());{const n=i.data,o=R.empty();let h=new _i(wi.comparator);for(let m of e.fields)if(!h.has(m)){let b=n.field(m);null===b&&m.length>1&&(m=m.popLast(),b=n.field(m)),null===b?o.delete(m):o.set(m,b),h=h.add(m)}return new Ya(i.key,o,new ee(h.toArray()),As.none())}}function ih(i,e,n){i instanceof mu?function(o,h,m){const b=o.value.clone(),O=tm(o.fieldTransforms,h,m.transformResults);b.setAll(O),h.convertToFoundDocument(m.version,b).setHasCommittedMutations()}(i,e,n):i instanceof Ya?function(o,h,m){if(!Yf(o.precondition,h))return void h.convertToUnknownDocument(m.version);const b=tm(o.fieldTransforms,h,m.transformResults),O=h.data;O.setAll(em(o)),O.setAll(b),h.convertToFoundDocument(m.version,O).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vc(i,e,n,o){return i instanceof mu?function(h,m,b,O){if(!Yf(h.precondition,m))return b;const U=h.value.clone(),J=T_(h.fieldTransforms,O,m);return U.setAll(J),m.convertToFoundDocument(m.version,U).setHasLocalMutations(),null}(i,e,n,o):i instanceof Ya?function(h,m,b,O){if(!Yf(h.precondition,m))return b;const U=T_(h.fieldTransforms,O,m),J=m.data;return J.setAll(em(h)),J.setAll(U),m.convertToFoundDocument(m.version,J).setHasLocalMutations(),null===b?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ue=>ue.field))}(i,e,n,o):(b=n,Yf(i.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):b);var m,b}function Qf(i,e){let n=null;for(const o of i.fieldTransforms){const h=e.data.field(o.field),m=Xh(o.transform,h||null);null!=m&&(null===n&&(n=R.empty()),n.set(o.field,m))}return n||null}function Xf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Rr(n,o,(h,m)=>function Jp(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof pu&&o instanceof pu||n instanceof Zu&&o instanceof Zu?Rr(n.elements,o.elements,ei):n instanceof Sd&&o instanceof Sd?ei(n.gt,o.gt):n instanceof Za&&o instanceof Za);var n,o}(h,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class mu extends Ad{constructor(e,n,o,h=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=h,this.type=0}getFieldMask(){return null}}class Ya extends Ad{constructor(e,n,o,h,m=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=h,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function em(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function tm(i,e,n){const o=new Map;Mn(i.length===n.length);for(let h=0;h<n.length;h++){const m=i[h],b=m.transform,O=e.data.field(m.field);o.set(m.field,Yl(b,O,n[h]))}return o}function T_(i,e,n){const o=new Map;for(const h of i){const m=h.transform,b=n.data.field(h.field);o.set(h.field,fu(m,b,e))}return o}class sh extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L extends Ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g{constructor(e,n,o,h){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=h}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let h=0;h<this.mutations.length;h++){const m=this.mutations[h];m.key.isEqual(e.key)&&ih(m,e,o[h])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=vc(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=vc(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Xp();return this.mutations.forEach(h=>{const m=e.get(h.key),b=m.overlayedDocument;let O=this.applyToLocalView(b,m.mutatedFields);O=n.has(h.key)?null:O;const U=nf(b,O);null!==U&&o.set(h.key,U),b.isValidDocument()||b.convertToNoDocument(In.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nr())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,(n,o)=>Xf(n,o))&&Rr(this.baseMutations,e.baseMutations,(n,o)=>Xf(n,o))}}class y{constructor(e,n,o,h){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=h}static from(e,n,o){Mn(e.mutations.length===o.length);let h=Ol;const m=e.mutations;for(let b=0;b<m.length;b++)h=h.insert(m[b].key,o[b].version);return new y(e,n,o,h)}}class T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class re{constructor(e,n){this.count=e,this.unchangedNames=n}}var pe,Ie;function Be(i){switch(i){default:return _n();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}function gt(i){if(void 0===i)return kn("GRPC error has no .code"),rt.UNKNOWN;switch(i){case pe.OK:return rt.OK;case pe.CANCELLED:return rt.CANCELLED;case pe.UNKNOWN:return rt.UNKNOWN;case pe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case pe.INTERNAL:return rt.INTERNAL;case pe.UNAVAILABLE:return rt.UNAVAILABLE;case pe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case pe.NOT_FOUND:return rt.NOT_FOUND;case pe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case pe.ABORTED:return rt.ABORTED;case pe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case pe.DATA_LOSS:return rt.DATA_LOSS;default:return _n()}}(Ie=pe||(pe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class un{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cn}static getOrCreateInstance(){return null===Cn&&(Cn=new un),Cn}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Cn=null;function Fn(){return new TextEncoder}const Jr=new yr([4294967295,4294967295],0);function bs(i){const e=Fn().encode(i),n=new ir;return n.update(e),new Uint8Array(n.digest())}function Ls(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),h=e.getUint32(8,!0),m=e.getUint32(12,!0);return[new yr([n,o],0),new yr([h,m],0)]}class wo{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(o<0)throw new Io(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Io(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=yr.fromNumber(this.It)}Et(e,n,o){let h=e.add(n.multiply(yr.fromNumber(o)));return 1===h.compare(Jr)&&(h=new yr([h.getBits(0),h.getBits(1)],0)),h.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=bs(e),[o,h]=Ls(n);for(let m=0;m<this.hashCount;m++){const b=this.Et(o,h,m);if(!this.At(b))return!1}return!0}static create(e,n,o){const h=e%8==0?0:8-e%8,m=new Uint8Array(Math.ceil(e/8)),b=new wo(m,h,n);return o.forEach(O=>b.insert(O)),b}insert(e){if(0===this.It)return;const n=bs(e),[o,h]=Ls(n);for(let m=0;m<this.hashCount;m++){const b=this.Et(o,h,m);this.Rt(b)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ql{constructor(e,n,o,h,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=h,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const h=new Map;return h.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Ql(In.min(),h,new Ii(gn),pl(),Nr())}}class ya{constructor(e,n,o,h,m){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=h,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ya(o,n,Nr(),Nr(),Nr())}}class Ki{constructor(e,n,o,h){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=h}}class Lo{constructor(e,n){this.targetId=e,this.Vt=n}}class ba{constructor(e,n,o=He.EMPTY_BYTE_STRING,h=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=h}}class ml{constructor(){this.St=0,this.Dt=rf(),this.Ct=He.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Nr(),n=Nr(),o=Nr();return this.Dt.forEach((h,m)=>{switch(m){case 0:e=e.add(h);break;case 2:n=n.add(h);break;case 1:o=o.add(h);break;default:_n()}}),new ya(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=rf()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Jf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=pl(),this.zt=gu(),this.Wt=new Ii(gn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:_n()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,h)=>{this.te(h)&&n(h)})}ne(e){var n;const o=e.targetId,h=e.Vt.count,m=this.se(o);if(m){const b=m.target;if(Wh(b))if(0===h){const O=new Ft(b.path);this.Yt(o,O,oe.newNoDocument(O,In.min()))}else Mn(1===h);else{const O=this.ie(o);if(O!==h){const U=this.re(e,O);0!==U&&(this.ee(o),this.Wt=this.Wt.insert(o,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=un.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(J,ue,be){var ze,We,Ot,Wt,en,gr;const Vr={localCacheCount:ue,existenceFilterCount:be.count},Hn=be.unchangedNames;return Hn&&(Vr.bloomFilter={applied:0===J,hashCount:null!==(ze=Hn?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(Wt=null===(Ot=null===(We=Hn?.bits)||void 0===We?void 0:We.bitmap)||void 0===Ot?void 0:Ot.length)&&void 0!==Wt?Wt:0,padding:null!==(gr=null===(en=Hn?.bits)||void 0===en?void 0:en.padding)&&void 0!==gr?gr:0}),Vr}(U,O,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:h}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:m="",padding:b=0},hashCount:O=0}=o;let U,J;try{U=rn(m).toUint8Array()}catch(ue){if(ue instanceof ge)return po("Decoding the base64 bloom filter in existence filter failed ("+ue.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ue}try{J=new wo(U,b,O)}catch(ue){return po(ue instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",ue),1}return 0===J.It?1:h!==n-this.oe(e.targetId,J)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let h=0;return o.forEach(m=>{const b=this.Gt.ue(),O=`projects/${b.projectId}/databases/${b.database}/documents/${m.path.canonicalString()}`;n.vt(O)||(this.Yt(e,m,null),h++)}),h}ce(e){const n=new Map;this.Qt.forEach((m,b)=>{const O=this.se(b);if(O){if(m.current&&Wh(O.target)){const U=new Ft(O.target.path);null!==this.jt.get(U)||this.ae(b,U)||this.Yt(b,U,oe.newNoDocument(U,e))}m.Mt&&(n.set(b,m.Ot()),m.Ft())}});let o=Nr();this.zt.forEach((m,b)=>{let O=!0;b.forEachWhile(U=>{const J=this.se(U);return!J||"TargetPurposeLimboResolution"===J.purpose||(O=!1,!1)}),O&&(o=o.add(m))}),this.jt.forEach((m,b)=>b.setReadTime(e));const h=new Ql(e,n,this.Wt,this.jt,o);return this.jt=pl(),this.zt=gu(),this.Wt=new Ii(gn),h}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const h=this.Zt(e);this.ae(e,n)?h.Bt(n,1):h.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new ml,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _i(gn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Rt("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ml),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function gu(){return new Ii(Ft.comparator)}function rf(){return new Ii(Ft.comparator)}const py={asc:"ASCENDING",desc:"DESCENDING"},D_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nm={and:"AND",or:"OR"};class Sb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(i,e){return i.useProto3Json||Aa(e)?e:{value:e}}function Md(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function S_(i,e){return Md(i,e.toTimestamp())}function Co(i){return Mn(!!i),In.fromTimestamp(function(e){const n=bt(e);return new ii(n.seconds,n.nanos)}(i))}function sf(i,e){return(n=i,new Gr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function im(i){const e=Gr.fromString(i);return Mn(P_(e)),e}function oh(i,e){return sf(i.databaseId,e.path)}function kl(i,e){const n=im(e);if(n.get(1)!==i.databaseId.projectId)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new wt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ft(gy(n))}function A_(i,e){return sf(i.databaseId,e)}function my(i){const e=im(i);return 4===e.length?Gr.emptyPath():gy(e)}function ep(i){return new Gr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gy(i){return Mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function tp(i,e,n){return{name:oh(i,e),fields:n.value.mapValue.fields}}function _y(i,e,n){const o=kl(i,e.name),h=Co(e.updateTime),m=e.createTime?Co(e.createTime):In.min(),b=new R({mapValue:{fields:e.fields}}),O=oe.newFoundDocument(o,h,m,b);return n&&O.setHasCommittedMutations(),n?O.setHasCommittedMutations():O}function Xl(i,e){let n;if(e instanceof mu)n={update:tp(i,e.key,e.value)};else if(e instanceof sh)n={delete:oh(i,e.key)};else if(e instanceof Ya)n={update:tp(i,e.key,e.data),updateMask:by(e.fieldMask)};else{if(!(e instanceof L))return _n();n={verify:oh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(h,m){const b=m.transform;if(b instanceof Za)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof pu)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Zu)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Sd)return{fieldPath:m.field.canonicalString(),increment:b.gt};throw _n()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(h=e.precondition).updateTime?{updateTime:S_(i,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:_n()),n;var h}function om(i,e){const n=e.currentDocument?void 0!==(h=e.currentDocument).updateTime?As.updateTime(Co(h.updateTime)):void 0!==h.exists?As.exists(h.exists):As.none():As.none(),o=e.updateTransforms?e.updateTransforms.map(h=>function(m,b){let O=null;"setToServerValue"in b?(Mn("REQUEST_TIME"===b.setToServerValue),O=new Za):"appendMissingElements"in b?O=new pu(b.appendMissingElements.values||[]):"removeAllFromArray"in b?O=new Zu(b.removeAllFromArray.values||[]):"increment"in b?O=new Sd(m,b.increment):_n();const U=wi.fromServerFormat(b.fieldPath);return new _c(U,O)}(i,h)):[];var h;if(e.update){const h=kl(i,e.update.name),m=new R({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new ee((e.updateMask.fieldPaths||[]).map(J=>wi.fromServerFormat(J)));return new Ya(h,m,b,n,o)}return new mu(h,m,n,o)}if(e.delete){const h=kl(i,e.delete);return new sh(h,n)}if(e.verify){const h=kl(i,e.verify);return new L(h,n)}return _n()}function gg(i,e){return{documents:[A_(i,e.path)]}}function Gc(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=A_(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=A_(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const h=function(U){if(0!==U.length)return vg(Sn.create(U,"and"))}(e.filters);h&&(n.structuredQuery.where=h);const m=function(U){if(0!==U.length)return U.map(J=>{return{field:Ra((ue=J).field),direction:yy(ue.dir)};var ue})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const b=mg(i,e.limit);var O,U;return null!==b&&(n.structuredQuery.limit=b),e.startAt&&(n.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(n.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),n}function _g(i){let e=my(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let h=null;if(o>0){Mn(1===o);const ue=n.from[0];ue.allDescendants?h=ue.collectionId:e=e.child(ue.collectionId)}let m=[];n.where&&(m=function(ue){const be=R_(ue);return be instanceof Sn&&qi(be)?be.getFilters():[be]}(n.where));let b=[];n.orderBy&&(b=n.orderBy.map(ue=>{return new Ct(lf((be=ue).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(be.direction));var be}));let O=null;n.limit&&(O=function(ue){let be;return be="object"==typeof ue?ue.value:ue,Aa(be)?null:be}(n.limit));let U=null;var ue;n.startAt&&(U=new we((ue=n.startAt).values||[],!!ue.before));let J=null;return n.endAt&&(J=function(ue){return new we(ue.values||[],!ue.before)}(n.endAt)),Kp(e,h,b,m,O,"F",U,J)}function R_(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=lf(e.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=lf(e.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=lf(e.unaryFilter.field);return Gt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=lf(e.unaryFilter.field);return Gt.create(m,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}(i):void 0!==i.fieldFilter?Gt.create(lf((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(n=>R_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return _n()}}(e.compositeFilter.op))}(i):_n();var e}function yy(i){return py[i]}function O_(i){return D_[i]}function Jl(i){return nm[i]}function Ra(i){return{fieldPath:i.canonicalString()}}function lf(i){return wi.fromServerFormat(i.fieldPath)}function vg(i){return i instanceof Gt?function(e){if("=="===e.op){if(au(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NAN"}};if(Gu(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(au(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NAN"}};if(Gu(e.value))return{unaryFilter:{field:Ra(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(e.field),op:O_(e.op),value:e.value}}}(i):i instanceof Sn?function(e){const n=e.getFilters().map(o=>vg(o));return 1===n.length?n[0]:{compositeFilter:{op:Jl(e.op),filters:n}}}(i):_n()}function by(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function P_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Rd{constructor(e,n,o,h,m=In.min(),b=In.min(),O=He.EMPTY_BYTE_STRING,U=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=h,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=O,this.expectedCount=U}withSequenceNumber(e){return new Rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k_{constructor(e){this.fe=e}}function np(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:oh(h=i.fe,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Md(h,m.version.toTimestamp()),createTime:Md(h,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:ah(e.version)};else{if(!e.isUnknownDocument())return _n();o.unknownDocument={path:n.path.toArray(),version:ah(e.version)}}var h,m;return o}function rp(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ah(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cf(i){const e=new ii(i.seconds,i.nanoseconds);return In.fromTimestamp(e)}function _u(i,e){const n=(e.baseMutations||[]).map(m=>om(i.fe,m));for(let m=0;m<e.mutations.length-1;++m)m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(e.mutations[m].updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m);const o=e.mutations.map(m=>om(i.fe,m)),h=ii.fromMillis(e.localWriteTimeMs);return new g(e.batchId,h,n,o)}function ec(i){const e=cf(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?cf(i.lastLimboFreeSnapshotVersion):In.min();let o;var h;return void 0!==i.query.documents?(Mn(1===(h=i.query).documents.length),o=Wo(zc(my(h.documents[0])))):o=Wo(_g(i.query)),new Rd(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,He.fromBase64String(i.resumeToken))}function Yu(i,e){const n=ah(e.snapshotVersion),o=ah(e.lastLimboFreeSnapshotVersion);let h;h=Wh(e.target)?gg(i.fe,e.target):Gc(i.fe,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:h}}function lm(i){const e=_g({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Td(e,e.limit,"L"):e}function cm(i,e){return new T(e.largestBatchId,om(i.fe,e.overlayMutation))}function yg(i,e){const n=e.path.lastSegment();return[i,Ks(e.path.popLast()),n]}function Ab(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:ah(o.readTime),documentKey:Ks(o.documentKey.path),largestBatchId:o.largestBatchId}}class Mb{getBundleMetadata(e,n){return Ey(e).get(n).next(o=>{if(o)return{id:(h=o).bundleId,createTime:cf(h.createTime),version:h.version};var h})}saveBundleMetadata(e,n){return Ey(e).put({bundleId:(o=n).id,createTime:ah(Co(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return um(e).get(n).next(o=>{if(o)return{name:(h=o).name,query:lm(h.bundledQuery),readTime:cf(h.readTime)};var h})}saveNamedQuery(e,n){return um(e).put({name:(o=n).name,readTime:ah(Co(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ey(i){return cs(i,"bundles")}function um(i){return cs(i,"namedQueries")}class uf{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new uf(e,n.uid||"")}getOverlay(e,n){return ip(e).get(yg(this.userId,n)).next(o=>o?cm(this.serializer,o):null)}getOverlays(e,n){const o=mc();return et.forEach(n,h=>this.getOverlay(e,h).next(m=>{null!==m&&o.set(h,m)})).next(()=>o)}saveOverlays(e,n,o){const h=[];return o.forEach((m,b)=>{const O=new T(n,b);h.push(this.we(e,O))}),et.waitFor(h)}removeOverlaysForBatchId(e,n,o){const h=new Set;n.forEach(b=>h.add(Ks(b.getCollectionPath())));const m=[];return h.forEach(b=>{const O=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);m.push(ip(e).J("collectionPathOverlayIndex",O))}),et.waitFor(m)}getOverlaysForCollection(e,n,o){const h=mc(),m=Ks(n),b=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return ip(e).j("collectionPathOverlayIndex",b).next(O=>{for(const U of O){const J=cm(this.serializer,U);h.set(J.getKey(),J)}return h})}getOverlaysForCollectionGroup(e,n,o,h){const m=mc();let b;const O=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ip(e).X({index:"collectionGroupOverlayIndex",range:O},(U,J,ue)=>{const be=cm(this.serializer,J);m.size()<h||be.largestBatchId===b?(m.set(be.getKey(),be),b=be.largestBatchId):ue.done()}).next(()=>m)}we(e,n){return ip(e).put(function(o,h,m){const[b,O,U]=yg(h,m.mutation.key);return{userId:h,collectionPath:O,documentId:U,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Xl(o.fe,m.mutation)}}(this.serializer,this.userId,n))}}function ip(i){return cs(i,"documentOverlays")}class sp{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Tt(e.integerValue));else if("doubleValue"in e){const o=Tt(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),$a(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(rn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?Ed(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):_n()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const h of Object.keys(o))this.Te(h,n),this.me(o[h],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const h of o)this.me(h,n)}ve(e,n){this.ye(n,37),Ft.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function wy(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Iy(i){const e=64-function(n){let o=0;for(let h=0;h<8;++h){const m=wy(255&n[h]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}sp.Ve=new sp;class Rb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.De(o.value),o=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ne(o.value),o=n.next();this.ke()}Me(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const h=n.codePointAt(0);this.De(240|h>>>18),this.De(128|63&h>>>12),this.De(128|63&h>>>6),this.De(128|63&h)}}this.Ce()}$e(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const h=n.codePointAt(0);this.Ne(240|h>>>18),this.Ne(128|63&h>>>12),this.Ne(128|63&h>>>6),this.Ne(128|63&h)}}this.ke()}Oe(e){const n=this.Fe(e),o=Iy(n);this.Be(1+o),this.buffer[this.position++]=255&o;for(let h=n.length-o;h<n.length;++h)this.buffer[this.position++]=255&n[h]}Le(e){const n=this.Fe(e),o=Iy(n);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let h=n.length-o;h<n.length;++h)this.buffer[this.position++]=~(255&n[h])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(h){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,h,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let h=1;h<n.length;++h)n[h]^=o?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const h=new Uint8Array(o);h.set(this.buffer),this.buffer=h}}class Ob{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Pb{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class df{constructor(){this.je=new Rb,this.ze=new Ob(this.je),this.We=new Pb(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class vu{constructor(e,n,o,h){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=h}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new vu(this.indexId,this.documentKey,this.arrayValue,o)}}function Od(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=dm(i.arrayValue,e.arrayValue),0!==n?n:(n=dm(i.directionalValue,e.directionalValue),0!==n?n:Ft.comparator(i.documentKey,e.documentKey)))}function dm(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class N_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const o=n;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){Mn(e.collectionGroup===this.collectionId);const n=_d(e);if(void 0!==n&&!this.en(n))return!1;const o=cc(e);let h=new Set,m=0,b=0;for(;m<o.length&&this.en(o[m]);++m)h=h.add(o[m].fieldPath.canonicalString());if(m===o.length)return!0;if(void 0!==this.Ze){if(!h.has(this.Ze.field.canonicalString())){const O=o[m];if(!this.nn(this.Ze,O)||!this.sn(this.Ye[b++],O))return!1}++m}for(;m<o.length;++m)if(b>=this.Ye.length||!this.sn(this.Ye[b++],o[m]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function lh(i){var e,n;if(Mn(i instanceof Gt||i instanceof Sn),i instanceof Gt){if(i instanceof Cd){const h=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(m=>Gt.create(i.field,"==",m)))||[];return Sn.create(h,"or")}return i}const o=i.filters.map(h=>lh(h));return Sn.create(o,i.op)}function kb(i){if(0===i.getFilters().length)return[];const e=V_(lh(i));return Mn(L_(e)),F_(e)||hm(e)?[e]:e.getFilters()}function F_(i){return i instanceof Gt}function hm(i){return i instanceof Sn&&qi(i)}function L_(i){return F_(i)||hm(i)||function(e){if(e instanceof Sn&&Wa(e)){for(const n of e.getFilters())if(!F_(n)&&!hm(n))return!1;return!0}return!1}(i)}function V_(i){if(Mn(i instanceof Gt||i instanceof Sn),i instanceof Gt)return i;if(1===i.filters.length)return V_(i.filters[0]);const e=i.filters.map(o=>V_(o));let n=Sn.create(e,i.op);return n=bg(n),L_(n)?n:(Mn(n instanceof Sn),Mn(rs(n)),Mn(n.filters.length>1),n.filters.reduce((o,h)=>U_(o,h)))}function U_(i,e){let n;return Mn(i instanceof Gt||i instanceof Sn),Mn(e instanceof Gt||e instanceof Sn),n=i instanceof Gt?e instanceof Gt?Sn.create([i,e],"and"):Cy(i,e):e instanceof Gt?Cy(e,i):function(o,h){if(Mn(o.filters.length>0&&h.filters.length>0),rs(o)&&rs(h))return zh(o,h.getFilters());const m=Wa(o)?o:h,b=Wa(o)?h:o,O=m.filters.map(U=>U_(U,b));return Sn.create(O,"or")}(i,e),bg(n)}function Cy(i,e){if(rs(e))return zh(e,i.getFilters());{const n=e.filters.map(o=>U_(i,o));return Sn.create(n,"or")}}function bg(i){if(Mn(i instanceof Gt||i instanceof Sn),i instanceof Gt)return i;const e=i.getFilters();if(1===e.length)return bg(e[0]);if(Eo(i))return i;const n=e.map(h=>bg(h)),o=[];return n.forEach(h=>{h instanceof Gt?o.push(h):h instanceof Sn&&(h.op===i.op?o.push(...h.filters):o.push(h))}),1===o.length?o[0]:Sn.create(o,i.op)}class Eg{constructor(){this.rn=new wg}addToCollectionParentIndex(e,n){return this.rn.add(n),et.resolve()}getCollectionParents(e,n){return et.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return et.resolve()}deleteFieldIndex(e,n){return et.resolve()}getDocumentsMatchingTarget(e,n){return et.resolve(null)}getIndexType(e,n){return et.resolve(0)}getFieldIndexes(e,n){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,n){return et.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return et.resolve($i.min())}updateCollectionGroup(e,n,o){return et.resolve()}updateIndexEntries(e,n){return et.resolve()}}class wg{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),h=this.index[n]||new _i(Gr.comparator),m=!h.has(o);return this.index[n]=h.add(o),m}has(e){const n=e.lastSegment(),o=e.popLast(),h=this.index[n];return h&&h.has(o)}getEntries(e){return(this.index[e]||new _i(Gr.comparator)).toArray()}}const fm=new Uint8Array(0);class hf{constructor(e,n){this.user=e,this.databaseId=n,this.on=new wg,this.un=new fl(o=>lu(o),(o,h)=>Gh(o,h)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const o=n.lastSegment(),h=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const m={collectionId:o,parent:Ks(h)};return Ni(e).put(m)}return et.resolve()}getCollectionParents(e,n){const o=[],h=IDBKeyRange.bound([n,""],[go(n),""],!1,!0);return Ni(e).j(h).next(m=>{for(const b of m){if(b.collectionId!==n)break;o.push(aa(b.parent))}return o})}addFieldIndex(e,n){const o=op(e),h={indexId:(b=n).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var b;delete h.indexId;const m=o.add(h);if(n.indexState){const b=ch(e);return m.next(O=>{b.put(Ab(O,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const o=op(e),h=ch(e),m=Pd(e);return o.delete(n.indexId).next(()=>h.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Pd(e);let h=!0;const m=new Map;return et.forEach(this.cn(n),b=>this.an(e,b).next(O=>{h&&(h=!!O),m.set(b,O)})).next(()=>{if(h){let b=Nr();const O=[];return et.forEach(m,(U,J)=>{var ue;Rt("IndexedDbIndexManager",`Using index ${ue=U,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(Hn=>`${Hn.fieldPath}:${Hn.kind}`).join(",")}`} to execute ${lu(n)}`);const be=function(Hn,Cr){const Zi=_d(Cr);if(void 0===Zi)return null;for(const Vs of qh(Hn,Zi.fieldPath))switch(Vs.op){case"array-contains-any":return Vs.value.arrayValue.values||[];case"array-contains":return[Vs.value]}return null}(J,U),ze=function(Hn,Cr){const Zi=new Map;for(const Vs of cc(Cr))for(const el of qh(Hn,Vs.fieldPath))switch(el.op){case"==":case"in":Zi.set(Vs.fieldPath.canonicalString(),el.value);break;case"not-in":case"!=":return Zi.set(Vs.fieldPath.canonicalString(),el.value),Array.from(Zi.values())}return null}(J,U),We=function(Hn,Cr){const Zi=[];let Vs=!0;for(const el of cc(Cr)){const Au=0===el.kind?Kh(Hn,el.fieldPath,Hn.startAt):qp(Hn,el.fieldPath,Hn.startAt);Zi.push(Au.value),Vs&&(Vs=Au.inclusive)}return new we(Zi,Vs)}(J,U),Ot=function(Hn,Cr){const Zi=[];let Vs=!0;for(const el of cc(Cr)){const Au=0===el.kind?qp(Hn,el.fieldPath,Hn.endAt):Kh(Hn,el.fieldPath,Hn.endAt);Zi.push(Au.value),Vs&&(Vs=Au.inclusive)}return new we(Zi,Vs)}(J,U),Wt=this.hn(U,J,We),en=this.hn(U,J,Ot),gr=this.ln(U,J,ze),Vr=this.fn(U.indexId,be,Wt,We.inclusive,en,Ot.inclusive,gr);return et.forEach(Vr,Hn=>o.H(Hn,n.limit).next(Cr=>{Cr.forEach(Zi=>{const Vs=Ft.fromSegments(Zi.documentKey);b.has(Vs)||(b=b.add(Vs),O.push(Vs))})}))}).next(()=>O)}return et.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:kb(Sn.create(e.filters,"and")).map(o=>Wp(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,o,h,m,b,O){const U=(null!=n?n.length:1)*Math.max(o.length,m.length),J=U/(null!=n?n.length:1),ue=[];for(let be=0;be<U;++be){const ze=n?this.dn(n[be/J]):fm,We=this.wn(e,ze,o[be%J],h),Ot=this._n(e,ze,m[be%J],b),Wt=O.map(en=>this.wn(e,ze,en,!0));ue.push(...this.createRange(We,Ot,Wt))}return ue}wn(e,n,o,h){const m=new vu(e,Ft.empty(),n,o);return h?m:m.Je()}_n(e,n,o,h){const m=new vu(e,Ft.empty(),n,o);return h?m.Je():m}an(e,n){const o=new N_(n),h=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,h).next(m=>{let b=null;for(const O of m)o.tn(O)&&(!b||O.fields.length>b.fields.length)&&(b=O);return b})}getIndexType(e,n){let o=2;const h=this.cn(n);return et.forEach(h,m=>this.an(e,m).next(b=>{b?0!==o&&b.fields.length<function(O){let U=new _i(wi.comparator),J=!1;for(const ue of O.filters)for(const be of ue.getFlattenedFilters())be.field.isKeyField()||("array-contains"===be.op||"array-contains-any"===be.op?J=!0:U=U.add(be.field));for(const ue of O.orderBy)ue.field.isKeyField()||(U=U.add(ue.field));return U.size+(J?1:0)}(m)&&(o=1):o=0})).next(()=>null!==n.limit&&h.length>1&&2===o?1:o)}mn(e,n){const o=new df;for(const h of cc(e)){const m=n.data.field(h.fieldPath);if(null==m)return null;const b=o.He(h.kind);sp.Ve._e(m,b)}return o.Qe()}dn(e){const n=new df;return sp.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const o=new df;return sp.Ve._e(Rl(this.databaseId,n),o.He(function(h){const m=cc(h);return 0===m.length?0:m[m.length-1].kind}(e))),o.Qe()}ln(e,n,o){if(null===o)return[];let h=[];h.push(new df);let m=0;for(const b of cc(e)){const O=o[m++];for(const U of h)if(this.yn(n,b.fieldPath)&&la(O))h=this.pn(h,b,O);else{const J=U.He(b.kind);sp.Ve._e(O,J)}}return this.In(h)}hn(e,n,o){return this.ln(e,n,o.position)}In(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Qe();return n}pn(e,n,o){const h=[...e],m=[];for(const b of o.arrayValue.values||[])for(const O of h){const U=new df;U.seed(O.Qe()),sp.Ve._e(b,U.He(n.kind)),m.push(U)}return m}yn(e,n){return!!e.filters.find(o=>o instanceof Gt&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=op(e),h=ch(e);return(n?o.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.j()).next(m=>{const b=[];return et.forEach(m,O=>h.get([O.indexId,this.uid]).next(U=>{b.push(function(J,ue){const be=ue?new Tl(ue.sequenceNumber,new $i(cf(ue.readTime),new Ft(aa(ue.documentKey)),ue.largestBatchId)):Tl.empty(),ze=J.fields.map(([We,Ot])=>new oa(wi.fromServerFormat(We),Ot));return new nu(J.indexId,J.collectionGroup,ze,be)}(O,U))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,h)=>{const m=o.indexState.sequenceNumber-h.indexState.sequenceNumber;return 0!==m?m:gn(o.collectionGroup,h.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const h=op(e),m=ch(e);return this.Tn(e).next(b=>h.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(O=>et.forEach(O,U=>m.put(Ab(U.indexId,this.user,b,o)))))}updateIndexEntries(e,n){const o=new Map;return et.forEach(n,(h,m)=>{const b=o.get(h.collectionGroup);return(b?et.resolve(b):this.getFieldIndexes(e,h.collectionGroup)).next(O=>(o.set(h.collectionGroup,O),et.forEach(O,U=>this.En(e,h,U).next(J=>{const ue=this.An(m,U);return J.isEqual(ue)?et.resolve():this.vn(e,m,U,J,ue)}))))})}Rn(e,n,o,h){return Pd(e).put({indexId:h.indexId,uid:this.uid,arrayValue:h.arrayValue,directionalValue:h.directionalValue,orderedDocumentKey:this.gn(o,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,o,h){return Pd(e).delete([h.indexId,this.uid,h.arrayValue,h.directionalValue,this.gn(o,n.key),n.key.path.toArray()])}En(e,n,o){const h=Pd(e);let m=new _i(Od);return h.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,n)])},(b,O)=>{m=m.add(new vu(o.indexId,n,O.arrayValue,O.directionalValue))}).next(()=>m)}An(e,n){let o=new _i(Od);const h=this.mn(n,e);if(null==h)return o;const m=_d(n);if(null!=m){const b=e.data.field(m.fieldPath);if(la(b))for(const O of b.arrayValue.values||[])o=o.add(new vu(n.indexId,e.key,this.dn(O),h))}else o=o.add(new vu(n.indexId,e.key,fm,h));return o}vn(e,n,o,h,m){Rt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const b=[];return function(O,U,J,ue,be){const ze=O.getIterator(),We=U.getIterator();let Ot=$(ze),Wt=$(We);for(;Ot||Wt;){let en=!1,gr=!1;if(Ot&&Wt){const Vr=J(Ot,Wt);Vr<0?gr=!0:Vr>0&&(en=!0)}else null!=Ot?gr=!0:en=!0;en?(ue(Wt),Wt=$(We)):gr?(be(Ot),Ot=$(ze)):(Ot=$(ze),Wt=$(We))}}(h,m,Od,O=>{b.push(this.Rn(e,n,o,O))},O=>{b.push(this.Pn(e,n,o,O))}),et.waitFor(b)}Tn(e){let n=1;return ch(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,h,m)=>{m.done(),n=h.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((b,O)=>Od(b,O)).filter((b,O,U)=>!O||0!==Od(b,U[O-1]));const h=[];h.push(e);for(const b of o){const O=Od(b,e),U=Od(b,n);if(0===O)h[0]=e.Je();else if(O>0&&U<0)h.push(b),h.push(b.Je());else if(U>0)break}h.push(n);const m=[];for(let b=0;b<h.length;b+=2){if(this.bn(h[b],h[b+1]))return[];m.push(IDBKeyRange.bound([h[b].indexId,this.uid,h[b].arrayValue,h[b].directionalValue,fm,[]],[h[b+1].indexId,this.uid,h[b+1].arrayValue,h[b+1].directionalValue,fm,[]]))}return m}bn(e,n){return Od(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ff)}getMinOffset(e,n){return et.mapArray(this.cn(n),o=>this.an(e,o).next(h=>h||_n())).next(ff)}}function Ni(i){return cs(i,"collectionParents")}function Pd(i){return cs(i,"indexEntries")}function op(i){return cs(i,"indexConfiguration")}function ch(i){return cs(i,"indexState")}function ff(i){Mn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const h=i[o].indexState.offset;vo(h,e)<0&&(e=h),n<h.largestBatchId&&(n=h.largestBatchId)}return new $i(e.readTime,e.documentKey,n)}const pm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Qa(e,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ig(i,e,n){const o=i.store("mutations"),h=i.store("documentMutations"),m=[],b=IDBKeyRange.only(n.batchId);let O=0;const U=o.X({range:b},(ue,be,ze)=>(O++,ze.delete()));m.push(U.next(()=>{Mn(1===O)}));const J=[];for(const ue of n.mutations){const be=ko(e,ue.key.path,n.batchId);m.push(h.delete(be)),J.push(ue.key)}return et.waitFor(m).next(()=>J)}function pf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _n();e=i.noDocument}return JSON.stringify(e).length}Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(41943040,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);class mf{constructor(e,n,o,h){this.userId=e,this.serializer=n,this.indexManager=o,this.referenceDelegate=h,this.Vn={}}static de(e,n,o,h){Mn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new mf(m,n,o,h)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).X({index:"userMutationsIndex",range:o},(h,m,b)=>{n=!1,b.done()}).next(()=>n)}addMutationBatch(e,n,o,h){const m=ap(e),b=yu(e);return b.add({}).next(O=>{Mn("number"==typeof O);const U=new g(O,n,o,h),J=function(ze,We,Ot){const Wt=Ot.baseMutations.map(gr=>Xl(ze.fe,gr)),en=Ot.mutations.map(gr=>Xl(ze.fe,gr));return{userId:We,batchId:Ot.batchId,localWriteTimeMs:Ot.localWriteTime.toMillis(),baseMutations:Wt,mutations:en}}(this.serializer,this.userId,U),ue=[];let be=new _i((ze,We)=>gn(ze.canonicalString(),We.canonicalString()));for(const ze of h){const We=ko(this.userId,ze.key.path,O);be=be.add(ze.key.path.popLast()),ue.push(b.put(J)),ue.push(m.put(We,Uh))}return be.forEach(ze=>{ue.push(this.indexManager.addToCollectionParentIndex(e,ze))}),e.addOnCommittedListener(()=>{this.Vn[O]=U.keys()}),et.waitFor(ue).next(()=>U)})}lookupMutationBatch(e,n){return yu(e).get(n).next(o=>o?(Mn(o.userId===this.userId),_u(this.serializer,o)):null)}Sn(e,n){return this.Vn[n]?et.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const h=o.keys();return this.Vn[n]=h,h}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,h=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return yu(e).X({index:"userMutationsIndex",range:h},(b,O,U)=>{O.userId===this.userId&&(Mn(O.batchId>=o),m=_u(this.serializer,O)),U.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return yu(e).X({index:"userMutationsIndex",range:n,reverse:!0},(h,m,b)=>{o=m.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yu(e).j("userMutationsIndex",n).next(o=>o.map(h=>_u(this.serializer,h)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=iu(this.userId,n.path),h=IDBKeyRange.lowerBound(o),m=[];return ap(e).X({range:h},(b,O,U)=>{const[J,ue,be]=b,ze=aa(ue);if(J===this.userId&&n.path.isEqual(ze))return yu(e).get(be).next(We=>{if(!We)throw _n();Mn(We.userId===this.userId),m.push(_u(this.serializer,We))});U.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new _i(gn);const h=[];return n.forEach(m=>{const b=iu(this.userId,m.path),O=IDBKeyRange.lowerBound(b),U=ap(e).X({range:O},(J,ue,be)=>{const[ze,We,Ot]=J,Wt=aa(We);ze===this.userId&&m.path.isEqual(Wt)?o=o.add(Ot):be.done()});h.push(U)}),et.waitFor(h).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,h=o.length+1,m=iu(this.userId,o),b=IDBKeyRange.lowerBound(m);let O=new _i(gn);return ap(e).X({range:b},(U,J,ue)=>{const[be,ze,We]=U,Ot=aa(ze);be===this.userId&&o.isPrefixOf(Ot)?Ot.length===h&&(O=O.add(We)):ue.done()}).next(()=>this.Dn(e,O))}Dn(e,n){const o=[],h=[];return n.forEach(m=>{h.push(yu(e).get(m).next(b=>{if(null===b)throw _n();Mn(b.userId===this.userId),o.push(_u(this.serializer,b))}))}),et.waitFor(h).next(()=>o)}removeMutationBatch(e,n){return Ig(e.ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),et.forEach(o,h=>this.referenceDelegate.markPotentiallyOrphaned(e,h))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),h=[];return ap(e).X({range:o},(m,b,O)=>{if(m[0]===this.userId){const U=aa(m[1]);h.push(U)}else O.done()}).next(()=>{Mn(0===h.length)})})}containsKey(e,n){return Nb(e,this.userId,n)}xn(e){return Cg(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nb(i,e,n){const o=iu(e,n.path),h=o[1],m=IDBKeyRange.lowerBound(o);let b=!1;return ap(i).X({range:m,Y:!0},(O,U,J)=>{const[ue,be,ze]=O;ue===e&&be===h&&(b=!0),J.done()}).next(()=>b)}function yu(i){return cs(i,"mutations")}function ap(i){return cs(i,"documentMutations")}function Cg(i){return cs(i,"mutationQueues")}class Qu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qu(0)}static Mn(){return new Qu(-1)}}class B_{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const o=new Qu(n.highestTargetId);return n.highestTargetId=o.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>In.fromTimestamp(new ii(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.$n(e).next(h=>(h.highestListenSequenceNumber=n,o&&(h.lastRemoteSnapshotVersion=o.toTimestamp()),n>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=n),this.On(e,h)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(n,o),this.On(e,o))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>yc(e).delete(n.targetId)).next(()=>this.$n(e)).next(o=>(Mn(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,n,o){let h=0;const m=[];return yc(e).X((b,O)=>{const U=ec(O);U.sequenceNumber<=n&&null===o.get(U.targetId)&&(h++,m.push(this.removeTargetData(e,U)))}).next(()=>et.waitFor(m)).next(()=>h)}forEachTarget(e,n){return yc(e).X((o,h)=>{const m=ec(h);n(m)})}$n(e){return xg(e).get("targetGlobalKey").next(n=>(Mn(null!==n),n))}On(e,n){return xg(e).put("targetGlobalKey",n)}Fn(e,n){return yc(e).put(Yu(this.serializer,n))}Bn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const o=lu(n),h=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return yc(e).X({range:h,index:"queryTargetsIndex"},(b,O,U)=>{const J=ec(O);Gh(n,J.target)&&(m=J,U.done())}).next(()=>m)}addMatchingKeys(e,n,o){const h=[],m=bu(e);return n.forEach(b=>{const O=Ks(b.path);h.push(m.put({targetId:o,path:O})),h.push(this.referenceDelegate.addReference(e,o,b))}),et.waitFor(h)}removeMatchingKeys(e,n,o){const h=bu(e);return et.forEach(n,m=>{const b=Ks(m.path);return et.waitFor([h.delete([o,b]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,n){const o=bu(e),h=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(h)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),h=bu(e);let m=Nr();return h.X({range:o,Y:!0},(b,O,U)=>{const J=aa(b[1]),ue=new Ft(J);m=m.add(ue)}).next(()=>m)}containsKey(e,n){const o=Ks(n.path),h=IDBKeyRange.bound([o],[go(o)],!1,!0);let m=0;return bu(e).X({index:"documentTargetsIndex",Y:!0,range:h},([b,O],U,J)=>{0!==b&&(m++,J.done())}).next(()=>m>0)}le(e,n){return yc(e).get(n).next(o=>o?ec(o):null)}}function yc(i){return cs(i,"targets")}function xg(i){return cs(i,"targetGlobal")}function bu(i){return cs(i,"targetDocuments")}function gf([i,e],[n,o]){const h=gn(i,n);return 0===h?gn(e,o):h}class xy{constructor(e){this.Ln=e,this.buffer=new _i(gf),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();gf(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mm{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Rt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){Wl(o)?Rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Fs(o)}yield n.Qn(3e5)}))}}class Eu{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return et.resolve(ns.ct);const o=new xy(n);return this.jn.forEachTarget(e,h=>o.Kn(h.sequenceNumber)).next(()=>this.jn.Wn(e,h=>o.Kn(h))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.jn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(pm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pm):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let o,h,m,b,O,U,J;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),h=this.params.maximumSequenceNumbersToCollect):h=be,b=Date.now(),this.nthSequenceNumber(e,h))).next(be=>(o=be,O=Date.now(),this.removeTargets(e,o,n))).next(be=>(m=be,U=Date.now(),this.removeOrphanedDocuments(e,o))).next(be=>(J=Date.now(),Ha()<=_.in.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ue}ms\n\tDetermined least recently used ${h} in `+(O-b)+`ms\n\tRemoved ${m} targets in `+(U-O)+`ms\n\tRemoved ${be} documents in `+(J-U)+`ms\nTotal Duration: ${J-ue}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:m,documentsRemoved:be})))}}class lp{constructor(e,n){this.db=e,this.garbageCollector=function bc(i,e){return new Eu(i,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(h=>o+h))}Jn(e){let n=0;return this.Wn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(o,h)=>n(h))}addReference(e,n,o){return cp(e,o)}removeReference(e,n,o){return cp(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return cp(e,n)}Xn(e,n){return function(o,h){let m=!1;return Cg(o).Z(b=>Nb(o,b,h).next(O=>(O&&(m=!0),et.resolve(!O)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let m=0;return this.Yn(e,(b,O)=>{if(O<=n){const U=this.Xn(e,b).next(J=>{if(!J)return m++,o.getEntry(e,b).next(()=>(o.removeEntry(b,In.min()),bu(e).delete([0,Ks(b.path)])))});h.push(U)}}).next(()=>et.waitFor(h)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return cp(e,n)}Yn(e,n){const o=bu(e);let h,m=ns.ct;return o.X({index:"documentTargetsIndex"},([b,O],{path:U,sequenceNumber:J})=>{0===b?(m!==ns.ct&&n(new Ft(aa(h)),m),m=J,h=U):m=ns.ct}).next(()=>{m!==ns.ct&&n(new Ft(aa(h)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cp(i,e){return bu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ks(e.path),sequenceNumber:o}));var o}class Ty{constructor(){this.changes=new fl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?et.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return wu(e).put(o)}removeEntry(e,n,o){return wu(e).delete(function(h,m){const b=h.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],rp(m),b[b.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Zn(e,o)))}getEntry(e,n){let o=oe.newInvalidDocument(n);return wu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gm(n))},(h,m)=>{o=this.ts(n,m)}).next(()=>o)}es(e,n){let o={size:0,document:oe.newInvalidDocument(n)};return wu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gm(n))},(h,m)=>{o={document:this.ts(n,m),size:pf(m)}}).next(()=>o)}getEntries(e,n){let o=pl();return this.ns(e,n,(h,m)=>{const b=this.ts(h,m);o=o.insert(h,b)}).next(()=>o)}ss(e,n){let o=pl(),h=new Ii(Ft.comparator);return this.ns(e,n,(m,b)=>{const O=this.ts(m,b);o=o.insert(m,O),h=h.insert(m,pf(b))}).next(()=>({documents:o,rs:h}))}ns(e,n,o){if(n.isEmpty())return et.resolve();let h=new _i(z_);n.forEach(U=>h=h.add(U));const m=IDBKeyRange.bound(gm(h.first()),gm(h.last())),b=h.getIterator();let O=b.getNext();return wu(e).X({index:"documentKeyIndex",range:m},(U,J,ue)=>{const be=Ft.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;O&&z_(O,be)<0;)o(O,null),O=b.getNext();O&&O.isEqual(be)&&(o(O,J),O=b.hasNext()?b.getNext():null),O?ue.G(gm(O)):ue.done()}).next(()=>{for(;O;)o(O,null),O=b.hasNext()?b.getNext():null})}getDocumentsMatchingQuery(e,n,o,h){const m=n.path,b=[m.popLast().toArray(),m.lastSegment(),rp(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],O=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wu(e).j(IDBKeyRange.bound(b,O,!0)).next(U=>{let J=pl();for(const ue of U){const be=this.ts(Ft.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);be.isFoundDocument()&&($c(n,be)||h.has(be.key))&&(J=J.insert(be.key,be))}return J})}getAllFromCollectionGroup(e,n,o,h){let m=pl();const b=_m(n,o),O=_m(n,$i.max());return wu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,O,!0)},(U,J,ue)=>{const be=this.ts(Ft.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);m=m.insert(be.key,be),m.size===h&&ue.done()}).next(()=>m)}newChangeBuffer(e){return new _f(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return H_(e).get("remoteDocumentGlobalKey").next(n=>(Mn(!!n),n))}Zn(e,n){return H_(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const o=function am(i,e){let n;if(e.document)n=_y(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Ft.fromSegments(e.noDocument.path),h=cf(e.noDocument.readTime);n=oe.newNoDocument(o,h),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const o=Ft.fromSegments(e.unknownDocument.path),h=cf(e.unknownDocument.version);n=oe.newUnknownDocument(o,h)}}return e.readTime&&n.setReadTime(function(o){const h=new ii(o[0],o[1]);return In.fromTimestamp(h)}(e.readTime)),n}(this.serializer,n);if(!o.isNoDocument()||!o.version.isEqual(In.min()))return o}return oe.newInvalidDocument(e)}}function Tg(i){return new j_(i)}class _f extends Ty{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new fl(o=>o.toString(),(o,h)=>o.isEqual(h))}applyChanges(e){const n=[];let o=0,h=new _i((m,b)=>gn(m.canonicalString(),b.canonicalString()));return this.changes.forEach((m,b)=>{const O=this.us.get(m);if(n.push(this.os.removeEntry(e,m,O.readTime)),b.isValidDocument()){const U=np(this.os.serializer,b);h=h.add(m.path.popLast());const J=pf(U);o+=J-O.size,n.push(this.os.addEntry(e,m,U))}else if(o-=O.size,this.trackRemovals){const U=np(this.os.serializer,b.convertToNoDocument(In.min()));n.push(this.os.addEntry(e,m,U))}}),h.forEach(m=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,m))}),n.push(this.os.updateMetadata(e,o)),et.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(o=>(this.us.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:o,rs:h})=>(h.forEach((m,b)=>{this.us.set(m,{size:b,readTime:o.get(m).readTime})}),o))}}function H_(i){return cs(i,"remoteDocumentGlobal")}function wu(i){return cs(i,"remoteDocumentsV14")}function gm(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _m(i,e){const n=e.documentKey.path.toArray();return[i,rp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function z_(i,e){const n=i.path.toArray(),o=e.path.toArray();let h=0;for(let m=0;m<n.length-2&&m<o.length-2;++m)if(h=gn(n[m],o[m]),h)return h;return h=gn(n.length,o.length),h||(h=gn(n[n.length-2],o[o.length-2]),h||gn(n[n.length-1],o[o.length-1]))}class Fb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Dg{constructor(e,n,o,h){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=h}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(h=>(o=h,this.remoteDocumentCache.getEntry(e,n))).next(h=>(null!==o&&vc(o.mutation,h,ee.empty(),ii.now()),h))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Nr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Nr()){const h=mc();return this.populateOverlays(e,h,n).next(()=>this.computeViews(e,n,h,o).next(m=>{let b=uu();return m.forEach((O,U)=>{b=b.insert(O,U.overlayedDocument)}),b}))}getOverlayedDocuments(e,n){const o=mc();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Nr()))}populateOverlays(e,n,o){const h=[];return o.forEach(m=>{n.has(m)||h.push(m)}),this.documentOverlayCache.getOverlays(e,h).next(m=>{m.forEach((b,O)=>{n.set(b,O)})})}computeViews(e,n,o,h){let m=pl();const b=gc(),O=gc();return n.forEach((U,J)=>{const ue=o.get(J.key);h.has(J.key)&&(void 0===ue||ue.mutation instanceof Ya)?m=m.insert(J.key,J):void 0!==ue?(b.set(J.key,ue.mutation.getFieldMask()),vc(ue.mutation,J,ue.mutation.getFieldMask(),ii.now())):b.set(J.key,ee.empty())}),this.recalculateAndSaveOverlays(e,m).next(U=>(U.forEach((J,ue)=>b.set(J,ue)),n.forEach((J,ue)=>{var be;return O.set(J,new Fb(ue,null!==(be=b.get(J))&&void 0!==be?be:null))}),O))}recalculateAndSaveOverlays(e,n){const o=gc();let h=new Ii((b,O)=>b-O),m=Nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(b=>{for(const O of b)O.keys().forEach(U=>{const J=n.get(U);if(null===J)return;let ue=o.get(U)||ee.empty();ue=O.applyToLocalView(J,ue),o.set(U,ue);const be=(h.get(O.batchId)||Nr()).add(U);h=h.insert(O.batchId,be)})}).next(()=>{const b=[],O=h.getReverseIterator();for(;O.hasNext();){const U=O.getNext(),J=U.key,ue=U.value,be=Xp();ue.forEach(ze=>{if(!m.has(ze)){const We=nf(n.get(ze),o.get(ze));null!==We&&be.set(ze,We),m=m.add(ze)}}),b.push(this.documentOverlayCache.saveOverlays(e,J,be))}return et.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Ft.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Yh(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var h}getNextDocuments(e,n,o,h){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,h).next(m=>{const b=h-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,h-m.size):et.resolve(mc());let O=-1,U=m;return b.next(J=>et.forEach(J,(ue,be)=>(O<be.largestBatchId&&(O=be.largestBatchId),m.get(ue)?et.resolve():this.remoteDocumentCache.getEntry(e,ue).next(ze=>{U=U.insert(ue,ze)}))).next(()=>this.populateOverlays(e,J,m)).next(()=>this.computeViews(e,U,J,Nr())).next(ue=>({batchId:O,changes:Zf(ue)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ft(n)).next(o=>{let h=uu();return o.isFoundDocument()&&(h=h.insert(o.key,o)),h})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const h=n.collectionGroup;let m=uu();return this.indexManager.getCollectionParents(e,h).next(b=>et.forEach(b,O=>{const U=(J=n,ue=O.child(h),new Hc(ue,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,ue;return this.getDocumentsMatchingCollectionQuery(e,U,o).next(J=>{J.forEach((ue,be)=>{m=m.insert(ue,be)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,n,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,h))).next(m=>{h.forEach((O,U)=>{const J=U.getKey();null===m.get(J)&&(m=m.insert(J,oe.newInvalidDocument(J)))});let b=uu();return m.forEach((O,U)=>{const J=h.get(O);void 0!==J&&vc(J.mutation,U,ee.empty(),ii.now()),$c(n,U)&&(b=b.insert(O,U))}),b})}}class Sg{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return et.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Co(o.createTime)}),et.resolve()}getNamedQuery(e,n){return et.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:lm(o.bundledQuery),readTime:Co(o.readTime)}),et.resolve();var o}}class Lb{constructor(){this.overlays=new Ii(Ft.comparator),this.ls=new Map}getOverlay(e,n){return et.resolve(this.overlays.get(n))}getOverlays(e,n){const o=mc();return et.forEach(n,h=>this.getOverlay(e,h).next(m=>{null!==m&&o.set(h,m)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((h,m)=>{this.we(e,n,m)}),et.resolve()}removeOverlaysForBatchId(e,n,o){const h=this.ls.get(o);return void 0!==h&&(h.forEach(m=>this.overlays=this.overlays.remove(m)),this.ls.delete(o)),et.resolve()}getOverlaysForCollection(e,n,o){const h=mc(),m=n.length+1,b=new Ft(n.child("")),O=this.overlays.getIteratorFrom(b);for(;O.hasNext();){const U=O.getNext().value,J=U.getKey();if(!n.isPrefixOf(J.path))break;J.path.length===m&&U.largestBatchId>o&&h.set(U.getKey(),U)}return et.resolve(h)}getOverlaysForCollectionGroup(e,n,o,h){let m=new Ii((J,ue)=>J-ue);const b=this.overlays.getIterator();for(;b.hasNext();){const J=b.getNext().value;if(J.getKey().getCollectionGroup()===n&&J.largestBatchId>o){let ue=m.get(J.largestBatchId);null===ue&&(ue=mc(),m=m.insert(J.largestBatchId,ue)),ue.set(J.getKey(),J)}}const O=mc(),U=m.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((J,ue)=>O.set(J,ue)),!(O.size()>=h)););return et.resolve(O)}we(e,n,o){const h=this.overlays.get(o.key);if(null!==h){const b=this.ls.get(h.largestBatchId).delete(o.key);this.ls.set(h.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new T(n,o));let m=this.ls.get(n);void 0===m&&(m=Nr(),this.ls.set(n,m)),this.ls.set(n,m.add(o.key))}}class $_{constructor(){this.fs=new _i(Ea.ds),this.ws=new _i(Ea._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Ea(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Ea(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new Ft(new Gr([])),o=new Ea(n,e),h=new Ea(n,e+1),m=[];return this.ws.forEachInRange([o,h],b=>{this.ys(b),m.push(b.key)}),m}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ft(new Gr([])),o=new Ea(n,e),h=new Ea(n,e+1);let m=Nr();return this.ws.forEachInRange([o,h],b=>{m=m.add(b.key)}),m}containsKey(e){const n=new Ea(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ea{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ft.comparator(e.key,n.key)||gn(e.As,n.As)}static _s(e,n){return gn(e.As,n.As)||Ft.comparator(e.key,n.key)}}class Dy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _i(Ea.ds)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,h){const m=this.vs;this.vs++;const b=new g(m,n,o,h);this.mutationQueue.push(b);for(const O of h)this.Rs=this.Rs.add(new Ea(O.key,m)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return et.resolve(b)}lookupMutationBatch(e,n){return et.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const h=this.bs(n+1),m=h<0?0:h;return et.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ea(n,0),h=new Ea(n,Number.POSITIVE_INFINITY),m=[];return this.Rs.forEachInRange([o,h],b=>{const O=this.Ps(b.As);m.push(O)}),et.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new _i(gn);return n.forEach(h=>{const m=new Ea(h,0),b=new Ea(h,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([m,b],O=>{o=o.add(O.As)})}),et.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,h=o.length+1;let m=o;Ft.isDocumentKey(m)||(m=m.child(""));const b=new Ea(new Ft(m),0);let O=new _i(gn);return this.Rs.forEachWhile(U=>{const J=U.key.path;return!!o.isPrefixOf(J)&&(J.length===h&&(O=O.add(U.As)),!0)},b),et.resolve(this.Vs(O))}Vs(e){const n=[];return e.forEach(o=>{const h=this.Ps(o);null!==h&&n.push(h)}),n}removeMutationBatch(e,n){Mn(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return et.forEach(n.mutations,h=>{const m=new Ea(h.key,n.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,h.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Ea(n,0),h=this.Rs.firstAfterOrEqual(o);return et.resolve(n.isEqual(h&&h.key))}performConsistencyCheck(e){return et.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vb{constructor(e){this.Ds=e,this.docs=new Ii(Ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,h=this.docs.get(o),m=h?h.size:0,b=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:b}),this.size+=b-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return et.resolve(o?o.document.mutableCopy():oe.newInvalidDocument(n))}getEntries(e,n){let o=pl();return n.forEach(h=>{const m=this.docs.get(h);o=o.insert(h,m?m.document.mutableCopy():oe.newInvalidDocument(h))}),et.resolve(o)}getDocumentsMatchingQuery(e,n,o,h){let m=pl();const b=n.path,O=new Ft(b.child("")),U=this.docs.getIteratorFrom(O);for(;U.hasNext();){const{key:J,value:{document:ue}}=U.getNext();if(!b.isPrefixOf(J.path))break;J.path.length>b.length+1||vo(vd(ue),o)<=0||(h.has(ue.key)||$c(n,ue))&&(m=m.insert(ue.key,ue.mutableCopy()))}return et.resolve(m)}getAllFromCollectionGroup(e,n,o,h){_n()}Cs(e,n){return et.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Ub(this)}getSize(e){return et.resolve(this.size)}}class Ub extends Ty{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,h)=>{h.isValidDocument()?n.push(this.os.addEntry(e,h)):this.os.removeEntry(o)}),et.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class vf{constructor(e){this.persistence=e,this.xs=new fl(n=>lu(n),Gh),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $_,this.targetCount=0,this.Ms=Qu.kn()}forEachTarget(e,n){return this.xs.forEach((o,h)=>n(h)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),et.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Qu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,et.resolve()}updateTargetData(e,n){return this.Fn(n),et.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,n,o){let h=0;const m=[];return this.xs.forEach((b,O)=>{O.sequenceNumber<=n&&null===o.get(O.targetId)&&(this.xs.delete(b),m.push(this.removeMatchingKeysForTargetId(e,O.targetId)),h++)}),et.waitFor(m).next(()=>h)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return et.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),et.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const h=this.persistence.referenceDelegate,m=[];return h&&n.forEach(b=>{m.push(h.markPotentiallyOrphaned(e,b))}),et.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),et.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return et.resolve(o)}containsKey(e,n){return et.resolve(this.ks.containsKey(n))}}class vm{constructor(e,n){this.$s={},this.overlays={},this.Os=new ns(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vf(this),this.indexManager=new Eg,this.remoteDocumentCache=new Vb(o=>this.referenceDelegate.Ls(o)),this.serializer=new k_(n),this.qs=new Sg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Dy(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){Rt("MemoryPersistence","Starting transaction:",e);const h=new yf(this.Os.next());return this.referenceDelegate.Us(),o(h).next(m=>this.referenceDelegate.Ks(h).next(()=>m)).toPromise().then(m=>(h.raiseOnCommittedEvent(),m))}Gs(e,n){return et.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class yf extends za{constructor(e){super(),this.currentSequenceNumber=e}}class bf{constructor(e){this.persistence=e,this.Qs=new $_,this.js=null}static zs(e){return new bf(e)}get Ws(){if(this.js)return this.js;throw _n()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),et.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),et.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(h=>this.Ws.add(h.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(h=>{h.forEach(m=>this.Ws.add(m.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ws,o=>{const h=Ft.fromPath(o);return this.Hs(e,h).next(m=>{m||n.removeEntry(h,In.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return et.or([()=>et.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Ag{constructor(e){this.serializer=e}O(e,n,o,h){const m=new ru("createOrUpgrade",n);var O;o<1&&h>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hu,{unique:!0}),O.createObjectStore("documentMutations"),ym(e),function(O){O.createObjectStore("remoteDocuments")}(e));let b=et.resolve();return o<3&&h>=3&&(0!==o&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),ym(e)),b=b.next(()=>function(O){const U=O.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:In.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",J)}(m))),o<4&&h>=4&&(0!==o&&(b=b.next(()=>function(O,U){return U.store("mutations").j().next(J=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hu,{unique:!0});const ue=U.store("mutations"),be=J.map(ze=>ue.put(ze));return et.waitFor(be)})}(e,m))),b=b.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&h>=5&&(b=b.next(()=>this.Ys(m))),o<6&&h>=6&&(b=b.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(m)))),o<7&&h>=7&&(b=b.next(()=>this.Zs(m))),o<8&&h>=8&&(b=b.next(()=>this.ti(e,m))),o<9&&h>=9&&(b=b.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&h>=10&&(b=b.next(()=>this.ei(m))),o<11&&h>=11&&(b=b.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&h>=12&&(b=b.next(()=>{!function(O){const U=O.createObjectStore("documentOverlays",{keyPath:yd});U.createIndex("collectionPathOverlayIndex",Vc,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Bh,{unique:!1})}(e)})),o<13&&h>=13&&(b=b.next(()=>function(O){const U=O.createObjectStore("remoteDocumentsV14",{keyPath:Dl});U.createIndex("documentKeyIndex",Nc),U.createIndex("collectionGroupIndex",Xd)}(e)).next(()=>this.ni(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&h>=14&&(b=b.next(()=>this.si(e,m))),o<15&&h>=15&&(b=b.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:su}).createIndex("sequenceNumberIndex",$u,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:ou}).createIndex("documentKeyIndex",Kf,{unique:!1})}(e))),b}Xs(e){let n=0;return e.store("remoteDocuments").X((o,h)=>{n+=pf(h)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.j().next(h=>et.forEach(h,m=>{const b=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",b).next(O=>et.forEach(O,U=>{Mn(U.userId===m.userId);const J=_u(this.serializer,U);return Ig(e,m.userId,J).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(h=>{const m=[];return o.X((b,O)=>{const U=new Gr(b),J=[0,Ks(U)];m.push(n.get(J).next(ue=>ue?et.resolve():n.put({targetId:0,path:Ks(U),sequenceNumber:h.highestListenSequenceNumber})))}).next(()=>et.waitFor(m))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Lc});const o=n.store("collectionParents"),h=new wg,m=b=>{if(h.add(b)){const O=b.lastSegment(),U=b.popLast();return o.put({collectionId:O,parent:Ks(U)})}};return n.store("remoteDocuments").X({Y:!0},(b,O)=>{const U=new Gr(b);return m(U.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([b,O,U],J)=>{const ue=aa(O);return m(ue.popLast())}))}ei(e){const n=e.store("targets");return n.X((o,h)=>{const m=ec(h),b=Yu(this.serializer,m);return n.put(b)})}ni(e,n){const o=n.store("remoteDocuments"),h=[];return o.X((m,b)=>{const O=n.store("remoteDocumentsV14"),U=(J=b,J.document?new Ft(Gr.fromString(J.document.name).popFirst(5)):J.noDocument?Ft.fromSegments(J.noDocument.path):J.unknownDocument?Ft.fromSegments(J.unknownDocument.path):_n()).path.toArray();var J;const ue={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};h.push(O.put(ue))}).next(()=>et.waitFor(h))}si(e,n){const o=n.store("mutations"),h=Tg(this.serializer),m=new vm(bf.zs,this.serializer.fe);return o.j().next(b=>{const O=new Map;return b.forEach(U=>{var J;let ue=null!==(J=O.get(U.userId))&&void 0!==J?J:Nr();_u(this.serializer,U).keys().forEach(be=>ue=ue.add(be)),O.set(U.userId,ue)}),et.forEach(O,(U,J)=>{const ue=new Ds(J),be=uf.de(this.serializer,ue),ze=m.getIndexManager(ue),We=mf.de(ue,this.serializer,ze,m.referenceDelegate);return new Dg(h,We,be,ze).recalculateAndSaveOverlaysForDocumentKeys(new Ga(n,ns.ct),U).next()})})}}function ym(i){i.createObjectStore("targetDocuments",{keyPath:zu}).createIndex("documentTargetsIndex",Fc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sl,{unique:!0}),i.createObjectStore("targetGlobal")}const uh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ef{constructor(e,n,o,h,m,b,O,U,J,ue,be=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.ii=m,this.window=b,this.document=O,this.ri=J,this.oi=ue,this.ui=be,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ze=>Promise.resolve(),!Ef.D())throw new wt(rt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lp(this,h),this.di=n+"main",this.serializer=new k_(U),this.wi=new Gi(this.di,this.ui,new Ag(this.serializer)),this.Bs=new B_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tg(this.serializer),this.qs=new Mb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===ue&&kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,uh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ns(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var o,n=this;return this.fi=function(h){return(o=o||(0,E.Z)(function*(m){if(n.started)return e(m)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var n;this.wi.B(function(o){return(n=n||(0,E.Z)(function*(h){null===h.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,E.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Wl(e))return Rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Iu(e).get("owner").next(n=>et.resolve(this.Ri(n)))}Pi(e){return wf(e).delete(this.clientId)}bi(){var e=this;return(0,E.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const h=cs(o,"clientMetadata");return h.j().next(m=>{const b=e.Si(m,18e5),O=m.filter(U=>-1===b.indexOf(U));return et.forEach(O,U=>h.delete(U.clientId)).next(()=>O)})}).catch(()=>[]);if(e._i)for(const o of n)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?et.resolve(!0):Iu(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new wt(rt.FAILED_PRECONDITION,uh);return!1}}return!(!this.networkEnabled||!this.inForeground)||wf(e).j().next(o=>void 0===this.Si(o,5e3).find(h=>!(this.clientId===h.clientId||!(!this.networkEnabled&&h.networkEnabled||!this.inForeground&&h.inForeground&&this.networkEnabled===h.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Rt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,E.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Ga(n,ns.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(o=>this.Vi(o.updateTimeMs,n)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>wf(e).j().next(n=>this.Si(n,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return mf.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hf(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return uf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,o){Rt("IndexedDbPersistence","Starting transaction:",e);const h="readonly"===n?"readonly":"readwrite",m=15===(b=this.ui)?yo:14===b?bd:13===b?Al:12===b?ql:11===b?Jd:void _n();var b;let O;return this.wi.runTransaction(e,h,m,U=>(O=new Ga(U,this.Os?this.Os.next():ns.ct),"readwrite-primary"===n?this.Ti(O).next(J=>!!J||this.Ei(O)).next(J=>{if(!J)throw kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new wt(rt.FAILED_PRECONDITION,Gl);return o(O)}).next(J=>this.vi(O).next(()=>J)):this.Oi(O).next(()=>o(O)))).then(U=>(O.raiseOnCommittedEvent(),U))}Oi(e){return Iu(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new wt(rt.FAILED_PRECONDITION,uh)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Iu(e).put("owner",n)}static D(){return Gi.D()}Ai(e){const n=Iu(e);return n.get("owner").next(o=>this.Ri(o)?(Rt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):et.resolve())}Vi(e,n){const o=Date.now();return!(e<o-n||e>o&&(kn(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const o=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Rt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return kn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){kn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Iu(i){return cs(i,"owner")}function wf(i){return cs(i,"clientMetadata")}function If(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Cf{constructor(e,n,o,h){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=h}static Li(e,n){let o=Nr(),h=Nr();for(const m of n.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:h=h.add(m.doc.key)}return new Cf(e,n.fromCache,o,h)}}class G_{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,h){return this.Ki(e,n).next(m=>m||this.Gi(e,n,h,o)).next(m=>m||this.Qi(e,n))}Ki(e,n){if(Zp(n))return et.resolve(null);let o=Wo(n);return this.indexManager.getIndexType(e,o).next(h=>0===h?null:(null!==n.limit&&1===h&&(n=Td(n,null,"F"),o=Wo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const b=Nr(...m);return this.Ui.getDocuments(e,b).next(O=>this.indexManager.getMinOffset(e,o).next(U=>{const J=this.ji(n,O);return this.zi(n,J,b,U.readTime)?this.Ki(e,Td(n,null,"F")):this.Wi(e,J,n,U)}))})))}Gi(e,n,o,h){return Zp(n)||h.isEqual(In.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(m=>{const b=this.ji(n,m);return this.zi(n,b,o,h)?this.Qi(e,n):(Ha()<=_.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),cu(n)),this.Wi(e,b,n,_a(h,-1)))})}ji(e,n){let o=new _i(Dd(e));return n.forEach((h,m)=>{$c(e,m)&&(o=o.add(m))}),o}zi(e,n,o,h){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(h)>0)}Qi(e,n){return Ha()<=_.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",cu(n)),this.Ui.getDocumentsMatchingQuery(e,n,$i.min())}Wi(e,n,o,h){return this.Ui.getDocumentsMatchingQuery(e,o,h).next(m=>(n.forEach(b=>{m=m.insert(b.key,b)}),m))}}class Mg{constructor(e,n,o,h){this.persistence=e,this.Hi=n,this.serializer=h,this.Ji=new Ii(gn),this.Yi=new fl(m=>lu(m),Gh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dg(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function dh(i,e,n,o){return new Mg(i,e,n,o)}function W_(i,e){return(pr=pr||(0,E.Z)(function*(n,o){const h=Xt(n);return yield h.persistence.runTransaction("Handle user change","readonly",m=>{let b;return h.mutationQueue.getAllMutationBatches(m).next(O=>(b=O,h.tr(o),h.mutationQueue.getAllMutationBatches(m))).next(O=>{const U=[],J=[];let ue=Nr();for(const be of b){U.push(be.batchId);for(const ze of be.mutations)ue=ue.add(ze.key)}for(const be of O){J.push(be.batchId);for(const ze of be.mutations)ue=ue.add(ze.key)}return h.localDocuments.getDocuments(m,ue).next(be=>({er:be,removedBatchIds:U,addedBatchIds:J}))})})})).apply(this,arguments)}function q_(i){const e=Xt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bm(i,e,n){let o=Nr(),h=Nr();return n.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let b=pl();return n.forEach((O,U)=>{const J=m.get(O);U.isFoundDocument()!==J.isFoundDocument()&&(h=h.add(O)),U.isNoDocument()&&U.version.isEqual(In.min())?(e.removeEntry(O,U.readTime),b=b.insert(O,U)):!J.isValidDocument()||U.version.compareTo(J.version)>0||0===U.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(U),b=b.insert(O,U)):Rt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",J.version," Watch version:",U.version)}),{nr:b,sr:h}})}function My(i,e){const n=Xt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function up(i,e){const n=Xt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let h;return n.Bs.getTargetData(o,e).next(m=>m?(h=m,et.resolve(h)):n.Bs.allocateTargetId(o).next(b=>(h=new Rd(e,b,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,h).next(()=>h))))}).then(o=>{const h=n.Ji.get(o.targetId);return(null===h||o.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}function xf(i,e,n){return(Mi=Mi||(0,E.Z)(function*(o,h,m){const b=Xt(o),O=b.Ji.get(h),U=m?"readwrite":"readwrite-primary";try{m||(yield b.persistence.runTransaction("Release target",U,J=>b.persistence.referenceDelegate.removeTarget(J,O)))}catch(J){if(!Wl(J))throw J;Rt("LocalStore",`Failed to update sequence numbers for target ${h}: ${J}`)}b.Ji=b.Ji.remove(h),b.Yi.delete(O.target)})).apply(this,arguments)}function Rg(i,e,n){const o=Xt(i);let h=In.min(),m=Nr();return o.persistence.runTransaction("Execute query","readonly",b=>function(O,U,J){const ue=Xt(O),be=ue.Yi.get(J);return void 0!==be?et.resolve(ue.Ji.get(be)):ue.Bs.getTargetData(U,J)}(o,b,Wo(e)).next(O=>{if(O)return h=O.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(b,O.targetId).next(U=>{m=U})}).next(()=>o.Hi.getDocumentsMatchingQuery(b,e,n?h:In.min(),n?m:Nr())).next(O=>(Em(o,Qh(e),O),{documents:O,ir:m})))}function K_(i,e){const n=Xt(i),o=Xt(n.Bs),h=n.Ji.get(e);return h?Promise.resolve(h.target):n.persistence.runTransaction("Get target data","readonly",m=>o.le(m,e).next(b=>b?b.target:null))}function dp(i,e){const n=Xt(i),o=n.Xi.get(e)||In.min();return n.persistence.runTransaction("Get new document changes","readonly",h=>n.Zi.getAllFromCollectionGroup(h,e,_a(o,-1),Number.MAX_SAFE_INTEGER)).then(h=>(Em(n,e,h),h))}function Em(i,e,n){let o=i.Xi.get(e)||In.min();n.forEach((h,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Xi.set(e,o)}function Z_(i,e){return(_s=_s||(0,E.Z)(function*(n,o,h=Nr()){const m=yield up(n,Wo(lm(o.bundledQuery))),b=Xt(n);return b.persistence.runTransaction("Save named query","readwrite",O=>{const U=Co(o.readTime);if(m.snapshotVersion.compareTo(U)>=0)return b.qs.saveNamedQuery(O,o);const J=m.withResumeToken(He.EMPTY_BYTE_STRING,U);return b.Ji=b.Ji.insert(J.targetId,J),b.Bs.updateTargetData(O,J).next(()=>b.Bs.removeMatchingKeysForTargetId(O,m.targetId)).next(()=>b.Bs.addMatchingKeys(O,h,m.targetId)).next(()=>b.qs.saveNamedQuery(O,o))})})).apply(this,arguments)}function wm(i,e){return`firestore_clients_${i}_${e}`}function hp(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Og(i,e){return`firestore_targets_${i}_${e}`}class fp{constructor(e,n,o,h){this.user=e,this.batchId=n,this.state=o,this.error=h}static ar(e,n,o){const h=JSON.parse(o);let m,b="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return b&&h.error&&(b="string"==typeof h.error.message&&"string"==typeof h.error.code,b&&(m=new wt(h.error.code,h.error.message))),b?new fp(e,n,h.state,m):(kn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pp{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static ar(e,n){const o=JSON.parse(n);let h,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(h=new wt(o.error.code,o.error.message))),m?new pp(e,o.state,h):(kn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const o=JSON.parse(n);let h="object"==typeof o&&o.activeTargetIds instanceof Array,m=du();for(let b=0;h&&b<o.activeTargetIds.length;++b)h=va(o.activeTargetIds[b]),m=m.add(o.activeTargetIds[b]);return h?new mp(e,m):(kn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Y_{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Y_(n.clientId,n.onlineState):(kn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Pg{constructor(){this.activeTargetIds=du()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hh{constructor(e,n,o,h,m){this.window=e,this.ii=n,this.persistenceKey=o,this.wr=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ii(gn),this.started=!1,this.yr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.pr=wm(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Pg),this.Tr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.Z)(function*(){const n=yield e.syncEngine.$i();for(const h of n){if(h===e.wr)continue;const m=e.getItem(wm(e.persistenceKey,h));if(m){const b=mp.ar(h,m);b&&(e.gr=e.gr.insert(b.clientId,b))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const h=e.br(o);h&&e.Vr(h)}for(const h of e.yr)e.mr(h);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((o,h)=>{h.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,o){this.Dr(e,n,o),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Og(this.persistenceKey,e));if(o){const h=pp.ar(e,o);h&&(n=h.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Og(this.persistenceKey,e))}updateQueryState(e,n,o){this.kr(e,n,o)}handleUserChange(e,n,o){n.forEach(h=>{this.Cr(h)}),this.currentUser=e,o.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Rt("SharedClientState","READ",e,n),n}setItem(e,n){Rt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Rt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,E.Z)(function*(){if(n.started){if(null!==o.key)if(n.Tr.test(o.key)){if(null==o.newValue){const h=n.Or(o.key);return n.Fr(h,null)}{const h=n.Br(o.key,o.newValue);if(h)return n.Fr(h.clientId,h)}}else if(n.Er.test(o.key)){if(null!==o.newValue){const h=n.Lr(o.key,o.newValue);if(h)return n.qr(h)}}else if(n.Ar.test(o.key)){if(null!==o.newValue){const h=n.Ur(o.key,o.newValue);if(h)return n.Kr(h)}}else if(o.key===n.vr){if(null!==o.newValue){const h=n.br(o.newValue);if(h)return n.Vr(h)}}else if(o.key===n.Ir){const h=function(m){let b=ns.ct;if(null!=m)try{const O=JSON.parse(m);Mn("number"==typeof O),b=O}catch(O){kn("SharedClientState","Failed to read sequence number from WebStorage",O)}return b}(o.newValue);h!==ns.ct&&n.sequenceNumberHandler(h)}else if(o.key===n.Rr){const h=n.Gr(o.newValue);yield Promise.all(h.map(m=>n.syncEngine.Qr(m)))}}else n.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,o){const h=new fp(this.currentUser,e,n,o),m=hp(this.persistenceKey,this.currentUser,e);this.setItem(m,h.hr())}Cr(e){const n=hp(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,o){const h=Og(this.persistenceKey,e),m=new pp(e,n,o);this.setItem(h,m.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const o=this.Or(e);return mp.ar(o,n)}Lr(e,n){const o=this.Er.exec(e),h=Number(o[1]);return fp.ar(new Ds(void 0!==o[2]?o[2]:null),h,n)}Ur(e,n){const o=this.Ar.exec(e),h=Number(o[1]);return pp.ar(h,n)}br(e){return Y_.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,E.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const o=n?this.gr.insert(e,n):this.gr.remove(e),h=this.Sr(this.gr),m=this.Sr(o),b=[],O=[];return m.forEach(U=>{h.has(U)||b.push(U)}),h.forEach(U=>{m.has(U)||O.push(U)}),this.syncEngine.Wr(b,O).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=du();return e.forEach((o,h)=>{n=n.unionWith(h.activeTargetIds)}),n}}class Q_{constructor(){this.Hr=new Pg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tf{Yr(e){}shutdown(){}}class Df{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Im=null;function Cm(){return null===Im?Im=268435456+Math.round(2147483648*Math.random()):Im++,"0x"+Im.toString(16)}const Oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Py{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xa="WebChannelConnection";class X_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,h,m){const b=Cm(),O=this.To(e,n);Rt("RestConnection",`Sending RPC '${e}' ${b}:`,O,o);const U={};return this.Eo(U,h,m),this.Ao(e,O,U,o).then(J=>(Rt("RestConnection",`Received RPC '${e}' ${b}: `,J),J),J=>{throw po("RestConnection",`RPC '${e}' ${b} failed with error: `,J,"url: ",O,"request:",o),J})}vo(e,n,o,h,m,b){return this.Io(e,n,o,h,m)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((h,m)=>e[m]=h),o&&o.headers.forEach((h,m)=>e[m]=h)}To(e,n){return`${this.mo}/v1/${n}:${Oy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,h){const m=Cm();return new Promise((b,O)=>{const U=new zt;U.setWithCredentials(!0),U.listenOnce(ye.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case q.NO_ERROR:const ue=U.getResponseJson();Rt(Xa,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(ue)),b(ue);break;case q.TIMEOUT:Rt(Xa,`RPC '${e}' ${m} timed out`),O(new wt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case q.HTTP_ERROR:const be=U.getStatus();if(Rt(Xa,`RPC '${e}' ${m} failed with status:`,be,"response text:",U.getResponseText()),be>0){let ze=U.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const We=ze?.error;if(We&&We.status&&We.message){const Ot=function(Wt){const en=Wt.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(en)>=0?en:rt.UNKNOWN}(We.status);O(new wt(Ot,We.message))}else O(new wt(rt.UNKNOWN,"Server responded with status "+U.getStatus()))}else O(new wt(rt.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{Rt(Xa,`RPC '${e}' ${m} completed.`)}});const J=JSON.stringify(h);Rt(Xa,`RPC '${e}' ${m} sending request:`,h),U.send(n,"POST",J,o,15)})}Ro(e,n,o){const h=Cm(),m=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],b=cl(),O=M(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},J=this.longPollingOptions.timeoutSeconds;void 0!==J&&(U.longPollingTimeout=Math.round(1e3*J)),this.useFetchStreams&&(U.xmlHttpFactory=new Re({})),this.Eo(U.initMessageHeaders,n,o),U.encodeInitMessageHeaders=!0;const ue=m.join("");Rt(Xa,`Creating RPC '${e}' stream ${h}: ${ue}`,U);const be=b.createWebChannel(ue,U);let ze=!1,We=!1;const Ot=new Py({ro:en=>{We?Rt(Xa,`Not sending because RPC '${e}' stream ${h} is closed:`,en):(ze||(Rt(Xa,`Opening RPC '${e}' stream ${h} transport.`),be.open(),ze=!0),Rt(Xa,`RPC '${e}' stream ${h} sending:`,en),be.send(en))},oo:()=>be.close()}),Wt=(en,gr,Vr)=>{en.listen(gr,Hn=>{try{Vr(Hn)}catch(Cr){setTimeout(()=>{throw Cr},0)}})};return Wt(be,ut.EventType.OPEN,()=>{We||Rt(Xa,`RPC '${e}' stream ${h} transport opened.`)}),Wt(be,ut.EventType.CLOSE,()=>{We||(We=!0,Rt(Xa,`RPC '${e}' stream ${h} transport closed`),Ot.wo())}),Wt(be,ut.EventType.ERROR,en=>{We||(We=!0,po(Xa,`RPC '${e}' stream ${h} transport errored:`,en),Ot.wo(new wt(rt.UNAVAILABLE,"The operation could not be completed")))}),Wt(be,ut.EventType.MESSAGE,en=>{var gr;if(!We){const Vr=en.data[0];Mn(!!Vr);const Cr=Vr.error||(null===(gr=Vr[0])||void 0===gr?void 0:gr.error);if(Cr){Rt(Xa,`RPC '${e}' stream ${h} received error:`,Cr);const Zi=Cr.status;let Vs=function(Au){const Gd=pe[Au];if(void 0!==Gd)return gt(Gd)}(Zi),el=Cr.message;void 0===Vs&&(Vs=rt.INTERNAL,el="Unknown error status: "+Zi+" with message "+Cr.message),We=!0,Ot.wo(new wt(Vs,el)),be.close()}else Rt(Xa,`RPC '${e}' stream ${h} received:`,Vr),Ot._o(Vr)}}),Wt(O,z.STAT_EVENT,en=>{en.stat===me.PROXY?Rt(Xa,`RPC '${e}' stream ${h} detected buffering proxy`):en.stat===me.NOPROXY&&Rt(Xa,`RPC '${e}' stream ${h} detected no buffering proxy`)}),setTimeout(()=>{Ot.fo()},0),Ot}}function kg(){return typeof window<"u"?window:null}function Ju(){return typeof document<"u"?document:null}function xm(i){return new Sb(i,!0)}class Sf{constructor(e,n,o=1e3,h=1.5,m=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=h,this.Vo=m,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),h=Math.max(0,n-o);h>0&&Rt("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,h,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Tm{constructor(e,n,o,h,m,b,O,U){this.ii=e,this.$o=o,this.Oo=h,this.connection=m,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=O,this.listener=U,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Sf(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,E.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,E.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,E.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===rt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,h])=>{this.Fo===n&&this.Zo(o,h)},o=>{e(()=>{const h=new wt(rt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(h)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(h=>{o(()=>this.tu(h))}),this.stream.onMessage(h=>{o(()=>this.onMessage(h))})}Go(){var e=this;this.state=5,this.qo.No((0,E.Z)(function*(){e.state=0,e.start()}))}tu(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ky extends Tm{constructor(e,n,o,h,m,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,h,b),this.serializer=m}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function sm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:_n(),h=e.targetChange.targetIds||[],m=function(U,J){return U.useProto3Json?(Mn(void 0===J||"string"==typeof J),He.fromBase64String(J||"")):(Mn(void 0===J||J instanceof Uint8Array),He.fromUint8Array(J||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,O=b&&function(U){const J=void 0===U.code?rt.UNKNOWN:gt(U.code);return new wt(J,U.message||"")}(b);n=new ba(o,h,m,O||null)}else if("documentChange"in e){const o=e.documentChange,h=kl(i,o.document.name),m=Co(o.document.updateTime),b=o.document.createTime?Co(o.document.createTime):In.min(),O=new R({mapValue:{fields:o.document.fields}}),U=oe.newFoundDocument(h,m,b,O);n=new Ki(o.targetIds||[],o.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const o=e.documentDelete,h=kl(i,o.document),m=o.readTime?Co(o.readTime):In.min(),b=oe.newNoDocument(h,m);n=new Ki([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,h=kl(i,o.document);n=new Ki([],o.removedTargetIds||[],h,null)}else{if(!("filter"in e))return _n();{const o=e.filter,{count:h=0,unchangedNames:m}=o,b=new re(h,m);n=new Lo(o.targetId,b)}}var U;return n}(this.serializer,e),o=function(h){if(!("targetChange"in h))return In.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?In.min():m.readTime?Co(m.readTime):In.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=ep(this.serializer),n.addTarget=function(h,m){let b;const O=m.target;if(b=Wh(O)?{documents:gg(h,O)}:{query:Gc(h,O)},b.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){b.resumeToken=rm(h,m.resumeToken);const U=mg(h,m.expectedCount);null!==U&&(b.expectedCount=U)}else if(m.snapshotVersion.compareTo(In.min())>0){b.readTime=Md(h,m.snapshotVersion.toTimestamp());const U=mg(h,m.expectedCount);null!==U&&(b.expectedCount=U)}return b}(this.serializer,e);const o=function vy(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _n()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.Wo(n)}}class J_ extends Tm{constructor(e,n,o,h,m,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,h,b),this.serializer=m,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function M_(i,e){return i&&i.length>0?(Mn(void 0!==e),i.map(n=>function(o,h){let m=Co(o.updateTime?o.updateTime:h);return m.isEqual(In.min())&&(m=Co(h)),new tf(m,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Co(e.commitTime);return this.listener.cu(o,n)}return Mn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ep(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Xl(this.serializer,o))};this.Wo(n)}}class ev extends class{}{constructor(e,n,o,h){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=h,this.lu=!1}fu(){if(this.lu)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Io(e,n,o,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new wt(rt.UNKNOWN,h.toString())})}vo(e,n,o,h){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.connection.vo(e,n,o,m,b,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new wt(rt.UNKNOWN,m.toString())})}terminate(){this.lu=!0}}class Ng{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(kn(n),this.mu=!1):Rt("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tv{constructor(e,n,o,h,m){var b=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=m,this.Pu.Yr(O=>{o.enqueueAndForget((0,E.Z)(function*(){var U;ed(b)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield function(J){return(U=U||(0,E.Z)(function*(ue){const be=Xt(ue);be.vu.add(4),yield Mf(be),be.bu.set("Unknown"),be.vu.delete(4),yield Af(be)})).apply(this,arguments)}(b))}))}),this.bu=new Ng(o,h)}}function Af(i){return(ra=ra||(0,E.Z)(function*(e){if(ed(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Mf(i){return(ia=ia||(0,E.Z)(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function gp(i,e){const n=Xt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),nv(n)?Dm(n):Rf(n).Ko()&&Ja(n,e))}function fh(i,e){const n=Xt(i),o=Rf(n);n.Au.delete(e),o.Ko()&&_p(n,e),0===n.Au.size&&(o.Ko()?o.jo():ed(n)&&n.bu.set("Unknown"))}function Ja(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(In.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rf(i).su(e)}function _p(i,e){i.Vu.qt(e),Rf(i).iu(e)}function Dm(i){i.Vu=new Jf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Rf(i).start(),i.bu.gu()}function nv(i){return ed(i)&&!Rf(i).Uo()&&i.Au.size>0}function ed(i){return 0===Xt(i).vu.size}function Fg(i){i.Vu=void 0}function td(i){return($o=$o||(0,E.Z)(function*(e){e.Au.forEach((n,o)=>{Ja(e,n)})})).apply(this,arguments)}function Ny(i,e){return(Ts=Ts||(0,E.Z)(function*(n,o){Fg(n),nv(n)?(n.bu.Iu(o),Dm(n)):n.bu.set("Unknown")})).apply(this,arguments)}function rv(i,e,n){return(ma=ma||(0,E.Z)(function*(o,h,m){if(o.bu.set("Online"),h instanceof ba&&2===h.state&&h.cause)try{var b;yield function(O,U){return(b=b||(0,E.Z)(function*(J,ue){const be=ue.cause;for(const ze of ue.targetIds)J.Au.has(ze)&&(yield J.remoteSyncer.rejectListen(ze,be),J.Au.delete(ze),J.Vu.removeTarget(ze))})).apply(this,arguments)}(o,h)}catch(O){Rt("RemoteStore","Failed to remove targets %s: %s ",h.targetIds.join(","),O),yield Lg(o,O)}else if(h instanceof Ki?o.Vu.Ht(h):h instanceof Lo?o.Vu.ne(h):o.Vu.Xt(h),!m.isEqual(In.min()))try{const O=yield q_(o.localStore);m.compareTo(O)>=0&&(yield function(U,J){const ue=U.Vu.ce(J);return ue.targetChanges.forEach((be,ze)=>{if(be.resumeToken.approximateByteSize()>0){const We=U.Au.get(ze);We&&U.Au.set(ze,We.withResumeToken(be.resumeToken,J))}}),ue.targetMismatches.forEach((be,ze)=>{const We=U.Au.get(be);if(!We)return;U.Au.set(be,We.withResumeToken(He.EMPTY_BYTE_STRING,We.snapshotVersion)),_p(U,be);const Ot=new Rd(We.target,be,ze,We.sequenceNumber);Ja(U,Ot)}),U.remoteSyncer.applyRemoteEvent(ue)}(o,m))}catch(O){Rt("RemoteStore","Failed to raise snapshot:",O),yield Lg(o,O)}})).apply(this,arguments)}function Lg(i,e,n){return(Ri=Ri||(0,E.Z)(function*(o,h,m){if(!Wl(h))throw h;o.vu.add(1),yield Mf(o),o.bu.set("Offline"),m||(m=()=>q_(o.localStore)),o.asyncQueue.enqueueRetryable((0,E.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield m(),o.vu.delete(1),yield Af(o)}))})).apply(this,arguments)}function qo(i,e){return e().catch(n=>Lg(i,n,e))}function ph(i){return(gi=gi||(0,E.Z)(function*(e){const n=Xt(e),o=mh(n);let h=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;Vg(n);)try{const m=yield My(n.localStore,h);if(null===m){0===n.Eu.length&&o.jo();break}h=m.batchId,iv(n,m)}catch(m){yield Lg(n,m)}sv(n)&&vp(n)})).apply(this,arguments)}function Vg(i){return ed(i)&&i.Eu.length<10}function iv(i,e){i.Eu.push(e);const n=mh(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function sv(i){return ed(i)&&!mh(i).Uo()&&i.Eu.length>0}function vp(i){mh(i).start()}function Sm(i){return(Sc=Sc||(0,E.Z)(function*(e){mh(e).hu()})).apply(this,arguments)}function ov(i){return(ul=ul||(0,E.Z)(function*(e){const n=mh(e);for(const o of e.Eu)n.uu(o.mutations)})).apply(this,arguments)}function av(i,e,n){return(fo=fo||(0,E.Z)(function*(o,h,m){const b=o.Eu.shift(),O=y.from(b,h,m);yield qo(o,()=>o.remoteSyncer.applySuccessfulWrite(O)),yield ph(o)})).apply(this,arguments)}function lv(i,e){return(Pu=Pu||(0,E.Z)(function*(n,o){var h;o&&mh(n).ou&&(yield function(m,b){return(h=h||(0,E.Z)(function*(O,U){if(Be(J=U.code)&&J!==rt.ABORTED){const ue=O.Eu.shift();mh(O).Qo(),yield qo(O,()=>O.remoteSyncer.rejectFailedWrite(ue.batchId,U)),yield ph(O)}var J})).apply(this,arguments)}(n,o)),sv(n)&&vp(n)})).apply(this,arguments)}function cv(i,e){return(Ac=Ac||(0,E.Z)(function*(n,o){const h=Xt(n);h.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const m=ed(h);h.vu.add(3),yield Mf(h),m&&h.bu.set("Unknown"),yield h.remoteSyncer.handleCredentialChange(o),h.vu.delete(3),yield Af(h)})).apply(this,arguments)}function uv(i,e){return(Hl=Hl||(0,E.Z)(function*(n,o){const h=Xt(n);o?(h.vu.delete(2),yield Af(h)):o||(h.vu.add(2),yield Mf(h),h.bu.set("Unknown"))})).apply(this,arguments)}function Rf(i){var e;return i.Su||(i.Su=function(n,o,h){const m=Xt(n);return m.fu(),new ky(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(i.datastore,i.asyncQueue,{uo:td.bind(null,i),ao:Ny.bind(null,i),nu:rv.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,E.Z)(function*(o){o?(i.Su.Qo(),nv(i)?Dm(i):i.bu.set("Unknown")):(yield i.Su.stop(),Fg(i))})).apply(this,arguments)})),i.Su}function mh(i){var e;return i.Du||(i.Du=function(n,o,h){const m=Xt(n);return m.fu(),new J_(o,m.connection,m.authCredentials,m.appCheckCredentials,m.serializer,h)}(i.datastore,i.asyncQueue,{uo:Sm.bind(null,i),ao:lv.bind(null,i),au:ov.bind(null,i),cu:av.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,E.Z)(function*(o){o?(i.Du.Qo(),yield ph(i)):(yield i.Du.stop(),i.Eu.length>0&&(Rt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})).apply(this,arguments)})),i.Du}class Am{constructor(e,n,o,h,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=h,this.removalCallback=m,this.deferred=new D,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,n,o,h,m){const b=Date.now()+o,O=new Am(e,n,b,h,m);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(i,e){if(kn("AsyncQueue",`${e}: ${i}`),Wl(i))return new wt(rt.UNAVAILABLE,`${e}: ${i}`);throw i}class Nl{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ft.comparator(n.key,o.key):(n,o)=>Ft.comparator(n.key,o.key),this.keyedMap=uu(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new Nl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const h=n.getNext().key,m=o.getNext().key;if(!h.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Nl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class gh{constructor(){this.Cu=new Ii(Ft.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):_n():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class _h{constructor(e,n,o,h,m,b,O,U,J){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=h,this.mutatedKeys=m,this.fromCache=b,this.syncStateChanged=O,this.excludesMetadataChanges=U,this.hasCachedResults=J}static fromInitialDocuments(e,n,o,h,m){const b=[];return n.forEach(O=>{b.push({type:0,doc:O})}),new _h(e,n,Nl.emptySet(n),b,o,h,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let h=0;h<n.length;h++)if(n[h].type!==o[h].type||!n[h].doc.isEqual(o[h].doc))return!1;return!0}}class Fy{constructor(){this.Nu=void 0,this.listeners=[]}}class dv{constructor(){this.queries=new fl(e=>qu(e),Ht),this.onlineState="Unknown",this.ku=new Set}}function vh(i,e){return(sa=sa||(0,E.Z)(function*(n,o){const h=Xt(n),m=o.query;let b=!1,O=h.queries.get(m);if(O||(b=!0,O=new Fy),b)try{O.Nu=yield h.onListen(m)}catch(U){const J=Wc(U,`Initialization of query '${cu(o.query)}' failed`);return void o.onError(J)}h.queries.set(m,O),O.listeners.push(o),o.Mu(h.onlineState),O.Nu&&o.$u(O.Nu)&&yp(h)})).apply(this,arguments)}function yh(i,e){return(Mc=Mc||(0,E.Z)(function*(n,o){const h=Xt(n),m=o.query;let b=!1;const O=h.queries.get(m);if(O){const U=O.listeners.indexOf(o);U>=0&&(O.listeners.splice(U,1),b=0===O.listeners.length)}if(b)return h.queries.delete(m),h.onUnlisten(m)})).apply(this,arguments)}function hv(i,e){const n=Xt(i);let o=!1;for(const h of e){const b=n.queries.get(h.query);if(b){for(const O of b.listeners)O.$u(h)&&(o=!0);b.Nu=h}}o&&yp(n)}function jb(i,e,n){const o=Xt(i),h=o.queries.get(e);if(h)for(const m of h.listeners)m.onError(n);o.queries.delete(e)}function yp(i){i.ku.forEach(e=>{e.next()})}class Cu{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const h of e.docChanges)3!==h.type&&o.push(h);e=new _h(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Of{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class qc{constructor(e){this.serializer=e}rr(e){return kl(this.serializer,e)}ur(e){return e.metadata.exists?_y(this.serializer,e.document,!1):oe.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Co(e)}}class Ly{constructor(e,n,o){this.ju=e,this.localStore=n,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fv(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const o=Gr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,o=new qc(this.serializer);for(const h of e)if(h.metadata.queries){const m=o.rr(h.metadata.name);for(const b of h.metadata.queries){const O=(n.get(b)||Nr()).add(m);n.set(b,O)}}return n}complete(){var e=this;return(0,E.Z)(function*(){const n=yield function Ry(i,e,n,o){return(di=di||(0,E.Z)(function*(h,m,b,O){const U=Xt(h);let J=Nr(),ue=pl();for(const We of b){const Ot=m.rr(We.metadata.name);We.document&&(J=J.add(Ot));const Wt=m.ur(We);Wt.setReadTime(m.cr(We.metadata.readTime)),ue=ue.insert(Ot,Wt)}const be=U.Zi.newChangeBuffer({trackRemovals:!0}),ze=yield up(U,(We=O,Wo(zc(Gr.fromString(`__bundle__/docs/${We}`)))));var We;return U.persistence.runTransaction("Apply bundle documents","readwrite",We=>bm(We,be,ue).next(Ot=>(be.apply(We),Ot)).next(Ot=>U.Bs.removeMatchingKeysForTargetId(We,ze.targetId).next(()=>U.Bs.addMatchingKeys(We,J,ze.targetId)).next(()=>U.localDocuments.getLocalViewOfDocuments(We,Ot.nr,Ot.sr)).next(()=>Ot.nr)))})).apply(this,arguments)}(e.localStore,new qc(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const h of e.queries)yield Z_(e.localStore,h,o.get(h.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function fv(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class pv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class gv{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nr(),this.mutatedKeys=Nr(),this.tc=Dd(e),this.ec=new Nl(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new gh,h=n?n.ec:this.ec;let m=n?n.mutatedKeys:this.mutatedKeys,b=h,O=!1;const U="F"===this.query.limitType&&h.size===this.query.limit?h.last():null,J="L"===this.query.limitType&&h.size===this.query.limit?h.first():null;if(e.inorderTraversal((ue,be)=>{const ze=h.get(ue),We=$c(this.query,be)?be:null,Ot=!!ze&&this.mutatedKeys.has(ze.key),Wt=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let en=!1;ze&&We?ze.data.isEqual(We.data)?Ot!==Wt&&(o.track({type:3,doc:We}),en=!0):this.rc(ze,We)||(o.track({type:2,doc:We}),en=!0,(U&&this.tc(We,U)>0||J&&this.tc(We,J)<0)&&(O=!0)):!ze&&We?(o.track({type:0,doc:We}),en=!0):ze&&!We&&(o.track({type:1,doc:ze}),en=!0,(U||J)&&(O=!0)),en&&(We?(b=b.add(We),m=Wt?m.add(ue):m.delete(ue)):(b=b.delete(ue),m=m.delete(ue)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ue="F"===this.query.limitType?b.last():b.first();b=b.delete(ue.key),m=m.delete(ue.key),o.track({type:1,doc:ue})}return{ec:b,ic:o,zi:O,mutatedKeys:m}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const h=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const m=e.ic.xu();m.sort((J,ue)=>function(be,ze){const We=Ot=>{switch(Ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return We(be)-We(ze)}(J.type,ue.type)||this.tc(J.doc,ue.doc)),this.oc(o);const b=n?this.uc():[],O=0===this.Zu.size&&this.current?1:0,U=O!==this.Xu;return this.Xu=O,0!==m.length||U?{snapshot:new _h(this.query,e.ec,h,m,e.mutatedKeys,0===O,U,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:b}:{cc:b}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Nr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new mv(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new pv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Nr();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return _h.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ug{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Bg{constructor(e){this.key=e,this.fc=!1}}class kd{constructor(e,n,o,h,m,b){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=h,this.currentUser=m,this.maxConcurrentLimboResolutions=b,this.dc={},this.wc=new fl(O=>qu(O),Ht),this._c=new Map,this.mc=new Set,this.gc=new Ii(Ft.comparator),this.yc=new Map,this.Ic=new $_,this.Tc={},this.Ec=new Map,this.Ac=Qu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eE(i,e){return(Rc=Rc||(0,E.Z)(function*(n,o){const h=Nm(n);let m,b;const O=h.wc.get(o);if(O)m=O.targetId,h.sharedClientState.addLocalQueryTarget(m),b=O.view.lc();else{const U=yield up(h.localStore,Wo(o)),J=h.sharedClientState.addLocalQueryTarget(U.targetId);m=U.targetId,b=yield _v(h,o,m,"current"===J,U.resumeToken),h.isPrimaryClient&&gp(h.remoteStore,U)}return b})).apply(this,arguments)}function _v(i,e,n,o,h){return(ku=ku||(0,E.Z)(function*(m,b,O,U,J){m.Rc=(en,gr,Vr)=>{var Hn;return function(Cr,Zi,Vs,el){return(Hn=Hn||(0,E.Z)(function*(Au,Gd,qv,sg){let Wf=Gd.view.sc(qv);Wf.zi&&(Wf=yield Rg(Au.localStore,Gd.query,!1).then(({documents:Kv})=>Gd.view.sc(Kv,Wf)));const a0=sg&&sg.targetChanges.get(Gd.targetId),Zo=Gd.view.applyChanges(Wf,Au.isPrimaryClient,a0);return Nf(Au,Gd.targetId,Zo.cc),Zo.snapshot})).apply(this,arguments)}(m,en,gr,Vr)};const ue=yield Rg(m.localStore,b,!0),be=new gv(b,ue.ir),ze=be.sc(ue.documents),We=ya.createSynthesizedTargetChangeForCurrentChange(O,U&&"Offline"!==m.onlineState,J),Ot=be.applyChanges(ze,m.isPrimaryClient,We);Nf(m,O,Ot.cc);const Wt=new Ug(b,O,be);return m.wc.set(b,Wt),m._c.has(O)?m._c.get(O).push(b):m._c.set(O,[b]),Ot.snapshot})).apply(this,arguments)}function vv(i,e){return(Cl=Cl||(0,E.Z)(function*(n,o){const h=Xt(n),m=h.wc.get(o),b=h._c.get(m.targetId);if(b.length>1)return h._c.set(m.targetId,b.filter(O=>!Ht(O,o))),void h.wc.delete(o);h.isPrimaryClient?(h.sharedClientState.removeLocalQueryTarget(m.targetId),h.sharedClientState.isActiveQueryTarget(m.targetId)||(yield xf(h.localStore,m.targetId,!1).then(()=>{h.sharedClientState.clearQueryState(m.targetId),fh(h.remoteStore,m.targetId),mr(h,m.targetId)}).catch(Fs))):(mr(h,m.targetId),yield xf(h.localStore,m.targetId,!0))})).apply(this,arguments)}function yv(i,e){return(dl=dl||(0,E.Z)(function*(n,o){const h=Xt(n);try{const m=yield function Ay(i,e){const n=Xt(i),o=e.snapshotVersion;let h=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const b=n.Zi.newChangeBuffer({trackRemovals:!0});h=n.Ji;const O=[];e.targetChanges.forEach((ue,be)=>{const ze=h.get(be);if(!ze)return;O.push(n.Bs.removeMatchingKeys(m,ue.removedDocuments,be).next(()=>n.Bs.addMatchingKeys(m,ue.addedDocuments,be)));let We=ze.withSequenceNumber(m.currentSequenceNumber);var Ot,Wt,en;null!==e.targetMismatches.get(be)?We=We.withResumeToken(He.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):ue.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken(ue.resumeToken,o)),h=h.insert(be,We),Wt=We,en=ue,(0===(Ot=ze).resumeToken.approximateByteSize()||Wt.snapshotVersion.toMicroseconds()-Ot.snapshotVersion.toMicroseconds()>=3e8||en.addedDocuments.size+en.modifiedDocuments.size+en.removedDocuments.size>0)&&O.push(n.Bs.updateTargetData(m,We))});let U=pl(),J=Nr();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&O.push(n.persistence.referenceDelegate.updateLimboDocument(m,ue))}),O.push(bm(m,b,e.documentUpdates).next(ue=>{U=ue.nr,J=ue.sr})),!o.isEqual(In.min())){const ue=n.Bs.getLastRemoteSnapshotVersion(m).next(be=>n.Bs.setTargetsMetadata(m,m.currentSequenceNumber,o));O.push(ue)}return et.waitFor(O).next(()=>b.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,U,J)).next(()=>U)}).then(m=>(n.Ji=h,m))}(h.localStore,o);o.targetChanges.forEach((b,O)=>{const U=h.yc.get(O);U&&(Mn(b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size<=1),b.addedDocuments.size>0?U.fc=!0:b.modifiedDocuments.size>0?Mn(U.fc):b.removedDocuments.size>0&&(Mn(U.fc),U.fc=!1))}),yield Fd(h,m,o)}catch(m){yield Fs(m)}})).apply(this,arguments)}function Pf(i,e,n){const o=Xt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const h=[];o.wc.forEach((m,b)=>{const O=b.view.Mu(e);O.snapshot&&h.push(O.snapshot)}),function(m,b){const O=Xt(m);O.onlineState=b;let U=!1;O.queries.forEach((J,ue)=>{for(const be of ue.listeners)be.Mu(b)&&(U=!0)}),U&&yp(O)}(o.eventManager,e),h.length&&o.dc.nu(h),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Hb(i,e,n){return(Yd=Yd||(0,E.Z)(function*(o,h,m){const b=Xt(o);b.sharedClientState.updateQueryState(h,"rejected",m);const O=b.yc.get(h),U=O&&O.key;if(U){let J=new Ii(Ft.comparator);J=J.insert(U,oe.newNoDocument(U,In.min()));const ue=Nr().add(U),be=new Ql(In.min(),new Map,new Ii(gn),J,ue);yield yv(b,be),b.gc=b.gc.remove(U),b.yc.delete(h),Rm(b)}else yield xf(b.localStore,h,!1).then(()=>mr(b,h,m)).catch(Fs)})).apply(this,arguments)}function kf(i,e){return(zl=zl||(0,E.Z)(function*(n,o){const h=Xt(n),m=o.batch.batchId;try{const b=yield function Sy(i,e){const n=Xt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const h=e.batch.keys(),m=n.Zi.newChangeBuffer({trackRemovals:!0});return function(b,O,U,J){const ue=U.batch,be=ue.keys();let ze=et.resolve();return be.forEach(We=>{ze=ze.next(()=>J.getEntry(O,We)).next(Ot=>{const Wt=U.docVersions.get(We);Mn(null!==Wt),Ot.version.compareTo(Wt)<0&&(ue.applyToRemoteDocument(Ot,U),Ot.isValidDocument()&&(Ot.setReadTime(U.commitVersion),J.addEntry(Ot)))})}),ze.next(()=>b.mutationQueue.removeMutationBatch(O,ue))}(n,o,e,m).next(()=>m.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,h,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let O=Nr();for(let U=0;U<b.mutationResults.length;++U)b.mutationResults[U].transformResults.length>0&&(O=O.add(b.batch.mutations[U].key));return O}(e))).next(()=>n.localDocuments.getDocuments(o,h))})}(h.localStore,o);Nd(h,m,null),bp(h,m),h.sharedClientState.updateMutationState(m,"acknowledged"),yield Fd(h,b)}catch(b){yield Fs(b)}})).apply(this,arguments)}function Mm(i,e,n){return(Oc=Oc||(0,E.Z)(function*(o,h,m){const b=Xt(o);try{const O=yield function(U,J){const ue=Xt(U);return ue.persistence.runTransaction("Reject batch","readwrite-primary",be=>{let ze;return ue.mutationQueue.lookupMutationBatch(be,J).next(We=>(Mn(null!==We),ze=We.keys(),ue.mutationQueue.removeMutationBatch(be,We))).next(()=>ue.mutationQueue.performConsistencyCheck(be)).next(()=>ue.documentOverlayCache.removeOverlaysForBatchId(be,ze,J)).next(()=>ue.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(be,ze)).next(()=>ue.localDocuments.getDocuments(be,ze))})}(b.localStore,h);Nd(b,h,m),bp(b,h),b.sharedClientState.updateMutationState(h,"rejected",m),yield Fd(b,O)}catch(O){yield Fs(O)}})).apply(this,arguments)}function bp(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Nd(i,e,n){const o=Xt(i);let h=o.Tc[o.currentUser.toKey()];if(h){const m=h.get(e);m&&(n?m.reject(n):m.resolve(),h=h.remove(e)),o.Tc[o.currentUser.toKey()]=h}}function mr(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Ep(i,o)})}function Ep(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(fh(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Rm(i))}function Nf(i,e,n){for(const o of n)o instanceof pv?(i.Ic.addReference(o.key,e),wp(i,o)):o instanceof mv?(Rt("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Ep(i,o.key)):_n()}function wp(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(Rt("SyncEngine","New document in limbo: "+n),i.mc.add(o),Rm(i))}function Rm(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new Ft(Gr.fromString(e)),o=i.Ac.next();i.yc.set(o,new Bg(n)),i.gc=i.gc.insert(n,o),gp(i.remoteStore,new Rd(Wo(zc(n.path)),o,"TargetPurposeLimboResolution",ns.ct))}}function Fd(i,e,n){return(qn=qn||(0,E.Z)(function*(o,h,m){var b;const O=Xt(o),U=[],J=[],ue=[];O.wc.isEmpty()||(O.wc.forEach((be,ze)=>{ue.push(O.Rc(ze,h,m).then(We=>{if((We||m)&&O.isPrimaryClient&&O.sharedClientState.updateQueryState(ze.targetId,We?.fromCache?"not-current":"current"),We){U.push(We);const Ot=Cf.Li(ze.targetId,We);J.push(Ot)}}))}),yield Promise.all(ue),O.dc.nu(U),yield function(be,ze){return(b=b||(0,E.Z)(function*(We,Ot){const Wt=Xt(We);try{yield Wt.persistence.runTransaction("notifyLocalViewChanges","readwrite",en=>et.forEach(Ot,gr=>et.forEach(gr.Fi,Vr=>Wt.persistence.referenceDelegate.addReference(en,gr.targetId,Vr)).next(()=>et.forEach(gr.Bi,Vr=>Wt.persistence.referenceDelegate.removeReference(en,gr.targetId,Vr)))))}catch(en){if(!Wl(en))throw en;Rt("LocalStore","Failed to update sequence numbers: "+en)}for(const en of Ot){const gr=en.targetId;if(!en.fromCache){const Vr=Wt.Ji.get(gr),Cr=Vr.withLastLimboFreeSnapshotVersion(Vr.snapshotVersion);Wt.Ji=Wt.Ji.insert(gr,Cr)}}})).apply(this,arguments)}(O.localStore,J))})).apply(this,arguments)}function Ip(i,e){return(ac=ac||(0,E.Z)(function*(n,o){const h=Xt(n);if(!h.currentUser.isEqual(o)){Rt("SyncEngine","User change. New user:",o.toKey());const m=yield W_(h.localStore,o);h.currentUser=o,(b=h).Ec.forEach(U=>{U.forEach(J=>{J.reject(new wt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),b.Ec.clear(),h.sharedClientState.handleUserChange(o,m.removedBatchIds,m.addedBatchIds),yield Fd(h,m.er)}var b})).apply(this,arguments)}function Cp(i,e){const n=Xt(i),o=n.yc.get(e);if(o&&o.fc)return Nr().add(o.key);{let h=Nr();const m=n._c.get(e);if(!m)return h;for(const b of m){const O=n.wc.get(b);h=h.unionWith(O.view.nc)}return h}}function Om(i,e){return(Fu=Fu||(0,E.Z)(function*(n,o){const h=Xt(n),m=yield Rg(h.localStore,o.query,!0),b=o.view.hc(m);return h.isPrimaryClient&&Nf(h,o.targetId,b.cc),b})).apply(this,arguments)}function Pm(i,e){return(Lu=Lu||(0,E.Z)(function*(n,o){const h=Xt(n);return dp(h.localStore,o).then(m=>Fd(h,m))})).apply(this,arguments)}function bv(i,e,n,o){return(Vu=Vu||(0,E.Z)(function*(h,m,b,O){const U=Xt(h),J=yield function(ue,be){const ze=Xt(ue),We=Xt(ze.mutationQueue);return ze.persistence.runTransaction("Lookup mutation documents","readonly",Ot=>We.Sn(Ot,be).next(Wt=>Wt?ze.localDocuments.getDocuments(Ot,Wt):et.resolve(null)))}(U.localStore,m);var be;null!==J?("pending"===b?yield ph(U.remoteStore):"acknowledged"===b||"rejected"===b?(Nd(U,m,O||null),bp(U,m),be=m,Xt(Xt(U.localStore).mutationQueue).Cn(be)):_n(),yield Fd(U,J)):Rt("SyncEngine","Cannot apply mutation batch with id: "+m)})).apply(this,arguments)}function zg(i,e,n){return($l=$l||(0,E.Z)(function*(o,h,m){const b=Xt(o),O=[],U=[];for(const J of h){let ue;const be=b._c.get(J);if(be&&0!==be.length){ue=yield up(b.localStore,Wo(be[0]));for(const ze of be){const We=b.wc.get(ze),Ot=yield Om(b,We);Ot.snapshot&&U.push(Ot.snapshot)}}else{const ze=yield K_(b.localStore,J);ue=yield up(b.localStore,ze),yield _v(b,km(ze),J,!1,ue.resumeToken)}O.push(ue)}return b.dc.nu(U),O})).apply(this,arguments)}function km(i){return Kp(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function xp(i){const e=Xt(i);return Xt(Xt(e.localStore).persistence).$i()}function $g(i,e,n,o){return(Oo=Oo||(0,E.Z)(function*(h,m,b,O){const U=Xt(h);if(U.vc)return void Rt("SyncEngine","Ignoring unexpected query state notification.");const J=U._c.get(m);if(J&&J.length>0)switch(b){case"current":case"not-current":{const ue=yield dp(U.localStore,Qh(J[0])),be=Ql.createSynthesizedRemoteEventForCurrentChange(m,"current"===b,He.EMPTY_BYTE_STRING);yield Fd(U,ue,be);break}case"rejected":yield xf(U.localStore,m,!0),mr(U,m,O);break;default:_n()}})).apply(this,arguments)}function Uy(i,e,n){return(xl=xl||(0,E.Z)(function*(o,h,m){const b=Nm(o);if(b.vc){for(const O of h){if(b._c.has(O)){Rt("SyncEngine","Adding an already active target "+O);continue}const U=yield K_(b.localStore,O),J=yield up(b.localStore,U);yield _v(b,km(U),J.targetId,!1,J.resumeToken),gp(b.remoteStore,J)}for(const O of m)b._c.has(O)&&(yield xf(b.localStore,O,!1).then(()=>{fh(b.remoteStore,O),mr(b,O)}).catch(Fs))}})).apply(this,arguments)}function Nm(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hb.bind(null,e),e.dc.nu=hv.bind(null,e.eventManager),e.dc.Pc=jb.bind(null,e.eventManager),e}function Ev(i){const e=Xt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,e),e}class Fm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.Z)(function*(){n.serializer=xm(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dh(this.persistence,new G_,e.initialUser,this.serializer)}createPersistence(e){return new vm(bf.zs,this.serializer)}createSharedClientState(e){return new Q_}terminate(){var e=this;return(0,E.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wv extends Fm{constructor(e,n,o){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,E.Z)(function*(){yield n().call(o,e),yield o.Vc.initialize(o,e),yield Ev(o.Vc.syncEngine),yield ph(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return dh(this.persistence,new G_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new mm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const o=new $p(n,this.persistence);return new Lh(e.asyncQueue,o)}createPersistence(e){const n=If(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Qa.withCacheSize(this.cacheSizeBytes):Qa.DEFAULT;return new Ef(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,kg(),Ju(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Q_}}class jy extends wv{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,E.Z)(function*(){var h;yield n().call(o,e);const m=o.Vc.syncEngine;o.sharedClientState instanceof hh&&(o.sharedClientState.syncEngine={jr:bv.bind(null,m),zr:$g.bind(null,m),Wr:Uy.bind(null,m),$i:xp.bind(null,m),Qr:Pm.bind(null,m)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(b){return(h=h||(0,E.Z)(function*(O){yield function Hg(i,e){return(Pc=Pc||(0,E.Z)(function*(n,o){const h=Xt(n);if(Nm(h),Ev(h),!0===o&&!0!==h.vc){const m=h.sharedClientState.getAllActiveQueryTargets(),b=yield zg(h,m.toArray());h.vc=!0,yield uv(h.remoteStore,!0);for(const O of b)gp(h.remoteStore,O)}else if(!1===o&&!1!==h.vc){const m=[];let b=Promise.resolve();h._c.forEach((O,U)=>{h.sharedClientState.isLocalQueryTarget(U)?m.push(U):b=b.then(()=>(mr(h,U),xf(h.localStore,U,!0))),fh(h.remoteStore,U)}),yield b,yield zg(h,m),function(O){const U=Xt(O);U.yc.forEach((J,ue)=>{fh(U.remoteStore,ue)}),U.Ic.Ts(),U.yc=new Map,U.gc=new Ii(Ft.comparator)}(h),h.vc=!1,yield uv(h.remoteStore,!1)}})).apply(this,arguments)}(o.Vc.syncEngine,O),o.gcScheduler&&(O&&!o.gcScheduler.started?o.gcScheduler.start():O||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(O&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():O||o.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const n=kg();if(!hh.D(n))throw new wt(rt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=If(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hh(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class bh{initialize(e,n){var o=this;return(0,E.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=h=>Pf(o.syncEngine,h,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ip.bind(null,o.syncEngine),yield uv(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dv}createDatastore(e){const n=xm(e.databaseInfo.databaseId),o=new X_(e.databaseInfo);return new ev(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,h=e.asyncQueue,m=O=>Pf(this.syncEngine,O,0),b=Df.D()?new Df:new Tf,new tv(n,o,h,m,b);var n,o,h,m,b}createSyncEngine(e,n){return function(o,h,m,b,O,U,J){const ue=new kd(o,h,m,b,O,U);return J&&(ue.vc=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||(0,E.Z)(function*(o){const h=Xt(o);Rt("RemoteStore","RemoteStore shutting down."),h.vu.add(5),yield Mf(h),h.Pu.shutdown(),h.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function Gg(i,e=10240){let n=0;return{read:()=>(0,E.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,E.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Tp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hy{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new D,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,E.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,E.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,E.Z)(function*(){const n=yield e.kc();if(null===n)return null;const o=e.xc.decode(n),h=Number(o);isNaN(h)&&e.Mc(`length string (${o}) is not valid number`);const m=yield e.$c(h);return new Of(JSON.parse(m),n.length+h)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,E.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}$c(e){var n=this;return(0,E.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const o=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,E.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Ec{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,E.Z)(function*(){var o;if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new wt(rt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const h=yield function(m,b){return(o=o||(0,E.Z)(function*(O,U){const J=Xt(O),ue=ep(J.serializer)+"/documents",be={documents:U.map(Wt=>oh(J.serializer,Wt))},ze=yield J.vo("BatchGetDocuments",ue,be,U.length),We=new Map;ze.forEach(Wt=>{const en=function af(i,e){return"found"in e?function(n,o){Mn(!!o.found);const h=kl(n,o.found.name),m=Co(o.found.updateTime),b=o.found.createTime?Co(o.found.createTime):In.min(),O=new R({mapValue:{fields:o.found.fields}});return oe.newFoundDocument(h,m,b,O)}(i,e):"missing"in e?function(n,o){Mn(!!o.missing),Mn(!!o.readTime);const h=kl(n,o.missing),m=Co(o.readTime);return oe.newNoDocument(h,m)}(i,e):_n()}(J.serializer,Wt);We.set(en.key.toString(),en)});const Ot=[];return U.forEach(Wt=>{const en=We.get(Wt.toString());Mn(!!en),Ot.push(en)}),Ot})).apply(this,arguments)}(n.datastore,e);return h.forEach(m=>n.recordVersion(m)),h})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new sh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.Z)(function*(){var n;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const o=e.readVersions;e.mutations.forEach(h=>{o.delete(h.key.toString())}),o.forEach((h,m)=>{const b=Ft.fromPath(m);e.mutations.push(new L(b,e.precondition(b)))}),yield function(h,m){return(n=n||(0,E.Z)(function*(b,O){const U=Xt(b),J=ep(U.serializer)+"/documents",ue={writes:O.map(be=>Xl(U.serializer,be))};yield U.Io("Commit",J,ue)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _n();n=In.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new wt(rt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(In.min())?As.exists(!1):As.updateTime(n):As.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(In.min()))throw new wt(rt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return As.updateTime(n)}return As.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $b{constructor(e,n,o,h,m){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=h,this.deferred=m,this.Bc=o.maxAttempts,this.qo=new Sf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,E.Z)(function*(){const n=new Ec(e.datastore),o=e.qc(n);o&&o.then(h=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(h)}).catch(m=>{e.Uc(m)}))}).catch(h=>{e.Uc(h)})}))}qc(e){try{const n=this.updateFunction(e);return!Aa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Be(n)}return!1}}class Gb{constructor(e,n,o,h){var b,m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=h,this.user=Ds.UNAUTHENTICATED,this.clientId=tr.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(O){return(b=b||(0,E.Z)(function*(U){Rt("FirestoreClient","Received user=",U.uid),yield m.authCredentialListener(U),m.user=U})).apply(this,arguments)}),this.appCheckCredentials.start(o,O=>(Rt("FirestoreClient","Received new app check token=",O),this.appCheckCredentialListener(O,this.user)))}getConfiguration(){var e=this;return(0,E.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new D;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const h=Wc(o,"Failed to shutdown persistence");n.reject(h)}})),n.promise}}function Lm(i,e){return(Uu=Uu||(0,E.Z)(function*(n,o){var h;n.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const m=yield n.getConfiguration();yield o.initialize(m);let b=m.initialUser;n.setCredentialChangeListener(function(O){return(h=h||(0,E.Z)(function*(U){b.isEqual(U)||(yield W_(o.localStore,U),b=U)})).apply(this,arguments)}),o.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=o})).apply(this,arguments)}function Eh(i,e){return(Bu=Bu||(0,E.Z)(function*(n,o){n.asyncQueue.verifyOperationInProgress();const h=yield qg(n);Rt("FirestoreClient","Initializing OnlineComponentProvider");const m=yield n.getConfiguration();yield o.initialize(h,m),n.setCredentialChangeListener(b=>cv(o.remoteStore,b)),n.setAppCheckTokenChangeListener((b,O)=>cv(o.remoteStore,O)),n._onlineComponents=o})).apply(this,arguments)}function Wg(i){return"FirebaseError"===i.name?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function qg(i){return(tu=tu||(0,E.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lm(e,e._uninitializedComponentsProvider._offline)}catch(n){const o=n;if(!Wg(o))throw o;po("Error using user provided cache. Falling back to memory cache: "+o),yield Lm(e,new Fm)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield Lm(e,new Fm);return e._offlineComponents})).apply(this,arguments)}function Vm(i){return(gd=gd||(0,E.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Eh(e,e._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield Eh(e,new bh))),e._onlineComponents})).apply(this,arguments)}function Kg(i){return qg(i).then(e=>e.persistence)}function Ff(i){return qg(i).then(e=>e.localStore)}function Iv(i){return Vm(i).then(e=>e.remoteStore)}function Zg(i){return Vm(i).then(e=>e.syncEngine)}function tc(i){return(Mt=Mt||(0,E.Z)(function*(e){const n=yield Vm(e),o=n.eventManager;return o.onListen=eE.bind(null,n.syncEngine),o.onUnlisten=vv.bind(null,n.syncEngine),o})).apply(this,arguments)}function Qg(i,e,n={}){const o=new D;return i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function(h,m,b,O,U){const J=new Tp({next:be=>{m.enqueueAndForget(()=>yh(h,ue));const ze=be.docs.has(b);!ze&&be.fromCache?U.reject(new wt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):ze&&be.fromCache&&O&&"server"===O.source?U.reject(new wt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(be)},error:be=>U.reject(be)}),ue=new Cu(zc(b.path),J,{includeMetadataChanges:!0,Ku:!0});return vh(h,ue)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}function Xg(i,e,n={}){const o=new D;return i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function(h,m,b,O,U){const J=new Tp({next:be=>{m.enqueueAndForget(()=>yh(h,ue)),be.fromCache&&"server"===O.source?U.reject(new wt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(be)},error:be=>U.reject(be)}),ue=new Cu(b,J,{includeMetadataChanges:!0,Ku:!0});return vh(h,ue)}(yield tc(i),i.asyncQueue,e,n,o)})),o.promise}function Cv(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Um=new Map;function Bm(i,e,n){if(!n)throw new wt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jm(i,e,n,o){if(!0===e&&!0===o)throw new wt(rt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Jg(i){if(!Ft.isDocumentKey(i))throw new wt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function e_(i){if(Ft.isDocumentKey(i))throw new wt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Dp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":_n()}function si(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dp(i);throw new wt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Hm(i,e){if(e<=0)throw new wt(rt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class rd{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cv(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new wt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,n,o,h){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rd(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new V;switch(n.type){case"firstParty":return new ve(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new wt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Um.get(e);n&&(Rt("ComponentProvider","Removing Datastore"),Um.delete(e),n.terminate())}(this),Promise.resolve()}}function Ap(i,e,n,o={}){var h;const m=(i=si(i,Sp))._getSettings(),b=`${e}:${n}`;if("firestore.googleapis.com"!==m.host&&m.host!==b&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},m),{host:b,ssl:!1})),o.mockUserToken){let O,U;if("string"==typeof o.mockUserToken)O=o.mockUserToken,U=Ds.MOCK_USER;else{O=(0,_e.Sg)(o.mockUserToken,null===(h=i._app)||void 0===h?void 0:h.options.projectId);const J=o.mockUserToken.sub||o.mockUserToken.user_id;if(!J)throw new wt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new Ds(J)}i._authCredentials=new k(new P(O,U))}}class Ys{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ys(this.firestore,e,this._key)}}class Vo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class wc extends Vo{constructor(e,n,o){super(e,n,zc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ys(this.firestore,null,new Ft(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function Gy(i,e,...n){if(i=(0,_e.m9)(i),Bm("collection","path",e),i instanceof Sp){const o=Gr.fromString(e,...n);return e_(o),new wc(i,null,o)}{if(!(i instanceof Ys||i instanceof wc))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gr.fromString(e,...n));return e_(o),new wc(i.firestore,null,o)}}function Mp(i,e){if(i=si(i,Sp),Bm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wt(rt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vo(i,null,(n=e,new Hc(Gr.emptyPath(),n)));var n}function Ih(i,e,...n){if(i=(0,_e.m9)(i),1===arguments.length&&(e=tr.A()),Bm("doc","path",e),i instanceof Sp){const o=Gr.fromString(e,...n);return Jg(o),new Ys(i,null,new Ft(o))}{if(!(i instanceof Ys||i instanceof wc))throw new wt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gr.fromString(e,...n));return Jg(o),new Ys(i.firestore,i instanceof wc?i.converter:null,new Ft(o))}}function Ld(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),(i instanceof Ys||i instanceof wc)&&(e instanceof Ys||e instanceof wc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function id(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),i instanceof Vo&&e instanceof Vo&&i.firestore===e.firestore&&Ht(i._query,e._query)&&i.converter===e.converter}class Yb{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Sf(this,"async_queue_retry"),this.Xc=()=>{const n=Ju();n&&Rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ju();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ju();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new D;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,E.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Wl(n))throw n;Rt("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,kn("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const h=Am.createAndSchedule(this,e,n,o,m=>this.na(m));return this.zc.push(h),h}Zc(){this.Wc&&_n()}verifyOperationInProgress(){}sa(){var e=this;return(0,E.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function xv(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const h of["next","error","complete"])if(h in o&&"function"==typeof o[h])return!0;return!1}(i)}class Rp{constructor(){this._progressObserver={},this._taskCompletionResolver=new D,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const t_=-1;class Gs extends Sp{constructor(e,n,o,h){super(e,n,o,h),this.type="firestore",this._queue=new Yb,this._persistenceKey=h?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lf(this),this._firestoreClient.terminate()}}function Tv(i,e){const n="object"==typeof i?i:(0,se.getApp)(),o="string"==typeof i?i:e||"(default)",h=(0,se._getProvider)(n,"firestore").getImmediate({identifier:o});if(!h._initialized){const m=(0,_e.P0)("firestore");m&&Ap(h,...m)}return h}function xo(i){return i._firestoreClient||Lf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lf(i){var e,n,o;const h=i._freezeSettings(),m=(O=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new vs(i._databaseId,O,i._persistenceKey,(J=h).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,Cv(J.experimentalLongPollingOptions),J.useFetchStreams));var O,J;i._firestoreClient=new Gb(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(n=h.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=h.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:h.cache.kind,_offline:h.cache._offlineComponentProvider,_online:h.cache._onlineComponentProvider})}function Dv(i,e){Rv(i=si(i,Gs));const n=xo(i);if(n._uninitializedComponentsProvider)throw new wt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),h=new bh;return n_(n,h,new wv(h,o.cacheSizeBytes,e?.forceOwnership))}function Sv(i){Rv(i=si(i,Gs));const e=xo(i);if(e._uninitializedComponentsProvider)throw new wt(rt.FAILED_PRECONDITION,"SDK cache is already specified.");po("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),o=new bh;return n_(e,o,new jy(o,n.cacheSizeBytes))}function n_(i,e,n){const o=new D;return i.asyncQueue.enqueue((0,E.Z)(function*(){try{yield Lm(i,n),yield Eh(i,e),o.resolve()}catch(h){const m=h;if(!Wg(m))throw m;po("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function Av(i){if(i._initialized&&!i._terminated)throw new wt(rt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new D;return i._queue.enqueueAndForgetEvenWhileRestricted((0,E.Z)(function*(){try{var n;yield function(o){return(n=n||(0,E.Z)(function*(h){if(!Gi.D())return Promise.resolve();const m=h+"main";yield Gi.delete(m)})).apply(this,arguments)}(If(i._databaseId,i._persistenceKey)),e.resolve()}catch(o){e.reject(o)}})),e.promise}function Wy(i){return function(e){const n=new D;return e.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function Vy(i,e){return(md=md||(0,E.Z)(function*(n,o){const h=Xt(n);ed(h.remoteStore)||Rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const m=yield function(O){const U=Xt(O);return U.persistence.runTransaction("Get highest unacknowledged batch id","readonly",J=>U.mutationQueue.getHighestUnacknowledgedBatchId(J))}(h.localStore);if(-1===m)return void o.resolve();const b=h.Ec.get(m)||[];b.push(o),h.Ec.set(m,b)}catch(m){const b=Wc(m,"Initialization of waitForPendingWrites() operation failed");o.reject(b)}})).apply(this,arguments)}(yield Zg(e),n)})),n.promise}(xo(i=si(i,Gs)))}function Op(i){return function wh(i){return i.asyncQueue.enqueue((0,E.Z)(function*(){const e=yield Kg(i),n=yield Iv(i);return e.setNetworkEnabled(!0),function(o){const h=Xt(o);return h.vu.delete(0),Af(h)}(n)}))}(xo(i=si(i,Gs)))}function Mv(i){return function Wb(i){return i.asyncQueue.enqueue((0,E.Z)(function*(){var e;const n=yield Kg(i),o=yield Iv(i);return n.setNetworkEnabled(!1),function(h){return(e=e||(0,E.Z)(function*(m){const b=Xt(m);b.vu.add(0),yield Mf(b),b.bu.set("Offline")})).apply(this,arguments)}(o)}))}(xo(i=si(i,Gs)))}function qy(i,e){const n=xo(i=si(i,Gs)),o=new Rp;return function zy(i,e,n,o){const h=function(m,b){let O;return O="string"==typeof m?Fn().encode(m):m,U=function(U,J){if(U instanceof Uint8Array)return Gg(U,J);if(U instanceof ArrayBuffer)return Gg(new Uint8Array(U),J);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Hy(U,b);var U}(n,xm(e));i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){!function By(i,e,n){var o;const h=Xt(i);(function(m,b,O){return(o=o||(0,E.Z)(function*(U,J,ue){try{const be=yield J.getMetadata();if(yield function(Wt,en){const gr=Xt(Wt),Vr=Co(en.createTime);return gr.persistence.runTransaction("hasNewerBundle","readonly",Hn=>gr.qs.getBundleMetadata(Hn,en.id)).then(Hn=>!!Hn&&Hn.createTime.compareTo(Vr)>=0)}(U.localStore,be))return yield J.close(),ue._completeWith({taskState:"Success",documentsLoaded:(Wt=be).totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}),Promise.resolve(new Set);ue._updateProgress(fv(be));const ze=new Ly(be,U.localStore,J.serializer);let We=yield J.bc();for(;We;){const Wt=yield ze.zu(We);Wt&&ue._updateProgress(Wt),We=yield J.bc()}const Ot=yield ze.complete();return yield Fd(U,Ot.Ju,void 0),yield function(Wt,en){const gr=Xt(Wt);return gr.persistence.runTransaction("Save bundle","readwrite",Vr=>gr.qs.saveBundleMetadata(Vr,en))}(U.localStore,be),ue._completeWith(Ot.progress),Promise.resolve(Ot.Hu)}catch(be){return po("SyncEngine",`Loading bundle failed with ${be}`),ue._failWith(be),Promise.resolve(new Set)}var Wt})).apply(this,arguments)})(h,e,n).then(m=>{h.sharedClientState.notifyBundleLoaded(m)})}(yield Zg(i),h,o)}))}(n,i._databaseId,e,o),o}function Ky(i,e){return function Zb(i,e){return i.asyncQueue.enqueue((0,E.Z)(function*(){return function(n,o){const h=Xt(n);return h.persistence.runTransaction("Get named query","readonly",m=>h.qs.getNamedQuery(m,o))}(yield Ff(i),e)}))}(xo(i=si(i,Gs)),e).then(n=>n?new Vo(i,null,n.query):null)}function Rv(i){if(i._initialized||i._terminated)throw new wt(rt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ch{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ch(He.fromBase64String(e))}catch(n){throw new wt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ch(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new wt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xh{constructor(e){this._methodName=e}}class Th{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new wt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new wt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const Qy=/^__.*__$/;class Jb{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class r_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ov(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class zm{constructor(e,n,o,h,m,b){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=h,void 0===m&&this.ua(),this.fieldTransforms=m||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.aa({path:o,la:!1});return h.fa(e),h}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),h=this.aa({path:o,la:!1});return h.ua(),h}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ov(this.ca)&&Qy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Xy{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||xm(e)}ya(e,n,o,h=!1){return new zm({ca:e,methodName:n,ga:o,path:wi.emptyPath(),la:!1,ma:h},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(i){const e=i._freezeSettings(),n=xm(i._databaseId);return new Xy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kp(i,e,n,o,h,m={}){const b=i.ya(m.merge||m.mergeFields?2:0,e,n,h);Sh("Data must be an object, but it was:",b,o);const O=Vv(o,b);let U,J;if(m.merge)U=new ee(b.fieldMask),J=b.fieldTransforms;else if(m.mergeFields){const ue=[];for(const be of m.mergeFields){const ze=Ko(e,be,n);if(!b.contains(ze))throw new wt(rt.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);$m(ue,ze)||ue.push(ze)}U=new ee(ue),J=b.fieldTransforms.filter(be=>U.covers(be.field))}else U=null,J=b.fieldTransforms;return new Jb(new R(O),U,J)}class Vf extends xh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function Pv(i,e,n){return new zm({ca:3,ga:e.settings.ga,methodName:i._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kv extends xh{_toFieldTransform(e){return new _c(e.path,new Za)}isEqual(e){return e instanceof kv}}class Nv extends xh{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Pv(this,e,!0),o=this.pa.map(m=>sd(m,n)),h=new pu(o);return new _c(e.path,h)}isEqual(e){return this===e}}class Fv extends xh{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Pv(this,e,!0),o=this.pa.map(m=>sd(m,n)),h=new Zu(o);return new _c(e.path,h)}isEqual(e){return this===e}}class tE extends xh{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Sd(e.serializer,Fo(e.serializer,this.Ia));return new _c(e.path,n)}isEqual(e){return this===e}}function Uf(i,e,n,o){const h=i.ya(1,e,n);Sh("Data must be an object, but it was:",h,o);const m=[],b=R.empty();fc(o,(U,J)=>{const ue=Mh(e,U,n);J=(0,_e.m9)(J);const be=h.da(ue);if(J instanceof Vf)m.push(ue);else{const ze=sd(J,be);null!=ze&&(m.push(ue),b.set(ue,ze))}});const O=new ee(m);return new r_(b,O,h.fieldTransforms)}function i_(i,e,n,o,h,m){const b=i.ya(1,e,n),O=[Ko(e,o,n)],U=[h];if(m.length%2!=0)throw new wt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<m.length;ze+=2)O.push(Ko(e,m[ze])),U.push(m[ze+1]);const J=[],ue=R.empty();for(let ze=O.length-1;ze>=0;--ze)if(!$m(J,O[ze])){const We=O[ze];let Ot=U[ze];Ot=(0,_e.m9)(Ot);const Wt=b.da(We);if(Ot instanceof Vf)J.push(We);else{const en=sd(Ot,Wt);null!=en&&(J.push(We),ue.set(We,en))}}const be=new ee(J);return new r_(ue,be,b.fieldTransforms)}function Lv(i,e,n,o=!1){return sd(n,i.ya(o?4:3,e))}function sd(i,e){if(Kc(i=(0,_e.m9)(i)))return Sh("Unsupported field value:",e,i),Vv(i,e);if(i instanceof xh)return function(n,o){if(!Ov(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const h=n._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const h=[];let m=0;for(const b of n){let O=sd(b,o.wa(m));null==O&&(O={nullValue:"NULL_VALUE"}),h.push(O),m++}return{arrayValue:{values:h}}}(i,e)}return function(n,o){if(null===(n=(0,_e.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Fo(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const h=ii.fromDate(n);return{timestampValue:Md(o.serializer,h)}}if(n instanceof ii){const h=new ii(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Md(o.serializer,h)}}if(n instanceof Th)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ch)return{bytesValue:rm(o.serializer,n._byteString)};if(n instanceof Ys){const h=o.databaseId,m=n.firestore._databaseId;if(!m.isEqual(h))throw o._a(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:sf(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${Dp(n)}`)}(i,e)}function Vv(i,e){const n={};return eh(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fc(i,(o,h)=>{const m=sd(h,e.ha(o));null!=m&&(n[o]=m)}),{mapValue:{fields:n}}}function Kc(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ii||i instanceof Th||i instanceof Ch||i instanceof Ys||i instanceof xh)}function Sh(i,e,n){if(!Kc(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Dp(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Ko(i,e,n){if((e=(0,_e.m9)(e))instanceof Vd)return e._internalPath;if("string"==typeof e)return Mh(i,e);throw gl("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ah=new RegExp("[~\\*/\\[\\]]");function Mh(i,e,n){if(e.search(Ah)>=0)throw gl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Vd(...e.split("."))._internalPath}catch{throw gl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gl(i,e,n,o,h){const m=o&&!o.isEmpty(),b=void 0!==h;let O=`Function ${e}() called with invalid data`;n&&(O+=" (via `toFirestore()`)"),O+=". ";let U="";return(m||b)&&(U+=" (found",m&&(U+=` in field ${o}`),b&&(U+=` in document ${h}`),U+=")"),new wt(rt.INVALID_ARGUMENT,O+i+U)}function $m(i,e){return i.some(n=>n.isEqual(e))}class xu{constructor(e,n,o,h,m){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=h,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(od("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bf extends xu{data(){return super.data()}}function od(i,e){return"string"==typeof e?Mh(i,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}function Rh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ud{}class Tu extends Ud{}function jf(i,e,...n){let o=[];e instanceof Ud&&o.push(e),o=o.concat(n),function(h){const m=h.filter(O=>O instanceof Oh).length,b=h.filter(O=>O instanceof Du).length;if(m>1||m>0&&b>0)throw new wt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const h of o)i=h._apply(i);return i}class Du extends Tu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Du(e,n,o)}_apply(e){const n=this._parse(e);return t0(e._query,n),new Vo(e.firestore,e.converter,xd(e._query,n))}_parse(e){const n=Dh(e.firestore);return function(h,m,b,O,U,J,ue){let be;if(U.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new wt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Hv(ue,J);const ze=[];for(const We of ue)ze.push(jv(O,h,We));be={arrayValue:{values:ze}}}else be=jv(O,h,ue)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Hv(ue,J),be=Lv(b,"where",ue,"in"===J||"not-in"===J);return Gt.create(U,J,be)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hf(i,e,n){const o=e,h=od("where",i);return Du._create(h,o,n)}class Oh extends Ud{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Oh(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,h){let m=o;const b=h.getFlattenedFilters();for(const O of b)t0(m,O),m=xd(m,O)}(e._query,n),new Vo(e.firestore,e.converter,xd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gm extends Tu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gm(e,n)}_apply(e){const n=function(o,h,m){if(null!==o.startAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ct(h,m);return function(O,U){if(null===Yp(O)){const J=Zh(O);null!==J&&zv(0,J,U.field)}}(o,b),b}(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,function(o,h){const m=o.explicitOrderBy.concat([h]);return new Hc(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function ad(i,e="asc"){const n=e,o=od("orderBy",i);return Gm._create(o,n)}class zf extends Tu{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new zf(e,n,o)}_apply(e){return new Vo(e.firestore,e.converter,Td(e._query,this._limit,this._limitType))}}function Wm(i){return Hm("limit",i),zf._create("limit",i,"F")}function qm(i){return Hm("limitToLast",i),zf._create("limitToLast",i,"L")}class Ph extends Tu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new Ph(e,n,o)}_apply(e){const n=Bd(e,this.type,this._docOrFields,this._inclusive);return new Vo(e.firestore,e.converter,(h=n,new Hc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,h,o.endAt)));var o,h}}function _l(...i){return Ph._create("startAt",i,!0)}function Uv(...i){return Ph._create("startAfter",i,!1)}class s_ extends Tu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new s_(e,n,o)}_apply(e){const n=Bd(e,this.type,this._docOrFields,this._inclusive);return new Vo(e.firestore,e.converter,(h=n,new Hc((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,h)));var o,h}}function Bv(...i){return s_._create("endBefore",i,!1)}function eb(...i){return s_._create("endAt",i,!0)}function Bd(i,e,n,o){if(n[0]=(0,_e.m9)(n[0]),n[0]instanceof xu)return function(h,m,b,O,U){if(!O)throw new wt(rt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const J=[];for(const ue of pc(h))if(ue.field.isKeyField())J.push(Rl(m,O.key));else{const be=O.data.field(ue.field);if(yn(be))throw new wt(rt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const ze=ue.field.canonicalString();throw new wt(rt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ze}' (used as the orderBy) does not exist.`)}J.push(be)}return new we(J,U)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const h=Dh(i.firestore);return function(m,b,O,U,J,ue){const be=m.explicitOrderBy;if(J.length>be.length)throw new wt(rt.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ze=[];for(let We=0;We<J.length;We++){const Ot=J[We];if(be[We].field.isKeyField()){if("string"!=typeof Ot)throw new wt(rt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Ot}`);if(!Yh(m)&&-1!==Ot.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Ot}' contains a slash.`);const Wt=m.path.child(Gr.fromString(Ot));if(!Ft.isDocumentKey(Wt))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${Wt}' is not because it contains an odd number of segments.`);const en=new Ft(Wt);ze.push(Rl(b,en))}else{const Wt=Lv(O,U,Ot);ze.push(Wt)}}return new we(ze,ue)}(i._query,i.firestore._databaseId,h,e,n,o)}}function jv(i,e,n){if("string"==typeof(n=(0,_e.m9)(n))){if(""===n)throw new wt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yh(e)&&-1!==n.indexOf("/"))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Gr.fromString(n));if(!Ft.isDocumentKey(o))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Rl(i,new Ft(o))}if(n instanceof Ys)return Rl(i,n._key);throw new wt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dp(n)}.`)}function Hv(i,e){if(!Array.isArray(i)||0===i.length)throw new wt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function t0(i,e){if(e.isInequality()){const o=Zh(i),h=e.field;if(null!==o&&!o.isEqual(h))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${h.toString()}'`);const m=Yp(i);null!==m&&zv(0,h,m)}const n=function(o,h){for(const m of o)for(const b of m.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new wt(rt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function zv(i,e,n){if(!n.isEqual(e))throw new wt(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Km{convertValue(e,n="none"){switch(Kn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _n()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return fc(e,(h,m)=>{o[h]=this.convertValue(m,n)}),o}convertGeoPoint(e){return new Th(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=fn(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ir(e));default:return null}}convertTimestamp(e){const n=bt(e);return new ii(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Gr.fromString(e);Mn(P_(o));const h=new er(o.get(1),o.get(3)),m=new Ft(o.popFirst(5));return h.isEqual(n)||kn(`Document ${m} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Np(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class $f extends Km{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ch(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ys(this.firestore,null,n)}}class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fl extends xu{constructor(e,n,o,h,m,b){super(e,n,o,h,b),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(od("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class jd extends Fl{data(e={}){return super.data(e)}}class Hd{constructor(e,n,o,h){this._firestore=e,this._userDataWriter=n,this._snapshot=h,this.metadata=new Su(h.hasPendingWrites,h.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new jd(this._firestore,this._userDataWriter,o.key,o,new Su(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new wt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new jd(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Su(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>h||3!==b.type).map(b=>{const O=new jd(o._firestore,o._userDataWriter,b.doc.key,b.doc,new Su(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let U=-1,J=-1;return 0!==b.type&&(U=m.indexOf(b.doc.key),m=m.delete(b.doc.key)),1!==b.type&&(m=m.add(b.doc),J=m.indexOf(b.doc.key)),{type:u_(b.type),doc:O,oldIndex:U,newIndex:J}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function ld(i,e){return i instanceof Fl&&e instanceof Fl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Hd&&e instanceof Hd&&i._firestore===e._firestore&&id(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Fp(i){i=si(i,Ys);const e=si(i.firestore,Gs);return Qg(xo(e),i._key).then(n=>Nh(e,i,n))}class Ll extends Km{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ch(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ys(this.firestore,null,n)}}function Qm(i){i=si(i,Ys);const e=si(i.firestore,Gs),n=xo(e),o=new Ll(e);return function qb(i,e){const n=new D;return i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){var o;return function(h,m,b){return(o=o||(0,E.Z)(function*(O,U,J){try{const ue=yield function(be,ze){const We=Xt(be);return We.persistence.runTransaction("read document","readonly",Ot=>We.localDocuments.getDocument(Ot,ze))}(O,U);ue.isFoundDocument()?J.resolve(ue):ue.isNoDocument()?J.resolve(null):J.reject(new wt(rt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(ue){const be=Wc(ue,`Failed to get document '${U} from cache`);J.reject(be)}})).apply(this,arguments)}(yield Ff(i),e,n)})),n.promise}(n,i._key).then(h=>new Fl(e,o,i._key,h,new Su(null!==h&&h.hasLocalMutations,!0),i.converter))}function Xm(i){i=si(i,Ys);const e=si(i.firestore,Gs);return Qg(xo(e),i._key,{source:"server"}).then(n=>Nh(e,i,n))}function $v(i){i=si(i,Vo);const e=si(i.firestore,Gs),n=xo(e),o=new Ll(e);return Rh(i._query),Xg(n,i._query).then(h=>new Hd(e,o,i,h))}function tb(i){i=si(i,Vo);const e=si(i.firestore,Gs),n=xo(e),o=new Ll(e);return function nd(i,e){const n=new D;return i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){var o;return function(h,m,b){return(o=o||(0,E.Z)(function*(O,U,J){try{const ue=yield Rg(O,U,!0),be=new gv(U,ue.ir),ze=be.sc(ue.documents),We=be.applyChanges(ze,!1);J.resolve(We.snapshot)}catch(ue){const be=Wc(ue,`Failed to execute query '${U} against cache`);J.reject(be)}})).apply(this,arguments)}(yield Ff(i),e,n)})),n.promise}(n,i._query).then(h=>new Hd(e,o,i,h))}function Jm(i){i=si(i,Vo);const e=si(i.firestore,Gs),n=xo(e),o=new Ll(e);return Xg(n,i._query,{source:"server"}).then(h=>new Hd(e,o,i,h))}function zd(i,e,n){i=si(i,Ys);const o=si(i.firestore,Gs),h=Np(i.converter,e,n);return $d(o,[kp(Dh(o),"setDoc",i._key,h,null!==i.converter,n).toMutation(i._key,As.none())])}function Zc(i,e,n,...o){i=si(i,Ys);const h=si(i.firestore,Gs),m=Dh(h);let b;return b="string"==typeof(e=(0,_e.m9)(e))||e instanceof Vd?i_(m,"updateDoc",i._key,e,n,o):Uf(m,"updateDoc",i._key,e),$d(h,[b.toMutation(i._key,As.exists(!0))])}function kh(i){return $d(si(i.firestore,Gs),[new sh(i._key,As.none())])}function Lp(i,e){const n=si(i.firestore,Gs),o=Ih(i),h=Np(i.converter,e);return $d(n,[kp(Dh(i.firestore),"addDoc",o._key,h,null!==i.converter,{}).toMutation(o._key,As.exists(!1))]).then(()=>o)}function Gv(i,...e){var n,o,h;i=(0,_e.m9)(i);let m={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||xv(e[b])||(m=e[b],b++);const O={includeMetadataChanges:m.includeMetadataChanges};if(xv(e[b])){const be=e[b];e[b]=null===(n=be.next)||void 0===n?void 0:n.bind(be),e[b+1]=null===(o=be.error)||void 0===o?void 0:o.bind(be),e[b+2]=null===(h=be.complete)||void 0===h?void 0:h.bind(be)}let U,J,ue;if(i instanceof Ys)J=si(i.firestore,Gs),ue=zc(i._key.path),U={next:be=>{e[b]&&e[b](Nh(J,i,be))},error:e[b+1],complete:e[b+2]};else{const be=si(i,Vo);J=si(be.firestore,Gs),ue=be._query;const ze=new Ll(J);U={next:We=>{e[b]&&e[b](new Hd(J,ze,be,We))},error:e[b+1],complete:e[b+2]},Rh(i._query)}return function(be,ze,We,Ot){const Wt=new Tp(Ot),en=new Cu(ze,Wt,We);return be.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return vh(yield tc(be),en)})),()=>{Wt.Dc(),be.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return yh(yield tc(be),en)}))}}(xo(J),ue,O,U)}function eg(i,e){return function Kb(i,e){const n=new Tp(e);return i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return o=yield tc(i),h=n,Xt(o).ku.add(h),void h.next();var o,h})),()=>{n.Dc(),i.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return o=yield tc(i),h=n,void Xt(o).ku.delete(h);var o,h}))}}(xo(i=si(i,Gs)),xv(e)?e:{next:e})}function $d(i,e){return function(n,o){const h=new D;return n.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function jg(i,e,n){return(Nu=Nu||(0,E.Z)(function*(o,h,m){const b=Ev(o);try{const O=yield function(U,J){const ue=Xt(U),be=ii.now(),ze=J.reduce((Wt,en)=>Wt.add(en.key),Nr());let We,Ot;return ue.persistence.runTransaction("Locally write mutations","readwrite",Wt=>{let en=pl(),gr=Nr();return ue.Zi.getEntries(Wt,ze).next(Vr=>{en=Vr,en.forEach((Hn,Cr)=>{Cr.isValidDocument()||(gr=gr.add(Hn))})}).next(()=>ue.localDocuments.getOverlayedDocuments(Wt,en)).next(Vr=>{We=Vr;const Hn=[];for(const Cr of J){const Zi=Qf(Cr,We.get(Cr.key).overlayedDocument);null!=Zi&&Hn.push(new Ya(Cr.key,Zi,ne(Zi.value.mapValue),As.exists(!0)))}return ue.mutationQueue.addMutationBatch(Wt,be,Hn,J)}).next(Vr=>{Ot=Vr;const Hn=Vr.applyToLocalDocumentSet(We,gr);return ue.documentOverlayCache.saveOverlays(Wt,Vr.batchId,Hn)})}).then(()=>({batchId:Ot.batchId,changes:Zf(We)}))}(b.localStore,h);b.sharedClientState.addPendingMutation(O.batchId),function(U,J,ue){let be=U.Tc[U.currentUser.toKey()];be||(be=new Ii(gn)),be=be.insert(J,ue),U.Tc[U.currentUser.toKey()]=be}(b,O.batchId,m),yield Fd(b,O.changes),yield ph(b.remoteStore)}catch(O){const U=Wc(O,"Failed to persist write");m.reject(U)}})).apply(this,arguments)}(yield Zg(n),o,h)})),h.promise}(xo(i),e)}function Nh(i,e,n){const o=n.docs.get(e._key),h=new Ll(i);return new Fl(i,h,e._key,o,new Su(n.hasPendingWrites,n.fromCache),e.converter)}const Gf={maxAttempts:5};class f_{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Dh(e)}set(e,n,o){this._verifyNotCommitted();const h=cd(e,this._firestore),m=Np(h.converter,n,o),b=kp(this._dataReader,"WriteBatch.set",h._key,m,null!==h.converter,o);return this._mutations.push(b.toMutation(h._key,As.none())),this}update(e,n,o,...h){this._verifyNotCommitted();const m=cd(e,this._firestore);let b;return b="string"==typeof(n=(0,_e.m9)(n))||n instanceof Vd?i_(this._dataReader,"WriteBatch.update",m._key,n,o,h):Uf(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(b.toMutation(m._key,As.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cd(e,this._firestore);return this._mutations=this._mutations.concat(new sh(n._key,As.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new wt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cd(i,e){if((i=(0,_e.m9)(i)).firestore!==e)throw new wt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ob extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Dh(e)}get(e){const n=cd(e,this._firestore),o=new $f(this._firestore);return this._transaction.lookup([n._key]).then(h=>{if(!h||1!==h.length)return _n();const m=h[0];if(m.isFoundDocument())return new xu(this._firestore,o,m.key,m,n.converter);if(m.isNoDocument())return new xu(this._firestore,o,n._key,null,n.converter);throw _n()})}set(e,n,o){const h=cd(e,this._firestore),m=Np(h.converter,n,o),b=kp(this._dataReader,"Transaction.set",h._key,m,null!==h.converter,o);return this._transaction.set(h._key,b),this}update(e,n,o,...h){const m=cd(e,this._firestore);let b;return b="string"==typeof(n=(0,_e.m9)(n))||n instanceof Vd?i_(this._dataReader,"Transaction.update",m._key,n,o,h):Uf(this._dataReader,"Transaction.update",m._key,n),this._transaction.update(m._key,b),this}delete(e){const n=cd(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=cd(e,this._firestore),o=new Ll(this._firestore);return super.get(e).then(h=>new Fl(this._firestore,o,n._key,h._document,new Su(!1,!1),n.converter))}}function rg(i,e,n){i=si(i,Gs);const o=Object.assign(Object.assign({},Gf),n);return function(h){if(h.maxAttempts<1)throw new wt(rt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(h,m,b){const O=new D;return h.asyncQueue.enqueueAndForget((0,E.Z)(function*(){const U=yield function Yg(i){return Vm(i).then(e=>e.datastore)}(h);new $b(h.asyncQueue,U,b,m,O).run()})),O.promise}(xo(i),h=>e(new ob(i,h)),o)}function Vp(){return new Vf("deleteField")}function ig(){return new kv("serverTimestamp")}function p_(...i){return new Nv("arrayUnion",i)}function m_(...i){return new Fv("arrayRemove",i)}function Up(i){return new tE("increment",i)}!function(i,e=!0){ga=se.SDK_VERSION,(0,se._registerComponent)(new ie.wA("firestore",(n,{instanceIdentifier:o,options:h})=>{const m=n.getProvider("app").getImmediate(),b=new Gs(new W(n.getProvider("auth-internal")),new $t(n.getProvider("app-check-internal")),function(O,U){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new wt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new er(O.options.projectId,U)}(m,o),m);return h=Object.assign({useFetchStreams:e},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Lr,"3.13.0",i),(0,se.registerVersion)(Lr,"3.13.0","esm2017")}()},9058:(Jt,Ke,K)=>{K.d(Ke,{$s:()=>is,BH:()=>ke,G6:()=>xr,L:()=>je,LL:()=>Pt,P0:()=>Yt,Pz:()=>lt,Sg:()=>st,UG:()=>tn,US:()=>Se,ZB:()=>Fe,ZR:()=>It,aH:()=>Ve,b$:()=>Gn,eu:()=>tt,hl:()=>Qe,jU:()=>an,m9:()=>ws,ne:()=>nr,pd:()=>Tn,q4:()=>sn,r3:()=>_r,ru:()=>$n,tV:()=>fe,uI:()=>St,vZ:()=>Oi,w1:()=>Ci,xO:()=>Bn,xb:()=>Fr,z$:()=>Dt,zI:()=>ct,zd:()=>ln});const _=function(Me){const ae=[];let Y=0;for(let te=0;te<Me.length;te++){let H=Me.charCodeAt(te);H<128?ae[Y++]=H:H<2048?(ae[Y++]=H>>6|192,ae[Y++]=63&H|128):55296==(64512&H)&&te+1<Me.length&&56320==(64512&Me.charCodeAt(te+1))?(H=65536+((1023&H)<<10)+(1023&Me.charCodeAt(++te)),ae[Y++]=H>>18|240,ae[Y++]=H>>12&63|128,ae[Y++]=H>>6&63|128,ae[Y++]=63&H|128):(ae[Y++]=H>>12|224,ae[Y++]=H>>6&63|128,ae[Y++]=63&H|128)}return ae},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,ae){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let H=0;H<Me.length;H+=3){const he=Me[H],Oe=H+1<Me.length,Ze=Oe?Me[H+1]:0,jt=H+2<Me.length,xt=jt?Me[H+2]:0;let Ln=(15&Ze)<<2|xt>>6,wr=63&xt;jt||(wr=64,Oe||(Ln=64)),te.push(Y[he>>2],Y[(3&he)<<4|Ze>>4],Y[Ln],Y[wr])}return te.join("")},encodeString(Me,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(Me):this.encodeByteArray(_(Me),ae)},decodeString(Me,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(Me):function(Me){const ae=[];let Y=0,te=0;for(;Y<Me.length;){const H=Me[Y++];if(H<128)ae[te++]=String.fromCharCode(H);else if(H>191&&H<224){const he=Me[Y++];ae[te++]=String.fromCharCode((31&H)<<6|63&he)}else if(H>239&&H<365){const jt=((7&H)<<18|(63&Me[Y++])<<12|(63&Me[Y++])<<6|63&Me[Y++])-65536;ae[te++]=String.fromCharCode(55296+(jt>>10)),ae[te++]=String.fromCharCode(56320+(1023&jt))}else{const he=Me[Y++],Oe=Me[Y++];ae[te++]=String.fromCharCode((15&H)<<12|(63&he)<<6|63&Oe)}}return ae.join("")}(this.decodeStringToByteArray(Me,ae))},decodeStringToByteArray(Me,ae){this.init_();const Y=ae?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let H=0;H<Me.length;){const he=Y[Me.charAt(H++)],Ze=H<Me.length?Y[Me.charAt(H)]:0;++H;const xt=H<Me.length?Y[Me.charAt(H)]:64;++H;const nn=H<Me.length?Y[Me.charAt(H)]:64;if(++H,null==he||null==Ze||null==xt||null==nn)throw new Ae;te.push(he<<2|Ze>>4),64!==xt&&(te.push(Ze<<4&240|xt>>2),64!==nn&&te.push(xt<<6&192|nn))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(Me){return function(Me){const ae=_(Me);return Se.encodeByteArray(ae,!0)}(Me).replace(/\./g,"")},fe=function(Me){try{return Se.decodeString(Me,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function Fe(Me,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return ae}for(const Y in ae)!ae.hasOwnProperty(Y)||!ht(Y)||(Me[Y]=Fe(Me[Y],ae[Y]));return Me}function ht(Me){return"__proto__"!==Me}const pt=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=Me&&fe(Me[1]);return ae&&JSON.parse(ae)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},sn=Me=>{var ae,Y;return null===(Y=null===(ae=pt())||void 0===ae?void 0:ae.emulatorHosts)||void 0===Y?void 0:Y[Me]},Yt=Me=>{const ae=sn(Me);if(!ae)return;const Y=ae.lastIndexOf(":");if(Y<=0||Y+1===ae.length)throw new Error(`Invalid host ${ae} with no separate hostname and port!`);const te=parseInt(ae.substring(Y+1),10);return"["===ae[0]?[ae.substring(1,Y-1),te]:[ae.substring(0,Y),te]},Ve=()=>{var Me;return null===(Me=pt())||void 0===Me?void 0:Me.config},lt=Me=>{var ae;return null===(ae=pt())||void 0===ae?void 0:ae[`_${Me}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Y)=>{this.resolve=ae,this.reject=Y})}wrapCallback(ae){return(Y,te)=>{Y?this.reject(Y):this.resolve(te),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Y):ae(Y,te))}}}function st(Me,ae){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=ae||"demo-project",H=Me.iat||0,he=Me.sub||Me.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:H,exp:H+3600,auth_time:H,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Oe)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function tn(){var Me;const ae=null===(Me=pt())||void 0===Me?void 0:Me.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function an(){return"object"==typeof self&&self.self===self}function $n(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function Gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ci(){const Me=Dt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function xr(){return!tn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){try{return"object"==typeof indexedDB}catch{return!1}}function tt(){return new Promise((Me,ae)=>{try{let Y=!0;const te="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(te);H.onsuccess=()=>{H.result.close(),Y||self.indexedDB.deleteDatabase(te),Me(!0)},H.onupgradeneeded=()=>{Y=!1},H.onerror=()=>{var he;ae((null===(he=H.error)||void 0===he?void 0:he.message)||"")}}catch(Y){ae(Y)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class It extends Error{constructor(ae,Y,te){super(Y),this.code=ae,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(ae,Y,te){this.service=ae,this.serviceName=Y,this.errors=te}create(ae,...Y){const te=Y[0]||{},H=`${this.service}/${ae}`,he=this.errors[ae],Oe=he?function on(Me,ae){return Me.replace(Bt,(Y,te)=>{const H=ae[te];return null!=H?String(H):`<${te}?>`})}(he,te):"Error";return new It(H,`${this.serviceName}: ${Oe} (${H}).`,te)}}const Bt=/\{\$([^}]+)}/g;function _r(Me,ae){return Object.prototype.hasOwnProperty.call(Me,ae)}function Fr(Me){for(const ae in Me)if(Object.prototype.hasOwnProperty.call(Me,ae))return!1;return!0}function Oi(Me,ae){if(Me===ae)return!0;const Y=Object.keys(Me),te=Object.keys(ae);for(const H of Y){if(!te.includes(H))return!1;const he=Me[H],Oe=ae[H];if(Li(he)&&Li(Oe)){if(!Oi(he,Oe))return!1}else if(he!==Oe)return!1}for(const H of te)if(!Y.includes(H))return!1;return!0}function Li(Me){return null!==Me&&"object"==typeof Me}function Bn(Me){const ae=[];for(const[Y,te]of Object.entries(Me))Array.isArray(te)?te.forEach(H=>{ae.push(encodeURIComponent(Y)+"="+encodeURIComponent(H))}):ae.push(encodeURIComponent(Y)+"="+encodeURIComponent(te));return ae.length?"&"+ae.join("&"):""}function ln(Me){const ae={};return Me.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[H,he]=te.split("=");ae[decodeURIComponent(H)]=decodeURIComponent(he)}}),ae}function Tn(Me){const ae=Me.indexOf("?");if(!ae)return"";const Y=Me.indexOf("#",ae);return Me.substring(ae,Y>0?Y:void 0)}function nr(Me,ae){const Y=new fi(Me,ae);return Y.subscribe.bind(Y)}class fi{constructor(ae,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{ae(this)}).catch(te=>{this.error(te)})}next(ae){this.forEachObserver(Y=>{Y.next(ae)})}error(ae){this.forEachObserver(Y=>{Y.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Y,te){let H;if(void 0===ae&&void 0===Y&&void 0===te)throw new Error("Missing Observer.");H=function Zn(Me,ae){if("object"!=typeof Me||null===Me)return!1;for(const Y of ae)if(Y in Me&&"function"==typeof Me[Y])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Y,complete:te},void 0===H.next&&(H.next=or),void 0===H.error&&(H.error=or),void 0===H.complete&&(H.complete=or);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),he}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,ae)}sendOne(ae,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Y(this.observers[ae])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const ur=1e3,Bi=2,xi=144e5,bi=.5;function is(Me,ae=ur,Y=Bi){const te=ae*Math.pow(Y,Me),H=Math.round(bi*te*(Math.random()-.5)*2);return Math.min(xi,te+H)}function ws(Me){return Me&&Me._delegate?Me._delegate:Me}},2333:(Jt,Ke,K)=>{K.d(Ke,{F:()=>ie});var E=K(5879),se=K(3914);let ie=(()=>{var _;class _e{constructor(Ae){this.router=Ae}setElementInLocalstorage(Ae,Te){return localStorage.setItem(Ae,JSON.stringify(Te))}getElementFromLocalStorage(Ae){return JSON.parse(localStorage.getItem(Ae))}routerLink(Ae){return this.router.navigateByUrl(Ae)}}return(_=_e).\u0275fac=function(Ae){return new(Ae||_)(E.LFG(se.F0))},_.\u0275prov=E.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_e})()},6999:(Jt,Ke,K)=>{K.d(Ke,{O:()=>sh});var Ae,Te,je,Fe,nt,yt,ft,mt,pt,sn,Yt,vi,on,dn,mn,Dn,Zn,Ui,cr,Ms,xi,Rs,H,Oe,Ze,jt,xt,E=K(5861),se=K(9058),ie=K(534),_=K(7879),_e=K(7582),Se=K(4537);const hn=function qt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vn=new se.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wr=new _.Yd("@firebase/auth");function ni(L,...g){Wr.logLevel<=_.in.ERROR&&Wr.error(`Auth (${ie.SDK_VERSION}): ${L}`,...g)}function vr(L,...g){throw Yo(L,...g)}function Ar(L,...g){return Yo(L,...g)}function Yo(L,...g){if("string"!=typeof L){const y=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=L.name),L._errorFactory.create(y,...T)}return Vn.create(L,...g)}function Kt(L,g,...y){if(!L)throw Yo(g,...y)}function ai(L){const g="INTERNAL ASSERTION FAILED: "+L;throw ni(g),new Error(g)}function Pi(L,g){L||ai(g)}function Qo(){var L;return typeof self<"u"&&(null===(L=self.location)||void 0===L?void 0:L.href)||""}function ca(){var L;return typeof self<"u"&&(null===(L=self.location)||void 0===L?void 0:L.protocol)||null}class Ne{constructor(g,y){this.shortDelay=g,this.longDelay=y,Pi(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,se.uI)()||(0,se.b$)()}get(){return function Hr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function hs(){return"http:"===ca()||"https:"===ca()}()||(0,se.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ye(L,g){Pi(L.emulator,"Emulator should always be set here");const{url:y}=L.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class vt{static initialize(g,y,T){this.fetchImpl=g,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cn=new Ne(3e4,6e4);function wn(L,g){return L.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:L.tenantId}):g}function Un(L,g,y,T){return(Ae=Ae||(0,E.Z)(function*(G,re,pe,Ie,Be={}){return zr(G,Be,(0,E.Z)(function*(){let gt={},un={};Ie&&("GET"===re?un=Ie:gt={body:JSON.stringify(Ie)});const Cn=(0,se.xO)(Object.assign({key:G.config.apiKey},un)).slice(1),Fn=yield G._getAdditionalHeaders();return Fn["Content-Type"]="application/json",G.languageCode&&(Fn["X-Firebase-Locale"]=G.languageCode),vt.fetch()(ji(G,G.config.apiHost,pe,Cn),Object.assign({method:re,headers:Fn,referrerPolicy:"no-referrer"},gt))}))})).apply(this,arguments)}function zr(L,g,y){return(Te=Te||(0,E.Z)(function*(T,G,re){T._canInitEmulator=!1;const pe=Object.assign(Object.assign({},Vt),G);try{const Ie=new To(T),Be=yield Promise.race([re(),Ie.promise]);Ie.clearNetworkTimeout();const gt=yield Be.json();if("needConfirmation"in gt)throw js(T,"account-exists-with-different-credential",gt);if(Be.ok&&!("errorMessage"in gt))return gt;{const un=Be.ok?gt.errorMessage:gt.error.message,[Cn,Fn]=un.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Cn)throw js(T,"credential-already-in-use",gt);if("EMAIL_EXISTS"===Cn)throw js(T,"email-already-in-use",gt);if("USER_DISABLED"===Cn)throw js(T,"user-disabled",gt);const Jr=pe[Cn]||Cn.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw function Qs(L,g,y){const T=Object.assign(Object.assign({},hn()),{[g]:y});return new se.LL("auth","Firebase",T).create(g,{appName:L.name})}(T,Jr,Fn);vr(T,Jr)}}catch(Ie){if(Ie instanceof se.ZR)throw Ie;vr(T,"network-request-failed",{message:String(Ie)})}})).apply(this,arguments)}function ji(L,g,y,T){const G=`${g}${y}?${T}`;return L.config.emulator?Ye(L.config,G):`${L.config.apiScheme}://${G}`}class To{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Ar(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function js(L,g,y){const T={appName:L.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const G=Ar(L,g,T);return G.customData._tokenResponse=y,G}function ua(L){if(L)try{const g=new Date(Number(L));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Qr(L){return 1e3*Number(L)}function pi(L){const[g,y,T]=L.split(".");if(void 0===g||void 0===y||void 0===T)return ni("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,se.tV)(y);return G?JSON.parse(G):(ni("Failed to decode base64 JWT payload"),null)}catch(G){return ni("Caught error parsing JWT payload as JSON",G?.toString()),null}}function kr(L,g){return(ft=ft||(0,E.Z)(function*(y,T,G=!1){if(G)return T;try{return yield T}catch(re){throw re instanceof se.ZR&&function Do({code:L}){return"auth/user-disabled"===L||"auth/user-token-expired"===L}(re)&&y.auth.currentUser===y&&(yield y.auth.signOut()),re}})).apply(this,arguments)}class fs{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const G=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,E.Z)(function*(){yield y.iteration()}),T)}iteration(){var g=this;return(0,E.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Ia{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(L){return(mt=mt||(0,E.Z)(function*(g){var y;const T=g.auth,G=yield g.getIdToken(),re=yield kr(g,function Xo(L,g){return(nt=nt||(0,E.Z)(function*(y,T){return Un(y,"POST","/v1/accounts:lookup",T)})).apply(this,arguments)}(T,{idToken:G}));Kt(re?.users.length,T,"internal-error");const pe=re.users[0];g._notifyReloadListener(pe);const Ie=null!==(y=pe.providerUserInfo)&&void 0!==y&&y.length?function Zt(L){return L.map(g=>{var{providerId:y}=g,T=(0,_e._T)(g,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(pe.providerUserInfo):[],Be=function qr(L,g){return[...L.filter(T=>!g.some(G=>G.providerId===T.providerId)),...g]}(g.providerData,Ie),Cn=!!g.isAnonymous&&!(g.email&&pe.passwordHash||Be?.length),Fn={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Be,metadata:new Ia(pe.createdAt,pe.lastLoginAt),isAnonymous:Cn};Object.assign(g,Fn)})).apply(this,arguments)}class Mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Kt(g.idToken,"internal-error"),Kt(typeof g.idToken<"u","internal-error"),Kt(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Js(L){const g=pi(L);return Kt(g,"internal-error"),Kt(typeof g.exp<"u","internal-error"),Kt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var T=this;return(0,E.Z)(function*(){return Kt(!T.accessToken||T.refreshToken,g,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var T=this;return(0,E.Z)(function*(){const{accessToken:G,refreshToken:re,expiresIn:pe}=yield function Wn(L,g){return(sn=sn||(0,E.Z)(function*(y,T){const G=yield zr(y,{},(0,E.Z)(function*(){const re=(0,se.xO)({grant_type:"refresh_token",refresh_token:T}).slice(1),{tokenApiHost:pe,apiKey:Ie}=y.config,Be=ji(y,pe,"/v1/token",`key=${Ie}`),gt=yield y._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",vt.fetch()(Be,{method:"POST",headers:gt,body:re})}));return{accessToken:G.access_token,expiresIn:G.expires_in,refreshToken:G.refresh_token}})).apply(this,arguments)}(g,y);T.updateTokensAndExpiration(G,re,Number(pe))})()}updateTokensAndExpiration(g,y,T){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,y){const{refreshToken:T,accessToken:G,expirationTime:re}=y,pe=new Mr;return T&&(Kt("string"==typeof T,"internal-error",{appName:g}),pe.refreshToken=T),G&&(Kt("string"==typeof G,"internal-error",{appName:g}),pe.accessToken=G),re&&(Kt("number"==typeof re,"internal-error",{appName:g}),pe.expirationTime=re),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Mr,this.toJSON())}_performRefresh(){return ai("not implemented")}}function Ti(L,g){Kt("string"==typeof L||typeof L>"u","internal-error",{appName:g})}class Hi{constructor(g){var{uid:y,auth:T,stsTokenManager:G}=g,re=(0,_e._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new Ia(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,E.Z)(function*(){const T=yield kr(y,y.stsTokenManager.getToken(y.auth,g));return Kt(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(g){return function dr(L){return(yt=yt||(0,E.Z)(function*(g,y=!1){const T=(0,se.m9)(g),G=yield T.getIdToken(y),re=pi(G);Kt(re&&re.exp&&re.auth_time&&re.iat,T.auth,"internal-error");const pe="object"==typeof re.firebase?re.firebase:void 0,Ie=pe?.sign_in_provider;return{claims:re,token:G,authTime:ua(Qr(re.auth_time)),issuedAtTime:ua(Qr(re.iat)),expirationTime:ua(Qr(re.exp)),signInProvider:Ie||null,signInSecondFactor:pe?.sign_in_second_factor||null}})).apply(this,arguments)}(this,g)}reload(){return function nl(L){return(pt=pt||(0,E.Z)(function*(g){const y=(0,se.m9)(g);yield hr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}(this)}_assign(g){this!==g&&(Kt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new Hi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var T=this;return(0,E.Z)(function*(){let G=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),G=!0),y&&(yield hr(T)),yield T.auth._persistUserIfCurrent(T),G&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,E.Z)(function*(){const y=yield g.getIdToken();return yield kr(g,function Xs(L,g){return(Fe=Fe||(0,E.Z)(function*(y,T){return Un(y,"POST","/v1/accounts:delete",T)})).apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var T,G,re,pe,Ie,Be,gt,un;const Cn=null!==(T=y.displayName)&&void 0!==T?T:void 0,Fn=null!==(G=y.email)&&void 0!==G?G:void 0,Jr=null!==(re=y.phoneNumber)&&void 0!==re?re:void 0,bs=null!==(pe=y.photoURL)&&void 0!==pe?pe:void 0,Ls=null!==(Ie=y.tenantId)&&void 0!==Ie?Ie:void 0,wo=null!==(Be=y._redirectEventId)&&void 0!==Be?Be:void 0,Io=null!==(gt=y.createdAt)&&void 0!==gt?gt:void 0,Ql=null!==(un=y.lastLoginAt)&&void 0!==un?un:void 0,{uid:ya,emailVerified:Ki,isAnonymous:Lo,providerData:ba,stsTokenManager:ml}=y;Kt(ya&&ml,g,"internal-error");const Jf=Mr.fromJSON(this.name,ml);Kt("string"==typeof ya,g,"internal-error"),Ti(Cn,g.name),Ti(Fn,g.name),Kt("boolean"==typeof Ki,g,"internal-error"),Kt("boolean"==typeof Lo,g,"internal-error"),Ti(Jr,g.name),Ti(bs,g.name),Ti(Ls,g.name),Ti(wo,g.name),Ti(Io,g.name),Ti(Ql,g.name);const gu=new Hi({uid:ya,auth:g,email:Fn,emailVerified:Ki,displayName:Cn,isAnonymous:Lo,photoURL:bs,phoneNumber:Jr,tenantId:Ls,stsTokenManager:Jf,createdAt:Io,lastLoginAt:Ql});return ba&&Array.isArray(ba)&&(gu.providerData=ba.map(rf=>Object.assign({},rf))),wo&&(gu._redirectEventId=wo),gu}static _fromIdTokenResponse(g,y,T=!1){return(0,E.Z)(function*(){const G=new Mr;G.updateFromServerResponse(y);const re=new Hi({uid:y.localId,auth:g,stsTokenManager:G,isAnonymous:T});return yield hr(re),re})()}}const Cs=new Map;function ss(L){Pi(L instanceof Function,"Expected a class definition");let g=Cs.get(L);return g?(Pi(g instanceof L,"Instance stored in cache mismatched with class"),g):(g=new L,Cs.set(L,g),g)}const Xi=(()=>{class L{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(y,T){var G=this;return(0,E.Z)(function*(){G.storage[y]=T})()}_get(y){var T=this;return(0,E.Z)(function*(){const G=T.storage[y];return void 0===G?null:G})()}_remove(y){var T=this;return(0,E.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return L.type="NONE",L})();function Os(L,g,y){return`firebase:${L}:${g}:${y}`}class On{constructor(g,y,T){this.persistence=g,this.auth=y,this.userKey=T;const{config:G,name:re}=this.auth;this.fullUserKey=Os(this.userKey,G.apiKey,re),this.fullPersistenceKey=Os("persistence",G.apiKey,re),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,E.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Hi._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,E.Z)(function*(){if(y.persistence===g)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,T="authUser"){return(0,E.Z)(function*(){var G,re;if(!y.length)return new On(ss(Xi),g,T);const pe=(yield Promise.all(y.map(function(Cn){return(G=G||(0,E.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn})).apply(this,arguments)}))).filter(Cn=>Cn);let Ie=pe[0]||ss(Xi);const Be=Os(T,g.config.apiKey,g.name);let gt=null;for(const Cn of y)try{const Fn=yield Cn._get(Be);if(Fn){const Jr=Hi._fromJSON(g,Fn);Cn!==Ie&&(gt=Jr),Ie=Cn;break}}catch{}const un=pe.filter(Cn=>Cn._shouldAllowMigration);return Ie._shouldAllowMigration&&un.length?(Ie=un[0],gt&&(yield Ie._set(Be,gt.toJSON())),yield Promise.all(y.map(function(Cn){return(re=re||(0,E.Z)(function*(Fn){if(Fn!==Ie)try{yield Fn._remove(Be)}catch{}})).apply(this,arguments)})),new On(Ie,g,T)):new On(Ie,g,T)})()}}function ha(L){const g=L.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(fa(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(eo(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(to(g))return"Blackberry";if(Jo(g))return"Webos";if(Ps(g))return"Safari";if((g.includes("chrome/")||Di(g))&&!g.includes("edge/"))return"Chrome";if(pa(g))return"Android";{const T=L.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function eo(L=(0,se.z$)()){return/firefox\//i.test(L)}function Ps(L=(0,se.z$)()){const g=L.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Di(L=(0,se.z$)()){return/crios\//i.test(L)}function fa(L=(0,se.z$)()){return/iemobile/i.test(L)}function pa(L=(0,se.z$)()){return/android/i.test(L)}function to(L=(0,se.z$)()){return/blackberry/i.test(L)}function Jo(L=(0,se.z$)()){return/webos/i.test(L)}function Ca(L=(0,se.z$)()){return/iphone|ipad|ipod/i.test(L)||/macintosh/i.test(L)&&/mobile/i.test(L)}function ao(L=(0,se.z$)()){return Ca(L)||pa(L)||Jo(L)||to(L)||/windows phone/i.test(L)||fa(L)}function xa(L,g=[]){let y;switch(L){case"Browser":y=ha((0,se.z$)());break;case"Worker":y=`${ha((0,se.z$)())}-${L}`;break;default:y=L}const T=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${ie.SDK_VERSION}/${T}`}class Ul{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const T=re=>new Promise((pe,Ie)=>{try{pe(g(re))}catch(Be){Ie(Be)}});T.onAbort=y,this.queue.push(T);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,E.Z)(function*(){if(y.auth.currentUser===g)return;const T=[];try{for(const G of y.queue)yield G(g),G.onAbort&&T.push(G.onAbort)}catch(G){T.reverse();for(const re of T)try{re()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:G?.message})}})()}}class ks{constructor(g){var y,T,G,re;const pe=g.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=pe.minPasswordLength)&&void 0!==y?y:6,pe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=pe.maxPasswordLength),void 0!==pe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=pe.containsLowercaseCharacter),void 0!==pe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=pe.containsUppercaseCharacter),void 0!==pe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=pe.containsNumericCharacter),void 0!==pe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=pe.containsNonAlphanumericCharacter),this.enforcementState=g.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(G=null===(T=g.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==G?G:"",this.forceUpgradeOnSignin=null!==(re=g.forceUpgradeOnSignin)&&void 0!==re&&re,this.schemaVersion=g.schemaVersion}validatePassword(g){var y,T,G,re,pe,Ie;const Be={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(g,Be),this.validatePasswordCharacterOptions(g,Be),Be.isValid&&(Be.isValid=null===(y=Be.meetsMinPasswordLength)||void 0===y||y),Be.isValid&&(Be.isValid=null===(T=Be.meetsMaxPasswordLength)||void 0===T||T),Be.isValid&&(Be.isValid=null===(G=Be.containsLowercaseLetter)||void 0===G||G),Be.isValid&&(Be.isValid=null===(re=Be.containsUppercaseLetter)||void 0===re||re),Be.isValid&&(Be.isValid=null===(pe=Be.containsNumericCharacter)||void 0===pe||pe),Be.isValid&&(Be.isValid=null===(Ie=Be.containsNonAlphanumericCharacter)||void 0===Ie||Ie),Be}validatePasswordLengthOptions(g,y){const T=this.customStrengthOptions.minPasswordLength,G=this.customStrengthOptions.maxPasswordLength;T&&(y.meetsMinPasswordLength=g.length>=T),G&&(y.meetsMaxPasswordLength=g.length<=G)}validatePasswordCharacterOptions(g,y){let T;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let G=0;G<g.length;G++)T=g.charAt(G),this.updatePasswordCharacterOptionsStatuses(y,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(g,y,T,G,re){this.customStrengthOptions.containsLowercaseLetter&&(g.containsLowercaseLetter||(g.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(g.containsUppercaseLetter||(g.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(g.containsNumericCharacter||(g.containsNumericCharacter=G)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(g.containsNonAlphanumericCharacter||(g.containsNonAlphanumericCharacter=re))}}class no{constructor(g,y,T,G){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=T,this.config=G,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.beforeStateQueue=new Ul(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=G.sdkClientVersion}_initializeWithPersistence(g,y){var T=this;return y&&(this._popupRedirectResolver=ss(y)),this._initializationPromise=this.queue((0,E.Z)(function*(){var G,re;if(!T._deleted&&(T.persistenceManager=yield On.create(T,g),!T._deleted)){if(null!==(G=T._popupRedirectResolver)&&void 0!==G&&G._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(re=T.currentUser)||void 0===re?void 0:re.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,E.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,E.Z)(function*(){var T;const G=yield y.assertedPersistence.getCurrentUser();let re=G,pe=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ie=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,Be=re?._redirectEventId,gt=yield y.tryRedirectSignIn(g);(!Ie||Ie===Be)&&gt?.user&&(re=gt.user,pe=!0)}if(!re)return y.directlySetCurrentUser(null);if(!re._redirectEventId){if(pe)try{yield y.beforeStateQueue.runMiddleware(re)}catch(Ie){re=G,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ie))}return re?y.reloadAndSetCurrentUserOrClear(re):y.directlySetCurrentUser(null)}return Kt(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===re._redirectEventId?y.directlySetCurrentUser(re):y.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(g){var y=this;return(0,E.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,E.Z)(function*(){try{yield hr(g)}catch(T){if("auth/network-request-failed"!==T?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Le(){if(typeof navigator>"u")return null;const L=navigator;return L.languages&&L.languages[0]||L.language||null}()}_delete(){var g=this;return(0,E.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,E.Z)(function*(){const T=g?(0,se.m9)(g):null;return T&&Kt(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(g,y=!1){var T=this;return(0,E.Z)(function*(){if(!T._deleted)return g&&Kt(T.tenantId===g.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(g)),T.queue((0,E.Z)(function*(){yield T.directlySetCurrentUser(g),T.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,E.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,E.Z)(function*(){yield y.assertedPersistence.setPersistence(ss(g))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(g){var y=this;return(0,E.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const T=y._getPasswordPolicyInternal();return T.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(g)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var g=this;return(0,E.Z)(function*(){const y=yield function ea(L){return(Yt=Yt||(0,E.Z)(function*(g,y={}){return Un(g,"GET","/v2/passwordPolicy",wn(g,y))})).apply(this,arguments)}(g),T=new ks(y);null===g.tenantId?g._projectPasswordPolicy=T:g._tenantPasswordPolicies[g.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new se.LL("auth","Firebase",g())}onAuthStateChanged(g,y,T){return this.registerStateListener(this.authStateSubscription,g,y,T)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,T){return this.registerStateListener(this.idTokenSubscription,g,y,T)}authStateReady(){return new Promise((g,y)=>{if(this.currentUser)g();else{const T=this.onAuthStateChanged(()=>{T(),g()},y)}})}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var T=this;return(0,E.Z)(function*(){const G=yield T.getOrInitRedirectPersistenceManager(y);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,E.Z)(function*(){if(!y.redirectPersistenceManager){const T=g&&ss(g)||y._popupRedirectResolver;Kt(T,y,"argument-error"),y.redirectPersistenceManager=yield On.create(y,[ss(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,E.Z)(function*(){var T,G;return y._isInitialized&&(yield y.queue((0,E.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===g?y._currentUser:(null===(G=y.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,E.Z)(function*(){if(g===y.currentUser)return y.queue((0,E.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,T,G){if(this._deleted)return()=>{};const re="function"==typeof y?y:y.next.bind(y);let pe=!1;const Ie=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(Ie,this,"internal-error"),Ie.then(()=>{pe||re(this.currentUser)}),"function"==typeof y){const Be=g.addObserver(y,T,G);return()=>{pe=!0,Be()}}{const Be=g.addObserver(y);return()=>{pe=!0,Be()}}}directlySetCurrentUser(g){var y=this;return(0,E.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=xa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,E.Z)(function*(){var y;const T={"X-Client-Version":g.clientVersion};g.app.options.appId&&(T["X-Firebase-gmpid"]=g.app.options.appId);const G=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();G&&(T["X-Firebase-Client"]=G);const re=yield g._getAppCheckToken();return re&&(T["X-Firebase-AppCheck"]=re),T})()}_getAppCheckToken(){var g=this;return(0,E.Z)(function*(){var y;const T=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return T?.error&&function kt(L,...g){Wr.logLevel<=_.in.WARN&&Wr.warn(`Auth (${ie.SDK_VERSION}): ${L}`,...g)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function li(L){return(0,se.m9)(L)}class Yn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,se.ne)(y=>this.observer=y)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rr(L){return`__${L}${Math.floor(1e6*Math.random())}`}function Hs(L){const g=L.indexOf(":");return g<0?"":L.substr(0,g+1)}function xc(L){if(!L)return null;const g=Number(L);return isNaN(g)?null:g}class sl{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return ai("not implemented")}_getIdTokenResponse(g){return ai("not implemented")}_linkToIdToken(g,y){return ai("not implemented")}_getReauthenticationResolver(g){return ai("not implemented")}}function Si(L,g){return(vi=vi||(0,E.Z)(function*(y,T){return function ar(L,g,y,T){return(je=je||(0,E.Z)(function*(G,re,pe,Ie,Be={}){const gt=yield Un(G,re,pe,Ie,Be);return"mfaPendingCredential"in gt&&vr(G,"multi-factor-auth-required",{_serverResponse:gt}),gt})).apply(this,arguments)}(y,"POST","/v1/accounts:signInWithIdp",wn(y,T))})).apply(this,arguments)}class Ai{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ao extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class es{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,T,G=!1){return(0,E.Z)(function*(){const re=yield Hi._fromIdTokenResponse(g,T,G),pe=zo(T);return new es({user:re,providerId:pe,_tokenResponse:T,operationType:y})})()}static _forOperation(g,y,T){return(0,E.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const G=zo(T);return new es({user:g,providerId:G,_tokenResponse:T,operationType:y})})()}}function zo(L){return L.providerId?L.providerId:"phoneNumber"in L?"phone":null}class mi extends se.ZR{constructor(g,y,T,G){var re;super(y.code,y.message),this.operationType=T,this.user=G,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:g.name,tenantId:null!==(re=g.tenantId)&&void 0!==re?re:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,y,T,G){return new mi(g,y,T,G)}}function Ua(L,g,y,T){return("reauthenticate"===g?y._getReauthenticationResolver(L):y._getIdTokenResponse(L)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?mi._fromErrorAndOperation(L,re,g,T):re})}const Ha="__sak";class Ei{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const _n=(()=>{class L extends Ei{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rt(){const L=(0,se.z$)();return Ps(L)||Ca(L)}()&&function fr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const G=this.storage.getItem(T),re=this.localCache[T];G!==re&&y(T,re,G)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ie,Be,gt)=>{this.notifyListeners(Ie,gt)});const G=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ie=this.storage.getItem(G);if(y.newValue!==Ie)null!==y.newValue?this.storage.setItem(G,y.newValue):this.storage.removeItem(G);else if(this.localCache[G]===y.newValue&&!T)return}const re=()=>{const Ie=this.storage.getItem(G);!T&&this.localCache[G]===Ie||this.notifyListeners(G,Ie)},pe=this.storage.getItem(G);!function bl(){return(0,se.w1)()&&10===document.documentMode}()||pe===y.newValue||y.newValue===y.oldValue?re():setTimeout(re,10)}notifyListeners(y,T){this.localCache[y]=T;const G=this.listeners[y];if(G)for(const re of Array.from(G))re(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var G=()=>super._set,re=this;return(0,E.Z)(function*(){yield G().call(re,y,T),re.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,G=this;return(0,E.Z)(function*(){const re=yield T().call(G,y);return G.localCache[y]=JSON.stringify(re),re})()}_remove(y){var T=()=>super._remove,G=this;return(0,E.Z)(function*(){yield T().call(G,y),delete G.localCache[y]})()}}return L.type="LOCAL",L})(),mo=(()=>{class L extends Ei{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return L.type="SESSION",L})();let rt=(()=>{class L{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(re=>re.isListeningto(y));if(T)return T;const G=new L(y);return this.receivers.push(G),G}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,E.Z)(function*(){var G;const re=y,{eventId:pe,eventType:Ie,data:Be}=re.data,gt=T.handlersMap[Ie];if(!gt?.size)return;re.ports[0].postMessage({status:"ack",eventId:pe,eventType:Ie});const un=Array.from(gt).map(function(Fn){return(G=G||(0,E.Z)(function*(Jr){return Jr(re.origin,Be)})).apply(this,arguments)}),Cn=yield function Xt(L){var g;return Promise.all(L.map(function(y){return(g=g||(0,E.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(G){return{fulfilled:!1,reason:G}}})).apply(this,arguments)}))}(un);re.ports[0].postMessage({status:"done",eventId:pe,eventType:Ie,response:Cn})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return L.receivers=[],L})();function wt(L="",g=10){let y="";for(let T=0;T<g;T++)y+=Math.floor(10*Math.random());return L+y}class D{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,T=50){var G=this;return(0,E.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let pe,Ie;return new Promise((Be,gt)=>{const un=wt("",20);re.port1.start();const Cn=setTimeout(()=>{gt(new Error("unsupported_event"))},T);Ie={messageChannel:re,onMessage(Fn){const Jr=Fn;if(Jr.data.eventId===un)switch(Jr.data.status){case"ack":clearTimeout(Cn),pe=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),Be(Jr.data.response);break;default:clearTimeout(Cn),clearTimeout(pe),gt(new Error("invalid_response"))}}},G.handlers.add(Ie),re.port1.addEventListener("message",Ie.onMessage),G.target.postMessage({eventType:g,eventId:un,data:y},[re.port2])}).finally(()=>{Ie&&G.removeMessageHandler(Ie)})})()}}function P(){return window}function k(){return typeof P().WorkerGlobalScope<"u"&&"function"==typeof P().importScripts}const Ge="firebaseLocalStorageDb",dt="firebaseLocalStorage",Nn="fbase_key";class tr{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function gn(L,g){return L.transaction([dt],g?"readwrite":"readonly").objectStore(dt)}function go(){const L=indexedDB.open(Ge,1);return new Promise((g,y)=>{L.addEventListener("error",()=>{y(L.error)}),L.addEventListener("upgradeneeded",()=>{const T=L.result;try{T.createObjectStore(dt,{keyPath:Nn})}catch(G){y(G)}}),L.addEventListener("success",(0,E.Z)(function*(){const T=L.result;T.objectStoreNames.contains(dt)?g(T):(T.close(),yield function Rr(){const L=indexedDB.deleteDatabase(Ge);return new tr(L).toPromise()}(),g(yield go()))}))})}function ii(L,g,y){return(cr=cr||(0,E.Z)(function*(T,G,re){const pe=gn(T,!0).put({[Nn]:G,value:re});return new tr(pe).toPromise()})).apply(this,arguments)}function Po(L,g){const y=gn(L,!0).delete(g);return new tr(y).toPromise()}const Ft=(()=>{class L{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,E.Z)(function*(){return y.db||(y.db=yield go()),y.db})()}_withRetries(y){var T=this;return(0,E.Z)(function*(){let G=0;for(;;)try{const re=yield T._openDb();return yield y(re)}catch(re){if(G++>3)throw re;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,E.Z)(function*(){return k()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,E.Z)(function*(){var T,G;y.receiver=rt._getInstance(function ve(){return k()?self:null}()),y.receiver._subscribe("keyChanged",function(re,pe){return(T=T||(0,E.Z)(function*(Ie,Be){return{keyProcessed:(yield y._poll()).includes(Be.key)}})).apply(this,arguments)}),y.receiver._subscribe("ping",function(re,pe){return(G=G||(0,E.Z)(function*(Ie,Be){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var y=this;return(0,E.Z)(function*(){var T,G;if(y.activeServiceWorker=yield function W(){return(Ui=Ui||(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new D(y.activeServiceWorker);const re=yield y.sender._send("ping",{},800);re&&null!==(T=re[0])&&void 0!==T&&T.fulfilled&&null!==(G=re[0])&&void 0!==G&&G.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,E.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function ce(){var L;return(null===(L=navigator?.serviceWorker)||void 0===L?void 0:L.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const y=yield go();return yield ii(y,Ha,"1"),yield Po(y,Ha),!0}catch{}return!1})()}_withPendingWrite(y){var T=this;return(0,E.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var G=this;return(0,E.Z)(function*(){return G._withPendingWrite((0,E.Z)(function*(){return yield G._withRetries(re=>ii(re,y,T)),G.localCache[y]=T,G.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,E.Z)(function*(){const G=yield T._withRetries(re=>function In(L,g){return(Ms=Ms||(0,E.Z)(function*(y,T){const G=gn(y,!1).get(T),re=yield new tr(G).toPromise();return void 0===re?null:re.value})).apply(this,arguments)}(re,y));return T.localCache[y]=G,G})()}_remove(y){var T=this;return(0,E.Z)(function*(){return T._withPendingWrite((0,E.Z)(function*(){return yield T._withRetries(G=>Po(G,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,E.Z)(function*(){const T=yield y._withRetries(pe=>{const Ie=gn(pe,!1).getAll();return new tr(Ie).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const G=[],re=new Set;for(const{fbase_key:pe,value:Ie}of T)re.add(pe),JSON.stringify(y.localCache[pe])!==JSON.stringify(Ie)&&(y.notifyListeners(pe,Ie),G.push(pe));for(const pe of Object.keys(y.localCache))y.localCache[pe]&&!re.has(pe)&&(y.notifyListeners(pe,null),G.push(pe));return G})()}notifyListeners(y,T){this.localCache[y]=T;const G=this.listeners[y];if(G)for(const re of Array.from(G))re(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return L.type="LOCAL",L})();rr("rcb"),new Ne(3e4,6e4);class Aa extends sl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Si(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Si(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Si(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function $a(L){return function cl(L,g){return(mn=mn||(0,E.Z)(function*(y,T,G=!1){const pe=yield Ua(y,"signIn",T),Ie=yield es._fromIdTokenResponse(y,"signIn",pe);return G||(yield y._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}(L.auth,new Aa(L),L.bypassAuthState)}function va(L){const{auth:g,user:y}=L;return Kt(y,g,"internal-error"),function Ro(L,g){return(dn=dn||(0,E.Z)(function*(y,T,G=!1){const{auth:re}=y,pe="reauthenticate";try{const Ie=yield kr(y,Ua(re,pe,T,y),G);Kt(Ie.idToken,re,"internal-error");const Be=pi(Ie.idToken);Kt(Be,re,"internal-error");const{sub:gt}=Be;return Kt(y.uid===gt,re,"user-mismatch"),es._forOperation(y,pe,Ie)}catch(Ie){throw"auth/user-not-found"===Ie?.code&&vr(re,"user-mismatch"),Ie}})).apply(this,arguments)}(y,new Aa(L),L.bypassAuthState)}function Ks(L){return(xi=xi||(0,E.Z)(function*(g){const{auth:y,user:T}=g;return Kt(T,y,"internal-error"),function ls(L,g){return(on=on||(0,E.Z)(function*(y,T,G=!1){const re=yield kr(y,T._linkToIdToken(y.auth,yield y.getIdToken()),G);return es._forOperation(y,"link",re)})).apply(this,arguments)}(T,new Aa(g),g.bypassAuthState)})).apply(this,arguments)}class hc{constructor(g,y,T,G,re=!1){this.auth=g,this.resolver=T,this.user=G,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var y,g=this;return new Promise(function(T,G){return(y=y||(0,E.Z)(function*(re,pe){g.pendingPromise={resolve:re,reject:pe};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Ie){g.reject(Ie)}})).apply(this,arguments)})}onAuthEvent(g){var y=this;return(0,E.Z)(function*(){const{urlResponse:T,sessionId:G,postBody:re,tenantId:pe,error:Ie,type:Be}=g;if(Ie)return void y.reject(Ie);const gt={auth:y.auth,requestUri:T,sessionId:G,tenantId:pe||void 0,postBody:re||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Be)(gt))}catch(un){y.reject(un)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return $a;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return va;default:vr(this.auth,"internal-error")}}resolve(g){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ne(2e3,1e4);const Uh="pendingRedirect",Dl=new Map;class Nc extends hc{constructor(g,y,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,E.Z)(function*(){let T=Dl.get(y.auth._key());if(!T){try{const re=(yield function Xd(L,g){return(Rs=Rs||(0,E.Z)(function*(y,T){const G=function su(L){return Os(Uh,L.config.apiKey,L.name)}(T),re=function Lc(L){return ss(L._redirectPersistence)}(y);if(!(yield re._isAvailable()))return!1;const pe="true"===(yield re._get(G));return yield re._remove(G),pe})).apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;T=()=>Promise.resolve(re)}catch(G){T=()=>Promise.reject(G)}Dl.set(y.auth._key(),T)}return y.bypassAuthState||Dl.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,T=this;return(0,E.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(T,g);if("unknown"!==g.type){if(g.eventId){const G=yield T.auth._redirectUserForId(g.eventId);if(G)return T.user=G,y().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Fc(L,g){Dl.set(L._key(),g)}function ql(L,g){return(H=H||(0,E.Z)(function*(y,T,G=!1){const re=li(y),pe=function ns(L,g){return g?ss(g):(Kt(L._popupRedirectResolver,L,"argument-error"),L._popupRedirectResolver)}(re,T),Be=yield new Nc(re,pe,G).execute();return Be&&!G&&(delete Be.user._redirectEventId,yield re._persistUserIfCurrent(Be.user),yield re._setRedirectUser(null,T)),Be})).apply(this,arguments)}class yo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(y=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ma(L){switch(L.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(L);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var T;if(g.error&&!cs(g)){const G=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Ar(this.auth,G))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const T=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ga(g))}saveEventToCache(g){this.cachedEventUids.add(Ga(g)),this.lastProcessedEventTime=Date.now()}}function Ga(L){return[L.type,L.eventId,L.sessionId,L.tenantId].filter(g=>g).join("-")}function cs({type:L,error:g}){return"unknown"===L&&"auth/no-auth-event"===g?.code}const eh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ii=/^https?/;function Ss(L){const g=Qo(),{protocol:y,hostname:T}=new URL(g);if(L.startsWith("chrome-extension://")){const pe=new URL(L);return""===pe.hostname&&""===T?"chrome-extension:"===y&&L.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&pe.hostname===T}if(!Ii.test(y))return!1;if(eh.test(L))return T===L;const G=L.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(T)}const _i=new Ne(3e4,6e4);function B(){const L=P().___jsl;if(L?.H)for(const g of Object.keys(L.H))if(L.H[g].r=L.H[g].r||[],L.H[g].L=L.H[g].L||[],L.H[g].r=[...L.H[g].L],L.CP)for(let y=0;y<L.CP.length;y++)L.CP[y]=null}let ee=null;function ge(L){return ee=ee||function $(L){return new Promise((g,y)=>{var T,G,re;function pe(){B(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{B(),y(Ar(L,"network-request-failed"))},timeout:_i.get()})}if(null!==(G=null===(T=P().gapi)||void 0===T?void 0:T.iframes)&&void 0!==G&&G.Iframe)g(gapi.iframes.getContext());else{if(null===(re=P().gapi)||void 0===re||!re.load){const Ie=rr("iframefcb");return P()[Ie]=()=>{gapi.load?pe():y(Ar(L,"network-request-failed"))},function ps(L){return new Promise((g,y)=>{const T=document.createElement("script");T.setAttribute("src",L),T.onload=g,T.onerror=G=>{const re=Ar("internal-error");re.customData=G,y(re)},T.type="text/javascript",T.charset="UTF-8",function rl(){var L,g;return null!==(g=null===(L=document.getElementsByTagName("head"))||void 0===L?void 0:L[0])&&void 0!==g?g:document}().appendChild(T)})}(`https://apis.google.com/js/api.js?onload=${Ie}`).catch(Be=>y(Be))}pe()}}).catch(g=>{throw ee=null,g})}(L),ee}const De=new Ne(5e3,15e3),bt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rn(L){const g=L.config;Kt(g.authDomain,L,"auth-domain-config-required");const y=g.emulator?Ye(g,"emulator/auth/iframe"):`https://${L.config.authDomain}/__/auth/iframe`,T={apiKey:g.apiKey,appName:L.name,v:ie.SDK_VERSION},G=Tt.get(L.config.apiHost);G&&(T.eid=G);const re=L._getFrameworks();return re.length&&(T.fw=re.join(",")),`${y}?${(0,se.xO)(T).slice(1)}`}const fn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class us{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uc=encodeURIComponent("fac");function hl(L,g,y,T,G,re){return(xt=xt||(0,E.Z)(function*(pe,Ie,Be,gt,un,Cn){Kt(pe.config.authDomain,pe,"auth-domain-config-required"),Kt(pe.config.apiKey,pe,"invalid-api-key");const Fn={apiKey:pe.config.apiKey,appName:pe.name,authType:Be,redirectUrl:gt,v:ie.SDK_VERSION,eventId:un};if(Ie instanceof Ai){Ie.setDefaultLanguage(pe.languageCode),Fn.providerId=Ie.providerId||"",(0,se.xb)(Ie.getCustomParameters())||(Fn.customParameters=JSON.stringify(Ie.getCustomParameters()));for(const[wo,Io]of Object.entries(Cn||{}))Fn[wo]=Io}if(Ie instanceof Ao){const wo=Ie.getScopes().filter(Io=>""!==Io);wo.length>0&&(Fn.scopes=wo.join(","))}pe.tenantId&&(Fn.tid=pe.tenantId);const Jr=Fn;for(const wo of Object.keys(Jr))void 0===Jr[wo]&&delete Jr[wo];const bs=yield pe._getAppCheckToken(),Ls=bs?`#${Uc}=${encodeURIComponent(bs)}`:"";return`${function Bc({config:L}){return L.emulator?Ye(L,"emulator/auth/handler"):`https://${L.authDomain}/__/auth/handler`}(pe)}?${(0,se.xO)(Jr).slice(1)}${Ls}`})).apply(this,arguments)}const jc="webStorageSupport",jh=class Rl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mo,this._completeRedirectFn=ql,this._overrideRedirectResult=Fc}_openPopup(g,y,T,G){var re=this;return(0,E.Z)(function*(){var pe;Pi(null===(pe=re.eventManagers[g._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Ie=yield hl(g,y,T,Qo(),G);return function Kn(L,g,y,T=500,G=600){const re=Math.max((window.screen.availHeight-G)/2,0).toString(),pe=Math.max((window.screen.availWidth-T)/2,0).toString();let Ie="";const Be=Object.assign(Object.assign({},fn),{width:T.toString(),height:G.toString(),top:re,left:pe}),gt=(0,se.z$)().toLowerCase();y&&(Ie=Di(gt)?"_blank":y),eo(gt)&&(g=g||"http://localhost",Be.scrollbars="yes");const un=Object.entries(Be).reduce((Fn,[Jr,bs])=>`${Fn}${Jr}=${bs},`,"");if(function oo(L=(0,se.z$)()){var g;return Ca(L)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(gt)&&"_self"!==Ie)return function ei(L,g){const y=document.createElement("a");y.href=L,y.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(g||"",Ie),new us(null);const Cn=window.open(g||"",Ie,un);Kt(Cn,L,"popup-blocked");try{Cn.focus()}catch{}return new us(Cn)}(g,Ie,wt())})()}_openRedirect(g,y,T,G){var re=this;return(0,E.Z)(function*(){return yield re._originValidation(g),function V(L){P().location.href=L}(yield hl(g,y,T,Qo(),G)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:G,promise:re}=this.eventManagers[y];return G?Promise.resolve(G):(Pi(re,"If manager is not set, promise should be"),re)}const T=this.initAndGetManager(g);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(g){var y=this;return(0,E.Z)(function*(){const T=yield function yn(L){return(jt=jt||(0,E.Z)(function*(g){const y=yield ge(g),T=P().gapi;return Kt(T,g,"internal-error"),y.open({where:document.body,url:rn(g),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bt,dontclear:!0},G=>{var re;return new Promise(function(pe,Ie){return(re=re||(0,E.Z)(function*(Be,gt){yield G.restyle({setHideOnLeave:!1});const un=Ar(g,"network-request-failed"),Cn=P().setTimeout(()=>{gt(un)},De.get());function Fn(){P().clearTimeout(Cn),Be(G)}G.ping(Fn).then(Fn,()=>{gt(un)})})).apply(this,arguments)})})})).apply(this,arguments)}(g),G=new yo(g);return T.register("authEvent",re=>(Kt(re?.authEvent,g,"invalid-auth-event"),{status:G.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:G},y.iframes[g._key()]=T,G})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(jc,{type:jc},G=>{var re;const pe=null===(re=G?.[0])||void 0===re?void 0:re[jc];void 0!==pe&&y(!!pe),vr(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ml(L){return(Ze=Ze||(0,E.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:y}=yield function fc(L){return(Oe=Oe||(0,E.Z)(function*(g,y={}){return Un(g,"GET","/v1/projects",y)})).apply(this,arguments)}(g);for(const T of y)try{if(Ss(T))return}catch{}vr(g,"unauthorized-domain")})).apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return ao()||Ps()||Ca()}};var j="@firebase/auth",w="1.3.0";class I{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,E.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(T=>{g(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const we=(0,se.Pz)("authIdTokenMaxAge")||300;let Pe=null;const it=L=>{var g;return function(y){return(g=g||(0,E.Z)(function*(T){const G=T&&(yield T.getIdTokenResult()),re=G&&((new Date).getTime()-Date.parse(G.issuedAtTime))/1e3;if(re&&re>we)return;const pe=G?.token;Pe!==pe&&(Pe=pe,yield fetch(L,{method:pe?"POST":"DELETE",headers:pe?{Authorization:`Bearer ${pe}`}:{}}))})).apply(this,arguments)}};function Ct(L=(0,ie.getApp)()){const g=(0,ie._getProvider)(L,"auth");if(g.isInitialized())return g.getImmediate();const y=function Na(L,g){const y=(0,ie._getProvider)(L,"auth");if(y.isInitialized()){const G=y.getImmediate(),re=y.getOptions();if((0,se.vZ)(re,g??{}))return G;vr(G,"already-initialized")}return y.initialize({options:g})}(L,{popupRedirectResolver:jh,persistence:[Ft,_n,mo]}),T=(0,se.Pz)("authTokenSyncURL");if(T){const re=it(T);(function ac(L,g,y){(0,se.m9)(L).beforeAuthStateChanged(g,y)})(y,re,()=>re(y.currentUser)),function qn(L,g,y,T){(0,se.m9)(L).onIdTokenChanged(g,y,T)}(y,pe=>re(pe))}const G=(0,se.q4)("auth");return G&&function rc(L,g,y){const T=li(L);Kt(T._canInitEmulator,T,"emulator-config-failed"),Kt(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const G=!!y?.disableWarnings,re=Hs(g),{host:pe,port:Ie}=function La(L){const g=Hs(L),y=/(\/\/)?([^?#/]+)/.exec(L.substr(g.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(T);if(G){const re=G[1];return{host:re,port:xc(T.substr(re.length+1))}}{const[re,pe]=T.split(":");return{host:re,port:xc(pe)}}}(g);T.config.emulator={url:`${re}//${pe}${null===Ie?"":`:${Ie}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:pe,port:Ie,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function ic(){function L(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",L):L())}()}(y,`http://${G}`),y}!function ne(L){(0,ie._registerComponent)(new Se.wA("auth",(g,{options:y})=>{const T=g.getProvider("app").getImmediate(),G=g.getProvider("heartbeat"),re=g.getProvider("app-check-internal"),{apiKey:pe,authDomain:Ie}=T.options;Kt(pe&&!pe.includes(":"),"invalid-api-key",{appName:T.name});const Be={apiKey:pe,authDomain:Ie,clientPlatform:L,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xa(L)},gt=new no(T,G,re,Be);return function Fa(L,g){const y=g?.persistence||[],T=(Array.isArray(y)?y:[y]).map(ss);g?.errorMap&&L._updateErrorMap(g.errorMap),L._initializeWithPersistence(T,g?.popupRedirectResolver)}(gt,y),gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,T)=>{g.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Se.wA("auth-internal",g=>{const y=li(g.getProvider("auth").getImmediate());return new I(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(j,w,function R(L){switch(L){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(L)),(0,ie.registerVersion)(j,w,"esm2017")}("Browser");var Lt=K(5879),Pn=K(8645),Gt=K(2096),Sn=K(5592),rs=K(2459),Wa=K(3019),qi=K(3093),Eo=K(4664),io=K(7398),wd=K(940),zh=K(1374),Wu=K(4674);function Id(L,g){return(0,Wu.m)(g)?(0,Eo.w)(()=>L,g):(0,Eo.w)(()=>L)}var $h=K(5137),nh=K(2181),Go=K(3452),Zl=K(6304),Cd=K(6814),Gp=K(2194);K(120);const Wp=new Lt.OlP("angularfire2.auth.use-emulator"),lu=new Lt.OlP("angularfire2.auth.settings"),Gh=new Lt.OlP("angularfire2.auth.tenant-id"),Wh=new Lt.OlP("angularfire2.auth.langugage-code"),qh=new Lt.OlP("angularfire2.auth.use-device-language"),Kh=new Lt.OlP("angularfire.auth.persistence"),qp=(L,g,y,T,G,re,pe,Ie)=>(0,Zl.cc)(`${L.name}.auth`,"AngularFireAuth",L.name,()=>{const Be=g.runOutsideAngular(()=>L.auth());if(y&&Be.useEmulator(...y),T&&(Be.tenantId=T),Be.languageCode=G,re&&Be.useDeviceLanguage(),pe)for(const[gt,un]of Object.entries(pe))Be.settings[gt]=un;return Ie&&Be.setPersistence(Ie),Be},[y,T,G,re,pe,Ie]);let Hc=(()=>{class L{constructor(y,T,G,re,pe,Ie,Be,gt,un,Cn,Fn,Jr){const bs=new Pn.x,Ls=(0,Gt.of)(void 0).pipe((0,qi.Q)(pe.outsideAngular),(0,Eo.w)(()=>re.runOutsideAngular(()=>Promise.resolve().then(K.bind(K,8661)))),(0,io.U)(()=>(0,Zl.on)(y,re,T)),(0,io.U)(wo=>qp(wo,re,Ie,gt,un,Cn,Be,Fn)),(0,wd.d)({bufferSize:1,refCount:!1}));if((0,Cd.PM)(G))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Gt.of)(null);else{Ls.pipe((0,zh.P)()).subscribe();const Io=Ls.pipe((0,Eo.w)(Ki=>Ki.getRedirectResult().then(Lo=>Lo,()=>null)),Go.iC,(0,wd.d)({bufferSize:1,refCount:!1})),Ql=Ls.pipe((0,Eo.w)(Ki=>new Sn.y(Lo=>({unsubscribe:re.runOutsideAngular(()=>Ki.onAuthStateChanged(ba=>Lo.next(ba),ba=>Lo.error(ba),()=>Lo.complete()))})))),ya=Ls.pipe((0,Eo.w)(Ki=>new Sn.y(Lo=>({unsubscribe:re.runOutsideAngular(()=>Ki.onIdTokenChanged(ba=>Lo.next(ba),ba=>Lo.error(ba),()=>Lo.complete()))}))));this.authState=Io.pipe(Id(Ql),(0,$h.R)(pe.outsideAngular),(0,qi.Q)(pe.insideAngular)),this.user=Io.pipe(Id(ya),(0,$h.R)(pe.outsideAngular),(0,qi.Q)(pe.insideAngular)),this.idToken=this.user.pipe((0,Eo.w)(Ki=>Ki?(0,rs.D)(Ki.getIdToken()):(0,Gt.of)(null))),this.idTokenResult=this.user.pipe((0,Eo.w)(Ki=>Ki?(0,rs.D)(Ki.getIdTokenResult()):(0,Gt.of)(null))),this.credential=(0,Wa.T)(Io,bs,this.authState.pipe((0,nh.h)(Ki=>!Ki))).pipe((0,io.U)(Ki=>Ki?.user?Ki:null),(0,$h.R)(pe.outsideAngular),(0,qi.Q)(pe.insideAngular))}return(0,Zl.pX)(this,Ls,re,{spy:{apply:(wo,Io,Ql)=>{(wo.startsWith("signIn")||wo.startsWith("createUser"))&&Ql.then(ya=>bs.next(ya))}}})}}return L.\u0275fac=function(y){return new(y||L)(Lt.LFG(Zl.Dh),Lt.LFG(Zl.xv,8),Lt.LFG(Lt.Lbi),Lt.LFG(Lt.R0b),Lt.LFG(Go.HU),Lt.LFG(Wp,8),Lt.LFG(lu,8),Lt.LFG(Gh,8),Lt.LFG(Wh,8),Lt.LFG(qh,8),Lt.LFG(Kh,8),Lt.LFG(Gp.nm,8))},L.\u0275prov=Lt.Yz7({token:L,factory:L.\u0275fac,providedIn:"any"}),L})();var zc=K(6321),Zp=K(7921),Yp=K(9360),Zh=K(8251);function Yh(){return(0,Yp.e)((L,g)=>{let y,T=!1;L.subscribe((0,Zh.x)(g,G=>{const re=y;y=G,T&&g.next([re,G]),T=!0}))})}var pc=K(6699),Wo=K(3997),Td=(K(8661),K(3106)),Ht=K(8162);function $c(L,g){if(void 0===g)return{merge:!1};if(void 0!==g.mergeFields&&void 0!==g.merge)throw new Ht.WA("invalid-argument",`Invalid options passed to function ${L}(): You cannot specify both "merge" and "mergeFields".`);return g}function Qh(){if(typeof Uint8Array>"u")throw new Ht.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Dd(){if(!(0,Ht.Me)())throw new Ht.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ku{constructor(g){this._delegate=g}static fromBase64String(g){return Dd(),new Ku(Ht.Jj.fromBase64String(g))}static fromUint8Array(g){return Qh(),new Ku(Ht.Jj.fromUint8Array(g))}toBase64(){return Dd(),this._delegate.toBase64()}toUint8Array(){return Qh(),this._delegate.toUint8Array()}isEqual(g){return this._delegate.isEqual(g._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fl(L){return function x_(L,g){if("object"!=typeof L||null===L)return!1;const y=L;for(const T of g)if(T in y&&"function"==typeof y[T])return!0;return!1}(L,["next","error","complete"])}class pl{enableIndexedDbPersistence(g,y){return(0,Ht.ST)(g._delegate,{forceOwnership:y})}enableMultiTabIndexedDbPersistence(g){return(0,Ht.fH)(g._delegate)}clearIndexedDbPersistence(g){return(0,Ht.Fc)(g._delegate)}}class Qp{constructor(g,y,T){this._delegate=y,this._persistenceProvider=T,this.INTERNAL={delete:()=>this.terminate()},g instanceof Ht.l7||(this._appCompat=g)}get _databaseId(){return this._delegate._databaseId}settings(g){const y=this._delegate._getSettings();!g.merge&&y.host!==g.host&&(0,Ht.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),g.merge&&delete(g=Object.assign(Object.assign({},y),g)).merge,this._delegate._setSettings(g)}useEmulator(g,y,T={}){(0,Ht.at)(this._delegate,g,y,T)}enableNetwork(){return(0,Ht.Ix)(this._delegate)}disableNetwork(){return(0,Ht.TF)(this._delegate)}enablePersistence(g){let y=!1,T=!1;return g&&(y=!!g.synchronizeTabs,T=!!g.experimentalForceOwningTab,(0,Ht.Wi)("synchronizeTabs",y,"experimentalForceOwningTab",T)),y?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,T)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ht.Mx)(this._delegate)}onSnapshotsInSync(g){return(0,Ht.sc)(this._delegate,g)}get app(){if(!this._appCompat)throw new Ht.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(g){try{return new fu(this,(0,Ht.hJ)(this._delegate,g))}catch(y){throw qa(y,"collection()","Firestore.collection()")}}doc(g){try{return new Ol(this,(0,Ht.JU)(this._delegate,g))}catch(y){throw qa(y,"doc()","Firestore.doc()")}}collectionGroup(g){try{return new No(this,(0,Ht.B$)(this._delegate,g))}catch(y){throw qa(y,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(g){return(0,Ht.i3)(this._delegate,y=>g(new mc(this,y)))}batch(){return(0,Ht.qY)(this._delegate),new Xp(new Ht.PU(this._delegate,g=>(0,Ht.GL)(this._delegate,g)))}loadBundle(g){return(0,Ht.Pb)(this._delegate,g)}namedQuery(g){return(0,Ht.L$)(this._delegate,g).then(y=>y?new No(this,y):null)}}class uu extends Ht.u7{constructor(g){super(),this.firestore=g}convertBytes(g){return new Ku(new Ht.Jj(g))}convertReference(g){const y=this.convertDocumentKey(g,this.firestore._databaseId);return Ol.forKey(y,this.firestore,null)}}class mc{constructor(g,y){this._firestore=g,this._delegate=y,this._userDataWriter=new uu(g)}get(g){const y=Yl(g);return this._delegate.get(y).then(T=>new du(this._firestore,new Ht.xU(this._firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,y.converter)))}set(g,y,T){const G=Yl(g);return T?($c("Transaction.set",T),this._delegate.set(G,y,T)):this._delegate.set(G,y),this}update(g,y,T,...G){const re=Yl(g);return 2===arguments.length?this._delegate.update(re,y):this._delegate.update(re,y,T,...G),this}delete(g){const y=Yl(g);return this._delegate.delete(y),this}}class Xp{constructor(g){this._delegate=g}set(g,y,T){const G=Yl(g);return T?($c("WriteBatch.set",T),this._delegate.set(G,y,T)):this._delegate.set(G,y),this}update(g,y,T,...G){const re=Yl(g);return 2===arguments.length?this._delegate.update(re,y):this._delegate.update(re,y,T,...G),this}delete(g){const y=Yl(g);return this._delegate.delete(y),this}commit(){return this._delegate.commit()}}class gc{constructor(g,y,T){this._firestore=g,this._userDataWriter=y,this._delegate=T}fromFirestore(g,y){const T=new Ht.$q(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,null);return this._delegate.fromFirestore(new hu(this._firestore,T),y??{})}toFirestore(g,y){return y?this._delegate.toFirestore(g,y):this._delegate.toFirestore(g)}static getInstance(g,y){const T=gc.INSTANCES;let G=T.get(g);G||(G=new WeakMap,T.set(g,G));let re=G.get(y);return re||(re=new gc(g,new uu(g),y),G.set(y,re)),re}}gc.INSTANCES=new WeakMap;class Ol{constructor(g,y){this.firestore=g,this._delegate=y,this._userDataWriter=new uu(g)}static forPath(g,y,T){if(g.length%2!=0)throw new Ht.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${g.canonicalString()} has ${g.length}`);return new Ol(y,new Ht.my(y._delegate,T,new Ht.Ky(g)))}static forKey(g,y,T){return new Ol(y,new Ht.my(y._delegate,T,g))}get id(){return this._delegate.id}get parent(){return new fu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(g){try{return new fu(this.firestore,(0,Ht.hJ)(this._delegate,g))}catch(y){throw qa(y,"collection()","DocumentReference.collection()")}}isEqual(g){return(g=(0,se.m9)(g))instanceof Ht.my&&(0,Ht.Eo)(this._delegate,g)}set(g,y){y=$c("DocumentReference.set",y);try{return y?(0,Ht.pl)(this._delegate,g,y):(0,Ht.pl)(this._delegate,g)}catch(T){throw qa(T,"setDoc()","DocumentReference.set()")}}update(g,y,...T){try{return 1===arguments.length?(0,Ht.r7)(this._delegate,g):(0,Ht.r7)(this._delegate,g,y,...T)}catch(G){throw qa(G,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ht.oe)(this._delegate)}onSnapshot(...g){const y=Nr(g),T=Ka(g,G=>new du(this.firestore,new Ht.xU(this.firestore._delegate,this._userDataWriter,G._key,G._document,G.metadata,this._delegate.converter)));return(0,Ht.cf)(this._delegate,y,T)}get(g){let y;return y="cache"===g?.source?(0,Ht.kl)(this._delegate):"server"===g?.source?(0,Ht.Xk)(this._delegate):(0,Ht.QT)(this._delegate),y.then(T=>new du(this.firestore,new Ht.xU(this.firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,this._delegate.converter)))}withConverter(g){return new Ol(this.firestore,this._delegate.withConverter(g?gc.getInstance(this.firestore,g):null))}}function qa(L,g,y){return L.message=L.message.replace(g,y),L}function Nr(L){for(const g of L)if("object"==typeof g&&!fl(g))return g;return{}}function Ka(L,g){var y,T;let G;return G=fl(L[0])?L[0]:fl(L[1])?L[1]:"function"==typeof L[0]?{next:L[0],error:L[1],complete:L[2]}:{next:L[1],error:L[2],complete:L[3]},{next:re=>{G.next&&G.next(g(re))},error:null===(y=G.error)||void 0===y?void 0:y.bind(G),complete:null===(T=G.complete)||void 0===T?void 0:T.bind(G)}}class du{constructor(g,y){this._firestore=g,this._delegate=y}get ref(){return new Ol(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(g){return this._delegate.data(g)}get(g,y){return this._delegate.get(g,y)}isEqual(g){return(0,Ht.qK)(this._delegate,g._delegate)}}class hu extends du{data(g){const y=this._delegate.data(g);return(0,Ht.K9)(void 0!==y,"Document in a QueryDocumentSnapshot should exist"),y}}class No{constructor(g,y){this.firestore=g,this._delegate=y,this._userDataWriter=new uu(g)}where(g,y,T){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.ar)(g,y,T)))}catch(G){throw qa(G,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(g,y){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.Xo)(g,y)))}catch(T){throw qa(T,/(orderBy|where)\(\)/,"Query.$1()")}}limit(g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.b9)(g)))}catch(y){throw qa(y,"limit()","Query.limit()")}}limitToLast(g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.vh)(g)))}catch(y){throw qa(y,"limitToLast()","Query.limitToLast()")}}startAt(...g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.e0)(...g)))}catch(y){throw qa(y,"startAt()","Query.startAt()")}}startAfter(...g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.TQ)(...g)))}catch(y){throw qa(y,"startAfter()","Query.startAfter()")}}endBefore(...g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.Lx)(...g)))}catch(y){throw qa(y,"endBefore()","Query.endBefore()")}}endAt(...g){try{return new No(this.firestore,(0,Ht.IO)(this._delegate,(0,Ht.Wu)(...g)))}catch(y){throw qa(y,"endAt()","Query.endAt()")}}isEqual(g){return(0,Ht.iE)(this._delegate,g._delegate)}get(g){let y;return y="cache"===g?.source?(0,Ht.UQ)(this._delegate):"server"===g?.source?(0,Ht.zN)(this._delegate):(0,Ht.PL)(this._delegate),y.then(T=>new Pl(this.firestore,new Ht.W(this.firestore._delegate,this._userDataWriter,this._delegate,T._snapshot)))}onSnapshot(...g){const y=Nr(g),T=Ka(g,G=>new Pl(this.firestore,new Ht.W(this.firestore._delegate,this._userDataWriter,this._delegate,G._snapshot)));return(0,Ht.cf)(this._delegate,y,T)}withConverter(g){return new No(this.firestore,this._delegate.withConverter(g?gc.getInstance(this.firestore,g):null))}}class Fo{constructor(g,y){this._firestore=g,this._delegate=y}get type(){return this._delegate.type}get doc(){return new hu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pl{constructor(g,y){this._firestore=g,this._delegate=y}get query(){return new No(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(g=>new hu(this._firestore,g))}docChanges(g){return this._delegate.docChanges(g).map(y=>new Fo(this._firestore,y))}forEach(g,y){this._delegate.forEach(T=>{g.call(y,new hu(this._firestore,T))})}isEqual(g){return(0,Ht.qK)(this._delegate,g._delegate)}}class fu extends No{constructor(g,y){super(g,y),this.firestore=g,this._delegate=y}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const g=this._delegate.parent;return g?new Ol(this.firestore,g):null}doc(g){try{return new Ol(this.firestore,void 0===g?(0,Ht.JU)(this._delegate):(0,Ht.JU)(this._delegate,g))}catch(y){throw qa(y,"doc()","CollectionReference.doc()")}}add(g){return(0,Ht.ET)(this._delegate,g).then(y=>new Ol(this.firestore,y))}isEqual(g){return(0,Ht.Eo)(this._delegate,g._delegate)}withConverter(g){return new fu(this.firestore,this._delegate.withConverter(g?gc.getInstance(this.firestore,g):null))}}function Yl(L){return(0,Ht.Cf)(L,Ht.my)}class Xh{constructor(...g){this._delegate=new Ht.Lz(...g)}static documentId(){return new Xh(Ht.Xb.keyField().canonicalString())}isEqual(g){return(g=(0,se.m9)(g))instanceof Ht.Lz&&this._delegate._internalPath.isEqual(g._internalPath)}}class Za{constructor(g){this._delegate=g}static serverTimestamp(){const g=(0,Ht.Bt)();return g._methodName="FieldValue.serverTimestamp",new Za(g)}static delete(){const g=(0,Ht.AK)();return g._methodName="FieldValue.delete",new Za(g)}static arrayUnion(...g){const y=(0,Ht.vr)(...g);return y._methodName="FieldValue.arrayUnion",new Za(y)}static arrayRemove(...g){const y=(0,Ht.Ab)(...g);return y._methodName="FieldValue.arrayRemove",new Za(y)}static increment(g){const y=(0,Ht.nP)(g);return y._methodName="FieldValue.increment",new Za(y)}isEqual(g){return this._delegate.isEqual(g._delegate)}}const pu={Firestore:Qp,GeoPoint:Ht.F8,Timestamp:Ht.EK,Blob:Ku,Transaction:mc,WriteBatch:Xp,DocumentReference:Ol,DocumentSnapshot:du,Query:No,QueryDocumentSnapshot:hu,QuerySnapshot:Pl,CollectionReference:fu,FieldPath:Xh,FieldValue:Za,setLogLevel:function Zf(L){(0,Ht.Ub)(L)},CACHE_SIZE_UNLIMITED:Ht.IX};function Sd(L,g){return function ef(L,g=zc.z){return new Sn.y(y=>{let T;return null!=g?g.schedule(()=>{T=L.onSnapshot({includeMetadataChanges:!0},y)}):T=L.onSnapshot({includeMetadataChanges:!0},y),()=>{T?.()}})}(L,g)}function rh(L,g){return Sd(L,g).pipe((0,io.U)(y=>({payload:y,type:"query"})))}function _c(L,g){return rh(L,g).pipe((0,Zp.O)(void 0),Yh(),(0,io.U)(([y,T])=>{const G=T.payload.docChanges(),re=G.map(pe=>({type:pe.type,payload:pe}));return y&&JSON.stringify(y.payload.metadata)!==JSON.stringify(T.payload.metadata)&&T.payload.docs.forEach((pe,Ie)=>{const Be=G.find(un=>un.doc.ref.isEqual(pe.ref)),gt=y?.payload.docs.find(un=>un.ref.isEqual(pe.ref));Be&&JSON.stringify(Be.doc.metadata)===JSON.stringify(pe.metadata)||!Be&&gt&&JSON.stringify(gt.metadata)===JSON.stringify(pe.metadata)||re.push({type:"modified",payload:{oldIndex:Ie,newIndex:Ie,type:"modified",doc:pe}})}),re}))}function Jp(L,g,y){return _c(L,y).pipe((0,pc.R)((T,G)=>function tf(L,g,y){return g.forEach(T=>{y.indexOf(T.type)>-1&&(L=function Yf(L,g){switch(g.type){case"added":if(!L[g.newIndex]||!L[g.newIndex].doc.ref.isEqual(g.doc.ref))return As(L,g.newIndex,0,g);break;case"modified":if(null==L[g.oldIndex]||L[g.oldIndex].doc.ref.isEqual(g.doc.ref)){if(g.oldIndex!==g.newIndex){const y=L.slice();return y.splice(g.oldIndex,1),y.splice(g.newIndex,0,g),y}return As(L,g.newIndex,1,g)}break;case"removed":if(L[g.oldIndex]&&L[g.oldIndex].doc.ref.isEqual(g.doc.ref))return As(L,g.oldIndex,1)}return L}(L,T))}),L}(T,G.map(re=>re.payload),g),[]),(0,Wo.x)(),(0,io.U)(T=>T.map(G=>({type:G.type,payload:G}))))}function As(L,g,y,...T){const G=L.slice();return G.splice(g,y,...T),G}function Ad(L){return(!L||0===L.length)&&(L=["added","removed","modified"]),L}!function Zu(L){(function Jh(L,g){L.INTERNAL.registerComponent(new Se.wA("firestore-compat",y=>{const T=y.getProvider("app-compat").getImmediate(),G=y.getProvider("firestore").getImmediate();return g(T,G)},"PUBLIC").setServiceProps(Object.assign({},pu)))})(L,(g,y)=>new Qp(g,y,new pl)),L.registerVersion("@firebase/firestore-compat","0.3.12")}(Td.Z);class nf{constructor(g,y,T){this.ref=g,this.query=y,this.afs=T}stateChanges(g){let y=_c(this.query,this.afs.schedulers.outsideAngular);return g&&g.length>0&&(y=y.pipe((0,io.U)(T=>T.filter(G=>g.indexOf(G.type)>-1)))),y.pipe((0,Zp.O)(void 0),Yh(),(0,nh.h)(([T,G])=>G.length>0||!T),(0,io.U)(([T,G])=>G),Go.iC)}auditTrail(g){return this.stateChanges(g).pipe((0,pc.R)((y,T)=>[...y,...T],[]))}snapshotChanges(g){const y=Ad(g);return Jp(this.query,y,this.afs.schedulers.outsideAngular).pipe(Go.iC)}valueChanges(g={}){return rh(this.query,this.afs.schedulers.outsideAngular).pipe((0,io.U)(y=>y.payload.docs.map(T=>g.idField?Object.assign(Object.assign({},T.data()),{[g.idField]:T.id}):T.data())),Go.iC)}get(g){return(0,rs.D)(this.query.get(g)).pipe(Go.iC)}add(g){return this.ref.add(g)}doc(g){return new ih(this.ref.doc(g),this.afs)}}class ih{constructor(g,y){this.ref=g,this.afs=y}set(g,y){return this.ref.set(g,y)}update(g){return this.ref.update(g)}delete(){return this.ref.delete()}collection(g,y){const T=this.ref.collection(g),{ref:G,query:re}=em(T,y);return new nf(G,re,this.afs)}snapshotChanges(){return function pg(L,g){return Sd(L,g).pipe((0,Zp.O)(void 0),Yh(),(0,io.U)(([y,T])=>T.exists?y?.exists?{payload:T,type:"modified"}:{payload:T,type:"added"}:{payload:T,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Go.iC)}valueChanges(g={}){return this.snapshotChanges().pipe((0,io.U)(({payload:y})=>g.idField?Object.assign(Object.assign({},y.data()),{[g.idField]:y.id}):y.data()))}get(g){return(0,rs.D)(this.ref.get(g)).pipe(Go.iC)}}class vc{constructor(g,y){this.query=g,this.afs=y}stateChanges(g){return g&&0!==g.length?_c(this.query,this.afs.schedulers.outsideAngular).pipe((0,io.U)(y=>y.filter(T=>g.indexOf(T.type)>-1)),(0,nh.h)(y=>y.length>0),Go.iC):_c(this.query,this.afs.schedulers.outsideAngular).pipe(Go.iC)}auditTrail(g){return this.stateChanges(g).pipe((0,pc.R)((y,T)=>[...y,...T],[]))}snapshotChanges(g){const y=Ad(g);return Jp(this.query,y,this.afs.schedulers.outsideAngular).pipe(Go.iC)}valueChanges(g={}){return rh(this.query,this.afs.schedulers.outsideAngular).pipe((0,io.U)(T=>T.payload.docs.map(G=>g.idField?Object.assign({[g.idField]:G.id},G.data()):G.data())),Go.iC)}get(g){return(0,rs.D)(this.query.get(g)).pipe(Go.iC)}}const Qf=new Lt.OlP("angularfire2.enableFirestorePersistence"),Xf=new Lt.OlP("angularfire2.firestore.persistenceSettings"),mu=new Lt.OlP("angularfire2.firestore.settings"),Ya=new Lt.OlP("angularfire2.firestore.use-emulator");function em(L,g=(y=>y)){return{query:g(L),ref:L}}let tm=(()=>{class L{constructor(y,T,G,re,pe,Ie,Be,gt,un,Cn,Fn,Jr,bs,Ls,wo,Io,Ql){this.schedulers=Be;const ya=(0,Zl.on)(y,Ie,T),Ki=un;Cn&&qp(ya,Ie,Fn,bs,Ls,wo,Jr,Io),[this.firestore,this.persistenceEnabled$]=(0,Zl.cc)(`${ya.name}.firestore`,"AngularFirestore",ya.name,()=>{const Lo=Ie.runOutsideAngular(()=>ya.firestore());if(re&&Lo.settings(re),Ki&&Lo.useEmulator(...Ki),G&&!(0,Cd.PM)(pe)){const ba=()=>{try{return(0,rs.D)(Lo.enablePersistence(gt||void 0).then(()=>!0,()=>!1))}catch(ml){return typeof console<"u"&&console.warn(ml),(0,Gt.of)(!1)}};return[Lo,Ie.runOutsideAngular(ba)]}return[Lo,(0,Gt.of)(!1)]},[re,Ki,G])}collection(y,T){let G;G="string"==typeof y?this.firestore.collection(y):y;const{ref:re,query:pe}=em(G,T),Ie=this.schedulers.ngZone.run(()=>re);return new nf(Ie,pe,this)}collectionGroup(y,T){const G=T||(pe=>pe),re=this.firestore.collectionGroup(y);return new vc(G(re),this)}doc(y){let T;T="string"==typeof y?this.firestore.doc(y):y;const G=this.schedulers.ngZone.run(()=>T);return new ih(G,this)}createId(){return this.firestore.collection("_").doc().id}}return L.\u0275fac=function(y){return new(y||L)(Lt.LFG(Zl.Dh),Lt.LFG(Zl.xv,8),Lt.LFG(Qf,8),Lt.LFG(mu,8),Lt.LFG(Lt.Lbi),Lt.LFG(Lt.R0b),Lt.LFG(Go.HU),Lt.LFG(Xf,8),Lt.LFG(Ya,8),Lt.LFG(Hc,8),Lt.LFG(Wp,8),Lt.LFG(lu,8),Lt.LFG(Gh,8),Lt.LFG(Wh,8),Lt.LFG(qh,8),Lt.LFG(Kh,8),Lt.LFG(Gp.nm,8))},L.\u0275prov=Lt.Yz7({token:L,factory:L.\u0275fac,providedIn:"any"}),L})(),sh=(()=>{var L;class g{constructor(T,G){this.auth=T,this.db=G}login(T){return this.auth.signInWithEmailAndPassword(T.email,T.password)}signinUp(T){return this.auth.createUserWithEmailAndPassword(T.email,T.password)}updateUser(T){return function fo(L,g){return(Zn=Zn||(0,E.Z)(function*(y,{displayName:T,photoURL:G}){if(void 0===T&&void 0===G)return;const re=(0,se.m9)(y),Ie={idToken:yield re.getIdToken(),displayName:T,photoUrl:G,returnSecureToken:!0},Be=yield kr(re,function ul(L,g){return(Dn=Dn||(0,E.Z)(function*(y,T){return Un(y,"POST","/v1/accounts:update",T)})).apply(this,arguments)}(re.auth,Ie));re.displayName=Be.displayName||null,re.photoURL=Be.photoUrl||null;const gt=re.providerData.find(({providerId:un})=>"password"===un);gt&&(gt.displayName=re.displayName,gt.photoURL=re.photoURL),yield re._updateTokensIfNecessary(Be)})).apply(this,arguments)}(Ct().currentUser,T)}logout(){return this.auth.signOut()}saveLog(T){let G=new Date;const re=G.toLocaleDateString()+"-"+G.toLocaleTimeString();this.db.collection("users").doc().set({email:T,fecha_ingreso:re})}}return(L=g).\u0275fac=function(T){return new(T||L)(Lt.LFG(Hc),Lt.LFG(tm))},L.\u0275prov=Lt.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),g})()},2793:(Jt,Ke,K)=>{var E=K(6593),se=K(3914),ie=K(5861),_=K(5879),_e=K(6814),Se=K(2459),Ae=K(5592),Te=K(7453),je=K(4829),fe=K(9940),Ce=K(8251),Fe=K(7400),ht=K(2714);function nt(...d){const s=(0,fe.jO)(d),{args:u,keys:l}=(0,Te.D)(d),p=new Ae.y(C=>{const{length:N}=u;if(!N)return void C.complete();const X=new Array(N);let de=N,xe=N;for(let Je=0;Je<N;Je++){let _t=!1;(0,je.Xf)(u[Je]).subscribe((0,Ce.x)(C,Rn=>{_t||(_t=!0,xe--),X[Je]=Rn},()=>de--,void 0,()=>{(!de||!_t)&&(xe||C.next(l?(0,ht.n)(l,X):X),C.complete())}))}});return s?p.pipe((0,Fe.Z)(s)):p}var yt=K(7398);let ft=(()=>{var d;class s{constructor(l,p){this._renderer=l,this._elementRef=p,this.onChange=C=>{},this.onTouched=()=>{}}setProperty(l,p){this._renderer.setProperty(this._elementRef.nativeElement,l,p)}registerOnTouched(l){this.onTouched=l}registerOnChange(l){this.onChange=l}setDisabledState(l){this.setProperty("disabled",l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.Qsj),_.Y36(_.SBq))},d.\u0275dir=_.lG2({type:d}),s})(),mt=(()=>{var d;class s extends ft{}return(d=s).\u0275fac=function(){let u;return function(p){return(u||(u=_.n5z(d)))(p||d)}}(),d.\u0275dir=_.lG2({type:d,features:[_.qOj]}),s})();const pt=new _.OlP("NgValueAccessor"),Ve={provide:pt,useExisting:(0,_.Gpc)(()=>st),multi:!0},ke=new _.OlP("CompositionEventMode");let st=(()=>{var d;class s extends ft{constructor(l,p,C){super(l,p),this._compositionMode=C,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lt(){const d=(0,_e.q)()?(0,_e.q)().getUserAgent():"";return/android (\d+)/.test(d.toLowerCase())}())}writeValue(l){this.setProperty("value",l??"")}_handleInput(l){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(l)}_compositionStart(){this._composing=!0}_compositionEnd(l){this._composing=!1,this._compositionMode&&this.onChange(l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(ke,8))},d.\u0275dir=_.lG2({type:d,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(l,p){1&l&&_.NdJ("input",function(N){return p._handleInput(N.target.value)})("blur",function(){return p.onTouched()})("compositionstart",function(){return p._compositionStart()})("compositionend",function(N){return p._compositionEnd(N.target.value)})},features:[_._Bn([Ve]),_.qOj]}),s})();function Dt(d){return null==d||("string"==typeof d||Array.isArray(d))&&0===d.length}function St(d){return null!=d&&"number"==typeof d.length}const tn=new _.OlP("NgValidators"),an=new _.OlP("NgAsyncValidators"),$n=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gn{static min(s){return function Or(d){return s=>{if(Dt(s.value)||Dt(d))return null;const u=parseFloat(s.value);return!isNaN(u)&&u<d?{min:{min:d,actual:s.value}}:null}}(s)}static max(s){return function Ci(d){return s=>{if(Dt(s.value)||Dt(d))return null;const u=parseFloat(s.value);return!isNaN(u)&&u>d?{max:{max:d,actual:s.value}}:null}}(s)}static required(s){return oi(s)}static requiredTrue(s){return function vi(d){return!0===d.value?null:{required:!0}}(s)}static email(s){return function xr(d){return Dt(d.value)||$n.test(d.value)?null:{email:!0}}(s)}static minLength(s){return function Qe(d){return s=>Dt(s.value)||!St(s.value)?null:s.value.length<d?{minlength:{requiredLength:d,actualLength:s.value.length}}:null}(s)}static maxLength(s){return function tt(d){return s=>St(s.value)&&s.value.length>d?{maxlength:{requiredLength:d,actualLength:s.value.length}}:null}(s)}static pattern(s){return function ct(d){if(!d)return ot;let s,u;return"string"==typeof d?(u="","^"!==d.charAt(0)&&(u+="^"),u+=d,"$"!==d.charAt(d.length-1)&&(u+="$"),s=new RegExp(u)):(u=d.toString(),s=d),l=>{if(Dt(l.value))return null;const p=l.value;return s.test(p)?null:{pattern:{requiredPattern:u,actualValue:p}}}}(s)}static nullValidator(s){return null}static compose(s){return Xn(s)}static composeAsync(s){return Er(s)}}function oi(d){return Dt(d.value)?{required:!0}:null}function ot(d){return null}function It(d){return null!=d}function Pt(d){return(0,_.QGY)(d)?(0,Se.D)(d):d}function on(d){let s={};return d.forEach(u=>{s=null!=u?{...s,...u}:s}),0===Object.keys(s).length?null:s}function Bt(d,s){return s.map(u=>u(d))}function mn(d){return d.map(s=>function dn(d){return!d.validate}(s)?s:u=>s.validate(u))}function Xn(d){if(!d)return null;const s=d.filter(It);return 0==s.length?null:function(u){return on(Bt(u,s))}}function vn(d){return null!=d?Xn(mn(d)):null}function Er(d){if(!d)return null;const s=d.filter(It);return 0==s.length?null:function(u){return nt(Bt(u,s).map(Pt)).pipe((0,yt.U)(on))}}function Tr(d){return null!=d?Er(mn(d)):null}function Dr(d,s){return null===d?[s]:Array.isArray(d)?[...d,s]:[d,s]}function _r(d){return d._rawValidators}function Yr(d){return d._rawAsyncValidators}function Fr(d){return d?Array.isArray(d)?d:[d]:[]}function Fi(d,s){return Array.isArray(d)?d.includes(s):d===s}function Oi(d,s){const u=Fr(s);return Fr(d).forEach(p=>{Fi(u,p)||u.push(p)}),u}function Li(d,s){return Fr(s).filter(u=>!Fi(d,u))}class yi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=vn(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=Tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s=void 0){this.control&&this.control.reset(s)}hasError(s,u){return!!this.control&&this.control.hasError(s,u)}getError(s,u){return this.control?this.control.getError(s,u):null}}class Bn extends yi{get formDirective(){return null}get path(){return null}}class ln extends yi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tn{constructor(s){this._cd=s}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fi=(()=>{var d;class s extends Tn{constructor(l){super(l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(ln,2))},d.\u0275dir=_.lG2({type:d,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(l,p){2&l&&_.ekj("ng-untouched",p.isUntouched)("ng-touched",p.isTouched)("ng-pristine",p.isPristine)("ng-dirty",p.isDirty)("ng-valid",p.isValid)("ng-invalid",p.isInvalid)("ng-pending",p.isPending)},features:[_.qOj]}),s})(),Dn=(()=>{var d;class s extends Tn{constructor(l){super(l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(Bn,10))},d.\u0275dir=_.lG2({type:d,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(l,p){2&l&&_.ekj("ng-untouched",p.isUntouched)("ng-touched",p.isTouched)("ng-pristine",p.isPristine)("ng-dirty",p.isDirty)("ng-valid",p.isValid)("ng-invalid",p.isInvalid)("ng-pending",p.isPending)("ng-submitted",p.isSubmitted)},features:[_.qOj]}),s})();const ws="VALID",Me="INVALID",ae="PENDING",Y="DISABLED";function te(d){return(Ze(d)?d.validators:d)||null}function he(d,s){return(Ze(s)?s.asyncValidators:d)||null}function Ze(d){return null!=d&&!Array.isArray(d)&&"object"==typeof d}function jt(d,s,u){const l=d.controls;if(!(s?Object.keys(l):l).length)throw new _.vHH(1e3,"");if(!l[u])throw new _.vHH(1001,"")}function xt(d,s,u){d._forEachChild((l,p)=>{if(void 0===u[p])throw new _.vHH(1002,"")})}class En{constructor(s,u){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(s),this._assignAsyncValidators(u)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===Me}get pending(){return this.status==ae}get disabled(){return this.status===Y}get enabled(){return this.status!==Y}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._assignValidators(s)}setAsyncValidators(s){this._assignAsyncValidators(s)}addValidators(s){this.setValidators(Oi(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(Oi(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(Li(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(Li(s,this._rawAsyncValidators))}hasValidator(s){return Fi(this._rawValidators,s)}hasAsyncValidator(s){return Fi(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(u=>{u.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(u=>{u.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=ae,!1!==s.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){const u=this._parentMarkedDirty(s.onlySelf);this.status=Y,this.errors=null,this._forEachChild(l=>{l.disable({...s,onlySelf:!0})}),this._updateValue(),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...s,skipPristineCheck:u}),this._onDisabledChange.forEach(l=>l(!0))}enable(s={}){const u=this._parentMarkedDirty(s.onlySelf);this.status=ws,this._forEachChild(l=>{l.enable({...s,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors({...s,skipPristineCheck:u}),this._onDisabledChange.forEach(l=>l(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}getRawValue(){return this.value}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ws||this.status===ae)&&this._runAsyncValidator(s.emitEvent)),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(u=>u._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=ae,this._hasOwnPendingAsyncValidator=!0;const u=Pt(this.asyncValidator(this));this._asyncValidationSubscription=u.subscribe(l=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(l,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,u={}){this.errors=s,this._updateControlsErrors(!1!==u.emitEvent)}get(s){let u=s;return null==u||(Array.isArray(u)||(u=u.split(".")),0===u.length)?null:u.reduce((l,p)=>l&&l._find(p),this)}getError(s,u){const l=u?this.get(u):this;return l&&l.errors?l.errors[s]:null}hasError(s,u){return!!this.getError(s,u)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Y:this.errors?Me:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ae)?ae:this._anyControlsHaveStatus(Me)?Me:ws}_anyControlsHaveStatus(s){return this._anyControls(u=>u.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){Ze(s)&&null!=s.updateOn&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){return!s&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(s){return null}_assignValidators(s){this._rawValidators=Array.isArray(s)?s.slice():s,this._composedValidatorFn=function H(d){return Array.isArray(d)?vn(d):d||null}(this._rawValidators)}_assignAsyncValidators(s){this._rawAsyncValidators=Array.isArray(s)?s.slice():s,this._composedAsyncValidatorFn=function Oe(d){return Array.isArray(d)?Tr(d):d||null}(this._rawAsyncValidators)}}class nn extends En{constructor(s,u,l){super(te(u),he(l,u)),this.controls=s,this._initObservables(),this._setUpdateStrategy(u),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(s,u){return this.controls[s]?this.controls[s]:(this.controls[s]=u,u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange),u)}addControl(s,u,l={}){this.registerControl(s,u),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}removeControl(s,u={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}setControl(s,u,l={}){this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),delete this.controls[s],u&&this.registerControl(s,u),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}contains(s){return this.controls.hasOwnProperty(s)&&this.controls[s].enabled}setValue(s,u={}){xt(this,0,s),Object.keys(s).forEach(l=>{jt(this,!0,l),this.controls[l].setValue(s[l],{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u)}patchValue(s,u={}){null!=s&&(Object.keys(s).forEach(l=>{const p=this.controls[l];p&&p.patchValue(s[l],{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u))}reset(s={},u={}){this._forEachChild((l,p)=>{l.reset(s[p],{onlySelf:!0,emitEvent:u.emitEvent})}),this._updatePristine(u),this._updateTouched(u),this.updateValueAndValidity(u)}getRawValue(){return this._reduceChildren({},(s,u,l)=>(s[l]=u.getRawValue(),s))}_syncPendingControls(){let s=this._reduceChildren(!1,(u,l)=>!!l._syncPendingControls()||u);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_forEachChild(s){Object.keys(this.controls).forEach(u=>{const l=this.controls[u];l&&s(l,u)})}_setUpControls(){this._forEachChild(s=>{s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(s){for(const[u,l]of Object.entries(this.controls))if(this.contains(u)&&s(l))return!0;return!1}_reduceValue(){return this._reduceChildren({},(u,l,p)=>((l.enabled||this.disabled)&&(u[p]=l.value),u))}_reduceChildren(s,u){let l=s;return this._forEachChild((p,C)=>{l=u(l,p,C)}),l}_allControlsDisabled(){for(const s of Object.keys(this.controls))if(this.controls[s].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(s){return this.controls.hasOwnProperty(s)?this.controls[s]:null}}class Us extends nn{}const Xe=new _.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$e}),$e="always";function qt(d,s,u=$e){ti(d,s),s.valueAccessor.writeValue(d.value),(d.disabled||"always"===u)&&s.valueAccessor.setDisabledState?.(d.disabled),function kt(d,s){s.valueAccessor.registerOnChange(u=>{d._pendingValue=u,d._pendingChange=!0,d._pendingDirty=!0,"change"===d.updateOn&&vr(d,s)})}(d,s),function Ar(d,s){const u=(l,p)=>{s.valueAccessor.writeValue(l),p&&s.viewToModelUpdate(l)};d.registerOnChange(u),s._registerOnDestroy(()=>{d._unregisterOnChange(u)})}(d,s),function ni(d,s){s.valueAccessor.registerOnTouched(()=>{d._pendingTouched=!0,"blur"===d.updateOn&&d._pendingChange&&vr(d,s),"submit"!==d.updateOn&&d.markAsTouched()})}(d,s),function Vn(d,s){if(s.valueAccessor.setDisabledState){const u=l=>{s.valueAccessor.setDisabledState(l)};d.registerOnDisabledChange(u),s._registerOnDestroy(()=>{d._unregisterOnDisabledChange(u)})}}(d,s)}function Nt(d,s,u=!0){const l=()=>{};s.valueAccessor&&(s.valueAccessor.registerOnChange(l),s.valueAccessor.registerOnTouched(l)),Wr(d,s),d&&(s._invokeOnDestroyCallbacks(),d._registerOnCollectionChange(()=>{}))}function hn(d,s){d.forEach(u=>{u.registerOnValidatorChange&&u.registerOnValidatorChange(s)})}function ti(d,s){const u=_r(d);null!==s.validator?d.setValidators(Dr(u,s.validator)):"function"==typeof u&&d.setValidators([u]);const l=Yr(d);null!==s.asyncValidator?d.setAsyncValidators(Dr(l,s.asyncValidator)):"function"==typeof l&&d.setAsyncValidators([l]);const p=()=>d.updateValueAndValidity();hn(s._rawValidators,p),hn(s._rawAsyncValidators,p)}function Wr(d,s){let u=!1;if(null!==d){if(null!==s.validator){const p=_r(d);if(Array.isArray(p)&&p.length>0){const C=p.filter(N=>N!==s.validator);C.length!==p.length&&(u=!0,d.setValidators(C))}}if(null!==s.asyncValidator){const p=Yr(d);if(Array.isArray(p)&&p.length>0){const C=p.filter(N=>N!==s.asyncValidator);C.length!==p.length&&(u=!0,d.setAsyncValidators(C))}}}const l=()=>{};return hn(s._rawValidators,l),hn(s._rawAsyncValidators,l),u}function vr(d,s){d._pendingDirty&&d.markAsDirty(),d.setValue(d._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(d._pendingValue),d._pendingChange=!1}function Qs(d,s){ti(d,s)}function Hr(d,s){d._syncPendingControls(),s.forEach(u=>{const l=u.control;"submit"===l.updateOn&&l._pendingChange&&(u.viewToModelUpdate(l._pendingValue),l._pendingChange=!1)})}const vt={provide:Bn,useExisting:(0,_.Gpc)(()=>cn)},Vt=(()=>Promise.resolve())();let cn=(()=>{var d;class s extends Bn{constructor(l,p,C){super(),this.callSetDisabledState=C,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new nn({},vn(l),Tr(p))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(l){Vt.then(()=>{const p=this._findContainer(l.path);l.control=p.registerControl(l.name,l.control),qt(l.control,l,this.callSetDisabledState),l.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(l)})}getControl(l){return this.form.get(l.path)}removeControl(l){Vt.then(()=>{const p=this._findContainer(l.path);p&&p.removeControl(l.name),this._directives.delete(l)})}addFormGroup(l){Vt.then(()=>{const p=this._findContainer(l.path),C=new nn({});Qs(C,l),p.registerControl(l.name,C),C.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(l){Vt.then(()=>{const p=this._findContainer(l.path);p&&p.removeControl(l.name)})}getFormGroup(l){return this.form.get(l.path)}updateModel(l,p){Vt.then(()=>{this.form.get(l.path).setValue(p)})}setValue(l){this.control.setValue(l)}onSubmit(l){return this.submitted=!0,Hr(this.form,this._directives),this.ngSubmit.emit(l),"dialog"===l?.target?.method}onReset(){this.resetForm()}resetForm(l=void 0){this.form.reset(l),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(l){return l.pop(),l.length?this.form.get(l):this.form}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(tn,10),_.Y36(an,10),_.Y36(Xe,8))},d.\u0275dir=_.lG2({type:d,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(l,p){1&l&&_.NdJ("submit",function(N){return p.onSubmit(N)})("reset",function(){return p.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([vt]),_.qOj]}),s})();function wn(d,s){const u=d.indexOf(s);u>-1&&d.splice(u,1)}function Un(d){return"object"==typeof d&&null!==d&&2===Object.keys(d).length&&"value"in d&&"disabled"in d}const zr=class extends En{constructor(s=null,u,l){super(te(u),he(l,u)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(s),this._setUpdateStrategy(u),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ze(u)&&(u.nonNullable||u.initialValueIsDefault)&&(this.defaultValue=Un(s)?s.value:s)}setValue(s,u={}){this.value=this._pendingValue=s,this._onChange.length&&!1!==u.emitModelToViewChange&&this._onChange.forEach(l=>l(this.value,!1!==u.emitViewToModelChange)),this.updateValueAndValidity(u)}patchValue(s,u={}){this.setValue(s,u)}reset(s=this.defaultValue,u={}){this._applyFormState(s),this.markAsPristine(u),this.markAsUntouched(u),this.setValue(this.value,u),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){wn(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){wn(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(s){Un(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}};let Qr=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),fs=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({}),s})();const Zt=new _.OlP("NgModelWithFormControlWarning"),Wn={provide:ln,useExisting:(0,_.Gpc)(()=>Mr)};let Mr=(()=>{var d;class s extends ln{set isDisabled(l){}constructor(l,p,C,N,X){super(),this._ngModelWarningConfig=N,this.callSetDisabledState=X,this.update=new _.vpe,this._ngModelWarningSent=!1,this._setValidators(l),this._setAsyncValidators(p),this.valueAccessor=function Le(d,s){if(!s)return null;let u,l,p;return Array.isArray(s),s.forEach(C=>{C.constructor===st?u=C:function ca(d){return Object.getPrototypeOf(d.constructor)===mt}(C)?l=C:p=C}),p||l||u||null}(0,C)}ngOnChanges(l){if(this._isControlChanged(l)){const p=l.form.previousValue;p&&Nt(p,this,!1),qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function hs(d,s){if(!d.hasOwnProperty("model"))return!1;const u=d.model;return!!u.isFirstChange()||!Object.is(s,u.currentValue)})(l,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Nt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(l){this.viewModel=l,this.update.emit(l)}_isControlChanged(l){return l.hasOwnProperty("form")}}return(d=s)._ngModelWarningSentOnce=!1,d.\u0275fac=function(l){return new(l||d)(_.Y36(tn,10),_.Y36(an,10),_.Y36(pt,10),_.Y36(Zt,8),_.Y36(Xe,8))},d.\u0275dir=_.lG2({type:d,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[_._Bn([Wn]),_.qOj,_.TTD]}),s})();const Ti={provide:Bn,useExisting:(0,_.Gpc)(()=>Hi)};let Hi=(()=>{var d;class s extends Bn{constructor(l,p,C){super(),this.callSetDisabledState=C,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(l),this._setAsyncValidators(p)}ngOnChanges(l){this._checkFormPresent(),l.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(l){const p=this.form.get(l.path);return qt(p,l,this.callSetDisabledState),p.updateValueAndValidity({emitEvent:!1}),this.directives.push(l),p}getControl(l){return this.form.get(l.path)}removeControl(l){Nt(l.control||null,l,!1),function Ne(d,s){const u=d.indexOf(s);u>-1&&d.splice(u,1)}(this.directives,l)}addFormGroup(l){this._setUpFormContainer(l)}removeFormGroup(l){this._cleanUpFormContainer(l)}getFormGroup(l){return this.form.get(l.path)}addFormArray(l){this._setUpFormContainer(l)}removeFormArray(l){this._cleanUpFormContainer(l)}getFormArray(l){return this.form.get(l.path)}updateModel(l,p){this.form.get(l.path).setValue(p)}onSubmit(l){return this.submitted=!0,Hr(this.form,this.directives),this.ngSubmit.emit(l),"dialog"===l?.target?.method}onReset(){this.resetForm()}resetForm(l=void 0){this.form.reset(l),this.submitted=!1}_updateDomValue(){this.directives.forEach(l=>{const p=l.control,C=this.form.get(l.path);p!==C&&(Nt(p||null,l),(d=>d instanceof zr)(C)&&(qt(C,l,this.callSetDisabledState),l.control=C))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(l){const p=this.form.get(l.path);Qs(p,l),p.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(l){if(this.form){const p=this.form.get(l.path);p&&function qs(d,s){return Wr(d,s)}(p,l)&&p.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ti(this.form,this),this._oldForm&&Wr(this._oldForm,this)}_checkFormPresent(){}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(tn,10),_.Y36(an,10),_.Y36(Xe,8))},d.\u0275dir=_.lG2({type:d,selectors:[["","formGroup",""]],hostBindings:function(l,p){1&l&&_.NdJ("submit",function(N){return p.onSubmit(N)})("reset",function(){return p.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Ti]),_.qOj,_.TTD]}),s})(),xa=(()=>{var d;class s{constructor(){this._validator=ot}ngOnChanges(l){if(this.inputName in l){const p=this.normalizeInput(l[this.inputName].currentValue);this._enabled=this.enabled(p),this._validator=this._enabled?this.createValidator(p):ot,this._onChange&&this._onChange()}}validate(l){return this._validator(l)}registerOnValidatorChange(l){this._onChange=l}enabled(l){return null!=l}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,features:[_.TTD]}),s})();const no={provide:tn,useExisting:(0,_.Gpc)(()=>Yn),multi:!0};let Yn=(()=>{var d;class s extends xa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.VuI,this.createValidator=l=>oi}enabled(l){return l}}return(d=s).\u0275fac=function(){let u;return function(p){return(u||(u=_.n5z(d)))(p||d)}}(),d.\u0275dir=_.lG2({type:d,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(l,p){2&l&&_.uIk("required",p._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([no]),_.qOj]}),s})(),Hs=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[fs]}),s})();class La extends En{constructor(s,u,l){super(te(u),he(l,u)),this.controls=s,this._initObservables(),this._setUpdateStrategy(u),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(s){return this.controls[this._adjustIndex(s)]}push(s,u={}){this.controls.push(s),this._registerControl(s),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}insert(s,u,l={}){this.controls.splice(s,0,u),this._registerControl(u),this.updateValueAndValidity({emitEvent:l.emitEvent})}removeAt(s,u={}){let l=this._adjustIndex(s);l<0&&(l=0),this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),this.controls.splice(l,1),this.updateValueAndValidity({emitEvent:u.emitEvent})}setControl(s,u,l={}){let p=this._adjustIndex(s);p<0&&(p=0),this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),this.controls.splice(p,1),u&&(this.controls.splice(p,0,u),this._registerControl(u)),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(s,u={}){xt(this,0,s),s.forEach((l,p)=>{jt(this,!1,p),this.at(p).setValue(l,{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u)}patchValue(s,u={}){null!=s&&(s.forEach((l,p)=>{this.at(p)&&this.at(p).patchValue(l,{onlySelf:!0,emitEvent:u.emitEvent})}),this.updateValueAndValidity(u))}reset(s=[],u={}){this._forEachChild((l,p)=>{l.reset(s[p],{onlySelf:!0,emitEvent:u.emitEvent})}),this._updatePristine(u),this._updateTouched(u),this.updateValueAndValidity(u)}getRawValue(){return this.controls.map(s=>s.getRawValue())}clear(s={}){this.controls.length<1||(this._forEachChild(u=>u._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:s.emitEvent}))}_adjustIndex(s){return s<0?s+this.length:s}_syncPendingControls(){let s=this.controls.reduce((u,l)=>!!l._syncPendingControls()||u,!1);return s&&this.updateValueAndValidity({onlySelf:!0}),s}_forEachChild(s){this.controls.forEach((u,l)=>{s(u,l)})}_updateValue(){this.value=this.controls.filter(s=>s.enabled||this.disabled).map(s=>s.value)}_anyControls(s){return this.controls.some(u=>u.enabled&&s(u))}_setUpControls(){this._forEachChild(s=>this._registerControl(s))}_allControlsDisabled(){for(const s of this.controls)if(s.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(s){s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange)}_find(s){return this.at(s)??null}}function sl(d){return!!d&&(void 0!==d.asyncValidators||void 0!==d.validators||void 0!==d.updateOn)}let ci=(()=>{var d;class s{constructor(){this.useNonNullable=!1}get nonNullable(){const l=new s;return l.useNonNullable=!0,l}group(l,p=null){const C=this._reduceControls(l);let N={};return sl(p)?N=p:null!==p&&(N.validators=p.validator,N.asyncValidators=p.asyncValidator),new nn(C,N)}record(l,p=null){const C=this._reduceControls(l);return new Us(C,p)}control(l,p,C){let N={};return this.useNonNullable?(sl(p)?N=p:(N.validators=p,N.asyncValidators=C),new zr(l,{...N,nonNullable:!0})):new zr(l,p,C)}array(l,p,C){const N=l.map(X=>this._createControl(X));return new La(N,p,C)}_reduceControls(l){const p={};return Object.keys(l).forEach(C=>{p[C]=this._createControl(l[C])}),p}_createControl(l){return l instanceof zr||l instanceof En?l:Array.isArray(l)?this.control(l[0],l.length>1?l[1]:null,l.length>2?l[2]:null):this.control(l)}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),xs=(()=>{var d;class s{static withConfig(l){return{ngModule:s,providers:[{provide:Xe,useValue:l.callSetDisabledState??$e}]}}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[Hs]}),s})(),Bl=(()=>{var d;class s{static withConfig(l){return{ngModule:s,providers:[{provide:Zt,useValue:l.warnOnNgModelWithFormControl??"always"},{provide:Xe,useValue:l.callSetDisabledState??$e}]}}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[Hs]}),s})();var co=K(6999),El=K(2333),Xr=K(8645);let ol;try{ol=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ol=!1}let Si,ms=(()=>{var d;class s{constructor(l){this._platformId=l,this.isBrowser=this._platformId?(0,_e.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ol)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_.Lbi))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const jo=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gs(){if(Si)return Si;if("object"!=typeof document||!document)return Si=new Set(jo),Si;let d=document.createElement("input");return Si=new Set(jo.filter(s=>(d.setAttribute("type",s),d.type===s))),Si}let uo,ui,Ta;function Zr(d){return function Ho(){if(null==uo&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uo=!0}))}finally{uo=uo||!1}return uo}()?d:!!d.capture}function zs(){if(null==ui){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ui=!1,ui;if("scrollBehavior"in document.documentElement.style)ui=!0;else{const d=Element.prototype.scrollTo;ui=!!d&&!/\{\s*\[native code\]\s*\}/.test(d.toString())}}return ui}function Ai(d){return d.composedPath?d.composedPath()[0]:d.target}function Ao(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ki=K(5619),ho=K(2096),$i=K(2181);function vo(d){return(0,$i.h)((s,u)=>d<=u)}var Gl=K(3997),za=K(9773);function Fs(d){return null!=d&&"false"!=`${d}`}function Gi(d){return Array.isArray(d)?d:[d]}function Wi(d){return null==d?"":"string"==typeof d?d:`${d}px`}function Sa(d){return d instanceof _.SBq?d.nativeElement:d}var Qd=K(2572),kc=K(5211),ju=K(8180),dc=K(6321),Lh=K(9360),ns=K(7921);const $a=new Set;let va,Ks=(()=>{var d;class s{constructor(l,p){this._platform=l,this._nonce=p,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vh}matchMedia(l){return(this._platform.WEBKIT||this._platform.BLINK)&&function hc(d,s){if(!$a.has(d))try{va||(va=document.createElement("style"),s&&(va.nonce=s),va.setAttribute("type","text/css"),document.head.appendChild(va)),va.sheet&&(va.sheet.insertRule(`@media ${d} {body{ }}`,0),$a.add(d))}catch(u){console.error(u)}}(l,this._nonce),this._matchMedia(l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(ms),_.LFG(_.Ojb,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();function Vh(d){return{matches:"all"===d||""===d,media:d,addListener:()=>{},removeListener:()=>{}}}let aa=(()=>{var d;class s{constructor(l,p){this._mediaMatcher=l,this._zone=p,this._queries=new Map,this._destroySubject=new Xr.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(l){return Hu(Gi(l)).some(C=>this._registerQuery(C).mql.matches)}observe(l){const C=Hu(Gi(l)).map(X=>this._registerQuery(X).observable);let N=(0,Qd.a)(C);return N=(0,kc.z)(N.pipe((0,ju.q)(1)),N.pipe(vo(1),function $p(d,s=dc.z){return(0,Lh.e)((u,l)=>{let p=null,C=null,N=null;const X=()=>{if(p){p.unsubscribe(),p=null;const xe=C;C=null,l.next(xe)}};function de(){const xe=N+d,Je=s.now();if(Je<xe)return p=this.schedule(void 0,xe-Je),void l.add(p);X()}u.subscribe((0,Ce.x)(l,xe=>{C=xe,N=s.now(),p||(p=s.schedule(de,d),l.add(p))},()=>{X(),l.complete()},void 0,()=>{C=p=null}))})}(0))),N.pipe((0,yt.U)(X=>{const de={matches:!1,breakpoints:{}};return X.forEach(({matches:xe,query:Je})=>{de.matches=de.matches||xe,de.breakpoints[Je]=xe}),de}))}_registerQuery(l){if(this._queries.has(l))return this._queries.get(l);const p=this._mediaMatcher.matchMedia(l),N={observable:new Ae.y(X=>{const de=xe=>this._zone.run(()=>X.next(xe));return p.addListener(de),()=>{p.removeListener(de)}}).pipe((0,ns.O)(p),(0,yt.U)(({matches:X})=>({query:l,matches:X})),(0,za.R)(this._destroySubject)),mql:p};return this._queries.set(l,N),N}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(Ks),_.LFG(_.R0b))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();function Hu(d){return d.map(s=>s.split(",")).reduce((s,u)=>s.concat(u)).map(s=>s.trim())}function at(d){return 0===d.buttons||0===d.offsetX&&0===d.offsetY}function bt(d){const s=d.touches&&d.touches[0]||d.changedTouches&&d.changedTouches[0];return!(!s||-1!==s.identifier||null!=s.radiusX&&1!==s.radiusX||null!=s.radiusY&&1!==s.radiusY)}const Tt=new _.OlP("cdk-input-modality-detector-options"),rn={ignoreKeys:[18,17,224,91,16]},fn=Zr({passive:!0,capture:!0});let Ir=(()=>{var d;class s{get mostRecentModality(){return this._modality.value}constructor(l,p,C,N){this._platform=l,this._mostRecentTarget=null,this._modality=new ki.X(null),this._lastTouchMs=0,this._onKeydown=X=>{this._options?.ignoreKeys?.some(de=>de===X.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ai(X))},this._onMousedown=X=>{Date.now()-this._lastTouchMs<650||(this._modality.next(at(X)?"keyboard":"mouse"),this._mostRecentTarget=Ai(X))},this._onTouchstart=X=>{bt(X)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ai(X))},this._options={...rn,...N},this.modalityDetected=this._modality.pipe(vo(1)),this.modalityChanged=this.modalityDetected.pipe((0,Gl.x)()),l.isBrowser&&p.runOutsideAngular(()=>{C.addEventListener("keydown",this._onKeydown,fn),C.addEventListener("mousedown",this._onMousedown,fn),C.addEventListener("touchstart",this._onTouchstart,fn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fn),document.removeEventListener("mousedown",this._onMousedown,fn),document.removeEventListener("touchstart",this._onTouchstart,fn))}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(ms),_.LFG(_.R0b),_.LFG(_e.K0),_.LFG(Tt,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const vs=new _.OlP("liveAnnouncerElement",{providedIn:"root",factory:function er(){return null}}),ys=new _.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let us=0,Kn=(()=>{var d;class s{constructor(l,p,C,N){this._ngZone=p,this._defaultOptions=N,this._document=C,this._liveElement=l||this._createLiveElement()}announce(l,...p){const C=this._defaultOptions;let N,X;return 1===p.length&&"number"==typeof p[0]?X=p[0]:[N,X]=p,this.clear(),clearTimeout(this._previousTimeout),N||(N=C&&C.politeness?C.politeness:"polite"),null==X&&C&&(X=C.duration),this._liveElement.setAttribute("aria-live",N),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(de=>this._currentResolve=de)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=l,"number"==typeof X&&(this._previousTimeout=setTimeout(()=>this.clear(),X)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const l="cdk-live-announcer-element",p=this._document.getElementsByClassName(l),C=this._document.createElement("div");for(let N=0;N<p.length;N++)p[N].remove();return C.classList.add(l),C.classList.add("cdk-visually-hidden"),C.setAttribute("aria-atomic","true"),C.setAttribute("aria-live","polite"),C.id="cdk-live-announcer-"+us++,this._document.body.appendChild(C),C}_exposeAnnouncerToModals(l){const p=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let C=0;C<p.length;C++){const N=p[C],X=N.getAttribute("aria-owns");X?-1===X.indexOf(l)&&N.setAttribute("aria-owns",X+" "+l):N.setAttribute("aria-owns",l)}}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(vs,8),_.LFG(_.R0b),_.LFG(_e.K0),_.LFG(ys,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const bo=new _.OlP("cdk-focus-monitor-default-options"),Zs=Zr({passive:!0,capture:!0});let Uc=(()=>{var d;class s{constructor(l,p,C,N,X){this._ngZone=l,this._platform=p,this._inputModalityDetector=C,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xr.x,this._rootNodeFocusAndBlurListener=de=>{for(let Je=Ai(de);Je;Je=Je.parentElement)"focus"===de.type?this._onFocus(de,Je):this._onBlur(de,Je)},this._document=N,this._detectionMode=X?.detectionMode||0}monitor(l,p=!1){const C=Sa(l);if(!this._platform.isBrowser||1!==C.nodeType)return(0,ho.of)();const N=function wl(d){if(function as(){if(null==Ta){const d=typeof document<"u"?document.head:null;Ta=!(!d||!d.createShadowRoot&&!d.attachShadow)}return Ta}()){const s=d.getRootNode?d.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&s instanceof ShadowRoot)return s}return null}(C)||this._getDocument(),X=this._elementInfo.get(C);if(X)return p&&(X.checkChildren=!0),X.subject;const de={checkChildren:p,subject:new Xr.x,rootNode:N};return this._elementInfo.set(C,de),this._registerGlobalListeners(de),de.subject}stopMonitoring(l){const p=Sa(l),C=this._elementInfo.get(p);C&&(C.subject.complete(),this._setClasses(p),this._elementInfo.delete(p),this._removeGlobalListeners(C))}focusVia(l,p,C){const N=Sa(l);N===this._getDocument().activeElement?this._getClosestElementsInfo(N).forEach(([de,xe])=>this._originChanged(de,p,xe)):(this._setOrigin(p),"function"==typeof N.focus&&N.focus(C))}ngOnDestroy(){this._elementInfo.forEach((l,p)=>this.stopMonitoring(p))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(l){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(l)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:l&&this._isLastInteractionFromInputLabel(l)?"mouse":"program"}_shouldBeAttributedToTouch(l){return 1===this._detectionMode||!!l?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(l,p){l.classList.toggle("cdk-focused",!!p),l.classList.toggle("cdk-touch-focused","touch"===p),l.classList.toggle("cdk-keyboard-focused","keyboard"===p),l.classList.toggle("cdk-mouse-focused","mouse"===p),l.classList.toggle("cdk-program-focused","program"===p)}_setOrigin(l,p=!1){this._ngZone.runOutsideAngular(()=>{this._origin=l,this._originFromTouchInteraction="touch"===l&&p,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(l,p){const C=this._elementInfo.get(p),N=Ai(l);!C||!C.checkChildren&&p!==N||this._originChanged(p,this._getFocusOrigin(N),C)}_onBlur(l,p){const C=this._elementInfo.get(p);!C||C.checkChildren&&l.relatedTarget instanceof Node&&p.contains(l.relatedTarget)||(this._setClasses(p),this._emitOrigin(C,null))}_emitOrigin(l,p){l.subject.observers.length&&this._ngZone.run(()=>l.subject.next(p))}_registerGlobalListeners(l){if(!this._platform.isBrowser)return;const p=l.rootNode,C=this._rootNodeFocusListenerCount.get(p)||0;C||this._ngZone.runOutsideAngular(()=>{p.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zs),p.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zs)}),this._rootNodeFocusListenerCount.set(p,C+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,za.R)(this._stopInputModalityDetector)).subscribe(N=>{this._setOrigin(N,!0)}))}_removeGlobalListeners(l){const p=l.rootNode;if(this._rootNodeFocusListenerCount.has(p)){const C=this._rootNodeFocusListenerCount.get(p);C>1?this._rootNodeFocusListenerCount.set(p,C-1):(p.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zs),p.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zs),this._rootNodeFocusListenerCount.delete(p))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(l,p,C){this._setClasses(l,p),this._emitOrigin(C,p),this._lastFocusOrigin=p}_getClosestElementsInfo(l){const p=[];return this._elementInfo.forEach((C,N)=>{(N===l||C.checkChildren&&N.contains(l))&&p.push([N,C])}),p}_isLastInteractionFromInputLabel(l){const{_mostRecentTarget:p,mostRecentModality:C}=this._inputModalityDetector;if("mouse"!==C||!p||p===l||"INPUT"!==l.nodeName&&"TEXTAREA"!==l.nodeName||l.disabled)return!1;const N=l.labels;if(N)for(let X=0;X<N.length;X++)if(N[X].contains(p))return!0;return!1}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_.R0b),_.LFG(ms),_.LFG(Ir),_.LFG(_e.K0,8),_.LFG(bo,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const Bc="cdk-high-contrast-black-on-white",jc="cdk-high-contrast-white-on-black",Rl="cdk-high-contrast-active";let jh=(()=>{var d;class s{constructor(l,p){this._platform=l,this._document=p,this._breakpointSubscription=(0,_.f3M)(aa).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const l=this._document.createElement("div");l.style.backgroundColor="rgb(1,2,3)",l.style.position="absolute",this._document.body.appendChild(l);const p=this._document.defaultView||window,C=p&&p.getComputedStyle?p.getComputedStyle(l):null,N=(C&&C.backgroundColor||"").replace(/ /g,"");switch(l.remove(),N){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const l=this._document.body.classList;l.remove(Rl,Bc,jc),this._hasCheckedHighContrastMode=!0;const p=this.getHighContrastMode();1===p?l.add(Rl,Bc):2===p&&l.add(Rl,jc)}}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(ms),_.LFG(_e.K0))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const Gu=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function au(){return(0,_.f3M)(_e.K0)}}),Hh=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ed=(()=>{var d;class s{constructor(l){this.value="ltr",this.change=new _.vpe,l&&(this.value=function Kl(d){const s=d?.toLowerCase()||"";return"auto"===s&&typeof navigator<"u"&&navigator?.language?Hh.test(navigator.language)?"rtl":"ltr":"rtl"===s?"rtl":"ltr"}((l.body?l.body.dir:null)||(l.documentElement?l.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(Gu,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),j=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({}),s})();const Wa=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function rs(){return!0}});let qi=(()=>{var d;class s{constructor(l,p,C){this._sanityChecks=p,this._document=C,this._hasDoneGlobalChecks=!1,l._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(l){return!Ao()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[l])}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(jh),_.LFG(Wa,8),_.LFG(_e.K0))},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[j,j]}),s})();function zh(d){return class extends d{get disabled(){return this._disabled}set disabled(s){this._disabled=Fs(s)}constructor(...s){super(...s),this._disabled=!1}}}function Wu(d,s){return class extends d{get color(){return this._color}set color(u){const l=u||this.defaultColor;l!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),l&&this._elementRef.nativeElement.classList.add(`mat-${l}`),this._color=l)}constructor(...u){super(...u),this.defaultColor=s,this.color=s}}}function Id(d){return class extends d{get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=Fs(s)}constructor(...s){super(...s),this._disableRipple=!1}}}function nh(d){return class extends d{updateErrorState(){const s=this.errorState,C=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);C!==s&&(this.errorState=C,this.stateChanges.next())}constructor(...s){super(...s),this.errorState=!1}}}let qp=(()=>{var d;class s{isErrorState(l,p){return!!(l&&l.invalid&&(l.touched||p&&p.submitted))}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();class Yp{constructor(s,u,l,p=!1){this._renderer=s,this.element=u,this.config=l,this._animationForciblyDisabledThroughCss=p,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Zh=Zr({passive:!0,capture:!0});class Yh{constructor(){this._events=new Map,this._delegateEventHandler=s=>{const u=Ai(s);u&&this._events.get(s.type)?.forEach((l,p)=>{(p===u||p.contains(u))&&l.forEach(C=>C.handleEvent(s))})}}addHandler(s,u,l,p){const C=this._events.get(u);if(C){const N=C.get(l);N?N.add(p):C.set(l,new Set([p]))}else this._events.set(u,new Map([[l,new Set([p])]])),s.runOutsideAngular(()=>{document.addEventListener(u,this._delegateEventHandler,Zh)})}removeHandler(s,u,l){const p=this._events.get(s);if(!p)return;const C=p.get(u);C&&(C.delete(l),0===C.size&&p.delete(u),0===p.size&&(this._events.delete(s),document.removeEventListener(s,this._delegateEventHandler,Zh)))}}const pc={enterDuration:225,exitDuration:150},xd=Zr({passive:!0,capture:!0}),Td=["mousedown","touchstart"],Ht=["mouseup","mouseleave","touchend","touchcancel"];class qu{constructor(s,u,l,p){this._target=s,this._ngZone=u,this._platform=p,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,p.isBrowser&&(this._containerElement=Sa(l))}fadeInRipple(s,u,l={}){const p=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),C={...pc,...l.animation};l.centered&&(s=p.left+p.width/2,u=p.top+p.height/2);const N=l.radius||function cu(d,s,u){const l=Math.max(Math.abs(d-u.left),Math.abs(d-u.right)),p=Math.max(Math.abs(s-u.top),Math.abs(s-u.bottom));return Math.sqrt(l*l+p*p)}(s,u,p),X=s-p.left,de=u-p.top,xe=C.enterDuration,Je=document.createElement("div");Je.classList.add("mat-ripple-element"),Je.style.left=X-N+"px",Je.style.top=de-N+"px",Je.style.height=2*N+"px",Je.style.width=2*N+"px",null!=l.color&&(Je.style.backgroundColor=l.color),Je.style.transitionDuration=`${xe}ms`,this._containerElement.appendChild(Je);const _t=window.getComputedStyle(Je),An=_t.transitionDuration,pn="none"===_t.transitionProperty||"0s"===An||"0s, 0s"===An||0===p.width&&0===p.height,xn=new Yp(this,Je,l,pn);Je.style.transform="scale3d(1, 1, 1)",xn.state=0,l.persistent||(this._mostRecentTransientRipple=xn);let Ur=null;return!pn&&(xe||C.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Es=()=>this._finishRippleTransition(xn),so=()=>this._destroyRipple(xn);Je.addEventListener("transitionend",Es),Je.addEventListener("transitioncancel",so),Ur={onTransitionEnd:Es,onTransitionCancel:so}}),this._activeRipples.set(xn,Ur),(pn||!xe)&&this._finishRippleTransition(xn),xn}fadeOutRipple(s){if(2===s.state||3===s.state)return;const u=s.element,l={...pc,...s.config.animation};u.style.transitionDuration=`${l.exitDuration}ms`,u.style.opacity="0",s.state=2,(s._animationForciblyDisabledThroughCss||!l.exitDuration)&&this._finishRippleTransition(s)}fadeOutAll(){this._getActiveRipples().forEach(s=>s.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(s=>{s.config.persistent||s.fadeOut()})}setupTriggerEvents(s){const u=Sa(s);!this._platform.isBrowser||!u||u===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=u,Td.forEach(l=>{qu._eventManager.addHandler(this._ngZone,l,u,this)}))}handleEvent(s){"mousedown"===s.type?this._onMousedown(s):"touchstart"===s.type?this._onTouchStart(s):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ht.forEach(u=>{this._triggerElement.addEventListener(u,this,xd)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(s){0===s.state?this._startFadeOutTransition(s):2===s.state&&this._destroyRipple(s)}_startFadeOutTransition(s){const u=s===this._mostRecentTransientRipple,{persistent:l}=s.config;s.state=1,!l&&(!u||!this._isPointerDown)&&s.fadeOut()}_destroyRipple(s){const u=this._activeRipples.get(s)??null;this._activeRipples.delete(s),this._activeRipples.size||(this._containerRect=null),s===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),s.state=3,null!==u&&(s.element.removeEventListener("transitionend",u.onTransitionEnd),s.element.removeEventListener("transitioncancel",u.onTransitionCancel)),s.element.remove()}_onMousedown(s){const u=at(s),l=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!u&&!l&&(this._isPointerDown=!0,this.fadeInRipple(s.clientX,s.clientY,this._target.rippleConfig))}_onTouchStart(s){if(!this._target.rippleDisabled&&!bt(s)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const u=s.changedTouches;if(u)for(let l=0;l<u.length;l++)this.fadeInRipple(u[l].clientX,u[l].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(s=>{!s.config.persistent&&(1===s.state||s.config.terminateOnPointerUp&&0===s.state)&&s.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const s=this._triggerElement;s&&(Td.forEach(u=>qu._eventManager.removeHandler(u,s,this)),this._pointerUpEventsRegistered&&Ht.forEach(u=>s.removeEventListener(u,this,xd)))}}qu._eventManager=new Yh;const $c=new _.OlP("mat-ripple-global-options");let Qh=(()=>{var d;class s{get disabled(){return this._disabled}set disabled(l){l&&this.fadeOutAllNonPersistent(),this._disabled=l,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(l){this._trigger=l,this._setupTriggerEventsIfEnabled()}constructor(l,p,C,N,X){this._elementRef=l,this._animationMode=X,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=N||{},this._rippleRenderer=new qu(this,p,l,C)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(l,p=0,C){return"number"==typeof l?this._rippleRenderer.fadeInRipple(l,p,{...this.rippleConfig,...C}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...l})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(ms),_.Y36($c,8),_.Y36(_.QbO,8))},d.\u0275dir=_.lG2({type:d,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(l,p){2&l&&_.ekj("mat-ripple-unbounded",p.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),s})(),Dd=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[qi,qi]}),s})();const hu={capture:!0},No=["focus","click","mouseenter","touchstart"],Fo="mat-ripple-loader-uninitialized",Pl="mat-ripple-loader-class-name",fu="mat-ripple-loader-centered",Yl="mat-ripple-loader-disabled";let Xh=(()=>{var d;class s{constructor(){this._document=(0,_.f3M)(_e.K0,{optional:!0}),this._animationMode=(0,_.f3M)(_.QbO,{optional:!0}),this._globalRippleOptions=(0,_.f3M)($c,{optional:!0}),this._platform=(0,_.f3M)(ms),this._ngZone=(0,_.f3M)(_.R0b),this._onInteraction=l=>{if(!(l.target instanceof HTMLElement))return;const C=l.target.closest(`[${Fo}]`);C&&this.createRipple(C)},this._ngZone.runOutsideAngular(()=>{for(const l of No)this._document?.addEventListener(l,this._onInteraction,hu)})}ngOnDestroy(){for(const l of No)this._document?.removeEventListener(l,this._onInteraction,hu)}configureRipple(l,p){l.setAttribute(Fo,""),(p.className||!l.hasAttribute(Pl))&&l.setAttribute(Pl,p.className||""),p.centered&&l.setAttribute(fu,""),p.disabled&&l.setAttribute(Yl,"")}getRipple(l){return l.matRipple?l.matRipple:this.createRipple(l)}setDisabled(l,p){const C=l.matRipple;C?C.disabled=p:p?l.setAttribute(Yl,""):l.removeAttribute(Yl)}createRipple(l){if(!this._document)return;l.querySelector(".mat-ripple")?.remove();const p=this._document.createElement("span");p.classList.add("mat-ripple",l.getAttribute(Pl)),l.append(p);const C=new Qh(new _.SBq(p),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return C._isInitialized=!0,C.trigger=l,C.centered=l.hasAttribute(fu),C.disabled=l.hasAttribute(Yl),this.attachRipple(l,C),C}attachRipple(l,p){l.removeAttribute(Fo),l.matRipple=p}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const Za=["mat-button",""],pu=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Jh=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ef=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",_c=["mat-icon-button",""],Jp=["*"],Ad=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],nf=Wu(zh(Id(class{constructor(d){this._elementRef=d}})));let ih=(()=>{var d;class s extends nf{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(l){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,l)}get disableRipple(){return this._disableRipple}set disableRipple(l){this._disableRipple=Fs(l),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(l){this._disabled=Fs(l),this._updateRippleDisabled()}constructor(l,p,C,N){super(l),this._platform=p,this._ngZone=C,this._animationMode=N,this._focusMonitor=(0,_.f3M)(Uc),this._rippleLoader=(0,_.f3M)(Xh),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const X=l.nativeElement.classList;for(const de of Ad)this._hasHostAttributes(de.selector)&&de.mdcClasses.forEach(xe=>{X.add(xe)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(l="program",p){l?this._focusMonitor.focusVia(this._elementRef.nativeElement,l,p):this._elementRef.nativeElement.focus(p)}_hasHostAttributes(...l){return l.some(p=>this._elementRef.nativeElement.hasAttribute(p))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(d=s).\u0275fac=function(l){_.$Z()},d.\u0275dir=_.lG2({type:d,features:[_.qOj]}),s})(),Xf=(()=>{var d;class s extends ih{constructor(l,p,C,N){super(l,p,C,N),this._haltDisabledEvents=X=>{this.disabled&&(X.preventDefault(),X.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return(d=s).\u0275fac=function(l){_.$Z()},d.\u0275dir=_.lG2({type:d,features:[_.qOj]}),s})(),mu=(()=>{var d;class s extends ih{constructor(l,p,C,N){super(l,p,C,N)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(ms),_.Y36(_.R0b),_.Y36(_.QbO,8))},d.\u0275cmp=_.Xpm({type:d,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(l,p){2&l&&(_.uIk("disabled",p.disabled||null),_.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-unthemed",!p.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_.qOj],attrs:Za,ngContentSelectors:Jh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(l,p){1&l&&(_.F$t(pu),_._UZ(0,"span",0),_.Hsn(1),_.TgZ(2,"span",1),_.Hsn(3,1),_.qZA(),_.Hsn(4,2),_._UZ(5,"span",2)(6,"span",3)),2&l&&_.ekj("mdc-button__ripple",!p._isFab)("mdc-fab__ripple",p._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),s})(),Ya=(()=>{var d;class s extends Xf{constructor(l,p,C,N){super(l,p,C,N)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(ms),_.Y36(_.R0b),_.Y36(_.QbO,8))},d.\u0275cmp=_.Xpm({type:d,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(l,p){2&l&&(_.uIk("disabled",p.disabled||null)("tabindex",p.disabled?-1:p.tabIndex)("aria-disabled",p.disabled.toString()),_.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-unthemed",!p.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[_.qOj],attrs:Za,ngContentSelectors:Jh,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(l,p){1&l&&(_.F$t(pu),_._UZ(0,"span",0),_.Hsn(1),_.TgZ(2,"span",1),_.Hsn(3,1),_.qZA(),_.Hsn(4,2),_._UZ(5,"span",2)(6,"span",3)),2&l&&_.ekj("mdc-button__ripple",!p._isFab)("mdc-fab__ripple",p._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',ef],encapsulation:2,changeDetection:0}),s})(),G=(()=>{var d;class s extends ih{constructor(l,p,C,N){super(l,p,C,N),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(ms),_.Y36(_.R0b),_.Y36(_.QbO,8))},d.\u0275cmp=_.Xpm({type:d,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(l,p){2&l&&(_.uIk("disabled",p.disabled||null),_.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-unthemed",!p.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_.qOj],attrs:_c,ngContentSelectors:Jp,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(l,p){1&l&&(_.F$t(),_._UZ(0,"span",0),_.Hsn(1),_._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',ef],encapsulation:2,changeDetection:0}),s})(),pe=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[qi,Dd,qi]}),s})();class Ie{}class Be{}const gt="*";function un(d,s){return{type:7,name:d,definitions:s,options:{}}}function Cn(d,s=null){return{type:4,styles:s,timings:d}}function Jr(d,s=null){return{type:2,steps:d,options:s}}function bs(d){return{type:6,styles:d,offset:null}}function Ls(d,s,u){return{type:0,name:d,styles:s,options:u}}function Io(d,s,u=null){return{type:1,expr:d,animation:s,options:u}}class ml{constructor(s=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const u="start"==s?this._onStartFns:this._onDoneFns;u.forEach(l=>l()),u.length=0}}class Jf{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let u=0,l=0,p=0;const C=this.players.length;0==C?queueMicrotask(()=>this._onFinish()):this.players.forEach(N=>{N.onDone(()=>{++u==C&&this._onFinish()}),N.onDestroy(()=>{++l==C&&this._onDestroy()}),N.onStart(()=>{++p==C&&this._onStart()})}),this.totalTime=this.players.reduce((N,X)=>Math.max(N,X.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const u=s*this.totalTime;this.players.forEach(l=>{const p=l.totalTime?Math.min(1,u/l.totalTime):1;l.setPosition(p)})}getPosition(){const s=this.players.reduce((u,l)=>null===u||l.totalTime>u.totalTime?l:u,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const u="start"==s?this._onStartFns:this._onDoneFns;u.forEach(l=>l()),u.length=0}}class Md{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class rm extends Md{constructor(s,u,l,p,C){super(),this.component=s,this.viewContainerRef=u,this.injector=l,this.componentFactoryResolver=p,this.projectableNodes=C}}class S_ extends Md{constructor(s,u,l,p){super(),this.templateRef=s,this.viewContainerRef=u,this.context=l,this.injector=p}get origin(){return this.templateRef.elementRef}attach(s,u=this.context){return this.context=u,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class Co extends Md{constructor(s){super(),this.element=s instanceof _.SBq?s.nativeElement:s}}class sf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof rm?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof S_?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof Co?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oh extends sf{constructor(s,u,l,p,C){super(),this.outletElement=s,this._componentFactoryResolver=u,this._appRef=l,this._defaultInjector=p,this.attachDomPortal=N=>{const X=N.element,de=this._document.createComment("dom-portal");X.parentNode.insertBefore(de,X),this.outletElement.appendChild(X),this._attachedPortal=N,super.setDisposeFn(()=>{de.parentNode&&de.parentNode.replaceChild(X,de)})},this._document=C}attachComponentPortal(s){const l=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let p;return s.viewContainerRef?(p=s.viewContainerRef.createComponent(l,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector,s.projectableNodes||void 0),this.setDisposeFn(()=>p.destroy())):(p=l.create(s.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(p.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(p.hostView),p.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(p)),this._attachedPortal=s,p}attachTemplatePortal(s){let u=s.viewContainerRef,l=u.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return l.rootNodes.forEach(p=>this.outletElement.appendChild(p)),l.detectChanges(),this.setDisposeFn(()=>{let p=u.indexOf(l);-1!==p&&u.remove(p)}),this._attachedPortal=s,l}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}let ep=(()=>{var d;class s extends sf{constructor(l,p,C){super(),this._componentFactoryResolver=l,this._viewContainerRef=p,this._isInitialized=!1,this.attached=new _.vpe,this.attachDomPortal=N=>{const X=N.element,de=this._document.createComment("dom-portal");N.setAttachedHost(this),X.parentNode.insertBefore(de,X),this._getRootNode().appendChild(X),this._attachedPortal=N,super.setDisposeFn(()=>{de.parentNode&&de.parentNode.replaceChild(X,de)})},this._document=C}get portal(){return this._attachedPortal}set portal(l){this.hasAttached()&&!l&&!this._isInitialized||(this.hasAttached()&&super.detach(),l&&super.attach(l),this._attachedPortal=l||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(l){l.setAttachedHost(this);const p=null!=l.viewContainerRef?l.viewContainerRef:this._viewContainerRef,N=(l.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(l.component),X=p.createComponent(N,p.length,l.injector||p.injector,l.projectableNodes||void 0);return p!==this._viewContainerRef&&this._getRootNode().appendChild(X.hostView.rootNodes[0]),super.setDisposeFn(()=>X.destroy()),this._attachedPortal=l,this._attachedRef=X,this.attached.emit(X),X}attachTemplatePortal(l){l.setAttachedHost(this);const p=this._viewContainerRef.createEmbeddedView(l.templateRef,l.context,{injector:l.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=l,this._attachedRef=p,this.attached.emit(p),p}_getRootNode(){const l=this._viewContainerRef.element.nativeElement;return l.nodeType===l.ELEMENT_NODE?l:l.parentNode}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_._Vd),_.Y36(_.s_b),_.Y36(_e.K0))},d.\u0275dir=_.lG2({type:d,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_.qOj]}),s})(),tp=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({}),s})();var af=K(1631),sm=K(4266),Xl=K(4674);const om=["addListener","removeListener"],M_=["addEventListener","removeEventListener"],gg=["on","off"];function Gc(d,s,u,l){if((0,Xl.m)(u)&&(l=u,u=void 0),l)return Gc(d,s,u).pipe((0,Fe.Z)(l));const[p,C]=function yy(d){return(0,Xl.m)(d.addEventListener)&&(0,Xl.m)(d.removeEventListener)}(d)?M_.map(N=>X=>d[N](s,X,u)):function vy(d){return(0,Xl.m)(d.addListener)&&(0,Xl.m)(d.removeListener)}(d)?om.map(_g(d,s)):function R_(d){return(0,Xl.m)(d.on)&&(0,Xl.m)(d.off)}(d)?gg.map(_g(d,s)):[];if(!p&&(0,sm.z)(d))return(0,af.z)(N=>Gc(N,s,u))((0,je.Xf)(d));if(!p)throw new TypeError("Invalid event target");return new Ae.y(N=>{const X=(...de)=>N.next(1<de.length?de:de[0]);return p(X),()=>C(X)})}function _g(d,s){return u=>l=>d[u](s,l)}var O_=K(1954),Jl=K(7394);const Ra={schedule(d){let s=requestAnimationFrame,u=cancelAnimationFrame;const{delegate:l}=Ra;l&&(s=l.requestAnimationFrame,u=l.cancelAnimationFrame);const p=s(C=>{u=void 0,d(C)});return new Jl.w0(()=>u?.(p))},requestAnimationFrame(...d){const{delegate:s}=Ra;return(s?.requestAnimationFrame||requestAnimationFrame)(...d)},cancelAnimationFrame(...d){const{delegate:s}=Ra;return(s?.cancelAnimationFrame||cancelAnimationFrame)(...d)},delegate:void 0};var vg=K(2631);new class by extends vg.v{flush(s){this._active=!0;const u=this._scheduled;this._scheduled=void 0;const{actions:l}=this;let p;s=s||l.shift();do{if(p=s.execute(s.state,s.delay))break}while((s=l[0])&&s.id===u&&l.shift());if(this._active=!1,p){for(;(s=l[0])&&s.id===u&&l.shift();)s.unsubscribe();throw p}}}(class lf extends O_.o{constructor(s,u){super(s,u),this.scheduler=s,this.work=u}requestAsyncId(s,u,l=0){return null!==l&&l>0?super.requestAsyncId(s,u,l):(s.actions.push(this),s._scheduled||(s._scheduled=Ra.requestAnimationFrame(()=>s.flush(void 0))))}recycleAsyncId(s,u,l=0){var p;if(null!=l?l>0:this.delay>0)return super.recycleAsyncId(s,u,l);const{actions:C}=s;null!=u&&(null===(p=C[C.length-1])||void 0===p?void 0:p.id)!==u&&(Ra.cancelAnimationFrame(u),s._scheduled=void 0)}});let am,k_=1;const np={};function rp(d){return d in np&&(delete np[d],!0)}const ah={setImmediate(d){const s=k_++;return np[s]=!0,am||(am=Promise.resolve()),am.then(()=>rp(s)&&d()),s},clearImmediate(d){rp(d)}},{setImmediate:_u,clearImmediate:ec}=ah,Yu={setImmediate(...d){const{delegate:s}=Yu;return(s?.setImmediate||_u)(...d)},clearImmediate(d){const{delegate:s}=Yu;return(s?.clearImmediate||ec)(d)},delegate:void 0};new class cm extends vg.v{flush(s){this._active=!0;const u=this._scheduled;this._scheduled=void 0;const{actions:l}=this;let p;s=s||l.shift();do{if(p=s.execute(s.state,s.delay))break}while((s=l[0])&&s.id===u&&l.shift());if(this._active=!1,p){for(;(s=l[0])&&s.id===u&&l.shift();)s.unsubscribe();throw p}}}(class lm extends O_.o{constructor(s,u){super(s,u),this.scheduler=s,this.work=u}requestAsyncId(s,u,l=0){return null!==l&&l>0?super.requestAsyncId(s,u,l):(s.actions.push(this),s._scheduled||(s._scheduled=Yu.setImmediate(s.flush.bind(s,void 0))))}recycleAsyncId(s,u,l=0){var p;if(null!=l?l>0:this.delay>0)return super.recycleAsyncId(s,u,l);const{actions:C}=s;null!=u&&(null===(p=C[C.length-1])||void 0===p?void 0:p.id)!==u&&(Yu.clearImmediate(u),s._scheduled===u&&(s._scheduled=void 0))}});var Ey=K(671);function ip(d,s=dc.z){return function Mb(d){return(0,Lh.e)((s,u)=>{let l=!1,p=null,C=null,N=!1;const X=()=>{if(C?.unsubscribe(),C=null,l){l=!1;const xe=p;p=null,u.next(xe)}N&&u.complete()},de=()=>{C=null,N&&u.complete()};s.subscribe((0,Ce.x)(u,xe=>{l=!0,p=xe,C||(0,je.Xf)(d(xe)).subscribe(C=(0,Ce.x)(u,X,de))},()=>{N=!0,(!l||!C||C.closed)&&u.complete()}))})}(()=>function uf(d=0,s,u=dc.P){let l=-1;return null!=s&&((0,Ey.K)(s)?u=s:l=s),new Ae.y(p=>{let C=function um(d){return d instanceof Date&&!isNaN(d)}(d)?+d-u.now():d;C<0&&(C=0);let N=0;return u.schedule(function(){p.closed||(p.next(N++),0<=l?this.schedule(void 0,l):p.complete())},C)})}(d,s))}let vu=(()=>{var d;class s{constructor(l,p,C){this._ngZone=l,this._platform=p,this._scrolled=new Xr.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=C}register(l){this.scrollContainers.has(l)||this.scrollContainers.set(l,l.elementScrolled().subscribe(()=>this._scrolled.next(l)))}deregister(l){const p=this.scrollContainers.get(l);p&&(p.unsubscribe(),this.scrollContainers.delete(l))}scrolled(l=20){return this._platform.isBrowser?new Ae.y(p=>{this._globalSubscription||this._addGlobalListener();const C=l>0?this._scrolled.pipe(ip(l)).subscribe(p):this._scrolled.subscribe(p);return this._scrolledCount++,()=>{C.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ho.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((l,p)=>this.deregister(p)),this._scrolled.complete()}ancestorScrolled(l,p){const C=this.getAncestorScrollContainers(l);return this.scrolled(p).pipe((0,$i.h)(N=>!N||C.indexOf(N)>-1))}getAncestorScrollContainers(l){const p=[];return this.scrollContainers.forEach((C,N)=>{this._scrollableContainsElement(N,l)&&p.push(N)}),p}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(l,p){let C=Sa(p),N=l.getElementRef().nativeElement;do{if(C==N)return!0}while(C=C.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_.R0b),_.LFG(ms),_.LFG(_e.K0,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),N_=(()=>{var d;class s{constructor(l,p,C){this._platform=l,this._change=new Xr.x,this._changeListener=N=>{this._change.next(N)},this._document=C,p.runOutsideAngular(()=>{if(l.isBrowser){const N=this._getWindow();N.addEventListener("resize",this._changeListener),N.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const l=this._getWindow();l.removeEventListener("resize",this._changeListener),l.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const l={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),l}getViewportRect(){const l=this.getViewportScrollPosition(),{width:p,height:C}=this.getViewportSize();return{top:l.top,left:l.left,bottom:l.top+C,right:l.left+p,height:C,width:p}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const l=this._document,p=this._getWindow(),C=l.documentElement,N=C.getBoundingClientRect();return{top:-N.top||l.body.scrollTop||p.scrollY||C.scrollTop||0,left:-N.left||l.body.scrollLeft||p.scrollX||C.scrollLeft||0}}change(l=20){return l>0?this._change.pipe(ip(l)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const l=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:l.innerWidth,height:l.innerHeight}:{width:0,height:0}}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(ms),_.LFG(_.R0b),_.LFG(_e.K0,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),Eg=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({}),s})(),wg=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[j,Eg,j,Eg]}),s})();var fm=K(3019);const hf=zs();class Ni{constructor(s,u){this._viewportRuler=s,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=u}attach(){}enable(){if(this._canBeEnabled()){const s=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=s.style.left||"",this._previousHTMLStyles.top=s.style.top||"",s.style.left=Wi(-this._previousScrollPosition.left),s.style.top=Wi(-this._previousScrollPosition.top),s.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const s=this._document.documentElement,l=s.style,p=this._document.body.style,C=l.scrollBehavior||"",N=p.scrollBehavior||"";this._isEnabled=!1,l.left=this._previousHTMLStyles.left,l.top=this._previousHTMLStyles.top,s.classList.remove("cdk-global-scrollblock"),hf&&(l.scrollBehavior=p.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hf&&(l.scrollBehavior=C,p.scrollBehavior=N)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const u=this._document.body,l=this._viewportRuler.getViewportSize();return u.scrollHeight>l.height||u.scrollWidth>l.width}}class op{constructor(s,u,l,p){this._scrollDispatcher=s,this._ngZone=u,this._viewportRuler=l,this._config=p,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(s){this._overlayRef=s}enable(){if(this._scrollSubscription)return;const s=this._scrollDispatcher.scrolled(0).pipe((0,$i.h)(u=>!u||!this._overlayRef.overlayElement.contains(u.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=s.subscribe(()=>{const u=this._viewportRuler.getViewportScrollPosition().top;Math.abs(u-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=s.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ch{enable(){}disable(){}attach(){}}function ff(d,s){return s.some(u=>d.bottom<u.top||d.top>u.bottom||d.right<u.left||d.left>u.right)}function pm(d,s){return s.some(u=>d.top<u.top||d.bottom>u.bottom||d.left<u.left||d.right>u.right)}class Qa{constructor(s,u,l,p){this._scrollDispatcher=s,this._viewportRuler=u,this._ngZone=l,this._config=p,this._scrollSubscription=null}attach(s){this._overlayRef=s}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const u=this._overlayRef.overlayElement.getBoundingClientRect(),{width:l,height:p}=this._viewportRuler.getViewportSize();ff(u,[{width:l,height:p,bottom:p,right:l,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ig=(()=>{var d;class s{constructor(l,p,C,N){this._scrollDispatcher=l,this._viewportRuler=p,this._ngZone=C,this.noop=()=>new ch,this.close=X=>new op(this._scrollDispatcher,this._ngZone,this._viewportRuler,X),this.block=()=>new Ni(this._viewportRuler,this._document),this.reposition=X=>new Qa(this._scrollDispatcher,this._viewportRuler,this._ngZone,X),this._document=N}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(vu),_.LFG(N_),_.LFG(_.R0b),_.LFG(_e.K0))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();class pf{constructor(s){if(this.scrollStrategy=new ch,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,s){const u=Object.keys(s);for(const l of u)void 0!==s[l]&&(this[l]=s[l])}}}class yu{constructor(s,u){this.connectionPair=s,this.scrollableViewProperties=u}}let Qu=(()=>{var d;class s{constructor(l){this._attachedOverlays=[],this._document=l}ngOnDestroy(){this.detach()}add(l){this.remove(l),this._attachedOverlays.push(l)}remove(l){const p=this._attachedOverlays.indexOf(l);p>-1&&this._attachedOverlays.splice(p,1),0===this._attachedOverlays.length&&this.detach()}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_e.K0))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),B_=(()=>{var d;class s extends Qu{constructor(l,p){super(l),this._ngZone=p,this._keydownListener=C=>{const N=this._attachedOverlays;for(let X=N.length-1;X>-1;X--)if(N[X]._keydownEvents.observers.length>0){const de=N[X]._keydownEvents;this._ngZone?this._ngZone.run(()=>de.next(C)):de.next(C);break}}}add(l){super.add(l),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_e.K0),_.LFG(_.R0b,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),yc=(()=>{var d;class s extends Qu{constructor(l,p,C){super(l),this._platform=p,this._ngZone=C,this._cursorStyleIsSet=!1,this._pointerDownListener=N=>{this._pointerDownEventTarget=Ai(N)},this._clickListener=N=>{const X=Ai(N),de="click"===N.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:X;this._pointerDownEventTarget=null;const xe=this._attachedOverlays.slice();for(let Je=xe.length-1;Je>-1;Je--){const _t=xe[Je];if(_t._outsidePointerEvents.observers.length<1||!_t.hasAttached())continue;if(_t.overlayElement.contains(X)||_t.overlayElement.contains(de))break;const Rn=_t._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Rn.next(N)):Rn.next(N)}}}add(l){if(super.add(l),!this._isAttached){const p=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(p)):this._addEventListeners(p),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=p.style.cursor,p.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const l=this._document.body;l.removeEventListener("pointerdown",this._pointerDownListener,!0),l.removeEventListener("click",this._clickListener,!0),l.removeEventListener("auxclick",this._clickListener,!0),l.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(l.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(l){l.addEventListener("pointerdown",this._pointerDownListener,!0),l.addEventListener("click",this._clickListener,!0),l.addEventListener("auxclick",this._clickListener,!0),l.addEventListener("contextmenu",this._clickListener,!0)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_e.K0),_.LFG(ms),_.LFG(_.R0b,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),xg=(()=>{var d;class s{constructor(l,p){this._platform=p,this._document=l}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const l="cdk-overlay-container";if(this._platform.isBrowser||Ao()){const C=this._document.querySelectorAll(`.${l}[platform="server"], .${l}[platform="test"]`);for(let N=0;N<C.length;N++)C[N].remove()}const p=this._document.createElement("div");p.classList.add(l),Ao()?p.setAttribute("platform","test"):this._platform.isBrowser||p.setAttribute("platform","server"),this._document.body.appendChild(p),this._containerElement=p}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_e.K0),_.LFG(ms))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();class bu{constructor(s,u,l,p,C,N,X,de,xe,Je=!1){this._portalOutlet=s,this._host=u,this._pane=l,this._config=p,this._ngZone=C,this._keyboardDispatcher=N,this._document=X,this._location=de,this._outsideClickDispatcher=xe,this._animationsDisabled=Je,this._backdropElement=null,this._backdropClick=new Xr.x,this._attachments=new Xr.x,this._detachments=new Xr.x,this._locationChanges=Jl.w0.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new Xr.x,this._outsidePointerEvents=new Xr.x,p.scrollStrategy&&(this._scrollStrategy=p.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=p.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(s){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const u=this._portalOutlet.attach(s);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ju.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof u?.onDestroy&&u.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),u}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const s=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),s}dispose(){const s=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,s&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(s){s!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=s,this.hasAttached()&&(s.attach(this),this.updatePosition()))}updateSize(s){this._config={...this._config,...s},this._updateElementSize()}setDirection(s){this._config={...this._config,direction:s},this._updateElementDirection()}addPanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!0)}removePanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!1)}getDirection(){const s=this._config.direction;return s?"string"==typeof s?s:s.value:"ltr"}updateScrollStrategy(s){s!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=s,this.hasAttached()&&(s.attach(this),s.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const s=this._pane.style;s.width=Wi(this._config.width),s.height=Wi(this._config.height),s.minWidth=Wi(this._config.minWidth),s.minHeight=Wi(this._config.minHeight),s.maxWidth=Wi(this._config.maxWidth),s.maxHeight=Wi(this._config.maxHeight)}_togglePointerEvents(s){this._pane.style.pointerEvents=s?"":"none"}_attachBackdrop(){const s="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(s)})}):this._backdropElement.classList.add(s)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const s=this._backdropElement;if(s){if(this._animationsDisabled)return void this._disposeBackdrop(s);s.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{s.addEventListener("transitionend",this._backdropTransitionendHandler)}),s.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(s)},500))}}_toggleClasses(s,u,l){const p=Gi(u||[]).filter(C=>!!C);p.length&&(l?s.classList.add(...p):s.classList.remove(...p))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const s=this._ngZone.onStable.pipe((0,za.R)((0,fm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),s.unsubscribe())})})}_disposeScrollStrategy(){const s=this._scrollStrategy;s&&(s.disable(),s.detach&&s.detach())}_disposeBackdrop(s){s&&(s.removeEventListener("click",this._backdropClickHandler),s.removeEventListener("transitionend",this._backdropTransitionendHandler),s.remove(),this._backdropElement===s&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gf="cdk-overlay-connected-position-bounding-box",xy=/([A-Za-z%]+)$/;class mm{get positions(){return this._preferredPositions}constructor(s,u,l,p,C){this._viewportRuler=u,this._document=l,this._platform=p,this._overlayContainer=C,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xr.x,this._resizeSubscription=Jl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(s)}attach(s){this._validatePositions(),s.hostElement.classList.add(gf),this._overlayRef=s,this._boundingBox=s.hostElement,this._pane=s.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._originRect,u=this._overlayRect,l=this._viewportRect,p=this._containerRect,C=[];let N;for(let X of this._preferredPositions){let de=this._getOriginPoint(s,p,X),xe=this._getOverlayPoint(de,u,X),Je=this._getOverlayFit(xe,u,l,X);if(Je.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(X,de);this._canFitWithFlexibleDimensions(Je,xe,l)?C.push({position:X,origin:de,overlayRect:u,boundingBoxRect:this._calculateBoundingBoxRect(de,X)}):(!N||N.overlayFit.visibleArea<Je.visibleArea)&&(N={overlayFit:Je,overlayPoint:xe,originPoint:de,position:X,overlayRect:u})}if(C.length){let X=null,de=-1;for(const xe of C){const Je=xe.boundingBoxRect.width*xe.boundingBoxRect.height*(xe.position.weight||1);Je>de&&(de=Je,X=xe)}return this._isPushed=!1,void this._applyPosition(X.position,X.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(N.position,N.originPoint);this._applyPosition(N.position,N.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const s=this._lastPosition;if(s){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const u=this._getOriginPoint(this._originRect,this._containerRect,s);this._applyPosition(s,u)}else this.apply()}withScrollableContainers(s){return this._scrollables=s,this}withPositions(s){return this._preferredPositions=s,-1===s.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(s){return this._viewportMargin=s,this}withFlexibleDimensions(s=!0){return this._hasFlexibleDimensions=s,this}withGrowAfterOpen(s=!0){return this._growAfterOpen=s,this}withPush(s=!0){return this._canPush=s,this}withLockedPosition(s=!0){return this._positionLocked=s,this}setOrigin(s){return this._origin=s,this}withDefaultOffsetX(s){return this._offsetX=s,this}withDefaultOffsetY(s){return this._offsetY=s,this}withTransformOriginOn(s){return this._transformOriginSelector=s,this}_getOriginPoint(s,u,l){let p,C;if("center"==l.originX)p=s.left+s.width/2;else{const N=this._isRtl()?s.right:s.left,X=this._isRtl()?s.left:s.right;p="start"==l.originX?N:X}return u.left<0&&(p-=u.left),C="center"==l.originY?s.top+s.height/2:"top"==l.originY?s.top:s.bottom,u.top<0&&(C-=u.top),{x:p,y:C}}_getOverlayPoint(s,u,l){let p,C;return p="center"==l.overlayX?-u.width/2:"start"===l.overlayX?this._isRtl()?-u.width:0:this._isRtl()?0:-u.width,C="center"==l.overlayY?-u.height/2:"top"==l.overlayY?0:-u.height,{x:s.x+p,y:s.y+C}}_getOverlayFit(s,u,l,p){const C=lp(u);let{x:N,y:X}=s,de=this._getOffset(p,"x"),xe=this._getOffset(p,"y");de&&(N+=de),xe&&(X+=xe);let Rn=0-X,An=X+C.height-l.height,pn=this._subtractOverflows(C.width,0-N,N+C.width-l.width),xn=this._subtractOverflows(C.height,Rn,An),Ur=pn*xn;return{visibleArea:Ur,isCompletelyWithinViewport:C.width*C.height===Ur,fitsInViewportVertically:xn===C.height,fitsInViewportHorizontally:pn==C.width}}_canFitWithFlexibleDimensions(s,u,l){if(this._hasFlexibleDimensions){const p=l.bottom-u.y,C=l.right-u.x,N=bc(this._overlayRef.getConfig().minHeight),X=bc(this._overlayRef.getConfig().minWidth);return(s.fitsInViewportVertically||null!=N&&N<=p)&&(s.fitsInViewportHorizontally||null!=X&&X<=C)}return!1}_pushOverlayOnScreen(s,u,l){if(this._previousPushAmount&&this._positionLocked)return{x:s.x+this._previousPushAmount.x,y:s.y+this._previousPushAmount.y};const p=lp(u),C=this._viewportRect,N=Math.max(s.x+p.width-C.width,0),X=Math.max(s.y+p.height-C.height,0),de=Math.max(C.top-l.top-s.y,0),xe=Math.max(C.left-l.left-s.x,0);let Je=0,_t=0;return Je=p.width<=C.width?xe||-N:s.x<this._viewportMargin?C.left-l.left-s.x:0,_t=p.height<=C.height?de||-X:s.y<this._viewportMargin?C.top-l.top-s.y:0,this._previousPushAmount={x:Je,y:_t},{x:s.x+Je,y:s.y+_t}}_applyPosition(s,u){if(this._setTransformOrigin(s),this._setOverlayElementStyles(u,s),this._setBoundingBoxStyles(u,s),s.panelClass&&this._addPanelClasses(s.panelClass),this._lastPosition=s,this._positionChanges.observers.length){const l=this._getScrollVisibility(),p=new yu(s,l);this._positionChanges.next(p)}this._isInitialRender=!1}_setTransformOrigin(s){if(!this._transformOriginSelector)return;const u=this._boundingBox.querySelectorAll(this._transformOriginSelector);let l,p=s.overlayY;l="center"===s.overlayX?"center":this._isRtl()?"start"===s.overlayX?"right":"left":"start"===s.overlayX?"left":"right";for(let C=0;C<u.length;C++)u[C].style.transformOrigin=`${l} ${p}`}_calculateBoundingBoxRect(s,u){const l=this._viewportRect,p=this._isRtl();let C,N,X,Je,_t,Rn;if("top"===u.overlayY)N=s.y,C=l.height-N+this._viewportMargin;else if("bottom"===u.overlayY)X=l.height-s.y+2*this._viewportMargin,C=l.height-X+this._viewportMargin;else{const An=Math.min(l.bottom-s.y+l.top,s.y),pn=this._lastBoundingBoxSize.height;C=2*An,N=s.y-An,C>pn&&!this._isInitialRender&&!this._growAfterOpen&&(N=s.y-pn/2)}if("end"===u.overlayX&&!p||"start"===u.overlayX&&p)Rn=l.width-s.x+this._viewportMargin,Je=s.x-this._viewportMargin;else if("start"===u.overlayX&&!p||"end"===u.overlayX&&p)_t=s.x,Je=l.right-s.x;else{const An=Math.min(l.right-s.x+l.left,s.x),pn=this._lastBoundingBoxSize.width;Je=2*An,_t=s.x-An,Je>pn&&!this._isInitialRender&&!this._growAfterOpen&&(_t=s.x-pn/2)}return{top:N,left:_t,bottom:X,right:Rn,width:Je,height:C}}_setBoundingBoxStyles(s,u){const l=this._calculateBoundingBoxRect(s,u);!this._isInitialRender&&!this._growAfterOpen&&(l.height=Math.min(l.height,this._lastBoundingBoxSize.height),l.width=Math.min(l.width,this._lastBoundingBoxSize.width));const p={};if(this._hasExactPosition())p.top=p.left="0",p.bottom=p.right=p.maxHeight=p.maxWidth="",p.width=p.height="100%";else{const C=this._overlayRef.getConfig().maxHeight,N=this._overlayRef.getConfig().maxWidth;p.height=Wi(l.height),p.top=Wi(l.top),p.bottom=Wi(l.bottom),p.width=Wi(l.width),p.left=Wi(l.left),p.right=Wi(l.right),p.alignItems="center"===u.overlayX?"center":"end"===u.overlayX?"flex-end":"flex-start",p.justifyContent="center"===u.overlayY?"center":"bottom"===u.overlayY?"flex-end":"flex-start",C&&(p.maxHeight=Wi(C)),N&&(p.maxWidth=Wi(N))}this._lastBoundingBoxSize=l,Eu(this._boundingBox.style,p)}_resetBoundingBoxStyles(){Eu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(s,u){const l={},p=this._hasExactPosition(),C=this._hasFlexibleDimensions,N=this._overlayRef.getConfig();if(p){const Je=this._viewportRuler.getViewportScrollPosition();Eu(l,this._getExactOverlayY(u,s,Je)),Eu(l,this._getExactOverlayX(u,s,Je))}else l.position="static";let X="",de=this._getOffset(u,"x"),xe=this._getOffset(u,"y");de&&(X+=`translateX(${de}px) `),xe&&(X+=`translateY(${xe}px)`),l.transform=X.trim(),N.maxHeight&&(p?l.maxHeight=Wi(N.maxHeight):C&&(l.maxHeight="")),N.maxWidth&&(p?l.maxWidth=Wi(N.maxWidth):C&&(l.maxWidth="")),Eu(this._pane.style,l)}_getExactOverlayY(s,u,l){let p={top:"",bottom:""},C=this._getOverlayPoint(u,this._overlayRect,s);return this._isPushed&&(C=this._pushOverlayOnScreen(C,this._overlayRect,l)),"bottom"===s.overlayY?p.bottom=this._document.documentElement.clientHeight-(C.y+this._overlayRect.height)+"px":p.top=Wi(C.y),p}_getExactOverlayX(s,u,l){let N,p={left:"",right:""},C=this._getOverlayPoint(u,this._overlayRect,s);return this._isPushed&&(C=this._pushOverlayOnScreen(C,this._overlayRect,l)),N=this._isRtl()?"end"===s.overlayX?"left":"right":"end"===s.overlayX?"right":"left","right"===N?p.right=this._document.documentElement.clientWidth-(C.x+this._overlayRect.width)+"px":p.left=Wi(C.x),p}_getScrollVisibility(){const s=this._getOriginRect(),u=this._pane.getBoundingClientRect(),l=this._scrollables.map(p=>p.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pm(s,l),isOriginOutsideView:ff(s,l),isOverlayClipped:pm(u,l),isOverlayOutsideView:ff(u,l)}}_subtractOverflows(s,...u){return u.reduce((l,p)=>l-Math.max(p,0),s)}_getNarrowedViewportRect(){const s=this._document.documentElement.clientWidth,u=this._document.documentElement.clientHeight,l=this._viewportRuler.getViewportScrollPosition();return{top:l.top+this._viewportMargin,left:l.left+this._viewportMargin,right:l.left+s-this._viewportMargin,bottom:l.top+u-this._viewportMargin,width:s-2*this._viewportMargin,height:u-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(s,u){return"x"===u?null==s.offsetX?this._offsetX:s.offsetX:null==s.offsetY?this._offsetY:s.offsetY}_validatePositions(){}_addPanelClasses(s){this._pane&&Gi(s).forEach(u=>{""!==u&&-1===this._appliedPanelClasses.indexOf(u)&&(this._appliedPanelClasses.push(u),this._pane.classList.add(u))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(s=>{this._pane.classList.remove(s)}),this._appliedPanelClasses=[])}_getOriginRect(){const s=this._origin;if(s instanceof _.SBq)return s.nativeElement.getBoundingClientRect();if(s instanceof Element)return s.getBoundingClientRect();const u=s.width||0,l=s.height||0;return{top:s.y,bottom:s.y+l,left:s.x,right:s.x+u,height:l,width:u}}}function Eu(d,s){for(let u in s)s.hasOwnProperty(u)&&(d[u]=s[u]);return d}function bc(d){if("number"!=typeof d&&null!=d){const[s,u]=d.split(xy);return u&&"px"!==u?null:parseFloat(s)}return d||null}function lp(d){return{top:Math.floor(d.top),right:Math.floor(d.right),bottom:Math.floor(d.bottom),left:Math.floor(d.left),width:Math.floor(d.width),height:Math.floor(d.height)}}const j_="cdk-global-overlay-wrapper";class Tg{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(s){const u=s.getConfig();this._overlayRef=s,this._width&&!u.width&&s.updateSize({width:this._width}),this._height&&!u.height&&s.updateSize({height:this._height}),s.hostElement.classList.add(j_),this._isDisposed=!1}top(s=""){return this._bottomOffset="",this._topOffset=s,this._alignItems="flex-start",this}left(s=""){return this._xOffset=s,this._xPosition="left",this}bottom(s=""){return this._topOffset="",this._bottomOffset=s,this._alignItems="flex-end",this}right(s=""){return this._xOffset=s,this._xPosition="right",this}start(s=""){return this._xOffset=s,this._xPosition="start",this}end(s=""){return this._xOffset=s,this._xPosition="end",this}width(s=""){return this._overlayRef?this._overlayRef.updateSize({width:s}):this._width=s,this}height(s=""){return this._overlayRef?this._overlayRef.updateSize({height:s}):this._height=s,this}centerHorizontally(s=""){return this.left(s),this._xPosition="center",this}centerVertically(s=""){return this.top(s),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const s=this._overlayRef.overlayElement.style,u=this._overlayRef.hostElement.style,l=this._overlayRef.getConfig(),{width:p,height:C,maxWidth:N,maxHeight:X}=l,de=!("100%"!==p&&"100vw"!==p||N&&"100%"!==N&&"100vw"!==N),xe=!("100%"!==C&&"100vh"!==C||X&&"100%"!==X&&"100vh"!==X),Je=this._xPosition,_t=this._xOffset,Rn="rtl"===this._overlayRef.getConfig().direction;let An="",pn="",xn="";de?xn="flex-start":"center"===Je?(xn="center",Rn?pn=_t:An=_t):Rn?"left"===Je||"end"===Je?(xn="flex-end",An=_t):("right"===Je||"start"===Je)&&(xn="flex-start",pn=_t):"left"===Je||"start"===Je?(xn="flex-start",An=_t):("right"===Je||"end"===Je)&&(xn="flex-end",pn=_t),s.position=this._cssPosition,s.marginLeft=de?"0":An,s.marginTop=xe?"0":this._topOffset,s.marginBottom=this._bottomOffset,s.marginRight=de?"0":pn,u.justifyContent=xn,u.alignItems=xe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const s=this._overlayRef.overlayElement.style,u=this._overlayRef.hostElement,l=u.style;u.classList.remove(j_),l.justifyContent=l.alignItems=s.marginTop=s.marginBottom=s.marginLeft=s.marginRight=s.position="",this._overlayRef=null,this._isDisposed=!0}}let _f=(()=>{var d;class s{constructor(l,p,C,N){this._viewportRuler=l,this._document=p,this._platform=C,this._overlayContainer=N}global(){return new Tg}flexibleConnectedTo(l){return new mm(l,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(N_),_.LFG(_e.K0),_.LFG(ms),_.LFG(xg))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),H_=0,wu=(()=>{var d;class s{constructor(l,p,C,N,X,de,xe,Je,_t,Rn,An,pn){this.scrollStrategies=l,this._overlayContainer=p,this._componentFactoryResolver=C,this._positionBuilder=N,this._keyboardDispatcher=X,this._injector=de,this._ngZone=xe,this._document=Je,this._directionality=_t,this._location=Rn,this._outsideClickDispatcher=An,this._animationsModuleType=pn}create(l){const p=this._createHostElement(),C=this._createPaneElement(p),N=this._createPortalOutlet(C),X=new pf(l);return X.direction=X.direction||this._directionality.value,new bu(N,p,C,X,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(l){const p=this._document.createElement("div");return p.id="cdk-overlay-"+H_++,p.classList.add("cdk-overlay-pane"),l.appendChild(p),p}_createHostElement(){const l=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(l),l}_createPortalOutlet(l){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new oh(l,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(Ig),_.LFG(xg),_.LFG(_._Vd),_.LFG(_f),_.LFG(B_),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(_e.K0),_.LFG(Ed),_.LFG(_e.Ye),_.LFG(yc),_.LFG(_.QbO,8))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();const Sg={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[wu],useFactory:function Dg(d){return()=>d.scrollStrategies.reposition()}};let Lb=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({providers:[wu,Sg],imports:[j,tp,wg,wg]}),s})();function Ea(d,s){if(1&d){const u=_.EpF();_.TgZ(0,"div",2)(1,"button",3),_.NdJ("click",function(){_.CHM(u);const p=_.oxw();return _.KtG(p.action())}),_._uU(2),_.qZA()()}if(2&d){const u=_.oxw();_.xp6(2),_.hij(" ",u.data.action," ")}}const Dy=["label"];function Vb(d,s){}const Ub=Math.pow(2,31)-1;class vf{constructor(s,u){this._overlayRef=u,this._afterDismissed=new Xr.x,this._afterOpened=new Xr.x,this._onAction=new Xr.x,this._dismissedByAction=!1,this.containerInstance=s,s._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(s){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(s,Ub))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const vm=new _.OlP("MatSnackBarData");class yf{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let bf=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),s})(),Xu=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),s})(),Ag=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),s})(),ym=(()=>{var d;class s{constructor(l,p){this.snackBarRef=l,this.data=p}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(vf),_.Y36(vm))},d.\u0275cmp=_.Xpm({type:d,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(l,p){1&l&&(_.TgZ(0,"div",0),_._uU(1),_.qZA(),_.YNc(2,Ea,3,1,"div",1)),2&l&&(_.xp6(1),_.hij(" ",p.data.message,"\n"),_.xp6(1),_.Q6J("ngIf",p.hasAction))},dependencies:[_e.O5,mu,bf,Xu,Ag],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),s})();const uh={snackBarState:un("state",[Ls("void, hidden",bs({transform:"scale(0.8)",opacity:0})),Ls("visible",bs({transform:"scale(1)",opacity:1})),Io("* => visible",Cn("150ms cubic-bezier(0, 0, 0.2, 1)")),Io("* => void, * => hidden",Cn("75ms cubic-bezier(0.4, 0.0, 1, 1)",bs({opacity:0})))])};let Ef=0,Iu=(()=>{var d;class s extends sf{constructor(l,p,C,N,X){super(),this._ngZone=l,this._elementRef=p,this._changeDetectorRef=C,this._platform=N,this.snackBarConfig=X,this._document=(0,_.f3M)(_e.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Xr.x,this._onExit=new Xr.x,this._onEnter=new Xr.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Ef++,this.attachDomPortal=de=>{this._assertNotAttached();const xe=this._portalOutlet.attachDomPortal(de);return this._afterPortalAttached(),xe},this._live="assertive"!==X.politeness||X.announcementMessage?"off"===X.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(l){this._assertNotAttached();const p=this._portalOutlet.attachComponentPortal(l);return this._afterPortalAttached(),p}attachTemplatePortal(l){this._assertNotAttached();const p=this._portalOutlet.attachTemplatePortal(l);return this._afterPortalAttached(),p}onAnimationEnd(l){const{fromState:p,toState:C}=l;if(("void"===C&&"void"!==p||"hidden"===C)&&this._completeExit(),"visible"===C){const N=this._onEnter;this._ngZone.run(()=>{N.next(),N.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ju.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const l=this._elementRef.nativeElement,p=this.snackBarConfig.panelClass;p&&(Array.isArray(p)?p.forEach(C=>l.classList.add(C)):l.classList.add(p)),this._exposeToModals()}_exposeToModals(){const l=this._liveElementId,p=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let C=0;C<p.length;C++){const N=p[C],X=N.getAttribute("aria-owns");this._trackedModals.add(N),X?-1===X.indexOf(l)&&N.setAttribute("aria-owns",X+" "+l):N.setAttribute("aria-owns",l)}}_clearFromModals(){this._trackedModals.forEach(l=>{const p=l.getAttribute("aria-owns");if(p){const C=p.replace(this._liveElementId,"").trim();C.length>0?l.setAttribute("aria-owns",C):l.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const l=this._elementRef.nativeElement.querySelector("[aria-hidden]"),p=this._elementRef.nativeElement.querySelector("[aria-live]");if(l&&p){let C=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&l.contains(document.activeElement)&&(C=document.activeElement),l.removeAttribute("aria-hidden"),p.appendChild(l),C?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.R0b),_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(ms),_.Y36(yf))},d.\u0275dir=_.lG2({type:d,viewQuery:function(l,p){if(1&l&&_.Gf(ep,7),2&l){let C;_.iGM(C=_.CRH())&&(p._portalOutlet=C.first)}},features:[_.qOj]}),s})(),wf=(()=>{var d;class s extends Iu{_afterPortalAttached(){super._afterPortalAttached();const l=this._label.nativeElement,p="mdc-snackbar__label";l.classList.toggle(p,!l.querySelector(`.${p}`))}}return(d=s).\u0275fac=function(){let u;return function(p){return(u||(u=_.n5z(d)))(p||d)}}(),d.\u0275cmp=_.Xpm({type:d,selectors:[["mat-snack-bar-container"]],viewQuery:function(l,p){if(1&l&&_.Gf(Dy,7),2&l){let C;_.iGM(C=_.CRH())&&(p._label=C.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(l,p){1&l&&_.WFA("@state.done",function(N){return p.onAnimationEnd(N)}),2&l&&_.d8E("@state",p._animationState)},features:[_.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(l,p){1&l&&(_.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),_.YNc(4,Vb,0,0,"ng-template",4),_.qZA(),_._UZ(5,"div"),_.qZA()()),2&l&&(_.xp6(5),_.uIk("aria-live",p._live)("role",p._role)("id",p._liveElementId))},dependencies:[ep],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[uh.snackBarState]}}),s})(),If=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[Lb,tp,_e.ez,pe,qi,qi]}),s})();const G_=new _.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Cf(){return new yf}});let Mg=(()=>{var d;class s{get _openedSnackBarRef(){const l=this._parentSnackBar;return l?l._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(l){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=l:this._snackBarRefAtThisLevel=l}constructor(l,p,C,N,X,de){this._overlay=l,this._live=p,this._injector=C,this._breakpointObserver=N,this._parentSnackBar=X,this._defaultConfig=de,this._snackBarRefAtThisLevel=null}openFromComponent(l,p){return this._attach(l,p)}openFromTemplate(l,p){return this._attach(l,p)}open(l,p="",C){const N={...this._defaultConfig,...C};return N.data={message:l,action:p},N.announcementMessage===l&&(N.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,N)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(l,p){const N=_.zs3.create({parent:p&&p.viewContainerRef&&p.viewContainerRef.injector||this._injector,providers:[{provide:yf,useValue:p}]}),X=new rm(this.snackBarContainerComponent,p.viewContainerRef,N),de=l.attach(X);return de.instance.snackBarConfig=p,de.instance}_attach(l,p){const C={...new yf,...this._defaultConfig,...p},N=this._createOverlay(C),X=this._attachSnackBarContainer(N,C),de=new vf(X,N);if(l instanceof _.Rgc){const xe=new S_(l,null,{$implicit:C.data,snackBarRef:de});de.instance=X.attachTemplatePortal(xe)}else{const xe=this._createInjector(C,de),Je=new rm(l,void 0,xe),_t=X.attachComponentPortal(Je);de.instance=_t.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,za.R)(N.detachments())).subscribe(xe=>{N.overlayElement.classList.toggle(this.handsetCssClass,xe.matches)}),C.announcementMessage&&X._onAnnounce.subscribe(()=>{this._live.announce(C.announcementMessage,C.politeness)}),this._animateSnackBar(de,C),this._openedSnackBarRef=de,this._openedSnackBarRef}_animateSnackBar(l,p){l.afterDismissed().subscribe(()=>{this._openedSnackBarRef==l&&(this._openedSnackBarRef=null),p.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{l.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):l.containerInstance.enter(),p.duration&&p.duration>0&&l.afterOpened().subscribe(()=>l._dismissAfter(p.duration))}_createOverlay(l){const p=new pf;p.direction=l.direction;let C=this._overlay.position().global();const N="rtl"===l.direction,X="left"===l.horizontalPosition||"start"===l.horizontalPosition&&!N||"end"===l.horizontalPosition&&N,de=!X&&"center"!==l.horizontalPosition;return X?C.left("0"):de?C.right("0"):C.centerHorizontally(),"top"===l.verticalPosition?C.top("0"):C.bottom("0"),p.positionStrategy=C,this._overlay.create(p)}_createInjector(l,p){return _.zs3.create({parent:l&&l.viewContainerRef&&l.viewContainerRef.injector||this._injector,providers:[{provide:vf,useValue:p},{provide:vm,useValue:l.data}]})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(wu),_.LFG(Kn),_.LFG(_.zs3),_.LFG(aa),_.LFG(d,12),_.LFG(G_))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})(),dh=(()=>{var d;class s extends Mg{constructor(l,p,C,N,X,de){super(l,p,C,N,X,de),this.simpleSnackBarComponent=ym,this.snackBarContainerComponent=wf,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(wu),_.LFG(Kn),_.LFG(_.zs3),_.LFG(aa),_.LFG(d,12),_.LFG(G_))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:If}),s})();var W_=K(940);class q_{constructor(s){this._box=s,this._destroyed=new Xr.x,this._resizeSubject=new Xr.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(u=>this._resizeSubject.next(u)))}observe(s){return this._elementObservables.has(s)||this._elementObservables.set(s,new Ae.y(u=>{const l=this._resizeSubject.subscribe(u);return this._resizeObserver?.observe(s,{box:this._box}),()=>{this._resizeObserver?.unobserve(s),l.unsubscribe(),this._elementObservables.delete(s)}}).pipe((0,$i.h)(u=>u.some(l=>l.target===s)),(0,W_.d)({bufferSize:1,refCount:!0}),(0,za.R)(this._destroyed))),this._elementObservables.get(s)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ay=(()=>{var d;class s{constructor(){this._observers=new Map,this._ngZone=(0,_.f3M)(_.R0b)}ngOnDestroy(){for(const[,l]of this._observers)l.destroy();this._observers.clear()}observe(l,p){const C=p?.box||"content-box";return this._observers.has(C)||this._observers.set(C,new q_(C)),this._observers.get(C).observe(l)}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),bm=(()=>{var d;class s{create(l){return typeof MutationObserver>"u"?null:new MutationObserver(l)}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),xf=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({providers:[bm]}),s})();const Rg=["notch"],K_=["matFormFieldNotchedOutline",""],dp=["*"],Em=["textField"],Ry=["iconPrefixContainer"],Z_=["textPrefixContainer"];function wm(d,s){1&d&&_._UZ(0,"span",19)}function hp(d,s){if(1&d&&(_.TgZ(0,"label",17),_.Hsn(1,1),_.YNc(2,wm,1,0,"span",18),_.qZA()),2&d){const u=_.oxw(2);_.Q6J("floating",u._shouldLabelFloat())("monitorResize",u._hasOutline())("id",u._labelId),_.uIk("for",u._control.id),_.xp6(2),_.Q6J("ngIf",!u.hideRequiredMarker&&u._control.required)}}function Og(d,s){if(1&d&&_.YNc(0,hp,3,5,"label",16),2&d){const u=_.oxw();_.Q6J("ngIf",u._hasFloatingLabel())}}function fp(d,s){1&d&&_._UZ(0,"div",20)}function pp(d,s){}function mp(d,s){if(1&d&&_.YNc(0,pp,0,0,"ng-template",22),2&d){_.oxw(2);const u=_.MAs(1);_.Q6J("ngTemplateOutlet",u)}}function Y_(d,s){if(1&d&&(_.TgZ(0,"div",21),_.YNc(1,mp,1,1,"ng-template",9),_.qZA()),2&d){const u=_.oxw();_.Q6J("matFormFieldNotchedOutlineOpen",u._shouldLabelFloat()),_.xp6(1),_.Q6J("ngIf",!u._forceDisplayInfixLabel())}}function Pg(d,s){1&d&&(_.TgZ(0,"div",23,24),_.Hsn(2,2),_.qZA())}function hh(d,s){1&d&&(_.TgZ(0,"div",25,26),_.Hsn(2,3),_.qZA())}function Q_(d,s){}function Tf(d,s){if(1&d&&_.YNc(0,Q_,0,0,"ng-template",22),2&d){_.oxw();const u=_.MAs(1);_.Q6J("ngTemplateOutlet",u)}}function Df(d,s){1&d&&(_.TgZ(0,"div",27),_.Hsn(1,4),_.qZA())}function Im(d,s){1&d&&(_.TgZ(0,"div",28),_.Hsn(1,5),_.qZA())}function Cm(d,s){1&d&&_._UZ(0,"div",29)}function Oy(d,s){if(1&d&&(_.TgZ(0,"div",30),_.Hsn(1,6),_.qZA()),2&d){const u=_.oxw();_.Q6J("@transitionMessages",u._subscriptAnimationState)}}function Py(d,s){if(1&d&&(_.TgZ(0,"mat-hint",34),_._uU(1),_.qZA()),2&d){const u=_.oxw(2);_.Q6J("id",u._hintLabelId),_.xp6(1),_.Oqu(u.hintLabel)}}function Xa(d,s){if(1&d&&(_.TgZ(0,"div",31),_.YNc(1,Py,2,2,"mat-hint",32),_.Hsn(2,7),_._UZ(3,"div",33),_.Hsn(4,8),_.qZA()),2&d){const u=_.oxw();_.Q6J("@transitionMessages",u._subscriptAnimationState),_.xp6(1),_.Q6J("ngIf",u.hintLabel)}}const X_=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kg=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ju=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["mat-label"]]}),s})(),xm=0;const Sf=new _.OlP("MatError");let Tm=(()=>{var d;class s{constructor(l,p){this.id="mat-mdc-error-"+xm++,l||p.nativeElement.setAttribute("aria-live","polite")}}return(d=s).\u0275fac=function(l){return new(l||d)(_.$8M("aria-live"),_.Y36(_.SBq))},d.\u0275dir=_.lG2({type:d,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(l,p){2&l&&_.Ikx("id",p.id)},inputs:{id:"id"},features:[_._Bn([{provide:Sf,useExisting:d}])]}),s})(),ky=0,J_=(()=>{var d;class s{constructor(){this.align="start",this.id="mat-mdc-hint-"+ky++}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(l,p){2&l&&(_.Ikx("id",p.id),_.uIk("align",null),_.ekj("mat-mdc-form-field-hint-end","end"===p.align))},inputs:{align:"align",id:"id"}}),s})();const ev=new _.OlP("MatPrefix"),Ng=new _.OlP("MatSuffix");let tv=(()=>{var d;class s{constructor(){this._isText=!1}set _isTextSelector(l){this._isText=!0}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[_._Bn([{provide:Ng,useExisting:d}])]}),s})();const Af=new _.OlP("FloatingLabelParent");let Mf=(()=>{var d;class s{get floating(){return this._floating}set floating(l){this._floating=l,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(l){this._monitorResize=l,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(l){this._elementRef=l,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,_.f3M)(Ay),this._ngZone=(0,_.f3M)(_.R0b),this._parent=(0,_.f3M)(Af),this._resizeSubscription=new Jl.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function gp(d){if(null!==d.offsetParent)return d.scrollWidth;const u=d.cloneNode(!0);u.style.setProperty("position","absolute"),u.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(u);const l=u.scrollWidth;return u.remove(),l}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq))},d.\u0275dir=_.lG2({type:d,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(l,p){2&l&&_.ekj("mdc-floating-label--float-above",p.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),s})();const fh="mdc-line-ripple--active",Ja="mdc-line-ripple--deactivating";let _p=(()=>{var d;class s{constructor(l,p){this._elementRef=l,this._handleTransitionEnd=C=>{const N=this._elementRef.nativeElement.classList,X=N.contains(Ja);"opacity"===C.propertyName&&X&&N.remove(fh,Ja)},p.runOutsideAngular(()=>{l.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const l=this._elementRef.nativeElement.classList;l.remove(Ja),l.add(fh)}deactivate(){this._elementRef.nativeElement.classList.add(Ja)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(_.R0b))},d.\u0275dir=_.lG2({type:d,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),s})(),Dm=(()=>{var d;class s{constructor(l,p){this._elementRef=l,this._ngZone=p,this.open=!1}ngAfterViewInit(){const l=this._elementRef.nativeElement.querySelector(".mdc-floating-label");l?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(l.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>l.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(l){this._notch.nativeElement.style.width=this.open&&l?`calc(${l}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(_.R0b))},d.\u0275cmp=_.Xpm({type:d,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(l,p){if(1&l&&_.Gf(Rg,5),2&l){let C;_.iGM(C=_.CRH())&&(p._notch=C.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(l,p){2&l&&_.ekj("mdc-notched-outline--notched",p.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:K_,ngContentSelectors:dp,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(l,p){1&l&&(_.F$t(),_._UZ(0,"div",0),_.TgZ(1,"div",1,2),_.Hsn(3),_.qZA(),_._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),s})();const nv={transitionMessages:un("transitionMessages",[Ls("enter",bs({opacity:1,transform:"translateY(0%)"})),Io("void => enter",[bs({opacity:0,transform:"translateY(-5px)"}),Cn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ed=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275dir=_.lG2({type:d}),s})();const rv=new _.OlP("MatFormField"),Lg=new _.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let qo=0,vp=(()=>{var d;class s{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(l){this._hideRequiredMarker=Fs(l)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(l){l!==this._floatLabel&&(this._floatLabel=l,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(l){const p=this._appearance;this._appearance=l||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==p&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(l){this._subscriptSizing=l||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(l){this._hintLabel=l,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(l){this._explicitFormFieldControl=l}constructor(l,p,C,N,X,de,xe,Je){this._elementRef=l,this._changeDetectorRef=p,this._ngZone=C,this._dir=N,this._platform=X,this._defaults=de,this._animationMode=xe,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+qo++,this._hintLabelId="mat-mdc-hint-"+qo++,this._subscriptAnimationState="",this._destroyed=new Xr.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,de&&(de.appearance&&(this.appearance=de.appearance),this._hideRequiredMarker=!!de?.hideRequiredMarker,de.color&&(this.color=de.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const l=this._control;l.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${l.controlType}`),l.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),l.ngControl&&l.ngControl.valueChanges&&l.ngControl.valueChanges.pipe((0,za.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(l=>!l._isText),this._hasTextPrefix=!!this._prefixChildren.find(l=>l._isText),this._hasIconSuffix=!!this._suffixChildren.find(l=>!l._isText),this._hasTextSuffix=!!this._suffixChildren.find(l=>l._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,fm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,za.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,za.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(l){const p=this._control?this._control.ngControl:null;return p&&p[l]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let l=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&l.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const p=this._hintChildren?this._hintChildren.find(N=>"start"===N.align):null,C=this._hintChildren?this._hintChildren.find(N=>"end"===N.align):null;p?l.push(p.id):this._hintLabel&&l.push(this._hintLabelId),C&&l.push(C.id)}else this._errorChildren&&l.push(...this._errorChildren.map(p=>p.id));this._control.setDescribedByIds(l)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const l=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(l.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const p=this._iconPrefixContainer?.nativeElement,C=this._textPrefixContainer?.nativeElement,N=p?.getBoundingClientRect().width??0,X=C?.getBoundingClientRect().width??0;l.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${N+X}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const l=this._elementRef.nativeElement;if(l.getRootNode){const p=l.getRootNode();return p&&p!==l}return document.documentElement.contains(l)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(Ed),_.Y36(ms),_.Y36(Lg,8),_.Y36(_.QbO,8),_.Y36(_e.K0))},d.\u0275cmp=_.Xpm({type:d,selectors:[["mat-form-field"]],contentQueries:function(l,p,C){if(1&l&&(_.Suo(C,Ju,5),_.Suo(C,Ju,7),_.Suo(C,ed,5),_.Suo(C,ev,5),_.Suo(C,Ng,5),_.Suo(C,Sf,5),_.Suo(C,J_,5)),2&l){let N;_.iGM(N=_.CRH())&&(p._labelChildNonStatic=N.first),_.iGM(N=_.CRH())&&(p._labelChildStatic=N.first),_.iGM(N=_.CRH())&&(p._formFieldControl=N.first),_.iGM(N=_.CRH())&&(p._prefixChildren=N),_.iGM(N=_.CRH())&&(p._suffixChildren=N),_.iGM(N=_.CRH())&&(p._errorChildren=N),_.iGM(N=_.CRH())&&(p._hintChildren=N)}},viewQuery:function(l,p){if(1&l&&(_.Gf(Em,5),_.Gf(Ry,5),_.Gf(Z_,5),_.Gf(Mf,5),_.Gf(Dm,5),_.Gf(_p,5)),2&l){let C;_.iGM(C=_.CRH())&&(p._textField=C.first),_.iGM(C=_.CRH())&&(p._iconPrefixContainer=C.first),_.iGM(C=_.CRH())&&(p._textPrefixContainer=C.first),_.iGM(C=_.CRH())&&(p._floatingLabel=C.first),_.iGM(C=_.CRH())&&(p._notchedOutline=C.first),_.iGM(C=_.CRH())&&(p._lineRipple=C.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(l,p){2&l&&_.ekj("mat-mdc-form-field-label-always-float",p._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",p._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",p._hasIconSuffix)("mat-form-field-invalid",p._control.errorState)("mat-form-field-disabled",p._control.disabled)("mat-form-field-autofilled",p._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===p._animationMode)("mat-form-field-appearance-fill","fill"==p.appearance)("mat-form-field-appearance-outline","outline"==p.appearance)("mat-form-field-hide-placeholder",p._hasFloatingLabel()&&!p._shouldLabelFloat())("mat-focused",p._control.focused)("mat-primary","accent"!==p.color&&"warn"!==p.color)("mat-accent","accent"===p.color)("mat-warn","warn"===p.color)("ng-untouched",p._shouldForward("untouched"))("ng-touched",p._shouldForward("touched"))("ng-pristine",p._shouldForward("pristine"))("ng-dirty",p._shouldForward("dirty"))("ng-valid",p._shouldForward("valid"))("ng-invalid",p._shouldForward("invalid"))("ng-pending",p._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_._Bn([{provide:rv,useExisting:d},{provide:Af,useExisting:d}])],ngContentSelectors:kg,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(l,p){1&l&&(_.F$t(X_),_.YNc(0,Og,1,1,"ng-template",null,0,_.W1O),_.TgZ(2,"div",1,2),_.NdJ("click",function(N){return p._control.onContainerClick(N)}),_.YNc(4,fp,1,0,"div",3),_.TgZ(5,"div",4),_.YNc(6,Y_,2,2,"div",5),_.YNc(7,Pg,3,0,"div",6),_.YNc(8,hh,3,0,"div",7),_.TgZ(9,"div",8),_.YNc(10,Tf,1,1,"ng-template",9),_.Hsn(11),_.qZA(),_.YNc(12,Df,2,0,"div",10),_.YNc(13,Im,2,0,"div",11),_.qZA(),_.YNc(14,Cm,1,0,"div",12),_.qZA(),_.TgZ(15,"div",13),_.YNc(16,Oy,2,1,"div",14),_.YNc(17,Xa,5,2,"div",15),_.qZA()),2&l&&(_.xp6(2),_.ekj("mdc-text-field--filled",!p._hasOutline())("mdc-text-field--outlined",p._hasOutline())("mdc-text-field--no-label",!p._hasFloatingLabel())("mdc-text-field--disabled",p._control.disabled)("mdc-text-field--invalid",p._control.errorState),_.xp6(2),_.Q6J("ngIf",!p._hasOutline()&&!p._control.disabled),_.xp6(2),_.Q6J("ngIf",p._hasOutline()),_.xp6(1),_.Q6J("ngIf",p._hasIconPrefix),_.xp6(1),_.Q6J("ngIf",p._hasTextPrefix),_.xp6(2),_.Q6J("ngIf",!p._hasOutline()||p._forceDisplayInfixLabel()),_.xp6(2),_.Q6J("ngIf",p._hasTextSuffix),_.xp6(1),_.Q6J("ngIf",p._hasIconSuffix),_.xp6(1),_.Q6J("ngIf",!p._hasOutline()),_.xp6(1),_.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===p.subscriptSizing),_.Q6J("ngSwitch",p._getDisplayedMessages()),_.xp6(1),_.Q6J("ngSwitchCase","error"),_.xp6(1),_.Q6J("ngSwitchCase","hint"))},dependencies:[_e.O5,_e.tP,_e.RF,_e.n9,J_,Mf,Dm,_p],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[nv.transitionMessages]},changeDetection:0}),s})(),Sm=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[qi,_e.ez,xf,qi]}),s})();var ov=K(6232);const av=Zr({passive:!0});let lv=(()=>{var d;class s{constructor(l,p){this._platform=l,this._ngZone=p,this._monitoredElements=new Map}monitor(l){if(!this._platform.isBrowser)return ov.E;const p=Sa(l),C=this._monitoredElements.get(p);if(C)return C.subject;const N=new Xr.x,X="cdk-text-field-autofilled",de=xe=>{"cdk-text-field-autofill-start"!==xe.animationName||p.classList.contains(X)?"cdk-text-field-autofill-end"===xe.animationName&&p.classList.contains(X)&&(p.classList.remove(X),this._ngZone.run(()=>N.next({target:xe.target,isAutofilled:!1}))):(p.classList.add(X),this._ngZone.run(()=>N.next({target:xe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{p.addEventListener("animationstart",de,av),p.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(p,{subject:N,unlisten:()=>{p.removeEventListener("animationstart",de,av)}}),N}stopMonitoring(l){const p=Sa(l),C=this._monitoredElements.get(p);C&&(C.unlisten(),C.subject.complete(),p.classList.remove("cdk-text-field-autofill-monitored"),p.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(p))}ngOnDestroy(){this._monitoredElements.forEach((l,p)=>this.stopMonitoring(p))}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(ms),_.LFG(_.R0b))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})(),Rf=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({}),s})();const Am=new _.OlP("MAT_INPUT_VALUE_ACCESSOR"),Wc=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Nl=0;const gh=nh(class{constructor(d,s,u,l){this._defaultErrorStateMatcher=d,this._parentForm=s,this._parentFormGroup=u,this.ngControl=l,this.stateChanges=new Xr.x}});let _h=(()=>{var d;class s extends gh{get disabled(){return this._disabled}set disabled(l){this._disabled=Fs(l),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(l){this._id=l||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Gn.required)??!1}set required(l){this._required=Fs(l)}get type(){return this._type}set type(l){this._type=l||"text",this._validateType(),!this._isTextarea&&gs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(l){l!==this.value&&(this._inputValueAccessor.value=l,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(l){this._readonly=Fs(l)}constructor(l,p,C,N,X,de,xe,Je,_t,Rn){super(de,N,X,C),this._elementRef=l,this._platform=p,this._autofillMonitor=Je,this._formField=Rn,this._uid="mat-input-"+Nl++,this.focused=!1,this.stateChanges=new Xr.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(xn=>gs().has(xn)),this._iOSKeyupListener=xn=>{const Ur=xn.target;!Ur.value&&0===Ur.selectionStart&&0===Ur.selectionEnd&&(Ur.setSelectionRange(1,1),Ur.setSelectionRange(0,0))};const An=this._elementRef.nativeElement,pn=An.nodeName.toLowerCase();this._inputValueAccessor=xe||An,this._previousNativeValue=this.value,this.id=this.id,p.IOS&&_t.runOutsideAngular(()=>{l.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===pn,this._isTextarea="textarea"===pn,this._isInFormField=!!Rn,this._isNativeSelect&&(this.controlType=An.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(l=>{this.autofilled=l.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(l){this._elementRef.nativeElement.focus(l)}_focusChanged(l){l!==this.focused&&(this.focused=l,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const l=this._elementRef.nativeElement.value;this._previousNativeValue!==l&&(this._previousNativeValue=l,this.stateChanges.next())}_dirtyCheckPlaceholder(){const l=this._getPlaceholder();if(l!==this._previousPlaceholder){const p=this._elementRef.nativeElement;this._previousPlaceholder=l,l?p.setAttribute("placeholder",l):p.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Wc.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let l=this._elementRef.nativeElement.validity;return l&&l.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const l=this._elementRef.nativeElement,p=l.options[0];return this.focused||l.multiple||!this.empty||!!(l.selectedIndex>-1&&p&&p.label)}return this.focused||!this.empty}setDescribedByIds(l){l.length?this._elementRef.nativeElement.setAttribute("aria-describedby",l.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const l=this._elementRef.nativeElement;return this._isNativeSelect&&(l.multiple||l.size>1)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(ms),_.Y36(ln,10),_.Y36(cn,8),_.Y36(Hi,8),_.Y36(qp),_.Y36(Am,10),_.Y36(lv),_.Y36(_.R0b),_.Y36(rv,8))},d.\u0275dir=_.lG2({type:d,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(l,p){1&l&&_.NdJ("focus",function(){return p._focusChanged(!0)})("blur",function(){return p._focusChanged(!1)})("input",function(){return p._onInput()}),2&l&&(_.Ikx("id",p.id)("disabled",p.disabled)("required",p.required),_.uIk("name",p.name||null)("readonly",p.readonly&&!p._isNativeSelect||null)("aria-invalid",p.empty&&p.required?null:p.errorState)("aria-required",p.required)("id",p.id),_.ekj("mat-input-server",p._isServer)("mat-mdc-form-field-textarea-control",p._isInFormField&&p._isTextarea)("mat-mdc-form-field-input-control",p._isInFormField)("mdc-text-field__input",p._isInFormField)("mat-mdc-native-select-inline",p._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[_._Bn([{provide:ed,useExisting:d}]),_.qOj,_.TTD]}),s})(),Fy=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[qi,Sm,Sm,Rf,qi]}),s})();var dv=K(8504),vh=K(9397),yh=K(6306),hv=K(4716),jb=K(3020),yp=K(6328);class Cu{}class qc{constructor(s){this.normalizedNames=new Map,this.lazyUpdate=null,s?"string"==typeof s?this.lazyInit=()=>{this.headers=new Map,s.split("\n").forEach(u=>{const l=u.indexOf(":");if(l>0){const p=u.slice(0,l),C=p.toLowerCase(),N=u.slice(l+1).trim();this.maybeSetNormalizedName(p,C),this.headers.has(C)?this.headers.get(C).push(N):this.headers.set(C,[N])}})}:typeof Headers<"u"&&s instanceof Headers?(this.headers=new Map,s.forEach((u,l)=>{this.setHeaderEntries(l,u)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(s).forEach(([u,l])=>{this.setHeaderEntries(u,l)})}:this.headers=new Map}has(s){return this.init(),this.headers.has(s.toLowerCase())}get(s){this.init();const u=this.headers.get(s.toLowerCase());return u&&u.length>0?u[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(s){return this.init(),this.headers.get(s.toLowerCase())||null}append(s,u){return this.clone({name:s,value:u,op:"a"})}set(s,u){return this.clone({name:s,value:u,op:"s"})}delete(s,u){return this.clone({name:s,value:u,op:"d"})}maybeSetNormalizedName(s,u){this.normalizedNames.has(u)||this.normalizedNames.set(u,s)}init(){this.lazyInit&&(this.lazyInit instanceof qc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(s=>this.applyUpdate(s)),this.lazyUpdate=null))}copyFrom(s){s.init(),Array.from(s.headers.keys()).forEach(u=>{this.headers.set(u,s.headers.get(u)),this.normalizedNames.set(u,s.normalizedNames.get(u))})}clone(s){const u=new qc;return u.lazyInit=this.lazyInit&&this.lazyInit instanceof qc?this.lazyInit:this,u.lazyUpdate=(this.lazyUpdate||[]).concat([s]),u}applyUpdate(s){const u=s.name.toLowerCase();switch(s.op){case"a":case"s":let l=s.value;if("string"==typeof l&&(l=[l]),0===l.length)return;this.maybeSetNormalizedName(s.name,u);const p=("a"===s.op?this.headers.get(u):void 0)||[];p.push(...l),this.headers.set(u,p);break;case"d":const C=s.value;if(C){let N=this.headers.get(u);if(!N)return;N=N.filter(X=>-1===C.indexOf(X)),0===N.length?(this.headers.delete(u),this.normalizedNames.delete(u)):this.headers.set(u,N)}else this.headers.delete(u),this.normalizedNames.delete(u)}}setHeaderEntries(s,u){const l=(Array.isArray(u)?u:[u]).map(C=>C.toString()),p=s.toLowerCase();this.headers.set(p,l),this.maybeSetNormalizedName(s,p)}forEach(s){this.init(),Array.from(this.normalizedNames.keys()).forEach(u=>s(this.normalizedNames.get(u),this.headers.get(u)))}}class fv{encodeKey(s){return Ug(s)}encodeValue(s){return Ug(s)}decodeKey(s){return decodeURIComponent(s)}decodeValue(s){return decodeURIComponent(s)}}const mv=/%(\d[a-f0-9])/gi,gv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ug(d){return encodeURIComponent(d).replace(mv,(s,u)=>gv[u]??s)}function Bg(d){return`${d}`}class kd{constructor(s={}){if(this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new fv,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pv(d,s){const u=new Map;return d.length>0&&d.replace(/^\?/,"").split("&").forEach(p=>{const C=p.indexOf("="),[N,X]=-1==C?[s.decodeKey(p),""]:[s.decodeKey(p.slice(0,C)),s.decodeValue(p.slice(C+1))],de=u.get(N)||[];de.push(X),u.set(N,de)}),u}(s.fromString,this.encoder)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach(u=>{const l=s.fromObject[u],p=Array.isArray(l)?l.map(Bg):[Bg(l)];this.map.set(u,p)})):this.map=null}has(s){return this.init(),this.map.has(s)}get(s){this.init();const u=this.map.get(s);return u?u[0]:null}getAll(s){return this.init(),this.map.get(s)||null}keys(){return this.init(),Array.from(this.map.keys())}append(s,u){return this.clone({param:s,value:u,op:"a"})}appendAll(s){const u=[];return Object.keys(s).forEach(l=>{const p=s[l];Array.isArray(p)?p.forEach(C=>{u.push({param:l,value:C,op:"a"})}):u.push({param:l,value:p,op:"a"})}),this.clone(u)}set(s,u){return this.clone({param:s,value:u,op:"s"})}delete(s,u){return this.clone({param:s,value:u,op:"d"})}toString(){return this.init(),this.keys().map(s=>{const u=this.encoder.encodeKey(s);return this.map.get(s).map(l=>u+"="+this.encoder.encodeValue(l)).join("&")}).filter(s=>""!==s).join("&")}clone(s){const u=new kd({encoder:this.encoder});return u.cloneFrom=this.cloneFrom||this,u.updates=(this.updates||[]).concat(s),u}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(s=>this.map.set(s,this.cloneFrom.map.get(s))),this.updates.forEach(s=>{switch(s.op){case"a":case"s":const u=("a"===s.op?this.map.get(s.param):void 0)||[];u.push(Bg(s.value)),this.map.set(s.param,u);break;case"d":if(void 0===s.value){this.map.delete(s.param);break}{let l=this.map.get(s.param)||[];const p=l.indexOf(Bg(s.value));-1!==p&&l.splice(p,1),l.length>0?this.map.set(s.param,l):this.map.delete(s.param)}}}),this.cloneFrom=this.updates=null)}}class _v{constructor(){this.map=new Map}set(s,u){return this.map.set(s,u),this}get(s){return this.map.has(s)||this.map.set(s,s.defaultValue()),this.map.get(s)}delete(s){return this.map.delete(s),this}has(s){return this.map.has(s)}keys(){return this.map.keys()}}function jg(d){return typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer}function yv(d){return typeof Blob<"u"&&d instanceof Blob}function Pf(d){return typeof FormData<"u"&&d instanceof FormData}class kf{constructor(s,u,l,p){let C;if(this.url=u,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=s.toUpperCase(),function vv(d){switch(d){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||p?(this.body=void 0!==l?l:null,C=p):C=l,C&&(this.reportProgress=!!C.reportProgress,this.withCredentials=!!C.withCredentials,C.responseType&&(this.responseType=C.responseType),C.headers&&(this.headers=C.headers),C.context&&(this.context=C.context),C.params&&(this.params=C.params)),this.headers||(this.headers=new qc),this.context||(this.context=new _v),this.params){const N=this.params.toString();if(0===N.length)this.urlWithParams=u;else{const X=u.indexOf("?");this.urlWithParams=u+(-1===X?"?":X<u.length-1?"&":"")+N}}else this.params=new kd,this.urlWithParams=u}serializeBody(){return null===this.body?null:jg(this.body)||yv(this.body)||Pf(this.body)||function Hb(d){return typeof URLSearchParams<"u"&&d instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pf(this.body)?null:yv(this.body)?this.body.type||null:jg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(s={}){const u=s.method||this.method,l=s.url||this.url,p=s.responseType||this.responseType,C=void 0!==s.body?s.body:this.body,N=void 0!==s.withCredentials?s.withCredentials:this.withCredentials,X=void 0!==s.reportProgress?s.reportProgress:this.reportProgress;let de=s.headers||this.headers,xe=s.params||this.params;const Je=s.context??this.context;return void 0!==s.setHeaders&&(de=Object.keys(s.setHeaders).reduce((_t,Rn)=>_t.set(Rn,s.setHeaders[Rn]),de)),s.setParams&&(xe=Object.keys(s.setParams).reduce((_t,Rn)=>_t.set(Rn,s.setParams[Rn]),xe)),new kf(u,l,C,{params:xe,headers:de,context:Je,reportProgress:X,responseType:p,withCredentials:N})}}var Mm=function(d){return d[d.Sent=0]="Sent",d[d.UploadProgress=1]="UploadProgress",d[d.ResponseHeader=2]="ResponseHeader",d[d.DownloadProgress=3]="DownloadProgress",d[d.Response=4]="Response",d[d.User=5]="User",d}(Mm||{});class Vy{constructor(s,u=200,l="OK"){this.headers=s.headers||new qc,this.status=void 0!==s.status?s.status:u,this.statusText=s.statusText||l,this.url=s.url||null,this.ok=this.status>=200&&this.status<300}}class Nd extends Vy{constructor(s={}){super(s),this.type=Mm.Response,this.body=void 0!==s.body?s.body:null}clone(s={}){return new Nd({body:void 0!==s.body?s.body:this.body,headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}function Ep(d,s){return{body:s,headers:d.headers,context:d.context,observe:d.observe,params:d.params,reportProgress:d.reportProgress,responseType:d.responseType,withCredentials:d.withCredentials}}let Nf=(()=>{var d;class s{constructor(l){this.handler=l}request(l,p,C={}){let N;if(l instanceof kf)N=l;else{let xe,Je;xe=C.headers instanceof qc?C.headers:new qc(C.headers),C.params&&(Je=C.params instanceof kd?C.params:new kd({fromObject:C.params})),N=new kf(l,p,void 0!==C.body?C.body:null,{headers:xe,context:C.context,params:Je,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const X=(0,ho.of)(N).pipe((0,yp.b)(xe=>this.handler.handle(xe)));if(l instanceof kf||"events"===C.observe)return X;const de=X.pipe((0,$i.h)(xe=>xe instanceof Nd));switch(C.observe||"body"){case"body":switch(N.responseType){case"arraybuffer":return de.pipe((0,yt.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return de.pipe((0,yt.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return de.pipe((0,yt.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return de.pipe((0,yt.U)(xe=>xe.body))}case"response":return de;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(l,p={}){return this.request("DELETE",l,p)}get(l,p={}){return this.request("GET",l,p)}head(l,p={}){return this.request("HEAD",l,p)}jsonp(l,p){return this.request("JSONP",l,{params:(new kd).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,p={}){return this.request("OPTIONS",l,p)}patch(l,p,C={}){return this.request("PATCH",l,Ep(C,p))}post(l,p,C={}){return this.request("POST",l,Ep(C,p))}put(l,p,C={}){return this.request("PUT",l,Ep(C,p))}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(Cu))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})();const Sp=["*"];let Ap;function Vo(d){return function Ys(){if(void 0===Ap&&(Ap=null,typeof window<"u")){const d=window;void 0!==d.trustedTypes&&(Ap=d.trustedTypes.createPolicy("angular#components",{createHTML:s=>s}))}return Ap}()?.createHTML(d)||d}function wc(d){return Error(`Unable to find icon with the name "${d}"`)}function Mp(d){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${d}".`)}function Ih(d){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${d}".`)}class Ld{constructor(s,u,l){this.url=s,this.svgText=u,this.options=l}}let id=(()=>{var d;class s{constructor(l,p,C,N){this._httpClient=l,this._sanitizer=p,this._errorHandler=N,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=C}addSvgIcon(l,p,C){return this.addSvgIconInNamespace("",l,p,C)}addSvgIconLiteral(l,p,C){return this.addSvgIconLiteralInNamespace("",l,p,C)}addSvgIconInNamespace(l,p,C,N){return this._addSvgIconConfig(l,p,new Ld(C,null,N))}addSvgIconResolver(l){return this._resolvers.push(l),this}addSvgIconLiteralInNamespace(l,p,C,N){const X=this._sanitizer.sanitize(_.q3G.HTML,C);if(!X)throw Ih(C);const de=Vo(X);return this._addSvgIconConfig(l,p,new Ld("",de,N))}addSvgIconSet(l,p){return this.addSvgIconSetInNamespace("",l,p)}addSvgIconSetLiteral(l,p){return this.addSvgIconSetLiteralInNamespace("",l,p)}addSvgIconSetInNamespace(l,p,C){return this._addSvgIconSetConfig(l,new Ld(p,null,C))}addSvgIconSetLiteralInNamespace(l,p,C){const N=this._sanitizer.sanitize(_.q3G.HTML,p);if(!N)throw Ih(p);const X=Vo(N);return this._addSvgIconSetConfig(l,new Ld("",X,C))}registerFontClassAlias(l,p=l){return this._fontCssClassesByAlias.set(l,p),this}classNameForFontAlias(l){return this._fontCssClassesByAlias.get(l)||l}setDefaultFontSetClass(...l){return this._defaultFontSetClass=l,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(l){const p=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,l);if(!p)throw Mp(l);const C=this._cachedIconsByUrl.get(p);return C?(0,ho.of)(Rp(C)):this._loadSvgIconFromConfig(new Ld(l,null)).pipe((0,vh.b)(N=>this._cachedIconsByUrl.set(p,N)),(0,yt.U)(N=>Rp(N)))}getNamedSvgIcon(l,p=""){const C=t_(p,l);let N=this._svgIconConfigs.get(C);if(N)return this._getSvgFromConfig(N);if(N=this._getIconConfigFromResolvers(p,l),N)return this._svgIconConfigs.set(C,N),this._getSvgFromConfig(N);const X=this._iconSetConfigs.get(p);return X?this._getSvgFromIconSetConfigs(l,X):(0,dv._)(wc(C))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(l){return l.svgText?(0,ho.of)(Rp(this._svgElementFromConfig(l))):this._loadSvgIconFromConfig(l).pipe((0,yt.U)(p=>Rp(p)))}_getSvgFromIconSetConfigs(l,p){const C=this._extractIconWithNameFromAnySet(l,p);return C?(0,ho.of)(C):nt(p.filter(X=>!X.svgText).map(X=>this._loadSvgIconSetFromConfig(X).pipe((0,yh.K)(de=>{const Je=`Loading icon set URL: ${this._sanitizer.sanitize(_.q3G.RESOURCE_URL,X.url)} failed: ${de.message}`;return this._errorHandler.handleError(new Error(Je)),(0,ho.of)(null)})))).pipe((0,yt.U)(()=>{const X=this._extractIconWithNameFromAnySet(l,p);if(!X)throw wc(l);return X}))}_extractIconWithNameFromAnySet(l,p){for(let C=p.length-1;C>=0;C--){const N=p[C];if(N.svgText&&N.svgText.toString().indexOf(l)>-1){const X=this._svgElementFromConfig(N),de=this._extractSvgIconFromSet(X,l,N.options);if(de)return de}}return null}_loadSvgIconFromConfig(l){return this._fetchIcon(l).pipe((0,vh.b)(p=>l.svgText=p),(0,yt.U)(()=>this._svgElementFromConfig(l)))}_loadSvgIconSetFromConfig(l){return l.svgText?(0,ho.of)(null):this._fetchIcon(l).pipe((0,vh.b)(p=>l.svgText=p))}_extractSvgIconFromSet(l,p,C){const N=l.querySelector(`[id="${p}"]`);if(!N)return null;const X=N.cloneNode(!0);if(X.removeAttribute("id"),"svg"===X.nodeName.toLowerCase())return this._setSvgAttributes(X,C);if("symbol"===X.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(X),C);const de=this._svgElementFromString(Vo("<svg></svg>"));return de.appendChild(X),this._setSvgAttributes(de,C)}_svgElementFromString(l){const p=this._document.createElement("DIV");p.innerHTML=l;const C=p.querySelector("svg");if(!C)throw Error("<svg> tag not found");return C}_toSvgElement(l){const p=this._svgElementFromString(Vo("<svg></svg>")),C=l.attributes;for(let N=0;N<C.length;N++){const{name:X,value:de}=C[N];"id"!==X&&p.setAttribute(X,de)}for(let N=0;N<l.childNodes.length;N++)l.childNodes[N].nodeType===this._document.ELEMENT_NODE&&p.appendChild(l.childNodes[N].cloneNode(!0));return p}_setSvgAttributes(l,p){return l.setAttribute("fit",""),l.setAttribute("height","100%"),l.setAttribute("width","100%"),l.setAttribute("preserveAspectRatio","xMidYMid meet"),l.setAttribute("focusable","false"),p&&p.viewBox&&l.setAttribute("viewBox",p.viewBox),l}_fetchIcon(l){const{url:p,options:C}=l,N=C?.withCredentials??!1;if(!this._httpClient)throw function Gy(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==p)throw Error(`Cannot fetch icon from URL "${p}".`);const X=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,p);if(!X)throw Mp(p);const de=this._inProgressUrlFetches.get(X);if(de)return de;const xe=this._httpClient.get(X,{responseType:"text",withCredentials:N}).pipe((0,yt.U)(Je=>Vo(Je)),(0,hv.x)(()=>this._inProgressUrlFetches.delete(X)),(0,jb.B)());return this._inProgressUrlFetches.set(X,xe),xe}_addSvgIconConfig(l,p,C){return this._svgIconConfigs.set(t_(l,p),C),this}_addSvgIconSetConfig(l,p){const C=this._iconSetConfigs.get(l);return C?C.push(p):this._iconSetConfigs.set(l,[p]),this}_svgElementFromConfig(l){if(!l.svgElement){const p=this._svgElementFromString(l.svgText);this._setSvgAttributes(p,l.options),l.svgElement=p}return l.svgElement}_getIconConfigFromResolvers(l,p){for(let C=0;C<this._resolvers.length;C++){const N=this._resolvers[C](p,l);if(N)return Gs(N)?new Ld(N.url,null,N.options):new Ld(N,null)}}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(Nf,8),_.LFG(E.H7),_.LFG(_e.K0,8),_.LFG(_.qLn))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),s})();function Rp(d){return d.cloneNode(!0)}function t_(d,s){return d+":"+s}function Gs(d){return!(!d.url||!d.options)}const Qb=Wu(class{constructor(d){this._elementRef=d}}),Tv=new _.OlP("MAT_ICON_DEFAULT_OPTIONS"),xo=new _.OlP("mat-icon-location",{providedIn:"root",factory:function Lf(){const d=(0,_.f3M)(_e.K0),s=d?d.location:null;return{getPathname:()=>s?s.pathname+s.search:""}}}),Dv=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Sv=Dv.map(d=>`[${d}]`).join(", "),n_=/^url\(['"]?#(.*?)['"]?\)$/;let Av=(()=>{var d;class s extends Qb{get inline(){return this._inline}set inline(l){this._inline=Fs(l)}get svgIcon(){return this._svgIcon}set svgIcon(l){l!==this._svgIcon&&(l?this._updateSvgIcon(l):this._svgIcon&&this._clearSvgElement(),this._svgIcon=l)}get fontSet(){return this._fontSet}set fontSet(l){const p=this._cleanupFontValue(l);p!==this._fontSet&&(this._fontSet=p,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(l){const p=this._cleanupFontValue(l);p!==this._fontIcon&&(this._fontIcon=p,this._updateFontIconClasses())}constructor(l,p,C,N,X,de){super(l),this._iconRegistry=p,this._location=N,this._errorHandler=X,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Jl.w0.EMPTY,de&&(de.color&&(this.color=this.defaultColor=de.color),de.fontSet&&(this.fontSet=de.fontSet)),C||l.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(l){if(!l)return["",""];const p=l.split(":");switch(p.length){case 1:return["",p[0]];case 2:return p;default:throw Error(`Invalid icon name: "${l}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const l=this._elementsWithExternalReferences;if(l&&l.size){const p=this._location.getPathname();p!==this._previousPath&&(this._previousPath=p,this._prependPathToReferences(p))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(l){this._clearSvgElement();const p=this._location.getPathname();this._previousPath=p,this._cacheChildrenWithExternalReferences(l),this._prependPathToReferences(p),this._elementRef.nativeElement.appendChild(l)}_clearSvgElement(){const l=this._elementRef.nativeElement;let p=l.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();p--;){const C=l.childNodes[p];(1!==C.nodeType||"svg"===C.nodeName.toLowerCase())&&C.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const l=this._elementRef.nativeElement,p=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(C=>C.length>0);this._previousFontSetClass.forEach(C=>l.classList.remove(C)),p.forEach(C=>l.classList.add(C)),this._previousFontSetClass=p,this.fontIcon!==this._previousFontIconClass&&!p.includes("mat-ligature-font")&&(this._previousFontIconClass&&l.classList.remove(this._previousFontIconClass),this.fontIcon&&l.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(l){return"string"==typeof l?l.trim().split(" ")[0]:l}_prependPathToReferences(l){const p=this._elementsWithExternalReferences;p&&p.forEach((C,N)=>{C.forEach(X=>{N.setAttribute(X.name,`url('${l}#${X.value}')`)})})}_cacheChildrenWithExternalReferences(l){const p=l.querySelectorAll(Sv),C=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let N=0;N<p.length;N++)Dv.forEach(X=>{const de=p[N],xe=de.getAttribute(X),Je=xe?xe.match(n_):null;if(Je){let _t=C.get(de);_t||(_t=[],C.set(de,_t)),_t.push({name:X,value:Je[1]})}})}_updateSvgIcon(l){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),l){const[p,C]=this._splitIconName(l);p&&(this._svgNamespace=p),C&&(this._svgName=C),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(C,p).pipe((0,ju.q)(1)).subscribe(N=>this._setSvgElement(N),N=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${p}:${C}! ${N.message}`))})}}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(_.SBq),_.Y36(id),_.$8M("aria-hidden"),_.Y36(xo),_.Y36(_.qLn),_.Y36(Tv,8))},d.\u0275cmp=_.Xpm({type:d,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(l,p){2&l&&(_.uIk("data-mat-icon-type",p._usingFontIcon()?"font":"svg")("data-mat-icon-name",p._svgName||p.fontIcon)("data-mat-icon-namespace",p._svgNamespace||p.fontSet)("fontIcon",p._usingFontIcon()?p.fontIcon:null),_.ekj("mat-icon-inline",p.inline)("mat-icon-no-color","primary"!==p.color&&"accent"!==p.color&&"warn"!==p.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_.qOj],ngContentSelectors:Sp,decls:1,vars:0,template:function(l,p){1&l&&(_.F$t(),_.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),s})(),Wy=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[qi,qi]}),s})();function Op(d,s){1&d&&(_.TgZ(0,"div",1),_._UZ(1,"div",2),_.TgZ(2,"p",3),_._uU(3,"Cargado..."),_.qZA()())}let Mv=(()=>{var d;class s{constructor(){}ngOnInit(){}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner",class:"class"},decls:1,vars:1,consts:[["class","pl spinner-container",4,"ngIf"],[1,"pl","spinner-container"],[1,"square-7"],[1,"loading"]],template:function(l,p){1&l&&_.YNc(0,Op,4,0,"div",0),2&l&&_.Q6J("ngIf",p.showSpinner)},dependencies:[_e.O5],styles:[".spinner-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:99;background-color:#00000075}.square-7[_ngcontent-%COMP%]{width:55px;aspect-ratio:1;--g1:conic-gradient(from 90deg at 3px 3px ,#0000 90deg,#7c1ca4 0);--g2:conic-gradient(from -90deg at 22px 22px,#0000 90deg,#7c1ca4 0);background:var(--g1),var(--g1),var(--g1),var(--g2),var(--g2),var(--g2);background-size:25px 25px;background-repeat:no-repeat;animation:_ngcontent-%COMP%_s7 1.5s infinite;z-index:100}@keyframes _ngcontent-%COMP%_s7{0%{background-position:0 0,0 100%,100% 100%}25%{background-position:100% 0,0 100%,100% 100%}50%{background-position:100% 0,0 0,100% 100%}75%{background-position:100% 0,0 0,0 100%}to{background-position:100% 100%,0 0,0 100%}}.loading[_ngcontent-%COMP%]{padding-top:5px;color:#ccc}"]}),s})();function Xb(d,s){if(1&d&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&d){const u=_.oxw();_.xp6(1),_.Oqu(u.getErrorMessageEmail())}}function qy(d,s){if(1&d&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&d){const u=_.oxw();_.xp6(1),_.Oqu(u.getErrorMessagePassword())}}function Rv(d,s){if(1&d&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&d){const u=_.oxw();_.xp6(1),_.Oqu(u.getErrorMessageName())}}function Pp(d,s){if(1&d&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&d){const u=_.oxw();_.xp6(1),_.Oqu(u.getErrorMessageEmail())}}function Zy(d,s){if(1&d&&(_.TgZ(0,"mat-error"),_._uU(1),_.qZA()),2&d){const u=_.oxw();_.xp6(1),_.Oqu(u.getErrorMessagePassword())}}const xh=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{var d;class s{constructor(l,p,C,N){this.router=l,this.firebaseSvc=p,this.utilsSvc=C,this.snackBar=N,this.hide=!0,this.loading=!1,this.alert="",this.form=new nn({email:new zr("",[Gn.required,Gn.email]),password:new zr("",[Gn.required,Gn.minLength(6)])})}getErrorMessageEmail(){let l="";return this.form.controls.email.hasError("required")&&(l="Campo requerido"),this.form.controls.email.hasError("email")&&(l="Email no valido"),l}getErrorMessagePassword(){let l="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(l="Campo requerido"),l}submit(){var l=this;if(this.form.valid){var p;this.loading=!0;const C=new Date;C.toLocaleDateString(),C.toLocaleTimeString(),this.firebaseSvc.login(this.form.value).then(function(X){return(p=p||(0,ie.Z)(function*(de){let xe={uid:de.user.uid,name:de.user.displayName,email:de.user.email};l.firebaseSvc.saveLog(de.user.email),l.utilsSvc.setElementInLocalstorage("user",xe),l.utilsSvc.routerLink("home"),l.router.navigate(["home"],{queryParams:xe}),l.form.reset()})).apply(this,arguments)},X=>{this.loading=!1,"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===X.message&&(this.alert="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===X.message&&(this.alert="Usuario incorrecto vuelva a intentar");let de=this.snackBar.open(this.alert,"cerrar",{duration:3e3});de.onAction().subscribe(()=>{de.dismiss()})})}}getRegistrar(){this.router.navigate(["registro"])}getQuienSoy(){this.router.navigate(["quiensoy"])}autoComplete(){this.form.setValue({email:"test@mail.com",password:"123456"})}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(se.F0),_.Y36(co.O),_.Y36(El.F),_.Y36(dh))},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-login"]],decls:34,vars:9,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form"],["appearance","outline",1,"focused"],[1,"label"],["matInput","","required","",1,"input",3,"formControl"],["matSuffix",""],[4,"ngIf"],["appearance","outline"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"container-buttons"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(l,p){1&l&&(_._UZ(0,"app-spinner",0),_.TgZ(1,"div",1),_._UZ(2,"img",2),_.TgZ(3,"h1",3),_._uU(4,"Bienvenido a la sala de juegos"),_.qZA(),_.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label",6),_._uU(8,"Ingresa tu email"),_.qZA(),_._UZ(9,"input",7),_.TgZ(10,"mat-icon",8),_._uU(11,"sentiment_very_satisfied"),_.qZA(),_.YNc(12,Xb,2,1,"mat-error",9),_.qZA(),_.TgZ(13,"mat-form-field",10)(14,"mat-label",6),_._uU(15,"Ingresa tu contrase\xf1a"),_.qZA(),_._UZ(16,"input",11),_.TgZ(17,"button",12),_.NdJ("click",function(){return p.hide=!p.hide}),_.TgZ(18,"mat-icon"),_._uU(19),_.qZA()(),_.YNc(20,qy,2,1,"mat-error",9),_.qZA()(),_.TgZ(21,"div",13)(22,"a",14),_.NdJ("click",function(){return p.submit()}),_._uU(23,"Entrar"),_.qZA(),_.TgZ(24,"a",14),_.NdJ("click",function(){return p.autoComplete()}),_._uU(25,"Auto Completar"),_.qZA()(),_.TgZ(26,"div",15)(27,"p",16),_._uU(28," No tenes cuenta? "),_.TgZ(29,"a",17),_.NdJ("click",function(){return p.getRegistrar()}),_._uU(30,"Registrate"),_.qZA()(),_.TgZ(31,"a",17),_.NdJ("click",function(){return p.getQuienSoy()}),_._uU(32,"Quien soy?"),_.qZA()()(),_._UZ(33,"router-outlet")),2&l&&(_.Q6J("showSpinner",p.loading),_.xp6(9),_.Q6J("formControl",p.form.controls.email),_.xp6(3),_.Q6J("ngIf",p.form.controls.email.invalid),_.xp6(4),_.Q6J("type",p.hide?"password":"text")("formControl",p.form.controls.password),_.xp6(1),_.uIk("aria-label","Hide password")("aria-pressed",p.hide),_.xp6(2),_.Oqu(p.hide?"visibility_off":"visibility"),_.xp6(1),_.Q6J("ngIf",p.form.controls.password.invalid))},dependencies:[_e.O5,se.lC,st,fi,Yn,vp,Ju,Tm,tv,_h,Ya,G,Av,Mr,Mv],styles:[".container-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center}.my-button[_ngcontent-%COMP%]{margin-bottom:20px}"]}),s})()},{path:"home",loadChildren:()=>K.e(184).then(K.bind(K,9184)).then(d=>d.HomeModule)},{path:"registro",component:(()=>{var d;class s{constructor(l,p,C,N,X){this.router=l,this.firebaseSvc=p,this.utilsSvc=C,this.formBuilder=N,this.snackBar=X,this.hide=!0,this.nombre="",this.loading=!1,this.alert="",this.form=new nn({name:new zr("",[Gn.required,Gn.minLength(3)]),email:new zr("",[Gn.required,Gn.email]),password:new zr("",[Gn.required,Gn.minLength(6)])})}getErrorMessageName(){let l="Debe tener al menos 3 caracteres";return this.form.controls.name.hasError("required")&&(l="Campo requerido"),l}getErrorMessageEmail(){let l="";return this.form.controls.email.hasError("required")&&(l="Campo requerido"),this.form.controls.email.hasError("email")&&(l="Email no valido"),console.log(this.form.controls.name.hasError),l}getErrorMessagePassword(){let l="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(l="Campo requerido"),l}submit(){var l=this;if(this.form.valid){var p;const C=this.nombre;this.loading=!0,this.firebaseSvc.signinUp(this.form.value).then(function(N){return(p=p||(0,ie.Z)(function*(X){yield l.firebaseSvc.updateUser({displayName:C});let de={uid:X.user.uid,name:X.user.displayName,email:X.user.email};l.utilsSvc.setElementInLocalstorage("user",de),l.utilsSvc.routerLink("home"),l.router.navigate(["home"],{queryParams:de}),l.form.reset()})).apply(this,arguments)},N=>{this.loading=!1,"Firebase: The email address is already in use by another account. (auth/email-already-in-use)."===N.message&&(this.alert="Usuario ya registrado."),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===N.message&&(this.alert="Usuario incorrecto vuelva a intentar");let X=this.snackBar.open(this.alert,"cerrar",{duration:3e3,panelClass:["custom-style"]});X.onAction().subscribe(()=>{X.dismiss()})})}}getLogin(){this.utilsSvc.routerLink("login")}getQuienSoy(){this.utilsSvc.routerLink("quiensoy")}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(se.F0),_.Y36(co.O),_.Y36(El.F),_.Y36(ci),_.Y36(dh))},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-registro"]],decls:37,vars:13,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form",3,"formGroup","keyup.enter"],["appearance","outline"],[1,"label"],["matInput","","type","text","required","",1,"input",3,"ngModel","formControl","ngModelChange"],["matSuffix",""],[4,"ngIf"],["matInput","","required","",1,"input",3,"formControl"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(l,p){1&l&&(_._UZ(0,"app-spinner",0),_.TgZ(1,"div",1),_._UZ(2,"img",2),_.TgZ(3,"h1",3),_._uU(4,"Bienvenido a la sala de juegos"),_.qZA(),_.TgZ(5,"form",4),_.NdJ("keyup.enter",function(){return p.submit()}),_.TgZ(6,"mat-form-field",5)(7,"mat-label",6),_._uU(8,"Ingresa tu nombre"),_.qZA(),_.TgZ(9,"input",7),_.NdJ("ngModelChange",function(N){return p.nombre=N}),_.qZA(),_.TgZ(10,"mat-icon",8),_._uU(11,"sentiment_very_satisfied"),_.qZA(),_.YNc(12,Rv,2,1,"mat-error",9),_.qZA(),_.TgZ(13,"mat-form-field",5)(14,"mat-label",6),_._uU(15,"Ingresa tu email"),_.qZA(),_._UZ(16,"input",10),_.TgZ(17,"mat-icon",8),_._uU(18,"sentiment_very_satisfied"),_.qZA(),_.YNc(19,Pp,2,1,"mat-error",9),_.qZA(),_.TgZ(20,"mat-form-field",5)(21,"mat-label",6),_._uU(22,"Ingresa tu contrase\xf1a"),_.qZA(),_._UZ(23,"input",11),_.TgZ(24,"button",12),_.NdJ("click",function(){return p.hide=!p.hide}),_.TgZ(25,"mat-icon"),_._uU(26),_.qZA()(),_.YNc(27,Zy,2,1,"mat-error",9),_.qZA()(),_.TgZ(28,"a",13),_.NdJ("click",function(){return p.submit()}),_._uU(29,"Registrarse"),_.qZA(),_.TgZ(30,"div",14)(31,"p",15),_._uU(32," Tenes cuenta? "),_.TgZ(33,"a",16),_.NdJ("click",function(){return p.getLogin()}),_._uU(34,"Entrar"),_.qZA()(),_.TgZ(35,"a",16),_.NdJ("click",function(){return p.getQuienSoy()}),_._uU(36,"Quien soy?"),_.qZA()()()),2&l&&(_.Q6J("showSpinner",p.loading),_.xp6(5),_.Q6J("formGroup",p.form),_.xp6(4),_.Q6J("ngModel",p.nombre)("formControl",p.form.controls.name),_.xp6(3),_.Q6J("ngIf",p.form.controls.name.invalid),_.xp6(4),_.Q6J("formControl",p.form.controls.email),_.xp6(3),_.Q6J("ngIf",p.form.controls.email.invalid),_.xp6(4),_.Q6J("type",p.hide?"password":"text")("formControl",p.form.controls.password),_.xp6(1),_.uIk("aria-label","Hide password")("aria-pressed",p.hide),_.xp6(2),_.Oqu(p.hide?"visibility_off":"visibility"),_.xp6(1),_.Q6J("ngIf",p.form.controls.password.invalid))},dependencies:[_e.O5,Qr,st,fi,Dn,Yn,vp,Ju,Tm,tv,_h,Ya,G,Av,Mr,Hi,Mv],styles:[".container-form[_ngcontent-%COMP%]{position:absolute;top:3rem;bottom:0;left:0;right:0}mat-form-field[_ngcontent-%COMP%]{padding:8px}"]}),s})()},{path:"quiensoy",component:(()=>{var d;class s{constructor(l){this.router=l}getRegistrar(){this.router.navigate(["registro"])}getLogin(){this.router.navigate(["login"])}}return(d=s).\u0275fac=function(l){return new(l||d)(_.Y36(se.F0))},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-quien-soy"]],decls:37,vars:0,consts:[[1,"container-form"],[1,"title"],[1,"form"],[1,"text-name"],[1,"name"],[1,"container-img"],["src","../../../assets/perfil.png","alt","",1,"photo"],[1,"game"],[1,"card"],[1,"container-buttons"],[1,"div1"],["mat-raised-button","",1,"my-button",3,"click"],[1,"div2"]],template:function(l,p){1&l&&(_.TgZ(0,"div",0)(1,"h1",1),_._uU(2,"Hello there!"),_.qZA(),_.TgZ(3,"div",2)(4,"h2",3),_._uU(5,"Mi nombre es "),_.TgZ(6,"span",4),_._uU(7,"Juan Sueldo "),_.qZA(),_._uU(8,"4B"),_.qZA(),_.TgZ(9,"div",5),_._UZ(10,"img",6),_.qZA(),_.TgZ(11,"h3",7),_._uU(12,"Juego Extra Reglas:"),_.qZA(),_.TgZ(13,"div",8)(14,"ul")(15,"li")(16,"p"),_._uU(17,"Cada jugador contara con 5 cartas elegidas de manera aleatoria"),_.qZA()(),_.TgZ(18,"li")(19,"p"),_._uU(20," Cada jugador cuenta con una barra de vida, El jugador que logre debilitar primero al oponente ganara la partida "),_.qZA()(),_.TgZ(21,"li")(22,"p"),_._uU(23,"El objetivo de debilitar al contricante mediante de utilizacion de las cartas que tiene en su poder"),_.qZA()(),_.TgZ(24,"li")(25,"p"),_._uU(26,"El jugador que logre debilitar primero al oponente ganara la partida"),_.qZA()(),_.TgZ(27,"li")(28,"p"),_._uU(29,"Si ambos jugadores se quedan sin cartas ganara el jugador que tenga mayor puntos de vida"),_.qZA()()()()(),_.TgZ(30,"div",9)(31,"div",10)(32,"a",11),_.NdJ("click",function(){return p.getLogin()}),_._uU(33,"Entrar"),_.qZA()(),_.TgZ(34,"div",12)(35,"a",11),_.NdJ("click",function(){return p.getRegistrar()}),_._uU(36,"Registrarse"),_.qZA()()()())},dependencies:[Ya],styles:[".container-img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;border:1px solid #cccccc;background-color:#36081f}.photo[_ngcontent-%COMP%]{width:100%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-47%,-50%)}.text-name[_ngcontent-%COMP%], .game[_ngcontent-%COMP%]{color:#ccc;text-shadow:4px -3px 5px rgba(0,0,0,.6)}.container-form[_ngcontent-%COMP%]{position:absolute;inset:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}p[_ngcontent-%COMP%]{color:#ccc;font-size:1em}.container-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(1,1fr);grid-column-gap:0px;grid-row-gap:25px}.div1[_ngcontent-%COMP%]{grid-area:1/1/1/4}.div2[_ngcontent-%COMP%]{grid-area:1/3/1/6}"]}),s})()},{path:"**",component:(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"notFound"],[1,"text"],["routerLink","/login",1,"yes"]],template:function(l,p){1&l&&(_.TgZ(0,"section",0)(1,"div",1)(2,"h1"),_._uU(3,"404"),_.qZA(),_.TgZ(4,"h3"),_._uU(5,"P\xe1gina no encontrada"),_.qZA(),_.TgZ(6,"h3"),_._uU(7,"BACK TO HOME?"),_.qZA(),_.TgZ(8,"a",2),_._uU(9,"Si"),_.qZA()()())},dependencies:[se.rH]}),s})()}];let Th=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({imports:[se.Bz.forRoot(xh),se.Bz]}),s})(),Qy=(()=>{var d;class s{constructor(){this.title="tp1_saladejuegos"}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275cmp=_.Xpm({type:d,selectors:[["app-root"]],decls:1,vars:0,template:function(l,p){1&l&&_._UZ(0,"router-outlet")},dependencies:[se.lC]}),s})();function r_(d){return new _.vHH(3e3,!1)}function ad(d){switch(d.length){case 0:return new ml;case 1:return d[0];default:return new Jf(d)}}function zf(d,s,u=new Map,l=new Map){const p=[],C=[];let N=-1,X=null;if(s.forEach(de=>{const xe=de.get("offset"),Je=xe==N,_t=Je&&X||new Map;de.forEach((Rn,An)=>{let pn=An,xn=Rn;if("offset"!==An)switch(pn=d.normalizePropertyName(pn,p),xn){case"!":xn=u.get(An);break;case gt:xn=l.get(An);break;default:xn=d.normalizeStyleValue(An,pn,xn,p)}_t.set(pn,xn)}),Je||C.push(_t),X=_t,N=xe}),p.length)throw function xu(d){return new _.vHH(3502,!1)}();return C}function Wm(d,s,u,l){switch(s){case"start":d.onStart(()=>l(u&&qm(u,"start",d)));break;case"done":d.onDone(()=>l(u&&qm(u,"done",d)));break;case"destroy":d.onDestroy(()=>l(u&&qm(u,"destroy",d)))}}function qm(d,s,u){const C=Ph(d.element,d.triggerName,d.fromState,d.toState,s||d.phaseName,u.totalTime??d.totalTime,!!u.disabled),N=d._data;return null!=N&&(C._data=N),C}function Ph(d,s,u,l,p="",C=0,N){return{element:d,triggerName:s,fromState:u,toState:l,phaseName:p,totalTime:C,disabled:!!N}}function _l(d,s,u){let l=d.get(s);return l||d.set(s,l=u),l}function Uv(d){const s=d.indexOf(":");return[d.substring(1,s),d.slice(s+1)]}const s_=(()=>typeof document>"u"?null:document.documentElement)();function Bv(d){const s=d.parentNode||d.host||null;return s===s_?null:s}let Bd=null,jv=!1;function o_(d,s){for(;s;){if(s===d)return!0;s=Bv(s)}return!1}function Km(d,s,u){if(u)return Array.from(d.querySelectorAll(s));const l=d.querySelector(s);return l?[l]:[]}let $f=(()=>{var d;class s{validateStyleProperty(l){return function Hv(d){Bd||(Bd=function zv(){return typeof document<"u"?document.body:null}()||{},jv=!!Bd.style&&"WebkitAppearance"in Bd.style);let s=!0;return Bd.style&&!function eb(d){return"ebkit"==d.substring(1,6)}(d)&&(s=d in Bd.style,!s&&jv&&(s="Webkit"+d.charAt(0).toUpperCase()+d.slice(1)in Bd.style)),s}(l)}matchesElement(l,p){return!1}containsElement(l,p){return o_(l,p)}getParentElement(l){return Bv(l)}query(l,p,C){return Km(l,p,C)}computeStyle(l,p,C){return C||""}animate(l,p,C,N,X,de=[],xe){return new ml(C,N)}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})(),Zm=(()=>{class s{}return s.NOOP=new $f,s})();const a_=1e3,c_="ng-enter",Su="ng-leave",Fl="ng-trigger",jd=".ng-trigger",Hd="ng-animating",u_=".ng-animating";function ld(d){if("number"==typeof d)return d;const s=d.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Fp(parseFloat(s[1]),s[2])}function Fp(d,s){return"s"===s?d*a_:d}function Ll(d,s,u){return d.hasOwnProperty("duration")?d:function Qm(d,s,u){let p,C=0,N="";if("string"==typeof d){const X=d.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===X)return s.push(r_()),{duration:0,delay:0,easing:""};p=Fp(parseFloat(X[1]),X[2]);const de=X[3];null!=de&&(C=Fp(parseFloat(de),X[4]));const xe=X[5];xe&&(N=xe)}else p=d;if(!u){let X=!1,de=s.length;p<0&&(s.push(function Ov(){return new _.vHH(3100,!1)}()),X=!0),C<0&&(s.push(function zm(){return new _.vHH(3101,!1)}()),X=!0),X&&s.splice(de,0,r_())}return{duration:p,delay:C,easing:N}}(d,s,u)}function Xm(d,s={}){return Object.keys(d).forEach(u=>{s[u]=d[u]}),s}function $v(d){const s=new Map;return Object.keys(d).forEach(u=>{s.set(u,d[u])}),s}function zd(d,s=new Map,u){if(u)for(let[l,p]of u)s.set(l,p);for(let[l,p]of d)s.set(l,p);return s}function Zc(d,s,u){s.forEach((l,p)=>{const C=tg(p);u&&!u.has(p)&&u.set(p,d.style[C]),d.style[C]=l})}function kh(d,s){s.forEach((u,l)=>{const p=tg(l);d.style[p]=""})}function Lp(d){return Array.isArray(d)?1==d.length?d[0]:Jr(d):d}const eg=new RegExp("{{\\s*(.+?)\\s*}}","g");function $d(d){let s=[];if("string"==typeof d){let u;for(;u=eg.exec(d);)s.push(u[1]);eg.lastIndex=0}return s}function Nh(d,s,u){const l=d.toString(),p=l.replace(eg,(C,N)=>{let X=s[N];return null==X&&(u.push(function Dh(d){return new _.vHH(3003,!1)}()),X=""),X.toString()});return p==l?d:p}function d_(d){const s=[];let u=d.next();for(;!u.done;)s.push(u.value),u=d.next();return s}const nb=/-+([a-z0-9])/g;function tg(d){return d.replace(nb,(...s)=>s[1].toUpperCase())}function vl(d,s,u){switch(s.type){case 7:return d.visitTrigger(s,u);case 0:return d.visitState(s,u);case 1:return d.visitTransition(s,u);case 2:return d.visitSequence(s,u);case 3:return d.visitGroup(s,u);case 4:return d.visitAnimate(s,u);case 5:return d.visitKeyframes(s,u);case 6:return d.visitStyle(s,u);case 8:return d.visitReference(s,u);case 9:return d.visitAnimateChild(s,u);case 10:return d.visitAnimateRef(s,u);case 11:return d.visitQuery(s,u);case 12:return d.visitStagger(s,u);default:throw function kp(d){return new _.vHH(3004,!1)}()}}function ng(d,s){return window.getComputedStyle(d)[s]}const Gf="*";function f_(d,s){const u=[];return"string"==typeof d?d.split(/\s*,\s*/).forEach(l=>function cd(d,s,u){if(":"==d[0]){const de=function ob(d,s){switch(d){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(u,l)=>parseFloat(l)>parseFloat(u);case":decrement":return(u,l)=>parseFloat(l)<parseFloat(u);default:return s.push(function Ah(d){return new _.vHH(3016,!1)}()),"* => *"}}(d,u);if("function"==typeof de)return void s.push(de);d=de}const l=d.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return u.push(function Ko(d){return new _.vHH(3015,!1)}()),s;const p=l[1],C=l[2],N=l[3];s.push(ig(p,N));"<"==C[0]&&!(p==Gf&&N==Gf)&&s.push(ig(N,p))}(l,u,s)):u.push(d),u}const rg=new Set(["true","1"]),Vp=new Set(["false","0"]);function ig(d,s){const u=rg.has(d)||Vp.has(d),l=rg.has(s)||Vp.has(s);return(p,C)=>{let N=d==Gf||d==p,X=s==Gf||s==C;return!N&&u&&"boolean"==typeof p&&(N=p?rg.has(d):Vp.has(d)),!X&&l&&"boolean"==typeof C&&(X=C?rg.has(s):Vp.has(s)),N&&X}}const m_=new RegExp("s*:selfs*,?","g");function Up(d,s,u,l){return new lb(d).build(s,u,l)}class lb{constructor(s){this._driver=s}build(s,u,l){const p=new e(u);return this._resetContextStyleTimingState(p),vl(this,Lp(s),p)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,u){let l=u.queryCount=0,p=u.depCount=0;const C=[],N=[];return"@"==s.name.charAt(0)&&u.errors.push(function Pv(){return new _.vHH(3006,!1)}()),s.definitions.forEach(X=>{if(this._resetContextStyleTimingState(u),0==X.type){const de=X,xe=de.name;xe.toString().split(/\s*,\s*/).forEach(Je=>{de.name=Je,C.push(this.visitState(de,u))}),de.name=xe}else if(1==X.type){const de=this.visitTransition(X,u);l+=de.queryCount,p+=de.depCount,N.push(de)}else u.errors.push(function kv(){return new _.vHH(3007,!1)}())}),{type:7,name:s.name,states:C,transitions:N,queryCount:l,depCount:p,options:null}}visitState(s,u){const l=this.visitStyle(s.styles,u),p=s.options&&s.options.params||null;if(l.containsDynamicStyles){const C=new Set,N=p||{};l.styles.forEach(X=>{X instanceof Map&&X.forEach(de=>{$d(de).forEach(xe=>{N.hasOwnProperty(xe)||C.add(xe)})})}),C.size&&(d_(C.values()),u.errors.push(function Nv(d,s){return new _.vHH(3008,!1)}()))}return{type:0,name:s.name,style:l,options:p?{params:p}:null}}visitTransition(s,u){u.queryCount=0,u.depCount=0;const l=vl(this,Lp(s.animation),u);return{type:1,matchers:f_(s.expr,u.errors),animation:l,queryCount:u.queryCount,depCount:u.depCount,options:h(s.options)}}visitSequence(s,u){return{type:2,steps:s.steps.map(l=>vl(this,l,u)),options:h(s.options)}}visitGroup(s,u){const l=u.currentTime;let p=0;const C=s.steps.map(N=>{u.currentTime=l;const X=vl(this,N,u);return p=Math.max(p,u.currentTime),X});return u.currentTime=p,{type:3,steps:C,options:h(s.options)}}visitAnimate(s,u){const l=function o(d,s){if(d.hasOwnProperty("duration"))return d;if("number"==typeof d)return m(Ll(d,s).duration,0,"");const u=d;if(u.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=m(0,0,"");return C.dynamic=!0,C.strValue=u,C}const p=Ll(u,s);return m(p.duration,p.delay,p.easing)}(s.timings,u.errors);u.currentAnimateTimings=l;let p,C=s.styles?s.styles:bs({});if(5==C.type)p=this.visitKeyframes(C,u);else{let N=s.styles,X=!1;if(!N){X=!0;const xe={};l.easing&&(xe.easing=l.easing),N=bs(xe)}u.currentTime+=l.duration+l.delay;const de=this.visitStyle(N,u);de.isEmptyStep=X,p=de}return u.currentAnimateTimings=null,{type:4,timings:l,style:p,options:null}}visitStyle(s,u){const l=this._makeStyleAst(s,u);return this._validateStyleAst(l,u),l}_makeStyleAst(s,u){const l=[],p=Array.isArray(s.styles)?s.styles:[s.styles];for(let X of p)"string"==typeof X?X===gt?l.push(X):u.errors.push(new _.vHH(3002,!1)):l.push($v(X));let C=!1,N=null;return l.forEach(X=>{if(X instanceof Map&&(X.has("easing")&&(N=X.get("easing"),X.delete("easing")),!C))for(let de of X.values())if(de.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:l,easing:N,offset:s.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(s,u){const l=u.currentAnimateTimings;let p=u.currentTime,C=u.currentTime;l&&C>0&&(C-=l.duration+l.delay),s.styles.forEach(N=>{"string"!=typeof N&&N.forEach((X,de)=>{const xe=u.collectedStyles.get(u.currentQuerySelector),Je=xe.get(de);let _t=!0;Je&&(C!=p&&C>=Je.startTime&&p<=Je.endTime&&(u.errors.push(function Uf(d,s,u,l,p){return new _.vHH(3010,!1)}()),_t=!1),C=Je.startTime),_t&&xe.set(de,{startTime:C,endTime:p}),u.options&&function Gv(d,s,u){const l=s.params||{},p=$d(d);p.length&&p.forEach(C=>{l.hasOwnProperty(C)||u.push(function Xy(d){return new _.vHH(3001,!1)}())})}(X,u.options,u.errors)})})}visitKeyframes(s,u){const l={type:5,styles:[],options:null};if(!u.currentAnimateTimings)return u.errors.push(function i_(){return new _.vHH(3011,!1)}()),l;let C=0;const N=[];let X=!1,de=!1,xe=0;const Je=s.steps.map(Es=>{const so=this._makeStyleAst(Es,u);let yl=null!=so.offset?so.offset:function n(d){if("string"==typeof d)return null;let s=null;if(Array.isArray(d))d.forEach(u=>{if(u instanceof Map&&u.has("offset")){const l=u;s=parseFloat(l.get("offset")),l.delete("offset")}});else if(d instanceof Map&&d.has("offset")){const u=d;s=parseFloat(u.get("offset")),u.delete("offset")}return s}(so.styles),Oa=0;return null!=yl&&(C++,Oa=so.offset=yl),de=de||Oa<0||Oa>1,X=X||Oa<xe,xe=Oa,N.push(Oa),so});de&&u.errors.push(function Lv(){return new _.vHH(3012,!1)}()),X&&u.errors.push(function sd(){return new _.vHH(3200,!1)}());const _t=s.steps.length;let Rn=0;C>0&&C<_t?u.errors.push(function Vv(){return new _.vHH(3202,!1)}()):0==C&&(Rn=1/(_t-1));const An=_t-1,pn=u.currentTime,xn=u.currentAnimateTimings,Ur=xn.duration;return Je.forEach((Es,so)=>{const yl=Rn>0?so==An?1:Rn*so:N[so],Oa=yl*Ur;u.currentTime=pn+xn.delay+Oa,xn.duration=Oa,this._validateStyleAst(Es,u),Es.offset=yl,l.styles.push(Es)}),l}visitReference(s,u){return{type:8,animation:vl(this,Lp(s.animation),u),options:h(s.options)}}visitAnimateChild(s,u){return u.depCount++,{type:9,options:h(s.options)}}visitAnimateRef(s,u){return{type:10,animation:this.visitReference(s.animation,u),options:h(s.options)}}visitQuery(s,u){const l=u.currentQuerySelector,p=s.options||{};u.queryCount++,u.currentQuery=s;const[C,N]=function g_(d){const s=!!d.split(/\s*,\s*/).find(u=>":self"==u);return s&&(d=d.replace(m_,"")),d=d.replace(/@\*/g,jd).replace(/@\w+/g,u=>jd+"-"+u.slice(1)).replace(/:animating/g,u_),[d,s]}(s.selector);u.currentQuerySelector=l.length?l+" "+C:C,_l(u.collectedStyles,u.currentQuerySelector,new Map);const X=vl(this,Lp(s.animation),u);return u.currentQuery=null,u.currentQuerySelector=l,{type:11,selector:C,limit:p.limit||0,optional:!!p.optional,includeSelf:N,animation:X,originalSelector:s.selector,options:h(s.options)}}visitStagger(s,u){u.currentQuery||u.errors.push(function Kc(){return new _.vHH(3013,!1)}());const l="full"===s.timings?{duration:0,delay:0,easing:"full"}:Ll(s.timings,u.errors,!0);return{type:12,animation:vl(this,Lp(s.animation),u),timings:l,options:null}}}class e{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function h(d){return d?(d=Xm(d)).params&&(d.params=function i(d){return d?Xm(d):null}(d.params)):d={},d}function m(d,s,u){return{duration:d,delay:s,easing:u}}function b(d,s,u,l,p,C,N=null,X=!1){return{type:1,element:d,keyframes:s,preStyleProps:u,postStyleProps:l,duration:p,delay:C,totalTime:p+C,easing:N,subTimeline:X}}class O{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,u){let l=this._map.get(s);l||this._map.set(s,l=[]),l.push(...u)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const ue=new RegExp(":enter","g"),ze=new RegExp(":leave","g");function We(d,s,u,l,p,C=new Map,N=new Map,X,de,xe=[]){return(new Ot).buildKeyframes(d,s,u,l,p,C,N,X,de,xe)}class Ot{buildKeyframes(s,u,l,p,C,N,X,de,xe,Je=[]){xe=xe||new O;const _t=new en(s,u,xe,p,C,Je,[]);_t.options=de;const Rn=de.delay?ld(de.delay):0;_t.currentTimeline.delayNextStep(Rn),_t.currentTimeline.setStyles([N],null,_t.errors,de),vl(this,l,_t);const An=_t.timelines.filter(pn=>pn.containsAnimation());if(An.length&&X.size){let pn;for(let xn=An.length-1;xn>=0;xn--){const Ur=An[xn];if(Ur.element===u){pn=Ur;break}}pn&&!pn.allowOnlyTimelineStyles()&&pn.setStyles([X],null,_t.errors,de)}return An.length?An.map(pn=>pn.buildKeyframes()):[b(u,[],[],[],0,Rn,"",!1)]}visitTrigger(s,u){}visitState(s,u){}visitTransition(s,u){}visitAnimateChild(s,u){const l=u.subInstructions.get(u.element);if(l){const p=u.createSubContext(s.options),C=u.currentTimeline.currentTime,N=this._visitSubInstructions(l,p,p.options);C!=N&&u.transformIntoNewTimeline(N)}u.previousNode=s}visitAnimateRef(s,u){const l=u.createSubContext(s.options);l.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],u,l),this.visitReference(s.animation,l),u.transformIntoNewTimeline(l.currentTimeline.currentTime),u.previousNode=s}_applyAnimationRefDelays(s,u,l){for(const p of s){const C=p?.delay;if(C){const N="number"==typeof C?C:ld(Nh(C,p?.params??{},u.errors));l.delayNextStep(N)}}}_visitSubInstructions(s,u,l){let C=u.currentTimeline.currentTime;const N=null!=l.duration?ld(l.duration):null,X=null!=l.delay?ld(l.delay):null;return 0!==N&&s.forEach(de=>{const xe=u.appendInstructionToTimeline(de,N,X);C=Math.max(C,xe.duration+xe.delay)}),C}visitReference(s,u){u.updateOptions(s.options,!0),vl(this,s.animation,u),u.previousNode=s}visitSequence(s,u){const l=u.subContextCount;let p=u;const C=s.options;if(C&&(C.params||C.delay)&&(p=u.createSubContext(C),p.transformIntoNewTimeline(),null!=C.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=Wt);const N=ld(C.delay);p.delayNextStep(N)}s.steps.length&&(s.steps.forEach(N=>vl(this,N,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>l&&p.transformIntoNewTimeline()),u.previousNode=s}visitGroup(s,u){const l=[];let p=u.currentTimeline.currentTime;const C=s.options&&s.options.delay?ld(s.options.delay):0;s.steps.forEach(N=>{const X=u.createSubContext(s.options);C&&X.delayNextStep(C),vl(this,N,X),p=Math.max(p,X.currentTimeline.currentTime),l.push(X.currentTimeline)}),l.forEach(N=>u.currentTimeline.mergeTimelineCollectedStyles(N)),u.transformIntoNewTimeline(p),u.previousNode=s}_visitTiming(s,u){if(s.dynamic){const l=s.strValue;return Ll(u.params?Nh(l,u.params,u.errors):l,u.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,u){const l=u.currentAnimateTimings=this._visitTiming(s.timings,u),p=u.currentTimeline;l.delay&&(u.incrementTime(l.delay),p.snapshotCurrentStyles());const C=s.style;5==C.type?this.visitKeyframes(C,u):(u.incrementTime(l.duration),this.visitStyle(C,u),p.applyStylesToKeyframe()),u.currentAnimateTimings=null,u.previousNode=s}visitStyle(s,u){const l=u.currentTimeline,p=u.currentAnimateTimings;!p&&l.hasCurrentStyleProperties()&&l.forwardFrame();const C=p&&p.easing||s.easing;s.isEmptyStep?l.applyEmptyStep(C):l.setStyles(s.styles,C,u.errors,u.options),u.previousNode=s}visitKeyframes(s,u){const l=u.currentAnimateTimings,p=u.currentTimeline.duration,C=l.duration,X=u.createSubContext().currentTimeline;X.easing=l.easing,s.styles.forEach(de=>{X.forwardTime((de.offset||0)*C),X.setStyles(de.styles,de.easing,u.errors,u.options),X.applyStylesToKeyframe()}),u.currentTimeline.mergeTimelineCollectedStyles(X),u.transformIntoNewTimeline(p+C),u.previousNode=s}visitQuery(s,u){const l=u.currentTimeline.currentTime,p=s.options||{},C=p.delay?ld(p.delay):0;C&&(6===u.previousNode.type||0==l&&u.currentTimeline.hasCurrentStyleProperties())&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Wt);let N=l;const X=u.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!p.optional,u.errors);u.currentQueryTotal=X.length;let de=null;X.forEach((xe,Je)=>{u.currentQueryIndex=Je;const _t=u.createSubContext(s.options,xe);C&&_t.delayNextStep(C),xe===u.element&&(de=_t.currentTimeline),vl(this,s.animation,_t),_t.currentTimeline.applyStylesToKeyframe(),N=Math.max(N,_t.currentTimeline.currentTime)}),u.currentQueryIndex=0,u.currentQueryTotal=0,u.transformIntoNewTimeline(N),de&&(u.currentTimeline.mergeTimelineCollectedStyles(de),u.currentTimeline.snapshotCurrentStyles()),u.previousNode=s}visitStagger(s,u){const l=u.parentContext,p=u.currentTimeline,C=s.timings,N=Math.abs(C.duration),X=N*(u.currentQueryTotal-1);let de=N*u.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":de=X-de;break;case"full":de=l.currentStaggerTime}const Je=u.currentTimeline;de&&Je.delayNextStep(de);const _t=Je.currentTime;vl(this,s.animation,u),u.previousNode=s,l.currentStaggerTime=p.currentTime-_t+(p.startTime-l.currentTimeline.startTime)}}const Wt={};class en{constructor(s,u,l,p,C,N,X,de){this._driver=s,this.element=u,this.subInstructions=l,this._enterClassName=p,this._leaveClassName=C,this.errors=N,this.timelines=X,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=de||new gr(this._driver,u,0),X.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,u){if(!s)return;const l=s;let p=this.options;null!=l.duration&&(p.duration=ld(l.duration)),null!=l.delay&&(p.delay=ld(l.delay));const C=l.params;if(C){let N=p.params;N||(N=this.options.params={}),Object.keys(C).forEach(X=>{(!u||!N.hasOwnProperty(X))&&(N[X]=Nh(C[X],N,this.errors))})}}_copyOptions(){const s={};if(this.options){const u=this.options.params;if(u){const l=s.params={};Object.keys(u).forEach(p=>{l[p]=u[p]})}}return s}createSubContext(s=null,u,l){const p=u||this.element,C=new en(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,l||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(s),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(s){return this.previousNode=Wt,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,u,l){const p={duration:u??s.duration,delay:this.currentTimeline.currentTime+(l??0)+s.delay,easing:""},C=new Vr(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,p,s.stretchStartingKeyframe);return this.timelines.push(C),p}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,u,l,p,C,N){let X=[];if(p&&X.push(this.element),s.length>0){s=(s=s.replace(ue,"."+this._enterClassName)).replace(ze,"."+this._leaveClassName);let xe=this._driver.query(this.element,s,1!=l);0!==l&&(xe=l<0?xe.slice(xe.length+l,xe.length):xe.slice(0,l)),X.push(...xe)}return!C&&0==X.length&&N.push(function Sh(d){return new _.vHH(3014,!1)}()),X}}class gr{constructor(s,u,l,p){this._driver=s,this.element=u,this.startTime=l,this._elementTimelineStylesLookup=p,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(u),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(u,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const u=1===this._keyframes.size&&this._pendingStyles.size;this.duration||u?(this.forwardTime(this.currentTime+s),u&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,u){return this.applyStylesToKeyframe(),new gr(this._driver,s,u||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,u){this._localTimelineStyles.set(s,u),this._globalTimelineStyles.set(s,u),this._styleSummary.set(s,{time:this.currentTime,value:u})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[u,l]of this._globalTimelineStyles)this._backFill.set(u,l||gt),this._currentKeyframe.set(u,gt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,u,l,p){u&&this._previousKeyframe.set("easing",u);const C=p&&p.params||{},N=function Cr(d,s){const u=new Map;let l;return d.forEach(p=>{if("*"===p){l=l||s.keys();for(let C of l)u.set(C,gt)}else zd(p,u)}),u}(s,this._globalTimelineStyles);for(let[X,de]of N){const xe=Nh(de,C,l);this._pendingStyles.set(X,xe),this._localTimelineStyles.has(X)||this._backFill.set(X,this._globalTimelineStyles.get(X)??gt),this._updateStyle(X,xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,u)=>{this._currentKeyframe.set(u,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,u)=>{this._currentKeyframe.has(u)||this._currentKeyframe.set(u,s)}))}snapshotCurrentStyles(){for(let[s,u]of this._localTimelineStyles)this._pendingStyles.set(s,u),this._updateStyle(s,u)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let u in this._currentKeyframe)s.push(u);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((u,l)=>{const p=this._styleSummary.get(l);(!p||u.time>p.time)&&this._updateStyle(l,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,u=new Set,l=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((X,de)=>{const xe=zd(X,new Map,this._backFill);xe.forEach((Je,_t)=>{"!"===Je?s.add(_t):Je===gt&&u.add(_t)}),l||xe.set("offset",de/this.duration),p.push(xe)});const C=s.size?d_(s.values()):[],N=u.size?d_(u.values()):[];if(l){const X=p[0],de=new Map(X);X.set("offset",0),de.set("offset",1),p=[X,de]}return b(this.element,p,C,N,this.duration,this.startTime,this.easing,!1)}}class Vr extends gr{constructor(s,u,l,p,C,N,X=!1){super(s,u,N.delay),this.keyframes=l,this.preStyleProps=p,this.postStyleProps=C,this._stretchStartingKeyframe=X,this.timings={duration:N.duration,delay:N.delay,easing:N.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:u,duration:l,easing:p}=this.timings;if(this._stretchStartingKeyframe&&u){const C=[],N=l+u,X=u/N,de=zd(s[0]);de.set("offset",0),C.push(de);const xe=zd(s[0]);xe.set("offset",Hn(X)),C.push(xe);const Je=s.length-1;for(let _t=1;_t<=Je;_t++){let Rn=zd(s[_t]);const An=Rn.get("offset");Rn.set("offset",Hn((u+An*l)/N)),C.push(Rn)}l=N,u=0,p="",s=C}return b(this.element,s,this.preStyleProps,this.postStyleProps,l,u,p,!0)}}function Hn(d,s=3){const u=Math.pow(10,s-1);return Math.round(d*u)/u}class Vs{}const Au=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gd extends Vs{normalizePropertyName(s,u){return tg(s)}normalizeStyleValue(s,u,l,p){let C="";const N=l.toString().trim();if(Au.has(u)&&0!==l&&"0"!==l)if("number"==typeof l)C="px";else{const X=l.match(/^[+-]?[\d\.]+([a-z]*)$/);X&&0==X[1].length&&p.push(function Vf(d,s){return new _.vHH(3005,!1)}())}return N+C}}function qv(d,s,u,l,p,C,N,X,de,xe,Je,_t,Rn){return{type:0,element:d,triggerName:s,isRemovalTransition:p,fromState:u,fromStyles:C,toState:l,toStyles:N,timelines:X,queriedElements:de,preStyleProps:xe,postStyleProps:Je,totalTime:_t,errors:Rn}}const sg={};class Wf{constructor(s,u,l){this._triggerName=s,this.ast=u,this._stateStyles=l}match(s,u,l,p){return function Zo(d,s,u,l,p){return d.some(C=>C(s,u,l,p))}(this.ast.matchers,s,u,l,p)}buildStyles(s,u,l){let p=this._stateStyles.get("*");return void 0!==s&&(p=this._stateStyles.get(s?.toString())||p),p?p.buildStyles(u,l):new Map}build(s,u,l,p,C,N,X,de,xe,Je){const _t=[],Rn=this.ast.options&&this.ast.options.params||sg,pn=this.buildStyles(l,X&&X.params||sg,_t),xn=de&&de.params||sg,Ur=this.buildStyles(p,xn,_t),Es=new Set,so=new Map,yl=new Map,Oa="void"===p,qf={params:Kv(xn,Rn),delay:this.ast.options?.delay},Vl=Je?[]:We(s,u,this.ast.animation,C,N,pn,Ur,qf,xe,_t);let Pa=0;if(Vl.forEach(fd=>{Pa=Math.max(fd.duration+fd.delay,Pa)}),_t.length)return qv(u,this._triggerName,l,p,Oa,pn,Ur,[],[],so,yl,Pa,_t);Vl.forEach(fd=>{const Kd=fd.element,Cb=_l(so,Kd,new Set);fd.preStyleProps.forEach(Hp=>Cb.add(Hp));const I_=_l(yl,Kd,new Set);fd.postStyleProps.forEach(Hp=>I_.add(Hp)),Kd!==u&&Es.add(Kd)});const hd=d_(Es.values());return qv(u,this._triggerName,l,p,Oa,pn,Ur,Vl,hd,so,yl,Pa)}}function Kv(d,s){const u=Xm(s);for(const l in d)d.hasOwnProperty(l)&&null!=d[l]&&(u[l]=d[l]);return u}class nE{constructor(s,u,l){this.styles=s,this.defaultParams=u,this.normalizer=l}buildStyles(s,u){const l=new Map,p=Xm(this.defaultParams);return Object.keys(s).forEach(C=>{const N=s[C];null!==N&&(p[C]=N)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((N,X)=>{N&&(N=Nh(N,p,u));const de=this.normalizer.normalizePropertyName(X,u);N=this.normalizer.normalizeStyleValue(X,de,N,u),l.set(X,N)})}),l}}class l0{constructor(s,u,l){this.name=s,this.ast=u,this._normalizer=l,this.transitionFactories=[],this.states=new Map,u.states.forEach(p=>{this.states.set(p.name,new nE(p.style,p.options&&p.options.params||{},l))}),cb(this.states,"true","1"),cb(this.states,"false","0"),u.transitions.forEach(p=>{this.transitionFactories.push(new Wf(s,p,this.states))}),this.fallbackTransition=function iE(d,s,u){return new Wf(d,{type:1,animation:{type:2,steps:[],options:null},matchers:[(N,X)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,u,l,p){return this.transitionFactories.find(N=>N.match(s,u,l,p))||null}matchStyles(s,u,l){return this.fallbackTransition.buildStyles(s,u,l)}}function cb(d,s,u){d.has(s)?d.has(u)||d.set(u,d.get(s)):d.has(u)&&d.set(s,d.get(u))}const c0=new O;class og{constructor(s,u,l){this.bodyNode=s,this._driver=u,this._normalizer=l,this._animations=new Map,this._playersById=new Map,this.players=[]}register(s,u){const l=[],C=Up(this._driver,u,l,[]);if(l.length)throw function Bf(d){return new _.vHH(3503,!1)}();this._animations.set(s,C)}_buildPlayer(s,u,l){const p=s.element,C=zf(this._normalizer,s.keyframes,u,l);return this._driver.animate(p,C,s.duration,s.delay,s.easing,[],!0)}create(s,u,l={}){const p=[],C=this._animations.get(s);let N;const X=new Map;if(C?(N=We(this._driver,u,C,c_,Su,new Map,new Map,l,c0,p),N.forEach(Je=>{const _t=_l(X,Je.element,new Map);Je.postStyleProps.forEach(Rn=>_t.set(Rn,null))})):(p.push(function od(){return new _.vHH(3300,!1)}()),N=[]),p.length)throw function Rh(d){return new _.vHH(3504,!1)}();X.forEach((Je,_t)=>{Je.forEach((Rn,An)=>{Je.set(An,this._driver.computeStyle(_t,An,gt))})});const xe=ad(N.map(Je=>{const _t=X.get(Je.element);return this._buildPlayer(Je,new Map,_t)}));return this._playersById.set(s,xe),xe.onDestroy(()=>this.destroy(s)),this.players.push(xe),xe}destroy(s){const u=this._getPlayer(s);u.destroy(),this._playersById.delete(s);const l=this.players.indexOf(u);l>=0&&this.players.splice(l,1)}_getPlayer(s){const u=this._playersById.get(s);if(!u)throw function Ud(d){return new _.vHH(3301,!1)}();return u}listen(s,u,l,p){const C=Ph(u,"","","");return Wm(this._getPlayer(s),l,C,p),()=>{}}command(s,u,l,p){if("register"==l)return void this.register(s,p[0]);if("create"==l)return void this.create(s,u,p[0]||{});const C=this._getPlayer(s);switch(l){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(s)}}}const u0="ng-animate-queued",Zv="ng-animate-disabled",h0=[],Yv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ud="__ng_removed";class ub{get params(){return this.options.params}constructor(s,u=""){this.namespaceId=u;const l=s&&s.hasOwnProperty("value");if(this.value=function lE(d){return d??null}(l?s.value:s),l){const C=Xm(s);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const u=s.params;if(u){const l=this.options.params;Object.keys(u).forEach(p=>{null==l[p]&&(l[p]=u[p])})}}}const Ic="void",Yc=new ub(Ic);class dd{constructor(s,u,l){this.id=s,this.hostElement=u,this._engine=l,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Qc(u,this._hostClassName)}listen(s,u,l,p){if(!this._triggers.has(u))throw function Tu(d,s){return new _.vHH(3302,!1)}();if(null==l||0==l.length)throw function jf(d){return new _.vHH(3303,!1)}();if(!function cE(d){return"start"==d||"done"==d}(l))throw function Du(d,s){return new _.vHH(3400,!1)}();const C=_l(this._elementListeners,s,[]),N={name:u,phase:l,callback:p};C.push(N);const X=_l(this._engine.statesByElement,s,new Map);return X.has(u)||(Qc(s,Fl),Qc(s,Fl+"-"+u),X.set(u,Yc)),()=>{this._engine.afterFlush(()=>{const de=C.indexOf(N);de>=0&&C.splice(de,1),this._triggers.has(u)||X.delete(u)})}}register(s,u){return!this._triggers.has(s)&&(this._triggers.set(s,u),!0)}_getTrigger(s){const u=this._triggers.get(s);if(!u)throw function Hf(d){return new _.vHH(3401,!1)}();return u}trigger(s,u,l,p=!0){const C=this._getTrigger(u),N=new Qv(this.id,u,s);let X=this._engine.statesByElement.get(s);X||(Qc(s,Fl),Qc(s,Fl+"-"+u),this._engine.statesByElement.set(s,X=new Map));let de=X.get(u);const xe=new ub(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&de&&xe.absorbOptions(de.options),X.set(u,xe),de||(de=Yc),xe.value!==Ic&&de.value===xe.value){if(!function ey(d,s){const u=Object.keys(d),l=Object.keys(s);if(u.length!=l.length)return!1;for(let p=0;p<u.length;p++){const C=u[p];if(!s.hasOwnProperty(C)||d[C]!==s[C])return!1}return!0}(de.params,xe.params)){const xn=[],Ur=C.matchStyles(de.value,de.params,xn),Es=C.matchStyles(xe.value,xe.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{kh(s,Ur),Zc(s,Es)})}return}const Rn=_l(this._engine.playersByElement,s,[]);Rn.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==u&&xn.queued&&xn.destroy()});let An=C.matchTransition(de.value,xe.value,s,xe.params),pn=!1;if(!An){if(!p)return;An=C.fallbackTransition,pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:u,transition:An,fromState:de,toState:xe,player:N,isFallbackTransition:pn}),pn||(Qc(s,u0),N.onStart(()=>{lg(s,u0)})),N.onDone(()=>{let xn=this.players.indexOf(N);xn>=0&&this.players.splice(xn,1);const Ur=this._engine.playersByElement.get(s);if(Ur){let Es=Ur.indexOf(N);Es>=0&&Ur.splice(Es,1)}}),this.players.push(N),Rn.push(N),N}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(u=>u.delete(s)),this._elementListeners.forEach((u,l)=>{this._elementListeners.set(l,u.filter(p=>p.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const u=this._engine.playersByElement.get(s);u&&(u.forEach(l=>l.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,u){const l=this._engine.driver.query(s,jd,!0);l.forEach(p=>{if(p[ud])return;const C=this._engine.fetchNamespacesByElement(p);C.size?C.forEach(N=>N.triggerLeaveAnimation(p,u,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(s,u,l,p){const C=this._engine.statesByElement.get(s),N=new Map;if(C){const X=[];if(C.forEach((de,xe)=>{if(N.set(xe,de.value),this._triggers.has(xe)){const Je=this.trigger(s,xe,Ic,p);Je&&X.push(Je)}}),X.length)return this._engine.markElementAsRemoved(this.id,s,!0,u,N),l&&ad(X).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const u=this._elementListeners.get(s),l=this._engine.statesByElement.get(s);if(u&&l){const p=new Set;u.forEach(C=>{const N=C.name;if(p.has(N))return;p.add(N);const de=this._triggers.get(N).fallbackTransition,xe=l.get(N)||Yc,Je=new ub(Ic),_t=new Qv(this.id,N,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:N,transition:de,fromState:xe,toState:Je,player:_t,isFallbackTransition:!0})})}}removeNode(s,u){const l=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,u),this.triggerLeaveAnimation(s,u,!0))return;let p=!1;if(l.totalAnimations){const C=l.players.length?l.playersByQueriedElement.get(s):[];if(C&&C.length)p=!0;else{let N=s;for(;N=N.parentNode;)if(l.statesByElement.get(N)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(s),p)l.markElementAsRemoved(this.id,s,!1,u);else{const C=s[ud];(!C||C===Yv)&&(l.afterFlush(()=>this.clearElementCache(s)),l.destroyInnerAnimations(s),l._onRemovalComplete(s,u))}}insertNode(s,u){Qc(s,this._hostClassName)}drainQueuedTransitions(s){const u=[];return this._queue.forEach(l=>{const p=l.player;if(p.destroyed)return;const C=l.element,N=this._elementListeners.get(C);N&&N.forEach(X=>{if(X.name==l.triggerName){const de=Ph(C,l.triggerName,l.fromState.value,l.toState.value);de._data=s,Wm(l.player,X.phase,de,X.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):u.push(l)}),this._queue=[],u.sort((l,p)=>{const C=l.transition.ast.depCount,N=p.transition.ast.depCount;return 0==C||0==N?C-N:this._engine.driver.containsElement(l.element,p.element)?1:-1})}destroy(s){this.players.forEach(u=>u.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}}class f0{_onRemovalComplete(s,u){this.onRemovalComplete(s,u)}constructor(s,u,l){this.bodyNode=s,this.driver=u,this._normalizer=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,C)=>{}}get queuedPlayers(){const s=[];return this._namespaceList.forEach(u=>{u.players.forEach(l=>{l.queued&&s.push(l)})}),s}createNamespace(s,u){const l=new dd(s,u,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,u)?this._balanceNamespaceList(l,u):(this.newHostElements.set(u,l),this.collectEnterElement(u)),this._namespaceLookup[s]=l}_balanceNamespaceList(s,u){const l=this._namespaceList,p=this.namespacesByHostElement;if(l.length-1>=0){let N=!1,X=this.driver.getParentElement(u);for(;X;){const de=p.get(X);if(de){const xe=l.indexOf(de);l.splice(xe+1,0,s),N=!0;break}X=this.driver.getParentElement(X)}N||l.unshift(s)}else l.push(s);return p.set(u,s),s}register(s,u){let l=this._namespaceLookup[s];return l||(l=this.createNamespace(s,u)),l}registerTrigger(s,u,l){let p=this._namespaceLookup[s];p&&p.register(u,l)&&this.totalAnimations++}destroy(s,u){s&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const l=this._fetchNamespace(s);this.namespacesByHostElement.delete(l.hostElement);const p=this._namespaceList.indexOf(l);p>=0&&this._namespaceList.splice(p,1),l.destroy(u),delete this._namespaceLookup[s]}))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const u=new Set,l=this.statesByElement.get(s);if(l)for(let p of l.values())if(p.namespaceId){const C=this._fetchNamespace(p.namespaceId);C&&u.add(C)}return u}trigger(s,u,l,p){if(Xv(u)){const C=this._fetchNamespace(s);if(C)return C.trigger(u,l,p),!0}return!1}insertNode(s,u,l,p){if(!Xv(u))return;const C=u[ud];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const N=this.collectedLeaveElements.indexOf(u);N>=0&&this.collectedLeaveElements.splice(N,1)}if(s){const N=this._fetchNamespace(s);N&&N.insertNode(u,l)}p&&this.collectEnterElement(u)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,u){u?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Qc(s,Zv)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),lg(s,Zv))}removeNode(s,u,l){if(Xv(u)){const p=s?this._fetchNamespace(s):null;p?p.removeNode(u,l):this.markElementAsRemoved(s,u,!1,l);const C=this.namespacesByHostElement.get(u);C&&C.id!==s&&C.removeNode(u,l)}else this._onRemovalComplete(u,l)}markElementAsRemoved(s,u,l,p,C){this.collectedLeaveElements.push(u),u[ud]={namespaceId:s,setForRemoval:p,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:C}}listen(s,u,l,p,C){return Xv(u)?this._fetchNamespace(s).listen(u,l,p,C):()=>{}}_buildInstruction(s,u,l,p,C){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,l,p,s.fromState.options,s.toState.options,u,C)}destroyInnerAnimations(s){let u=this.driver.query(s,jd,!0);u.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(u=this.driver.query(s,u_,!0),u.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(s){const u=this.playersByElement.get(s);u&&u.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(s){const u=this.playersByQueriedElement.get(s);u&&u.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return ad(this.players).onDone(()=>s());s()})}processLeaveNode(s){const u=s[ud];if(u&&u.setForRemoval){if(s[ud]=Yv,u.namespaceId){this.destroyInnerAnimations(s);const l=this._fetchNamespace(u.namespaceId);l&&l.clearElementCache(s)}this._onRemovalComplete(s,u.setForRemoval)}s.classList?.contains(Zv)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(s=-1){let u=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,p)=>this._balanceNamespaceList(l,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)Qc(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{u=this._flushAnimations(l,s)}finally{for(let p=0;p<l.length;p++)l[p]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],u.length?ad(u).onDone(()=>{l.forEach(p=>p())}):l.forEach(p=>p())}}reportError(s){throw function Oh(d){return new _.vHH(3402,!1)}()}_flushAnimations(s,u){const l=new O,p=[],C=new Map,N=[],X=new Map,de=new Map,xe=new Map,Je=new Set;this.disabledNodes.forEach(zn=>{Je.add(zn);const sr=this.driver.query(zn,".ng-animate-queued",!0);for(let br=0;br<sr.length;br++)Je.add(sr[br])});const _t=this.bodyNode,Rn=Array.from(this.statesByElement.keys()),An=p0(Rn,this.collectedEnterElements),pn=new Map;let xn=0;An.forEach((zn,sr)=>{const br=c_+xn++;pn.set(sr,br),zn.forEach(Yi=>Qc(Yi,br))});const Ur=[],Es=new Set,so=new Set;for(let zn=0;zn<this.collectedLeaveElements.length;zn++){const sr=this.collectedLeaveElements[zn],br=sr[ud];br&&br.setForRemoval&&(Ur.push(sr),Es.add(sr),br.hasAnimation?this.driver.query(sr,".ng-star-inserted",!0).forEach(Yi=>Es.add(Yi)):so.add(sr))}const yl=new Map,Oa=p0(Rn,Array.from(Es));Oa.forEach((zn,sr)=>{const br=Su+xn++;yl.set(sr,br),zn.forEach(Yi=>Qc(Yi,br))}),s.push(()=>{An.forEach((zn,sr)=>{const br=pn.get(sr);zn.forEach(Yi=>lg(Yi,br))}),Oa.forEach((zn,sr)=>{const br=yl.get(sr);zn.forEach(Yi=>lg(Yi,br))}),Ur.forEach(zn=>{this.processLeaveNode(zn)})});const qf=[],Vl=[];for(let zn=this._namespaceList.length-1;zn>=0;zn--)this._namespaceList[zn].drainQueuedTransitions(u).forEach(br=>{const Yi=br.player,tl=br.element;if(qf.push(Yi),this.collectedEnterElements.length){const nc=tl[ud];if(nc&&nc.setForMove){if(nc.previousTriggersValues&&nc.previousTriggersValues.has(br.triggerName)){const pd=nc.previousTriggersValues.get(br.triggerName),Mu=this.statesByElement.get(br.element);if(Mu&&Mu.has(br.triggerName)){const ly=Mu.get(br.triggerName);ly.value=pd,Mu.set(br.triggerName,ly)}}return void Yi.destroy()}}const Cc=!_t||!this.driver.containsElement(_t,tl),Jc=yl.get(tl),Zd=pn.get(tl),Uo=this._buildInstruction(br,l,Zd,Jc,Cc);if(Uo.errors&&Uo.errors.length)return void Vl.push(Uo);if(Cc)return Yi.onStart(()=>kh(tl,Uo.fromStyles)),Yi.onDestroy(()=>Zc(tl,Uo.toStyles)),void p.push(Yi);if(br.isFallbackTransition)return Yi.onStart(()=>kh(tl,Uo.fromStyles)),Yi.onDestroy(()=>Zc(tl,Uo.toStyles)),void p.push(Yi);const hw=[];Uo.timelines.forEach(nc=>{nc.stretchStartingKeyframe=!0,this.disabledNodes.has(nc.element)||hw.push(nc)}),Uo.timelines=hw,l.append(tl,Uo.timelines),N.push({instruction:Uo,player:Yi,element:tl}),Uo.queriedElements.forEach(nc=>_l(X,nc,[]).push(Yi)),Uo.preStyleProps.forEach((nc,pd)=>{if(nc.size){let Mu=de.get(pd);Mu||de.set(pd,Mu=new Set),nc.forEach((ly,xb)=>Mu.add(xb))}}),Uo.postStyleProps.forEach((nc,pd)=>{let Mu=xe.get(pd);Mu||xe.set(pd,Mu=new Set),nc.forEach((ly,xb)=>Mu.add(xb))})});if(Vl.length){const zn=[];Vl.forEach(sr=>{zn.push(function Jy(d,s){return new _.vHH(3505,!1)}())}),qf.forEach(sr=>sr.destroy()),this.reportError(zn)}const Pa=new Map,hd=new Map;N.forEach(zn=>{const sr=zn.element;l.has(sr)&&(hd.set(sr,sr),this._beforeAnimationBuild(zn.player.namespaceId,zn.instruction,Pa))}),p.forEach(zn=>{const sr=zn.element;this._getPreviousPlayers(sr,!1,zn.namespaceId,zn.triggerName,null).forEach(Yi=>{_l(Pa,sr,[]).push(Yi),Yi.destroy()})});const fd=Ur.filter(zn=>g0(zn,de,xe)),Kd=new Map;ag(Kd,this.driver,so,xe,gt).forEach(zn=>{g0(zn,de,xe)&&fd.push(zn)});const I_=new Map;An.forEach((zn,sr)=>{ag(I_,this.driver,new Set(zn),de,"!")}),fd.forEach(zn=>{const sr=Kd.get(zn),br=I_.get(zn);Kd.set(zn,new Map([...sr?.entries()??[],...br?.entries()??[]]))});const Hp=[],uw=[],dw={};N.forEach(zn=>{const{element:sr,player:br,instruction:Yi}=zn;if(l.has(sr)){if(Je.has(sr))return br.onDestroy(()=>Zc(sr,Yi.toStyles)),br.disabled=!0,br.overrideTotalTime(Yi.totalTime),void p.push(br);let tl=dw;if(hd.size>1){let Jc=sr;const Zd=[];for(;Jc=Jc.parentNode;){const Uo=hd.get(Jc);if(Uo){tl=Uo;break}Zd.push(Jc)}Zd.forEach(Uo=>hd.set(Uo,tl))}const Cc=this._buildAnimation(br.namespaceId,Yi,Pa,C,I_,Kd);if(br.setRealPlayer(Cc),tl===dw)Hp.push(br);else{const Jc=this.playersByElement.get(tl);Jc&&Jc.length&&(br.parentPlayer=ad(Jc)),p.push(br)}}else kh(sr,Yi.fromStyles),br.onDestroy(()=>Zc(sr,Yi.toStyles)),uw.push(br),Je.has(sr)&&p.push(br)}),uw.forEach(zn=>{const sr=C.get(zn.element);if(sr&&sr.length){const br=ad(sr);zn.setRealPlayer(br)}}),p.forEach(zn=>{zn.parentPlayer?zn.syncPlayerEvents(zn.parentPlayer):zn.destroy()});for(let zn=0;zn<Ur.length;zn++){const sr=Ur[zn],br=sr[ud];if(lg(sr,Su),br&&br.hasAnimation)continue;let Yi=[];if(X.size){let Cc=X.get(sr);Cc&&Cc.length&&Yi.push(...Cc);let Jc=this.driver.query(sr,u_,!0);for(let Zd=0;Zd<Jc.length;Zd++){let Uo=X.get(Jc[Zd]);Uo&&Uo.length&&Yi.push(...Uo)}}const tl=Yi.filter(Cc=>!Cc.destroyed);tl.length?uE(this,sr,tl):this.processLeaveNode(sr)}return Ur.length=0,Hp.forEach(zn=>{this.players.push(zn),zn.onDone(()=>{zn.destroy();const sr=this.players.indexOf(zn);this.players.splice(sr,1)}),zn.play()}),Hp}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,u,l,p,C){let N=[];if(u){const X=this.playersByQueriedElement.get(s);X&&(N=X)}else{const X=this.playersByElement.get(s);if(X){const de=!C||C==Ic;X.forEach(xe=>{xe.queued||!de&&xe.triggerName!=p||N.push(xe)})}}return(l||p)&&(N=N.filter(X=>!(l&&l!=X.namespaceId||p&&p!=X.triggerName))),N}_beforeAnimationBuild(s,u,l){const C=u.element,N=u.isRemovalTransition?void 0:s,X=u.isRemovalTransition?void 0:u.triggerName;for(const de of u.timelines){const xe=de.element,Je=xe!==C,_t=_l(l,xe,[]);this._getPreviousPlayers(xe,Je,N,X,u.toState).forEach(An=>{const pn=An.getRealPlayer();pn.beforeDestroy&&pn.beforeDestroy(),An.destroy(),_t.push(An)})}kh(C,u.fromStyles)}_buildAnimation(s,u,l,p,C,N){const X=u.triggerName,de=u.element,xe=[],Je=new Set,_t=new Set,Rn=u.timelines.map(pn=>{const xn=pn.element;Je.add(xn);const Ur=xn[ud];if(Ur&&Ur.removedBeforeQueried)return new ml(pn.duration,pn.delay);const Es=xn!==de,so=function m0(d){const s=[];return db(d,s),s}((l.get(xn)||h0).map(Pa=>Pa.getRealPlayer())).filter(Pa=>!!Pa.element&&Pa.element===xn),yl=C.get(xn),Oa=N.get(xn),qf=zf(this._normalizer,pn.keyframes,yl,Oa),Vl=this._buildPlayer(pn,qf,so);if(pn.subTimeline&&p&&_t.add(xn),Es){const Pa=new Qv(s,X,xn);Pa.setRealPlayer(Vl),xe.push(Pa)}return Vl});xe.forEach(pn=>{_l(this.playersByQueriedElement,pn.element,[]).push(pn),pn.onDone(()=>function aE(d,s,u){let l=d.get(s);if(l){if(l.length){const p=l.indexOf(u);l.splice(p,1)}0==l.length&&d.delete(s)}return l}(this.playersByQueriedElement,pn.element,pn))}),Je.forEach(pn=>Qc(pn,Hd));const An=ad(Rn);return An.onDestroy(()=>{Je.forEach(pn=>lg(pn,Hd)),Zc(de,u.toStyles)}),_t.forEach(pn=>{_l(p,pn,[]).push(An)}),An}_buildPlayer(s,u,l){return u.length>0?this.driver.animate(s.element,u,s.duration,s.delay,s.easing,l):new ml(s.duration,s.delay)}}class Qv{constructor(s,u,l){this.namespaceId=s,this.triggerName=u,this.element=l,this._player=new ml,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((u,l)=>{u.forEach(p=>Wm(s,l,void 0,p))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const u=this._player;u.triggerCallback&&s.onStart(()=>u.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,u){_l(this._queuedCallbacks,s,[]).push(u)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const u=this._player;u.triggerCallback&&u.triggerCallback(s)}}function Xv(d){return d&&1===d.nodeType}function Jv(d,s){const u=d.style.display;return d.style.display=s??"none",u}function ag(d,s,u,l,p){const C=[];u.forEach(de=>C.push(Jv(de)));const N=[];l.forEach((de,xe)=>{const Je=new Map;de.forEach(_t=>{const Rn=s.computeStyle(xe,_t,p);Je.set(_t,Rn),(!Rn||0==Rn.length)&&(xe[ud]=Wd,N.push(xe))}),d.set(xe,Je)});let X=0;return u.forEach(de=>Jv(de,C[X++])),N}function p0(d,s){const u=new Map;if(d.forEach(X=>u.set(X,[])),0==s.length)return u;const p=new Set(s),C=new Map;function N(X){if(!X)return 1;let de=C.get(X);if(de)return de;const xe=X.parentNode;return de=u.has(xe)?xe:p.has(xe)?1:N(xe),C.set(X,de),de}return s.forEach(X=>{const de=N(X);1!==de&&u.get(de).push(X)}),u}function Qc(d,s){d.classList?.add(s)}function lg(d,s){d.classList?.remove(s)}function uE(d,s,u){ad(u).onDone(()=>d.processLeaveNode(s))}function db(d,s){for(let u=0;u<d.length;u++){const l=d[u];l instanceof Jf?db(l.players,s):s.push(l)}}function g0(d,s,u){const l=u.get(d);if(!l)return!1;let p=s.get(d);return p?l.forEach(C=>p.add(C)):s.set(d,l),u.delete(d),!0}class __{constructor(s,u,l){this.bodyNode=s,this._driver=u,this._normalizer=l,this._triggerCache={},this.onRemovalComplete=(p,C)=>{},this._transitionEngine=new f0(s,u,l),this._timelineEngine=new og(s,u,l),this._transitionEngine.onRemovalComplete=(p,C)=>this.onRemovalComplete(p,C)}registerTrigger(s,u,l,p,C){const N=s+"-"+p;let X=this._triggerCache[N];if(!X){const de=[],Je=Up(this._driver,C,de,[]);if(de.length)throw function $m(d,s){return new _.vHH(3404,!1)}();X=function rE(d,s,u){return new l0(d,s,u)}(p,Je,this._normalizer),this._triggerCache[N]=X}this._transitionEngine.registerTrigger(u,p,X)}register(s,u){this._transitionEngine.register(s,u)}destroy(s,u){this._transitionEngine.destroy(s,u)}onInsert(s,u,l,p){this._transitionEngine.insertNode(s,u,l,p)}onRemove(s,u,l){this._transitionEngine.removeNode(s,u,l)}disableAnimations(s,u){this._transitionEngine.markElementAsDisabled(s,u)}process(s,u,l,p){if("@"==l.charAt(0)){const[C,N]=Uv(l);this._timelineEngine.command(C,u,N,p)}else this._transitionEngine.trigger(s,u,l,p)}listen(s,u,l,p,C){if("@"==l.charAt(0)){const[N,X]=Uv(l);return this._timelineEngine.listen(N,u,X,C)}return this._transitionEngine.listen(s,u,l,p,C)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(s){this._transitionEngine.afterFlushAnimationsDone(s)}}let v0=(()=>{class s{constructor(l,p,C){this._element=l,this._startStyles=p,this._endStyles=C,this._state=0;let N=s.initialStylesByElement.get(l);N||s.initialStylesByElement.set(l,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(s.initialStylesByElement.delete(this._element),this._startStyles&&(kh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kh(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return s.initialStylesByElement=new WeakMap,s})();function hb(d){let s=null;return d.forEach((u,l)=>{(function dE(d){return"display"===d||"position"===d})(l)&&(s=s||new Map,s.set(l,u))}),s}class ty{constructor(s,u,l,p){this.element=s,this.keyframes=u,this.options=l,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const u=[];return s.forEach(l=>{u.push(Object.fromEntries(l))}),u}_triggerWebAnimation(s,u,l){return s.animate(this._convertKeyframesToObject(u),l)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,p)=>{"offset"!==p&&s.set(p,this._finished?l:ng(this.element,p))}),this.currentSnapshot=s}triggerCallback(s){const u="start"===s?this._onStartFns:this._onDoneFns;u.forEach(l=>l()),u.length=0}}class ny{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}matchesElement(s,u){return!1}containsElement(s,u){return o_(s,u)}getParentElement(s){return Bv(s)}query(s,u,l){return Km(s,u,l)}computeStyle(s,u,l){return window.getComputedStyle(s)[u]}animate(s,u,l,p,C,N=[]){const de={duration:l,delay:p,fill:0==p?"both":"forwards"};C&&(de.easing=C);const xe=new Map,Je=N.filter(An=>An instanceof ty);(function h_(d,s){return 0===d||0===s})(l,p)&&Je.forEach(An=>{An.currentSnapshot.forEach((pn,xn)=>xe.set(xn,pn))});let _t=function tb(d){return d.length?d[0]instanceof Map?d:d.map(s=>$v(s)):[]}(u).map(An=>zd(An));_t=function rb(d,s,u){if(u.size&&s.length){let l=s[0],p=[];if(u.forEach((C,N)=>{l.has(N)||p.push(N),l.set(N,C)}),p.length)for(let C=1;C<s.length;C++){let N=s[C];p.forEach(X=>N.set(X,ng(d,X)))}}return s}(s,_t,xe);const Rn=function _0(d,s){let u=null,l=null;return Array.isArray(s)&&s.length?(u=hb(s[0]),s.length>1&&(l=hb(s[s.length-1]))):s instanceof Map&&(u=hb(s)),u||l?new v0(d,u,l):null}(s,_t);return new ty(s,_t,de,Rn)}}let y0=(()=>{var d;class s extends Ie{constructor(l,p){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(p.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(l){const p=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(l)?Jr(l):l;return fb(this._renderer,null,p,"register",[C]),new b0(p,this._renderer)}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_.FYo),_.LFG(_e.K0))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})();class b0 extends Be{constructor(s,u){super(),this._id=s,this._renderer=u}create(s,u){return new E0(this._id,s,u||{},this._renderer)}}class E0{constructor(s,u,l,p){this.id=s,this.element=u,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",l)}_listen(s,u){return this._renderer.listen(this.element,`@@${this.id}:${s}`,u)}_command(s,...u){return fb(this._renderer,this.element,this.id,s,u)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fb(d,s,u,l,p){return d.setProperty(s,`@@${u}:${l}`,p)}const pb="@.disabled";let w0=(()=>{var d;class s{constructor(l,p,C){this.delegate=l,this.engine=p,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,p.onRemovalComplete=(N,X)=>{const de=X?.parentNode(N);de&&X.removeChild(de,N)}}createRenderer(l,p){const N=this.delegate.createRenderer(l,p);if(!(l&&p&&p.data&&p.data.animation)){let _t=this._rendererCache.get(N);return _t||(_t=new mb("",N,this.engine,()=>this._rendererCache.delete(N)),this._rendererCache.set(N,_t)),_t}const X=p.id,de=p.id+"-"+this._currentId;this._currentId++,this.engine.register(de,l);const xe=_t=>{Array.isArray(_t)?_t.forEach(xe):this.engine.registerTrigger(X,de,l,_t.name,_t)};return p.data.animation.forEach(xe),new hE(this,de,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,p,C){l>=0&&l<this._microtaskId?this._zone.run(()=>p(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(N=>{const[X,de]=N;X(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_.FYo),_.LFG(__),_.LFG(_.R0b))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})();class mb{constructor(s,u,l,p){this.namespaceId=s,this.delegate=u,this.engine=l,this._onDestroy=p}get data(){return this.delegate.data}destroyNode(s){this.delegate.destroyNode?.(s)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(s,u){return this.delegate.createElement(s,u)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,u){this.delegate.appendChild(s,u),this.engine.onInsert(this.namespaceId,u,s,!1)}insertBefore(s,u,l,p=!0){this.delegate.insertBefore(s,u,l),this.engine.onInsert(this.namespaceId,u,s,p)}removeChild(s,u,l){this.engine.onRemove(this.namespaceId,u,this.delegate)}selectRootElement(s,u){return this.delegate.selectRootElement(s,u)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,u,l,p){this.delegate.setAttribute(s,u,l,p)}removeAttribute(s,u,l){this.delegate.removeAttribute(s,u,l)}addClass(s,u){this.delegate.addClass(s,u)}removeClass(s,u){this.delegate.removeClass(s,u)}setStyle(s,u,l,p){this.delegate.setStyle(s,u,l,p)}removeStyle(s,u,l){this.delegate.removeStyle(s,u,l)}setProperty(s,u,l){"@"==u.charAt(0)&&u==pb?this.disableAnimations(s,!!l):this.delegate.setProperty(s,u,l)}setValue(s,u){this.delegate.setValue(s,u)}listen(s,u,l){return this.delegate.listen(s,u,l)}disableAnimations(s,u){this.engine.disableAnimations(s,u)}}class hE extends mb{constructor(s,u,l,p,C){super(u,l,p,C),this.factory=s,this.namespaceId=u}setProperty(s,u,l){"@"==u.charAt(0)?"."==u.charAt(1)&&u==pb?this.disableAnimations(s,l=void 0===l||!!l):this.engine.process(this.namespaceId,s,u.slice(1),l):this.delegate.setProperty(s,u,l)}listen(s,u,l){if("@"==u.charAt(0)){const p=function fE(d){switch(d){case"body":return document.body;case"document":return document;case"window":return window;default:return d}}(s);let C=u.slice(1),N="";return"@"!=C.charAt(0)&&([C,N]=function pE(d){const s=d.indexOf(".");return[d.substring(0,s),d.slice(s+1)]}(C)),this.engine.listen(this.namespaceId,p,C,N,X=>{this.factory.scheduleListenerCallback(X._data||-1,l,X)})}return this.delegate.listen(s,u,l)}}const I0=[{provide:Ie,useClass:y0},{provide:Vs,useFactory:function gE(){return new Gd}},{provide:__,useClass:(()=>{var d;class s extends __{constructor(l,p,C,N){super(l.body,p,C)}ngOnDestroy(){this.flush()}}return(d=s).\u0275fac=function(l){return new(l||d)(_.LFG(_e.K0),_.LFG(Zm),_.LFG(Vs),_.LFG(_.z2F))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac}),s})()},{provide:_.FYo,useFactory:function _E(d,s,u){return new w0(d,s,u)},deps:[E.se,__,_.R0b]}],gb=[{provide:Zm,useFactory:()=>new ny},{provide:_.QbO,useValue:"BrowserAnimations"},...I0],C0=[{provide:Zm,useClass:$f},{provide:_.QbO,useValue:"NoopAnimations"},...I0];let vE=(()=>{var d;class s{static withConfig(l){return{ngModule:s,providers:l.disableAnimations?C0:gb}}}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({providers:gb,imports:[E.b2]}),s})();var cg=K(8726);const x0={firebase:{projectId:"laboivtp1",appId:"1:939944236212:web:c9e26a986d9427d33933e1",storageBucket:"laboivtp1.appspot.com",apiKey:"AIzaSyBmUJDHqgAR54TXTgpWfqVuPqRASSMQthA",authDomain:"laboivtp1.firebaseapp.com",messagingSenderId:"939944236212"}};var qd=K(3452),T0=K(4097),D0=K(2194),S0=K(6710);K(9058),K(534),K(7879),K(4537);class ry{constructor(s){return s}}class vb{constructor(){return(0,qd.vb)("auth")}}const y_=new _.OlP("angularfire2.auth-instances");function Bp(d){return(s,u)=>{const l=s.runOutsideAngular(()=>d(u));return new ry(l)}}const CE={provide:vb,deps:[[new _.FiY,y_]]},xE={provide:ry,useFactory:function yb(d,s){const u=(0,qd.JM)("auth",d,s);return u&&new ry(u)},deps:[[new _.FiY,y_],cg.Ot]};let ug=(()=>{class d{constructor(){(0,T0.KN)("angularfire",qd.q4.full,"auth")}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({providers:[xE,CE]}),d})();function $w(d,...s){return{ngModule:ug,providers:[{provide:y_,useFactory:Bp(d),multi:!0,deps:[_.R0b,_.zs3,qd.HU,cg.z6,[new _.FiY,D0.nm],...s]}]}}const iy=(0,qd.u3)(S0.o,!0);var M0=K(8162);class jp{constructor(s){return s}}const R0="firestore",Ib=new _.OlP("angularfire2.firestore-instances");function zE(d){return(s,u)=>{const l=s.runOutsideAngular(()=>d(u));return new jp(l)}}const O0={provide:class HE{constructor(){return(0,qd.vb)(R0)}},deps:[[new _.FiY,Ib]]},$E={provide:jp,useFactory:function hI(d,s){const u=(0,qd.JM)(R0,d,s);return u&&new jp(u)},deps:[[new _.FiY,Ib],cg.Ot]};let GE=(()=>{class d{constructor(){(0,T0.KN)("angularfire",qd.q4.full,"fst")}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=_.oAB({type:d}),d.\u0275inj=_.cJS({providers:[$E,O0]}),d})();function w_(d,...s){return{ngModule:GE,providers:[{provide:Ib,useFactory:zE(d),multi:!0,deps:[_.R0b,_.zs3,qd.HU,cg.z6,[new _.FiY,vb],[new _.FiY,D0.nm],...s]}]}}const tw=(0,qd.u3)(M0.ad,!0);var H0=K(6304);let z0=(()=>{var d;class s{}return(d=s).\u0275fac=function(l){return new(l||d)},d.\u0275mod=_.oAB({type:d,bootstrap:[Qy]}),d.\u0275inj=_.cJS({providers:[{provide:H0.Dh,useValue:x0.firebase}],imports:[E.b2,Th,xs,vE,Sm,Fy,pe,Wy,Bl,If,(0,cg.hX)(()=>(0,cg.ZF)(x0.firebase)),$w(()=>iy()),w_(()=>tw())]}),s})();E.q6().bootstrapModule(z0).catch(d=>console.error(d))},5619:(Jt,Ke,K)=>{K.d(Ke,{X:()=>se});var E=K(8645);class se extends E.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const _e=super._subscribe(_);return!_e.closed&&_.next(this._value),_e}getValue(){const{hasError:_,thrownError:_e,_value:Se}=this;if(_)throw _e;return this._throwIfClosed(),Se}next(_){super.next(this._value=_)}}},5592:(Jt,Ke,K)=>{K.d(Ke,{y:()=>Te});var E=K(305),se=K(7394),ie=K(4850),_=K(8407),_e=K(2653),Se=K(4674),Ae=K(1441);let Te=(()=>{class Fe{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const yt=new Fe;return yt.source=this,yt.operator=nt,yt}subscribe(nt,yt,ft){const mt=function Ce(Fe){return Fe&&Fe instanceof E.Lv||function fe(Fe){return Fe&&(0,Se.m)(Fe.next)&&(0,Se.m)(Fe.error)&&(0,Se.m)(Fe.complete)}(Fe)&&(0,se.Nn)(Fe)}(nt)?nt:new E.Hp(nt,yt,ft);return(0,Ae.x)(()=>{const{operator:pt,source:sn}=this;mt.add(pt?pt.call(mt,sn):sn?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(nt){try{return this._subscribe(nt)}catch(yt){nt.error(yt)}}forEach(nt,yt){return new(yt=je(yt))((ft,mt)=>{const pt=new E.Hp({next:sn=>{try{nt(sn)}catch(Yt){mt(Yt),pt.unsubscribe()}},error:mt,complete:ft});this.subscribe(pt)})}_subscribe(nt){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(nt)}[ie.L](){return this}pipe(...nt){return(0,_.U)(nt)(this)}toPromise(nt){return new(nt=je(nt))((yt,ft)=>{let mt;this.subscribe(pt=>mt=pt,pt=>ft(pt),()=>yt(mt))})}}return Fe.create=ht=>new Fe(ht),Fe})();function je(Fe){var ht;return null!==(ht=Fe??_e.config.Promise)&&void 0!==ht?ht:Promise}},8645:(Jt,Ke,K)=>{K.d(Ke,{x:()=>Ae});var E=K(5592),se=K(7394);const _=(0,K(2306).d)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=K(9039),Se=K(1441);let Ae=(()=>{class je extends E.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const Fe=new Te(this,this);return Fe.operator=Ce,Fe}_throwIfClosed(){if(this.closed)throw new _}next(Ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(Ce)}})}error(Ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(Ce)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:Fe,isStopped:ht,observers:nt}=this;return Fe||ht?se.Lc:(this.currentObservers=null,nt.push(Ce),new se.w0(()=>{this.currentObservers=null,(0,_e.P)(nt,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:Fe,thrownError:ht,isStopped:nt}=this;Fe?Ce.error(ht):nt&&Ce.complete()}asObservable(){const Ce=new E.y;return Ce.source=this,Ce}}return je.create=(fe,Ce)=>new Te(fe,Ce),je})();class Te extends Ae{constructor(fe,Ce){super(),this.destination=fe,this.source=Ce}next(fe){var Ce,Fe;null===(Fe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===Fe||Fe.call(Ce,fe)}error(fe){var Ce,Fe;null===(Fe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===Fe||Fe.call(Ce,fe)}complete(){var fe,Ce;null===(Ce=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===Ce||Ce.call(fe)}_subscribe(fe){var Ce,Fe;return null!==(Fe=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(fe))&&void 0!==Fe?Fe:se.Lc}}},305:(Jt,Ke,K)=>{K.d(Ke,{Hp:()=>ft,Lv:()=>Fe});var E=K(4674),se=K(7394),ie=K(2653),_=K(3894),_e=K(2420);const Se=je("C",void 0,void 0);function je(Ve,lt,ke){return{kind:Ve,value:lt,error:ke}}var fe=K(7599),Ce=K(1441);class Fe extends se.w0{constructor(lt){super(),this.isStopped=!1,lt?(this.destination=lt,(0,se.Nn)(lt)&&lt.add(this)):this.destination=Yt}static create(lt,ke,st){return new ft(lt,ke,st)}next(lt){this.isStopped?sn(function Te(Ve){return je("N",Ve,void 0)}(lt),this):this._next(lt)}error(lt){this.isStopped?sn(function Ae(Ve){return je("E",void 0,Ve)}(lt),this):(this.isStopped=!0,this._error(lt))}complete(){this.isStopped?sn(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(lt){this.destination.next(lt)}_error(lt){try{this.destination.error(lt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function nt(Ve,lt){return ht.call(Ve,lt)}class yt{constructor(lt){this.partialObserver=lt}next(lt){const{partialObserver:ke}=this;if(ke.next)try{ke.next(lt)}catch(st){mt(st)}}error(lt){const{partialObserver:ke}=this;if(ke.error)try{ke.error(lt)}catch(st){mt(st)}else mt(lt)}complete(){const{partialObserver:lt}=this;if(lt.complete)try{lt.complete()}catch(ke){mt(ke)}}}class ft extends Fe{constructor(lt,ke,st){let Dt;if(super(),(0,E.m)(lt)||!lt)Dt={next:lt??void 0,error:ke??void 0,complete:st??void 0};else{let St;this&&ie.config.useDeprecatedNextContext?(St=Object.create(lt),St.unsubscribe=()=>this.unsubscribe(),Dt={next:lt.next&&nt(lt.next,St),error:lt.error&&nt(lt.error,St),complete:lt.complete&&nt(lt.complete,St)}):Dt=lt}this.destination=new yt(Dt)}}function mt(Ve){ie.config.useDeprecatedSynchronousErrorHandling?(0,Ce.O)(Ve):(0,_.h)(Ve)}function sn(Ve,lt){const{onStoppedNotification:ke}=ie.config;ke&&fe.z.setTimeout(()=>ke(Ve,lt))}const Yt={closed:!0,next:_e.Z,error:function pt(Ve){throw Ve},complete:_e.Z}},7394:(Jt,Ke,K)=>{K.d(Ke,{Lc:()=>Se,w0:()=>_e,Nn:()=>Ae});var E=K(4674);const ie=(0,K(2306).d)(je=>function(Ce){je(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map((Fe,ht)=>`${ht+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var _=K(9039);class _e{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const nt of Ce)nt.remove(this);else Ce.remove(this);const{initialTeardown:Fe}=this;if((0,E.m)(Fe))try{Fe()}catch(nt){fe=nt instanceof ie?nt.errors:[nt]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const nt of ht)try{Te(nt)}catch(yt){fe=fe??[],yt instanceof ie?fe=[...fe,...yt.errors]:fe.push(yt)}}if(fe)throw new ie(fe)}}add(fe){var Ce;if(fe&&fe!==this)if(this.closed)Te(fe);else{if(fe instanceof _e){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(fe)}}_hasParent(fe){const{_parentage:Ce}=this;return Ce===fe||Array.isArray(Ce)&&Ce.includes(fe)}_addParent(fe){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(fe),Ce):Ce?[Ce,fe]:fe}_removeParent(fe){const{_parentage:Ce}=this;Ce===fe?this._parentage=null:Array.isArray(Ce)&&(0,_.P)(Ce,fe)}remove(fe){const{_finalizers:Ce}=this;Ce&&(0,_.P)(Ce,fe),fe instanceof _e&&fe._removeParent(this)}}_e.EMPTY=(()=>{const je=new _e;return je.closed=!0,je})();const Se=_e.EMPTY;function Ae(je){return je instanceof _e||je&&"closed"in je&&(0,E.m)(je.remove)&&(0,E.m)(je.add)&&(0,E.m)(je.unsubscribe)}function Te(je){(0,E.m)(je)?je():je.unsubscribe()}},2653:(Jt,Ke,K)=>{K.d(Ke,{config:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Jt,Ke,K)=>{K.d(Ke,{a:()=>fe});var E=K(5592),se=K(7453),ie=K(2459),_=K(2737),_e=K(7400),Se=K(9940),Ae=K(2714),Te=K(8251),je=K(7103);function fe(...ht){const nt=(0,Se.yG)(ht),yt=(0,Se.jO)(ht),{args:ft,keys:mt}=(0,se.D)(ht);if(0===ft.length)return(0,ie.D)([],nt);const pt=new E.y(function Ce(ht,nt,yt=_.y){return ft=>{Fe(nt,()=>{const{length:mt}=ht,pt=new Array(mt);let sn=mt,Yt=mt;for(let Ve=0;Ve<mt;Ve++)Fe(nt,()=>{const lt=(0,ie.D)(ht[Ve],nt);let ke=!1;lt.subscribe((0,Te.x)(ft,st=>{pt[Ve]=st,ke||(ke=!0,Yt--),Yt||ft.next(yt(pt.slice()))},()=>{--sn||ft.complete()}))},ft)},ft)}}(ft,nt,mt?sn=>(0,Ae.n)(mt,sn):_.y));return yt?pt.pipe((0,_e.Z)(yt)):pt}function Fe(ht,nt,yt){ht?(0,je.f)(yt,ht,nt):nt()}},5211:(Jt,Ke,K)=>{K.d(Ke,{z:()=>_e});var E=K(7537),ie=K(9940),_=K(2459);function _e(...Se){return function se(){return(0,E.J)(1)}()((0,_.D)(Se,(0,ie.yG)(Se)))}},6232:(Jt,Ke,K)=>{K.d(Ke,{E:()=>se});const se=new(K(5592).y)(_e=>_e.complete())},2459:(Jt,Ke,K)=>{K.d(Ke,{D:()=>lt});var E=K(4829),se=K(3093),ie=K(5137),Se=K(5592),Te=K(4971),je=K(4674),fe=K(7103);function Fe(ke,st){if(!ke)throw new Error("Iterable cannot be null");return new Se.y(Dt=>{(0,fe.f)(Dt,st,()=>{const St=ke[Symbol.asyncIterator]();(0,fe.f)(Dt,st,()=>{St.next().then(tn=>{tn.done?Dt.complete():Dt.next(tn.value)})},0,!0)})})}var ht=K(8382),nt=K(4026),yt=K(4266),ft=K(3664),mt=K(5726),pt=K(9853),sn=K(541);function lt(ke,st){return st?function Ve(ke,st){if(null!=ke){if((0,ht.c)(ke))return function _(ke,st){return(0,E.Xf)(ke).pipe((0,ie.R)(st),(0,se.Q)(st))}(ke,st);if((0,yt.z)(ke))return function Ae(ke,st){return new Se.y(Dt=>{let St=0;return st.schedule(function(){St===ke.length?Dt.complete():(Dt.next(ke[St++]),Dt.closed||this.schedule())})})}(ke,st);if((0,nt.t)(ke))return function _e(ke,st){return(0,E.Xf)(ke).pipe((0,ie.R)(st),(0,se.Q)(st))}(ke,st);if((0,mt.D)(ke))return Fe(ke,st);if((0,ft.T)(ke))return function Ce(ke,st){return new Se.y(Dt=>{let St;return(0,fe.f)(Dt,st,()=>{St=ke[Te.h](),(0,fe.f)(Dt,st,()=>{let tn,an;try{({value:tn,done:an}=St.next())}catch($n){return void Dt.error($n)}an?Dt.complete():Dt.next(tn)},0,!0)}),()=>(0,je.m)(St?.return)&&St.return()})}(ke,st);if((0,sn.L)(ke))return function Yt(ke,st){return Fe((0,sn.Q)(ke),st)}(ke,st)}throw(0,pt.z)(ke)}(ke,st):(0,E.Xf)(ke)}},4829:(Jt,Ke,K)=>{K.d(Ke,{Xf:()=>ht});var E=K(7582),se=K(4266),ie=K(4026),_=K(5592),_e=K(8382),Se=K(5726),Ae=K(9853),Te=K(3664),je=K(541),fe=K(4674),Ce=K(3894),Fe=K(4850);function ht(Ve){if(Ve instanceof _.y)return Ve;if(null!=Ve){if((0,_e.c)(Ve))return function nt(Ve){return new _.y(lt=>{const ke=Ve[Fe.L]();if((0,fe.m)(ke.subscribe))return ke.subscribe(lt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,se.z)(Ve))return function yt(Ve){return new _.y(lt=>{for(let ke=0;ke<Ve.length&&!lt.closed;ke++)lt.next(Ve[ke]);lt.complete()})}(Ve);if((0,ie.t)(Ve))return function ft(Ve){return new _.y(lt=>{Ve.then(ke=>{lt.closed||(lt.next(ke),lt.complete())},ke=>lt.error(ke)).then(null,Ce.h)})}(Ve);if((0,Se.D)(Ve))return pt(Ve);if((0,Te.T)(Ve))return function mt(Ve){return new _.y(lt=>{for(const ke of Ve)if(lt.next(ke),lt.closed)return;lt.complete()})}(Ve);if((0,je.L)(Ve))return function sn(Ve){return pt((0,je.Q)(Ve))}(Ve)}throw(0,Ae.z)(Ve)}function pt(Ve){return new _.y(lt=>{(function Yt(Ve,lt){var ke,st,Dt,St;return(0,E.mG)(this,void 0,void 0,function*(){try{for(ke=(0,E.KL)(Ve);!(st=yield ke.next()).done;)if(lt.next(st.value),lt.closed)return}catch(tn){Dt={error:tn}}finally{try{st&&!st.done&&(St=ke.return)&&(yield St.call(ke))}finally{if(Dt)throw Dt.error}}lt.complete()})})(Ve,lt).catch(ke=>lt.error(ke))})}},3019:(Jt,Ke,K)=>{K.d(Ke,{T:()=>Se});var E=K(7537),se=K(4829),ie=K(6232),_=K(9940),_e=K(2459);function Se(...Ae){const Te=(0,_.yG)(Ae),je=(0,_._6)(Ae,1/0),fe=Ae;return fe.length?1===fe.length?(0,se.Xf)(fe[0]):(0,E.J)(je)((0,_e.D)(fe,Te)):ie.E}},2096:(Jt,Ke,K)=>{K.d(Ke,{of:()=>ie});var E=K(9940),se=K(2459);function ie(..._){const _e=(0,E.yG)(_);return(0,se.D)(_,_e)}},8504:(Jt,Ke,K)=>{K.d(Ke,{_:()=>ie});var E=K(5592),se=K(4674);function ie(_,_e){const Se=(0,se.m)(_)?_:()=>_,Ae=Te=>Te.error(Se());return new E.y(_e?Te=>_e.schedule(Ae,0,Te):Ae)}},8251:(Jt,Ke,K)=>{K.d(Ke,{x:()=>se});var E=K(305);function se(_,_e,Se,Ae,Te){return new ie(_,_e,Se,Ae,Te)}class ie extends E.Lv{constructor(_e,Se,Ae,Te,je,fe){super(_e),this.onFinalize=je,this.shouldUnsubscribe=fe,this._next=Se?function(Ce){try{Se(Ce)}catch(Fe){_e.error(Fe)}}:super._next,this._error=Te?function(Ce){try{Te(Ce)}catch(Fe){_e.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(Ce){_e.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6306:(Jt,Ke,K)=>{K.d(Ke,{K:()=>_});var E=K(4829),se=K(8251),ie=K(9360);function _(_e){return(0,ie.e)((Se,Ae)=>{let fe,Te=null,je=!1;Te=Se.subscribe((0,se.x)(Ae,void 0,void 0,Ce=>{fe=(0,E.Xf)(_e(Ce,_(_e)(Se))),Te?(Te.unsubscribe(),Te=null,fe.subscribe(Ae)):je=!0})),je&&(Te.unsubscribe(),Te=null,fe.subscribe(Ae))})}},6328:(Jt,Ke,K)=>{K.d(Ke,{b:()=>ie});var E=K(1631),se=K(4674);function ie(_,_e){return(0,se.m)(_e)?(0,E.z)(_,_e,1):(0,E.z)(_,1)}},3572:(Jt,Ke,K)=>{K.d(Ke,{d:()=>ie});var E=K(9360),se=K(8251);function ie(_){return(0,E.e)((_e,Se)=>{let Ae=!1;_e.subscribe((0,se.x)(Se,Te=>{Ae=!0,Se.next(Te)},()=>{Ae||Se.next(_),Se.complete()}))})}},3997:(Jt,Ke,K)=>{K.d(Ke,{x:()=>_});var E=K(2737),se=K(9360),ie=K(8251);function _(Se,Ae=E.y){return Se=Se??_e,(0,se.e)((Te,je)=>{let fe,Ce=!0;Te.subscribe((0,ie.x)(je,Fe=>{const ht=Ae(Fe);(Ce||!Se(fe,ht))&&(Ce=!1,fe=ht,je.next(Fe))}))})}function _e(Se,Ae){return Se===Ae}},2181:(Jt,Ke,K)=>{K.d(Ke,{h:()=>ie});var E=K(9360),se=K(8251);function ie(_,_e){return(0,E.e)((Se,Ae)=>{let Te=0;Se.subscribe((0,se.x)(Ae,je=>_.call(_e,je,Te++)&&Ae.next(je)))})}},4716:(Jt,Ke,K)=>{K.d(Ke,{x:()=>se});var E=K(9360);function se(ie){return(0,E.e)((_,_e)=>{try{_.subscribe(_e)}finally{_e.add(ie)}})}},1374:(Jt,Ke,K)=>{K.d(Ke,{P:()=>Ae});var E=K(6973),se=K(2181),ie=K(8180),_=K(3572),_e=K(3026),Se=K(2737);function Ae(Te,je){const fe=arguments.length>=2;return Ce=>Ce.pipe(Te?(0,se.h)((Fe,ht)=>Te(Fe,ht,Ce)):Se.y,(0,ie.q)(1),fe?(0,_.d)(je):(0,_e.T)(()=>new E.K))}},7398:(Jt,Ke,K)=>{K.d(Ke,{U:()=>ie});var E=K(9360),se=K(8251);function ie(_,_e){return(0,E.e)((Se,Ae)=>{let Te=0;Se.subscribe((0,se.x)(Ae,je=>{Ae.next(_.call(_e,je,Te++))}))})}},7537:(Jt,Ke,K)=>{K.d(Ke,{J:()=>ie});var E=K(1631),se=K(2737);function ie(_=1/0){return(0,E.z)(se.y,_)}},1631:(Jt,Ke,K)=>{K.d(Ke,{z:()=>Te});var E=K(7398),se=K(4829),ie=K(9360),_=K(7103),_e=K(8251),Ae=K(4674);function Te(je,fe,Ce=1/0){return(0,Ae.m)(fe)?Te((Fe,ht)=>(0,E.U)((nt,yt)=>fe(Fe,nt,ht,yt))((0,se.Xf)(je(Fe,ht))),Ce):("number"==typeof fe&&(Ce=fe),(0,ie.e)((Fe,ht)=>function Se(je,fe,Ce,Fe,ht,nt,yt,ft){const mt=[];let pt=0,sn=0,Yt=!1;const Ve=()=>{Yt&&!mt.length&&!pt&&fe.complete()},lt=st=>pt<Fe?ke(st):mt.push(st),ke=st=>{nt&&fe.next(st),pt++;let Dt=!1;(0,se.Xf)(Ce(st,sn++)).subscribe((0,_e.x)(fe,St=>{ht?.(St),nt?lt(St):fe.next(St)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(pt--;mt.length&&pt<Fe;){const St=mt.shift();yt?(0,_.f)(fe,yt,()=>ke(St)):ke(St)}Ve()}catch(St){fe.error(St)}}))};return je.subscribe((0,_e.x)(fe,lt,()=>{Yt=!0,Ve()})),()=>{ft?.()}}(Fe,ht,je,Ce)))}},3093:(Jt,Ke,K)=>{K.d(Ke,{Q:()=>_});var E=K(7103),se=K(9360),ie=K(8251);function _(_e,Se=0){return(0,se.e)((Ae,Te)=>{Ae.subscribe((0,ie.x)(Te,je=>(0,E.f)(Te,_e,()=>Te.next(je),Se),()=>(0,E.f)(Te,_e,()=>Te.complete(),Se),je=>(0,E.f)(Te,_e,()=>Te.error(je),Se)))})}},6699:(Jt,Ke,K)=>{K.d(Ke,{R:()=>_});var E=K(9360),se=K(8251);function _(_e,Se){return(0,E.e)(function ie(_e,Se,Ae,Te,je){return(fe,Ce)=>{let Fe=Ae,ht=Se,nt=0;fe.subscribe((0,se.x)(Ce,yt=>{const ft=nt++;ht=Fe?_e(ht,yt,ft):(Fe=!0,yt),Te&&Ce.next(ht)},je&&(()=>{Fe&&Ce.next(ht),Ce.complete()})))}}(_e,Se,arguments.length>=2,!0))}},3020:(Jt,Ke,K)=>{K.d(Ke,{B:()=>_e});var E=K(4829),se=K(8645),ie=K(305),_=K(9360);function _e(Ae={}){const{connector:Te=(()=>new se.x),resetOnError:je=!0,resetOnComplete:fe=!0,resetOnRefCountZero:Ce=!0}=Ae;return Fe=>{let ht,nt,yt,ft=0,mt=!1,pt=!1;const sn=()=>{nt?.unsubscribe(),nt=void 0},Yt=()=>{sn(),ht=yt=void 0,mt=pt=!1},Ve=()=>{const lt=ht;Yt(),lt?.unsubscribe()};return(0,_.e)((lt,ke)=>{ft++,!pt&&!mt&&sn();const st=yt=yt??Te();ke.add(()=>{ft--,0===ft&&!pt&&!mt&&(nt=Se(Ve,Ce))}),st.subscribe(ke),!ht&&ft>0&&(ht=new ie.Hp({next:Dt=>st.next(Dt),error:Dt=>{pt=!0,sn(),nt=Se(Yt,je,Dt),st.error(Dt)},complete:()=>{mt=!0,sn(),nt=Se(Yt,fe),st.complete()}}),(0,E.Xf)(lt).subscribe(ht))})(Fe)}}function Se(Ae,Te,...je){if(!0===Te)return void Ae();if(!1===Te)return;const fe=new ie.Hp({next:()=>{fe.unsubscribe(),Ae()}});return(0,E.Xf)(Te(...je)).subscribe(fe)}},940:(Jt,Ke,K)=>{K.d(Ke,{d:()=>_e});var E=K(8645),se=K(4552);class ie extends E.x{constructor(Ae=1/0,Te=1/0,je=se.l){super(),this._bufferSize=Ae,this._windowTime=Te,this._timestampProvider=je,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Te===1/0,this._bufferSize=Math.max(1,Ae),this._windowTime=Math.max(1,Te)}next(Ae){const{isStopped:Te,_buffer:je,_infiniteTimeWindow:fe,_timestampProvider:Ce,_windowTime:Fe}=this;Te||(je.push(Ae),!fe&&je.push(Ce.now()+Fe)),this._trimBuffer(),super.next(Ae)}_subscribe(Ae){this._throwIfClosed(),this._trimBuffer();const Te=this._innerSubscribe(Ae),{_infiniteTimeWindow:je,_buffer:fe}=this,Ce=fe.slice();for(let Fe=0;Fe<Ce.length&&!Ae.closed;Fe+=je?1:2)Ae.next(Ce[Fe]);return this._checkFinalizedStatuses(Ae),Te}_trimBuffer(){const{_bufferSize:Ae,_timestampProvider:Te,_buffer:je,_infiniteTimeWindow:fe}=this,Ce=(fe?1:2)*Ae;if(Ae<1/0&&Ce<je.length&&je.splice(0,je.length-Ce),!fe){const Fe=Te.now();let ht=0;for(let nt=1;nt<je.length&&je[nt]<=Fe;nt+=2)ht=nt;ht&&je.splice(0,ht+1)}}}var _=K(3020);function _e(Se,Ae,Te){let je,fe=!1;return Se&&"object"==typeof Se?({bufferSize:je=1/0,windowTime:Ae=1/0,refCount:fe=!1,scheduler:Te}=Se):je=Se??1/0,(0,_.B)({connector:()=>new ie(je,Ae,Te),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},7921:(Jt,Ke,K)=>{K.d(Ke,{O:()=>_});var E=K(5211),se=K(9940),ie=K(9360);function _(..._e){const Se=(0,se.yG)(_e);return(0,ie.e)((Ae,Te)=>{(Se?(0,E.z)(_e,Ae,Se):(0,E.z)(_e,Ae)).subscribe(Te)})}},5137:(Jt,Ke,K)=>{K.d(Ke,{R:()=>se});var E=K(9360);function se(ie,_=0){return(0,E.e)((_e,Se)=>{Se.add(ie.schedule(()=>_e.subscribe(Se),_))})}},4664:(Jt,Ke,K)=>{K.d(Ke,{w:()=>_});var E=K(4829),se=K(9360),ie=K(8251);function _(_e,Se){return(0,se.e)((Ae,Te)=>{let je=null,fe=0,Ce=!1;const Fe=()=>Ce&&!je&&Te.complete();Ae.subscribe((0,ie.x)(Te,ht=>{je?.unsubscribe();let nt=0;const yt=fe++;(0,E.Xf)(_e(ht,yt)).subscribe(je=(0,ie.x)(Te,ft=>Te.next(Se?Se(ht,ft,yt,nt++):ft),()=>{je=null,Fe()}))},()=>{Ce=!0,Fe()}))})}},8180:(Jt,Ke,K)=>{K.d(Ke,{q:()=>_});var E=K(6232),se=K(9360),ie=K(8251);function _(_e){return _e<=0?()=>E.E:(0,se.e)((Se,Ae)=>{let Te=0;Se.subscribe((0,ie.x)(Ae,je=>{++Te<=_e&&(Ae.next(je),_e<=Te&&Ae.complete())}))})}},9773:(Jt,Ke,K)=>{K.d(Ke,{R:()=>_e});var E=K(9360),se=K(8251),ie=K(4829),_=K(2420);function _e(Se){return(0,E.e)((Ae,Te)=>{(0,ie.Xf)(Se).subscribe((0,se.x)(Te,()=>Te.complete(),_.Z)),!Te.closed&&Ae.subscribe(Te)})}},9397:(Jt,Ke,K)=>{K.d(Ke,{b:()=>_e});var E=K(4674),se=K(9360),ie=K(8251),_=K(2737);function _e(Se,Ae,Te){const je=(0,E.m)(Se)||Ae||Te?{next:Se,error:Ae,complete:Te}:Se;return je?(0,se.e)((fe,Ce)=>{var Fe;null===(Fe=je.subscribe)||void 0===Fe||Fe.call(je);let ht=!0;fe.subscribe((0,ie.x)(Ce,nt=>{var yt;null===(yt=je.next)||void 0===yt||yt.call(je,nt),Ce.next(nt)},()=>{var nt;ht=!1,null===(nt=je.complete)||void 0===nt||nt.call(je),Ce.complete()},nt=>{var yt;ht=!1,null===(yt=je.error)||void 0===yt||yt.call(je,nt),Ce.error(nt)},()=>{var nt,yt;ht&&(null===(nt=je.unsubscribe)||void 0===nt||nt.call(je)),null===(yt=je.finalize)||void 0===yt||yt.call(je)}))}):_.y}},3026:(Jt,Ke,K)=>{K.d(Ke,{T:()=>_});var E=K(6973),se=K(9360),ie=K(8251);function _(Se=_e){return(0,se.e)((Ae,Te)=>{let je=!1;Ae.subscribe((0,ie.x)(Te,fe=>{je=!0,Te.next(fe)},()=>je?Te.complete():Te.error(Se())))})}function _e(){return new E.K}},1954:(Jt,Ke,K)=>{K.d(Ke,{o:()=>_e});var E=K(7394);class se extends E.w0{constructor(Ae,Te){super()}schedule(Ae,Te=0){return this}}const ie={setInterval(Se,Ae,...Te){const{delegate:je}=ie;return je?.setInterval?je.setInterval(Se,Ae,...Te):setInterval(Se,Ae,...Te)},clearInterval(Se){const{delegate:Ae}=ie;return(Ae?.clearInterval||clearInterval)(Se)},delegate:void 0};var _=K(9039);class _e extends se{constructor(Ae,Te){super(Ae,Te),this.scheduler=Ae,this.work=Te,this.pending=!1}schedule(Ae,Te=0){var je;if(this.closed)return this;this.state=Ae;const fe=this.id,Ce=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Ce,fe,Te)),this.pending=!0,this.delay=Te,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(Ce,this.id,Te),this}requestAsyncId(Ae,Te,je=0){return ie.setInterval(Ae.flush.bind(Ae,this),je)}recycleAsyncId(Ae,Te,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Te;null!=Te&&ie.clearInterval(Te)}execute(Ae,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(Ae,Te);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Te){let fe,je=!1;try{this.work(Ae)}catch(Ce){je=!0,fe=Ce||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Te}=this,{actions:je}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_.P)(je,this),null!=Ae&&(this.id=this.recycleAsyncId(Te,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(Jt,Ke,K)=>{K.d(Ke,{v:()=>ie});var E=K(4552);class se{constructor(_e,Se=se.now){this.schedulerActionCtor=_e,this.now=Se}schedule(_e,Se=0,Ae){return new this.schedulerActionCtor(this,_e).schedule(Ae,Se)}}se.now=E.l.now;class ie extends se{constructor(_e,Se=se.now){super(_e,Se),this.actions=[],this._active=!1}flush(_e){const{actions:Se}=this;if(this._active)return void Se.push(_e);let Ae;this._active=!0;do{if(Ae=_e.execute(_e.state,_e.delay))break}while(_e=Se.shift());if(this._active=!1,Ae){for(;_e=Se.shift();)_e.unsubscribe();throw Ae}}}},6321:(Jt,Ke,K)=>{K.d(Ke,{P:()=>_,z:()=>ie});var E=K(1954);const ie=new(K(2631).v)(E.o),_=ie},4552:(Jt,Ke,K)=>{K.d(Ke,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},7599:(Jt,Ke,K)=>{K.d(Ke,{z:()=>E});const E={setTimeout(se,ie,..._){const{delegate:_e}=E;return _e?.setTimeout?_e.setTimeout(se,ie,..._):setTimeout(se,ie,..._)},clearTimeout(se){const{delegate:ie}=E;return(ie?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4971:(Jt,Ke,K)=>{K.d(Ke,{h:()=>se});const se=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Jt,Ke,K)=>{K.d(Ke,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Jt,Ke,K)=>{K.d(Ke,{K:()=>se});const se=(0,K(2306).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Jt,Ke,K)=>{K.d(Ke,{_6:()=>Se,jO:()=>_,yG:()=>_e});var E=K(4674),se=K(671);function ie(Ae){return Ae[Ae.length-1]}function _(Ae){return(0,E.m)(ie(Ae))?Ae.pop():void 0}function _e(Ae){return(0,se.K)(ie(Ae))?Ae.pop():void 0}function Se(Ae,Te){return"number"==typeof ie(Ae)?Ae.pop():Te}},7453:(Jt,Ke,K)=>{K.d(Ke,{D:()=>_e});const{isArray:E}=Array,{getPrototypeOf:se,prototype:ie,keys:_}=Object;function _e(Ae){if(1===Ae.length){const Te=Ae[0];if(E(Te))return{args:Te,keys:null};if(function Se(Ae){return Ae&&"object"==typeof Ae&&se(Ae)===ie}(Te)){const je=_(Te);return{args:je.map(fe=>Te[fe]),keys:je}}}return{args:Ae,keys:null}}},9039:(Jt,Ke,K)=>{function E(se,ie){if(se){const _=se.indexOf(ie);0<=_&&se.splice(_,1)}}K.d(Ke,{P:()=>E})},2306:(Jt,Ke,K)=>{function E(se){const _=se(_e=>{Error.call(_e),_e.stack=(new Error).stack});return _.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_}K.d(Ke,{d:()=>E})},2714:(Jt,Ke,K)=>{function E(se,ie){return se.reduce((_,_e,Se)=>(_[_e]=ie[Se],_),{})}K.d(Ke,{n:()=>E})},1441:(Jt,Ke,K)=>{K.d(Ke,{O:()=>_,x:()=>ie});var E=K(2653);let se=null;function ie(_e){if(E.config.useDeprecatedSynchronousErrorHandling){const Se=!se;if(Se&&(se={errorThrown:!1,error:null}),_e(),Se){const{errorThrown:Ae,error:Te}=se;if(se=null,Ae)throw Te}}else _e()}function _(_e){E.config.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=_e)}},7103:(Jt,Ke,K)=>{function E(se,ie,_,_e=0,Se=!1){const Ae=ie.schedule(function(){_(),Se?se.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(se.add(Ae),!Se)return Ae}K.d(Ke,{f:()=>E})},2737:(Jt,Ke,K)=>{function E(se){return se}K.d(Ke,{y:()=>E})},4266:(Jt,Ke,K)=>{K.d(Ke,{z:()=>E});const E=se=>se&&"number"==typeof se.length&&"function"!=typeof se},5726:(Jt,Ke,K)=>{K.d(Ke,{D:()=>se});var E=K(4674);function se(ie){return Symbol.asyncIterator&&(0,E.m)(ie?.[Symbol.asyncIterator])}},4674:(Jt,Ke,K)=>{function E(se){return"function"==typeof se}K.d(Ke,{m:()=>E})},8382:(Jt,Ke,K)=>{K.d(Ke,{c:()=>ie});var E=K(4850),se=K(4674);function ie(_){return(0,se.m)(_[E.L])}},3664:(Jt,Ke,K)=>{K.d(Ke,{T:()=>ie});var E=K(4971),se=K(4674);function ie(_){return(0,se.m)(_?.[E.h])}},4026:(Jt,Ke,K)=>{K.d(Ke,{t:()=>se});var E=K(4674);function se(ie){return(0,E.m)(ie?.then)}},541:(Jt,Ke,K)=>{K.d(Ke,{L:()=>_,Q:()=>ie});var E=K(7582),se=K(4674);function ie(_e){return(0,E.FC)(this,arguments,function*(){const Ae=_e.getReader();try{for(;;){const{value:Te,done:je}=yield(0,E.qq)(Ae.read());if(je)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(Te)}}finally{Ae.releaseLock()}})}function _(_e){return(0,se.m)(_e?.getReader)}},671:(Jt,Ke,K)=>{K.d(Ke,{K:()=>se});var E=K(4674);function se(ie){return ie&&(0,E.m)(ie.schedule)}},9360:(Jt,Ke,K)=>{K.d(Ke,{A:()=>se,e:()=>ie});var E=K(4674);function se(_){return(0,E.m)(_?.lift)}function ie(_){return _e=>{if(se(_e))return _e.lift(function(Se){try{return _(Se,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Jt,Ke,K)=>{K.d(Ke,{Z:()=>_});var E=K(7398);const{isArray:se}=Array;function _(_e){return(0,E.U)(Se=>function ie(_e,Se){return se(Se)?_e(...Se):_e(Se)}(_e,Se))}},2420:(Jt,Ke,K)=>{function E(){}K.d(Ke,{Z:()=>E})},8407:(Jt,Ke,K)=>{K.d(Ke,{U:()=>ie,z:()=>se});var E=K(2737);function se(..._){return ie(_)}function ie(_){return 0===_.length?E.y:1===_.length?_[0]:function(Se){return _.reduce((Ae,Te)=>Te(Ae),Se)}}},3894:(Jt,Ke,K)=>{K.d(Ke,{h:()=>ie});var E=K(2653),se=K(7599);function ie(_){se.z.setTimeout(()=>{const{onUnhandledError:_e}=E.config;if(!_e)throw _;_e(_)})}},9853:(Jt,Ke,K)=>{function E(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(Ke,{z:()=>E})},6814:(Jt,Ke,K)=>{K.d(Ke,{Do:()=>ft,EM:()=>to,HT:()=>_,JF:()=>oo,K0:()=>Se,Mx:()=>ni,NF:()=>eo,O5:()=>hs,PC:()=>Un,PM:()=>Ps,RF:()=>Ne,S$:()=>ht,V_:()=>Te,Ye:()=>mt,b0:()=>yt,bD:()=>Xi,ez:()=>ri,mk:()=>Qs,n9:()=>Ye,q:()=>ie,sg:()=>ai,tP:()=>zr,w_:()=>_e});var E=K(5879);let se=null;function ie(){return se}function _(M){se||(se=M)}class _e{}const Se=new E.OlP("DocumentToken");let Ae=(()=>{var M;class q{historyGo(z){throw new Error("Not implemented")}}return(M=q).\u0275fac=function(z){return new(z||M)},M.\u0275prov=E.Yz7({token:M,factory:function(){return(0,E.f3M)(je)},providedIn:"platform"}),q})();const Te=new E.OlP("Location Initialized");let je=(()=>{var M;class q extends Ae{constructor(){super(),this._doc=(0,E.f3M)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(z){const me=ie().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",z,!1),()=>me.removeEventListener("popstate",z)}onHashChange(z){const me=ie().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",z,!1),()=>me.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,me,Re){this._history.pushState(z,me,Re)}replaceState(z,me,Re){this._history.replaceState(z,me,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return(M=q).\u0275fac=function(z){return new(z||M)},M.\u0275prov=E.Yz7({token:M,factory:function(){return new M},providedIn:"platform"}),q})();function fe(M,q){if(0==M.length)return q;if(0==q.length)return M;let ye=0;return M.endsWith("/")&&ye++,q.startsWith("/")&&ye++,2==ye?M+q.substring(1):1==ye?M+q:M+"/"+q}function Ce(M){const q=M.match(/#|\?|$/),ye=q&&q.index||M.length;return M.slice(0,ye-("/"===M[ye-1]?1:0))+M.slice(ye)}function Fe(M){return M&&"?"!==M[0]?"?"+M:M}let ht=(()=>{var M;class q{historyGo(z){throw new Error("Not implemented")}}return(M=q).\u0275fac=function(z){return new(z||M)},M.\u0275prov=E.Yz7({token:M,factory:function(){return(0,E.f3M)(yt)},providedIn:"root"}),q})();const nt=new E.OlP("appBaseHref");let yt=(()=>{var M;class q extends ht{constructor(z,me){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=me??this._platformLocation.getBaseHrefFromDOM()??(0,E.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return fe(this._baseHref,z)}path(z=!1){const me=this._platformLocation.pathname+Fe(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&z?`${me}${Re}`:me}pushState(z,me,Re,ut){const zt=this.prepareExternalUrl(Re+Fe(ut));this._platformLocation.pushState(z,me,zt)}replaceState(z,me,Re,ut){const zt=this.prepareExternalUrl(Re+Fe(ut));this._platformLocation.replaceState(z,me,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return(M=q).\u0275fac=function(z){return new(z||M)(E.LFG(Ae),E.LFG(nt,8))},M.\u0275prov=E.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),q})(),ft=(()=>{var M;class q extends ht{constructor(z,me){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl(z){const me=fe(this._baseHref,z);return me.length>0?"#"+me:me}pushState(z,me,Re,ut){let zt=this.prepareExternalUrl(Re+Fe(ut));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(z,me,zt)}replaceState(z,me,Re,ut){let zt=this.prepareExternalUrl(Re+Fe(ut));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(z,me,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return(M=q).\u0275fac=function(z){return new(z||M)(E.LFG(Ae),E.LFG(nt,8))},M.\u0275prov=E.Yz7({token:M,factory:M.\u0275fac}),q})(),mt=(()=>{var M;class q{constructor(z){this._subject=new E.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const me=this._locationStrategy.getBaseHref();this._basePath=function Ve(M){if(new RegExp("^(https?:)?//").test(M)){const[,ye]=M.split(/\/\/[^\/]+/);return ye}return M}(Ce(Yt(me))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,me=""){return this.path()==this.normalize(z+Fe(me))}normalize(z){return q.stripTrailingSlash(function sn(M,q){if(!M||!q.startsWith(M))return q;const ye=q.substring(M.length);return""===ye||["/",";","?","#"].includes(ye[0])?ye:q}(this._basePath,Yt(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,me="",Re=null){this._locationStrategy.pushState(Re,"",z,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Fe(me)),Re)}replaceState(z,me="",Re=null){this._locationStrategy.replaceState(Re,"",z,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Fe(me)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",me){this._urlChangeListeners.forEach(Re=>Re(z,me))}subscribe(z,me,Re){return this._subject.subscribe({next:z,error:me,complete:Re})}}return(M=q).normalizeQueryParams=Fe,M.joinWithSlash=fe,M.stripTrailingSlash=Ce,M.\u0275fac=function(z){return new(z||M)(E.LFG(ht))},M.\u0275prov=E.Yz7({token:M,factory:function(){return function pt(){return new mt((0,E.LFG)(ht))}()},providedIn:"root"}),q})();function Yt(M){return M.replace(/\/index.html$/,"")}function ni(M,q){q=encodeURIComponent(q);for(const ye of M.split(";")){const z=ye.indexOf("="),[me,Re]=-1==z?[ye,""]:[ye.slice(0,z),ye.slice(z+1)];if(me.trim()===q)return decodeURIComponent(Re)}return null}const vr=/\s+/,Ar=[];let Qs=(()=>{var M;class q{constructor(z,me,Re,ut){this._iterableDiffers=z,this._keyValueDiffers=me,this._ngEl=Re,this._renderer=ut,this.initialClasses=Ar,this.stateMap=new Map}set klass(z){this.initialClasses=null!=z?z.trim().split(vr):Ar}set ngClass(z){this.rawClass="string"==typeof z?z.trim().split(vr):z}ngDoCheck(){for(const me of this.initialClasses)this._updateState(me,!0);const z=this.rawClass;if(Array.isArray(z)||z instanceof Set)for(const me of z)this._updateState(me,!0);else if(null!=z)for(const me of Object.keys(z))this._updateState(me,!!z[me]);this._applyStateDiff()}_updateState(z,me){const Re=this.stateMap.get(z);void 0!==Re?(Re.enabled!==me&&(Re.changed=!0,Re.enabled=me),Re.touched=!0):this.stateMap.set(z,{enabled:me,changed:!0,touched:!0})}_applyStateDiff(){for(const z of this.stateMap){const me=z[0],Re=z[1];Re.changed?(this._toggleClass(me,Re.enabled),Re.changed=!1):Re.touched||(Re.enabled&&this._toggleClass(me,!1),this.stateMap.delete(me)),Re.touched=!1}}_toggleClass(z,me){(z=z.trim()).length>0&&z.split(vr).forEach(Re=>{me?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),q})();class Kt{constructor(q,ye,z,me){this.$implicit=q,this.ngForOf=ye,this.index=z,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{var M;class q{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,me,Re){this._viewContainer=z,this._template=me,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const me=this._viewContainer;z.forEachOperation((Re,ut,zt)=>{if(null==Re.previousIndex)me.createEmbeddedView(this._template,new Kt(Re.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)me.remove(null===ut?void 0:ut);else if(null!==ut){const ir=me.get(ut);me.move(ir,zt),Pi(ir,Re)}});for(let Re=0,ut=me.length;Re<ut;Re++){const ir=me.get(Re).context;ir.index=Re,ir.count=ut,ir.ngForOf=this._ngForOf}z.forEachIdentityChange(Re=>{Pi(me.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(z,me){return!0}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Pi(M,q){M.context.$implicit=q.item}let hs=(()=>{var M;class q{constructor(z,me){this._viewContainer=z,this._context=new ca,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Hr("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Hr("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,me){return!0}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.s_b),E.Y36(E.Rgc))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class ca{constructor(){this.$implicit=null,this.ngIf=null}}function Hr(M,q){if(q&&!q.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,E.AaK)(q)}'.`)}class Le{constructor(q,ye){this._viewContainerRef=q,this._templateRef=ye,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(q){q&&!this._created?this.create():!q&&this._created&&this.destroy()}}let Ne=(()=>{var M;class q{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(z){this._ngSwitch=z,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(z){this._defaultViews.push(z)}_matchCase(z){const me=z==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),me}_updateDefaultCases(z){if(this._defaultViews.length>0&&z!==this._defaultUsed){this._defaultUsed=z;for(const me of this._defaultViews)me.enforceState(z)}}}return(M=q).\u0275fac=function(z){return new(z||M)},M.\u0275dir=E.lG2({type:M,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),q})(),Ye=(()=>{var M;class q{constructor(z,me,Re){this.ngSwitch=Re,Re._addCase(),this._view=new Le(z,me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(Ne,9))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),q})(),Un=(()=>{var M;class q{constructor(z,me,Re){this._ngEl=z,this._differs=me,this._renderer=Re,this._ngStyle=null,this._differ=null}set ngStyle(z){this._ngStyle=z,!this._differ&&z&&(this._differ=this._differs.find(z).create())}ngDoCheck(){if(this._differ){const z=this._differ.diff(this._ngStyle);z&&this._applyChanges(z)}}_setStyle(z,me){const[Re,ut]=z.split("."),zt=-1===Re.indexOf("-")?void 0:E.JOm.DashCase;null!=me?this._renderer.setStyle(this._ngEl.nativeElement,Re,ut?`${me}${ut}`:me,zt):this._renderer.removeStyle(this._ngEl.nativeElement,Re,zt)}_applyChanges(z){z.forEachRemovedItem(me=>this._setStyle(me.key,null)),z.forEachAddedItem(me=>this._setStyle(me.key,me.currentValue)),z.forEachChangedItem(me=>this._setStyle(me.key,me.currentValue))}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),q})(),zr=(()=>{var M;class q{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(z.ngTemplateOutlet||z.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Re,ngTemplateOutletContext:ut,ngTemplateOutletInjector:zt}=this;this._viewRef=me.createEmbeddedView(Re,ut,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&z.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(M=q).\u0275fac=function(z){return new(z||M)(E.Y36(E.s_b))},M.\u0275dir=E.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[E.TTD]}),q})(),ri=(()=>{var M;class q{}return(M=q).\u0275fac=function(z){return new(z||M)},M.\u0275mod=E.oAB({type:M}),M.\u0275inj=E.cJS({}),q})();const Xi="browser",Os="server";function eo(M){return M===Xi}function Ps(M){return M===Os}let to=(()=>{var M;class q{}return(M=q).\u0275prov=(0,E.Yz7)({token:M,providedIn:"root",factory:()=>new Jo((0,E.LFG)(Se),window)}),q})();class Jo{constructor(q,ye){this.document=q,this.window=ye,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const ye=function Ca(M,q){const ye=M.getElementById(q)||M.getElementsByName(q)[0];if(ye)return ye;if("function"==typeof M.createTreeWalker&&M.body&&"function"==typeof M.body.attachShadow){const z=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let me=z.currentNode;for(;me;){const Re=me.shadowRoot;if(Re){const ut=Re.getElementById(q)||Re.querySelector(`[name="${q}"]`);if(ut)return ut}me=z.nextNode()}}return null}(this.document,q);ye&&(this.scrollToElement(ye),ye.focus())}setHistoryScrollRestoration(q){this.supportsScrolling()&&(this.window.history.scrollRestoration=q)}scrollToElement(q){const ye=q.getBoundingClientRect(),z=ye.left+this.window.pageXOffset,me=ye.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(z-Re[0],me-Re[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class oo{}},5879:(Jt,Ke,K)=>{K.d(Ke,{$8M:()=>Ii,$WT:()=>Js,$Z:()=>Rm,AFp:()=>z_,AaK:()=>Fe,CHM:()=>Ds,CRH:()=>tC,EJc:()=>Qx,EiD:()=>Od,EpF:()=>Vp,F$t:()=>o,F4k:()=>p_,FYo:()=>Cm,FiY:()=>Pe,Gf:()=>JI,GfV:()=>X_,Gpc:()=>yt,HDt:()=>CC,Hsn:()=>h,Ikx:()=>y_,JOm:()=>fl,JVY:()=>vg,JZr:()=>Yt,KtG:()=>ga,L6k:()=>by,LAX:()=>Rd,LFG:()=>Ze,LSH:()=>hm,Lbi:()=>Sg,Lck:()=>VI,MAs:()=>tg,MMx:()=>ow,NdJ:()=>m_,Ojb:()=>Ea,OlP:()=>Ni,Oqu:()=>ty,P3R:()=>Eg,PXZ:()=>CT,Q6J:()=>Wv,QGY:()=>ig,QbO:()=>$_,Qsj:()=>Oy,R0b:()=>qo,RDi:()=>_y,Rgc:()=>pd,SBq:()=>Df,Sil:()=>eT,Suo:()=>eC,TTD:()=>$r,TgZ:()=>vl,VKq:()=>An,VuI:()=>oD,W1O:()=>sC,WFA:()=>Up,X6Q:()=>OT,XFs:()=>ln,Xpm:()=>To,Xq5:()=>Fv,Xts:()=>Pd,Y36:()=>wp,YKP:()=>iw,YNc:()=>Gv,Yjl:()=>da,Yz7:()=>vn,Z0I:()=>_r,ZZ4:()=>Fw,_Bn:()=>rw,_UZ:()=>ib,_Vd:()=>hh,_c5:()=>KT,_uU:()=>_0,aQg:()=>Lw,c2e:()=>IC,cJS:()=>Tr,cg1:()=>A0,d8E:()=>yb,dDg:()=>bT,dqk:()=>Zn,eBb:()=>P_,eFA:()=>kC,eJc:()=>bw,ekj:()=>Yv,eoX:()=>MC,f3M:()=>xt,g9A:()=>Dg,h0i:()=>dg,hGG:()=>ZT,hij:()=>ny,iGM:()=>XI,ifc:()=>At,ip1:()=>wC,jDz:()=>aw,kL8:()=>TE,lG2:()=>ua,lqb:()=>bc,lri:()=>SC,mCW:()=>_u,n5z:()=>cs,oAB:()=>Xs,oxw:()=>e,pB0:()=>k_,q3G:()=>lh,q4F:()=>kg,qFp:()=>lD,qLn:()=>Cu,qOj:()=>Yy,qZA:()=>ng,qbA:()=>Es,qzn:()=>Ra,rWj:()=>AC,rg0:()=>me,s9C:()=>m,sBO:()=>PT,s_b:()=>W0,soG:()=>K0,tb:()=>Mw,tp0:()=>Ct,uIk:()=>$m,vHH:()=>Ve,vpe:()=>td,wAp:()=>b_,xp6:()=>Ep,z2F:()=>dy,z3N:()=>Jl,zSh:()=>bu,zs3:()=>Ja});var E=K(8645),se=K(7394),ie=K(5592),_=K(3019),_e=K(5619),Se=K(2096),Ae=K(3020),Te=K(4664),je=K(3997);function fe(t){for(let r in t)if(t[r]===fe)return r;throw Error("Could not find renamed property on target object.")}function Ce(t,r){for(const a in r)r.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=r[a])}function Fe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Fe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function ht(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const nt=fe({__forward_ref__:fe});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return Fe(this())},t}function ft(t){return mt(t)?t():t}function mt(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===yt}function pt(t){return t&&!!t.\u0275providers}const Yt="https://g.co/ng/security#xss";class Ve extends Error{constructor(r,a){super(function lt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,a)),this.code=r}}function ke(t){return"string"==typeof t?t:null==t?"":String(t)}function an(t,r){throw new Ve(-201,!1)}function on(t,r){null==t&&function Bt(t,r,a,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${a} ${c} ${r} <=Actual]`))}(r,t,null,"!=")}function vn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dr(t){return Yr(t,Oi)||Yr(t,yi)}function _r(t){return null!==Dr(t)}function Yr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Fi(t){return t&&(t.hasOwnProperty(Li)||t.hasOwnProperty(Bn))?t[Li]:null}const Oi=fe({\u0275prov:fe}),Li=fe({\u0275inj:fe}),yi=fe({ngInjectableDef:fe}),Bn=fe({ngInjectorDef:fe});var ln=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ln||{});let Tn;function nr(t){const r=Tn;return Tn=t,r}function fi(t,r,a){const c=Dr(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ln.Optional?null:void 0!==r?r:void an(Fe(t))}const Zn=globalThis,is={},ds="__NG_DI_FLAG__",Rs="ngTempTokenPath",Me=/\n/gm,Y="__source";let te;function he(t){const r=te;return te=t,r}function Oe(t,r=ln.Default){if(void 0===te)throw new Ve(-203,!1);return null===te?fi(t,void 0,r):te.get(t,r&ln.Optional?null:void 0,r)}function Ze(t,r=ln.Default){return(function jn(){return Tn}()||Oe)(ft(t),r)}function xt(t,r=ln.Default){return Ze(t,En(r))}function En(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nn(t){const r=[];for(let a=0;a<t.length;a++){const c=ft(t[a]);if(Array.isArray(c)){if(0===c.length)throw new Ve(900,!1);let f,v=ln.Default;for(let x=0;x<c.length;x++){const S=c[x],F=wr(S);"number"==typeof F?-1===F?f=S.token:v|=F:f=S}r.push(Ze(f,v))}else r.push(Ze(c))}return r}function Ln(t,r){return t[ds]=r,t.prototype[ds]=r,t}function wr(t){return t[ds]}function Xe(t){return{toString:t}.toString()}var $e=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($e||{}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(At||{});const qt={},Nt=[],hn=fe({\u0275cmp:fe}),Vn=fe({\u0275dir:fe}),ti=fe({\u0275pipe:fe}),Wr=fe({\u0275mod:fe}),kt=fe({\u0275fac:fe}),ni=fe({__NG_ELEMENT_ID__:fe}),vr=fe({__NG_ENV_ID__:fe});function Ar(t,r,a){let c=t.length;for(;;){const f=t.indexOf(r,a);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const v=r.length;if(f+v===c||t.charCodeAt(f+v)<=32)return f}a=f+1}}function Qs(t,r,a){let c=0;for(;c<a.length;){const f=a[c];if("number"==typeof f){if(0!==f)break;c++;const v=a[c++],x=a[c++],S=a[c++];t.setAttribute(r,x,S,v)}else{const v=f,x=a[++c];Yo(v)?t.setProperty(r,v,x):t.setAttribute(r,v,x),c++}}return c}function qs(t){return 3===t||4===t||6===t}function Yo(t){return 64===t.charCodeAt(0)}function Kt(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let a=-1;for(let c=0;c<r.length;c++){const f=r[c];"number"==typeof f?a=f:0===a||ai(t,a,f,null,-1===a||2===a?r[++c]:null)}}return t}function ai(t,r,a,c,f){let v=0,x=t.length;if(-1===r)x=-1;else for(;v<t.length;){const S=t[v++];if("number"==typeof S){if(S===r){x=-1;break}if(S>r){x=v-1;break}}}for(;v<t.length;){const S=t[v];if("number"==typeof S)break;if(S===a){if(null===c)return void(null!==f&&(t[v+1]=f));if(c===t[v+1])return void(t[v+2]=f)}v++,null!==c&&v++,null!==f&&v++}-1!==x&&(t.splice(x,0,r),v=x+1),t.splice(v++,0,a),null!==c&&t.splice(v++,0,c),null!==f&&t.splice(v++,0,f)}const Pi="ng-template";function Qo(t,r,a){let c=0,f=!0;for(;c<t.length;){let v=t[c++];if("string"==typeof v&&f){const x=t[c++];if(a&&"class"===v&&-1!==Ar(x.toLowerCase(),r,0))return!0}else{if(1===v){for(;c<t.length&&"string"==typeof(v=t[c++]);)if(v.toLowerCase()===r)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function hs(t){return 4===t.type&&t.value!==Pi}function ca(t,r,a){return r===(4!==t.type||a?t.value:Pi)}function Hr(t,r,a){let c=4;const f=t.attrs||[],v=function Vt(t){for(let r=0;r<t.length;r++)if(qs(t[r]))return r;return t.length}(f);let x=!1;for(let S=0;S<r.length;S++){const F=r[S];if("number"!=typeof F){if(!x)if(4&c){if(c=2|1&c,""!==F&&!ca(t,F,a)||""===F&&1===r.length){if(Le(c))return!1;x=!0}}else{const Q=8&c?F:r[++S];if(8&c&&null!==t.attrs){if(!Qo(t.attrs,Q,a)){if(Le(c))return!1;x=!0}continue}const Ee=Ne(8&c?"class":F,f,hs(t),a);if(-1===Ee){if(Le(c))return!1;x=!0;continue}if(""!==Q){let Ue;Ue=Ee>v?"":f[Ee+1].toLowerCase();const qe=8&c?Ue:null;if(qe&&-1!==Ar(qe,Q,0)||2&c&&Q!==Ue){if(Le(c))return!1;x=!0}}}}else{if(!x&&!Le(c)&&!Le(F))return!1;if(x&&Le(F))continue;x=!1,c=F|1&c}}return Le(c)||x}function Le(t){return 0==(1&t)}function Ne(t,r,a,c){if(null===r)return-1;let f=0;if(c||!a){let v=!1;for(;f<r.length;){const x=r[f];if(x===t)return f;if(3===x||6===x)v=!0;else{if(1===x||2===x){let S=r[++f];for(;"string"==typeof S;)S=r[++f];continue}if(4===x)break;if(0===x){f+=4;continue}}f+=v?1:2}return-1}return function cn(t,r){let a=t.indexOf(4);if(a>-1)for(a++;a<t.length;){const c=t[a];if("number"==typeof c)return-1;if(c===r)return a;a++}return-1}(r,t)}function Ye(t,r,a=!1){for(let c=0;c<r.length;c++)if(Hr(t,r[c],a))return!0;return!1}function wn(t,r){e:for(let a=0;a<r.length;a++){const c=r[a];if(t.length===c.length){for(let f=0;f<t.length;f++)if(t[f]!==c[f])continue e;return!0}}return!1}function Un(t,r){return t?":not("+r.trim()+")":r}function zr(t){let r=t[0],a=1,c=2,f="",v=!1;for(;a<t.length;){let x=t[a];if("string"==typeof x)if(2&c){const S=t[++a];f+="["+x+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?f+="."+x:4&c&&(f+=" "+x);else""!==f&&!Le(x)&&(r+=Un(v,f),f=""),c=x,v=v||!Le(c);a++}return""!==f&&(r+=Un(v,f)),r}function To(t){return Xe(()=>{const r=Do(t),a={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""};fs(a);const c=t.dependencies;return a.directiveDefs=Ia(c,!1),a.pipeDefs=Ia(c,!0),a.id=function nl(t){let r=0;const a=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of a)r=Math.imul(31,r)+f.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function Is(t){return dr(t)||Qr(t)}function wa(t){return null!==t}function Xs(t){return Xe(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xo(t,r){if(null==t)return qt;const a={};for(const c in t)if(t.hasOwnProperty(c)){let f=t[c],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),a[f]=c,r&&(r[f]=v)}return a}function ua(t){return Xe(()=>{const r=Do(t);return fs(r),r})}function da(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function dr(t){return t[hn]||null}function Qr(t){return t[Vn]||null}function pi(t){return t[ti]||null}function Js(t){const r=dr(t)||Qr(t)||pi(t);return null!==r&&r.standalone}function kr(t,r){const a=t[Wr]||null;if(!a&&!0===r)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return a}function Do(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||qt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xo(t.inputs,r),outputs:Xo(t.outputs)}}function fs(t){t.features?.forEach(r=>r(t))}function Ia(t,r){if(!t)return null;const a=r?pi:Is;return()=>("function"==typeof t?t():t).map(c=>a(c)).filter(wa)}const qr=0,Zt=1,Wn=2,Mr=3,Ti=4,Hi=5,Cs=6,ss=7,ri=8,Xi=9,Os=10,On=11,ha=12,eo=13,Ps=14,Di=15,fa=16,pa=17,to=18,Jo=19,Ca=20,ka=21,oo=22,bl=23,ao=24,fr=25,Ul=1,ea=2,Kr=7,no=9,Yn=11;function ps(t){return Array.isArray(t)&&"object"==typeof t[Ul]}function rr(t){return Array.isArray(t)&&!0===t[Ul]}function il(t){return 0!=(4&t.flags)}function ta(t){return t.componentOffset>-1}function Ns(t){return 1==(1&t.flags)}function os(t){return!!t.template}function lo(t){return 0!=(512&t[Wn])}function jo(t,r){return t.hasOwnProperty(kt)?t[kt]:null}let Zr=null,Ji=!1;function ui(t){const r=Zr;return Zr=t,r}const zs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ta(t){if(!Va(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ki(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function na(t){t.dirty=!0,function as(t){if(void 0===t.liveConsumerNode)return;const r=Ji;Ji=!0;try{for(const a of t.liveConsumerNode)a.dirty||na(a)}finally{Ji=r}}(t),t.consumerMarkedDirty?.(t)}function Ai(t){return t&&(t.nextProducerIndex=0),ui(t)}function Ao(t,r){if(ui(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Va(t))for(let a=t.nextProducerIndex;a<t.producerNode.length;a++)al(t.producerNode[a],t.producerIndexOfThis[a]);for(let a=t.nextProducerIndex;a<t.producerNode.length;a++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ki(t){zi(t);for(let r=0;r<t.producerNode.length;r++){const a=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==a.version||(Ta(a),c!==a.version))return!0}return!1}function ho(t){if(zi(t),Va(t))for(let r=0;r<t.producerNode.length;r++)al(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function al(t,r){if(function oc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),zi(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)al(t.producerNode[c],t.producerIndexOfThis[c]);const a=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[a],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[a],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],f=t.liveConsumerNode[r];zi(f),f.producerIndexOfThis[c]=r}}function Va(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let mi=null;function me(t){const r=ui(null);try{return t()}finally{ui(r)}}const ut=()=>{},zt={...zs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:ut};class yr{constructor(r,a,c){this.previousValue=r,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function $r(){return pr}function pr(t){return t.type.prototype.ngOnChanges&&(t.setInput=di),Mi}function Mi(){const t=ro(this),r=t?.current;if(r){const a=t.previous;if(a===qt)t.previous=r;else for(let c in r)a[c]=r[c];t.current=null,this.ngOnChanges(r)}}function di(t,r,a,c){const f=this.declaredInputs[a],v=ro(t)||function ra(t,r){return t[_s]=r}(t,{previous:qt,current:null}),x=v.current||(v.current={}),S=v.previous,F=S[f];x[f]=new yr(F&&F.currentValue,r,S===qt),t[c]=r}$r.ngInherit=!0;const _s="__ngSimpleChanges__";function ro(t){return t[_s]||null}const Ts=function(t,r,a){};function gi(t){for(;Array.isArray(t);)t=t[qr];return t}function ul(t,r){return gi(r[t])}function fo(t,r){return gi(r[t.index])}function Ac(t,r){return t.data[r]}function sa(t,r){const a=r[t];return ps(a)?a:a[qr]}function Cl(t,r){return null==r?null:t[r]}function Nu(t){t[pa]=0}function dl(t){1024&t[Wn]||(t[Wn]|=1024,zl(t,1))}function Yd(t){1024&t[Wn]&&(t[Wn]&=-1025,zl(t,-1))}function zl(t,r){let a=t[Mr];if(null===a)return;a[Hi]+=r;let c=a;for(a=a[Mr];null!==a&&(1===r&&1===c[Hi]||-1===r&&0===c[Hi]);)a[Hi]+=r,c=a,a=a[Mr]}const qn={lFrame:Rr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $l(){return qn.bindingsEnabled}function Oo(){return null!==qn.skipHydrationRootTNode}function Mt(){return qn.lFrame.lView}function Lr(){return qn.lFrame.tView}function Ds(t){return qn.lFrame.contextLView=t,t[ri]}function ga(t){return qn.lFrame.contextLView=null,t}function ts(){let t=Ha();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ha(){return qn.lFrame.currentTNode}function Rt(t,r){const a=qn.lFrame;a.currentTNode=t,a.isParent=r}function kn(){return qn.lFrame.isParent}function po(){qn.lFrame.isParent=!1}function mo(){const t=qn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function wt(){return qn.lFrame.bindingIndex++}function k(t,r){const a=qn.lFrame;a.bindingIndex=a.bindingRootIndex=t,ce(r)}function ce(t){qn.lFrame.currentDirectiveIndex=t}function ve(t){const r=qn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function Ge(){return qn.lFrame.currentQueryIndex}function $t(t){qn.lFrame.currentQueryIndex=t}function dt(t){const r=t[Zt];return 2===r.type?r.declTNode:1===r.type?t[Cs]:null}function Nn(t,r,a){if(a&ln.SkipSelf){let f=r,v=t;for(;!(f=f.parent,null!==f||a&ln.Host||(f=dt(v),null===f||(v=v[Ps],10&f.type))););if(null===f)return!1;r=f,t=v}const c=qn.lFrame=gn();return c.currentTNode=r,c.lView=t,!0}function tr(t){const r=gn(),a=t[Zt];qn.lFrame=r,r.currentTNode=a.firstChild,r.lView=t,r.tView=a,r.contextLView=t,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function gn(){const t=qn.lFrame,r=null===t?null:t.child;return null===r?Rr(t):r}function Rr(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function go(){const t=qn.lFrame;return qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ii=go;function In(){const t=go();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _o(){return qn.lFrame.selectedIndex}function wi(t){qn.lFrame.selectedIndex=t}function Ft(){const t=qn.lFrame;return Ac(t.tView,t.selectedIndex)}let uc=!0;function Tl(){return uc}function _a(t){uc=t}function $i(t,r){for(let a=r.directiveStart,c=r.directiveEnd;a<c;a++){const v=t.data[a].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:S,ngAfterViewInit:F,ngAfterViewChecked:Q,ngOnDestroy:le}=v;x&&(t.contentHooks??=[]).push(-a,x),S&&((t.contentHooks??=[]).push(a,S),(t.contentCheckHooks??=[]).push(a,S)),F&&(t.viewHooks??=[]).push(-a,F),Q&&((t.viewHooks??=[]).push(a,Q),(t.viewCheckHooks??=[]).push(a,Q)),null!=le&&(t.destroyHooks??=[]).push(a,le)}}function vo(t,r,a){Fs(t,r,3,a)}function Gl(t,r,a,c){(3&t[Wn])===a&&Fs(t,r,a,c)}function za(t,r){let a=t[Wn];(3&a)===r&&(a&=8191,a+=1,t[Wn]=a)}function Fs(t,r,a,c){const v=c??-1,x=r.length-1;let S=0;for(let F=void 0!==c?65535&t[pa]:0;F<x;F++)if("number"==typeof r[F+1]){if(S=r[F],null!=c&&S>=c)break}else r[F]<0&&(t[pa]+=65536),(S<v||-1==v)&&(ru(t,a,r,F),t[pa]=(4294901760&t[pa])+F+2),F++}function et(t,r){Ts(4,t,r);const a=ui(null);try{r.call(t)}finally{ui(a),Ts(5,t,r)}}function ru(t,r,a,c){const f=a[c]<0,v=a[c+1],S=t[f?-a[c]:a[c]];f?t[Wn]>>13<t[pa]>>16&&(3&t[Wn])===r&&(t[Wn]+=8192,et(S,v)):et(S,v)}const Gi=-1;class Wi{constructor(r,a,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ns(t){return t!==Gi}function Aa(t){return 32767&t}function va(t,r){let a=function $a(t){return t>>16}(t),c=r;for(;a>0;)c=c[Ps],a--;return c}let Ks=!0;function hc(t){const r=Ks;return Ks=t,r}const aa=255,Hu=5;let iu=0;const ko={};function Dl(t,r){const a=Xd(t,r);if(-1!==a)return a;const c=r[Zt];c.firstCreatePass&&(t.injectorIndex=r.length,Nc(c.data,t),Nc(r,null),Nc(c.blueprint,null));const f=Sl(t,r),v=t.injectorIndex;if(ns(f)){const x=Aa(f),S=va(f,r),F=S[Zt].data;for(let Q=0;Q<8;Q++)r[v+Q]=S[x+Q]|F[x+Q]}return r[v+8]=f,v}function Nc(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Xd(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Sl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let a=0,c=null,f=r;for(;null!==f;){if(c=eh(f),null===c)return Gi;if(a++,f=f[Ps],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Gi}function zu(t,r,a){!function Uh(t,r,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ni)&&(c=a[ni]),null==c&&(c=a[ni]=iu++);const f=c&aa;r.data[t+(f>>Hu)]|=1<<f}(t,r,a)}function Lc(t,r,a){if(a&ln.Optional||void 0!==t)return t;an()}function su(t,r,a,c){if(a&ln.Optional&&void 0===c&&(c=null),!(a&(ln.Self|ln.Host))){const f=t[Xi],v=nr(void 0);try{return f?f.get(r,c,a&ln.Optional):fi(r,c,a&ln.Optional)}finally{nr(v)}}return Lc(c,0,a)}function $u(t,r,a,c=ln.Default,f){if(null!==t){if(2048&r[Wn]&&!(c&ln.Self)){const x=function fc(t,r,a,c,f){let v=t,x=r;for(;null!==v&&null!==x&&2048&x[Wn]&&!(512&x[Wn]);){const S=ou(v,x,a,c|ln.Self,ko);if(S!==ko)return S;let F=v.parent;if(!F){const Q=x[Ca];if(Q){const le=Q.get(a,ko,c);if(le!==ko)return le}F=eh(x),x=x[Ps]}v=F}return f}(t,r,a,c,ko);if(x!==ko)return x}const v=ou(t,r,a,c,ko);if(v!==ko)return v}return su(r,a,c,f)}function ou(t,r,a,c,f){const v=function Bh(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ni)?t[ni]:void 0;return"number"==typeof r?r>=0?r&aa:Ga:r}(a);if("function"==typeof v){if(!Nn(r,t,c))return c&ln.Host?Lc(f,0,c):su(r,a,c,f);try{let x;if(x=v(c),null!=x||c&ln.Optional)return x;an()}finally{ii()}}else if("number"==typeof v){let x=null,S=Xd(t,r),F=Gi,Q=c&ln.Host?r[Di][Cs]:null;for((-1===S||c&ln.SkipSelf)&&(F=-1===S?Sl(t,r):r[S+8],F!==Gi&&ql(c,!1)?(x=r[Zt],S=Aa(F),r=va(F,r)):S=-1);-1!==S;){const le=r[Zt];if(Jd(v,S,le.data)){const Ee=Kf(S,r,a,x,c,Q);if(Ee!==ko)return Ee}F=r[S+8],F!==Gi&&ql(c,r[Zt].data[S+8]===Q)&&Jd(v,S,r)?(x=le,S=Aa(F),r=va(F,r)):S=-1}}return f}function Kf(t,r,a,c,f,v){const x=r[Zt],S=x.data[t+8],le=yd(S,x,a,null==c?ta(S)&&Ks:c!=x&&0!=(3&S.type),f&ln.Host&&v===S);return null!==le?Vc(r,x,le,S):ko}function yd(t,r,a,c,f){const v=t.providerIndexes,x=r.data,S=1048575&v,F=t.directiveStart,le=v>>20,Ue=f?S+le:t.directiveEnd;for(let qe=c?S:S+le;qe<Ue;qe++){const Et=x[qe];if(qe<F&&a===Et||qe>=F&&Et.type===a)return qe}if(f){const qe=x[F];if(qe&&os(qe)&&qe.type===a)return F}return null}function Vc(t,r,a,c){let f=t[a];const v=r.data;if(function Sa(t){return t instanceof Wi}(f)){const x=f;x.resolving&&function Dt(t,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${t}${a}`)}(function st(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ke(t)}(v[a]));const S=hc(x.canSeeViewProviders);x.resolving=!0;const Q=x.injectImpl?nr(x.injectImpl):null;Nn(t,c,ln.Default);try{f=t[a]=x.factory(void 0,v,t,c),r.firstCreatePass&&a>=c.directiveStart&&function vd(t,r,a){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:v}=r.type.prototype;if(c){const x=pr(r);(a.preOrderHooks??=[]).push(t,x),(a.preOrderCheckHooks??=[]).push(t,x)}f&&(a.preOrderHooks??=[]).push(0-t,f),v&&((a.preOrderHooks??=[]).push(t,v),(a.preOrderCheckHooks??=[]).push(t,v))}(a,v[a],r)}finally{null!==Q&&nr(Q),hc(S),x.resolving=!1,ii()}}return f}function Jd(t,r,a){return!!(a[r+(t>>Hu)]&1<<t)}function ql(t,r){return!(t&ln.Self||t&ln.Host&&r)}class yo{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,c){return $u(this._tNode,this._lView,r,En(c),a)}}function Ga(){return new yo(ts(),Mt())}function cs(t){return Xe(()=>{const r=t.prototype.constructor,a=r[kt]||Ma(r),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const v=f[kt]||Ma(f);if(v&&v!==a)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function Ma(t){return mt(t)?()=>{const r=Ma(ft(t));return r&&r()}:jo(t)}function eh(t){const r=t[Zt],a=r.type;return 2===a?r.declTNode:1===a?t[Cs]:null}function Ii(t){return function Fc(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const a=t.attrs;if(a){const c=a.length;let f=0;for(;f<c;){const v=a[f];if(qs(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<c&&"string"==typeof a[f];)f++;else{if(v===r)return a[f+1];f+=2}}}return null}(ts(),t)}const Ss="__parameters__";function ee(t,r,a){return Xe(()=>{const c=function $(t){return function(...a){if(t){const c=t(...a);for(const f in c)this[f]=c[f]}}}(r);function f(...v){if(this instanceof f)return c.apply(this,v),this;const x=new f(...v);return S.annotation=x,S;function S(F,Q,le){const Ee=F.hasOwnProperty(Ss)?F[Ss]:Object.defineProperty(F,Ss,{value:[]})[Ss];for(;Ee.length<=le;)Ee.push(null);return(Ee[le]=Ee[le]||[]).push(x),F}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function bo(t,r){t.forEach(a=>Array.isArray(a)?bo(a,r):r(a))}function Zs(t,r,a){r>=t.length?t.push(a):t.splice(r,0,a)}function Uc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function hl(t,r){const a=[];for(let c=0;c<t;c++)a.push(r);return a}function la(t,r,a){let c=au(t,r);return c>=0?t[1|c]=a:(c=~c,function Rl(t,r,a,c){let f=t.length;if(f==r)t.push(a,c);else if(1===f)t.push(c,t[0]),t[0]=a;else{for(f--,t.push(t[f-1],t[f]);f>r;)t[f]=t[f-2],f--;t[r]=a,t[r+1]=c}}(t,c,r,a)),c}function Gu(t,r){const a=au(t,r);if(a>=0)return t[1|a]}function au(t,r){return function Kl(t,r,a){let c=0,f=t.length>>a;for(;f!==c;){const v=c+(f-c>>1),x=t[v<<a];if(r===x)return v<<a;x>r?f=v:c=v+1}return~(f<<a)}(t,r,1)}const Pe=Ln(ee("Optional"),8),Ct=Ln(ee("SkipSelf"),4);function Dd(t){return 128==(128&t.flags)}var fl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fl||{});const Zf=new Map;let mc=0;const No="__ngContext__";function Fo(t,r){ps(r)?(t[No]=r[Jo],function gc(t){Zf.set(t[Jo],t)}(r)):t[No]=r}let rh;function _c(t,r){return rh(t,r)}function tf(t){const r=t[Mr];return rr(r)?r[Mr]:r}function Ad(t){return ih(t[ha])}function nf(t){return ih(t[Ti])}function ih(t){for(;null!==t&&!rr(t);)t=t[Ti];return t}function vc(t,r,a,c,f){if(null!=c){let v,x=!1;rr(c)?v=c:ps(c)&&(x=!0,c=c[qr]);const S=gi(c);0===t&&null!==a?null==f?Cn(r,a,S):un(r,a,S,f||null,!0):1===t&&null!==a?un(r,a,S,f||null,!0):2===t?function rf(t,r,a){const c=Ls(t,r);c&&function Jr(t,r,a,c){t.removeChild(r,a,c)}(t,c,r,a)}(r,S,x):3===t&&r.destroyNode(S),null!=v&&function Md(t,r,a,c,f){const v=a[Kr];v!==gi(a)&&vc(r,t,c,v,f);for(let S=Yn;S<a.length;S++){const F=a[S];nm(F[Zt],F,t,r,c,v)}}(r,t,v,a,f)}}function Ya(t,r,a){return t.createElement(r,a)}function y(t,r){const a=t[no],c=a.indexOf(r);Yd(r),a.splice(c,1)}function T(t,r){if(t.length<=Yn)return;const a=Yn+r,c=t[a];if(c){const f=c[fa];null!==f&&f!==t&&y(f,c),r>0&&(t[a-1][Ti]=c[Ti]);const v=Uc(t,Yn+r);!function em(t,r){nm(t,r,r[On],2,null,null),r[qr]=null,r[Cs]=null}(c[Zt],c);const x=v[to];null!==x&&x.detachView(v[Zt]),c[Mr]=null,c[Ti]=null,c[Wn]&=-129}return c}function G(t,r){if(!(256&r[Wn])){const a=r[On];r[bl]&&ho(r[bl]),r[ao]&&ho(r[ao]),a.destroyNode&&nm(t,r,a,3,null,null),function sh(t){let r=t[ha];if(!r)return re(t[Zt],t);for(;r;){let a=null;if(ps(r))a=r[ha];else{const c=r[Yn];c&&(a=c)}if(!a){for(;r&&!r[Ti]&&r!==t;)ps(r)&&re(r[Zt],r),r=r[Mr];null===r&&(r=t),ps(r)&&re(r[Zt],r),a=r&&r[Ti]}r=a}}(r)}}function re(t,r){if(!(256&r[Wn])){r[Wn]&=-129,r[Wn]|=256,function Ie(t,r){let a;if(null!=t&&null!=(a=t.destroyHooks))for(let c=0;c<a.length;c+=2){const f=r[a[c]];if(!(f instanceof Wi)){const v=a[c+1];if(Array.isArray(v))for(let x=0;x<v.length;x+=2){const S=f[v[x]],F=v[x+1];Ts(4,S,F);try{F.call(S)}finally{Ts(5,S,F)}}else{Ts(4,f,v);try{v.call(f)}finally{Ts(5,f,v)}}}}}(t,r),function pe(t,r){const a=t.cleanup,c=r[ss];if(null!==a)for(let v=0;v<a.length-1;v+=2)if("string"==typeof a[v]){const x=a[v+3];x>=0?c[x]():c[-x].unsubscribe(),v+=2}else a[v].call(c[a[v+1]]);null!==c&&(r[ss]=null);const f=r[ka];if(null!==f){r[ka]=null;for(let v=0;v<f.length;v++)(0,f[v])()}}(t,r),1===r[Zt].type&&r[On].destroy();const a=r[fa];if(null!==a&&rr(r[Mr])){a!==r[Mr]&&y(a,r);const c=r[to];null!==c&&c.detachView(t)}!function qa(t){Zf.delete(t[Jo])}(r)}}function Be(t,r,a){return function gt(t,r,a){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return a[qr];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:v}=t.data[c.directiveStart+f];if(v===At.None||v===At.Emulated)return null}return fo(c,a)}}(t,r.parent,a)}function un(t,r,a,c,f){t.insertBefore(r,a,c,f)}function Cn(t,r,a){t.appendChild(r,a)}function Fn(t,r,a,c,f){null!==c?un(t,r,a,c,f):Cn(t,r,a)}function Ls(t,r){return t.parentNode(r)}function Io(t,r,a){return ya(t,r,a)}let Ki,im,tp,sm,ya=function Ql(t,r,a){return 40&t.type?fo(t,a):null};function ba(t,r,a,c){const f=Be(t,c,r),v=r[On],S=Io(c.parent||r[Cs],c,r);if(null!=f)if(Array.isArray(a))for(let F=0;F<a.length;F++)Fn(v,f,a[F],S,!1);else Fn(v,f,a,S,!1);void 0!==Ki&&Ki(v,c,r,a,f)}function ml(t,r){if(null!==r){const a=r.type;if(3&a)return fo(r,t);if(4&a)return gu(-1,t[r.index]);if(8&a){const c=r.child;if(null!==c)return ml(t,c);{const f=t[r.index];return rr(f)?gu(-1,f):gi(f)}}if(32&a)return _c(r,t)()||gi(t[r.index]);{const c=Jf(t,r);return null!==c?Array.isArray(c)?c[0]:ml(tf(t[Di]),c):ml(t,r.next)}}return null}function Jf(t,r){return null!==r?t[Di][Cs].projection[r.projection]:null}function gu(t,r){const a=Yn+t+1;if(a<r.length){const c=r[a],f=c[Zt].firstChild;if(null!==f)return ml(c,f)}return r[Kr]}function D_(t,r,a,c,f,v,x){for(;null!=a;){const S=c[a.index],F=a.type;if(x&&0===r&&(S&&Fo(gi(S),c),a.flags|=2),32!=(32&a.flags))if(8&F)D_(t,r,a.child,c,f,v,!1),vc(r,t,f,S,v);else if(32&F){const Q=_c(a,c);let le;for(;le=Q();)vc(r,t,f,le,v);vc(r,t,f,S,v)}else 16&F?mg(t,r,c,a,f,v):vc(r,t,f,S,v);a=x?a.projectionNext:a.next}}function nm(t,r,a,c,f,v){D_(a,c,t.firstChild,r,f,v,!1)}function mg(t,r,a,c,f,v){const x=a[Di],F=x[Cs].projection[c.projection];if(Array.isArray(F))for(let Q=0;Q<F.length;Q++)vc(r,t,f,F[Q],v);else{let Q=F;const le=x[Mr];Dd(c)&&(Q.flags|=128),D_(t,r,Q,le,f,v,!0)}}function Co(t,r,a){""===a?t.removeAttribute(r,"class"):t.setAttribute(r,"class",a)}function sf(t,r,a){const{mergedAttrs:c,classes:f,styles:v}=a;null!==c&&Qs(t,r,c),null!==f&&Co(t,r,f),null!==v&&function S_(t,r,a){t.setAttribute(r,"style",a)}(t,r,v)}function kl(t){return function oh(){if(void 0===im&&(im=null,Zn.trustedTypes))try{im=Zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return im}()?.createHTML(t)||t}function _y(t){tp=t}function gg(t){return function Xl(){if(void 0===sm&&(sm=null,Zn.trustedTypes))try{sm=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sm}()?.createScriptURL(t)||t}class Gc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yt})`}}class _g extends Gc{getTypeName(){return"HTML"}}class vy extends Gc{getTypeName(){return"Style"}}class R_ extends Gc{getTypeName(){return"Script"}}class yy extends Gc{getTypeName(){return"URL"}}class O_ extends Gc{getTypeName(){return"ResourceURL"}}function Jl(t){return t instanceof Gc?t.changingThisBreaksApplicationSecurity:t}function Ra(t,r){const a=function lf(t){return t instanceof Gc&&t.getTypeName()||null}(t);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see ${Yt})`)}return a===r}function vg(t){return new _g(t)}function by(t){return new vy(t)}function P_(t){return new R_(t)}function Rd(t){return new yy(t)}function k_(t){return new O_(t)}class np{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(kl(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch{return null}}}class rp{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const a=this.inertDocument.createElement("template");return a.innerHTML=kl(r),a}}const cf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _u(t){return(t=String(t)).match(cf)?t:"unsafe:"+t}function ec(t){const r={};for(const a of t.split(","))r[a]=!0;return r}function Yu(...t){const r={};for(const a of t)for(const c in a)a.hasOwnProperty(c)&&(r[c]=!0);return r}const lm=ec("area,br,col,hr,img,wbr"),cm=ec("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yg=ec("rp,rt"),um=Yu(lm,Yu(cm,ec("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yu(yg,ec("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yu(yg,cm)),uf=ec("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wy=Yu(uf,ec("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ec("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Iy=ec("script,style,template");class Rb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=this.checkClobberedElement(a,a.nextSibling);if(f){a=f;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!um.hasOwnProperty(a))return this.sanitizedSomething=!0,!Iy.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=r.attributes;for(let f=0;f<c.length;f++){const v=c.item(f),x=v.name,S=x.toLowerCase();if(!wy.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let F=v.value;uf[S]&&(F=_u(F)),this.buf.push(" ",x,'="',df(F),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();um.hasOwnProperty(a)&&!lm.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(df(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const Ob=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pb=/([^\#-~ |!])/g;function df(t){return t.replace(/&/g,"&amp;").replace(Ob,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Pb,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vu;function Od(t,r){let a=null;try{vu=vu||function am(t){const r=new rp(t);return function ah(){try{return!!(new window.DOMParser).parseFromString(kl(""),"text/html")}catch{return!1}}()?new np(r):r}(t);let c=r?String(r):"";a=vu.getInertBodyElement(c);let f=5,v=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=v,v=a.innerHTML,a=vu.getInertBodyElement(c)}while(c!==v);return kl((new Rb).sanitizeChildren(dm(a)||a))}finally{if(a){const c=dm(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function dm(t){return"content"in t&&function N_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(lh||{});function hm(t){const r=hf();return r?r.sanitize(lh.URL,t)||"":Ra(t,"URL")?Jl(t):_u(ke(t))}function L_(t){const r=hf();if(r)return gg(r.sanitize(lh.RESOURCE_URL,t)||"");if(Ra(t,"ResourceURL"))return gg(Jl(t));throw new Ve(904,!1)}function Eg(t,r,a){return function bg(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?L_:hm}(r,a)(t)}function hf(){const t=Mt();return t&&t[Os].sanitizer}class Ni{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=vn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pd=new Ni("ENVIRONMENT_INITIALIZER"),op=new Ni("INJECTOR",-1),ch=new Ni("INJECTOR_DEF_TYPES");class ff{get(r,a=is){if(a===is){const c=new Error(`NullInjectorError: No provider for ${Fe(r)}!`);throw c.name="NullInjectorError",c}return a}}function Qa(...t){return{\u0275providers:Ig(0,t),\u0275fromNgModule:!0}}function Ig(t,...r){const a=[],c=new Set;let f;const v=x=>{a.push(x)};return bo(r,x=>{const S=x;mf(S,v,[],c)&&(f||=[],f.push(S))}),void 0!==f&&pf(f,v),a}function pf(t,r){for(let a=0;a<t.length;a++){const{ngModule:c,providers:f}=t[a];yu(f,v=>{r(v,c)})}}function mf(t,r,a,c){if(!(t=ft(t)))return!1;let f=null,v=Fi(t);const x=!v&&dr(t);if(v||x){if(x&&!x.standalone)return!1;f=t}else{const F=t.ngModule;if(v=Fi(F),!v)return!1;f=F}const S=c.has(f);if(x){if(S)return!1;if(c.add(f),x.dependencies){const F="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Q of F)mf(Q,r,a,c)}}else{if(!v)return!1;{if(null!=v.imports&&!S){let Q;c.add(f);try{bo(v.imports,le=>{mf(le,r,a,c)&&(Q||=[],Q.push(le))})}finally{}void 0!==Q&&pf(Q,r)}if(!S){const Q=jo(f)||(()=>new f);r({provide:f,useFactory:Q,deps:Nt},f),r({provide:ch,useValue:f,multi:!0},f),r({provide:Pd,useValue:()=>Ze(f),multi:!0},f)}const F=v.providers;if(null!=F&&!S){const Q=t;yu(F,le=>{r(le,Q)})}}}return f!==t&&void 0!==t.providers}function yu(t,r){for(let a of t)pt(a)&&(a=a.\u0275providers),Array.isArray(a)?yu(a,r):r(a)}const ap=fe({provide:String,useValue:fe});function Cg(t){return null!==t&&"object"==typeof t&&ap in t}function yc(t){return"function"==typeof t}const bu=new Ni("Set Injector scope."),gf={},xy={};let mm;function Eu(){return void 0===mm&&(mm=new ff),mm}class bc{}class lp extends bc{get destroyed(){return this._destroyed}constructor(r,a,c,f){super(),this.parent=a,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_m(r,x=>this.processProvider(x)),this.records.set(op,_f(void 0,this)),f.has("environment")&&this.records.set(bc,_f(void 0,this));const v=this.records.get(bu);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(ch.multi,Nt,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of r)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const a=he(this),c=nr(void 0);try{return r()}finally{he(a),nr(c)}}get(r,a=is,c=ln.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(vr))return r[vr](this);c=En(c);const v=he(this),x=nr(void 0);try{if(!(c&ln.SkipSelf)){let F=this.records.get(r);if(void 0===F){const Q=function gm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ni}(r)&&Dr(r);F=Q&&this.injectableDefInScope(Q)?_f(cp(r),gf):null,this.records.set(r,F)}if(null!=F)return this.hydrate(r,F)}return(c&ln.Self?Eu():this.parent).get(r,a=c&ln.Optional&&a===is?null:a)}catch(S){if("NullInjectorError"===S.name){if((S[Rs]=S[Rs]||[]).unshift(Fe(r)),v)throw S;return function Us(t,r,a,c){const f=t[Rs];throw r[Y]&&f.unshift(r[Y]),t.message=function Bs(t,r,a,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Fe(r);if(Array.isArray(r))f=r.map(Fe).join(" -> ");else if("object"==typeof r){let v=[];for(let x in r)if(r.hasOwnProperty(x)){let S=r[x];v.push(x+":"+("string"==typeof S?JSON.stringify(S):Fe(S)))}f=`{${v.join(", ")}}`}return`${a}${c?"("+c+")":""}[${f}]: ${t.replace(Me,"\n  ")}`}("\n"+t.message,f,a,c),t.ngTokenPath=f,t[Rs]=null,t}(S,r,"R3InjectorError",this.source)}throw S}finally{nr(x),he(v)}}resolveInjectorInitializers(){const r=he(this),a=nr(void 0);try{const f=this.get(Pd.multi,Nt,ln.Self);for(const v of f)v()}finally{he(r),nr(a)}}toString(){const r=[],a=this.records;for(const c of a.keys())r.push(Fe(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(r){let a=yc(r=ft(r))?r:ft(r&&r.provide);const c=function j_(t){return Cg(t)?_f(void 0,t.useValue):_f(Tg(t),gf)}(r);if(yc(r)||!0!==r.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=_f(void 0,gf,!0),f.factory=()=>nn(f.multi),this.records.set(a,f)),a=r,f.multi.push(r)}this.records.set(a,c)}hydrate(r,a){return a.value===gf&&(a.value=xy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function wu(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=ft(r.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(r){const a=this._onDestroyHooks.indexOf(r);-1!==a&&this._onDestroyHooks.splice(a,1)}}function cp(t){const r=Dr(t),a=null!==r?r.factory:jo(t);if(null!==a)return a;if(t instanceof Ni)throw new Ve(204,!1);if(t instanceof Function)return function Ty(t){const r=t.length;if(r>0)throw hl(r,"?"),new Ve(204,!1);const a=function Fr(t){return t&&(t[Oi]||t[yi])||null}(t);return null!==a?()=>a.factory(t):()=>new t}(t);throw new Ve(204,!1)}function Tg(t,r,a){let c;if(yc(t)){const f=ft(t);return jo(f)||cp(f)}if(Cg(t))c=()=>ft(t.useValue);else if(function B_(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...nn(t.deps||[]));else if(function Qu(t){return!(!t||!t.useExisting)}(t))c=()=>Ze(ft(t.useExisting));else{const f=ft(t&&(t.useClass||t.provide));if(!function H_(t){return!!t.deps}(t))return jo(f)||cp(f);c=()=>new f(...nn(t.deps))}return c}function _f(t,r,a=!1){return{factory:t,value:r,multi:a?[]:void 0}}function _m(t,r){for(const a of t)Array.isArray(a)?_m(a,r):a&&pt(a)?_m(a.\u0275providers,r):r(a)}const z_=new Ni("AppId",{providedIn:"root",factory:()=>Fb}),Fb="ng",Dg=new Ni("Platform Initializer"),Sg=new Ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$_=new Ni("AnimationModuleType"),Ea=new Ni("CSP nonce",{providedIn:"root",factory:()=>function af(){if(void 0!==tp)return tp;if(typeof document<"u")return document;throw new Ve(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sy=(t,r,a)=>null;function bm(t,r,a=!1){return Sy(t,r,a)}class Og{}class fp{}class Pg{resolveComponentFactory(r){throw function pp(t){const r=Error(`No component factory found for ${Fe(t)}.`);return r.ngComponent=t,r}(r)}}let hh=(()=>{class r{}return r.NULL=new Pg,r})();function Q_(){return Tf(ts(),Mt())}function Tf(t,r){return new Df(fo(t,r))}let Df=(()=>{class r{constructor(c){this.nativeElement=c}}return r.__NG_ELEMENT_ID__=Q_,r})();function Im(t){return t instanceof Df?t.nativeElement:t}class Cm{}let Oy=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Py(){const t=Mt(),a=sa(ts().index,t);return(ps(a)?a:t)[On]}(),r})(),Xa=(()=>{var t;class r{}return(t=r).\u0275prov=vn({token:t,providedIn:"root",factory:()=>null}),r})();class X_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const kg=new X_("16.2.4"),Ju={};function gp(t,r=null,a=null,c){const f=fh(t,r,a,c);return f.resolveInjectorInitializers(),f}function fh(t,r=null,a=null,c,f=new Set){const v=[a||Nt,Qa(t)];return c=c||("object"==typeof t?void 0:Fe(t)),new lp(v,r||Eu(),c||null,f)}let Ja=(()=>{var t;class r{static create(c,f){if(Array.isArray(c))return gp({name:""},f,c,"");{const v=c.name??"";return gp({name:v},c.parent,c.providers,v)}}}return(t=r).THROW_IF_NOT_FOUND=is,t.NULL=new ff,t.\u0275prov=vn({token:t,providedIn:"any",factory:()=>Ze(op)}),t.__NG_ELEMENT_ID__=-1,r})();function Fg(t){return r=>{setTimeout(t,void 0,r)}}const td=class ed extends E.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,c){let f=r,v=a||(()=>null),x=c;if(r&&"object"==typeof r){const F=r;f=F.next?.bind(F),v=F.error?.bind(F),x=F.complete?.bind(F)}this.__isAsync&&(v=Fg(v),f&&(f=Fg(f)),x&&(x=Fg(x)));const S=super.subscribe({next:f,error:v,complete:x});return r instanceof se.w0&&r.add(S),S}};function Ny(...t){}class qo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new td(!1),this.onMicrotaskEmpty=new td(!1),this.onStable=new td(!1),this.onError=new td(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&a,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function rv(){const t="function"==typeof Zn.requestAnimationFrame;let r=Zn[t?"requestAnimationFrame":"setTimeout"],a=Zn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&a){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function sv(t){const r=()=>{!function iv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vp(t),t.isCheckStableRunning=!0,Vg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,f,v,x,S)=>{if(function uv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(S))return a.invokeTask(f,v,x,S);try{return Sm(t),a.invokeTask(f,v,x,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||t.shouldCoalesceRunChangeDetection)&&r(),ov(t)}},onInvoke:(a,c,f,v,x,S,F)=>{try{return Sm(t),a.invoke(f,v,x,S,F)}finally{t.shouldCoalesceRunChangeDetection&&r(),ov(t)}},onHasTask:(a,c,f,v)=>{a.hasTask(f,v),c===f&&("microTask"==v.change?(t._hasPendingMicrotasks=v.microTask,vp(t),Vg(t)):"macroTask"==v.change&&(t.hasPendingMacrotasks=v.macroTask))},onHandleError:(a,c,f,v)=>(a.handleError(f,v),t.runOutsideAngular(()=>t.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Ve(909,!1)}run(r,a,c){return this._inner.run(r,a,c)}runTask(r,a,c,f){const v=this._inner,x=v.scheduleEventTask("NgZoneEvent: "+f,r,ph,Ny,Ny);try{return v.runTask(x,a,c)}finally{v.cancelTask(x)}}runGuarded(r,a,c){return this._inner.runGuarded(r,a,c)}runOutsideAngular(r){return this._outer.run(r)}}const ph={};function Vg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Sm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ov(t){t._nesting--,Vg(t)}class av{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new td,this.onMicrotaskEmpty=new td,this.onStable=new td,this.onError=new td}run(r,a,c){return r.apply(a,c)}runGuarded(r,a,c){return r.apply(a,c)}runOutsideAngular(r){return r()}runTask(r,a,c,f){return r.apply(a,c)}}const lv=new Ni("",{providedIn:"root",factory:cv});function cv(){const t=xt(qo);let r=!0;const a=new ie.y(f=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(r),f.complete()})}),c=new ie.y(f=>{let v;t.runOutsideAngular(()=>{v=t.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,f.next(!0))})})});const x=t.onUnstable.subscribe(()=>{qo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{v.unsubscribe(),x.unsubscribe()}});return(0,_.T)(a,c.pipe((0,Ae.B)()))}function Nl(t){return t instanceof Function?t():t}let vh=(()=>{var t;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Ve(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=r).\u0275prov=vn({token:t,providedIn:"root",factory:()=>new t}),r})();function yh(t){for(;t;){t[Wn]|=64;const r=tf(t);if(lo(t)&&!r)return t;t=r}return null}function yp(t){return t.ngOriginalError}class Cu{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r);this._console.error("ERROR",r),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&yp(r);for(;a&&yp(a);)a=yp(a);return a||null}}const Ly=new Ni("",{providedIn:"root",factory:()=>!1});let Pf=null;function kf(t,r){return t[r]??Nd()}function Mm(t,r){const a=Nd();a.producerNode?.length&&(t[r]=Pf,a.lView=t,Pf=bp())}const Vy={...zs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{yh(t.lView)},lView:null};function bp(){return Object.create(Vy)}function Nd(){return Pf??=bp(),Pf}const mr={};function Ep(t){Nf(Lr(),Mt(),_o()+t,!1)}function Nf(t,r,a,c){if(!c)if(3==(3&r[Wn])){const v=t.preOrderCheckHooks;null!==v&&vo(r,v,a)}else{const v=t.preOrderHooks;null!==v&&Gl(r,v,0,a)}wi(a)}function wp(t,r=ln.Default){const a=Mt();return null===a?Ze(t,r):$u(ts(),a,ft(t),r)}function Rm(){throw new Error("invalid")}function Ip(t,r,a,c,f,v,x,S,F,Q,le){const Ee=r.blueprint.slice();return Ee[qr]=f,Ee[Wn]=140|c,(null!==Q||t&&2048&t[Wn])&&(Ee[Wn]|=2048),Nu(Ee),Ee[Mr]=Ee[Ps]=t,Ee[ri]=a,Ee[Os]=x||t&&t[Os],Ee[On]=S||t&&t[On],Ee[Xi]=F||t&&t[Xi]||null,Ee[Cs]=v,Ee[Jo]=function Xp(){return mc++}(),Ee[oo]=le,Ee[Ca]=Q,Ee[Di]=2==r.type?t[Di]:Ee,Ee}function Cp(t,r,a,c,f){let v=t.data[r];if(null===v)v=function Om(t,r,a,c,f){const v=Ha(),x=kn(),F=t.data[r]=function jy(t,r,a,c,f,v){let x=r?r.injectorIndex:-1,S=0;return Oo()&&(S|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?v:v&&v.parent,a,r,c,f);return null===t.firstChild&&(t.firstChild=F),null!==v&&(x?null==v.child&&null!==F.parent&&(v.child=F):null===v.next&&(v.next=F,F.prev=v)),F}(t,r,a,c,f),function P(){return qn.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=a,v.value=c,v.attrs=f;const x=function Ei(){const t=qn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();v.injectorIndex=null===x?-1:x.injectorIndex}return Rt(v,!0),v}function Pm(t,r,a,c){if(0===a)return-1;const f=r.length;for(let v=0;v<a;v++)r.push(c),t.blueprint.push(c),t.data.push(null);return f}function bv(t,r,a,c,f){const v=kf(r,bl),x=_o(),S=2&c;try{wi(-1),S&&r.length>fr&&Nf(t,r,fr,!1),Ts(S?2:0,f);const Q=S?v:null,le=Ai(Q);try{null!==Q&&(Q.dirty=!1),a(c,f)}finally{Ao(Q,le)}}finally{S&&null===r[bl]&&Mm(r,bl),wi(x),Ts(S?3:1,f)}}function Hg(t,r,a){if(il(r)){const c=ui(null);try{const v=r.directiveEnd;for(let x=r.directiveStart;x<v;x++){const S=t.data[x];S.contentQueries&&S.contentQueries(1,a[x],x)}}finally{ui(c)}}}function zg(t,r,a){$l()&&(function Kg(t,r,a,c){const f=a.directiveStart,v=a.directiveEnd;ta(a)&&function Qg(t,r,a){const c=fo(r,t),f=xp(a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const S=Um(t,Ip(t,f,null,x,c,r,null,t[Os].rendererFactory.createRenderer(c,a),null,null,null));t[r.index]=S}(r,a,t.data[f+a.componentOffset]),t.firstCreatePass||Dl(a,r),Fo(c,r);const x=a.initialInputs;for(let S=f;S<v;S++){const F=t.data[S],Q=Vc(r,t,S,a);Fo(Q,r),null!==x&&Kb(0,S-f,Q,F,0,x),os(F)&&(sa(a.index,r)[ri]=Vc(r,t,S,a))}}(t,r,a,fo(a,r)),64==(64&a.flags)&&Ff(t,r,a))}function km(t,r,a=fo){const c=r.localNames;if(null!==c){let f=r.index+1;for(let v=0;v<c.length;v+=2){const x=c[v+1],S=-1===x?a(r,t):t[x];t[f++]=S}}}function xp(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=$g(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function $g(t,r,a,c,f,v,x,S,F,Q,le){const Ee=fr+c,Ue=Ee+f,qe=function Uy(t,r){const a=[];for(let c=0;c<r;c++)a.push(c<t?null:mr);return a}(Ee,Ue),Et="function"==typeof Q?Q():Q;return qe[Zt]={type:t,blueprint:qe,template:a,queries:null,viewQuery:S,declTNode:r,data:qe.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:F,consts:Et,incompleteFirstPass:!1,ssrId:le}}let By=t=>null;function bh(t,r,a,c){for(let f in t)if(t.hasOwnProperty(f)){a=null===a?{}:a;const v=t[f];null===c?Gg(a,r,f,v):c.hasOwnProperty(f)&&Gg(a,r,c[f],v)}return a}function Gg(t,r,a,c){t.hasOwnProperty(a)?t[a].push(r,c):t[a]=[r,c]}function Ec(t,r,a,c,f,v,x,S){const F=fo(r,a);let le,Q=r.inputs;!S&&null!=Q&&(le=Q[c])?(Hm(t,a,le,c,f),ta(r)&&function $b(t,r){const a=sa(r,t);16&a[Wn]||(a[Wn]|=64)}(a,r.index)):3&r.type&&(c=function Hy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=x?x(f,r.value||"",c):f,v.setProperty(F,c,f))}function Eh(t,r,a,c){if($l()){const f=null===c?null:{"":-1},v=function Zg(t,r){const a=t.directiveRegistry;let c=null,f=null;if(a)for(let v=0;v<a.length;v++){const x=a[v];if(Ye(r,x.selectors,!1))if(c||(c=[]),os(x))if(null!==x.findHostDirectiveDefs){const S=[];f=f||new Map,x.findHostDirectiveDefs(x,S,f),c.unshift(...S,x),Yg(t,r,S.length)}else c.unshift(x),Yg(t,r,0);else f=f||new Map,x.findHostDirectiveDefs?.(x,c,f),c.push(x)}return null===c?null:[c,f]}(t,a);let x,S;null===v?x=S=null:[x,S]=v,null!==x&&Wg(t,r,a,x,f,S),f&&function tc(t,r,a){if(r){const c=t.localNames=[];for(let f=0;f<r.length;f+=2){const v=a[r[f+1]];if(null==v)throw new Ve(-301,!1);c.push(r[f],v)}}}(a,c,f)}a.mergedAttrs=Kt(a.mergedAttrs,a.attrs)}function Wg(t,r,a,c,f,v){for(let Q=0;Q<c.length;Q++)zu(Dl(a,r),t,c[Q].type);!function Wb(t,r,a){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+a,t.providerIndexes=r}(a,t.data.length,c.length);for(let Q=0;Q<c.length;Q++){const le=c[Q];le.providersResolver&&le.providersResolver(le)}let x=!1,S=!1,F=Pm(t,r,c.length,null);for(let Q=0;Q<c.length;Q++){const le=c[Q];a.mergedAttrs=Kt(a.mergedAttrs,le.hostAttrs),qb(t,a,r,F,le),wh(F,le,f),null!==le.contentQueries&&(a.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(a.flags|=64);const Ee=le.type.prototype;!x&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((t.preOrderHooks??=[]).push(a.index),x=!0),!S&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(a.index),S=!0),F++}!function Tp(t,r,a){const f=r.directiveEnd,v=t.data,x=r.attrs,S=[];let F=null,Q=null;for(let le=r.directiveStart;le<f;le++){const Ee=v[le],Ue=a?a.get(Ee):null,Et=Ue?Ue.outputs:null;F=bh(Ee.inputs,le,F,Ue?Ue.inputs:null),Q=bh(Ee.outputs,le,Q,Et);const Qt=null===F||null===x||hs(r)?null:Zb(F,le,x);S.push(Qt)}null!==F&&(F.hasOwnProperty("class")&&(r.flags|=8),F.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=S,r.inputs=F,r.outputs=Q}(t,a,v)}function Ff(t,r,a){const c=a.directiveStart,f=a.directiveEnd,v=a.index,x=function W(){return qn.lFrame.currentDirectiveIndex}();try{wi(v);for(let S=c;S<f;S++){const F=t.data[S],Q=r[S];ce(S),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Iv(F,Q)}}finally{wi(-1),ce(x)}}function Iv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Yg(t,r,a){r.componentOffset=a,(t.components??=[]).push(r.index)}function wh(t,r,a){if(a){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)a[r.exportAs[c]]=t;os(r)&&(a[""]=t)}}function qb(t,r,a,c,f){t.data[c]=f;const v=f.factory||(f.factory=jo(f.type)),x=new Wi(v,os(f),wp);t.blueprint[c]=x,a[c]=x,function qg(t,r,a,c,f){const v=f.hostBindings;if(v){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const S=~r.index;(function Vm(t){let r=t.length;for(;r>0;){const a=t[--r];if("number"==typeof a&&a<0)return a}return 0})(x)!=S&&x.push(S),x.push(a,c,v)}}(t,r,c,Pm(t,a,f.hostVars,mr),f)}function nd(t,r,a,c,f,v){const x=fo(t,r);!function Xg(t,r,a,c,f,v,x){if(null==v)t.removeAttribute(r,f,a);else{const S=null==x?ke(v):x(v,c||"",f);t.setAttribute(r,f,S,a)}}(r[On],x,v,t.value,a,c,f)}function Kb(t,r,a,c,f,v){const x=v[r];if(null!==x)for(let S=0;S<x.length;)zy(c,a,x[S++],x[S++],x[S++])}function zy(t,r,a,c,f){const v=ui(null);try{const x=t.inputTransforms;null!==x&&x.hasOwnProperty(c)&&(f=x[c].call(r,f)),null!==t.setInput?t.setInput(r,f,a,c):r[c]=f}finally{ui(v)}}function Zb(t,r,a){let c=null,f=0;for(;f<a.length;){const v=a[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(t.hasOwnProperty(v)){null===c&&(c=[]);const x=t[v];for(let S=0;S<x.length;S+=2)if(x[S]===r){c.push(v,x[S+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function $y(t,r,a,c){return[t,!0,!1,r,null,0,c,a,null,null,null]}function Cv(t,r){const a=t.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const v=a[c+1];if(-1!==v){const x=t.data[v];$t(a[c]),x.contentQueries(2,r[v],v)}}}function Um(t,r){return t[ha]?t[eo][Ti]=r:t[ha]=r,t[eo]=r,r}function Bm(t,r,a){$t(0);const c=ui(null);try{r(t,a)}finally{ui(c)}}function Jg(t){return t[ss]||(t[ss]=[])}function e_(t){return t.cleanup||(t.cleanup=[])}function Dp(t,r,a){return(null===t||os(t))&&(a=function Sc(t){for(;Array.isArray(t);){if("object"==typeof t[Ul])return t;t=t[qr]}return null}(a[r.index])),a[On]}function si(t,r){const a=t[Xi],c=a?a.get(Cu,null):null;c&&c.handleError(r)}function Hm(t,r,a,c,f){for(let v=0;v<a.length;){const x=a[v++],S=a[v++];zy(t.data[x],r[x],c,S,f)}}function Sp(t,r){const a=sa(r,t),c=a[Zt];!function Ap(t,r){for(let a=r.length;a<t.blueprint.length;a++)r.push(t.blueprint[a])}(c,a);const f=a[qr];null!==f&&null===a[oo]&&(a[oo]=bm(f,a[Xi])),Ys(c,a,a[ri])}function Ys(t,r,a){tr(r);try{const c=t.viewQuery;null!==c&&Bm(1,c,a);const f=t.template;null!==f&&bv(t,r,f,1,a),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cv(t,r),t.staticViewQueries&&Bm(2,t.viewQuery,a);const v=t.components;null!==v&&function Vo(t,r){for(let a=0;a<r.length;a++)Sp(t,r[a])}(r,v)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[Wn]&=-5,In()}}let wc=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(c,f,v){const x=typeof Zone>"u"?null:Zone.current,S=function Re(t,r,a){const c=Object.create(zt);a&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=r;const f=x=>{c.cleanupFn=x};return c.ref={notify:()=>na(c),run:()=>{if(c.dirty=!1,c.hasRun&&!ki(c))return;c.hasRun=!0;const x=Ai(c);try{c.cleanupFn(),c.cleanupFn=ut,c.fn(f)}finally{Ao(c,x)}},cleanup:()=>c.cleanupFn()},c.ref}(c,le=>{this.all.has(le)&&this.queue.set(le,x)},v);let F;this.all.add(S),S.notify();const Q=()=>{S.cleanup(),F?.(),this.all.delete(S),this.queue.delete(S)};return F=f?.onDestroy(Q),{destroy:Q}}flush(){if(0!==this.queue.size)for(const[c,f]of this.queue)this.queue.delete(c),f?f.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=vn({token:t,providedIn:"root",factory:()=>new t}),r})();function Mp(t,r,a){let c=a?t.styles:null,f=a?t.classes:null,v=0;if(null!==r)for(let x=0;x<r.length;x++){const S=r[x];"number"==typeof S?v=S:1==v?f=ht(f,S):2==v&&(c=ht(c,S+": "+r[++x]+";"))}a?t.styles=c:t.stylesWithoutHost=c,a?t.classes=f:t.classesWithoutHost=f}function Ih(t,r,a,c,f=!1){for(;null!==a;){const v=r[a.index];null!==v&&c.push(gi(v)),rr(v)&&Ld(v,c);const x=a.type;if(8&x)Ih(t,r,a.child,c);else if(32&x){const S=_c(a,r);let F;for(;F=S();)c.push(F)}else if(16&x){const S=Jf(r,a);if(Array.isArray(S))c.push(...S);else{const F=tf(r[Di]);Ih(F[Zt],F,S,c,!0)}}a=f?a.projectionNext:a.next}return c}function Ld(t,r){for(let a=Yn;a<t.length;a++){const c=t[a],f=c[Zt].firstChild;null!==f&&Ih(c[Zt],c,f,r)}t[Kr]!==t[qr]&&r.push(t[Kr])}function id(t,r,a,c=!0){const f=r[Os],v=f.rendererFactory,x=f.afterRenderEventManager;v.begin?.(),x?.begin();try{Rp(t,r,t.template,a)}catch(F){throw c&&si(r,F),F}finally{v.end?.(),f.effectManager?.flush(),x?.end()}}function Rp(t,r,a,c){const f=r[Wn];if(256!=(256&f)){r[Os].effectManager?.flush(),tr(r);try{Nu(r),function rt(t){return qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==a&&bv(t,r,a,2,c);const x=3==(3&f);if(x){const Q=t.preOrderCheckHooks;null!==Q&&vo(r,Q,null)}else{const Q=t.preOrderHooks;null!==Q&&Gl(r,Q,0,null),za(r,0)}if(function Gs(t){for(let r=Ad(t);null!==r;r=nf(r)){if(!r[ea])continue;const a=r[no];for(let c=0;c<a.length;c++){dl(a[c])}}}(r),t_(r,2),null!==t.contentQueries&&Cv(t,r),x){const Q=t.contentCheckHooks;null!==Q&&vo(r,Q)}else{const Q=t.contentHooks;null!==Q&&Gl(r,Q,1),za(r,1)}!function Fd(t,r){const a=t.hostBindingOpCodes;if(null===a)return;const c=kf(r,ao);try{for(let f=0;f<a.length;f++){const v=a[f];if(v<0)wi(~v);else{const x=v,S=a[++f],F=a[++f];k(S,x),c.dirty=!1;const Q=Ai(c);try{F(2,r[x])}finally{Ao(c,Q)}}}}finally{null===r[ao]&&Mm(r,ao),wi(-1)}}(t,r);const S=t.components;null!==S&&xo(r,S,0);const F=t.viewQuery;if(null!==F&&Bm(2,F,c),x){const Q=t.viewCheckHooks;null!==Q&&vo(r,Q)}else{const Q=t.viewHooks;null!==Q&&Gl(r,Q,2),za(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Wn]&=-73,Yd(r)}finally{In()}}}function t_(t,r){for(let a=Ad(t);null!==a;a=nf(a))for(let c=Yn;c<a.length;c++)Tv(a[c],r)}function Qb(t,r,a){Tv(sa(r,t),a)}function Tv(t,r){if(!function Rc(t){return 128==(128&t[Wn])}(t))return;const a=t[Zt],c=t[Wn];if(80&c&&0===r||1024&c||2===r)Rp(a,t,a.template,t[ri]);else if(t[Hi]>0){t_(t,1);const f=a.components;null!==f&&xo(t,f,1)}}function xo(t,r,a){for(let c=0;c<r.length;c++)Qb(t,r[c],a)}class Lf{get rootNodes(){const r=this._lView,a=r[Zt];return Ih(a,r,a.firstChild,[])}constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(r){this._lView[ri]=r}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Mr];if(rr(r)){const a=r[8],c=a?a.indexOf(this):-1;c>-1&&(T(r,c),Uc(a,c))}this._attachedToViewContainer=!1}G(this._lView[Zt],this._lView)}onDestroy(r){!function Oc(t,r){if(256==(256&t[Wn]))throw new Ve(911,!1);null===t[ka]&&(t[ka]=[]),t[ka].push(r)}(this._lView,r)}markForCheck(){yh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){id(this._lView[Zt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T_(t,r){nm(t,r,r[On],2,null,null)}(this._lView[Zt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=r}}class Dv extends Lf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;id(r[Zt],r,r[ri],!1)}checkNoChanges(){}get context(){return null}}class Sv extends hh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=dr(r);return new Op(a,this.ngModule)}}function n_(t){const r=[];for(let a in t)t.hasOwnProperty(a)&&r.push({propName:t[a],templateName:a});return r}class Wy{constructor(r,a){this.injector=r,this.parentInjector=a}get(r,a,c){c=En(c);const f=this.injector.get(r,Ju,c);return f!==Ju||a===Ju?f:this.parentInjector.get(r,a,c)}}class Op extends fp{get inputs(){const r=this.componentDef,a=r.inputTransforms,c=n_(r.inputs);if(null!==a)for(const f of c)a.hasOwnProperty(f.propName)&&(f.transform=a[f.propName]);return c}get outputs(){return n_(this.componentDef.outputs)}constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function ar(t){return t.map(zr).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}create(r,a,c,f){let v=(f=f||this.ngModule)instanceof bc?f:f?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const x=v?new Wy(r,v):r,S=x.get(Cm,null);if(null===S)throw new Ve(407,!1);const Ee={rendererFactory:S,sanitizer:x.get(Xa,null),effectManager:x.get(wc,null),afterRenderEventManager:x.get(vh,null)},Ue=S.createRenderer(null,this.componentDef),qe=this.componentDef.selectors[0][0]||"div",Et=c?function Nm(t,r,a,c){const v=c.get(Ly,!1)||a===At.ShadowDom,x=t.selectRootElement(r,v);return function Ev(t){By(t)}(x),x}(Ue,c,this.componentDef.encapsulation,x):Ya(Ue,qe,function Av(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(qe)),Qn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ut=null;null!==Et&&(Ut=bm(Et,x,!0));const Br=$g(0,null,null,1,0,null,null,null,null,null,null),hi=Ip(null,Br,null,Qn,null,null,Ee,Ue,x,null,Ut);let Ws,Ou;tr(hi);try{const zp=this.componentDef;let hy,Uw=null;zp.findHostDirectiveDefs?(hy=[],Uw=new Map,zp.findHostDirectiveDefs(zp,hy,Uw),hy.push(zp)):hy=[zp];const cD=function Xb(t,r){const a=t[Zt],c=fr;return t[c]=r,Cp(a,c,2,"#host",null)}(hi,Et),uD=function qy(t,r,a,c,f,v,x){const S=f[Zt];!function Ky(t,r,a,c){for(const f of t)r.mergedAttrs=Kt(r.mergedAttrs,f.hostAttrs);null!==r.mergedAttrs&&(Mp(r,r.mergedAttrs,!0),null!==a&&sf(c,a,r))}(c,t,r,x);let F=null;null!==r&&(F=bm(r,f[Xi]));const Q=v.rendererFactory.createRenderer(r,a);let le=16;a.signals?le=4096:a.onPush&&(le=64);const Ee=Ip(f,xp(a),null,le,f[t.index],t,v,Q,null,null,F);return S.firstCreatePass&&Yg(S,t,c.length-1),Um(f,Ee),f[t.index]=Ee}(cD,Et,zp,hy,hi,Ee,Ue);Ou=Ac(Br,fr),Et&&function Pp(t,r,a,c){if(c)Qs(t,a,["ng-version",kg.full]);else{const{attrs:f,classes:v}=function ji(t){const r=[],a=[];let c=1,f=2;for(;c<t.length;){let v=t[c];if("string"==typeof v)2===f?""!==v&&r.push(v,t[++c]):8===f&&a.push(v);else{if(!Le(f))break;f=v}c++}return{attrs:r,classes:a}}(r.selectors[0]);f&&Qs(t,a,f),v&&v.length>0&&Co(t,a,v.join(" "))}}(Ue,zp,Et,c),void 0!==a&&function Zy(t,r,a){const c=t.projection=[];for(let f=0;f<r.length;f++){const v=a[f];c.push(null!=v?Array.from(v):null)}}(Ou,this.ngContentSelectors,a),Ws=function Rv(t,r,a,c,f,v){const x=ts(),S=f[Zt],F=fo(x,f);Wg(S,f,x,a,null,c);for(let le=0;le<a.length;le++)Fo(Vc(f,S,x.directiveStart+le,x),f);Ff(S,f,x),F&&Fo(F,f);const Q=Vc(f,S,x.directiveStart+x.componentOffset,x);if(t[ri]=f[ri]=Q,null!==v)for(const le of v)le(Q,r);return Hg(S,x,t),Q}(uD,zp,hy,Uw,hi,[Ch]),Ys(Br,hi,null)}finally{In()}return new Mv(this.componentType,Ws,Tf(Ou,hi),hi,Ou)}}class Mv extends Og{constructor(r,a,c,f,v){super(),this.location=c,this._rootLView=f,this._tNode=v,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Dv(f),this.componentType=r}setInput(r,a){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),a))return;const v=this._rootLView;Hm(v[Zt],v,f,r,a),this.previousInputValues.set(r,a),yh(sa(this._tNode.index,v))}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ch(){const t=ts();$i(Mt()[Zt],t)}function Yy(t){let r=function Vd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),a=!0;const c=[t];for(;r;){let f;if(os(t))f=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ve(903,!1);f=r.\u0275dir}if(f){if(a){c.push(f);const x=t;x.inputs=Th(t.inputs),x.inputTransforms=Th(t.inputTransforms),x.declaredInputs=Th(t.declaredInputs),x.outputs=Th(t.outputs);const S=f.hostBindings;S&&r_(t,S);const F=f.viewQuery,Q=f.contentQueries;if(F&&Qy(t,F),Q&&Jb(t,Q),Ce(t.inputs,f.inputs),Ce(t.declaredInputs,f.declaredInputs),Ce(t.outputs,f.outputs),null!==f.inputTransforms&&(null===x.inputTransforms&&(x.inputTransforms={}),Ce(x.inputTransforms,f.inputTransforms)),os(f)&&f.data.animation){const le=t.data;le.animation=(le.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let x=0;x<v.length;x++){const S=v[x];S&&S.ngInherit&&S(t),S===Yy&&(a=!1)}}r=Object.getPrototypeOf(r)}!function xh(t){let r=0,a=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=r+=f.hostVars,f.hostAttrs=Kt(f.hostAttrs,a=Kt(a,f.hostAttrs))}}(c)}function Th(t){return t===qt?{}:t===Nt?[]:t}function Qy(t,r){const a=t.viewQuery;t.viewQuery=a?(c,f)=>{r(c,f),a(c,f)}:r}function Jb(t,r){const a=t.contentQueries;t.contentQueries=a?(c,f,v)=>{r(c,f,v),a(c,f,v)}:r}function r_(t,r){const a=t.hostBindings;t.hostBindings=a?(c,f)=>{r(c,f),a(c,f)}:r}function Fv(t){const r=t.inputConfig,a={};for(const c in r)if(r.hasOwnProperty(c)){const f=r[c];Array.isArray(f)&&f[2]&&(a[c]=f[2])}t.inputTransforms=a}function Uf(t){return!!sd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Kc(t,r,a){return t[r]=a}function Ko(t,r,a){return!Object.is(t[r],a)&&(t[r]=a,!0)}function Ah(t,r,a,c){const f=Ko(t,r,a);return Ko(t,r+1,c)||f}function $m(t,r,a,c){const f=Mt();return Ko(f,wt(),r)&&(Lr(),nd(Ft(),f,t,r,a,c)),$m}function Bf(t,r,a,c){return Ko(t,wt(),a)?r+ke(a)+c:mr}function Gv(t,r,a,c,f,v,x,S){const F=Mt(),Q=Lr(),le=t+fr,Ee=Q.firstCreatePass?function Lp(t,r,a,c,f,v,x,S,F){const Q=r.consts,le=Cp(r,t,4,x||null,Cl(Q,S));Eh(r,a,le,Cl(Q,F)),$i(r,le);const Ee=le.tView=$g(2,le,c,f,v,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Q,null);return null!==r.queries&&(r.queries.template(r,le),Ee.queries=r.queries.embeddedTView(le)),le}(le,Q,F,r,a,c,f,v,x):Q.data[le];Rt(Ee,!1);const Ue=eg(Q,F,Ee,t);Tl()&&ba(Q,F,Ue,Ee),Fo(Ue,F),Um(F,F[le]=$y(Ue,F,Ue,Ee)),Ns(Ee)&&zg(Q,F,Ee),null!=x&&km(F,Ee,S)}let eg=function $d(t,r,a,c){return _a(!0),r[On].createComment("")};function tg(t){return function Hl(t,r){return t[r]}(function lc(){return qn.lFrame.contextLView}(),fr+t)}function Wv(t,r,a){const c=Mt();return Ko(c,wt(),r)&&Ec(Lr(),Ft(),c,t,r,c[On],a,!1),Wv}function h_(t,r,a,c,f){const x=f?"class":"style";Hm(t,a,r.inputs[x],x,c)}function vl(t,r,a,c){const f=Mt(),v=Lr(),x=fr+t,S=f[On],F=v.firstCreatePass?function rb(t,r,a,c,f,v){const x=r.consts,F=Cp(r,t,2,c,Cl(x,f));return Eh(r,a,F,Cl(x,v)),null!==F.attrs&&Mp(F,F.attrs,!1),null!==F.mergedAttrs&&Mp(F,F.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,F),F}(x,v,f,r,a,c):v.data[x],Q=n0(v,f,F,S,r,t);f[x]=Q;const le=Ns(F);return Rt(F,!0),sf(S,Q,F),32!=(32&F.flags)&&Tl()&&ba(v,f,Q,F),0===function Lu(){return qn.lFrame.elementDepthCount}()&&Fo(Q,f),function Vu(){qn.lFrame.elementDepthCount++}(),le&&(zg(v,f,F),Hg(v,F,f)),null!==c&&km(f,F),vl}function ng(){let t=ts();kn()?po():(t=t.parent,Rt(t,!1));const r=t;(function xl(t){return qn.skipHydrationRootTNode===t})(r)&&function gd(){qn.skipHydrationRootTNode=null}(),function Pc(){qn.lFrame.elementDepthCount--}();const a=Lr();return a.firstCreatePass&&($i(a,t),il(t)&&a.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ju(t){return 0!=(8&t.flags)}(r)&&h_(a,r,Mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function dc(t){return 0!=(16&t.flags)}(r)&&h_(a,r,Mt(),r.stylesWithoutHost,!1),ng}function ib(t,r,a,c){return vl(t,r,a,c),ng(),ib}let n0=(t,r,a,c,f,v)=>(_a(!0),Ya(c,f,function oa(){return qn.lFrame.currentNamespace}()));function Vp(){return Mt()}function ig(t){return!!t&&"function"==typeof t.then}function p_(t){return!!t&&"function"==typeof t.subscribe}function m_(t,r,a,c){const f=Mt(),v=Lr(),x=ts();return lb(v,f,f[On],x,t,r,c),m_}function Up(t,r){const a=ts(),c=Mt(),f=Lr();return lb(f,c,Dp(ve(f.data),a,c),a,t,r),Up}function lb(t,r,a,c,f,v,x){const S=Ns(c),Q=t.firstCreatePass&&e_(t),le=r[ri],Ee=Jg(r);let Ue=!0;if(3&c.type||x){const Qt=fo(c,r),bn=x?x(Qt):Qt,Qn=Ee.length,Ut=x?hi=>x(gi(hi[c.index])):c.index;let Br=null;if(!x&&S&&(Br=function ab(t,r,a,c){const f=t.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const x=f[v];if(x===a&&f[v+1]===c){const S=r[ss],F=f[v+2];return S.length>F?S[F]:null}"string"==typeof x&&(v+=2)}return null}(t,r,f,c.index)),null!==Br)(Br.__ngLastListenerFn__||Br).__ngNextListenerFn__=v,Br.__ngLastListenerFn__=v,Ue=!1;else{v=i(c,r,le,v,!1);const hi=a.listen(bn,f,v);Ee.push(v,hi),Q&&Q.push(f,Ut,Qn,Qn+1)}}else v=i(c,r,le,v,!1);const qe=c.outputs;let Et;if(Ue&&null!==qe&&(Et=qe[f])){const Qt=Et.length;if(Qt)for(let bn=0;bn<Qt;bn+=2){const Ws=r[Et[bn]][Et[bn+1]].subscribe(v),Ou=Ee.length;Ee.push(v,Ws),Q&&Q.push(f,c.index,Ou,-(Ou+1))}}}function g_(t,r,a,c){try{return Ts(6,r,a),!1!==a(c)}catch(f){return si(t,f),!1}finally{Ts(7,r,a)}}function i(t,r,a,c,f){return function v(x){if(x===Function)return c;yh(t.componentOffset>-1?sa(t.index,r):r);let F=g_(r,a,c,x),Q=v.__ngNextListenerFn__;for(;Q;)F=g_(r,a,Q,x)&&F,Q=Q.__ngNextListenerFn__;return f&&!1===F&&x.preventDefault(),F}}function e(t=1){return function Po(t){return(qn.lFrame.contextLView=function Gr(t,r){for(;t>0;)r=r[Ps],t--;return r}(t,qn.lFrame.contextLView))[ri]}(t)}function n(t,r){let a=null;const c=function vt(t){const r=t.attrs;if(null!=r){const a=r.indexOf(5);if(!(1&a))return r[a+1]}return null}(t);for(let f=0;f<r.length;f++){const v=r[f];if("*"!==v){if(null===c?Ye(t,v,!0):wn(c,v))return f}else a=f}return a}function o(t){const r=Mt()[Di][Cs];if(!r.projection){const c=r.projection=hl(t?t.length:1,null),f=c.slice();let v=r.child;for(;null!==v;){const x=t?n(v,t):0;null!==x&&(f[x]?f[x].projectionNext=v:c[x]=v,f[x]=v),v=v.next}}}function h(t,r=0,a){const c=Mt(),f=Lr(),v=Cp(f,fr+t,16,null,a||null);null===v.projection&&(v.projection=r),po(),(!c[oo]||Oo())&&32!=(32&v.flags)&&function Sb(t,r,a){mg(r[On],0,r,a,Be(t,a,r),Io(a.parent||r[Cs],a,r))}(f,c,v)}function m(t,r,a){return b(t,"",r,"",a),m}function b(t,r,a,c,f){const v=Mt(),x=Bf(v,r,a,c);return x!==mr&&Ec(Lr(),Ft(),v,t,x,v[On],f,!1),b}function Wt(t,r){return t<<17|r<<2}function en(t){return t>>17&32767}function Hn(t){return 2|t}function Cr(t){return(131068&t)>>2}function Zi(t,r){return-131069&t|r<<2}function el(t){return 1|t}function Wf(t,r,a,c,f){const v=t[a+1],x=null===r;let S=c?en(v):Cr(v),F=!1;for(;0!==S&&(!1===F||x);){const le=t[S+1];a0(t[S],r)&&(F=!0,t[S+1]=c?el(le):Hn(le)),S=c?en(le):Cr(le)}F&&(t[a+1]=c?Hn(v):el(v))}function a0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&au(t,r)>=0}function Yv(t,r){return function Yc(t,r,a,c){const f=Mt(),v=Lr(),x=function D(t){const r=qn.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,a}(2);v.firstUpdatePass&&function Qv(t,r,a,c){const f=t.data;if(null===f[a+1]){const v=f[_o()],x=function f0(t,r){return r>=t.expandoStartIndex}(t,a);(function __(t,r){return 0!=(t.flags&(r?8:16))})(v,c)&&null===r&&!x&&(r=!1),r=function aE(t,r,a,c){const f=ve(t);let v=c?r.residualClasses:r.residualStyles;if(null===f)0===(c?r.classBindings:r.styleBindings)&&(a=ag(a=Jv(null,t,r,a,c),r.attrs,c),v=null);else{const x=r.directiveStylingLast;if(-1===x||t[x]!==f)if(a=Jv(f,t,r,a,c),null===v){let F=function lE(t,r,a){const c=a?r.classBindings:r.styleBindings;if(0!==Cr(c))return t[en(c)]}(t,r,c);void 0!==F&&Array.isArray(F)&&(F=Jv(null,t,r,F[1],c),F=ag(F,r.attrs,c),function Xv(t,r,a,c){t[en(a?r.classBindings:r.styleBindings)]=c}(t,r,c,F))}else v=function cE(t,r,a){let c;const f=r.directiveEnd;for(let v=1+r.directiveStylingLast;v<f;v++)c=ag(c,t[v].hostAttrs,a);return ag(c,r.attrs,a)}(t,r,c)}return void 0!==v&&(c?r.residualClasses=v:r.residualStyles=v),a}(f,v,r,c),function qv(t,r,a,c,f,v){let x=v?r.classBindings:r.styleBindings,S=en(x),F=Cr(x);t[c]=a;let le,Q=!1;if(Array.isArray(a)?(le=a[1],(null===le||au(a,le)>0)&&(Q=!0)):le=a,f)if(0!==F){const Ue=en(t[S+1]);t[c+1]=Wt(Ue,S),0!==Ue&&(t[Ue+1]=Zi(t[Ue+1],c)),t[S+1]=function Vr(t,r){return 131071&t|r<<17}(t[S+1],c)}else t[c+1]=Wt(S,0),0!==S&&(t[S+1]=Zi(t[S+1],c)),S=c;else t[c+1]=Wt(F,0),0===S?S=c:t[F+1]=Zi(t[F+1],c),F=c;Q&&(t[c+1]=Hn(t[c+1])),Wf(t,le,c,!0),Wf(t,le,c,!1),function sg(t,r,a,c,f){const v=f?t.residualClasses:t.residualStyles;null!=v&&"string"==typeof r&&au(v,r)>=0&&(a[c+1]=el(a[c+1]))}(r,le,t,c,v),x=Wt(S,F),v?r.classBindings=x:r.styleBindings=x}(f,v,r,a,x,c)}}(v,t,x,c),r!==mr&&Ko(f,x,r)&&function m0(t,r,a,c,f,v,x,S){if(!(3&r.type))return;const F=t.data,Q=F[S+1],le=function Vs(t){return 1==(1&t)}(Q)?db(F,r,a,f,Cr(Q),x):void 0;ey(le)||(ey(v)||function gr(t){return 2==(2&t)}(Q)&&(v=db(F,null,a,f,S,x)),function rm(t,r,a,c,f){if(r)f?t.addClass(a,c):t.removeClass(a,c);else{let v=-1===c.indexOf("-")?void 0:fl.DashCase;null==f?t.removeStyle(a,c,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=fl.Important),t.setStyle(a,c,f,v))}}(c,x,ul(_o(),a),f,v))}(v,v.data[_o()],f,f[On],t,f[x+1]=function g0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Fe(Jl(t)))),t}(r,a),c,x)}(t,r,null,!0),Yv}function Jv(t,r,a,c,f){let v=null;const x=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<x&&(v=r[S],c=ag(c,v.hostAttrs,f),v!==t);)S++;return null!==t&&(a.directiveStylingLast=S),c}function ag(t,r,a){const c=a?1:2;let f=-1;if(null!==r)for(let v=0;v<r.length;v++){const x=r[v];"number"==typeof x?f=x:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),la(t,x,!!a||r[++v]))}return void 0===t?null:t}function db(t,r,a,c,f,v){const x=null===r;let S;for(;f>0;){const F=t[f],Q=Array.isArray(F),le=Q?F[1]:F,Ee=null===le;let Ue=a[f+1];Ue===mr&&(Ue=Ee?Nt:void 0);let qe=Ee?Gu(Ue,c):le===c?Ue:void 0;if(Q&&!ey(qe)&&(qe=Gu(F,c)),ey(qe)&&(S=qe,x))return S;const Et=t[f+1];f=x?en(Et):Cr(Et)}if(null!==r){let F=v?r.residualClasses:r.residualStyles;null!=F&&(S=Gu(F,c))}return S}function ey(t){return void 0!==t}function _0(t,r=""){const a=Mt(),c=Lr(),f=t+fr,v=c.firstCreatePass?Cp(c,f,1,r,null):c.data[f],x=v0(c,a,v,r,t);a[f]=x,Tl()&&ba(c,a,x,v),Rt(v,!1)}let v0=(t,r,a,c,f)=>(_a(!0),function Qf(t,r){return t.createText(r)}(r[On],c));function ty(t){return ny("",t,""),ty}function ny(t,r,a){const c=Mt(),f=Bf(c,t,r,a);return f!==mr&&function rd(t,r,a){const c=ul(r,t);!function Xf(t,r,a){t.setValue(r,a)}(t[On],c,a)}(c,_o(),f),ny}function y_(t,r,a){const c=Mt();return Ko(c,wt(),r)&&Ec(Lr(),Ft(),c,t,r,c[On],a,!0),y_}function yb(t,r,a){const c=Mt();if(Ko(c,wt(),r)){const v=Lr(),x=Ft();Ec(v,x,c,t,r,Dp(ve(v.data),x,c),a,!0)}return yb}const Bp=void 0;var xE=["en",[["a","p"],["AM","PM"],Bp],[["AM","PM"],Bp,Bp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bp,"{1} 'at' {0}",Bp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CE(t){const a=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let ug={};function A0(t){const r=function Gw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let a=DE(r);if(a)return a;const c=r.split("-")[0];if(a=DE(c),a)return a;if("en"===c)return xE;throw new Ve(701,!1)}function TE(t){return A0(t)[b_.PluralCase]}function DE(t){return t in ug||(ug[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),ug[t]}var b_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(b_||{});const E_="en-US";let SE=E_;function N0(t,r,a,c,f){if(t=ft(t),Array.isArray(t))for(let v=0;v<t.length;v++)N0(t[v],r,a,c,f);else{const v=Lr(),x=Mt(),S=ts();let F=yc(t)?t:ft(t.provide);const Q=Tg(t),le=1048575&S.providerIndexes,Ee=S.directiveStart,Ue=S.providerIndexes>>20;if(yc(t)||!t.multi){const qe=new Wi(Q,f,wp),Et=L0(F,r,f?le:le+Ue,Ee);-1===Et?(zu(Dl(S,x),v,F),F0(v,t,r.length),r.push(F),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),a.push(qe),x.push(qe)):(a[Et]=qe,x[Et]=qe)}else{const qe=L0(F,r,le+Ue,Ee),Et=L0(F,r,le,le+Ue),bn=Et>=0&&a[Et];if(f&&!bn||!f&&!(qe>=0&&a[qe])){zu(Dl(S,x),v,F);const Qn=function LI(t,r,a,c,f){const v=new Wi(t,a,wp);return v.multi=[],v.index=r,v.componentProviders=0,nw(v,f,c&&!a),v}(f?FI:NI,a.length,f,c,Q);!f&&bn&&(a[Et].providerFactory=Qn),F0(v,t,r.length,0),r.push(F),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),a.push(Qn),x.push(Qn)}else F0(v,t,qe>-1?qe:Et,nw(a[f?Et:qe],Q,!f&&c));!f&&c&&bn&&a[Et].componentProviders++}}}function F0(t,r,a,c){const f=yc(r),v=function xg(t){return!!t.useClass}(r);if(f||v){const F=(v?ft(r.useClass):r).prototype.ngOnDestroy;if(F){const Q=t.destroyHooks||(t.destroyHooks=[]);if(!f&&r.multi){const le=Q.indexOf(a);-1===le?Q.push(a,[c,F]):Q[le+1].push(c,F)}else Q.push(a,F)}}}function nw(t,r,a){return a&&t.componentProviders++,t.multi.push(r)-1}function L0(t,r,a,c){for(let f=a;f<c;f++)if(r[f]===t)return f;return-1}function NI(t,r,a,c){return V0(this.multi,[])}function FI(t,r,a,c){const f=this.multi;let v;if(this.providerFactory){const x=this.providerFactory.componentProviders,S=Vc(a,a[Zt],this.providerFactory.index,c);v=S.slice(0,x),V0(f,v);for(let F=x;F<S.length;F++)v.push(S[F])}else v=[],V0(f,v);return v}function V0(t,r){for(let a=0;a<t.length;a++)r.push((0,t[a])());return r}function rw(t,r=[]){return a=>{a.providersResolver=(c,f)=>function kI(t,r,a){const c=Lr();if(c.firstCreatePass){const f=os(t);N0(a,c.data,c.blueprint,f,!0),N0(r,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,r)}}class dg{}class iw{}function VI(t,r){return new U0(t,r??null,[])}class U0 extends dg{constructor(r,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const f=kr(r);this._bootstrapComponents=Nl(f.bootstrap),this._r3Injector=fh(r,a,[{provide:dg,useValue:this},{provide:hh,useValue:this.componentFactoryResolver},...c],Fe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class B0 extends iw{constructor(r){super(),this.moduleType=r}create(r){return new U0(this.moduleType,r,[])}}class sw extends dg{constructor(r){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const a=new lp([...r.providers,{provide:dg,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],r.parent||Eu(),r.debugName,new Set(["environment"]));this.injector=a,r.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function ow(t,r,a=null){return new sw({providers:t,parent:r,debugName:a,runEnvironmentInitializers:!0}).injector}let BI=(()=>{var t;class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const f=Ig(0,c.type),v=f.length>0?ow([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,v)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=vn({token:t,providedIn:"environment",factory:()=>new t(Ze(bc))}),r})();function aw(t){t.getStandaloneInjector=r=>r.get(BI).getOrCreateStandaloneInjector(t)}function An(t,r,a,c){return function Pa(t,r,a,c,f,v){const x=r+a;return Ko(t,x,f)?Kc(t,x+1,v?c.call(v,f):c(f)):function Vl(t,r){const a=t[r];return a===mr?void 0:a}(t,x+1)}(Mt(),mo(),t,r,a,c)}function Es(t,r,a,c,f,v,x,S){const F=mo()+t,Q=Mt(),le=function gl(t,r,a,c,f,v){const x=Ah(t,r,a,c);return Ah(t,r+2,f,v)||x}(Q,F,a,c,f,v);return Ko(Q,F+4,x)||le?Kc(Q,F+5,S?r.call(S,a,c,f,v,x):r(a,c,f,v,x)):function Sh(t,r){return t[r]}(Q,F+5)}function Jc(){return this._results[Symbol.iterator]()}class Zd{get changes(){return this._changes||(this._changes=new td)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Zd.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Jc)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const c=this;c.dirty=!1;const f=function ei(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Kn(t,r,a){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],v=r[c];if(a&&(f=a(f),v=a(v)),v!==f)return!1}return!0}(c._results,f,a))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fw(t,r,a,c=!0){const f=r[Zt];if(function L(t,r,a,c){const f=Yn+c,v=a.length;c>0&&(a[f-1][Ti]=r),c<v-Yn?(r[Ti]=a[f],Zs(a,Yn+c,r)):(a.push(r),r[Ti]=null),r[Mr]=a;const x=r[fa];null!==x&&a!==x&&function g(t,r){const a=t[no];r[Di]!==r[Mr][Mr][Di]&&(t[ea]=!0),null===a?t[no]=[r]:a.push(r)}(x,r);const S=r[to];null!==S&&S.insertView(t),r[Wn]|=128}(f,r,t,a),c){const v=gu(a,t),x=r[On],S=Ls(x,t[Kr]);null!==S&&function tm(t,r,a,c,f,v){c[qr]=f,c[Cs]=r,nm(t,c,a,1,f,v)}(f,t[Cs],x,r,S,v)}}let pd=(()=>{class r{}return r.__NG_ELEMENT_ID__=xb,r})();const Mu=pd,ly=class extends Mu{constructor(r,a,c){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,a){return this.createEmbeddedViewImpl(r,a)}createEmbeddedViewImpl(r,a,c){const f=function Uo(t,r,a,c){const f=r.tView,S=Ip(t,f,a,4096&t[Wn]?4096:16,null,r,null,null,null,c?.injector??null,c?.hydrationInfo??null);S[fa]=t[r.index];const Q=t[to];return null!==Q&&(S[to]=Q.createEmbeddedView(f)),Ys(f,S,a),S}(this._declarationLView,this._declarationTContainer,r,{injector:a,hydrationInfo:c});return new Lf(f)}};function xb(){return $0(ts(),Mt())}function $0(t,r){return 4&t.type?new ly(r,t,Tf(t,r)):null}let W0=(()=>{class r{}return r.__NG_ELEMENT_ID__=yx,r})();function yx(){return qI(ts(),Mt())}const bx=W0,GI=class extends bx{constructor(r,a,c){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=c}get element(){return Tf(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Sl(this._hostTNode,this._hostLView);if(ns(r)){const a=va(r,this._hostLView),c=Aa(r);return new yo(a[Zt].data[c+8],a)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=WI(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(r,a,c){let f,v;"number"==typeof c?f=c:null!=c&&(f=c.index,v=c.injector);const S=r.createEmbeddedViewImpl(a||{},v,null);return this.insertImpl(S,f,false),S}createComponent(r,a,c,f,v){const x=r&&!function us(t){return"function"==typeof t}(r);let S;if(x)S=a;else{const Qt=a||{};S=Qt.index,c=Qt.injector,f=Qt.projectableNodes,v=Qt.environmentInjector||Qt.ngModuleRef}const F=x?r:new Op(dr(r)),Q=c||this.parentInjector;if(!v&&null==F.ngModule){const bn=(x?Q:this.parentInjector).get(bc,null);bn&&(v=bn)}dr(F.componentType??{});const qe=F.create(Q,f,null,v);return this.insertImpl(qe.hostView,S,false),qe}insert(r,a){return this.insertImpl(r,a,!1)}insertImpl(r,a,c){const f=r._lView;if(function ku(t){return rr(t[Mr])}(f)){const F=this.indexOf(r);if(-1!==F)this.detach(F);else{const Q=f[Mr],le=new GI(Q,Q[Cs],Q[Mr]);le.detach(le.indexOf(r))}}const x=this._adjustIndex(a),S=this._lContainer;return fw(S,f,x,!c),r.attachToViewContainerRef(),Zs(pw(S),x,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=WI(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),c=T(this._lContainer,a);c&&(Uc(pw(this._lContainer),a),G(c[Zt],c))}detach(r){const a=this._adjustIndex(r,-1),c=T(this._lContainer,a);return c&&null!=Uc(pw(this._lContainer),a)?new Lf(c):null}_adjustIndex(r,a=0){return r??this.length+a}};function WI(t){return t[8]}function pw(t){return t[8]||(t[8]=[])}function qI(t,r){let a;const c=r[t.index];return rr(c)?a=c:(a=$y(c,r,null,t),r[t.index]=a,Um(r,a)),KI(a,r,t,c),new GI(a,t,r)}let KI=function ZI(t,r,a,c){if(t[Kr])return;let f;f=8&a.type?gi(c):function Ex(t,r){const a=t[On],c=a.createComment(""),f=fo(r,t);return un(a,Ls(a,f),c,function wo(t,r){return t.nextSibling(r)}(a,f),!1),c}(r,a),t[Kr]=f};class mw{constructor(r){this.queryList=r,this.matches=null}clone(){return new mw(this.queryList)}setDirty(){this.queryList.setDirty()}}class gw{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const c=null!==r.contentQueries?r.contentQueries[0]:a.length,f=[];for(let v=0;v<c;v++){const x=a.getByIndex(v);f.push(this.queries[x.indexInDeclarationView].clone())}return new gw(f)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==iC(r,a).matches&&this.queries[a].setDirty()}}class YI{constructor(r,a,c=null){this.predicate=r,this.flags=a,this.read=c}}class _w{constructor(r=[]){this.queries=r}elementStart(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let c=0;c<this.length;c++){const f=null!==a?a.length:0,v=this.getByIndex(c).embeddedTView(r,f);v&&(v.indexInDeclarationView=c,null!==a?a.push(v):a=[v])}return null!==a?new _w(a):null}template(r,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class vw{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new vw(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const v=c[f];this.matchTNodeWithReadOption(r,a,Cx(a,v)),this.matchTNodeWithReadOption(r,a,yd(a,r,v,!1,!1))}else c===pd?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,yd(a,r,c,!1,!1))}matchTNodeWithReadOption(r,a,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Df||f===W0||f===pd&&4&a.type)this.addMatch(a.index,-2);else{const v=yd(a,r,f,!1,!1);null!==v&&this.addMatch(a.index,v)}else this.addMatch(a.index,c)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function Cx(t,r){const a=t.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===r)return a[c+1];return null}function Tx(t,r,a,c){return-1===a?function xx(t,r){return 11&t.type?Tf(t,r):4&t.type?$0(t,r):null}(r,t):-2===a?function Dx(t,r,a){return a===Df?Tf(r,t):a===pd?$0(r,t):a===W0?qI(r,t):void 0}(t,r,c):Vc(t,t[Zt],a,r)}function QI(t,r,a,c){const f=r[to].queries[c];if(null===f.matches){const v=t.data,x=a.matches,S=[];for(let F=0;F<x.length;F+=2){const Q=x[F];S.push(Q<0?null:Tx(r,v[Q],x[F+1],a.metadata.read))}f.matches=S}return f.matches}function yw(t,r,a,c){const f=t.queries.getByIndex(a),v=f.matches;if(null!==v){const x=QI(t,r,f,a);for(let S=0;S<v.length;S+=2){const F=v[S];if(F>0)c.push(x[S/2]);else{const Q=v[S+1],le=r[-F];for(let Ee=Yn;Ee<le.length;Ee++){const Ue=le[Ee];Ue[fa]===Ue[Mr]&&yw(Ue[Zt],Ue,Q,c)}if(null!==le[no]){const Ee=le[no];for(let Ue=0;Ue<Ee.length;Ue++){const qe=Ee[Ue];yw(qe[Zt],qe,Q,c)}}}}}return c}function XI(t){const r=Mt(),a=Lr(),c=Ge();$t(c+1);const f=iC(a,c);if(t.dirty&&function Mc(t){return 4==(4&t[Wn])}(r)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const v=f.crossesNgTemplate?yw(a,r,c,[]):QI(a,r,f,c);t.reset(v,Im),t.notifyOnChanges()}return!0}return!1}function JI(t,r,a){const c=Lr();c.firstCreatePass&&(rC(c,new YI(t,r,a),-1),2==(2&r)&&(c.staticViewQueries=!0)),nC(c,Mt(),r)}function eC(t,r,a,c){const f=Lr();if(f.firstCreatePass){const v=ts();rC(f,new YI(r,a,c),v.index),function Ax(t,r){const a=t.contentQueries||(t.contentQueries=[]);r!==(a.length?a[a.length-1]:-1)&&a.push(t.queries.length-1,r)}(f,t),2==(2&a)&&(f.staticContentQueries=!0)}nC(f,Mt(),a)}function tC(){return function Sx(t,r){return t[to].queries[r].queryList}(Mt(),Ge())}function nC(t,r,a){const c=new Zd(4==(4&a));(function wv(t,r,a,c){const f=Jg(r);f.push(a),t.firstCreatePass&&e_(t).push(c,f.length-1)})(t,r,c,c.destroy),null===r[to]&&(r[to]=new gw),r[to].queries.push(new mw(c))}function rC(t,r,a){null===t.queries&&(t.queries=new _w),t.queries.track(new vw(r,a))}function iC(t,r){return t.queries.getByIndex(r)}function sC(t,r){return $0(t,r)}function bw(t){return!!kr(t)}const wC=new Ni("Application Initializer");let xw=(()=>{var t;class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f}),this.appInits=xt(wC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const v of this.appInits){const x=v();if(ig(x))c.push(x);else if(p_(x)){const S=new Promise((F,Q)=>{x.subscribe({complete:F,error:Q})});c.push(S)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{f()}).catch(v=>{this.reject(v)}),0===c.length&&f(),this.initialized=!0}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),IC=(()=>{var t;class r{log(c){console.log(c)}warn(c){console.warn(c)}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const K0=new Ni("LocaleId",{providedIn:"root",factory:()=>xt(K0,ln.Optional|ln.SkipSelf)||function Yx(){return typeof $localize<"u"&&$localize.locale||E_}()}),Qx=new Ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let CC=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Jx{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}let eT=(()=>{var t;class r{compileModuleSync(c){return new B0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),x=Nl(kr(c).declarations).reduce((S,F)=>{const Q=dr(F);return Q&&S.push(new Op(Q)),S},[]);return new Jx(f,x)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const SC=new Ni(""),AC=new Ni("");let Sw,bT=(()=>{var t;class r{constructor(c,f,v){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sw||(function ET(t){Sw=t}(v),v.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,v){let x=-1;f&&f>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==x),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:x,updateCb:v})}whenStable(c,f,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,v){return[]}}return(t=r).\u0275fac=function(c){return new(c||t)(Ze(qo),Ze(MC),Ze(AC))},t.\u0275prov=vn({token:t,factory:t.\u0275fac}),r})(),MC=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return Sw?.findTestabilityInTree(this,c,f)??null}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),hg=null;const RC=new Ni("AllowMultipleToken"),Aw=new Ni("PlatformDestroyListeners"),Mw=new Ni("appBootstrapListener");class CT{constructor(r,a){this.name=r,this.token=a}}function kC(t,r,a=[]){const c=`Platform: ${r}`,f=new Ni(c);return(v=[])=>{let x=Rw();if(!x||x.injector.get(RC,!1)){const S=[...a,...v,{provide:f,useValue:!0}];t?t(S):function xT(t){if(hg&&!hg.get(RC,!1))throw new Ve(400,!1);(function OC(){!function Ba(t){mi=t}(()=>{throw new Ve(600,!1)})})(),hg=t;const r=t.get(FC);(function PC(t){t.get(Dg,null)?.forEach(a=>a())})(t)}(function NC(t=[],r){return Ja.create({name:r,providers:[{provide:bu,useValue:"platform"},{provide:Aw,useValue:new Set([()=>hg=null])},...t]})}(S,c))}return function DT(t){const r=Rw();if(!r)throw new Ve(401,!1);return r}()}}function Rw(){return hg?.get(FC)??null}let FC=(()=>{var t;class r{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const v=function ST(t="zone.js",r){return"noop"===t?new av:"zone.js"===t?new qo(r):t}(f?.ngZone,function LC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return v.run(()=>{const x=function UI(t,r,a){return new U0(t,r,a)}(c.moduleType,this.injector,function HC(t){return[{provide:qo,useFactory:t},{provide:Pd,multi:!0,useFactory:()=>{const r=xt(MT,{optional:!0});return()=>r.initialize()}},{provide:jC,useFactory:AT},{provide:lv,useFactory:cv}]}(()=>v)),S=x.injector.get(Cu,null);return v.runOutsideAngular(()=>{const F=v.onError.subscribe({next:Q=>{S.handleError(Q)}});x.onDestroy(()=>{Y0(this._modules,x),F.unsubscribe()})}),function VC(t,r,a){try{const c=a();return ig(c)?c.catch(f=>{throw r.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(S,v,()=>{const F=x.injector.get(xw);return F.runInitializers(),F.donePromise.then(()=>(function AE(t){on(t,"Expected localeId to be defined"),"string"==typeof t&&(SE=t.toLowerCase().replace(/_/g,"-"))}(x.injector.get(K0,E_)||E_),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,f=[]){const v=UC({},f);return function wT(t,r,a){const c=new B0(a);return Promise.resolve(c)}(0,0,c).then(x=>this.bootstrapModuleFactory(x,v))}_moduleDoBootstrap(c){const f=c.injector.get(dy);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(v=>f.bootstrap(v));else{if(!c.instance.ngDoBootstrap)throw new Ve(-403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(Aw,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(c){return new(c||t)(Ze(Ja))},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function UC(t,r){return Array.isArray(r)?r.reduce(UC,t):{...t,...r}}let dy=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xt(jC),this.zoneIsStable=xt(lv),this.componentTypes=[],this.components=[],this.isStable=xt(CC).hasPendingTasks.pipe((0,Te.w)(c=>c?(0,Se.of)(!1):this.zoneIsStable),(0,je.x)(),(0,Ae.B)()),this._injector=xt(bc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const v=c instanceof fp;if(!this._injector.get(xw).done)throw!v&&Js(c),new Ve(405,!1);let S;S=v?c:this._injector.get(hh).resolveComponentFactory(c),this.componentTypes.push(S.componentType);const F=function IT(t){return t.isBoundToModule}(S)?void 0:this._injector.get(dg),le=S.create(Ja.NULL,[],f||S.selector,F),Ee=le.location.nativeElement,Ue=le.injector.get(SC,null);return Ue?.registerApplication(Ee),le.onDestroy(()=>{this.detachView(le.hostView),Y0(this.components,le),Ue?.unregisterApplication(Ee)}),this._loadComponent(le),le}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Y0(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const f=this._injector.get(Mw,[]);f.push(...this._bootstrapListeners),f.forEach(v=>v(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Y0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ve(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Y0(t,r){const a=t.indexOf(r);a>-1&&t.splice(a,1)}const jC=new Ni("",{providedIn:"root",factory:()=>xt(Cu).handleError.bind(void 0)});function AT(){const t=xt(qo),r=xt(Cu);return a=>t.runOutsideAngular(()=>r.handleError(a))}let MT=(()=>{var t;class r{constructor(){this.zone=xt(qo),this.applicationRef=xt(dy)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=r).\u0275fac=function(c){return new(c||t)},t.\u0275prov=vn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function OT(){return!1}let PT=(()=>{class r{}return r.__NG_ELEMENT_ID__=kT,r})();function kT(t){return function NT(t,r,a){if(ta(t)&&!a){const c=sa(t.index,r);return new Lf(c,c)}return 47&t.type?new Lf(r[Di],r):null}(ts(),Mt(),16==(16&t))}class WC{constructor(){}supports(r){return Uf(r)}create(r){return new jT(r)}}const BT=(t,r)=>r;class jT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||BT}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,c=this._removalsHead,f=0,v=null;for(;a||c;){const x=!c||a&&a.currentIndex<KC(c,f,v)?a:c,S=KC(x,f,v),F=x.currentIndex;if(x===c)f--,c=c._nextRemoved;else if(a=a._next,null==x.previousIndex)f++;else{v||(v=[]);const Q=S-f,le=F-f;if(Q!=le){for(let Ue=0;Ue<Q;Ue++){const qe=Ue<v.length?v[Ue]:v[Ue]=0,Et=qe+Ue;le<=Et&&Et<Q&&(v[Ue]=qe+1)}v[x.previousIndex]=le-Q}}S!==F&&r(x,S,F)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Uf(r))throw new Ve(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let f,v,x,a=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)v=r[S],x=this._trackByFn(S,v),null!==a&&Object.is(a.trackById,x)?(c&&(a=this._verifyReinsertion(a,v,x,S)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,x,S),c=!0),a=a._next}else f=0,function Lv(t,r){if(Array.isArray(t))for(let a=0;a<t.length;a++)r(t[a]);else{const a=t[Symbol.iterator]();let c;for(;!(c=a.next()).done;)r(c.value)}}(r,S=>{x=this._trackByFn(f,S),null!==a&&Object.is(a.trackById,x)?(c&&(a=this._verifyReinsertion(a,S,x,f)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,x,f),c=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,c,f){let v;return null===r?v=this._itTail:(v=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,v,f)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,v,f)):r=this._addAfter(new HT(a,c),v,f),r}_verifyReinsertion(r,a,c,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==v?r=this._reinsertAfter(v,r._prev,f):r.currentIndex!=f&&(r.currentIndex=f,this._addToMoves(r,f)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const f=r._prevRemoved,v=r._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(r,a,c),this._addToMoves(r,c),r}_moveAfter(r,a,c){return this._unlink(r),this._insertAfter(r,a,c),this._addToMoves(r,c),r}_addAfter(r,a,c){return this._insertAfter(r,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,a,c){const f=null===a?this._itHead:a._next;return r._next=f,r._prev=a,null===f?this._itTail=r:f._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new qC),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,c=r._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class HT{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const a=r._prevDup,c=r._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class qC{constructor(){this.map=new Map}put(r){const a=r.trackById;let c=this.map.get(a);c||(c=new zT,this.map.set(a,c)),c.add(r)}get(r,a){const f=this.map.get(r);return f?f.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KC(t,r,a){const c=t.previousIndex;if(null===c)return c;let f=0;return a&&c<a.length&&(f=a[c]),c+r+f}class ZC{constructor(){}supports(r){return r instanceof Map||sd(r)}create(){return new $T}}class $T{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||sd(r)))throw new Ve(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const v=this._getOrCreateRecordForKey(f,c);a=this._insertBeforeOrAppend(a,v)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const c=r._prev;return a._next=r,a._prev=c,r._prev=a,c&&(c._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const f=this._records.get(r);this._maybeAddToChanges(f,a);const v=f._prev,x=f._next;return v&&(v._next=x),x&&(x._prev=v),f._next=null,f._prev=null,f}const c=new GT(r);return this._records.set(r,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(c=>a(r[c],c))}}class GT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YC(){return new Fw([new WC])}let Fw=(()=>{var t;class r{constructor(c){this.factories=c}static create(c,f){if(null!=f){const v=f.factories.slice();c=c.concat(v)}return new r(c)}static extend(c){return{provide:r,useFactory:f=>r.create(c,f||YC()),deps:[[r,new Ct,new Pe]]}}find(c){const f=this.factories.find(v=>v.supports(c));if(null!=f)return f;throw new Ve(901,!1)}}return(t=r).\u0275prov=vn({token:t,providedIn:"root",factory:YC}),r})();function QC(){return new Lw([new ZC])}let Lw=(()=>{var t;class r{constructor(c){this.factories=c}static create(c,f){if(f){const v=f.factories.slice();c=c.concat(v)}return new r(c)}static extend(c){return{provide:r,useFactory:f=>r.create(c,f||QC()),deps:[[r,new Ct,new Pe]]}}find(c){const f=this.factories.find(v=>v.supports(c));if(f)return f;throw new Ve(901,!1)}}return(t=r).\u0275prov=vn({token:t,providedIn:"root",factory:QC}),r})();const KT=kC(null,"core",[]);let ZT=(()=>{var t;class r{constructor(c){}}return(t=r).\u0275fac=function(c){return new(c||t)(Ze(dy))},t.\u0275mod=Xs({type:t}),t.\u0275inj=Tr({}),r})();function oD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function lD(t){const r=dr(t);if(!r)return null;const a=new Op(r);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4097:(Jt,Ke,K)=>{K.d(Ke,{C6:()=>E.getApps,KN:()=>E.registerVersion,Mq:()=>E.getApp,ZF:()=>E.initializeApp});var E=K(534);(0,E.registerVersion)("firebase","9.23.0","app")},120:(Jt,Ke,K)=>{K.d(Ke,{Z:()=>E.Z});var E=K(3106);E.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(Jt,Ke,K)=>{K.r(Ke);var Te,je,fe,Ce,Fe,E=K(5861),se=K(3106),ie=K(6710),_=K(9058),Ae=(K(534),K(7879),K(4537));function ht(){return window}class ke extends ie.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(te)),super.onEvent(te)}initialized(){var te=this;return(0,E.Z)(function*(){yield te.initPromise})()}}function St(Y){return(Fe=Fe||(0,E.Z)(function*(te){const H=yield $n()._get(Gn(te));return H&&(yield $n()._remove(Gn(te))),H})).apply(this,arguments)}function an(){const Y=[];for(let H=0;H<20;H++){const he=Math.floor(62*Math.random());Y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return Y.join("")}function $n(){return(0,ie.aC)(ie.b)}function Gn(Y){return(0,ie.aD)("authEvent",Y.config.apiKey,Y.name)}function oi(Y){if(!Y?.includes("?"))return{};const[te,...H]=Y.split("?");return(0,_.zd)(H.join("?"))}const Qe=class xr{constructor(){this._redirectPersistence=ie.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(te){var H=this;return(0,E.Z)(function*(){const he=te._key();let Oe=H.eventManagers.get(he);return Oe||(Oe=new ke(te),H.eventManagers.set(he,Oe),H.attachCallbackListeners(te,Oe)),Oe})()}_openPopup(te){(0,ie.av)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,H,he,Oe){var Ze=this;return(0,E.Z)(function*(){!function sn(Y){var te,H,he,Oe,Ze,jt,xt,En,nn,Ln;const wr=ht();(0,ie.aA)("function"==typeof(null===(te=wr?.universalLinks)||void 0===te?void 0:te.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ie.aA)(typeof(null===(H=wr?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ie.aA)("function"==typeof(null===(Ze=null===(Oe=null===(he=wr?.cordova)||void 0===he?void 0:he.plugins)||void 0===Oe?void 0:Oe.browsertab)||void 0===Ze?void 0:Ze.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(En=null===(xt=null===(jt=wr?.cordova)||void 0===jt?void 0:jt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===En?void 0:En.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(Ln=null===(nn=wr?.cordova)||void 0===nn?void 0:nn.InAppBrowser)||void 0===Ln?void 0:Ln.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const jt=yield Ze._initialize(te);yield jt.initialized(),jt.resetRedirect(),(0,ie.aG)(),yield Ze._originValidation(te);const xt=function st(Y,te,H=null){return{type:te,eventId:H,urlResponse:null,sessionId:an(),postBody:null,tenantId:Y.tenantId,error:(0,ie.az)(Y,"no-auth-event")}}(te,he,Oe);yield function Dt(Y,te){return $n()._set(Gn(Y),te)}(te,xt);const En=yield function yt(Y,te,H){return(Te=Te||(0,E.Z)(function*(he,Oe,Ze){var jt;const{BuildInfo:xt}=ht();(0,ie.as)(Oe.sessionId,"AuthEvent did not contain a session ID");const En=yield function Yt(Y){return(Ce=Ce||(0,E.Z)(function*(te){const H=function Ve(Y){if((0,ie.as)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const te=new ArrayBuffer(Y.length),H=new Uint8Array(te);for(let he=0;he<Y.length;he++)H[he]=Y.charCodeAt(he);return H}(te),he=yield crypto.subtle.digest("SHA-256",H);return Array.from(new Uint8Array(he)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(Oe.sessionId),nn={};return(0,ie.at)()?nn.ibi=xt.packageName:(0,ie.au)()?nn.apn=xt.packageName:(0,ie.av)(he,"operation-not-supported-in-this-environment"),xt.displayName&&(nn.appDisplayName=xt.displayName),nn.sessionId=En,(0,ie.aw)(he,Ze,Oe.type,void 0,null!==(jt=Oe.eventId)&&void 0!==jt?jt:void 0,nn)})).apply(this,arguments)}(te,xt,H),nn=yield function mt(Y){const{cordova:te}=ht();return new Promise(H=>{te.plugins.browsertab.isAvailable(he=>{let Oe=null;he?te.plugins.browsertab.openUrl(Y):Oe=te.InAppBrowser.open(Y,(0,ie.ay)()?"_blank":"_system","location=yes"),H(Oe)})})}(En);return function pt(Y,te,H){return(fe=fe||(0,E.Z)(function*(he,Oe,Ze){const{cordova:jt}=ht();let xt=()=>{};try{yield new Promise((En,nn)=>{let Ln=null;function wr(){var Xe;En();const $e=null===(Xe=jt.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof $e&&$e(),"function"==typeof Ze?.close&&Ze.close()}function Us(){Ln||(Ln=window.setTimeout(()=>{nn((0,ie.az)(he,"redirect-cancelled-by-user"))},2e3))}function Bs(){"visible"===document?.visibilityState&&Us()}Oe.addPassiveListener(wr),document.addEventListener("resume",Us,!1),(0,ie.au)()&&document.addEventListener("visibilitychange",Bs,!1),xt=()=>{Oe.removePassiveListener(wr),document.removeEventListener("resume",Us,!1),document.removeEventListener("visibilitychange",Bs,!1),Ln&&window.clearTimeout(Ln)}})}finally{xt()}})).apply(this,arguments)}(te,jt,nn)})()}_isIframeWebStorageSupported(te,H){throw new Error("Method not implemented.")}_originValidation(te){const H=te._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ft(Y){return(je=je||(0,E.Z)(function*(te){const{BuildInfo:H}=ht(),he={};(0,ie.at)()?he.iosBundleId=H.packageName:(0,ie.au)()?he.androidPackageName=H.packageName:(0,ie.av)(te,"operation-not-supported-in-this-environment"),yield(0,ie.ax)(te,he)})).apply(this,arguments)}(te)),this.originValidationPromises[H]}attachCallbackListeners(te,H){var he,Oe;const{universalLinks:Ze,handleOpenURL:jt,BuildInfo:xt}=ht(),En=setTimeout((0,E.Z)(function*(){yield St(te),H.onEvent(tt())}),500),nn=function(Bs){return(he=he||(0,E.Z)(function*(Xe){clearTimeout(En);const $e=yield St(te);let At=null;$e&&Xe?.url&&(At=function tn(Y,te){var H,he;const Oe=function Ci(Y){const te=oi(Y),H=te.link?decodeURIComponent(te.link):void 0,he=oi(H).link,Oe=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return oi(Oe).link||Oe||he||H||Y}(te);if(Oe.includes("/__/auth/callback")){const Ze=oi(Oe),jt=Ze.firebaseError?function Or(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent(Ze.firebaseError)):null,xt=null===(he=null===(H=jt?.code)||void 0===H?void 0:H.split("auth/"))||void 0===he?void 0:he[1],En=xt?(0,ie.az)(xt):null;return En?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:En,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:Oe,postBody:null}}return null}($e,Xe.url)),H.onEvent(At||tt())})).apply(this,arguments)};typeof Ze<"u"&&"function"==typeof Ze.subscribe&&Ze.subscribe(null,nn);const Ln=jt,wr=`${xt.packageName.toLowerCase()}://`;ht().handleOpenURL=function(Us){return(Oe=Oe||(0,E.Z)(function*(Bs){if(Bs.toLowerCase().startsWith(wr)&&nn({url:Bs}),"function"==typeof Ln)try{Ln(Bs)}catch(Xe){console.error(Xe)}})).apply(this,arguments)}}};function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ie.az)("no-auth-event")}}var ot,It,Pt;function mn(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function vn(Y=(0,_.z$)()){return!("file:"!==mn()&&"ionic:"!==mn()&&"capacitor:"!==mn()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yr(){try{const Y=self.localStorage,te=ie.aL();if(Y)return Y.setItem(te,"1"),Y.removeItem(te),!function _r(Y=(0,_.z$)()){return function Tr(){return(0,_.w1)()&&11===document?.documentMode}()||function Dr(Y=(0,_.z$)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,_.hl)()}catch{return Fr()&&(0,_.hl)()}return!1}function Fr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fi(){return(function Xn(){return"http:"===mn()||"https:"===mn()}()||(0,_.ru)()||vn())&&!function Er(){return(0,_.b$)()||(0,_.UG)()}()&&Yr()&&!Fr()}function Oi(){return vn()&&typeof document<"u"}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},ln=ie.aA,Tn="persistence";function nr(Y){return(It=It||(0,E.Z)(function*(te){yield te._initializationPromise;const H=Dn(),he=ie.aD(Tn,te.config.apiKey,te.name);H&&H.setItem(he,te._getPersistence())})).apply(this,arguments)}function Dn(){var Y;try{return(null===(Y=function yi(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const Zn=ie.aA;class or{constructor(){this.browserResolver=ie.aC(ie.k),this.cordovaResolver=ie.aC(Qe),this.underlyingResolver=null,this._redirectPersistence=ie.a,this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(te){var H=this;return(0,E.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,H,he,Oe){var Ze=this;return(0,E.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openPopup(te,H,he,Oe)})()}_openRedirect(te,H,he,Oe){var Ze=this;return(0,E.Z)(function*(){return yield Ze.selectUnderlyingResolver(),Ze.assertedUnderlyingResolver._openRedirect(te,H,he,Oe)})()}_isIframeWebStorageSupported(te,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,H)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Oi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,E.Z)(function*(){if(te.underlyingResolver)return;const H=yield function Li(){return(ot=ot||(0,E.Z)(function*(){return!!Oi()&&new Promise(Y=>{const te=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),Y(!0)})})})).apply(this,arguments)}();te.underlyingResolver=H?te.cordovaResolver:te.browserResolver})()}}function Vi(Y){return Y.unwrap()}function Ui(Y){return Ms(Y)}function Ms(Y){const{_tokenResponse:te}=Y instanceof _.ZR?Y.customData:Y;if(!te)return null;if(!(Y instanceof _.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return ie.P.credentialFromResult(Y);const H=te.providerId;if(!H||H===ie.p.PASSWORD)return null;let he;switch(H){case ie.p.GOOGLE:he=ie.V;break;case ie.p.FACEBOOK:he=ie.U;break;case ie.p.GITHUB:he=ie.W;break;case ie.p.TWITTER:he=ie.Z;break;default:const{oauthIdToken:Oe,oauthAccessToken:Ze,oauthTokenSecret:jt,pendingToken:xt,nonce:En}=te;return Ze||jt||Oe||xt?xt?H.startsWith("saml.")?ie.aO._create(H,xt):ie.L._fromParams({providerId:H,signInMethod:H,pendingToken:xt,idToken:Oe,accessToken:Ze}):new ie.X(H).credential({idToken:Oe,accessToken:Ze,rawNonce:En}):null}return Y instanceof _.ZR?he.credentialFromError(Y):he.credentialFromResult(Y)}function jr(Y,te){return te.catch(H=>{throw H instanceof _.ZR&&function cr(Y,te){var H;const he=null===(H=te.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===te?.code)te.resolver=new Pr(Y,ie.aq(Y,te));else if(he){const Oe=Ms(te),Ze=te;Oe&&(Ze.credential=Oe,Ze.tenantId=he.tenantId||void 0,Ze.email=he.email||void 0,Ze.phoneNumber=he.phoneNumber||void 0)}}(Y,H),H}).then(H=>{const Oe=H.user;return{operationType:H.operationType,credential:Ui(H),additionalUserInfo:ie.ao(H),user:ur.getOrCreate(Oe)}})}function Sr(Y,te){return(Pt=Pt||(0,E.Z)(function*(H,he){const Oe=yield he;return{verificationId:Oe.verificationId,confirm:Ze=>jr(H,Oe.confirm(Ze))}})).apply(this,arguments)}class Pr{constructor(te,H){this.resolver=H,this.auth=function Jn(Y){return Y.wrapped()}(te)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return jr(Vi(this.auth),this.resolver.resolveSignIn(te))}}class ur{constructor(te){this._delegate=te,this.multiFactor=ie.ar(te)}static getOrCreate(te){return ur.USER_MAP.has(te)||ur.USER_MAP.set(te,new ur(te)),ur.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var H=this;return(0,E.Z)(function*(){return jr(H.auth,ie.a0(H._delegate,te))})()}linkWithPhoneNumber(te,H){var he=this;return(0,E.Z)(function*(){return Sr(he.auth,ie.l(he._delegate,te,H))})()}linkWithPopup(te){var H=this;return(0,E.Z)(function*(){return jr(H.auth,ie.d(H._delegate,te,or))})()}linkWithRedirect(te){var H=this;return(0,E.Z)(function*(){return yield nr(ie.aH(H.auth)),ie.g(H._delegate,te,or)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var H=this;return(0,E.Z)(function*(){return jr(H.auth,ie.a1(H._delegate,te))})()}reauthenticateWithPhoneNumber(te,H){return Sr(this.auth,ie.r(this._delegate,te,H))}reauthenticateWithPopup(te){return jr(this.auth,ie.e(this._delegate,te,or))}reauthenticateWithRedirect(te){var H=this;return(0,E.Z)(function*(){return yield nr(ie.aH(H.auth)),ie.h(H._delegate,te,or)})()}sendEmailVerification(te){return ie.ae(this._delegate,te)}unlink(te){var H=this;return(0,E.Z)(function*(){return yield ie.an(H._delegate,te),H})()}updateEmail(te){return ie.aj(this._delegate,te)}updatePassword(te){return ie.ak(this._delegate,te)}updatePhoneNumber(te){return ie.u(this._delegate,te)}updateProfile(te){return ie.ai(this._delegate,te)}verifyBeforeUpdateEmail(te,H){return ie.af(this._delegate,te,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;const Bi=ie.aA;let xi=(()=>{class Y{constructor(H,he){if(this.app=H,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Oe}=H.options;Bi(Oe,"invalid-api-key",{appName:H.name}),Bi(Oe,"invalid-api-key",{appName:H.name});const Ze=typeof window<"u"?or:void 0;this._delegate=he.initialize({options:{persistence:is(Oe,H.name),popupRedirectResolver:Ze}}),this._delegate._updateErrorMap(ie.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,he){ie.I(this._delegate,H,he)}applyActionCode(H){return ie.a5(this._delegate,H)}checkActionCode(H){return ie.a6(this._delegate,H)}confirmPasswordReset(H,he){return ie.a4(this._delegate,H,he)}createUserWithEmailAndPassword(H,he){var Oe=this;return(0,E.Z)(function*(){return jr(Oe._delegate,ie.a8(Oe._delegate,H,he))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return ie.ad(this._delegate,H)}isSignInWithEmailLink(H){return ie.ab(this._delegate,H)}getRedirectResult(){var H=this;return(0,E.Z)(function*(){Bi(Fi(),H._delegate,"operation-not-supported-in-this-environment");const he=yield ie.j(H._delegate,or);return he?jr(H._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function ct(Y,te){(0,ie.aH)(Y)._logFramework(te)}(this._delegate,H)}onAuthStateChanged(H,he,Oe){const{next:Ze,error:jt,complete:xt}=bi(H,he,Oe);return this._delegate.onAuthStateChanged(Ze,jt,xt)}onIdTokenChanged(H,he,Oe){const{next:Ze,error:jt,complete:xt}=bi(H,he,Oe);return this._delegate.onIdTokenChanged(Ze,jt,xt)}sendSignInLinkToEmail(H,he){return ie.aa(this._delegate,H,he)}sendPasswordResetEmail(H,he){return ie.a3(this._delegate,H,he||void 0)}setPersistence(H){var he=this;return(0,E.Z)(function*(){let Oe;switch(function jn(Y,te){ln(Object.values(Bn).includes(te),Y,"invalid-persistence-type"),(0,_.b$)()?ln(te!==Bn.SESSION,Y,"unsupported-persistence-type"):(0,_.UG)()?ln(te===Bn.NONE,Y,"unsupported-persistence-type"):Fr()?ln(te===Bn.NONE||te===Bn.LOCAL&&(0,_.hl)(),Y,"unsupported-persistence-type"):ln(te===Bn.NONE||Yr(),Y,"unsupported-persistence-type")}(he._delegate,H),H){case Bn.SESSION:Oe=ie.a;break;case Bn.LOCAL:Oe=(yield ie.aC(ie.i)._isAvailable())?ie.i:ie.b;break;case Bn.NONE:Oe=ie.N;break;default:return ie.av("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Oe)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return jr(this._delegate,ie._(this._delegate))}signInWithCredential(H){return jr(this._delegate,ie.$(this._delegate,H))}signInWithCustomToken(H){return jr(this._delegate,ie.a2(this._delegate,H))}signInWithEmailAndPassword(H,he){return jr(this._delegate,ie.a9(this._delegate,H,he))}signInWithEmailLink(H,he){return jr(this._delegate,ie.ac(this._delegate,H,he))}signInWithPhoneNumber(H,he){return Sr(this._delegate,ie.s(this._delegate,H,he))}signInWithPopup(H){var he=this;return(0,E.Z)(function*(){return Bi(Fi(),he._delegate,"operation-not-supported-in-this-environment"),jr(he._delegate,ie.c(he._delegate,H,or))})()}signInWithRedirect(H){var he=this;return(0,E.Z)(function*(){return Bi(Fi(),he._delegate,"operation-not-supported-in-this-environment"),yield nr(he._delegate),ie.f(he._delegate,H,or)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return ie.a7(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=Bn,Y})();function bi(Y,te,H){let he=Y;"function"!=typeof Y&&({next:he,error:te,complete:H}=Y);const Oe=he;return{next:jt=>Oe(jt&&ur.getOrCreate(jt)),error:te,complete:H}}function is(Y,te){const H=function fi(Y,te){const H=Dn();if(!H)return[];const he=ie.aD(Tn,Y,te);switch(H.getItem(he)){case Bn.NONE:return[ie.N];case Bn.LOCAL:return[ie.i,ie.a];case Bn.SESSION:return[ie.a];default:return[]}}(Y,te);if(typeof self<"u"&&!H.includes(ie.i)&&H.push(ie.i),typeof window<"u")for(const he of[ie.b,ie.a])H.includes(he)||H.push(he);return H.includes(ie.N)||H.push(ie.N),H}class ds{constructor(){this.providerId="phone",this._delegate=new ie.P(Vi(se.Z.auth()))}static credential(te,H){return ie.P.credential(te,H)}verifyPhoneNumber(te,H){return this._delegate.verifyPhoneNumber(te,H)}unwrap(){return this._delegate}}ds.PHONE_SIGN_IN_METHOD=ie.P.PHONE_SIGN_IN_METHOD,ds.PROVIDER_ID=ie.P.PROVIDER_ID;const Rs=ie.aA;class ws{constructor(te,H,he=se.Z.app()){var Oe;Rs(null===(Oe=he.options)||void 0===Oe?void 0:Oe.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new ie.R(te,H,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae(Y){Y.INTERNAL.registerComponent(new Ae.wA("auth-compat",te=>{const H=te.getProvider("app-compat").getImmediate(),he=te.getProvider("auth");return new xi(H,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ie.A.EMAIL_SIGNIN,PASSWORD_RESET:ie.A.PASSWORD_RESET,RECOVER_EMAIL:ie.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ie.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ie.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ie.A.VERIFY_EMAIL}},EmailAuthProvider:ie.Q,FacebookAuthProvider:ie.U,GithubAuthProvider:ie.W,GoogleAuthProvider:ie.V,OAuthProvider:ie.X,SAMLAuthProvider:ie.Y,PhoneAuthProvider:ds,PhoneMultiFactorGenerator:ie.m,RecaptchaVerifier:ws,TwitterAuthProvider:ie.Z,Auth:xi,AuthCredential:ie.J,Error:_.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.4.2")}(se.Z)},6593:(Jt,Ke,K)=>{K.d(Ke,{Dx:()=>Li,H7:()=>Sr,b2:()=>_r,q6:()=>vn,se:()=>St});var E=K(5879),se=K(6814);class ie extends se.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _ extends ie{static makeCurrent(){(0,se.HT)(new _)}onAndCancel(Y,te,H){return Y.addEventListener(te,H),()=>{Y.removeEventListener(te,H)}}dispatchEvent(Y,te){Y.dispatchEvent(te)}remove(Y){Y.parentNode&&Y.parentNode.removeChild(Y)}createElement(Y,te){return(te=te||this.getDefaultDocument()).createElement(Y)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Y){return Y.nodeType===Node.ELEMENT_NODE}isShadowRoot(Y){return Y instanceof DocumentFragment}getGlobalEventTarget(Y,te){return"window"===te?window:"document"===te?Y:"body"===te?Y.body:null}getBaseHref(Y){const te=function Se(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==te?null:function Te(ae){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",ae);const Y=Ae.pathname;return"/"===Y.charAt(0)?Y:`/${Y}`}(te)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Y){return(0,se.Mx)(document.cookie,Y)}}let Ae,_e=null,fe=(()=>{var ae;class Y{build(){return new XMLHttpRequest}}return(ae=Y).\u0275fac=function(H){return new(H||ae)},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();const Ce=new E.OlP("EventManagerPlugins");let Fe=(()=>{var ae;class Y{constructor(H,he){this._zone=he,this._eventNameToPlugin=new Map,H.forEach(Oe=>{Oe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,he,Oe){return this._findPluginFor(he).addEventListener(H,he,Oe)}getZone(){return this._zone}_findPluginFor(H){let he=this._eventNameToPlugin.get(H);if(he)return he;if(he=this._plugins.find(Ze=>Ze.supports(H)),!he)throw new E.vHH(5101,!1);return this._eventNameToPlugin.set(H,he),he}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(Ce),E.LFG(E.R0b))},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();class ht{constructor(Y){this._doc=Y}}const nt="ng-app-id";let yt=(()=>{var ae;class Y{constructor(H,he,Oe,Ze={}){this.doc=H,this.appId=he,this.nonce=Oe,this.platformId=Ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,se.PM)(Ze),this.resetHostNodes()}addStyles(H){for(const he of H)1===this.changeUsageCount(he,1)&&this.onStyleAdded(he)}removeStyles(H){for(const he of H)this.changeUsageCount(he,-1)<=0&&this.onStyleRemoved(he)}ngOnDestroy(){const H=this.styleNodesInDOM;H&&(H.forEach(he=>he.remove()),H.clear());for(const he of this.getAllStyles())this.onStyleRemoved(he);this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const he of this.getAllStyles())this.addStyleToHost(H,he)}removeHost(H){this.hostNodes.delete(H)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(H){for(const he of this.hostNodes)this.addStyleToHost(he,H)}onStyleRemoved(H){const he=this.styleRef;he.get(H)?.elements?.forEach(Oe=>Oe.remove()),he.delete(H)}collectServerRenderedStyles(){const H=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(H?.length){const he=new Map;return H.forEach(Oe=>{null!=Oe.textContent&&he.set(Oe.textContent,Oe)}),he}return null}changeUsageCount(H,he){const Oe=this.styleRef;if(Oe.has(H)){const Ze=Oe.get(H);return Ze.usage+=he,Ze.usage}return Oe.set(H,{usage:he,elements:[]}),he}getStyleElement(H,he){const Oe=this.styleNodesInDOM,Ze=Oe?.get(he);if(Ze?.parentNode===H)return Oe.delete(he),Ze.removeAttribute(nt),Ze;{const jt=this.doc.createElement("style");return this.nonce&&jt.setAttribute("nonce",this.nonce),jt.textContent=he,this.platformIsServer&&jt.setAttribute(nt,this.appId),jt}}addStyleToHost(H,he){const Oe=this.getStyleElement(H,he);H.appendChild(Oe);const Ze=this.styleRef,jt=Ze.get(he)?.elements;jt?jt.push(Oe):Ze.set(he,{elements:[Oe],usage:1})}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(se.K0),E.LFG(E.AFp),E.LFG(E.Ojb,8),E.LFG(E.Lbi))},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,lt=new E.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(ae,Y){return Y.map(te=>te.replace(mt,ae))}let St=(()=>{var ae;class Y{constructor(H,he,Oe,Ze,jt,xt,En,nn=null){this.eventManager=H,this.sharedStylesHost=he,this.appId=Oe,this.removeStylesOnCompDestroy=Ze,this.doc=jt,this.platformId=xt,this.ngZone=En,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,se.PM)(xt),this.defaultRenderer=new tn(H,jt,En,this.platformIsServer)}createRenderer(H,he){if(!H||!he)return this.defaultRenderer;this.platformIsServer&&he.encapsulation===E.ifc.ShadowDom&&(he={...he,encapsulation:E.ifc.Emulated});const Oe=this.getOrCreateRenderer(H,he);return Oe instanceof oi?Oe.applyToHost(H):Oe instanceof Ci&&Oe.applyStyles(),Oe}getOrCreateRenderer(H,he){const Oe=this.rendererByCompId;let Ze=Oe.get(he.id);if(!Ze){const jt=this.doc,xt=this.ngZone,En=this.eventManager,nn=this.sharedStylesHost,Ln=this.removeStylesOnCompDestroy,wr=this.platformIsServer;switch(he.encapsulation){case E.ifc.Emulated:Ze=new oi(En,nn,he,this.appId,Ln,jt,xt,wr);break;case E.ifc.ShadowDom:return new Or(En,nn,H,he,jt,xt,this.nonce,wr);default:Ze=new Ci(En,nn,he,Ln,jt,xt,wr)}Oe.set(he.id,Ze)}return Ze}ngOnDestroy(){this.rendererByCompId.clear()}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(Fe),E.LFG(yt),E.LFG(E.AFp),E.LFG(lt),E.LFG(se.K0),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(E.Ojb))},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();class tn{constructor(Y,te,H,he){this.eventManager=Y,this.doc=te,this.ngZone=H,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Y,te){return te?this.doc.createElementNS(ft[te]||te,Y):this.doc.createElement(Y)}createComment(Y){return this.doc.createComment(Y)}createText(Y){return this.doc.createTextNode(Y)}appendChild(Y,te){(Gn(Y)?Y.content:Y).appendChild(te)}insertBefore(Y,te,H){Y&&(Gn(Y)?Y.content:Y).insertBefore(te,H)}removeChild(Y,te){Y&&Y.removeChild(te)}selectRootElement(Y,te){let H="string"==typeof Y?this.doc.querySelector(Y):Y;if(!H)throw new E.vHH(-5104,!1);return te||(H.textContent=""),H}parentNode(Y){return Y.parentNode}nextSibling(Y){return Y.nextSibling}setAttribute(Y,te,H,he){if(he){te=he+":"+te;const Oe=ft[he];Oe?Y.setAttributeNS(Oe,te,H):Y.setAttribute(te,H)}else Y.setAttribute(te,H)}removeAttribute(Y,te,H){if(H){const he=ft[H];he?Y.removeAttributeNS(he,te):Y.removeAttribute(`${H}:${te}`)}else Y.removeAttribute(te)}addClass(Y,te){Y.classList.add(te)}removeClass(Y,te){Y.classList.remove(te)}setStyle(Y,te,H,he){he&(E.JOm.DashCase|E.JOm.Important)?Y.style.setProperty(te,H,he&E.JOm.Important?"important":""):Y.style[te]=H}removeStyle(Y,te,H){H&E.JOm.DashCase?Y.style.removeProperty(te):Y.style[te]=""}setProperty(Y,te,H){Y[te]=H}setValue(Y,te){Y.nodeValue=te}listen(Y,te,H){if("string"==typeof Y&&!(Y=(0,se.q)().getGlobalEventTarget(this.doc,Y)))throw new Error(`Unsupported event target ${Y} for event ${te}`);return this.eventManager.addEventListener(Y,te,this.decoratePreventDefault(H))}decoratePreventDefault(Y){return te=>{if("__ngUnwrap__"===te)return Y;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Y(te)):Y(te))&&te.preventDefault()}}}function Gn(ae){return"TEMPLATE"===ae.tagName&&void 0!==ae.content}class Or extends tn{constructor(Y,te,H,he,Oe,Ze,jt,xt){super(Y,Oe,Ze,xt),this.sharedStylesHost=te,this.hostEl=H,this.shadowRoot=H.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const En=Dt(he.id,he.styles);for(const nn of En){const Ln=document.createElement("style");jt&&Ln.setAttribute("nonce",jt),Ln.textContent=nn,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(Y){return Y===this.hostEl?this.shadowRoot:Y}appendChild(Y,te){return super.appendChild(this.nodeOrShadowRoot(Y),te)}insertBefore(Y,te,H){return super.insertBefore(this.nodeOrShadowRoot(Y),te,H)}removeChild(Y,te){return super.removeChild(this.nodeOrShadowRoot(Y),te)}parentNode(Y){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Y)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ci extends tn{constructor(Y,te,H,he,Oe,Ze,jt,xt){super(Y,Oe,Ze,jt),this.sharedStylesHost=te,this.removeStylesOnCompDestroy=he,this.styles=xt?Dt(xt,H.styles):H.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oi extends Ci{constructor(Y,te,H,he,Oe,Ze,jt,xt){const En=he+"-"+H.id;super(Y,te,H,Oe,Ze,jt,xt,En),this.contentAttr=function ke(ae){return"_ngcontent-%COMP%".replace(mt,ae)}(En),this.hostAttr=function st(ae){return"_nghost-%COMP%".replace(mt,ae)}(En)}applyToHost(Y){this.applyStyles(),this.setAttribute(Y,this.hostAttr,"")}createElement(Y,te){const H=super.createElement(Y,te);return super.setAttribute(H,this.contentAttr,""),H}}let vi=(()=>{var ae;class Y extends ht{constructor(H){super(H)}supports(H){return!0}addEventListener(H,he,Oe){return H.addEventListener(he,Oe,!1),()=>this.removeEventListener(H,he,Oe)}removeEventListener(H,he,Oe){return H.removeEventListener(he,Oe)}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(se.K0))},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();const xr=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tt={alt:ae=>ae.altKey,control:ae=>ae.ctrlKey,meta:ae=>ae.metaKey,shift:ae=>ae.shiftKey};let ct=(()=>{var ae;class Y extends ht{constructor(H){super(H)}supports(H){return null!=Y.parseEventName(H)}addEventListener(H,he,Oe){const Ze=Y.parseEventName(he),jt=Y.eventCallback(Ze.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,se.q)().onAndCancel(H,Ze.domEventName,jt))}static parseEventName(H){const he=H.toLowerCase().split("."),Oe=he.shift();if(0===he.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const Ze=Y._normalizeKey(he.pop());let jt="",xt=he.indexOf("code");if(xt>-1&&(he.splice(xt,1),jt="code."),xr.forEach(nn=>{const Ln=he.indexOf(nn);Ln>-1&&(he.splice(Ln,1),jt+=nn+".")}),jt+=Ze,0!=he.length||0===Ze.length)return null;const En={};return En.domEventName=Oe,En.fullKey=jt,En}static matchEventFullKeyCode(H,he){let Oe=Qe[H.key]||H.key,Ze="";return he.indexOf("code.")>-1&&(Oe=H.code,Ze="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),xr.forEach(jt=>{jt!==Oe&&(0,tt[jt])(H)&&(Ze+=jt+".")}),Ze+=Oe,Ze===he)}static eventCallback(H,he,Oe){return Ze=>{Y.matchEventFullKeyCode(Ze,H)&&Oe.runGuarded(()=>he(Ze))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(se.K0))},ae.\u0275prov=E.Yz7({token:ae,factory:ae.\u0275fac}),Y})();const vn=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:se.bD},{provide:E.g9A,useValue:function Bt(){_.makeCurrent()},multi:!0},{provide:se.K0,useFactory:function mn(){return(0,E.RDi)(document),document},deps:[]}]),Er=new E.OlP(""),Tr=[{provide:E.rWj,useClass:class je{addToWindow(Y){E.dqk.getAngularTestability=(H,he=!0)=>{const Oe=Y.findTestabilityInTree(H,he);if(null==Oe)throw new E.vHH(5103,!1);return Oe},E.dqk.getAllAngularTestabilities=()=>Y.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>Y.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(H=>{const he=E.dqk.getAllAngularTestabilities();let Oe=he.length,Ze=!1;const jt=function(xt){Ze=Ze||xt,Oe--,0==Oe&&H(Ze)};he.forEach(xt=>{xt.whenStable(jt)})})}findTestabilityInTree(Y,te,H){return null==te?null:Y.getTestability(te)??(H?(0,se.q)().isShadowRoot(te)?this.findTestabilityInTree(Y,te.host,!0):this.findTestabilityInTree(Y,te.parentElement,!0):null)}},deps:[]},{provide:E.lri,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b,E.eoX,E.rWj]}],Dr=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function dn(){return new E.qLn},deps:[]},{provide:Ce,useClass:vi,multi:!0,deps:[se.K0,E.R0b,E.Lbi]},{provide:Ce,useClass:ct,multi:!0,deps:[se.K0]},St,yt,Fe,{provide:E.FYo,useExisting:St},{provide:se.JF,useClass:fe,deps:[]},[]];let _r=(()=>{var ae;class Y{constructor(H){}static withServerTransition(H){return{ngModule:Y,providers:[{provide:E.AFp,useValue:H.appId}]}}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(Er,12))},ae.\u0275mod=E.oAB({type:ae}),ae.\u0275inj=E.cJS({providers:[...Dr,...Tr],imports:[se.ez,E.hGG]}),Y})(),Li=(()=>{var ae;class Y{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(se.K0))},ae.\u0275prov=E.Yz7({token:ae,factory:function(H){let he=null;return he=H?new H:function Oi(){return new Li((0,E.LFG)(se.K0))}(),he},providedIn:"root"}),Y})();typeof window<"u"&&window;let Sr=(()=>{var ae;class Y{}return(ae=Y).\u0275fac=function(H){return new(H||ae)},ae.\u0275prov=E.Yz7({token:ae,factory:function(H){let he=null;return he=H?new(H||ae):E.LFG(ur),he},providedIn:"root"}),Y})(),ur=(()=>{var ae;class Y extends Sr{constructor(H){super(),this._doc=H}sanitize(H,he){if(null==he)return null;switch(H){case E.q3G.NONE:return he;case E.q3G.HTML:return(0,E.qzn)(he,"HTML")?(0,E.z3N)(he):(0,E.EiD)(this._doc,String(he)).toString();case E.q3G.STYLE:return(0,E.qzn)(he,"Style")?(0,E.z3N)(he):he;case E.q3G.SCRIPT:if((0,E.qzn)(he,"Script"))return(0,E.z3N)(he);throw new E.vHH(5200,!1);case E.q3G.URL:return(0,E.qzn)(he,"URL")?(0,E.z3N)(he):(0,E.mCW)(String(he));case E.q3G.RESOURCE_URL:if((0,E.qzn)(he,"ResourceURL"))return(0,E.z3N)(he);throw new E.vHH(5201,!1);default:throw new E.vHH(5202,!1)}}bypassSecurityTrustHtml(H){return(0,E.JVY)(H)}bypassSecurityTrustStyle(H){return(0,E.L6k)(H)}bypassSecurityTrustScript(H){return(0,E.eBb)(H)}bypassSecurityTrustUrl(H){return(0,E.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,E.pB0)(H)}}return(ae=Y).\u0275fac=function(H){return new(H||ae)(E.LFG(se.K0))},ae.\u0275prov=E.Yz7({token:ae,factory:function(H){let he=null;return he=H?new H:function Pr(ae){return new ur(ae.get(se.K0))}(E.LFG(E.zs3)),he},providedIn:"root"}),Y})()},3914:(Jt,Ke,K)=>{K.d(Ke,{gz:()=>fs,F0:()=>Ri,rH:()=>ul,Bz:()=>ga,lC:()=>Hi});var E=K(5879),se=K(5592),ie=K(4674),_e=K(2459),Se=K(2096),Ae=K(5619),Te=K(2572),je=K(6973),fe=K(5211),Ce=K(4829);function Fe(D){return new se.y(P=>{(0,Ce.Xf)(D()).subscribe(P)})}var ht=K(8407),nt=K(8504),yt=K(6232),ft=K(7394),mt=K(9360),pt=K(8251);function sn(){return(0,mt.e)((D,P)=>{let V=null;D._refCount++;const k=(0,pt.x)(P,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(V=null);const W=D._connection,ce=V;V=null,W&&(!ce||W===ce)&&W.unsubscribe(),P.unsubscribe()});D.subscribe(k),k.closed||(V=D.connect())})}class Yt extends se.y{constructor(P,V){super(),this.source=P,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,mt.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ft.w0;const V=this.getSubject();P.add(this.source.subscribe((0,pt.x)(V,void 0,()=>{this._teardown(),V.complete()},k=>{this._teardown(),V.error(k)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ft.w0.EMPTY)}return P}refCount(){return sn()(this)}}var Ve=K(8645),lt=K(6814),ke=K(7398),st=K(4664),Dt=K(8180),St=K(7921),tn=K(2181),an=K(1631),$n=K(1374),Gn=K(6328),Or=K(9397),Ci=K(6306),oi=K(6699),vi=K(3572);function xr(D){return D<=0?()=>yt.E:(0,mt.e)((P,V)=>{let k=[];P.subscribe((0,pt.x)(V,W=>{k.push(W),D<k.length&&k.shift()},()=>{for(const W of k)V.next(W);V.complete()},void 0,()=>{k=null}))})}var Qe=K(3026),tt=K(2737),It=K(4716),Pt=K(9773),on=K(7537),Bt=K(6593);const dn="primary",mn=Symbol("RouteTitle");class Xn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V[0]:V}return null}getAll(P){if(this.has(P)){const V=this.params[P];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function vn(D){return new Xn(D)}function Er(D,P,V){const k=V.path.split("/");if(k.length>D.length||"full"===V.pathMatch&&(P.hasChildren()||k.length<D.length))return null;const W={};for(let ce=0;ce<k.length;ce++){const ve=k[ce],Ge=D[ce];if(ve.startsWith(":"))W[ve.substring(1)]=Ge;else if(ve!==Ge.path)return null}return{consumed:D.slice(0,k.length),posParams:W}}function Dr(D,P){const V=D?Object.keys(D):void 0,k=P?Object.keys(P):void 0;if(!V||!k||V.length!=k.length)return!1;let W;for(let ce=0;ce<V.length;ce++)if(W=V[ce],!_r(D[W],P[W]))return!1;return!0}function _r(D,P){if(Array.isArray(D)&&Array.isArray(P)){if(D.length!==P.length)return!1;const V=[...D].sort(),k=[...P].sort();return V.every((W,ce)=>k[ce]===W)}return D===P}function Yr(D){return D.length>0?D[D.length-1]:null}function Fr(D){return function _(D){return!!D&&(D instanceof se.y||(0,ie.m)(D.lift)&&(0,ie.m)(D.subscribe))}(D)?D:(0,E.QGY)(D)?(0,_e.D)(Promise.resolve(D)):(0,Se.of)(D)}const Fi={exact:function Bn(D,P,V){if(!Vi(D.segments,P.segments)||!nr(D.segments,P.segments,V)||D.numberOfChildren!==P.numberOfChildren)return!1;for(const k in P.children)if(!D.children[k]||!Bn(D.children[k],P.children[k],V))return!1;return!0},subset:Tn},Oi={exact:function yi(D,P){return Dr(D,P)},subset:function ln(D,P){return Object.keys(P).length<=Object.keys(D).length&&Object.keys(P).every(V=>_r(D[V],P[V]))},ignored:()=>!0};function Li(D,P,V){return Fi[V.paths](D.root,P.root,V.matrixParams)&&Oi[V.queryParams](D.queryParams,P.queryParams)&&!("exact"===V.fragment&&D.fragment!==P.fragment)}function Tn(D,P,V){return jn(D,P,P.segments,V)}function jn(D,P,V,k){if(D.segments.length>V.length){const W=D.segments.slice(0,V.length);return!(!Vi(W,V)||P.hasChildren()||!nr(W,V,k))}if(D.segments.length===V.length){if(!Vi(D.segments,V)||!nr(D.segments,V,k))return!1;for(const W in P.children)if(!D.children[W]||!Tn(D.children[W],P.children[W],k))return!1;return!0}{const W=V.slice(0,D.segments.length),ce=V.slice(D.segments.length);return!!(Vi(D.segments,W)&&nr(D.segments,W,k)&&D.children[dn])&&jn(D.children[dn],P,ce,k)}}function nr(D,P,V){return P.every((k,W)=>Oi[V](D[W].parameters,k.parameters))}class fi{constructor(P=new Dn([],{}),V={},k=null){this.root=P,this.queryParams=V,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return Ms.serialize(this)}}class Dn{constructor(P,V){this.segments=P,this.children=V,this.parent=null,Object.values(V).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jr(this)}}class Zn{constructor(P,V){this.path=P,this.parameters=V}get parameterMap(){return this._parameterMap||(this._parameterMap=vn(this.parameters)),this._parameterMap}toString(){return ds(this)}}function Vi(D,P){return D.length===P.length&&D.every((V,k)=>V.path===P[k].path)}let Ui=(()=>{var D;class P{}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return new cr},providedIn:"root"}),P})();class cr{parse(P){const V=new jt(P);return new fi(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize(P){const V=`/${Sr(P.root,!0)}`,k=function ws(D){const P=Object.keys(D).map(V=>{const k=D[V];return Array.isArray(k)?k.map(W=>`${ur(V)}=${ur(W)}`).join("&"):`${ur(V)}=${ur(k)}`}).filter(V=>!!V);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${V}${k}${"string"==typeof P.fragment?`#${function Bi(D){return encodeURI(D)}(P.fragment)}`:""}`}}const Ms=new cr;function jr(D){return D.segments.map(P=>ds(P)).join("/")}function Sr(D,P){if(!D.hasChildren())return jr(D);if(P){const V=D.children[dn]?Sr(D.children[dn],!1):"",k=[];return Object.entries(D.children).forEach(([W,ce])=>{W!==dn&&k.push(`${W}:${Sr(ce,!1)}`)}),k.length>0?`${V}(${k.join("//")})`:V}{const V=function Jn(D,P){let V=[];return Object.entries(D.children).forEach(([k,W])=>{k===dn&&(V=V.concat(P(W,k)))}),Object.entries(D.children).forEach(([k,W])=>{k!==dn&&(V=V.concat(P(W,k)))}),V}(D,(k,W)=>W===dn?[Sr(D.children[dn],!1)]:[`${W}:${Sr(k,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[dn]?`${jr(D)}/${V[0]}`:`${jr(D)}/(${V.join("//")})`}}function Pr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ur(D){return Pr(D).replace(/%3B/gi,";")}function xi(D){return Pr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bi(D){return decodeURIComponent(D)}function is(D){return bi(D.replace(/\+/g,"%20"))}function ds(D){return`${xi(D.path)}${function Rs(D){return Object.keys(D).map(P=>`;${xi(P)}=${xi(D[P])}`).join("")}(D.parameters)}`}const Me=/^[^\/()?;#]+/;function ae(D){const P=D.match(Me);return P?P[0]:""}const Y=/^[^\/()?;=#]+/,H=/^[^=?&#]+/,Oe=/^[^&#]+/;class jt{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(P.length>0||Object.keys(V).length>0)&&(k[dn]=new Dn(P,V)),k}parseSegment(){const P=ae(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new E.vHH(4009,!1);return this.capture(P),new Zn(bi(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const V=function te(D){const P=D.match(Y);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let k="";if(this.consumeOptional("=")){const W=ae(this.remaining);W&&(k=W,this.capture(k))}P[bi(V)]=bi(k)}parseQueryParam(P){const V=function he(D){const P=D.match(H);return P?P[0]:""}(this.remaining);if(!V)return;this.capture(V);let k="";if(this.consumeOptional("=")){const ve=function Ze(D){const P=D.match(Oe);return P?P[0]:""}(this.remaining);ve&&(k=ve,this.capture(k))}const W=is(V),ce=is(k);if(P.hasOwnProperty(W)){let ve=P[W];Array.isArray(ve)||(ve=[ve],P[W]=ve),ve.push(ce)}else P[W]=ce}parseParens(P){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=ae(this.remaining),W=this.remaining[k.length];if("/"!==W&&")"!==W&&";"!==W)throw new E.vHH(4010,!1);let ce;k.indexOf(":")>-1?(ce=k.slice(0,k.indexOf(":")),this.capture(ce),this.capture(":")):P&&(ce=dn);const ve=this.parseChildren();V[ce]=1===Object.keys(ve).length?ve[dn]:new Dn([],ve),this.consumeOptional("//")}return V}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new E.vHH(4011,!1)}}function xt(D){return D.segments.length>0?new Dn([],{[dn]:D}):D}function En(D){const P={};for(const k of Object.keys(D.children)){const ce=En(D.children[k]);if(k===dn&&0===ce.segments.length&&ce.hasChildren())for(const[ve,Ge]of Object.entries(ce.children))P[ve]=Ge;else(ce.segments.length>0||ce.hasChildren())&&(P[k]=ce)}return function nn(D){if(1===D.numberOfChildren&&D.children[dn]){const P=D.children[dn];return new Dn(D.segments.concat(P.segments),P.children)}return D}(new Dn(D.segments,P))}function Ln(D){return D instanceof fi}function Us(D){let P;const W=xt(function V(ce){const ve={};for(const $t of ce.children){const dt=V($t);ve[$t.outlet]=dt}const Ge=new Dn(ce.url,ve);return ce===D&&(P=Ge),Ge}(D.root));return P??W}function Bs(D,P,V,k){let W=D;for(;W.parent;)W=W.parent;if(0===P.length)return At(W,W,W,V,k);const ce=function hn(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Nt(!0,0,D);let P=0,V=!1;const k=D.reduce((W,ce,ve)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const Ge={};return Object.entries(ce.outlets).forEach(([$t,dt])=>{Ge[$t]="string"==typeof dt?dt.split("/"):dt}),[...W,{outlets:Ge}]}if(ce.segmentPath)return[...W,ce.segmentPath]}return"string"!=typeof ce?[...W,ce]:0===ve?(ce.split("/").forEach((Ge,$t)=>{0==$t&&"."===Ge||(0==$t&&""===Ge?V=!0:".."===Ge?P++:""!=Ge&&W.push(Ge))}),W):[...W,ce]},[]);return new Nt(V,P,k)}(P);if(ce.toRoot())return At(W,W,new Dn([],{}),V,k);const ve=function ti(D,P,V){if(D.isAbsolute)return new Vn(P,!0,0);if(!V)return new Vn(P,!1,NaN);if(null===V.parent)return new Vn(V,!0,0);const k=Xe(D.commands[0])?0:1;return function Wr(D,P,V){let k=D,W=P,ce=V;for(;ce>W;){if(ce-=W,k=k.parent,!k)throw new E.vHH(4005,!1);W=k.segments.length}return new Vn(k,!1,W-ce)}(V,V.segments.length-1+k,D.numberOfDoubleDots)}(ce,W,D),Ge=ve.processChildren?vr(ve.segmentGroup,ve.index,ce.commands):ni(ve.segmentGroup,ve.index,ce.commands);return At(W,ve.segmentGroup,Ge,V,k)}function Xe(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function $e(D){return"object"==typeof D&&null!=D&&D.outlets}function At(D,P,V,k,W){let ve,ce={};k&&Object.entries(k).forEach(([$t,dt])=>{ce[$t]=Array.isArray(dt)?dt.map(Nn=>`${Nn}`):`${dt}`}),ve=D===P?V:qt(D,P,V);const Ge=xt(En(ve));return new fi(Ge,ce,W)}function qt(D,P,V){const k={};return Object.entries(D.children).forEach(([W,ce])=>{k[W]=ce===P?V:qt(ce,P,V)}),new Dn(D.segments,k)}class Nt{constructor(P,V,k){if(this.isAbsolute=P,this.numberOfDoubleDots=V,this.commands=k,P&&k.length>0&&Xe(k[0]))throw new E.vHH(4003,!1);const W=k.find($e);if(W&&W!==Yr(k))throw new E.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vn{constructor(P,V,k){this.segmentGroup=P,this.processChildren=V,this.index=k}}function ni(D,P,V){if(D||(D=new Dn([],{})),0===D.segments.length&&D.hasChildren())return vr(D,P,V);const k=function Ar(D,P,V){let k=0,W=P;const ce={match:!1,pathIndex:0,commandIndex:0};for(;W<D.segments.length;){if(k>=V.length)return ce;const ve=D.segments[W],Ge=V[k];if($e(Ge))break;const $t=`${Ge}`,dt=k<V.length-1?V[k+1]:null;if(W>0&&void 0===$t)break;if($t&&dt&&"object"==typeof dt&&void 0===dt.outlets){if(!Kt($t,dt,ve))return ce;k+=2}else{if(!Kt($t,{},ve))return ce;k++}W++}return{match:!0,pathIndex:W,commandIndex:k}}(D,P,V),W=V.slice(k.commandIndex);if(k.match&&k.pathIndex<D.segments.length){const ce=new Dn(D.segments.slice(0,k.pathIndex),{});return ce.children[dn]=new Dn(D.segments.slice(k.pathIndex),D.children),vr(ce,0,W)}return k.match&&0===W.length?new Dn(D.segments,{}):k.match&&!D.hasChildren()?Qs(D,P,V):k.match?vr(D,0,W):Qs(D,P,V)}function vr(D,P,V){if(0===V.length)return new Dn(D.segments,{});{const k=function kt(D){return $e(D[0])?D[0].outlets:{[dn]:D}}(V),W={};if(Object.keys(k).some(ce=>ce!==dn)&&D.children[dn]&&1===D.numberOfChildren&&0===D.children[dn].segments.length){const ce=vr(D.children[dn],P,V);return new Dn(D.segments,ce.children)}return Object.entries(k).forEach(([ce,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(W[ce]=ni(D.children[ce],P,ve))}),Object.entries(D.children).forEach(([ce,ve])=>{void 0===k[ce]&&(W[ce]=ve)}),new Dn(D.segments,W)}}function Qs(D,P,V){const k=D.segments.slice(0,P);let W=0;for(;W<V.length;){const ce=V[W];if($e(ce)){const $t=qs(ce.outlets);return new Dn(k,$t)}if(0===W&&Xe(V[0])){k.push(new Zn(D.segments[P].path,Yo(V[0]))),W++;continue}const ve=$e(ce)?ce.outlets[dn]:`${ce}`,Ge=W<V.length-1?V[W+1]:null;ve&&Ge&&Xe(Ge)?(k.push(new Zn(ve,Yo(Ge))),W+=2):(k.push(new Zn(ve,{})),W++)}return new Dn(k,{})}function qs(D){const P={};return Object.entries(D).forEach(([V,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(P[V]=Qs(new Dn([],{}),0,k))}),P}function Yo(D){const P={};return Object.entries(D).forEach(([V,k])=>P[V]=`${k}`),P}function Kt(D,P,V){return D==V.path&&Dr(P,V.parameters)}const ai="imperative";class Pi{constructor(P,V){this.id=P,this.url=V}}class Qo extends Pi{constructor(P,V,k="imperative",W=null){super(P,V),this.type=0,this.navigationTrigger=k,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends Pi{constructor(P,V,k){super(P,V),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ca extends Pi{constructor(P,V,k,W){super(P,V),this.reason=k,this.code=W,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hr extends Pi{constructor(P,V,k,W){super(P,V),this.reason=k,this.code=W,this.type=16}}class Le extends Pi{constructor(P,V,k,W){super(P,V),this.error=k,this.target=W,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Pi{constructor(P,V,k,W){super(P,V),this.urlAfterRedirects=k,this.state=W,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye extends Pi{constructor(P,V,k,W){super(P,V),this.urlAfterRedirects=k,this.state=W,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt extends Pi{constructor(P,V,k,W,ce){super(P,V),this.urlAfterRedirects=k,this.state=W,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vt extends Pi{constructor(P,V,k,W){super(P,V),this.urlAfterRedirects=k,this.state=W,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends Pi{constructor(P,V,k,W){super(P,V),this.urlAfterRedirects=k,this.state=W,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Un{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zr{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(P,V,k){this.routerEvent=P,this.position=V,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Is{}class wa{constructor(P){this.url=P}}class Qi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xo,this.attachRef=null}}let Xo=(()=>{var D;class P{constructor(){this.contexts=new Map}onChildOutletCreated(k,W){const ce=this.getOrCreateContext(k);ce.outlet=W,this.contexts.set(k,ce)}onChildOutletDestroyed(k){const W=this.getContext(k);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const k=this.contexts;return this.contexts=new Map,k}onOutletReAttached(k){this.contexts=k}getOrCreateContext(k){let W=this.getContext(k);return W||(W=new Qi,this.contexts.set(k,W)),W}getContext(k){return this.contexts.get(k)||null}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();class ua{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const V=this.pathFromRoot(P);return V.length>1?V[V.length-2]:null}children(P){const V=da(P,this._root);return V?V.children.map(k=>k.value):[]}firstChild(P){const V=da(P,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings(P){const V=dr(P,this._root);return V.length<2?[]:V[V.length-2].children.map(W=>W.value).filter(W=>W!==P)}pathFromRoot(P){return dr(P,this._root).map(V=>V.value)}}function da(D,P){if(D===P.value)return P;for(const V of P.children){const k=da(D,V);if(k)return k}return null}function dr(D,P){if(D===P.value)return[P];for(const V of P.children){const k=dr(D,V);if(k.length)return k.unshift(P),k}return[]}class Qr{constructor(P,V){this.value=P,this.children=V}toString(){return`TreeNode(${this.value})`}}function pi(D){const P={};return D&&D.children.forEach(V=>P[V.value.outlet]=V),P}class Js extends ua{constructor(P,V){super(P),this.snapshot=V,Zt(this,P)}toString(){return this.snapshot.toString()}}function kr(D,P){const V=function Do(D,P){const ve=new nl([],{},{},"",{},dn,P,null,{});return new qr("",new Qr(ve,[]))}(0,P),k=new Ae.X([new Zn("",{})]),W=new Ae.X({}),ce=new Ae.X({}),ve=new Ae.X({}),Ge=new Ae.X(""),$t=new fs(k,W,ve,Ge,ce,dn,P,V.root);return $t.snapshot=V.root,new Js(new Qr($t,[]),V)}class fs{constructor(P,V,k,W,ce,ve,Ge,$t){this.urlSubject=P,this.paramsSubject=V,this.queryParamsSubject=k,this.fragmentSubject=W,this.dataSubject=ce,this.outlet=ve,this.component=Ge,this._futureSnapshot=$t,this.title=this.dataSubject?.pipe((0,ke.U)(dt=>dt[mn]))??(0,Se.of)(void 0),this.url=P,this.params=V,this.queryParams=k,this.fragment=W,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(P=>vn(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(P=>vn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ia(D,P="emptyOnly"){const V=D.pathFromRoot;let k=0;if("always"!==P)for(k=V.length-1;k>=1;){const W=V[k],ce=V[k-1];if(W.routeConfig&&""===W.routeConfig.path)k--;else{if(ce.component)break;k--}}return function hr(D){return D.reduce((P,V)=>({params:{...P.params,...V.params},data:{...P.data,...V.data},resolve:{...V.data,...P.resolve,...V.routeConfig?.data,...V._resolvedData}}),{params:{},data:{},resolve:{}})}(V.slice(k))}class nl{get title(){return this.data?.[mn]}constructor(P,V,k,W,ce,ve,Ge,$t,dt){this.url=P,this.params=V,this.queryParams=k,this.fragment=W,this.data=ce,this.outlet=ve,this.component=Ge,this.routeConfig=$t,this._resolve=dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qr extends ua{constructor(P,V){super(V),this.url=P,Zt(this,V)}toString(){return Wn(this._root)}}function Zt(D,P){P.value._routerState=D,P.children.forEach(V=>Zt(D,V))}function Wn(D){const P=D.children.length>0?` { ${D.children.map(Wn).join(", ")} } `:"";return`${D.value}${P}`}function Mr(D){if(D.snapshot){const P=D.snapshot,V=D._futureSnapshot;D.snapshot=V,Dr(P.queryParams,V.queryParams)||D.queryParamsSubject.next(V.queryParams),P.fragment!==V.fragment&&D.fragmentSubject.next(V.fragment),Dr(P.params,V.params)||D.paramsSubject.next(V.params),function Tr(D,P){if(D.length!==P.length)return!1;for(let V=0;V<D.length;++V)if(!Dr(D[V],P[V]))return!1;return!0}(P.url,V.url)||D.urlSubject.next(V.url),Dr(P.data,V.data)||D.dataSubject.next(V.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function Ti(D,P){const V=Dr(D.params,P.params)&&function or(D,P){return Vi(D,P)&&D.every((V,k)=>Dr(V.parameters,P[k].parameters))}(D.url,P.url);return V&&!(!D.parent!=!P.parent)&&(!D.parent||Ti(D.parent,P.parent))}let Hi=(()=>{var D;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.parentContexts=(0,E.f3M)(Xo),this.location=(0,E.f3M)(E.s_b),this.changeDetector=(0,E.f3M)(E.sBO),this.environmentInjector=(0,E.f3M)(E.lqb),this.inputBinder=(0,E.f3M)(ss,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(k){if(k.name){const{firstChange:W,previousValue:ce}=k.name;if(W)return;this.isTrackedInParentContexts(ce)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ce)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(k){return this.parentContexts.getContext(k)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const k=this.parentContexts.getContext(this.name);k?.route&&(k.attachRef?this.attach(k.attachRef,k.route):this.activateWith(k.route,k.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E.vHH(4012,!1);this.location.detach();const k=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(k.instance),k}attach(k,W){this.activated=k,this._activatedRoute=W,this.location.insert(k.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(k.instance)}deactivate(){if(this.activated){const k=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(k)}}activateWith(k,W){if(this.isActivated)throw new E.vHH(4013,!1);this._activatedRoute=k;const ce=this.location,Ge=k.snapshot.component,$t=this.parentContexts.getOrCreateContext(this.name).children,dt=new Cs(k,$t,ce.injector);this.activated=ce.createComponent(Ge,{index:ce.length,injector:dt,environmentInjector:W??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275dir=E.lG2({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[E.TTD]}),P})();class Cs{constructor(P,V,k){this.route=P,this.childContexts=V,this.parent=k}get(P,V){return P===fs?this.route:P===Xo?this.childContexts:this.parent.get(P,V)}}const ss=new E.OlP("");let ri=(()=>{var D;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(k){this.unsubscribeFromRouteData(k),this.subscribeToRouteData(k)}unsubscribeFromRouteData(k){this.outletDataSubscriptions.get(k)?.unsubscribe(),this.outletDataSubscriptions.delete(k)}subscribeToRouteData(k){const{activatedRoute:W}=k,ce=(0,Te.a)([W.queryParams,W.params,W.data]).pipe((0,st.w)(([ve,Ge,$t],dt)=>($t={...ve,...Ge,...$t},0===dt?(0,Se.of)($t):Promise.resolve($t)))).subscribe(ve=>{if(!k.isActivated||!k.activatedComponentRef||k.activatedRoute!==W||null===W.component)return void this.unsubscribeFromRouteData(k);const Ge=(0,E.qFp)(W.component);if(Ge)for(const{templateName:$t}of Ge.inputs)k.activatedComponentRef.setInput($t,ve[$t]);else this.unsubscribeFromRouteData(k)});this.outletDataSubscriptions.set(k,ce)}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),P})();function Os(D,P,V){if(V&&D.shouldReuseRoute(P.value,V.value.snapshot)){const k=V.value;k._futureSnapshot=P.value;const W=function On(D,P,V){return P.children.map(k=>{for(const W of V.children)if(D.shouldReuseRoute(k.value,W.value.snapshot))return Os(D,k,W);return Os(D,k)})}(D,P,V);return new Qr(k,W)}{if(D.shouldAttach(P.value)){const ce=D.retrieve(P.value);if(null!==ce){const ve=ce.route;return ve.value._futureSnapshot=P.value,ve.children=P.children.map(Ge=>Os(D,Ge)),ve}}const k=function ha(D){return new fs(new Ae.X(D.url),new Ae.X(D.params),new Ae.X(D.queryParams),new Ae.X(D.fragment),new Ae.X(D.data),D.outlet,D.component,D)}(P.value),W=P.children.map(ce=>Os(D,ce));return new Qr(k,W)}}const eo="ngNavigationCancelingError";function Ps(D,P){const{redirectTo:V,navigationBehaviorOptions:k}=Ln(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,W=Di(!1,0,P);return W.url=V,W.navigationBehaviorOptions=k,W}function Di(D,P,V){const k=new Error("NavigationCancelingError: "+(D||""));return k[eo]=!0,k.cancellationCode=P,V&&(k.url=V),k}function pa(D){return D&&D[eo]}let to=(()=>{var D;class P{}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275cmp=E.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[E.jDz],decls:1,vars:0,template:function(k,W){1&k&&E._UZ(0,"router-outlet")},dependencies:[Hi],encapsulation:2}),P})();function ea(D){const P=D.children&&D.children.map(ea),V=P?{...D,children:P}:{...D};return!V.component&&!V.loadComponent&&(P||V.loadChildren)&&V.outlet&&V.outlet!==dn&&(V.component=to),V}function Kr(D){return D.outlet||dn}function no(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let P=D.parent;P;P=P.parent){const V=P.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class rl{constructor(P,V,k,W,ce){this.routeReuseStrategy=P,this.futureState=V,this.currState=k,this.forwardEvent=W,this.inputBindingEnabled=ce}activate(P){const V=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,k,P),Mr(this.futureState.root),this.activateChildRoutes(V,k,P)}deactivateChildRoutes(P,V,k){const W=pi(V);P.children.forEach(ce=>{const ve=ce.value.outlet;this.deactivateRoutes(ce,W[ve],k),delete W[ve]}),Object.values(W).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,k)})}deactivateRoutes(P,V,k){const W=P.value,ce=V?V.value:null;if(W===ce)if(W.component){const ve=k.getContext(W.outlet);ve&&this.deactivateChildRoutes(P,V,ve.children)}else this.deactivateChildRoutes(P,V,k);else ce&&this.deactivateRouteAndItsChildren(V,k)}deactivateRouteAndItsChildren(P,V){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,V):this.deactivateRouteAndOutlet(P,V)}detachAndStoreRouteSubtree(P,V){const k=V.getContext(P.value.outlet),W=k&&P.value.component?k.children:V,ce=pi(P);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],W);if(k&&k.outlet){const ve=k.outlet.detach(),Ge=k.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:ve,route:P,contexts:Ge})}}deactivateRouteAndOutlet(P,V){const k=V.getContext(P.value.outlet),W=k&&P.value.component?k.children:V,ce=pi(P);for(const ve of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[ve],W);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(P,V,k){const W=pi(V);P.children.forEach(ce=>{this.activateRoutes(ce,W[ce.value.outlet],k),this.forwardEvent(new To(ce.value.snapshot))}),P.children.length&&this.forwardEvent(new ar(P.value.snapshot))}activateRoutes(P,V,k){const W=P.value,ce=V?V.value:null;if(Mr(W),W===ce)if(W.component){const ve=k.getOrCreateContext(W.outlet);this.activateChildRoutes(P,V,ve.children)}else this.activateChildRoutes(P,V,k);else if(W.component){const ve=k.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Ge=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ve.children.onOutletReAttached(Ge.contexts),ve.attachRef=Ge.componentRef,ve.route=Ge.route.value,ve.outlet&&ve.outlet.attach(Ge.componentRef,Ge.route.value),Mr(Ge.route.value),this.activateChildRoutes(P,null,ve.children)}else{const Ge=no(W.snapshot);ve.attachRef=null,ve.route=W,ve.injector=Ge,ve.outlet&&ve.outlet.activateWith(W,ve.injector),this.activateChildRoutes(P,null,ve.children)}}else this.activateChildRoutes(P,null,k)}}class ps{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class rr{constructor(P,V){this.component=P,this.route=V}}function il(D,P,V){const k=D._root;return os(k,P?P._root:null,V,[k.value])}function Ns(D,P){const V=Symbol(),k=P.get(D,V);return k===V?"function"!=typeof D||(0,E.Z0I)(D)?P.get(D):D:k}function os(D,P,V,k,W={canDeactivateChecks:[],canActivateChecks:[]}){const ce=pi(P);return D.children.forEach(ve=>{(function lo(D,P,V,k,W={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,ve=P?P.value:null,Ge=V?V.getContext(D.value.outlet):null;if(ve&&ce.routeConfig===ve.routeConfig){const $t=function Bo(D,P,V){if("function"==typeof V)return V(D,P);switch(V){case"pathParamsChange":return!Vi(D.url,P.url);case"pathParamsOrQueryParamsChange":return!Vi(D.url,P.url)||!Dr(D.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ti(D,P)||!Dr(D.queryParams,P.queryParams);default:return!Ti(D,P)}}(ve,ce,ce.routeConfig.runGuardsAndResolvers);$t?W.canActivateChecks.push(new ps(k)):(ce.data=ve.data,ce._resolvedData=ve._resolvedData),os(D,P,ce.component?Ge?Ge.children:null:V,k,W),$t&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&W.canDeactivateChecks.push(new rr(Ge.outlet.component,ve))}else ve&&Na(P,Ge,W),W.canActivateChecks.push(new ps(k)),os(D,null,ce.component?Ge?Ge.children:null:V,k,W)})(ve,ce[ve.value.outlet],V,k.concat([ve.value]),W),delete ce[ve.value.outlet]}),Object.entries(ce).forEach(([ve,Ge])=>Na(Ge,V.getContext(ve),W)),W}function Na(D,P,V){const k=pi(D),W=D.value;Object.entries(k).forEach(([ce,ve])=>{Na(ve,W.component?P?P.children.getContext(ce):null:P,V)}),V.canDeactivateChecks.push(new rr(W.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,W))}function Fa(D){return"function"==typeof D}function sc(D){return D instanceof je.K||"EmptyError"===D?.name}const So=Symbol("INITIAL_VALUE");function xs(){return(0,st.w)(D=>(0,Te.a)(D.map(P=>P.pipe((0,Dt.q)(1),(0,St.O)(So)))).pipe((0,ke.U)(P=>{for(const V of P)if(!0!==V){if(V===So)return So;if(!1===V||V instanceof fi)return V}return!0}),(0,tn.h)(P=>P!==So),(0,Dt.q)(1)))}function gs(D){return(0,ht.z)((0,Or.b)(P=>{if(Ln(P))throw Ps(0,P)}),(0,ke.U)(P=>!0===P))}class Ho{constructor(P){this.segmentGroup=P||null}}class Zr{constructor(P){this.urlTree=P}}function Ji(D){return(0,nt._)(new Ho(D))}function ui(D){return(0,nt._)(new Zr(D))}class Ta{constructor(P,V){this.urlSerializer=P,this.urlTree=V}noMatchError(P){return new E.vHH(4002,!1)}lineralizeSegments(P,V){let k=[],W=V.root;for(;;){if(k=k.concat(W.segments),0===W.numberOfChildren)return(0,Se.of)(k);if(W.numberOfChildren>1||!W.children[dn])return(0,nt._)(new E.vHH(4e3,!1));W=W.children[dn]}}applyRedirectCommands(P,V,k){return this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),P,k)}applyRedirectCreateUrlTree(P,V,k,W){const ce=this.createSegmentGroup(P,V.root,k,W);return new fi(ce,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams(P,V){const k={};return Object.entries(P).forEach(([W,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const Ge=ce.substring(1);k[W]=V[Ge]}else k[W]=ce}),k}createSegmentGroup(P,V,k,W){const ce=this.createSegments(P,V.segments,k,W);let ve={};return Object.entries(V.children).forEach(([Ge,$t])=>{ve[Ge]=this.createSegmentGroup(P,$t,k,W)}),new Dn(ce,ve)}createSegments(P,V,k,W){return V.map(ce=>ce.path.startsWith(":")?this.findPosParam(P,ce,W):this.findOrReturn(ce,k))}findPosParam(P,V,k){const W=k[V.path.substring(1)];if(!W)throw new E.vHH(4001,!1);return W}findOrReturn(P,V){let k=0;for(const W of V){if(W.path===P.path)return V.splice(k),W;k++}return P}}const as={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wl(D,P,V,k,W){const ce=na(D,P,V);return ce.matched?(k=function Jo(D,P){return D.providers&&!D._injector&&(D._injector=(0,E.MMx)(D.providers,P,`Route: ${D.path}`)),D._injector??P}(P,k),function uo(D,P,V,k){const W=P.canMatch;if(!W||0===W.length)return(0,Se.of)(!0);const ce=W.map(ve=>{const Ge=Ns(ve,D);return Fr(function sl(D){return D&&Fa(D.canMatch)}(Ge)?Ge.canMatch(P,V):D.runInContext(()=>Ge(P,V)))});return(0,Se.of)(ce).pipe(xs(),gs())}(k,P,V).pipe((0,ke.U)(ve=>!0===ve?ce:{...as}))):(0,Se.of)(ce)}function na(D,P,V){if(""===P.path)return"full"===P.pathMatch&&(D.hasChildren()||V.length>0)?{...as}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const W=(P.matcher||Er)(V,D,P);if(!W)return{...as};const ce={};Object.entries(W.posParams??{}).forEach(([Ge,$t])=>{ce[Ge]=$t.path});const ve=W.consumed.length>0?{...ce,...W.consumed[W.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:W.consumed,remainingSegments:V.slice(W.consumed.length),parameters:ve,positionalParamSegments:W.posParams??{}}}function Ai(D,P,V,k){return V.length>0&&function ho(D,P,V){return V.some(k=>al(D,P,k)&&Kr(k)!==dn)}(D,V,k)?{segmentGroup:new Dn(P,ki(k,new Dn(V,D.children))),slicedSegments:[]}:0===V.length&&function lr(D,P,V){return V.some(k=>al(D,P,k))}(D,V,k)?{segmentGroup:new Dn(D.segments,Ao(D,0,V,k,D.children)),slicedSegments:V}:{segmentGroup:new Dn(D.segments,D.children),slicedSegments:V}}function Ao(D,P,V,k,W){const ce={};for(const ve of k)if(al(D,V,ve)&&!W[Kr(ve)]){const Ge=new Dn([],{});ce[Kr(ve)]=Ge}return{...W,...ce}}function ki(D,P){const V={};V[dn]=P;for(const k of D)if(""===k.path&&Kr(k)!==dn){const W=new Dn([],{});V[Kr(k)]=W}return V}function al(D,P,V){return(!(D.hasChildren()||P.length>0)||"full"!==V.pathMatch)&&""===V.path}class ll{constructor(P,V,k,W,ce,ve,Ge){this.injector=P,this.configLoader=V,this.rootComponentType=k,this.config=W,this.urlTree=ce,this.paramsInheritanceStrategy=ve,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new Ta(this.urlSerializer,this.urlTree)}noMatchError(P){return new E.vHH(4002,!1)}recognize(){const P=Ai(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,dn).pipe((0,Ci.K)(V=>{if(V instanceof Zr)return this.allowRedirects=!1,this.urlTree=V.urlTree,this.match(V.urlTree);throw V instanceof Ho?this.noMatchError(V):V}),(0,ke.U)(V=>{const k=new nl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,{}),W=new Qr(k,V),ce=new qr("",W),ve=function wr(D,P,V=null,k=null){return Bs(Us(D),P,V,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(ce._root),{state:ce,tree:ve}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P.root,dn).pipe((0,Ci.K)(k=>{throw k instanceof Ho?this.noMatchError(k):k}))}inheritParamsAndData(P){const V=P.value,k=Ia(V,this.paramsInheritanceStrategy);V.params=Object.freeze(k.params),V.data=Object.freeze(k.data),P.children.forEach(W=>this.inheritParamsAndData(W))}processSegmentGroup(P,V,k,W){return 0===k.segments.length&&k.hasChildren()?this.processChildren(P,V,k):this.processSegment(P,V,k,k.segments,W,!0)}processChildren(P,V,k){const W=[];for(const ce of Object.keys(k.children))"primary"===ce?W.unshift(ce):W.push(ce);return(0,_e.D)(W).pipe((0,Gn.b)(ce=>{const ve=k.children[ce],Ge=function ks(D,P){const V=D.filter(k=>Kr(k)===P);return V.push(...D.filter(k=>Kr(k)!==P)),V}(V,ce);return this.processSegmentGroup(P,Ge,ve,ce)}),(0,oi.R)((ce,ve)=>(ce.push(...ve),ce)),(0,vi.d)(null),function ct(D,P){const V=arguments.length>=2;return k=>k.pipe(D?(0,tn.h)((W,ce)=>D(W,ce,k)):tt.y,xr(1),V?(0,vi.d)(P):(0,Qe.T)(()=>new je.K))}(),(0,an.z)(ce=>{if(null===ce)return Ji(k);const ve=es(ce);return function Da(D){D.sort((P,V)=>P.value.outlet===dn?-1:V.value.outlet===dn?1:P.value.outlet.localeCompare(V.value.outlet))}(ve),(0,Se.of)(ve)}))}processSegment(P,V,k,W,ce,ve){return(0,_e.D)(V).pipe((0,Gn.b)(Ge=>this.processSegmentAgainstRoute(Ge._injector??P,V,Ge,k,W,ce,ve).pipe((0,Ci.K)($t=>{if($t instanceof Ho)return(0,Se.of)(null);throw $t}))),(0,$n.P)(Ge=>!!Ge),(0,Ci.K)(Ge=>{if(sc(Ge))return function zi(D,P,V){return 0===P.length&&!D.children[V]}(k,W,ce)?(0,Se.of)([]):Ji(k);throw Ge}))}processSegmentAgainstRoute(P,V,k,W,ce,ve,Ge){return function Va(D,P,V,k){return!!(Kr(D)===k||k!==dn&&al(P,V,D))&&("**"===D.path||na(P,D,V).matched)}(k,W,ce,ve)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(P,W,k,ce,ve,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,W,V,k,ce,ve):Ji(W):Ji(W)}expandSegmentAgainstRouteUsingRedirect(P,V,k,W,ce,ve){return"**"===W.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,k,W,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(P,V,k,W,ce,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,V,k,W){const ce=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?ui(ce):this.applyRedirects.lineralizeSegments(k,ce).pipe((0,an.z)(ve=>{const Ge=new Dn(ve,{});return this.processSegment(P,V,Ge,ve,W,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,V,k,W,ce,ve){const{matched:Ge,consumedSegments:$t,remainingSegments:dt,positionalParamSegments:Nn}=na(V,W,ce);if(!Ge)return Ji(V);const tr=this.applyRedirects.applyRedirectCommands($t,W.redirectTo,Nn);return W.redirectTo.startsWith("/")?ui(tr):this.applyRedirects.lineralizeSegments(W,tr).pipe((0,an.z)(gn=>this.processSegment(P,k,V,gn.concat(dt),ve,!1)))}matchSegmentAgainstRoute(P,V,k,W,ce,ve){let Ge;if("**"===k.path){const $t=W.length>0?Yr(W).parameters:{},dt=new nl(W,$t,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(k),Kr(k),k.component??k._loadedComponent??null,k,mi(k));Ge=(0,Se.of)({snapshot:dt,consumedSegments:[],remainingSegments:[]}),V.children={}}else Ge=wl(V,k,W,P).pipe((0,ke.U)(({matched:$t,consumedSegments:dt,remainingSegments:Nn,parameters:tr})=>$t?{snapshot:new nl(dt,tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mo(k),Kr(k),k.component??k._loadedComponent??null,k,mi(k)),consumedSegments:dt,remainingSegments:Nn}:null));return Ge.pipe((0,st.w)($t=>null===$t?Ji(V):this.getChildConfig(P=k._injector??P,k,W).pipe((0,st.w)(({routes:dt})=>{const Nn=k._loadedInjector??P,{snapshot:tr,consumedSegments:gn,remainingSegments:Rr}=$t,{segmentGroup:go,slicedSegments:ii}=Ai(V,gn,Rr,dt);if(0===ii.length&&go.hasChildren())return this.processChildren(Nn,dt,go).pipe((0,ke.U)(Po=>null===Po?null:[new Qr(tr,Po)]));if(0===dt.length&&0===ii.length)return(0,Se.of)([new Qr(tr,[])]);const In=Kr(k)===ce;return this.processSegment(Nn,dt,go,ii,In?dn:ce,!0).pipe((0,ke.U)(Po=>[new Qr(tr,Po)]))}))))}getChildConfig(P,V,k){return V.children?(0,Se.of)({routes:V.children,injector:P}):V.loadChildren?void 0!==V._loadedRoutes?(0,Se.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function jo(D,P,V,k){const W=P.canLoad;if(void 0===W||0===W.length)return(0,Se.of)(!0);const ce=W.map(ve=>{const Ge=Ns(ve,D);return Fr(function Hs(D){return D&&Fa(D.canLoad)}(Ge)?Ge.canLoad(P,V):D.runInContext(()=>Ge(P,V)))});return(0,Se.of)(ce).pipe(xs(),gs())}(P,V,k).pipe((0,an.z)(W=>W?this.configLoader.loadChildren(P,V).pipe((0,Or.b)(ce=>{V._loadedRoutes=ce.routes,V._loadedInjector=ce.injector})):function Dc(D){return(0,nt._)(Di(!1,3))}())):(0,Se.of)({routes:[],injector:P})}}function $s(D){const P=D.value.routeConfig;return P&&""===P.path}function es(D){const P=[],V=new Set;for(const k of D){if(!$s(k)){P.push(k);continue}const W=P.find(ce=>k.value.routeConfig===ce.value.routeConfig);void 0!==W?(W.children.push(...k.children),V.add(W)):P.push(k)}for(const k of V){const W=es(k.children);P.push(new Qr(k.value,W))}return P.filter(k=>!V.has(k))}function Mo(D){return D.data||{}}function mi(D){return D.resolve||{}}function cl(D){return"string"==typeof D.title||null===D.title}function M(D){return(0,st.w)(P=>{const V=D(P);return V?(0,_e.D)(V).pipe((0,ke.U)(()=>P)):(0,Se.of)(P)})}const q=new E.OlP("ROUTES");let ye=(()=>{var D;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,E.f3M)(E.Sil)}loadComponent(k){if(this.componentLoaders.get(k))return this.componentLoaders.get(k);if(k._loadedComponent)return(0,Se.of)(k._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(k);const W=Fr(k.loadComponent()).pipe((0,ke.U)(me),(0,Or.b)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(k),k._loadedComponent=ve}),(0,It.x)(()=>{this.componentLoaders.delete(k)})),ce=new Yt(W,()=>new Ve.x).pipe(sn());return this.componentLoaders.set(k,ce),ce}loadChildren(k,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,Se.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const ve=this.loadModuleFactoryOrRoutes(W.loadChildren).pipe((0,ke.U)($t=>{this.onLoadEndListener&&this.onLoadEndListener(W);let dt,Nn;return Array.isArray($t)?Nn=$t:(dt=$t.create(k).injector,Nn=dt.get(q,[],E.XFs.Self|E.XFs.Optional).flat()),{routes:Nn.map(ea),injector:dt}}),(0,It.x)(()=>{this.childrenLoaders.delete(W)})),Ge=new Yt(ve,()=>new Ve.x).pipe(sn());return this.childrenLoaders.set(W,Ge),Ge}loadModuleFactoryOrRoutes(k){return Fr(k()).pipe((0,ke.U)(me),(0,an.z)(W=>W instanceof E.YKP||Array.isArray(W)?(0,Se.of)(W):(0,_e.D)(this.compiler.compileModuleAsync(W))))}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function me(D){return function z(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let Re=(()=>{var D;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve.x,this.transitionAbortSubject=new Ve.x,this.configLoader=(0,E.f3M)(ye),this.environmentInjector=(0,E.f3M)(E.lqb),this.urlSerializer=(0,E.f3M)(Ui),this.rootContexts=(0,E.f3M)(Xo),this.inputBindingEnabled=null!==(0,E.f3M)(ss,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ce=>this.events.next(new Un(ce)),this.configLoader.onLoadStartListener=ce=>this.events.next(new wn(ce))}complete(){this.transitions?.complete()}handleNavigationRequest(k){const W=++this.navigationId;this.transitions?.next({...this.transitions.value,...k,id:W})}setupNavigations(k,W,ce){return this.transitions=new Ae.X({id:0,currentUrlTree:W,currentRawUrl:W,currentBrowserUrl:W,extractedUrl:k.urlHandlingStrategy.extract(W),urlAfterRedirects:k.urlHandlingStrategy.extract(W),rawUrl:W,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ai,restoredState:null,currentSnapshot:ce.snapshot,targetSnapshot:null,currentRouterState:ce,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tn.h)(ve=>0!==ve.id),(0,ke.U)(ve=>({...ve,extractedUrl:k.urlHandlingStrategy.extract(ve.rawUrl)})),(0,st.w)(ve=>{this.currentTransition=ve;let Ge=!1,$t=!1;return(0,Se.of)(ve).pipe((0,Or.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,st.w)(dt=>{const Nn=dt.currentBrowserUrl.toString(),tr=!k.navigated||dt.extractedUrl.toString()!==Nn||Nn!==dt.currentUrlTree.toString();if(!tr&&"reload"!==(dt.extras.onSameUrlNavigation??k.onSameUrlNavigation)){const Rr="";return this.events.next(new Hr(dt.id,this.urlSerializer.serialize(dt.rawUrl),Rr,0)),dt.resolve(null),yt.E}if(k.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return(0,Se.of)(dt).pipe((0,st.w)(Rr=>{const go=this.transitions?.getValue();return this.events.next(new Qo(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),Rr.source,Rr.restoredState)),go!==this.transitions?.getValue()?yt.E:Promise.resolve(Rr)}),function Ua(D,P,V,k,W,ce){return(0,an.z)(ve=>function oc(D,P,V,k,W,ce,ve="emptyOnly"){return new ll(D,P,V,k,W,ve,ce).recognize()}(D,P,V,k,ve.extractedUrl,W,ce).pipe((0,ke.U)(({state:Ge,tree:$t})=>({...ve,targetSnapshot:Ge,urlAfterRedirects:$t}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,k.config,this.urlSerializer,k.paramsInheritanceStrategy),(0,Or.b)(Rr=>{ve.targetSnapshot=Rr.targetSnapshot,ve.urlAfterRedirects=Rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rr.urlAfterRedirects};const go=new Ne(Rr.id,this.urlSerializer.serialize(Rr.extractedUrl),this.urlSerializer.serialize(Rr.urlAfterRedirects),Rr.targetSnapshot);this.events.next(go)}));if(tr&&k.urlHandlingStrategy.shouldProcessUrl(dt.currentRawUrl)){const{id:Rr,extractedUrl:go,source:ii,restoredState:In,extras:Po}=dt,Gr=new Qo(Rr,this.urlSerializer.serialize(go),ii,In);this.events.next(Gr);const _o=kr(0,this.rootComponentType).snapshot;return this.currentTransition=ve={...dt,targetSnapshot:_o,urlAfterRedirects:go,extras:{...Po,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(ve)}{const Rr="";return this.events.next(new Hr(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Rr,1)),dt.resolve(null),yt.E}}),(0,Or.b)(dt=>{const Nn=new Ye(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Nn)}),(0,ke.U)(dt=>(this.currentTransition=ve={...dt,guards:il(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)},ve)),function Bl(D,P){return(0,an.z)(V=>{const{targetSnapshot:k,currentSnapshot:W,guards:{canActivateChecks:ce,canDeactivateChecks:ve}}=V;return 0===ve.length&&0===ce.length?(0,Se.of)({...V,guardsResult:!0}):function co(D,P,V,k){return(0,_e.D)(D).pipe((0,an.z)(W=>function Si(D,P,V,k,W){const ce=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,Se.of)(!0);const ve=ce.map(Ge=>{const $t=no(P)??W,dt=Ns(Ge,$t);return Fr(function ic(D){return D&&Fa(D.canDeactivate)}(dt)?dt.canDeactivate(D,P,V,k):$t.runInContext(()=>dt(D,P,V,k))).pipe((0,$n.P)())});return(0,Se.of)(ve).pipe(xs())}(W.component,W.route,V,P,k)),(0,$n.P)(W=>!0!==W,!0))}(ve,k,W,D).pipe((0,an.z)(Ge=>Ge&&function rc(D){return"boolean"==typeof D}(Ge)?function El(D,P,V,k){return(0,_e.D)(P).pipe((0,Gn.b)(W=>(0,fe.z)(function ol(D,P){return null!==D&&P&&P(new zr(D)),(0,Se.of)(!0)}(W.route.parent,k),function Xr(D,P){return null!==D&&P&&P(new ji(D)),(0,Se.of)(!0)}(W.route,k),function jl(D,P,V){const k=P[P.length-1],ce=P.slice(0,P.length-1).reverse().map(ve=>function ta(D){const P=D.routeConfig?D.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:D,guards:P}:null}(ve)).filter(ve=>null!==ve).map(ve=>Fe(()=>{const Ge=ve.guards.map($t=>{const dt=no(ve.node)??V,Nn=Ns($t,dt);return Fr(function xc(D){return D&&Fa(D.canActivateChild)}(Nn)?Nn.canActivateChild(k,D):dt.runInContext(()=>Nn(k,D))).pipe((0,$n.P)())});return(0,Se.of)(Ge).pipe(xs())}));return(0,Se.of)(ce).pipe(xs())}(D,W.path,V),function ms(D,P,V){const k=P.routeConfig?P.routeConfig.canActivate:null;if(!k||0===k.length)return(0,Se.of)(!0);const W=k.map(ce=>Fe(()=>{const ve=no(P)??V,Ge=Ns(ce,ve);return Fr(function La(D){return D&&Fa(D.canActivate)}(Ge)?Ge.canActivate(P,D):ve.runInContext(()=>Ge(P,D))).pipe((0,$n.P)())}));return(0,Se.of)(W).pipe(xs())}(D,W.route,V))),(0,$n.P)(W=>!0!==W,!0))}(k,ce,D,P):(0,Se.of)(Ge)),(0,ke.U)(Ge=>({...V,guardsResult:Ge})))})}(this.environmentInjector,dt=>this.events.next(dt)),(0,Or.b)(dt=>{if(ve.guardsResult=dt.guardsResult,Ln(dt.guardsResult))throw Ps(0,dt.guardsResult);const Nn=new vt(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.events.next(Nn)}),(0,tn.h)(dt=>!!dt.guardsResult||(this.cancelNavigationTransition(dt,"",3),!1)),M(dt=>{if(dt.guards.canActivateChecks.length)return(0,Se.of)(dt).pipe((0,Or.b)(Nn=>{const tr=new Vt(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(tr)}),(0,st.w)(Nn=>{let tr=!1;return(0,Se.of)(Nn).pipe(function Ba(D,P){return(0,an.z)(V=>{const{targetSnapshot:k,guards:{canActivateChecks:W}}=V;if(!W.length)return(0,Se.of)(V);let ce=0;return(0,_e.D)(W).pipe((0,Gn.b)(ve=>function Il(D,P,V,k){const W=D.routeConfig,ce=D._resolve;return void 0!==W?.title&&!cl(W)&&(ce[mn]=W.title),function ls(D,P,V,k){const W=function ja(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===W.length)return(0,Se.of)({});const ce={};return(0,_e.D)(W).pipe((0,an.z)(ve=>function Ro(D,P,V,k){const W=no(P)??k,ce=Ns(D,W);return Fr(ce.resolve?ce.resolve(P,V):W.runInContext(()=>ce(P,V)))}(D[ve],P,V,k).pipe((0,$n.P)(),(0,Or.b)(Ge=>{ce[ve]=Ge}))),xr(1),function ot(D){return(0,ke.U)(()=>D)}(ce),(0,Ci.K)(ve=>sc(ve)?yt.E:(0,nt._)(ve)))}(ce,D,P,k).pipe((0,ke.U)(ve=>(D._resolvedData=ve,D.data=Ia(D,V).resolve,W&&cl(W)&&(D.data[mn]=W.title),null)))}(ve.route,k,D,P)),(0,Or.b)(()=>ce++),xr(1),(0,an.z)(ve=>ce===W.length?(0,Se.of)(V):yt.E))})}(k.paramsInheritanceStrategy,this.environmentInjector),(0,Or.b)({next:()=>tr=!0,complete:()=>{tr||this.cancelNavigationTransition(Nn,"",2)}}))}),(0,Or.b)(Nn=>{const tr=new cn(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(tr)}))}),M(dt=>{const Nn=tr=>{const gn=[];tr.routeConfig?.loadComponent&&!tr.routeConfig._loadedComponent&&gn.push(this.configLoader.loadComponent(tr.routeConfig).pipe((0,Or.b)(Rr=>{tr.component=Rr}),(0,ke.U)(()=>{})));for(const Rr of tr.children)gn.push(...Nn(Rr));return gn};return(0,Te.a)(Nn(dt.targetSnapshot.root)).pipe((0,vi.d)(),(0,Dt.q)(1))}),M(()=>this.afterPreactivation()),(0,ke.U)(dt=>{const Nn=function Xi(D,P,V){const k=Os(D,P._root,V?V._root:void 0);return new Js(k,P)}(k.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return this.currentTransition=ve={...dt,targetRouterState:Nn},ve}),(0,Or.b)(()=>{this.events.next(new Is)}),((D,P,V,k)=>(0,ke.U)(W=>(new rl(P,W.targetRouterState,W.currentRouterState,V,k).activate(D),W)))(this.rootContexts,k.routeReuseStrategy,dt=>this.events.next(dt),this.inputBindingEnabled),(0,Dt.q)(1),(0,Or.b)({next:dt=>{Ge=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hs(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects))),k.titleStrategy?.updateTitle(dt.targetRouterState.snapshot),dt.resolve(!0)},complete:()=>{Ge=!0}}),(0,Pt.R)(this.transitionAbortSubject.pipe((0,Or.b)(dt=>{throw dt}))),(0,It.x)(()=>{Ge||$t||this.cancelNavigationTransition(ve,"",1),this.currentNavigation?.id===ve.id&&(this.currentNavigation=null)}),(0,Ci.K)(dt=>{if($t=!0,pa(dt))this.events.next(new ca(ve.id,this.urlSerializer.serialize(ve.extractedUrl),dt.message,dt.cancellationCode)),function fa(D){return pa(D)&&Ln(D.url)}(dt)?this.events.next(new wa(dt.url)):ve.resolve(!1);else{this.events.next(new Le(ve.id,this.urlSerializer.serialize(ve.extractedUrl),dt,ve.targetSnapshot??void 0));try{ve.resolve(k.errorHandler(dt))}catch(Nn){ve.reject(Nn)}}return yt.E}))}))}cancelNavigationTransition(k,W,ce){const ve=new ca(k.id,this.urlSerializer.serialize(k.extractedUrl),W,ce);this.events.next(ve),k.resolve(!1)}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function ut(D){return D!==ai}let zt=(()=>{var D;class P{buildTitle(k){let W,ce=k.root;for(;void 0!==ce;)W=this.getResolvedTitleForRoute(ce)??W,ce=ce.children.find(ve=>ve.outlet===dn);return W}getResolvedTitleForRoute(k){return k.data[mn]}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(ir)},providedIn:"root"}),P})(),ir=(()=>{var D;class P extends zt{constructor(k){super(),this.title=k}updateTitle(k){const W=this.buildTitle(k);void 0!==W&&this.title.setTitle(W)}}return(D=P).\u0275fac=function(k){return new(k||D)(E.LFG(Bt.Dx))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})(),yr=(()=>{var D;class P{}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(pr)},providedIn:"root"}),P})();class $r{shouldDetach(P){return!1}store(P,V){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,V){return P.routeConfig===V.routeConfig}}let pr=(()=>{var D;class P extends $r{}return(D=P).\u0275fac=function(){let V;return function(W){return(V||(V=E.n5z(D)))(W||D)}}(),D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const Mi=new E.OlP("",{providedIn:"root",factory:()=>({})});let di=(()=>{var D;class P{}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:function(){return(0,E.f3M)(_s)},providedIn:"root"}),P})(),_s=(()=>{var D;class P{shouldProcessUrl(k){return!0}extract(k){return k}merge(k,W){return k}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();var ro=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(ro||{});function ra(D,P){D.events.pipe((0,tn.h)(V=>V instanceof hs||V instanceof ca||V instanceof Le||V instanceof Hr),(0,ke.U)(V=>V instanceof hs||V instanceof Hr?ro.COMPLETE:V instanceof ca&&(0===V.code||1===V.code)?ro.REDIRECTING:ro.FAILED),(0,tn.h)(V=>V!==ro.REDIRECTING),(0,Dt.q)(1)).subscribe(()=>{P()})}function ia(D){throw D}function $o(D,P,V){return P.parse("/")}const Ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{var D;class P{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,E.f3M)(E.c2e),this.isNgZoneEnabled=!1,this._events=new Ve.x,this.options=(0,E.f3M)(Mi,{optional:!0})||{},this.pendingTasks=(0,E.f3M)(E.HDt),this.errorHandler=this.options.errorHandler||ia,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$o,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,E.f3M)(di),this.routeReuseStrategy=(0,E.f3M)(yr),this.titleStrategy=(0,E.f3M)(zt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,E.f3M)(q,{optional:!0})?.flat()??[],this.navigationTransitions=(0,E.f3M)(Re),this.urlSerializer=(0,E.f3M)(Ui),this.location=(0,E.f3M)(lt.Ye),this.componentInputBindingEnabled=!!(0,E.f3M)(ss,{optional:!0}),this.eventsSubscription=new ft.w0,this.isNgZoneEnabled=(0,E.f3M)(E.R0b)instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(k=>{this.lastSuccessfulId=k.id,this.currentPageId=this.browserPageId},k=>{this.console.warn(`Unhandled Navigation Error: ${k}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const k=this.navigationTransitions.events.subscribe(W=>{try{const{currentTransition:ce}=this.navigationTransitions;if(null===ce)return void(Sc(W)&&this._events.next(W));if(W instanceof Qo)ut(ce.source)&&(this.browserUrlTree=ce.extractedUrl);else if(W instanceof Hr)this.rawUrlTree=ce.rawUrl;else if(W instanceof Ne){if("eager"===this.urlUpdateStrategy){if(!ce.extras.skipLocationChange){const ve=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl);this.setBrowserUrl(ve,ce)}this.browserUrlTree=ce.urlAfterRedirects}}else if(W instanceof Is)this.currentUrlTree=ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),this.routerState=ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ce),this.browserUrlTree=ce.urlAfterRedirects);else if(W instanceof ca)0!==W.code&&1!==W.code&&(this.navigated=!0),(3===W.code||2===W.code)&&this.restoreHistory(ce);else if(W instanceof wa){const ve=this.urlHandlingStrategy.merge(W.url,ce.currentRawUrl),Ge={skipLocationChange:ce.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ut(ce.source)};this.scheduleNavigation(ve,ai,null,Ge,{resolve:ce.resolve,reject:ce.reject,promise:ce.promise})}W instanceof Le&&this.restoreHistory(ce,!0),W instanceof hs&&(this.navigated=!0),Sc(W)&&this._events.next(W)}catch(ce){this.navigationTransitions.transitionAbortSubject.next(ce)}});this.eventsSubscription.add(k)}resetRootComponentType(k){this.routerState.root.component=k,this.navigationTransitions.rootComponentType=k}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const k=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ai,k)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(k=>{const W="popstate"===k.type?"popstate":"hashchange";"popstate"===W&&setTimeout(()=>{this.navigateToSyncWithBrowser(k.url,W,k.state)},0)}))}navigateToSyncWithBrowser(k,W,ce){const ve={replaceUrl:!0},Ge=ce?.navigationId?ce:null;if(ce){const dt={...ce};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(ve.state=dt)}const $t=this.parseUrl(k);this.scheduleNavigation($t,W,Ge,ve)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(k){this.config=k.map(ea),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(k,W={}){const{relativeTo:ce,queryParams:ve,fragment:Ge,queryParamsHandling:$t,preserveFragment:dt}=W,Nn=dt?this.currentUrlTree.fragment:Ge;let gn,tr=null;switch($t){case"merge":tr={...this.currentUrlTree.queryParams,...ve};break;case"preserve":tr=this.currentUrlTree.queryParams;break;default:tr=ve||null}null!==tr&&(tr=this.removeEmptyProps(tr));try{gn=Us(ce?ce.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof k[0]||!k[0].startsWith("/"))&&(k=[]),gn=this.currentUrlTree.root}return Bs(gn,k,tr,Nn??null)}navigateByUrl(k,W={skipLocationChange:!1}){const ce=Ln(k)?k:this.parseUrl(k),ve=this.urlHandlingStrategy.merge(ce,this.rawUrlTree);return this.scheduleNavigation(ve,ai,null,W)}navigate(k,W={skipLocationChange:!1}){return function gi(D){for(let P=0;P<D.length;P++)if(null==D[P])throw new E.vHH(4008,!1)}(k),this.navigateByUrl(this.createUrlTree(k,W),W)}serializeUrl(k){return this.urlSerializer.serialize(k)}parseUrl(k){let W;try{W=this.urlSerializer.parse(k)}catch(ce){W=this.malformedUriErrorHandler(ce,this.urlSerializer,k)}return W}isActive(k,W){let ce;if(ce=!0===W?{...Ts}:!1===W?{...ma}:W,Ln(k))return Li(this.currentUrlTree,k,ce);const ve=this.parseUrl(k);return Li(this.currentUrlTree,ve,ce)}removeEmptyProps(k){return Object.keys(k).reduce((W,ce)=>{const ve=k[ce];return null!=ve&&(W[ce]=ve),W},{})}scheduleNavigation(k,W,ce,ve,Ge){if(this.disposed)return Promise.resolve(!1);let $t,dt,Nn;Ge?($t=Ge.resolve,dt=Ge.reject,Nn=Ge.promise):Nn=new Promise((gn,Rr)=>{$t=gn,dt=Rr});const tr=this.pendingTasks.add();return ra(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(tr))}),this.navigationTransitions.handleNavigationRequest({source:W,restoredState:ce,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:k,extras:ve,resolve:$t,reject:dt,promise:Nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nn.catch(gn=>Promise.reject(gn))}setBrowserUrl(k,W){const ce=this.urlSerializer.serialize(k);if(this.location.isCurrentPathEqualTo(ce)||W.extras.replaceUrl){const Ge={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId)};this.location.replaceState(ce,"",Ge)}else{const ve={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId+1)};this.location.go(ce,"",ve)}}restoreHistory(k,W=!1){if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-this.browserPageId;0!==ve?this.location.historyGo(ve):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ve&&(this.resetState(k),this.browserUrlTree=k.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(k),this.resetUrlToCurrentUrlTree())}resetState(k){this.routerState=k.currentRouterState,this.currentUrlTree=k.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(k,W){return"computed"===this.canceledNavigationResolution?{navigationId:k,\u0275routerPageId:W}:{navigationId:k}}}return(D=P).\u0275fac=function(k){return new(k||D)},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();function Sc(D){return!(D instanceof Is||D instanceof wa)}let ul=(()=>{var D;class P{constructor(k,W,ce,ve,Ge,$t){this.router=k,this.route=W,this.tabIndexAttribute=ce,this.renderer=ve,this.el=Ge,this.locationStrategy=$t,this.href=null,this.commands=null,this.onChanges=new Ve.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const dt=Ge.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=k.events.subscribe(Nn=>{Nn instanceof hs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(k){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",k)}ngOnChanges(k){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(k){null!=k?(this.commands=Array.isArray(k)?k:[k],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(k,W,ce,ve,Ge){return!!(null===this.urlTree||this.isAnchorElement&&(0!==k||W||ce||ve||Ge||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const k=null===this.href?null:(0,E.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",k)}applyAttributeValue(k,W){const ce=this.renderer,ve=this.el.nativeElement;null!==W?ce.setAttribute(ve,k,W):ce.removeAttribute(ve,k)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(D=P).\u0275fac=function(k){return new(k||D)(E.Y36(Ri),E.Y36(fs),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(lt.S$))},D.\u0275dir=E.lG2({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,W){1&k&&E.NdJ("click",function(ve){return W.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&k&&E.uIk("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",E.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",E.VuI],replaceUrl:["replaceUrl","replaceUrl",E.VuI],routerLink:"routerLink"},standalone:!0,features:[E.Xq5,E.TTD]}),P})();class Ac{}let Mc=(()=>{var D;class P{constructor(k,W,ce,ve,Ge){this.router=k,this.injector=ce,this.preloadingStrategy=ve,this.loader=Ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,tn.h)(k=>k instanceof hs),(0,Gn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(k,W){const ce=[];for(const ve of W){ve.providers&&!ve._injector&&(ve._injector=(0,E.MMx)(ve.providers,k,`Route: ${ve.path}`));const Ge=ve._injector??k,$t=ve._loadedInjector??Ge;(ve.loadChildren&&!ve._loadedRoutes&&void 0===ve.canLoad||ve.loadComponent&&!ve._loadedComponent)&&ce.push(this.preloadConfig(Ge,ve)),(ve.children||ve._loadedRoutes)&&ce.push(this.processRoutes($t,ve.children??ve._loadedRoutes))}return(0,_e.D)(ce).pipe((0,on.J)())}preloadConfig(k,W){return this.preloadingStrategy.preload(W,()=>{let ce;ce=W.loadChildren&&void 0===W.canLoad?this.loader.loadChildren(k,W):(0,Se.of)(null);const ve=ce.pipe((0,an.z)(Ge=>null===Ge?(0,Se.of)(void 0):(W._loadedRoutes=Ge.routes,W._loadedInjector=Ge.injector,this.processRoutes(Ge.injector??k,Ge.routes))));if(W.loadComponent&&!W._loadedComponent){const Ge=this.loader.loadComponent(W);return(0,_e.D)([ve,Ge]).pipe((0,on.J)())}return ve})}}return(D=P).\u0275fac=function(k){return new(k||D)(E.LFG(Ri),E.LFG(E.Sil),E.LFG(E.lqb),E.LFG(Ac),E.LFG(ye))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),P})();const Rc=new E.OlP("");let ku=(()=>{var D;class P{constructor(k,W,ce,ve,Ge={}){this.urlSerializer=k,this.transitions=W,this.viewportScroller=ce,this.zone=ve,this.options=Ge,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ge.scrollPositionRestoration=Ge.scrollPositionRestoration||"disabled",Ge.anchorScrolling=Ge.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(k=>{k instanceof Qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=k.navigationTrigger,this.restoredId=k.restoredState?k.restoredState.navigationId:0):k instanceof hs?(this.lastId=k.id,this.scheduleScrollEvent(k,this.urlSerializer.parse(k.urlAfterRedirects).fragment)):k instanceof Hr&&0===k.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(k,this.urlSerializer.parse(k.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(k=>{k instanceof js&&(k.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(k.position):k.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(k.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(k,W){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new js(k,"popstate"===this.lastSource?this.store[this.restoredId]:null,W))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(D=P).\u0275fac=function(k){E.$Z()},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac}),P})();function dl(D,P){return{\u0275kind:D,\u0275providers:P}}function qn(){const D=(0,E.f3M)(E.zs3);return P=>{const V=D.get(E.z2F);if(P!==V.components[0])return;const k=D.get(Ri),W=D.get(ac);1===D.get(Fu)&&k.initialNavigation(),D.get($l,null,E.XFs.Optional)?.setUpPreloading(),D.get(Rc,null,E.XFs.Optional)?.init(),k.resetRootComponentType(V.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const ac=new E.OlP("",{factory:()=>new Ve.x}),Fu=new E.OlP("",{providedIn:"root",factory:()=>1}),$l=new E.OlP("");function Oo(D){return dl(0,[{provide:$l,useExisting:Mc},{provide:Ac,useExisting:D}])}const Mt=new E.OlP("ROUTER_FORROOT_GUARD"),Lr=[lt.Ye,{provide:Ui,useClass:cr},Ri,Xo,{provide:fs,useFactory:function Nu(D){return D.routerState.root},deps:[Ri]},ye,[]];function Ds(){return new E.PXZ("Router",Ri)}let ga=(()=>{var D;class P{constructor(k){}static forRoot(k,W){return{ngModule:P,providers:[Lr,[],{provide:q,multi:!0,useValue:k},{provide:Mt,useFactory:Rt,deps:[[Ri,new E.FiY,new E.tp0]]},{provide:Mi,useValue:W||{}},W?.useHash?{provide:lt.S$,useClass:lt.Do}:{provide:lt.S$,useClass:lt.b0},{provide:Rc,useFactory:()=>{const D=(0,E.f3M)(lt.EM),P=(0,E.f3M)(E.R0b),V=(0,E.f3M)(Mi),k=(0,E.f3M)(Re),W=(0,E.f3M)(Ui);return V.scrollOffset&&D.setOffset(V.scrollOffset),new ku(W,k,D,P,V)}},W?.preloadingStrategy?Oo(W.preloadingStrategy).\u0275providers:[],{provide:E.PXZ,multi:!0,useFactory:Ds},W?.initialNavigation?kn(W):[],W?.bindToComponentInputs?dl(8,[ri,{provide:ss,useExisting:ri}]).\u0275providers:[],[{provide:po,useFactory:qn},{provide:E.tb,multi:!0,useExisting:po}]]}}static forChild(k){return{ngModule:P,providers:[{provide:q,multi:!0,useValue:k}]}}}return(D=P).\u0275fac=function(k){return new(k||D)(E.LFG(Mt,8))},D.\u0275mod=E.oAB({type:D}),D.\u0275inj=E.cJS({}),P})();function Rt(D){return"guarded"}function kn(D){return["disabled"===D.initialNavigation?dl(3,[{provide:E.ip1,multi:!0,useFactory:()=>{const P=(0,E.f3M)(Ri);return()=>{P.setUpLocationChangeListener()}}},{provide:Fu,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?dl(2,[{provide:Fu,useValue:0},{provide:E.ip1,multi:!0,deps:[E.zs3],useFactory:P=>{const V=P.get(lt.V_,Promise.resolve());return()=>V.then(()=>new Promise(k=>{const W=P.get(Ri),ce=P.get(ac);ra(W,()=>{k(!0)}),P.get(Re).afterPreactivation=()=>(k(!0),ce.closed?(0,Se.of)(void 0):ce),W.initialNavigation()}))}}]).\u0275providers:[]]}const po=new E.OlP("")},3106:(Jt,Ke,K)=>{K.d(Ke,{Z:()=>yt});var E=K(9058),se=K(4537),ie=K(534),_=K(7879);class _e{constructor(mt,pt){this._delegate=mt,this.firebase=pt,(0,ie._addComponent)(mt,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(mt,pt=ie._DEFAULT_ENTRY_NAME){var sn;this._delegate.checkDestroyed();const Yt=this._delegate.container.getProvider(mt);return!Yt.isInitialized()&&"EXPLICIT"===(null===(sn=Yt.getComponent())||void 0===sn?void 0:sn.instantiationMode)&&Yt.initialize(),Yt.getImmediate({identifier:pt})}_removeServiceInstance(mt,pt=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(pt)}_addComponent(mt){(0,ie._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,ie._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function je(){const ft=function Te(ft){const mt={},pt={__esModule:!0,initializeApp:function Ve(Dt,St={}){const tn=ie.initializeApp(Dt,St);if((0,E.r3)(mt,tn.name))return mt[tn.name];const an=new ft(tn,pt);return mt[tn.name]=an,an},app:Yt,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function ke(Dt){const St=Dt.name,tn=St.replace("-compat","");if(ie._registerComponent(Dt)&&"PUBLIC"===Dt.type){const an=($n=Yt())=>{if("function"!=typeof $n[tn])throw Ae.create("invalid-app-argument",{appName:St});return $n[tn]()};void 0!==Dt.serviceProps&&(0,E.ZB)(an,Dt.serviceProps),pt[tn]=an,ft.prototype[tn]=function(...$n){return this._getService.bind(this,St).apply(this,Dt.multipleInstances?$n:[])}}return"PUBLIC"===Dt.type?pt[tn]:null},removeApp:function sn(Dt){delete mt[Dt]},useAsService:function st(Dt,St){return"serverAuth"===St?null:St},modularAPIs:ie}};function Yt(Dt){if(!(0,E.r3)(mt,Dt=Dt||ie._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Dt});return mt[Dt]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function lt(){return Object.keys(mt).map(Dt=>mt[Dt])}}),Yt.App=ft,pt}(_e);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function mt(pt){(0,E.ZB)(ft,pt)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),ft}(),Ce=new _.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=fe;!function nt(ft){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",ft)}()},534:(Jt,Ke,K)=>{K.r(Ke),K.d(Ke,{FirebaseError:()=>_.ZR,SDK_VERSION:()=>ur,_DEFAULT_ENTRY_NAME:()=>nr,_addComponent:()=>or,_addOrOverwriteComponent:()=>Vi,_apps:()=>Dn,_clearComponents:()=>Ms,_components:()=>Zn,_getProvider:()=>Ui,_registerComponent:()=>Jn,_removeServiceInstance:()=>cr,deleteApp:()=>is,getApp:()=>xi,getApps:()=>bi,initializeApp:()=>Bi,onLog:()=>Rs,registerVersion:()=>ds,setLogLevel:()=>ws});var E=K(5861),se=K(4537),ie=K(7879),_=K(9058);const _e=(Xe,$e)=>$e.some(At=>Xe instanceof At);let Se,Ae;const fe=new WeakMap,Ce=new WeakMap,Fe=new WeakMap,ht=new WeakMap,nt=new WeakMap;let mt={get(Xe,$e,At){if(Xe instanceof IDBTransaction){if("done"===$e)return Ce.get(Xe);if("objectStoreNames"===$e)return Xe.objectStoreNames||Fe.get(Xe);if("store"===$e)return At.objectStoreNames[1]?void 0:At.objectStore(At.objectStoreNames[0])}return Ve(Xe[$e])},set:(Xe,$e,At)=>(Xe[$e]=At,!0),has:(Xe,$e)=>Xe instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in Xe};function Yt(Xe){return"function"==typeof Xe?function sn(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...$e){return Xe.apply(lt(this),$e),Ve(fe.get(this))}:function(...$e){return Ve(Xe.apply(lt(this),$e))}:function($e,...At){const qt=Xe.call(lt(this),$e,...At);return Fe.set(qt,$e.sort?$e.sort():[$e]),Ve(qt)}}(Xe):(Xe instanceof IDBTransaction&&function ft(Xe){if(Ce.has(Xe))return;const $e=new Promise((At,qt)=>{const Nt=()=>{Xe.removeEventListener("complete",hn),Xe.removeEventListener("error",Vn),Xe.removeEventListener("abort",Vn)},hn=()=>{At(),Nt()},Vn=()=>{qt(Xe.error||new DOMException("AbortError","AbortError")),Nt()};Xe.addEventListener("complete",hn),Xe.addEventListener("error",Vn),Xe.addEventListener("abort",Vn)});Ce.set(Xe,$e)}(Xe),_e(Xe,function Te(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,mt):Xe)}function Ve(Xe){if(Xe instanceof IDBRequest)return function yt(Xe){const $e=new Promise((At,qt)=>{const Nt=()=>{Xe.removeEventListener("success",hn),Xe.removeEventListener("error",Vn)},hn=()=>{At(Ve(Xe.result)),Nt()},Vn=()=>{qt(Xe.error),Nt()};Xe.addEventListener("success",hn),Xe.addEventListener("error",Vn)});return $e.then(At=>{At instanceof IDBCursor&&fe.set(At,Xe)}).catch(()=>{}),nt.set($e,Xe),$e}(Xe);if(ht.has(Xe))return ht.get(Xe);const $e=Yt(Xe);return $e!==Xe&&(ht.set(Xe,$e),nt.set($e,Xe)),$e}const lt=Xe=>nt.get(Xe),Dt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],tn=new Map;function an(Xe,$e){var At;if(!(Xe instanceof IDBDatabase)||$e in Xe||"string"!=typeof $e)return;if(tn.get($e))return tn.get($e);const qt=$e.replace(/FromIndex$/,""),Nt=$e!==qt,hn=St.includes(qt);if(!(qt in(Nt?IDBIndex:IDBObjectStore).prototype)||!hn&&!Dt.includes(qt))return;const Vn=function(Wr){return(At=At||(0,E.Z)(function*(kt,...ni){const vr=this.transaction(kt,hn?"readwrite":"readonly");let Ar=vr.store;return Nt&&(Ar=Ar.index(ni.shift())),(yield Promise.all([Ar[qt](...ni),hn&&vr.done]))[0]})).apply(this,arguments)};return tn.set($e,Vn),Vn}var $n,Gn,Or;!function pt(Xe){mt=Xe(mt)}(Xe=>({...Xe,get:($e,At,qt)=>an($e,At)||Xe.get($e,At,qt),has:($e,At)=>!!an($e,At)||Xe.has($e,At)}));class Ci{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function oi(Xe){const $e=Xe.getComponent();return"VERSION"===$e?.type}(At)){const qt=At.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(At=>At).join(" ")}}const vi="@firebase/app",Qe=new ie.Yd("@firebase/app"),nr="[DEFAULT]",fi={[vi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,Zn=new Map;function or(Xe,$e){try{Xe.container.addComponent($e)}catch(At){Qe.debug(`Component ${$e.name} failed to register with FirebaseApp ${Xe.name}`,At)}}function Vi(Xe,$e){Xe.container.addOrOverwriteComponent($e)}function Jn(Xe){const $e=Xe.name;if(Zn.has($e))return Qe.debug(`There were multiple attempts to register component ${$e}.`),!1;Zn.set($e,Xe);for(const At of Dn.values())or(At,Xe);return!0}function Ui(Xe,$e){const At=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),Xe.container.getProvider($e)}function cr(Xe,$e,At=nr){Ui(Xe,$e).clearInstance(At)}function Ms(){Zn.clear()}const Sr=new _.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pr{constructor($e,At,qt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const ur="9.23.0";function Bi(Xe,$e={}){let At=Xe;"object"!=typeof $e&&($e={name:$e});const qt=Object.assign({name:nr,automaticDataCollectionEnabled:!1},$e),Nt=qt.name;if("string"!=typeof Nt||!Nt)throw Sr.create("bad-app-name",{appName:String(Nt)});if(At||(At=(0,_.aH)()),!At)throw Sr.create("no-options");const hn=Dn.get(Nt);if(hn){if((0,_.vZ)(At,hn.options)&&(0,_.vZ)(qt,hn.config))return hn;throw Sr.create("duplicate-app",{appName:Nt})}const Vn=new se.H0(Nt);for(const Wr of Zn.values())Vn.addComponent(Wr);const ti=new Pr(At,qt,Vn);return Dn.set(Nt,ti),ti}function xi(Xe=nr){const $e=Dn.get(Xe);if(!$e&&Xe===nr&&(0,_.aH)())return Bi();if(!$e)throw Sr.create("no-app",{appName:Xe});return $e}function bi(){return Array.from(Dn.values())}function is(Xe){return($n=$n||(0,E.Z)(function*($e){const At=$e.name;Dn.has(At)&&(Dn.delete(At),yield Promise.all($e.container.getProviders().map(qt=>qt.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function ds(Xe,$e,At){var qt;let Nt=null!==(qt=fi[Xe])&&void 0!==qt?qt:Xe;At&&(Nt+=`-${At}`);const hn=Nt.match(/\s|\//),Vn=$e.match(/\s|\//);if(hn||Vn){const ti=[`Unable to register library "${Nt}" with version "${$e}":`];return hn&&ti.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),hn&&Vn&&ti.push("and"),Vn&&ti.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void Qe.warn(ti.join(" "))}Jn(new se.wA(`${Nt}-version`,()=>({library:Nt,version:$e}),"VERSION"))}function Rs(Xe,$e){if(null!==Xe&&"function"!=typeof Xe)throw Sr.create("invalid-log-argument");(0,ie.Am)(Xe,$e)}function ws(Xe){(0,ie.Ub)(Xe)}const Me="firebase-heartbeat-database",ae=1,Y="firebase-heartbeat-store";let te=null;function H(){return te||(te=function ke(Xe,$e,{blocked:At,upgrade:qt,blocking:Nt,terminated:hn}={}){const Vn=indexedDB.open(Xe,$e),ti=Ve(Vn);return qt&&Vn.addEventListener("upgradeneeded",Wr=>{qt(Ve(Vn.result),Wr.oldVersion,Wr.newVersion,Ve(Vn.transaction),Wr)}),At&&Vn.addEventListener("blocked",Wr=>At(Wr.oldVersion,Wr.newVersion,Wr)),ti.then(Wr=>{hn&&Wr.addEventListener("close",()=>hn()),Nt&&Wr.addEventListener("versionchange",kt=>Nt(kt.oldVersion,kt.newVersion,kt))}).catch(()=>{}),ti}(Me,ae,{upgrade:(Xe,$e)=>{0===$e&&Xe.createObjectStore(Y)}}).catch(Xe=>{throw Sr.create("idb-open",{originalErrorMessage:Xe.message})})),te}function Oe(Xe,$e){return(Or=Or||(0,E.Z)(function*(At,qt){try{const hn=(yield H()).transaction(Y,"readwrite");yield hn.objectStore(Y).put(qt,Ze(At)),yield hn.done}catch(Nt){if(Nt instanceof _.ZR)Qe.warn(Nt.message);else{const hn=Sr.create("idb-set",{originalErrorMessage:Nt?.message});Qe.warn(hn.message)}}})).apply(this,arguments)}function Ze(Xe){return`${Xe.name}!${Xe.options.appId}`}class En{constructor($e){this.container=$e,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new wr(At),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var $e=this;return(0,E.Z)(function*(){const qt=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=nn();if(null===$e._heartbeatsCache&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise),$e._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!$e._heartbeatsCache.heartbeats.some(hn=>hn.date===Nt))return $e._heartbeatsCache.heartbeats.push({date:Nt,agent:qt}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(hn=>{const Vn=new Date(hn.date).valueOf();return Date.now()-Vn<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,E.Z)(function*(){if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null===$e._heartbeatsCache||0===$e._heartbeatsCache.heartbeats.length)return"";const At=nn(),{heartbeatsToSend:qt,unsentEntries:Nt}=function Ln(Xe,$e=1024){const At=[];let qt=Xe.slice();for(const Nt of Xe){const hn=At.find(Vn=>Vn.agent===Nt.agent);if(hn){if(hn.dates.push(Nt.date),Us(At)>$e){hn.dates.pop();break}}else if(At.push({agent:Nt.agent,dates:[Nt.date]}),Us(At)>$e){At.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:At,unsentEntries:qt}}($e._heartbeatsCache.heartbeats),hn=(0,_.L)(JSON.stringify({version:2,heartbeats:qt}));return $e._heartbeatsCache.lastSentHeartbeatDate=At,Nt.length>0?($e._heartbeatsCache.heartbeats=Nt,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),hn})()}}function nn(){return(new Date).toISOString().substring(0,10)}class wr{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,_.hl)()&&(0,_.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,E.Z)(function*(){return(yield $e._canUseIndexedDBPromise)&&(yield function he(Xe){return(Gn=Gn||(0,E.Z)(function*($e){try{return yield(yield H()).transaction(Y).objectStore(Y).get(Ze($e))}catch(At){if(At instanceof _.ZR)Qe.warn(At.message);else{const qt=Sr.create("idb-get",{originalErrorMessage:At?.message});Qe.warn(qt.message)}}})).apply(this,arguments)}($e.app))||{heartbeats:[]}})()}overwrite($e){var At=this;return(0,E.Z)(function*(){var qt;if(yield At._canUseIndexedDBPromise){const hn=yield At.read();return Oe(At.app,{lastSentHeartbeatDate:null!==(qt=$e.lastSentHeartbeatDate)&&void 0!==qt?qt:hn.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var At=this;return(0,E.Z)(function*(){var qt;if(yield At._canUseIndexedDBPromise){const hn=yield At.read();return Oe(At.app,{lastSentHeartbeatDate:null!==(qt=$e.lastSentHeartbeatDate)&&void 0!==qt?qt:hn.lastSentHeartbeatDate,heartbeats:[...hn.heartbeats,...$e.heartbeats]})}})()}}function Us(Xe){return(0,_.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function Bs(Xe){Jn(new se.wA("platform-logger",$e=>new Ci($e),"PRIVATE")),Jn(new se.wA("heartbeat",$e=>new En($e),"PRIVATE")),ds(vi,"0.9.13",Xe),ds(vi,"0.9.13","esm2017"),ds("fire-js","")}("")},4537:(Jt,Ke,K)=>{K.d(Ke,{H0:()=>Te,wA:()=>ie});var E=K(5861),se=K(9058);class ie{constructor(fe,Ce,Fe){this.name=fe,this.instanceFactory=Ce,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const _="[DEFAULT]";class _e{constructor(fe,Ce){this.name=fe,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const Ce=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(Ce)){const Fe=new se.BH;if(this.instancesDeferred.set(Ce,Fe),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:Ce});ht&&Fe.resolve(ht)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(fe){var Ce;const Fe=this.normalizeInstanceIdentifier(fe?.identifier),ht=null!==(Ce=fe?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(nt){if(ht)return null;throw nt}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Ae(je){return"EAGER"===je.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:_})}catch{}for(const[Ce,Fe]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(Ce);try{const nt=this.getOrInitializeService({instanceIdentifier:ht});Fe.resolve(nt)}catch{}}}}clearInstance(fe=_){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,E.Z)(function*(){const Ce=Array.from(fe.instances.values());yield Promise.all([...Ce.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...Ce.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=_){return this.instances.has(fe)}getOptions(fe=_){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:Ce={}}=fe,Fe=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Fe,options:Ce});for(const[nt,yt]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(nt)&&yt.resolve(ht);return ht}onInit(fe,Ce){var Fe;const ht=this.normalizeInstanceIdentifier(Ce),nt=null!==(Fe=this.onInitCallbacks.get(ht))&&void 0!==Fe?Fe:new Set;nt.add(fe),this.onInitCallbacks.set(ht,nt);const yt=this.instances.get(ht);return yt&&fe(yt,ht),()=>{nt.delete(fe)}}invokeOnInitCallbacks(fe,Ce){const Fe=this.onInitCallbacks.get(Ce);if(Fe)for(const ht of Fe)try{ht(fe,Ce)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:Ce={}}){let Fe=this.instances.get(fe);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(je=fe,je===_?void 0:je),options:Ce}),this.instances.set(fe,Fe),this.instancesOptions.set(fe,Ce),this.invokeOnInitCallbacks(Fe,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,Fe)}catch{}var je;return Fe||null}normalizeInstanceIdentifier(fe=_){return this.component?this.component.multipleInstances?fe:_:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const Ce=this.getProvider(fe.name);if(Ce.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);Ce.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const Ce=new _e(fe,this);return this.providers.set(fe,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},7879:(Jt,Ke,K)=>{K.d(Ke,{Am:()=>je,Ub:()=>Te,Yd:()=>Ae,in:()=>se});const E=[];var se=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(se||{});const ie={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_=se.INFO,_e={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Se=(fe,Ce,...Fe)=>{if(Ce<fe.logLevel)return;const ht=(new Date).toISOString(),nt=_e[Ce];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[nt](`[${ht}]  ${fe.name}:`,...Fe)};class Ae{constructor(Ce){this.name=Ce,this._logLevel=_,this._logHandler=Se,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in se))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?ie[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...Ce),this._logHandler(this,se.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...Ce),this._logHandler(this,se.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,se.INFO,...Ce),this._logHandler(this,se.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,se.WARN,...Ce),this._logHandler(this,se.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...Ce),this._logHandler(this,se.ERROR,...Ce)}}function Te(fe){E.forEach(Ce=>{Ce.setLogLevel(fe)})}function je(fe,Ce){for(const Fe of E){let ht=null;Ce&&Ce.level&&(ht=ie[Ce.level]),Fe.userLogHandler=null===fe?null:(nt,yt,...ft)=>{const mt=ft.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch{return null}}).filter(pt=>pt).join(" ");yt>=(ht??nt.logLevel)&&fe({level:se[yt].toLowerCase(),message:mt,args:ft,type:nt.name})}}}},5861:(Jt,Ke,K)=>{function E(ie,_,_e,Se,Ae,Te,je){try{var fe=ie[Te](je),Ce=fe.value}catch(Fe){return void _e(Fe)}fe.done?_(Ce):Promise.resolve(Ce).then(Se,Ae)}function se(ie){return function(){var _=this,_e=arguments;return new Promise(function(Se,Ae){var Te=ie.apply(_,_e);function je(Ce){E(Te,Se,Ae,je,fe,"next",Ce)}function fe(Ce){E(Te,Se,Ae,je,fe,"throw",Ce)}je(void 0)})}}K.d(Ke,{Z:()=>se})},7582:(Jt,Ke,K)=>{function _(Qe,tt){var ct={};for(var ot in Qe)Object.prototype.hasOwnProperty.call(Qe,ot)&&tt.indexOf(ot)<0&&(ct[ot]=Qe[ot]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(ot=Object.getOwnPropertySymbols(Qe);It<ot.length;It++)tt.indexOf(ot[It])<0&&Object.prototype.propertyIsEnumerable.call(Qe,ot[It])&&(ct[ot[It]]=Qe[ot[It]])}return ct}function Fe(Qe,tt,ct,ot){return new(ct||(ct=Promise))(function(Pt,on){function Bt(Xn){try{mn(ot.next(Xn))}catch(vn){on(vn)}}function dn(Xn){try{mn(ot.throw(Xn))}catch(vn){on(vn)}}function mn(Xn){Xn.done?Pt(Xn.value):function It(Pt){return Pt instanceof ct?Pt:new ct(function(on){on(Pt)})}(Xn.value).then(Bt,dn)}mn((ot=ot.apply(Qe,tt||[])).next())})}function Ve(Qe){return this instanceof Ve?(this.v=Qe,this):new Ve(Qe)}function lt(Qe,tt,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,ot=ct.apply(Qe,tt||[]),Pt=[];return It={},on("next"),on("throw"),on("return"),It[Symbol.asyncIterator]=function(){return this},It;function on(Er){ot[Er]&&(It[Er]=function(Tr){return new Promise(function(Dr,_r){Pt.push([Er,Tr,Dr,_r])>1||Bt(Er,Tr)})})}function Bt(Er,Tr){try{!function dn(Er){Er.value instanceof Ve?Promise.resolve(Er.value.v).then(mn,Xn):vn(Pt[0][2],Er)}(ot[Er](Tr))}catch(Dr){vn(Pt[0][3],Dr)}}function mn(Er){Bt("next",Er)}function Xn(Er){Bt("throw",Er)}function vn(Er,Tr){Er(Tr),Pt.shift(),Pt.length&&Bt(Pt[0][0],Pt[0][1])}}function st(Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,tt=Qe[Symbol.asyncIterator];return tt?tt.call(Qe):(Qe=function ft(Qe){var tt="function"==typeof Symbol&&Symbol.iterator,ct=tt&&Qe[tt],ot=0;if(ct)return ct.call(Qe);if(Qe&&"number"==typeof Qe.length)return{next:function(){return Qe&&ot>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[ot++],done:!Qe}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Qe),ct={},ot("next"),ot("throw"),ot("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function ot(Pt){ct[Pt]=Qe[Pt]&&function(on){return new Promise(function(Bt,dn){!function It(Pt,on,Bt,dn){Promise.resolve(dn).then(function(mn){Pt({value:mn,done:Bt})},on)}(Bt,dn,(on=Qe[Pt](on)).done,on.value)})}}}K.d(Ke,{FC:()=>lt,KL:()=>st,_T:()=>_,mG:()=>Fe,qq:()=>Ve}),"function"==typeof SuppressedError&&SuppressedError}},Jt=>{Jt(Jt.s=2793)}]);