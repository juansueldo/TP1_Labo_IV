"use strict";(self.webpackChunktp1_saladejuegos=self.webpackChunktp1_saladejuegos||[]).push([[179],{2194:(on,et,V)=>{V.d(et,{nm:()=>Xr});var ce,Ce,jt,At,Rt,g=V(2793),ye=(V(5879),V(8726),V(4097),V(5861)),Se=V(534),Le=V(4537),Ae=V(9058),Fe=V(7879);const xt=new Map,xe={activated:!1,tokenObservers:[]},Ge={initialized:!1,enabled:!1};function Oe($){return xt.get($)||Object.assign({},xe)}function Dt(){return Ge}const Qe="https://content-firebaseappcheck.googleapis.com/v1",cn="exchangeDebugToken",tn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Br{constructor(oe,_e,je,ft,Ee){if(this.operation=oe,this.retryPolicy=_e,this.getWaitDuration=je,this.lowerBound=ft,this.upperBound=Ee,this.pending=null,this.nextErrorWaitInterval=ft,ft>Ee)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(oe){var _e=this;return(0,ye.Z)(function*(){_e.stop();try{_e.pending=new Ae.BH,yield function hr($){return new Promise(oe=>{setTimeout(oe,$)})}(_e.getNextRun(oe)),_e.pending.resolve(),yield _e.pending.promise,_e.pending=new Ae.BH,yield _e.operation(),_e.pending.resolve(),yield _e.pending.promise,_e.process(!0).catch(()=>{})}catch(je){_e.retryPolicy(je)?_e.process(!1).catch(()=>{}):_e.stop()}})()}getNextRun(oe){if(oe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_e}}}const Hn=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Et($){if(!Oe($).activated)throw Hn.create("use-before-activation",{appName:$.name})}function It($,oe){return(ce=ce||(0,ye.Z)(function*({url:_e,body:je},ft){const Ee={"Content-Type":"application/json"},fe=ft.getImmediate({optional:!0});if(fe){const kn=yield fe.getHeartbeatsHeader();kn&&(Ee["X-Firebase-Client"]=kn)}const Ue={method:"POST",body:JSON.stringify(je),headers:Ee};let Ie,Be;try{Ie=yield fetch(_e,Ue)}catch(kn){throw Hn.create("fetch-network-error",{originalErrorMessage:kn?.message})}if(200!==Ie.status)throw Hn.create("fetch-status-error",{httpStatus:Ie.status});try{Be=yield Ie.json()}catch(kn){throw Hn.create("fetch-parse-error",{originalErrorMessage:kn?.message})}const nt=Be.ttl.match(/^([\d.]+)(s)$/);if(!nt||!nt[2]||isNaN(Number(nt[1])))throw Hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Be.ttl}`});const Bt=1e3*Number(nt[1]),dn=Date.now();return{token:Be.token,expireTimeMillis:dn+Bt,issuedAtTimeMillis:dn}})).apply(this,arguments)}function Ct($,oe){const{projectId:_e,appId:je,apiKey:ft}=$.options;return{url:`${Qe}/projects/${_e}/apps/${je}:${cn}?key=${ft}`,body:{debug_token:oe}}}const Xn="firebase-app-check-database",Sn=1,Nn="firebase-app-check-store";let Ir=null;function Ei($,oe){return(Ce=Ce||(0,ye.Z)(function*(_e,je){const Ee=(yield function Wn(){return Ir||(Ir=new Promise(($,oe)=>{try{const _e=indexedDB.open(Xn,Sn);_e.onsuccess=je=>{$(je.target.result)},_e.onerror=je=>{var ft;oe(Hn.create("storage-open",{originalErrorMessage:null===(ft=je.target.error)||void 0===ft?void 0:ft.message}))},_e.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(_e){oe(Hn.create("storage-open",{originalErrorMessage:_e?.message}))}}),Ir)}()).transaction(Nn,"readwrite"),Ue=Ee.objectStore(Nn).put({compositeKey:_e,value:je});return new Promise((Ie,Be)=>{Ue.onsuccess=nt=>{Ie()},Ee.onerror=nt=>{var Bt;Be(Hn.create("storage-set",{originalErrorMessage:null===(Bt=nt.target.error)||void 0===Bt?void 0:Bt.message}))}})})).apply(this,arguments)}const si=new Fe.Yd("@firebase/app-check");function An($,oe){return(0,Ae.hl)()?function Ln($,oe){return Ei(function zr($){return`${$.options.appId}-${$.name}`}($),oe)}($,oe).catch(_e=>{si.warn(`Failed to write token to IndexedDB. Error: ${_e}`)}):Promise.resolve()}function zn(){return Dt().enabled}function or(){return(jt=jt||(0,ye.Z)(function*(){const $=Dt();if($.enabled&&$.token)return $.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jr={error:"UNKNOWN_ERROR"};function _r($){return Ae.US.encodeString(JSON.stringify($),!1)}function mr($){return(At=At||(0,ye.Z)(function*(oe,_e=!1){const je=oe.app;Et(je);const ft=Oe(je);let fe,Ee=ft.token;if(Ee&&!vt(Ee)&&(ft.token=void 0,Ee=void 0),!Ee){const Be=yield ft.cachedTokenPromise;Be&&(vt(Be)?Ee=Be:yield An(je,void 0))}if(!_e&&Ee&&vt(Ee))return{token:Ee.token};let Ie,Ue=!1;if(zn()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=It(Ct(je,yield or()),oe.heartbeatServiceProvider).finally(()=>{ft.exchangeTokenPromise=void 0}),Ue=!0);const Be=yield ft.exchangeTokenPromise;return yield An(je,Be),ft.token=Be,{token:Be.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().finally(()=>{ft.exchangeTokenPromise=void 0}),Ue=!0),Ee=yield Oe(je).exchangeTokenPromise}catch(Be){"appCheck/throttled"===Be.code?si.warn(Be.message):si.error(Be),fe=Be}return Ee?fe?Ie=vt(Ee)?{token:Ee.token,internalError:fe}:We(fe):(Ie={token:Ee.token},ft.token=Ee,yield An(je,Ee)):Ie=We(fe),Ue&&function Ar($,oe){const _e=Oe($).tokenObservers;for(const je of _e)try{"EXTERNAL"===je.type&&null!=oe.error?je.error(oe.error):je.next(oe)}catch{}}(je,Ie),Ie})).apply(this,arguments)}function Vi($,oe){const _e=Oe($),je=_e.tokenObservers.filter(ft=>ft.next!==oe);0===je.length&&_e.tokenRefresher&&_e.tokenRefresher.isRunning()&&_e.tokenRefresher.stop(),_e.tokenObservers=je}function xr($){const{app:oe}=$,_e=Oe(oe);let je=_e.tokenRefresher;je||(je=function Ii($){const{app:oe}=$;return new Br((0,ye.Z)(function*(){let je;if(je=Oe(oe).token?yield mr($,!0):yield mr($),je.error)throw je.error;if(je.internalError)throw je.internalError}),()=>!0,()=>{const _e=Oe(oe);if(_e.token){let je=_e.token.issuedAtTimeMillis+.5*(_e.token.expireTimeMillis-_e.token.issuedAtTimeMillis)+3e5;return je=Math.min(je,_e.token.expireTimeMillis-3e5),Math.max(0,je-Date.now())}return 0},tn.RETRIAL_MIN_WAIT,tn.RETRIAL_MAX_WAIT)}($),_e.tokenRefresher=je),!je.isRunning()&&_e.isTokenAutoRefreshEnabled&&je.start()}function vt($){return $.expireTimeMillis-Date.now()>0}function We($){return{token:_r(jr),error:$}}class wt{constructor(oe,_e){this.app=oe,this.heartbeatServiceProvider=_e}_delete(){const{tokenObservers:oe}=Oe(this.app);for(const _e of oe)Vi(this.app,_e.next);return Promise.resolve()}}const mn="app-check-internal";!function en(){(0,Se._registerComponent)(new Le.wA("app-check",$=>function qe($,oe){return new wt($,oe)}($.getProvider("app").getImmediate(),$.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($,oe,_e)=>{$.getProvider(mn).initialize()})),(0,Se._registerComponent)(new Le.wA(mn,$=>function rt($){return{getToken:oe=>mr($,oe),getLimitedUseToken:()=>function ls($){return(Rt=Rt||(0,ye.Z)(function*(oe){const _e=oe.app;Et(_e);const{provider:je}=Oe(_e);if(zn()){const ft=yield or(),{token:Ee}=yield It(Ct(_e,ft),oe.heartbeatServiceProvider);return{token:Ee}}{const{token:ft}=yield je.getToken();return{token:ft}}})).apply(this,arguments)}($),addTokenListener:oe=>function ar($,oe,_e,je){const{app:ft}=$,Ee=Oe(ft);if(Ee.tokenObservers=[...Ee.tokenObservers,{next:_e,error:je,type:oe}],Ee.token&&vt(Ee.token)){const Ue=Ee.token;Promise.resolve().then(()=>{_e({token:Ue.token}),xr($)}).catch(()=>{})}Ee.cachedTokenPromise.then(()=>xr($))}($,"INTERNAL",oe),removeTokenListener:oe=>Vi($.app,oe)}}($.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.8.0")}();class Xr{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},8726:(on,et,V)=>{V.d(et,{Ot:()=>b,ZF:()=>Rt,hX:()=>lt,z6:()=>ye});var g=V(4097),z=V(5879),ie=V(2793);class b{constructor(Ge){return Ge}}class ye{constructor(){return(0,g.C6)()}}const Ae=new z.OlP("angularfire2._apps"),Fe={provide:b,useFactory:function Le(xe){return xe&&1===xe.length?xe[0]:new b((0,g.Mq)())},deps:[[new z.FiY,Ae]]},ce={provide:ye,deps:[[new z.FiY,Ae]]};function Ce(xe){return(Ge,Oe)=>{const Ke=Ge.runOutsideAngular(()=>xe(Oe));return new b(Ke)}}let $e=(()=>{class xe{constructor(Oe){(0,g.KN)("angularfire",ie.q4.full,"core"),(0,g.KN)("angularfire",ie.q4.full,"app"),(0,g.KN)("angular",z.q4F.full,Oe.toString())}}return xe.\u0275fac=function(Oe){return new(Oe||xe)(z.LFG(z.Lbi))},xe.\u0275mod=z.oAB({type:xe}),xe.\u0275inj=z.cJS({providers:[Fe,ce]}),xe})();function lt(xe,...Ge){return{ngModule:$e,providers:[{provide:Ae,useFactory:Ce(xe),multi:!0,deps:[z.R0b,z.zs3,ie.HU,...Ge]}]}}const Rt=(0,ie.u3)(g.ZF,!0)},6304:(on,et,V)=>{V.d(et,{Dh:()=>Le,GT:()=>ye,cc:()=>lt,on:()=>Fe,pX:()=>b,xv:()=>Ae});var g=V(5879),z=V(120);on=V.hmd(on);const ie=["ngOnDestroy"],b=(Rt,St,Kt,xt={})=>new Proxy(Rt,{get:(xe,Ge)=>Kt.runOutsideAngular(()=>{var Oe;if(Rt[Ge])return!(null===(Oe=xt?.spy)||void 0===Oe)&&Oe.get&&xt.spy.get(Ge,Rt[Ge]),Rt[Ge];if(ie.indexOf(Ge)>-1)return()=>{};const Ke=St.toPromise().then(Dt=>{const Qe=Dt&&Dt[Ge];return"function"==typeof Qe?Qe.bind(Dt):Qe&&Qe.then?Qe.then(kt=>Kt.run(()=>kt)):Kt.run(()=>Qe)});return new Proxy(()=>{},{get:(Dt,Qe)=>Ke[Qe],apply:(Dt,Qe,kt)=>Ke.then(pn=>{var cn;const tn=pn&&pn(...kt);return!(null===(cn=xt?.spy)||void 0===cn)&&cn.apply&&xt.spy.apply(Ge,kt,tn),tn})})})}),ye=(Rt,St)=>{St.forEach(Kt=>{Object.getOwnPropertyNames(Kt.prototype||Kt).forEach(xt=>{Object.defineProperty(Rt.prototype,xt,Object.getOwnPropertyDescriptor(Kt.prototype||Kt,xt))})})};class Se{constructor(St){return St}}const Le=new g.OlP("angularfire2.app.options"),Ae=new g.OlP("angularfire2.app.name");function Fe(Rt,St,Kt){const xe="object"==typeof Kt&&Kt||{};xe.name=xe.name||"string"==typeof Kt&&Kt||"[DEFAULT]";const Oe=z.Z.apps.filter(Ke=>Ke&&Ke.name===xe.name)[0]||St.runOutsideAngular(()=>z.Z.initializeApp(Rt,xe));try{JSON.stringify(Rt)!==JSON.stringify(Oe.options)&&ce("error",`${Oe.name} Firebase App already initialized with different options${on.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Oe)}const ce=(Rt,...St)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Rt](...St)};function lt(Rt,St,Kt,xt,xe){const[,Ge,Oe]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Rt)||[];if(Ge)return function ht(Rt,St){try{return Rt.toString()===St.toString()}catch{return Rt===St}}(xe,Oe)||(At("error",`${St} was already initialized on the ${Kt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),At("warn",{is:xe,was:Oe})),Ge;{const Ke=xt();return globalThis.\u0275AngularfireInstanceCache.push([Rt,Ke,xe]),Ke}}const jt=!!on.hot,At=(Rt,...St)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Rt](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(on,et,V)=>{V.d(et,{q4:()=>Au,iC:()=>oi,HU:()=>xo,vb:()=>hu,JM:()=>Ju,u3:()=>Fi});var g=V(5879),z=V(4097),ie=V(5861),b=V(534),ye=V(9058),Se=V(4537),Le=V(7879);const Ae=(H,K)=>K.some(te=>H instanceof te);let Fe,ce;const lt=new WeakMap,ht=new WeakMap,jt=new WeakMap,At=new WeakMap,Rt=new WeakMap;let xt={get(H,K,te){if(H instanceof IDBTransaction){if("done"===K)return ht.get(H);if("objectStoreNames"===K)return H.objectStoreNames||jt.get(H);if("store"===K)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Ke(H[K])},set:(H,K,te)=>(H[K]=te,!0),has:(H,K)=>H instanceof IDBTransaction&&("done"===K||"store"===K)||K in H};function Oe(H){return"function"==typeof H?function Ge(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...K){return H.apply(Dt(this),K),Ke(lt.get(this))}:function(...K){return Ke(H.apply(Dt(this),K))}:function(K,...te){const we=H.call(Dt(this),K,...te);return jt.set(we,K.sort?K.sort():[K]),Ke(we)}}(H):(H instanceof IDBTransaction&&function Kt(H){if(ht.has(H))return;const K=new Promise((te,we)=>{const He=()=>{H.removeEventListener("complete",st),H.removeEventListener("error",Vt),H.removeEventListener("abort",Vt)},st=()=>{te(),He()},Vt=()=>{we(H.error||new DOMException("AbortError","AbortError")),He()};H.addEventListener("complete",st),H.addEventListener("error",Vt),H.addEventListener("abort",Vt)});ht.set(H,K)}(H),Ae(H,function Ce(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,xt):H)}function Ke(H){if(H instanceof IDBRequest)return function St(H){const K=new Promise((te,we)=>{const He=()=>{H.removeEventListener("success",st),H.removeEventListener("error",Vt)},st=()=>{te(Ke(H.result)),He()},Vt=()=>{we(H.error),He()};H.addEventListener("success",st),H.addEventListener("error",Vt)});return K.then(te=>{te instanceof IDBCursor&&lt.set(te,H)}).catch(()=>{}),Rt.set(K,H),K}(H);if(At.has(H))return At.get(H);const K=Oe(H);return K!==H&&(At.set(H,K),Rt.set(K,H)),K}const Dt=H=>Rt.get(H),pn=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],tn=new Map;function rr(H,K){var te;if(!(H instanceof IDBDatabase)||K in H||"string"!=typeof K)return;if(tn.get(K))return tn.get(K);const we=K.replace(/FromIndex$/,""),He=K!==we,st=cn.includes(we);if(!(we in(He?IDBIndex:IDBObjectStore).prototype)||!st&&!pn.includes(we))return;const Vt=function(Zt){return(te=te||(0,ie.Z)(function*(vn,...Bn){const Kn=this.transaction(vn,st?"readwrite":"readonly");let ti=Kn.store;return He&&(ti=ti.index(Bn.shift())),(yield Promise.all([ti[we](...Bn),st&&Kn.done]))[0]})).apply(this,arguments)};return tn.set(K,Vt),Vt}var Br,hr,Rr,Hn,dt,Et,ot,pt,It,at,Ft,Ct,Xn,Sn,Nn,Pn;!function xe(H){xt=H(xt)}(H=>({...H,get:(K,te,we)=>rr(K,te)||H.get(K,te,we),has:(K,te)=>!!rr(K,te)||H.has(K,te)}));const Sr="@firebase/installations",Ln="0.6.4",fr=1e4,ii=`w:${Ln}`,Ei="FIS_v2",wi="https://firebaseinstallations.googleapis.com/v1",zr=36e5,Vn=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zn(H){return H instanceof ye.ZR&&H.code.includes("request-failed")}function or({projectId:H}){return`${wi}/projects/${H}/installations`}function pr(H){return{token:H.token,requestStatus:2,expiresIn:ar(H.expiresIn),creationTime:Date.now()}}function jr(H,K){return(Br=Br||(0,ie.Z)(function*(te,we){const st=(yield we.json()).error;return Vn.create("request-failed",{requestName:te,serverCode:st.code,serverMessage:st.message,serverStatus:st.status})})).apply(this,arguments)}function _r({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function ls(H){return(hr=hr||(0,ie.Z)(function*(K){const te=yield K();return te.status>=500&&te.status<600?K():te})).apply(this,arguments)}function ar(H){return Number(H.replace("s","000"))}function Ii(H){return new Promise(K=>{setTimeout(K,H)})}const vt=/^[cdef][\w-]{21}$/,We="";function wt(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const te=function qe(H){return function Ar(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return vt.test(te)?te:We}catch{return We}}function rt(H){return`${H.appName}!${H.appId}`}const Nt=new Map;function un(H,K){const te=rt(H);_i(te,K),function ge(H,K){const te=function N(){return!q&&"BroadcastChannel"in self&&(q=new BroadcastChannel("[Firebase] FID Change"),q.onmessage=H=>{_i(H.data.key,H.data.fid)}),q}();te&&te.postMessage({key:H,fid:K}),function L(){0===Nt.size&&q&&(q.close(),q=null)}()}(te,K)}function _i(H,K){const te=Nt.get(H);if(te)for(const we of te)we(K)}let q=null;const F="firebase-installations-database",le=1,ze="firebase-installations-store";let mt=null;function an(){return mt||(mt=function Qe(H,K,{blocked:te,upgrade:we,blocking:He,terminated:st}={}){const Vt=indexedDB.open(H,K),Gt=Ke(Vt);return we&&Vt.addEventListener("upgradeneeded",Zt=>{we(Ke(Vt.result),Zt.oldVersion,Zt.newVersion,Ke(Vt.transaction))}),te&&Vt.addEventListener("blocked",()=>te()),Gt.then(Zt=>{st&&Zt.addEventListener("close",()=>st()),He&&Zt.addEventListener("versionchange",()=>He())}).catch(()=>{}),Gt}(F,le,{upgrade:(H,K)=>{0===K&&H.createObjectStore(ze)}})),mt}function Ht(H,K){return(Hn=Hn||(0,ie.Z)(function*(te,we){const He=rt(te),Vt=(yield an()).transaction(ze,"readwrite"),Gt=Vt.objectStore(ze),Zt=yield Gt.get(He);return yield Gt.put(we,He),yield Vt.done,(!Zt||Zt.fid!==we.fid)&&un(te,we.fid),we})).apply(this,arguments)}function xn(H){return(dt=dt||(0,ie.Z)(function*(K){const te=rt(K),He=(yield an()).transaction(ze,"readwrite");yield He.objectStore(ze).delete(te),yield He.done})).apply(this,arguments)}function yn(H,K){return(Et=Et||(0,ie.Z)(function*(te,we){const He=rt(te),Vt=(yield an()).transaction(ze,"readwrite"),Gt=Vt.objectStore(ze),Zt=yield Gt.get(He),vn=we(Zt);return void 0===vn?yield Gt.delete(He):yield Gt.put(vn,He),yield Vt.done,vn&&(!Zt||Zt.fid!==vn.fid)&&un(te,vn.fid),vn})).apply(this,arguments)}function qn(H){return(ot=ot||(0,ie.Z)(function*(K){let te;const we=yield yn(K.appConfig,He=>{const st=function ur(H){return zt(H||{fid:wt(),registrationStatus:0})}(He),Vt=function Mi(H,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(Vn.create("app-offline"))};const te={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},we=function pi(H,K){return(pt=pt||(0,ie.Z)(function*(te,we){try{const He=yield function xr(H,K){return(Rr=Rr||(0,ie.Z)(function*({appConfig:te,heartbeatServiceProvider:we},{fid:He}){const st=or(te),Vt=_r(te),Gt=we.getImmediate({optional:!0});if(Gt){const Kn=yield Gt.getHeartbeatsHeader();Kn&&Vt.append("x-firebase-client",Kn)}const vn={method:"POST",headers:Vt,body:JSON.stringify({fid:He,authVersion:Ei,appId:te.appId,sdkVersion:ii})},Bn=yield ls(()=>fetch(st,vn));if(Bn.ok){const Kn=yield Bn.json();return{fid:Kn.fid||He,registrationStatus:2,refreshToken:Kn.refreshToken,authToken:pr(Kn.authToken)}}throw yield jr("Create Installation",Bn)})).apply(this,arguments)}(te,we);return Ht(te.appConfig,He)}catch(He){throw zn(He)&&409===He.customData.serverCode?yield xn(te.appConfig):yield Ht(te.appConfig,{fid:we.fid,registrationStatus:0}),He}})).apply(this,arguments)}(H,te);return{installationEntry:te,registrationPromise:we}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:bt(H)}:{installationEntry:K}}(K,st);return te=Vt.registrationPromise,Vt.installationEntry});return we.fid===We?{installationEntry:yield te}:{installationEntry:we,registrationPromise:te}})).apply(this,arguments)}function bt(H){return(It=It||(0,ie.Z)(function*(K){let te=yield ut(K.appConfig);for(;1===te.registrationStatus;)yield Ii(100),te=yield ut(K.appConfig);if(0===te.registrationStatus){const{installationEntry:we,registrationPromise:He}=yield qn(K);return He||we}return te})).apply(this,arguments)}function ut(H){return yn(H,K=>{if(!K)throw Vn.create("installation-not-found");return zt(K)})}function zt(H){return function mn(H){return 1===H.registrationStatus&&H.registrationTime+fr<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function en(H,K){return(at=at||(0,ie.Z)(function*({appConfig:te,heartbeatServiceProvider:we},He){const st=function Mn(H,{fid:K}){return`${or(H)}/${K}/authTokens:generate`}(te,He),Vt=function mr(H,{refreshToken:K}){const te=_r(H);return te.append("Authorization",function Vi(H){return`${Ei} ${H}`}(K)),te}(te,He),Gt=we.getImmediate({optional:!0});if(Gt){const Kn=yield Gt.getHeartbeatsHeader();Kn&&Vt.append("x-firebase-client",Kn)}const vn={method:"POST",headers:Vt,body:JSON.stringify({installation:{sdkVersion:ii,appId:te.appId}})},Bn=yield ls(()=>fetch(st,vn));if(Bn.ok)return pr(yield Bn.json());throw yield jr("Generate Auth Token",Bn)})).apply(this,arguments)}function ir(H){return(Ft=Ft||(0,ie.Z)(function*(K,te=!1){let we;const He=yield yn(K.appConfig,Vt=>{if(!$r(Vt))throw Vn.create("not-registered");const Gt=Vt.authToken;if(!te&&function Hr(H){return 2===H.requestStatus&&!function Tr(H){const K=Date.now();return K<H.creationTime||H.creationTime+H.expiresIn<K+zr}(H)}(Gt))return Vt;if(1===Gt.requestStatus)return we=function Xr(H,K){return(Ct=Ct||(0,ie.Z)(function*(te,we){let He=yield mi(te.appConfig);for(;1===He.authToken.requestStatus;)yield Ii(100),He=yield mi(te.appConfig);const st=He.authToken;return 0===st.requestStatus?ir(te,we):st})).apply(this,arguments)}(K,te),Vt;{if(!navigator.onLine)throw Vn.create("app-offline");const Zt=function cs(H){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:K})}(Vt);return we=function Qt(H,K){return(Xn=Xn||(0,ie.Z)(function*(te,we){try{const He=yield en(te,we),st=Object.assign(Object.assign({},we),{authToken:He});return yield Ht(te.appConfig,st),He}catch(He){if(!zn(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const st=Object.assign(Object.assign({},we),{authToken:{requestStatus:0}});yield Ht(te.appConfig,st)}else yield xn(te.appConfig);throw He}})).apply(this,arguments)}(K,Zt),Zt}});return we?yield we:He.authToken})).apply(this,arguments)}function mi(H){return yn(H,K=>{if(!$r(K))throw Vn.create("not-registered");return function gs(H){return 1===H.requestStatus&&H.requestTime+fr<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function $r(H){return void 0!==H&&2===H.registrationStatus}function oe(H){return Vn.create("missing-app-config-values",{valueName:H})}const _e="installations",ft=H=>{const K=H.getProvider("app").getImmediate(),te=function $(H){if(!H||!H.options)throw oe("App Configuration");if(!H.name)throw oe("App Name");const K=["projectId","apiKey","appId"];for(const te of K)if(!H.options[te])throw oe(te);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(K);return{app:K,appConfig:te,heartbeatServiceProvider:(0,b._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},Ee=H=>{const K=H.getProvider("app").getImmediate(),te=(0,b._getProvider)(K,_e).getImmediate();return{getId:()=>function Ys(H){return(Sn=Sn||(0,ie.Z)(function*(K){const te=K,{installationEntry:we,registrationPromise:He}=yield qn(te);return He?He.catch(console.error):ir(te).catch(console.error),we.fid})).apply(this,arguments)}(te),getToken:He=>function nn(H){return(Nn=Nn||(0,ie.Z)(function*(K,te=!1){const we=K;return yield function Jr(H){return(Pn=Pn||(0,ie.Z)(function*(K){const{registrationPromise:te}=yield qn(K);te&&(yield te)})).apply(this,arguments)}(we),(yield ir(we,te)).token})).apply(this,arguments)}(te,He)}};var nt;(function fe(){(0,b._registerComponent)(new Se.wA(_e,ft,"PUBLIC")),(0,b._registerComponent)(new Se.wA("installations-internal",Ee,"PRIVATE"))})(),(0,b.registerVersion)(Sr,Ln),(0,b.registerVersion)(Sr,Ln,"esm2017");const Bt="@firebase/remote-config",qr=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wi{constructor(K,te,we,He){this.client=K,this.storage=te,this.storageCache=we,this.logger=He}isCachedDataFresh(K,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-te,He=we<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${He}.`),He}fetch(K){var te=this;return(0,ie.Z)(function*(){const[we,He]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(He&&te.isCachedDataFresh(K.cacheMaxAgeMillis,we))return He;K.eTag=He&&He.eTag;const st=yield te.client.fetch(K),Vt=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&Vt.push(te.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(Vt),st})()}}function Fs(H=navigator){return H.languages&&H.languages[0]||H.language}class ds{constructor(K,te,we,He,st,Vt){this.firebaseInstallations=K,this.sdkVersion=te,this.namespace=we,this.projectId=He,this.apiKey=st,this.appId=Vt}fetch(K){var te=this;return(0,ie.Z)(function*(){const[we,He]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),Vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},Zt={sdk_version:te.sdkVersion,app_instance_id:we,app_instance_id_token:He,app_id:te.appId,language_code:Fs()},vn={method:"POST",headers:Gt,body:JSON.stringify(Zt)},Bn=fetch(Vt,vn),Kn=new Promise((gr,Ti)=>{K.signal.addEventListener(()=>{const To=new Error("The operation was aborted.");To.name="AbortError",Ti(To)})});let ti;try{yield Promise.race([Bn,Kn]),ti=yield Bn}catch(gr){let Ti="fetch-client-network";throw"AbortError"===gr?.name&&(Ti="fetch-timeout"),qr.create(Ti,{originalErrorMessage:gr?.message})}let Os=ti.status;const Or=ti.headers.get("ETag")||void 0;let Ps,Ts;if(200===ti.status){let gr;try{gr=yield ti.json()}catch(Ti){throw qr.create("fetch-client-parse",{originalErrorMessage:Ti?.message})}Ps=gr.entries,Ts=gr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ts?Os=500:"NO_CHANGE"===Ts?Os=304:("NO_TEMPLATE"===Ts||"EMPTY_CONFIG"===Ts)&&(Ps={}),304!==Os&&200!==Os)throw qr.create("fetch-status",{httpStatus:Os});return{status:Os,eTag:Or,config:Ps}})()}}class Hi{constructor(K,te){this.client=K,this.storage=te}fetch(K){var te=this;return(0,ie.Z)(function*(){const we=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(K,we)})()}attemptFetch(K,{throttleEndTimeMillis:te,backoffCount:we}){var He=this;return(0,ie.Z)(function*(){yield function Ls(H,K){return new Promise((te,we)=>{const He=Math.max(K-Date.now(),0),st=setTimeout(te,He);H.addEventListener(()=>{clearTimeout(st),we(qr.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,te);try{const st=yield He.client.fetch(K);return yield He.storage.deleteThrottleMetadata(),st}catch(st){if(!function ki(H){if(!(H instanceof ye.ZR&&H.customData))return!1;const K=Number(H.customData.httpStatus);return 429===K||500===K||503===K||504===K}(st))throw st;const Vt={throttleEndTimeMillis:Date.now()+(0,ye.$s)(we),backoffCount:we+1};return yield He.storage.setThrottleMetadata(Vt),He.attemptFetch(K,Vt)}})()}}class Ko{constructor(K,te,we,He,st){this.app=K,this._client=te,this._storageCache=we,this._storage=He,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _o(H,K){const te=H.target.error||void 0;return qr.create(K,{originalErrorMessage:te&&te?.message})}const Xs="app_namespace_store";class so{constructor(K,te,we,He=function da(){return new Promise((H,K)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=we=>{K(_o(we,"storage-open"))},te.onsuccess=we=>{H(we.target.result)},te.onupgradeneeded=we=>{0===we.oldVersion&&we.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(te){K(qr.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=K,this.appName=te,this.namespace=we,this.openDbPromise=He}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var te=this;return(0,ie.Z)(function*(){const we=yield te.openDbPromise;return new Promise((He,st)=>{const Gt=we.transaction([Xs],"readonly").objectStore(Xs),Zt=te.createCompositeKey(K);try{const vn=Gt.get(Zt);vn.onerror=Bn=>{st(_o(Bn,"storage-get"))},vn.onsuccess=Bn=>{const Kn=Bn.target.result;He(Kn?Kn.value:void 0)}}catch(vn){st(qr.create("storage-get",{originalErrorMessage:vn?.message}))}})})()}set(K,te){var we=this;return(0,ie.Z)(function*(){const He=yield we.openDbPromise;return new Promise((st,Vt)=>{const Zt=He.transaction([Xs],"readwrite").objectStore(Xs),vn=we.createCompositeKey(K);try{const Bn=Zt.put({compositeKey:vn,value:te});Bn.onerror=Kn=>{Vt(_o(Kn,"storage-set"))},Bn.onsuccess=()=>{st()}}catch(Bn){Vt(qr.create("storage-set",{originalErrorMessage:Bn?.message}))}})})()}delete(K){var te=this;return(0,ie.Z)(function*(){const we=yield te.openDbPromise;return new Promise((He,st)=>{const Gt=we.transaction([Xs],"readwrite").objectStore(Xs),Zt=te.createCompositeKey(K);try{const vn=Gt.delete(Zt);vn.onerror=Bn=>{st(_o(Bn,"storage-delete"))},vn.onsuccess=()=>{He()}}catch(vn){st(qr.create("storage-delete",{originalErrorMessage:vn?.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class oo{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,ie.Z)(function*(){const te=K.storage.getLastFetchStatus(),we=K.storage.getLastSuccessfulFetchTimestampMillis(),He=K.storage.getActiveConfig(),st=yield te;st&&(K.lastFetchStatus=st);const Vt=yield we;Vt&&(K.lastSuccessfulFetchTimestampMillis=Vt);const Gt=yield He;Gt&&(K.activeConfig=Gt)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function Zo(){return(nt=nt||(0,ie.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}!function ka(){(0,b._registerComponent)(new Se.wA("remote-config",function H(K,{instanceIdentifier:te}){const we=K.getProvider("app").getImmediate(),He=K.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qr.create("registration-window");if(!(0,ye.hl)())throw qr.create("indexed-db-unavailable");const{projectId:st,apiKey:Vt,appId:Gt}=we.options;if(!st)throw qr.create("registration-project-id");if(!Vt)throw qr.create("registration-api-key");if(!Gt)throw qr.create("registration-app-id");const Zt=new so(Gt,we.name,te=te||"firebase"),vn=new oo(Zt),Bn=new Le.Yd(Bt);Bn.logLevel=Le.in.ERROR;const Kn=new ds(He,b.SDK_VERSION,te,st,Vt,Gt),ti=new Hi(Kn,Zt),Os=new Wi(ti,Zt,vn,Bn),Or=new Ko(we,Os,vn,Zt,Bn);return function us(H){const K=(0,ye.m9)(H);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(Or),Or},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Bt,"0.4.4"),(0,b.registerVersion)(Bt,"0.4.4","esm2017")}();const tl=(H,K)=>K.some(te=>H instanceof te);let Yo,Gr;const Vs=new WeakMap,es=new WeakMap,_s=new WeakMap,ha=new WeakMap,Ri=new WeakMap;let ts={get(H,K,te){if(H instanceof IDBTransaction){if("done"===K)return es.get(H);if("objectStoreNames"===K)return H.objectStoreNames||_s.get(H);if("store"===K)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Us(H[K])},set:(H,K,te)=>(H[K]=te,!0),has:(H,K)=>H instanceof IDBTransaction&&("done"===K||"store"===K)||K in H};function vo(H){return"function"==typeof H?function Ol(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nl(){return Gr||(Gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...K){return H.apply(Gs(this),K),Us(Vs.get(this))}:function(...K){return Us(H.apply(Gs(this),K))}:function(K,...te){const we=H.call(Gs(this),K,...te);return _s.set(we,K.sort?K.sort():[K]),Us(we)}}(H):(H instanceof IDBTransaction&&function hl(H){if(es.has(H))return;const K=new Promise((te,we)=>{const He=()=>{H.removeEventListener("complete",st),H.removeEventListener("error",Vt),H.removeEventListener("abort",Vt)},st=()=>{te(),He()},Vt=()=>{we(H.error||new DOMException("AbortError","AbortError")),He()};H.addEventListener("complete",st),H.addEventListener("error",Vt),H.addEventListener("abort",Vt)});es.set(H,K)}(H),tl(H,function dl(){return Yo||(Yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,ts):H)}function Us(H){if(H instanceof IDBRequest)return function Nr(H){const K=new Promise((te,we)=>{const He=()=>{H.removeEventListener("success",st),H.removeEventListener("error",Vt)},st=()=>{te(Us(H.result)),He()},Vt=()=>{we(H.error),He()};H.addEventListener("success",st),H.addEventListener("error",Vt)});return K.then(te=>{te instanceof IDBCursor&&Vs.set(te,H)}).catch(()=>{}),Ri.set(K,H),K}(H);if(ha.has(H))return ha.get(H);const K=vo(H);return K!==H&&(ha.set(H,K),Ri.set(K,H)),K}const Gs=H=>Ri.get(H);function Oo(H,K,{blocked:te,upgrade:we,blocking:He,terminated:st}={}){const Vt=indexedDB.open(H,K),Gt=Us(Vt);return we&&Vt.addEventListener("upgradeneeded",Zt=>{we(Us(Vt.result),Zt.oldVersion,Zt.newVersion,Us(Vt.transaction))}),te&&Vt.addEventListener("blocked",()=>te()),Gt.then(Zt=>{st&&Zt.addEventListener("close",()=>st()),He&&Zt.addEventListener("versionchange",()=>He())}).catch(()=>{}),Gt}function yo(H,{blocked:K}={}){const te=indexedDB.deleteDatabase(H);return K&&te.addEventListener("blocked",()=>K()),Us(te).then(()=>{})}const wa=["get","getKey","getAll","getAllKeys","count"],Jl=["put","add","delete","clear"],mc=new Map;function ao(H,K){var te;if(!(H instanceof IDBDatabase)||K in H||"string"!=typeof K)return;if(mc.get(K))return mc.get(K);const we=K.replace(/FromIndex$/,""),He=K!==we,st=Jl.includes(we);if(!(we in(He?IDBIndex:IDBObjectStore).prototype)||!st&&!wa.includes(we))return;const Vt=function(Zt){return(te=te||(0,ie.Z)(function*(vn,...Bn){const Kn=this.transaction(vn,st?"readwrite":"readonly");let ti=Kn.store;return He&&(ti=ti.index(Bn.shift())),(yield Promise.all([ti[we](...Bn),st&&Kn.done]))[0]})).apply(this,arguments)};return mc.set(K,Vt),Vt}var Pl,gc,ec,kl,Si,Js,bo,nr,Es,fa,Po,Na,Ia,fl,Nl,ko,ws,Qo,Bs,No;!function Qr(H){ts=H(ts)}(H=>({...H,get:(K,te,we)=>ao(K,te)||H.get(K,te,we),has:(K,te)=>!!ao(K,te)||H.has(K,te)}));const js="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",Ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_c="https://fcmregistrations.googleapis.com/v1",Fa="google.c.a.c_id",As="google.c.a.c_l",rl="google.c.a.ts";var Jo=function(H){return H.PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",H}(Jo||{});function Ki(H){const K=new Uint8Array(H);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function il(H){const te=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(te),He=new Uint8Array(we.length);for(let st=0;st<we.length;++st)He[st]=we.charCodeAt(st);return He}const Mr="fcm_token_details_db",Fl=5,La="fcm_token_object_Store",pl="firebase-messaging-database",Va=1,Hs="firebase-messaging-store";let Is=null;function lo(){return Is||(Is=Oo(pl,Va,{upgrade:(H,K)=>{0===K&&H.createObjectStore(Hs)}})),Is}function Eo(H){return(gc=gc||(0,ie.Z)(function*(K){const te=Ba(K),He=yield(yield lo()).transaction(Hs).objectStore(Hs).get(te);if(He)return He;{const st=yield function Zi(H){return(Pl=Pl||(0,ie.Z)(function*(K){var te;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Gt=>Gt.name).includes(Mr))return null;let we=null;return(yield Oo(Mr,Fl,{upgrade:function(Vt,Gt,Zt,vn){return(te=te||(0,ie.Z)(function*(Bn,Kn,ti,Os){var Or;if(Kn<2||!Bn.objectStoreNames.contains(La))return;const Ps=Os.objectStore(La),Ts=yield Ps.index("fcmSenderId").get(K);if(yield Ps.clear(),Ts)if(2===Kn){const gr=Ts;if(!gr.auth||!gr.p256dh||!gr.endpoint)return;we={token:gr.fcmToken,createTime:null!==(Or=gr.createTime)&&void 0!==Or?Or:Date.now(),subscriptionOptions:{auth:gr.auth,p256dh:gr.p256dh,endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:"string"==typeof gr.vapidKey?gr.vapidKey:Ki(gr.vapidKey)}}}else if(3===Kn){const gr=Ts;we={token:gr.fcmToken,createTime:gr.createTime,subscriptionOptions:{auth:Ki(gr.auth),p256dh:Ki(gr.p256dh),endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:Ki(gr.vapidKey)}}}else if(4===Kn){const gr=Ts;we={token:gr.fcmToken,createTime:gr.createTime,subscriptionOptions:{auth:Ki(gr.auth),p256dh:Ki(gr.p256dh),endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:Ki(gr.vapidKey)}}}})).apply(this,arguments)}})).close(),yield yo(Mr),yield yo("fcm_vapid_details_db"),yield yo("undefined"),function tc(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:K}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}(we)?we:null})).apply(this,arguments)}(K.appConfig.senderId);if(st)return yield Ci(K,st),st}})).apply(this,arguments)}function Ci(H,K){return(ec=ec||(0,ie.Z)(function*(te,we){const He=Ba(te),Vt=(yield lo()).transaction(Hs,"readwrite");return yield Vt.objectStore(Hs).put(we,He),yield Vt.done,we})).apply(this,arguments)}function Ba({appConfig:H}){return H.appId}const hs=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ja(H,K){return(Si=Si||(0,ie.Z)(function*(te,we){const He=yield J(te),st=Me(we),Vt={method:"POST",headers:He,body:JSON.stringify(st)};let Gt;try{Gt=yield(yield fetch(S(te.appConfig),Vt)).json()}catch(Zt){throw hs.create("token-subscribe-failed",{errorInfo:Zt?.toString()})}if(Gt.error)throw hs.create("token-subscribe-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw hs.create("token-subscribe-no-token");return Gt.token})).apply(this,arguments)}function Ha(H,K){return(bo=bo||(0,ie.Z)(function*(te,we){const st={method:"DELETE",headers:yield J(te)};try{const Gt=yield(yield fetch(`${S(te.appConfig)}/${we}`,st)).json();if(Gt.error)throw hs.create("token-unsubscribe-failed",{errorInfo:Gt.error.message})}catch(Vt){throw hs.create("token-unsubscribe-failed",{errorInfo:Vt?.toString()})}})).apply(this,arguments)}function S({projectId:H}){return`${_c}/projects/${H}/registrations`}function J(H){return(nr=nr||(0,ie.Z)(function*({appConfig:K,installations:te}){const we=yield te.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Me({p256dh:H,auth:K,endpoint:te,vapidKey:we}){const He={web:{endpoint:te,auth:K,p256dh:H}};return we!==Ws&&(He.web.applicationPubKey=we),He}const W=6048e5;function ve(H){return(Es=Es||(0,ie.Z)(function*(K){const te=yield function Fr(H,K){return(Ia=Ia||(0,ie.Z)(function*(te,we){return(yield te.pushManager.getSubscription())||te.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:il(we)})})).apply(this,arguments)}(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:te.endpoint,auth:Ki(te.getKey("auth")),p256dh:Ki(te.getKey("p256dh"))},He=yield Eo(K.firebaseDependencies);if(He){if(function Wr(H,K){return K.vapidKey===H.vapidKey&&K.endpoint===H.endpoint&&K.auth===H.auth&&K.p256dh===H.p256dh}(He.subscriptionOptions,we))return Date.now()>=He.createTime+W?function Lt(H,K){return(Po=Po||(0,ie.Z)(function*(te,we){try{const He=yield function co(H,K){return(Js=Js||(0,ie.Z)(function*(te,we){const He=yield J(te),st=Me(we.subscriptionOptions),Vt={method:"PATCH",headers:He,body:JSON.stringify(st)};let Gt;try{Gt=yield(yield fetch(`${S(te.appConfig)}/${we.token}`,Vt)).json()}catch(Zt){throw hs.create("token-update-failed",{errorInfo:Zt?.toString()})}if(Gt.error)throw hs.create("token-update-failed",{errorInfo:Gt.error.message});if(!Gt.token)throw hs.create("token-update-no-token");return Gt.token})).apply(this,arguments)}(te.firebaseDependencies,we),st=Object.assign(Object.assign({},we),{token:He,createTime:Date.now()});return yield Ci(te.firebaseDependencies,st),He}catch(He){throw yield function Ze(H){return(fa=fa||(0,ie.Z)(function*(K){const te=yield Eo(K.firebaseDependencies);te&&(yield Ha(K.firebaseDependencies,te.token),yield function Ua(H){return(kl=kl||(0,ie.Z)(function*(K){const te=Ba(K),He=(yield lo()).transaction(Hs,"readwrite");yield He.objectStore(Hs).delete(te),yield He.done})).apply(this,arguments)}(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}(te),He}})).apply(this,arguments)}(K,{token:He.token,createTime:Date.now(),subscriptionOptions:we}):He.token;try{yield Ha(K.firebaseDependencies,He.token)}catch(st){console.warn(st)}return gn(K.firebaseDependencies,we)}return gn(K.firebaseDependencies,we)})).apply(this,arguments)}function gn(H,K){return(Na=Na||(0,ie.Z)(function*(te,we){const st={token:yield ja(te,we),createTime:Date.now(),subscriptionOptions:we};return yield Ci(te,st),st.token})).apply(this,arguments)}function ui(H){const K={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function Lr(H,K){if(!K.notification)return;H.notification={};const te=K.notification.title;te&&(H.notification.title=te);const we=K.notification.body;we&&(H.notification.body=we);const He=K.notification.image;He&&(H.notification.image=He);const st=K.notification.icon;st&&(H.notification.icon=st)}(K,H),function ns(H,K){K.data&&(H.data=K.data)}(K,H),function Oi(H,K){var te,we,He,st,Vt;if(!(K.fcmOptions||null!==(te=K.notification)&&void 0!==te&&te.click_action))return;H.fcmOptions={};const Gt=null!==(He=null===(we=K.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==He?He:null===(st=K.notification)||void 0===st?void 0:st.click_action;Gt&&(H.fcmOptions.link=Gt);const Zt=null===(Vt=K.fcmOptions)||void 0===Vt?void 0:Vt.analytics_label;Zt&&(H.fcmOptions.analyticsLabel=Zt)}(K,H),K}function Fo(H,K){const te=[];for(let we=0;we<H.length;we++)te.push(H.charAt(we)),we<K.length&&te.push(K.charAt(we));return te.join("")}function ea(H){return hs.create("missing-app-config-values",{valueName:H})}Fo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lo{constructor(K,te,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const He=function ma(H){if(!H||!H.options)throw ea("App Configuration Object");if(!H.name)throw ea("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:te}=H;for(const we of K)if(!te[we])throw ea(we);return{appName:H.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:He,installations:te,analyticsProvider:we}}_delete(){return Promise.resolve()}}function Ai(H,K){return(ws=ws||(0,ie.Z)(function*(te,we){if(!navigator)throw hs.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hs.create("permission-blocked");return yield function uo(H,K){return(ko=ko||(0,ie.Z)(function*(te,we){we?te.vapidKey=we:te.vapidKey||(te.vapidKey=Ws)})).apply(this,arguments)}(te,we?.vapidKey),yield function is(H,K){return(Nl=Nl||(0,ie.Z)(function*(te,we){if(!we&&!te.swRegistration&&(yield function rs(H){return(fl=fl||(0,ie.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(js,{scope:vs}),K.swRegistration.update().catch(()=>{})}catch(te){throw hs.create("failed-service-worker-registration",{browserErrorMessage:te?.message})}})).apply(this,arguments)}(te)),we||!te.swRegistration){if(!(we instanceof ServiceWorkerRegistration))throw hs.create("invalid-sw-registration");te.swRegistration=we}})).apply(this,arguments)}(te,we?.serviceWorkerRegistration),ve(te)})).apply(this,arguments)}function ho(H,K){return(Bs=Bs||(0,ie.Z)(function*(te,we){const He=we.data;if(!He.isFirebaseMessaging)return;te.onMessageHandler&&He.messageType===Jo.PUSH_RECEIVED&&("function"==typeof te.onMessageHandler?te.onMessageHandler(ui(He)):te.onMessageHandler.next(ui(He)));const st=He.data;(function qi(H){return"object"==typeof H&&!!H&&Fa in H})(st)&&"1"===st["google.c.a.e"]&&(yield function Ll(H,K,te){return(Qo=Qo||(0,ie.Z)(function*(we,He,st){const Vt=function Vl(H){switch(H){case Jo.NOTIFICATION_CLICKED:return"notification_open";case Jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(He);(yield we.firebaseDependencies.analyticsProvider.get()).logEvent(Vt,{message_id:st[Fa],message_name:st[As],message_time:st[rl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(te,He.messageType,st))})).apply(this,arguments)}const iu="@firebase/messaging",gl=H=>{const K=new Lo(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>ho(K,te)),K},wo=H=>{const K=H.getProvider("messaging").getImmediate();return{getToken:we=>Ai(K,we)}};function Fc(){return(No=No||(0,ie.Z)(function*(){try{yield(0,ye.eu)()}catch{return!1}return typeof window<"u"&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Lc,su,br,yl,Qu,Vc,vc,Uc,Bc;!function _l(){(0,b._registerComponent)(new Se.wA("messaging",gl,"PUBLIC")),(0,b._registerComponent)(new Se.wA("messaging-internal",wo,"PRIVATE")),(0,b.registerVersion)(iu,"0.12.4"),(0,b.registerVersion)(iu,"0.12.4","esm2017")}();const Yt="analytics",di="firebase_id",Cs="origin",xa=6e4,ss="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",za="https://www.googletagmanager.com/gtag/js",Ui=new Le.Yd("@firebase/analytics"),Jn=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Io(H){if(!H.startsWith(za)){const K=Jn.create("invalid-gtag-resource",{gtagURL:H});return Ui.warn(K.message),""}return H}function Bl(H){return Promise.all(H.map(K=>K.catch(te=>te)))}const P=30,Te=new class he{constructor(K={},te=1e3){this.throttleMetadata=K,this.intervalMillis=te}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,te){this.throttleMetadata[K]=te}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function gt(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function Ut(H){return(yl=yl||(0,ie.Z)(function*(K,te=Te,we){const{appId:He,apiKey:st,measurementId:Vt}=K.options;if(!He)throw Jn.create("no-app-id");if(!st){if(Vt)return{measurementId:Vt,appId:He};throw Jn.create("no-api-key")}const Gt=te.getThrottleMetadata(He)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zt=new Tn;return setTimeout((0,ie.Z)(function*(){Zt.abort()}),void 0!==we?we:xa),er({appId:He,apiKey:st,measurementId:Vt},Gt,Zt,te)})).apply(this,arguments)}function er(H,K,te){return(Qu=Qu||(0,ie.Z)(function*(we,{throttleEndTimeMillis:He,backoffCount:st},Vt,Gt=Te){var Zt;const{appId:vn,measurementId:Bn}=we;try{yield function Zr(H,K){return new Promise((te,we)=>{const He=Math.max(K-Date.now(),0),st=setTimeout(te,He);H.addEventListener(()=>{clearTimeout(st),we(Jn.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(Vt,He)}catch(Kn){if(Bn)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${Kn?.message}]`),{appId:vn,measurementId:Bn};throw Kn}try{const Kn=yield function hn(H){return(br=br||(0,ie.Z)(function*(K){var te;const{appId:we,apiKey:He}=K,st={method:"GET",headers:gt(He)},Vt=ss.replace("{app-id}",we),Gt=yield fetch(Vt,st);if(200!==Gt.status&&304!==Gt.status){let Zt="";try{const vn=yield Gt.json();null!==(te=vn.error)&&void 0!==te&&te.message&&(Zt=vn.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:Zt})}return Gt.json()})).apply(this,arguments)}(we);return Gt.deleteThrottleMetadata(vn),Kn}catch(Kn){const ti=Kn;if(!function Bi(H){if(!(H instanceof ye.ZR&&H.customData))return!1;const K=Number(H.customData.httpStatus);return 429===K||500===K||503===K||504===K}(ti)){if(Gt.deleteThrottleMetadata(vn),Bn)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${ti?.message}]`),{appId:vn,measurementId:Bn};throw Kn}const Os=503===Number(null===(Zt=ti?.customData)||void 0===Zt?void 0:Zt.httpStatus)?(0,ye.$s)(st,Gt.intervalMillis,P):(0,ye.$s)(st,Gt.intervalMillis),Or={throttleEndTimeMillis:Date.now()+Os,backoffCount:st+1};return Gt.setThrottleMetadata(vn,Or),Ui.debug(`Calling attemptFetch again in ${Os} millis`),er(we,Or,Vt,Gt)}})).apply(this,arguments)}class Tn{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}let Ms,$i;function rc(H,K,te,we,He,st,Vt){return(Uc=Uc||(0,ie.Z)(function*(Gt,Zt,vn,Bn,Kn,ti,Os){var Or;const Ps=Ut(Gt);Ps.then(Ho=>{vn[Ho.measurementId]=Ho.appId,Gt.options.measurementId&&Ho.measurementId!==Gt.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${Gt.options.measurementId}) does not match the measurement ID fetched from the server (${Ho.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ho=>Ui.error(Ho)),Zt.push(Ps);const Ts=function Tu(){return(vc=vc||(0,ie.Z)(function*(){if(!(0,ye.hl)())return Ui.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(H){return Ui.warn(Jn.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(Ho=>{if(Ho)return Bn.getId()}),[gr,Ti]=yield Promise.all([Ps,Ts]);(function U(H){const K=window.document.getElementsByTagName("script");for(const te of Object.values(K))if(te.src&&te.src.includes(za)&&te.src.includes(H))return te;return null})(ti)||function Zn(H,K){const te=function Fn(H,K){let te;return window.trustedTypes&&(te=window.trustedTypes.createPolicy(H,K)),te}("firebase-js-sdk-policy",{createScriptURL:Io}),we=document.createElement("script"),He=`${za}?l=${H}&id=${K}`;we.src=te?te?.createScriptURL(He):He,we.async=!0,document.head.appendChild(we)}(ti,gr.measurementId),$i&&(Kn("consent","default",$i),function rn(H){$i=H}(void 0)),Kn("js",new Date);const To=null!==(Or=Os?.config)&&void 0!==Or?Or:{};return To[Cs]="firebase",To.update=!0,null!=Ti&&(To[di]=Ti),Kn("config",gr.measurementId,To),Ms&&(Kn("set",Ms),function Hc(H){Ms=H}(void 0)),gr.measurementId})).apply(this,arguments)}class wd{constructor(K){this.app=K}_delete(){return delete na[this.app.options.appId],Promise.resolve()}}let na={},ic=[];const bl={};let Rs,Bo,Ta="dataLayer",sc=!1;function Tt(H,K,te){!function Da(){const H=[];if((0,ye.ru)()&&H.push("This is a browser extension environment."),(0,ye.zI)()||H.push("Cookies are not available."),H.length>0){const K=H.map((we,He)=>`(${He+1}) ${we}`).join(" "),te=Jn.create("invalid-analytics-context",{errorInfo:K});Ui.warn(te.message)}}();const we=H.options.appId;if(!we)throw Jn.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw Jn.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=na[we])throw Jn.create("already-exists",{id:we});if(!sc){!function fo(H){let K=[];Array.isArray(window[H])?K=window[H]:window[H]=K}(Ta);const{wrappedGtag:st,gtagCore:Vt}=function R(H,K,te,we,He){let st=function(...Vt){window[we].push(arguments)};return window[He]&&"function"==typeof window[He]&&(st=window[He]),window[He]=function x(H,K,te,we){var He;return function st(Vt){return(He=He||(0,ie.Z)(function*(Gt,...Zt){try{if("event"===Gt){const[vn,Bn]=Zt;yield function Ot(H,K,te,we,He){return(su=su||(0,ie.Z)(function*(st,Vt,Gt,Zt,vn){try{let Bn=[];if(vn&&vn.send_to){let Kn=vn.send_to;Array.isArray(Kn)||(Kn=[Kn]);const ti=yield Bl(Gt);for(const Os of Kn){const Or=ti.find(Ts=>Ts.measurementId===Os),Ps=Or&&Vt[Or.appId];if(!Ps){Bn=[];break}Bn.push(Ps)}}0===Bn.length&&(Bn=Object.values(Vt)),yield Promise.all(Bn),st("event",Zt,vn||{})}catch(Bn){Ui.error(Bn)}})).apply(this,arguments)}(H,K,te,vn,Bn)}else if("config"===Gt){const[vn,Bn]=Zt;yield function In(H,K,te,we,He,st){return(Lc=Lc||(0,ie.Z)(function*(Vt,Gt,Zt,vn,Bn,Kn){const ti=vn[Bn];try{if(ti)yield Gt[ti];else{const Or=(yield Bl(Zt)).find(Ps=>Ps.measurementId===Bn);Or&&(yield Gt[Or.appId])}}catch(Os){Ui.error(Os)}Vt("config",Bn,Kn)})).apply(this,arguments)}(H,K,te,we,vn,Bn)}else if("consent"===Gt){const[vn]=Zt;H("consent","update",vn)}else if("get"===Gt){const[vn,Bn,Kn]=Zt;H("get",vn,Bn,Kn)}else if("set"===Gt){const[vn]=Zt;H("set",vn)}else H(Gt,...Zt)}catch(vn){Ui.error(vn)}})).apply(this,arguments)}}(st,H,K,te),{gtagCore:st,wrappedGtag:window[He]}}(na,ic,bl,Ta,"gtag");Bo=st,Rs=Vt,sc=!0}return na[we]=rc(H,ic,bl,K,Rs,Ta,te),new wd(H)}function yc(){return(Bc=Bc||(0,ie.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch{return!1}})).apply(this,arguments)}const Yi="@firebase/analytics";!function Wa(){(0,b._registerComponent)(new Se.wA(Yt,(K,{options:te})=>Tt(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,b._registerComponent)(new Se.wA("analytics-internal",function H(K){try{const te=K.getProvider(Yt).getImmediate();return{logEvent:(we,He,st)=>function bc(H,K,te,we){H=(0,ye.m9)(H),function $a(H,K,te,we,He){return(Vc=Vc||(0,ie.Z)(function*(st,Vt,Gt,Zt,vn){if(vn&&vn.global)st("event",Gt,Zt);else{const Bn=yield Vt;st("event",Gt,Object.assign(Object.assign({},Zt),{send_to:Bn}))}})).apply(this,arguments)}(Bo,na[H.app.options.appId],K,te,we).catch(He=>Ui.error(He))}(te,we,He,st)}}catch(te){throw Jn.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,b.registerVersion)(Yi,"0.10.0"),(0,b.registerVersion)(Yi,"0.10.0","esm2017")}();var eo=V(1954),Ec=V(2631);const qa=new class Xu extends Ec.v{}(class Ks extends eo.o{constructor(K,te){super(K,te),this.scheduler=K,this.work=te}schedule(K,te=0){return te>0?super.schedule(K,te):(this.delay=te,this.state=K,this.scheduler.flush(this),this)}execute(K,te){return te>0||this.closed?super.execute(K,te):this._execute(K,te)}requestAsyncId(K,te,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(K,te,we):(K.flush(this),0)}});var zc=V(6321),ia=V(5592),Kd=V(9397),El=V(5137),$c=V(3093);const Au=new g.GfV("7.6.1"),oc="__angularfire_symbol__analyticsIsSupportedValue",Gc="__angularfire_symbol__analyticsIsSupported",ac="__angularfire_symbol__remoteConfigIsSupportedValue",wc="__angularfire_symbol__remoteConfigIsSupported",Ic="__angularfire_symbol__messagingIsSupportedValue",du="__angularfire_symbol__messagingIsSupported";function Ju(H,K,te){if(K){if(1===K.length)return K[0];const st=K.filter(Vt=>Vt.app===te);if(1===st.length)return st[0]}return te.container.getProvider(H).getImmediate({optional:!0})}globalThis[Gc]||(globalThis[Gc]=yc().then(H=>globalThis[oc]=H).catch(()=>globalThis[oc]=!1)),globalThis[du]||(globalThis[du]=Fc().then(H=>globalThis[Ic]=H).catch(()=>globalThis[Ic]=!1)),globalThis[wc]||(globalThis[wc]=Zo().then(H=>globalThis[ac]=H).catch(()=>globalThis[ac]=!1));const hu=(H,K)=>{const te=K?[K]:(0,z.C6)(),we=[];return te.forEach(He=>{He.container.getProvider(H).instances.forEach(Vt=>{we.includes(Vt)||we.push(Vt)})}),we};function Co(){}class ol{constructor(K,te=qa){this.zone=K,this.delegate=te}now(){return this.delegate.now()}schedule(K,te,we){const He=this.zone;return this.delegate.schedule(function(Vt){He.runGuarded(()=>{K.apply(this,[Vt])})},te,we)}}class Wc{constructor(K){this.zone=K,this.task=null}call(K,te){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)),te.pipe((0,Kd.b)({next:we,complete:we,error:we})).subscribe(K).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xo=(()=>{class H{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new ol(Zone.current)),this.insideAngular=te.run(()=>new ol(Zone.current,zc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(te){return new(te||H)(g.LFG(g.R0b))},H.\u0275prov=g.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function sa(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function al(H){return sa().ngZone.run(()=>H())}function oi(H){return sa(),function jo(H){return function(te){return(te=te.lift(new Wc(H.ngZone))).pipe((0,El.R)(H.outsideAngular),(0,$c.Q)(H.insideAngular))}}(sa())(H)}const Qi=(H,K)=>function(){const we=arguments;return K&&setTimeout(()=>{"scheduled"===K.state&&K.invoke()},10),al(()=>H.apply(void 0,we))},Fi=(H,K)=>function(){let te;const we=arguments;for(let st=0;st<arguments.length;st++)"function"==typeof we[st]&&(K&&(te||(te=al(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)))),we[st]=Qi(we[st],te));const He=function fs(H){return sa().ngZone.runOutsideAngular(()=>H())}(()=>H.apply(this,we));if(!K){if(He instanceof ia.y){const st=sa();return He.pipe((0,El.R)(st.outsideAngular),(0,$c.Q)(st.insideAngular))}return al(()=>He)}return He instanceof ia.y?He.pipe(oi):He instanceof Promise?al(()=>new Promise((st,Vt)=>He.then(Gt=>al(()=>st(Gt)),Gt=>al(()=>Vt(Gt))))):"function"==typeof He&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),He.apply(this,arguments)}:al(()=>He)}},6710:(on,et,V)=>{V.d(et,{$:()=>Ci,A:()=>xn,D:()=>ur,I:()=>Ol,J:()=>yo,L:()=>Po,N:()=>li,P:()=>au,Q:()=>yi,R:()=>Ta,U:()=>_c,V:()=>Fa,W:()=>As,X:()=>Ws,Y:()=>Jo,Z:()=>Ki,_:()=>La,a:()=>xa,a0:()=>Ua,a1:()=>Ba,a2:()=>hs,a3:()=>J,a4:()=>Me,a5:()=>W,a6:()=>ve,a7:()=>Ze,a8:()=>Lt,a9:()=>gn,aA:()=>Qt,aB:()=>du,aC:()=>Er,aD:()=>En,aE:()=>ac,aF:()=>qa,aG:()=>Xu,aH:()=>Nr,aL:()=>Ui,aO:()=>pa,aa:()=>Fr,ab:()=>Wr,ac:()=>ui,ad:()=>ns,ae:()=>Oi,af:()=>qi,ai:()=>ma,aj:()=>ea,ak:()=>Lo,an:()=>Va,ao:()=>Nc,aq:()=>su,ar:()=>Vo,as:()=>Hr,at:()=>tr,au:()=>ki,av:()=>en,aw:()=>ti,ax:()=>wl,ay:()=>Ko,az:()=>Mn,b:()=>di,c:()=>uu,d:()=>vh,e:()=>bc,f:()=>ia,g:()=>Au,h:()=>El,i:()=>Bi,j:()=>Gc,k:()=>Ts,l:()=>sc,m:()=>To,o:()=>td,p:()=>mt,r:()=>Su,s:()=>Bo,u:()=>Tt});var Le,Ae,Fe,ce,Ce,$e,lt,ht,jt,At,Rt,St,Kt,xt,xe,Ge,Oe,Ke,Dt,Qe,kt,pn,cn,tn,rr,Br,hr,Rr,Hn,dt,Et,ot,pt,It,at,Ft,Ct,Xn,Sn,Nn,Pn,Ir,Wn,Sr,Ln,fr,ii,Ei,wi,zr,si,Cr,An,Vn,zn,or,pr,_r,mr,ls,ar,Vi,xr,Ii,Ar,vt,We,wt,qe,rt,Nt,un,Gn,cr,_i,ge,q,N,L,F,le,g=V(5861),z=V(9058),ie=V(534),b=V(7582),ye=V(7879),Se=V(4537);const mt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ur=function yn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Mi=function qn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pi=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ye.Yd("@firebase/auth");function mn(G,...E){ut.logLevel<=ye.in.ERROR&&ut.error(`Auth (${ie.SDK_VERSION}): ${G}`,...E)}function en(G,...E){throw mi(G,...E)}function Mn(G,...E){return mi(G,...E)}function ir(G,E,w){const M=Object.assign(Object.assign({},Mi()),{[E]:w});return new z.LL("auth","Firebase",M).create(E,{appName:G.name})}function Xr(G,E,w){if(!(E instanceof w))throw w.name!==E.constructor.name&&en(G,"argument-error"),ir(G,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mi(G,...E){if("string"!=typeof G){const w=E[0],M=[...E.slice(1)];return M[0]&&(M[0].appName=G.name),G._errorFactory.create(w,...M)}return pi.create(G,...E)}function Qt(G,E,...w){if(!G)throw mi(E,...w)}function $r(G){const E="INTERNAL ASSERTION FAILED: "+G;throw mn(E),new Error(E)}function Hr(G,E){G||$r(E)}function Tr(){var G;return typeof self<"u"&&(null===(G=self.location)||void 0===G?void 0:G.href)||""}function cs(){return"http:"===gs()||"https:"===gs()}function gs(){var G;return typeof self<"u"&&(null===(G=self.location)||void 0===G?void 0:G.protocol)||null}class Jr{constructor(E,w){this.shortDelay=E,this.longDelay=w,Hr(w>E,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Ys(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cs()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ji(G,E){Hr(G.emulator,"Emulator should always be set here");const{url:w}=G.emulator;return E?`${w}${E.startsWith("/")?E.slice(1):E}`:w}class bs{static initialize(E,w,M){this.fetchImpl=E,w&&(this.headersImpl=w),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},re=new Jr(3e4,6e4);function De(G,E){return G.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:G.tenantId}):E}function $(G,E,w,M){return(Le=Le||(0,g.Z)(function*(se,ue,Ne,Xe,Pt={}){return oe(se,Pt,(0,g.Z)(function*(){let $t={},sn={};Xe&&("GET"===ue?sn=Xe:$t={body:JSON.stringify(Xe)});const Qn=(0,z.xO)(Object.assign({key:se.config.apiKey},sn)).slice(1),fn=yield se._getAdditionalHeaders();return fn["Content-Type"]="application/json",se.languageCode&&(fn["X-Firebase-Locale"]=se.languageCode),bs.fetch()(je(se,se.config.apiHost,Ne,Qn),Object.assign({method:ue,headers:fn,referrerPolicy:"no-referrer"},$t))}))})).apply(this,arguments)}function oe(G,E,w){return(Ae=Ae||(0,g.Z)(function*(M,se,ue){M._canInitEmulator=!1;const Ne=Object.assign(Object.assign({},Ye),se);try{const Xe=new ft(M),Pt=yield Promise.race([ue(),Xe.promise]);Xe.clearNetworkTimeout();const $t=yield Pt.json();if("needConfirmation"in $t)throw Ee(M,"account-exists-with-different-credential",$t);if(Pt.ok&&!("errorMessage"in $t))return $t;{const sn=Pt.ok?$t.errorMessage:$t.error.message,[Qn,fn]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qn)throw Ee(M,"credential-already-in-use",$t);if("EMAIL_EXISTS"===Qn)throw Ee(M,"email-already-in-use",$t);if("USER_DISABLED"===Qn)throw Ee(M,"user-disabled",$t);const $n=Ne[Qn]||Qn.toLowerCase().replace(/[_\s]+/g,"-");if(fn)throw ir(M,$n,fn);en(M,$n)}}catch(Xe){if(Xe instanceof z.ZR)throw Xe;en(M,"network-request-failed",{message:String(Xe)})}})).apply(this,arguments)}function _e(G,E,w,M){return(Fe=Fe||(0,g.Z)(function*(se,ue,Ne,Xe,Pt={}){const $t=yield $(se,ue,Ne,Xe,Pt);return"mfaPendingCredential"in $t&&en(se,"multi-factor-auth-required",{_serverResponse:$t}),$t})).apply(this,arguments)}function je(G,E,w,M){const se=`${E}${w}?${M}`;return G.config.emulator?Ji(G.config,se):`${G.config.apiScheme}://${se}`}class ft{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((w,M)=>{this.timer=setTimeout(()=>M(Mn(this.auth,"network-request-failed")),re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ee(G,E,w){const M={appName:G.name};w.email&&(M.email=w.email),w.phoneNumber&&(M.phoneNumber=w.phoneNumber);const se=Mn(G,E,M);return se.customData._tokenResponse=w,se}function Be(G){if(G)try{const E=new Date(Number(G));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function dn(G){return 1e3*Number(G)}function kn(G){const[E,w,M]=G.split(".");if(void 0===E||void 0===w||void 0===M)return mn("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,z.tV)(w);return se?JSON.parse(se):(mn("Failed to decode base64 JWT payload"),null)}catch(se){return mn("Caught error parsing JWT payload as JSON",se?.toString()),null}}function vi(G,E){return(ht=ht||(0,g.Z)(function*(w,M,se=!1){if(se)return M;try{return yield M}catch(ue){throw ue instanceof z.ZR&&function qr({code:G}){return"auth/user-disabled"===G||"auth/user-token-expired"===G}(ue)&&w.auth.currentUser===w&&(yield w.auth.signOut()),ue}})).apply(this,arguments)}class Qs{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var w;if(E){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const se=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,se)}}schedule(E=!1){var w=this;if(!this.isRunning)return;const M=this.getInterval(E);this.timerId=setTimeout((0,g.Z)(function*(){yield w.iteration()}),M)}iteration(){var E=this;return(0,g.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&E.schedule(!0))}E.schedule()})()}}class io{constructor(E,w){this.createdAt=E,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qo(G){return(jt=jt||(0,g.Z)(function*(E){var w;const M=E.auth,se=yield E.getIdToken(),ue=yield vi(E,function Ie(G,E){return($e=$e||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:lookup",M)})).apply(this,arguments)}(M,{idToken:se}));Qt(ue?.users.length,M,"internal-error");const Ne=ue.users[0];E._notifyReloadListener(Ne);const Xe=null!==(w=Ne.providerUserInfo)&&void 0!==w&&w.length?function Di(G){return G.map(E=>{var{providerId:w}=E,M=(0,b._T)(E,["providerId"]);return{providerId:w,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(Ne.providerUserInfo):[],Pt=function ei(G,E){return[...G.filter(M=>!E.some(se=>se.providerId===M.providerId)),...E]}(E.providerData,Xe),Qn=!!E.isAnonymous&&!(E.email&&Ne.passwordHash||Pt?.length),fn={uid:Ne.localId,displayName:Ne.displayName||null,photoURL:Ne.photoUrl||null,email:Ne.email||null,emailVerified:Ne.emailVerified||!1,phoneNumber:Ne.phoneNumber||null,tenantId:Ne.tenantId||null,providerData:Pt,metadata:new io(Ne.createdAt,Ne.lastLoginAt),isAnonymous:Qn};Object.assign(E,fn)})).apply(this,arguments)}class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){Qt(E.idToken,"internal-error"),Qt(typeof E.idToken<"u","internal-error"),Qt(typeof E.refreshToken<"u","internal-error");const w="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function kr(G){const E=kn(G);return Qt(E,"internal-error"),Qt(typeof E.exp<"u","internal-error"),Qt(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,w)}getToken(E,w=!1){var M=this;return(0,g.Z)(function*(){return Qt(!M.accessToken||M.refreshToken,E,"user-token-expired"),w||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(E,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,w){var M=this;return(0,g.Z)(function*(){const{accessToken:se,refreshToken:ue,expiresIn:Ne}=yield function Ds(G,E){return(Rt=Rt||(0,g.Z)(function*(w,M){const se=yield oe(w,{},(0,g.Z)(function*(){const ue=(0,z.xO)({grant_type:"refresh_token",refresh_token:M}).slice(1),{tokenApiHost:Ne,apiKey:Xe}=w.config,Pt=je(w,Ne,"/v1/token",`key=${Xe}`),$t=yield w._getAdditionalHeaders();return $t["Content-Type"]="application/x-www-form-urlencoded",bs.fetch()(Pt,{method:"POST",headers:$t,body:ue})}));return{accessToken:se.access_token,expiresIn:se.expires_in,refreshToken:se.refresh_token}})).apply(this,arguments)}(E,w);M.updateTokensAndExpiration(se,ue,Number(Ne))})()}updateTokensAndExpiration(E,w,M){this.refreshToken=w||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(E,w){const{refreshToken:M,accessToken:se,expirationTime:ue}=w,Ne=new Kr;return M&&(Qt("string"==typeof M,"internal-error",{appName:E}),Ne.refreshToken=M),se&&(Qt("string"==typeof se,"internal-error",{appName:E}),Ne.accessToken=se),ue&&(Qt("number"==typeof ue,"internal-error",{appName:E}),Ne.expirationTime=ue),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return $r("not implemented")}}function us(G,E){Qt("string"==typeof G||typeof G>"u","internal-error",{appName:E})}class Ss{constructor(E){var{uid:w,auth:M,stsTokenManager:se}=E,ue=(0,b._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=M,this.stsTokenManager=se,this.accessToken=se.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new io(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(E){var w=this;return(0,g.Z)(function*(){const M=yield vi(w,w.stsTokenManager.getToken(w.auth,E));return Qt(M,w.auth,"internal-error"),w.accessToken!==M&&(w.accessToken=M,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),M})()}getIdTokenResult(E){return function Bt(G){return(lt=lt||(0,g.Z)(function*(E,w=!1){const M=(0,z.m9)(E),se=yield M.getIdToken(w),ue=kn(se);Qt(ue&&ue.exp&&ue.auth_time&&ue.iat,M.auth,"internal-error");const Ne="object"==typeof ue.firebase?ue.firebase:void 0,Xe=Ne?.sign_in_provider;return{claims:ue,token:se,authTime:Be(dn(ue.auth_time)),issuedAtTime:Be(dn(ue.iat)),expirationTime:Be(dn(ue.exp)),signInProvider:Xe||null,signInSecondFactor:Ne?.sign_in_second_factor||null}})).apply(this,arguments)}(this,E)}reload(){return function yr(G){return(At=At||(0,g.Z)(function*(E){const w=(0,z.m9)(E);yield qo(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}(this)}_assign(E){this!==E&&(Qt(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(w=>Object.assign({},w)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const w=new Ss(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(E){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,w=!1){var M=this;return(0,g.Z)(function*(){let se=!1;E.idToken&&E.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(E),se=!0),w&&(yield qo(M)),yield M.auth._persistUserIfCurrent(M),se&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var E=this;return(0,g.Z)(function*(){const w=yield E.getIdToken();return yield vi(E,function fe(G,E){return(ce=ce||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:delete",M)})).apply(this,arguments)}(E.auth,{idToken:w})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,w){var M,se,ue,Ne,Xe,Pt,$t,sn;const Qn=null!==(M=w.displayName)&&void 0!==M?M:void 0,fn=null!==(se=w.email)&&void 0!==se?se:void 0,$n=null!==(ue=w.phoneNumber)&&void 0!==ue?ue:void 0,ps=null!==(Ne=w.photoURL)&&void 0!==Ne?Ne:void 0,Ka=null!==(Xe=w.tenantId)&&void 0!==Xe?Xe:void 0,oa=null!==(Pt=w._redirectEventId)&&void 0!==Pt?Pt:void 0,Do=null!==($t=w.createdAt)&&void 0!==$t?$t:void 0,zs=null!==(sn=w.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:nd,emailVerified:Yd,isAnonymous:rd,providerData:Ou,stsTokenManager:Pu}=w;Qt(nd&&Pu,E,"internal-error");const id=Kr.fromJSON(this.name,Pu);Qt("string"==typeof nd,E,"internal-error"),us(Qn,E.name),us(fn,E.name),Qt("boolean"==typeof Yd,E,"internal-error"),Qt("boolean"==typeof rd,E,"internal-error"),us($n,E.name),us(ps,E.name),us(Ka,E.name),us(oa,E.name),us(Do,E.name),us(zs,E.name);const aa=new Ss({uid:nd,auth:E,email:fn,emailVerified:Yd,displayName:Qn,isAnonymous:rd,photoURL:ps,phoneNumber:$n,tenantId:Ka,stsTokenManager:id,createdAt:Do,lastLoginAt:zs});return Ou&&Array.isArray(Ou)&&(aa.providerData=Ou.map(Gl=>Object.assign({},Gl))),oa&&(aa._redirectEventId=oa),aa}static _fromIdTokenResponse(E,w,M=!1){return(0,g.Z)(function*(){const se=new Kr;se.updateFromServerResponse(w);const ue=new Ss({uid:w.localId,auth:E,stsTokenManager:se,isAnonymous:M});return yield qo(ue),ue})()}}const ba=new Map;function Er(G){Hr(G instanceof Function,"Expected a class definition");let E=ba.get(G);return E?(Hr(E instanceof G,"Instance stored in cache mismatched with class"),E):(E=new G,ba.set(G,E),E)}const li=(()=>{class G{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(w,M){var se=this;return(0,g.Z)(function*(){se.storage[w]=M})()}_get(w){var M=this;return(0,g.Z)(function*(){const se=M.storage[w];return void 0===se?null:se})()}_remove(w){var M=this;return(0,g.Z)(function*(){delete M.storage[w]})()}_addListener(w,M){}_removeListener(w,M){}}return G.type="NONE",G})();function En(G,E,w){return`firebase:${G}:${E}:${w}`}class dr{constructor(E,w,M){this.persistence=E,this.auth=w,this.userKey=M;const{config:se,name:ue}=this.auth;this.fullUserKey=En(this.userKey,se.apiKey,ue),this.fullPersistenceKey=En("persistence",se.apiKey,ue),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,g.Z)(function*(){const w=yield E.persistence._get(E.fullUserKey);return w?Ss._fromJSON(E.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var w=this;return(0,g.Z)(function*(){if(w.persistence===E)return;const M=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=E,M?w.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,w,M="authUser"){return(0,g.Z)(function*(){var se,ue;if(!w.length)return new dr(Er(li),E,M);const Ne=(yield Promise.all(w.map(function(Qn){return(se=se||(0,g.Z)(function*(fn){if(yield fn._isAvailable())return fn})).apply(this,arguments)}))).filter(Qn=>Qn);let Xe=Ne[0]||Er(li);const Pt=En(M,E.config.apiKey,E.name);let $t=null;for(const Qn of w)try{const fn=yield Qn._get(Pt);if(fn){const $n=Ss._fromJSON(E,fn);Qn!==Xe&&($t=$n),Xe=Qn;break}}catch{}const sn=Ne.filter(Qn=>Qn._shouldAllowMigration);return Xe._shouldAllowMigration&&sn.length?(Xe=sn[0],$t&&(yield Xe._set(Pt,$t.toJSON())),yield Promise.all(w.map(function(Qn){return(ue=ue||(0,g.Z)(function*(fn){if(fn!==Xe)try{yield fn._remove(Pt)}catch{}})).apply(this,arguments)})),new dr(Xe,E,M)):new dr(Xe,E,M)})()}}function ci(G){const E=G.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(Ls(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(Wi(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(Hi(E))return"Blackberry";if(Ro(E))return"Webos";if(Fs(E))return"Safari";if((E.includes("chrome/")||ds(E))&&!E.includes("edge/"))return"Chrome";if(ki(E))return"Android";{const M=G.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Wi(G=(0,z.z$)()){return/firefox\//i.test(G)}function Fs(G=(0,z.z$)()){const E=G.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function ds(G=(0,z.z$)()){return/crios\//i.test(G)}function Ls(G=(0,z.z$)()){return/iemobile/i.test(G)}function ki(G=(0,z.z$)()){return/android/i.test(G)}function Hi(G=(0,z.z$)()){return/blackberry/i.test(G)}function Ro(G=(0,z.z$)()){return/webos/i.test(G)}function tr(G=(0,z.z$)()){return/iphone|ipad|ipod/i.test(G)||/macintosh/i.test(G)&&/mobile/i.test(G)}function Ko(G=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(G)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(G)}function zi(G=(0,z.z$)()){return tr(G)||ki(G)||Ro(G)||Hi(G)||/windows phone/i.test(G)||Ls(G)}function da(G,E=[]){let w;switch(G){case"Browser":w=ci((0,z.z$)());break;case"Worker":w=`${ci((0,z.z$)())}-${G}`;break;default:w=G}const M=E.length?E.join(","):"FirebaseCore-web";return`${w}/JsCore/${ie.SDK_VERSION}/${M}`}function oo(G,E){return(Kt=Kt||(0,g.Z)(function*(w,M){return $(w,"GET","/v2/recaptchaConfig",De(w,M))})).apply(this,arguments)}function ka(G){return void 0!==G&&void 0!==G.getResponse}function Ea(G){return void 0!==G&&void 0!==G.enterprise}class Zo{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(w=>"EMAIL_PASSWORD_PROVIDER"===w.provider&&"OFF"!==w.enforcementState)}}function Yo(G){return new Promise((E,w)=>{const M=document.createElement("script");M.setAttribute("src",G),M.onload=E,M.onerror=se=>{const ue=Mn("internal-error");ue.customData=se,w(ue)},M.type="text/javascript",M.charset="UTF-8",function tl(){var G,E;return null!==(E=null===(G=document.getElementsByTagName("head"))||void 0===G?void 0:G[0])&&void 0!==E?E:document}().appendChild(M)})}function Gr(G){return`__${G}${Math.floor(1e6*Math.random())}`}class es{constructor(E){this.type="recaptcha-enterprise",this.auth=Nr(E)}verify(E="verify",w=!1){var M=this;return(0,g.Z)(function*(){var se;function Ne(Xe,Pt,$t){const sn=window.grecaptcha;Ea(sn)?sn.enterprise.ready(()=>{sn.enterprise.execute(Xe,{action:E}).then(Qn=>{Pt(Qn)}).catch(()=>{Pt("NO_RECAPTCHA")})}):$t(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Xe,Pt)=>{(function ue(Xe){return(se=se||(0,g.Z)(function*(Pt){var $t;if(!w){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(sn,Qn){return($t=$t||(0,g.Z)(function*(fn,$n){oo(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ps=>{if(void 0!==ps.recaptchaKey){const Ka=new Zo(ps);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Ka:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Ka,fn(Ka.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(ps=>{$n(ps)})})).apply(this,arguments)})})).apply(this,arguments)})(M.auth).then($t=>{if(!w&&Ea(window.grecaptcha))Ne($t,Xe,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));Yo("https://www.google.com/recaptcha/enterprise.js?render="+$t).then(()=>{Ne($t,Xe,Pt)}).catch(sn=>{Pt(sn)})}}).catch($t=>{Pt($t)})})})()}}function _s(G,E,w){return(xt=xt||(0,g.Z)(function*(M,se,ue,Ne=!1){const Xe=new es(M);let Pt;try{Pt=yield Xe.verify(ue)}catch{Pt=yield Xe.verify(ue,!0)}const $t=Object.assign({},se);return Object.assign($t,Ne?{captchaResp:Pt}:{captchaResponse:Pt}),Object.assign($t,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($t,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$t})).apply(this,arguments)}class ha{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,w){const M=ue=>new Promise((Ne,Xe)=>{try{Ne(E(ue))}catch(Pt){Xe(Pt)}});M.onAbort=w,this.queue.push(M);const se=this.queue.length-1;return()=>{this.queue[se]=()=>Promise.resolve()}}runMiddleware(E){var w=this;return(0,g.Z)(function*(){if(w.auth.currentUser===E)return;const M=[];try{for(const se of w.queue)yield se(E),se.onAbort&&M.push(se.onAbort)}catch(se){M.reverse();for(const ue of M)try{ue()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:se?.message})}})()}}class Ri{constructor(E,w,M,se){this.app=E,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=M,this.config=se,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hl(this),this.idTokenSubscription=new hl(this),this.beforeStateQueue=new ha(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=se.sdkClientVersion}_initializeWithPersistence(E,w){var M=this;return w&&(this._popupRedirectResolver=Er(w)),this._initializationPromise=this.queue((0,g.Z)(function*(){var se,ue;if(!M._deleted&&(M.persistenceManager=yield dr.create(M,E),!M._deleted)){if(null!==(se=M._popupRedirectResolver)&&void 0!==se&&se._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(w),M.lastNotifiedUid=(null===(ue=M.currentUser)||void 0===ue?void 0:ue.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,g.Z)(function*(){if(E._deleted)return;const w=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||w){if(E.currentUser&&w&&E.currentUser.uid===w.uid)return E._currentUser._assign(w),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(w,!0)}})()}initializeCurrentUser(E){var w=this;return(0,g.Z)(function*(){var M;const se=yield w.assertedPersistence.getCurrentUser();let ue=se,Ne=!1;if(E&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const Xe=null===(M=w.redirectUser)||void 0===M?void 0:M._redirectEventId,Pt=ue?._redirectEventId,$t=yield w.tryRedirectSignIn(E);(!Xe||Xe===Pt)&&$t?.user&&(ue=$t.user,Ne=!0)}if(!ue)return w.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ne)try{yield w.beforeStateQueue.runMiddleware(ue)}catch(Xe){ue=se,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(Xe))}return ue?w.reloadAndSetCurrentUserOrClear(ue):w.directlySetCurrentUser(null)}return Qt(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ue._redirectEventId?w.directlySetCurrentUser(ue):w.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(E){var w=this;return(0,g.Z)(function*(){let M=null;try{M=yield w._popupRedirectResolver._completeRedirectFn(w,E,!0)}catch{yield w._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(E){var w=this;return(0,g.Z)(function*(){try{yield qo(E)}catch(M){if("auth/network-request-failed"!==M?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const G=navigator;return G.languages&&G.languages[0]||G.language||null}()}_delete(){var E=this;return(0,g.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var w=this;return(0,g.Z)(function*(){const M=E?(0,z.m9)(E):null;return M&&Qt(M.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(M&&M._clone(w))})()}_updateCurrentUser(E,w=!1){var M=this;return(0,g.Z)(function*(){if(!M._deleted)return E&&Qt(M.tenantId===E.tenantId,M,"tenant-id-mismatch"),w||(yield M.beforeStateQueue.runMiddleware(E)),M.queue((0,g.Z)(function*(){yield M.directlySetCurrentUser(E),M.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,g.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var w=this;return this.queue((0,g.Z)(function*(){yield w.assertedPersistence.setPersistence(Er(E))}))}initializeRecaptchaConfig(){var E=this;return(0,g.Z)(function*(){const w=yield oo(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Zo(w);null==E.tenantId?E._agentRecaptchaConfig=M:E._tenantRecaptchaConfigs[E.tenantId]=M,M.emailPasswordEnabled&&new es(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new z.LL("auth","Firebase",E())}onAuthStateChanged(E,w,M){return this.registerStateListener(this.authStateSubscription,E,w,M)}beforeAuthStateChanged(E,w){return this.beforeStateQueue.pushCallback(E,w)}onIdTokenChanged(E,w,M){return this.registerStateListener(this.idTokenSubscription,E,w,M)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,w){var M=this;return(0,g.Z)(function*(){const se=yield M.getOrInitRedirectPersistenceManager(w);return null===E?se.removeCurrentUser():se.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var w=this;return(0,g.Z)(function*(){if(!w.redirectPersistenceManager){const M=E&&Er(E)||w._popupRedirectResolver;Qt(M,w,"argument-error"),w.redirectPersistenceManager=yield dr.create(w,[Er(M._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(E){var w=this;return(0,g.Z)(function*(){var M,se;return w._isInitialized&&(yield w.queue((0,g.Z)(function*(){}))),(null===(M=w._currentUser)||void 0===M?void 0:M._redirectEventId)===E?w._currentUser:(null===(se=w.redirectUser)||void 0===se?void 0:se._redirectEventId)===E?w.redirectUser:null})()}_persistUserIfCurrent(E){var w=this;return(0,g.Z)(function*(){if(E===w.currentUser)return w.queue((0,g.Z)(function*(){return w.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(w=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,w,M,se){if(this._deleted)return()=>{};const ue="function"==typeof w?w:w.next.bind(w),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Qt(Ne,this,"internal-error"),Ne.then(()=>ue(this.currentUser)),"function"==typeof w?E.addObserver(w,M,se):E.addObserver(w)}directlySetCurrentUser(E){var w=this;return(0,g.Z)(function*(){w.currentUser&&w.currentUser!==E&&w._currentUser._stopProactiveRefresh(),E&&w.isProactiveRefreshEnabled&&E._startProactiveRefresh(),w.currentUser=E,E?yield w.assertedPersistence.setCurrentUser(E):yield w.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,g.Z)(function*(){var w;const M={"X-Client-Version":E.clientVersion};E.app.options.appId&&(M["X-Firebase-gmpid"]=E.app.options.appId);const se=yield null===(w=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();se&&(M["X-Firebase-Client"]=se);const ue=yield E._getAppCheckToken();return ue&&(M["X-Firebase-AppCheck"]=ue),M})()}_getAppCheckToken(){var E=this;return(0,g.Z)(function*(){var w;const M=yield null===(w=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return M?.error&&function zt(G,...E){ut.logLevel<=ye.in.WARN&&ut.warn(`Auth (${ie.SDK_VERSION}): ${G}`,...E)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Nr(G){return(0,z.m9)(G)}class hl{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,z.ne)(w=>this.observer=w)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ol(G,E,w){const M=Nr(G);Qt(M._canInitEmulator,M,"emulator-config-failed"),Qt(/^https?:\/\//.test(E),M,"invalid-emulator-scheme");const se=!!w?.disableWarnings,ue=vo(E),{host:Ne,port:Xe}=function Us(G){const E=vo(G),w=/(\/\/)?([^?#/]+)/.exec(G.substr(E.length));if(!w)return{host:"",port:null};const M=w[2].split("@").pop()||"",se=/^(\[[^\]]+\])(:|$)/.exec(M);if(se){const ue=se[1];return{host:ue,port:Gs(M.substr(ue.length+1))}}{const[ue,Ne]=M.split(":");return{host:ue,port:Gs(Ne)}}}(E);M.config.emulator={url:`${ue}//${Ne}${null===Xe?"":`:${Xe}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Ne,port:Xe,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:se})}),se||function Oo(){function G(){const E=document.createElement("p"),w=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",G):G())}()}function vo(G){const E=G.indexOf(":");return E<0?"":G.substr(0,E+1)}function Gs(G){if(!G)return null;const E=Number(G);return isNaN(E)?null:E}class yo{constructor(E,w){this.providerId=E,this.signInMethod=w}toJSON(){return $r("not implemented")}_getIdTokenResponse(E){return $r("not implemented")}_linkToIdToken(E,w){return $r("not implemented")}_getReauthenticationResolver(E){return $r("not implemented")}}function wa(G,E){return(xe=xe||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:resetPassword",De(w,M))})).apply(this,arguments)}function Jl(G,E){return(Ge=Ge||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:update",M)})).apply(this,arguments)}function ao(G,E){return(Ke=Ke||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithPassword",De(w,M))})).apply(this,arguments)}function Pl(G,E){return(Dt=Dt||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:sendOobCode",De(w,M))})).apply(this,arguments)}function ec(G,E){return(kt=kt||(0,g.Z)(function*(w,M){return Pl(w,M)})).apply(this,arguments)}function kl(G,E){return(pn=pn||(0,g.Z)(function*(w,M){return Pl(w,M)})).apply(this,arguments)}class nr extends yo{constructor(E,w,M,se=null){super("password",M),this._email=E,this._password=w,this._tenantId=se}static _fromEmailAndPassword(E,w){return new nr(E,w,"password")}static _fromEmailAndCode(E,w,M=null){return new nr(E,w,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const w="string"==typeof E?JSON.parse(E):E;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(E){var w=this;return(0,g.Z)(function*(){var M;switch(w.signInMethod){case"password":const ue={returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=E._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Ne=yield _s(E,ue,"signInWithPassword");return ao(E,Ne)}var se;return ao(E,ue).catch(function(Ne){return(se=se||(0,g.Z)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pt=yield _s(E,ue,"signInWithPassword");return ao(E,Pt)}return Promise.reject(Xe)})).apply(this,arguments)});case"emailLink":return function Js(G,E){return(tn=tn||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithEmailLink",De(w,M))})).apply(this,arguments)}(E,{email:w._email,oobCode:w._password});default:en(E,"internal-error")}})()}_linkToIdToken(E,w){var M=this;return(0,g.Z)(function*(){switch(M.signInMethod){case"password":return Jl(E,{idToken:w,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function bo(G,E){return(rr=rr||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithEmailLink",De(w,M))})).apply(this,arguments)}(E,{idToken:w,email:M._email,oobCode:M._password});default:en(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Es(G,E){return(Br=Br||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithIdp",De(w,M))})).apply(this,arguments)}class Po extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const w=new Po(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(w.idToken=E.idToken),E.accessToken&&(w.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(w.nonce=E.nonce),E.pendingToken&&(w.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(w.accessToken=E.oauthToken,w.secret=E.oauthTokenSecret):en("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const w="string"==typeof E?JSON.parse(E):E,{providerId:M,signInMethod:se}=w,ue=(0,b._T)(w,["providerId","signInMethod"]);if(!M||!se)return null;const Ne=new Po(M,se);return Ne.idToken=ue.idToken||void 0,Ne.accessToken=ue.accessToken||void 0,Ne.secret=ue.secret,Ne.nonce=ue.nonce,Ne.pendingToken=ue.pendingToken||null,Ne}_getIdTokenResponse(E){return Es(E,this.buildRequest())}_linkToIdToken(E,w){const M=this.buildRequest();return M.idToken=w,Es(E,M)}_getReauthenticationResolver(E){const w=this.buildRequest();return w.autoCreate=!1,Es(E,w)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),E.postBody=(0,z.xO)(w)}return E}}const Nl={USER_NOT_FOUND:"user-not-found"};class ws extends yo{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,w){return new ws({verificationId:E,verificationCode:w})}static _fromTokenResponse(E,w){return new ws({phoneNumber:E,temporaryProof:w})}_getIdTokenResponse(E){return function Ia(G,E){return(Rr=Rr||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithPhoneNumber",De(w,M))})).apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,w){return function fl(G,E){return(Hn=Hn||(0,g.Z)(function*(w,M){const se=yield _e(w,"POST","/v1/accounts:signInWithPhoneNumber",De(w,M));if(se.temporaryProof)throw Ee(w,"account-exists-with-different-credential",se);return se})).apply(this,arguments)}(E,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function ko(G,E){return(dt=dt||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithPhoneNumber",De(w,Object.assign(Object.assign({},M),{operation:"REAUTH"})),Nl)})).apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:w,verificationId:M,verificationCode:se}=this.params;return E&&w?{temporaryProof:E,phoneNumber:w}:{sessionInfo:M,code:se}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:w,verificationCode:M,phoneNumber:se,temporaryProof:ue}=E;return M||w||se||ue?new ws({verificationId:w,verificationCode:M,phoneNumber:se,temporaryProof:ue}):null}}class No{constructor(E){var w,M,se,ue,Ne,Xe;const Pt=(0,z.zd)((0,z.pd)(E)),$t=null!==(w=Pt.apiKey)&&void 0!==w?w:null,sn=null!==(M=Pt.oobCode)&&void 0!==M?M:null,Qn=function Qo(G){switch(G){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(se=Pt.mode)&&void 0!==se?se:null);Qt($t&&sn&&Qn,"argument-error"),this.apiKey=$t,this.operation=Qn,this.code=sn,this.continueUrl=null!==(ue=Pt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ne=Pt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(Xe=Pt.tenantId)&&void 0!==Xe?Xe:null}static parseLink(E){const w=function Bs(G){const E=(0,z.zd)((0,z.pd)(G)).link,w=E?(0,z.zd)((0,z.pd)(E)).deep_link_id:null,M=(0,z.zd)((0,z.pd)(G)).deep_link_id;return(M?(0,z.zd)((0,z.pd)(M)).link:null)||M||w||E||G}(E);try{return new No(w)}catch{return null}}}let yi=(()=>{class G{constructor(){this.providerId=G.PROVIDER_ID}static credential(w,M){return nr._fromEmailAndPassword(w,M)}static credentialWithLink(w,M){const se=No.parseLink(M);return Qt(se,"argument-error"),nr._fromEmailAndCode(w,se.code,se.tenantId)}}return G.PROVIDER_ID="password",G.EMAIL_PASSWORD_SIGN_IN_METHOD="password",G.EMAIL_LINK_SIGN_IN_METHOD="emailLink",G})();class js{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class vs extends js{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Ws extends vs{static credentialFromJSON(E){const w="string"==typeof E?JSON.parse(E):E;return Qt("providerId"in w&&"signInMethod"in w,"argument-error"),Po._fromParams(w)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return Qt(E.idToken||E.accessToken,"argument-error"),Po._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Ws.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Ws.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:w,oauthAccessToken:M,oauthTokenSecret:se,pendingToken:ue,nonce:Ne,providerId:Xe}=E;if(!M&&!se&&!w&&!ue||!Xe)return null;try{return new Ws(Xe)._credential({idToken:w,accessToken:M,nonce:Ne,pendingToken:ue})}catch{return null}}}let _c=(()=>{class G extends vs{constructor(){super("facebook.com")}static credential(w){return Po._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return G.credentialFromTaggedObject(w)}static credentialFromError(w){return G.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return G.credential(w.oauthAccessToken)}catch{return null}}}return G.FACEBOOK_SIGN_IN_METHOD="facebook.com",G.PROVIDER_ID="facebook.com",G})(),Fa=(()=>{class G extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(w,M){return Po._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:M})}static credentialFromResult(w){return G.credentialFromTaggedObject(w)}static credentialFromError(w){return G.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:M,oauthAccessToken:se}=w;if(!M&&!se)return null;try{return G.credential(M,se)}catch{return null}}}return G.GOOGLE_SIGN_IN_METHOD="google.com",G.PROVIDER_ID="google.com",G})(),As=(()=>{class G extends vs{constructor(){super("github.com")}static credential(w){return Po._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return G.credentialFromTaggedObject(w)}static credentialFromError(w){return G.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return G.credential(w.oauthAccessToken)}catch{return null}}}return G.GITHUB_SIGN_IN_METHOD="github.com",G.PROVIDER_ID="github.com",G})();class pa extends yo{constructor(E,w){super(E,E),this.pendingToken=w}_getIdTokenResponse(E){return Es(E,this.buildRequest())}_linkToIdToken(E,w){const M=this.buildRequest();return M.idToken=w,Es(E,M)}_getReauthenticationResolver(E){const w=this.buildRequest();return w.autoCreate=!1,Es(E,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const w="string"==typeof E?JSON.parse(E):E,{providerId:M,signInMethod:se,pendingToken:ue}=w;return M&&se&&ue&&M===se?new pa(M,ue):null}static _create(E,w){return new pa(E,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jo extends js{constructor(E){Qt(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return Jo.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return Jo.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const w=pa.fromJSON(E);return Qt(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:w,providerId:M}=E;if(!w||!M)return null;try{return pa._create(M,w)}catch{return null}}}let Ki=(()=>{class G extends vs{constructor(){super("twitter.com")}static credential(w,M){return Po._fromParams({providerId:G.PROVIDER_ID,signInMethod:G.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:M})}static credentialFromResult(w){return G.credentialFromTaggedObject(w)}static credentialFromError(w){return G.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:M,oauthTokenSecret:se}=w;if(!M||!se)return null;try{return G.credential(M,se)}catch{return null}}}return G.TWITTER_SIGN_IN_METHOD="twitter.com",G.PROVIDER_ID="twitter.com",G})();function il(G,E){return(Et=Et||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signUp",De(w,M))})).apply(this,arguments)}class Mr{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,w,M,se=!1){return(0,g.Z)(function*(){const ue=yield Ss._fromIdTokenResponse(E,M,se),Ne=Fl(M);return new Mr({user:ue,providerId:Ne,_tokenResponse:M,operationType:w})})()}static _forOperation(E,w,M){return(0,g.Z)(function*(){yield E._updateTokensIfNecessary(M,!0);const se=Fl(M);return new Mr({user:E,providerId:se,_tokenResponse:M,operationType:w})})()}}function Fl(G){return G.providerId?G.providerId:"phoneNumber"in G?"phone":null}function La(G){return(ot=ot||(0,g.Z)(function*(E){var w;const M=Nr(E);if(yield M._initializationPromise,null!==(w=M.currentUser)&&void 0!==w&&w.isAnonymous)return new Mr({user:M.currentUser,providerId:null,operationType:"signIn"});const se=yield il(M,{returnSecureToken:!0}),ue=yield Mr._fromIdTokenResponse(M,"signIn",se,!0);return yield M._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class Zi extends z.ZR{constructor(E,w,M,se){var ue;super(w.code,w.message),this.operationType=M,this.user=se,Object.setPrototypeOf(this,Zi.prototype),this.customData={appName:E.name,tenantId:null!==(ue=E.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:w.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(E,w,M,se){return new Zi(E,w,M,se)}}function tc(G,E,w,M){return("reauthenticate"===E?w._getReauthenticationResolver(G):w._getIdTokenResponse(G)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Zi._fromErrorAndOperation(G,ue,E,M):ue})}function pl(G){return new Set(G.map(({providerId:E})=>E).filter(E=>!!E))}function Va(G,E){return(pt=pt||(0,g.Z)(function*(w,M){const se=(0,z.m9)(w);yield Is(!0,se,M);const{providerUserInfo:ue}=yield function Ue(G,E){return(Ce=Ce||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:update",M)})).apply(this,arguments)}(se.auth,{idToken:yield se.getIdToken(),deleteProvider:[M]}),Ne=pl(ue||[]);return se.providerData=se.providerData.filter(Xe=>Ne.has(Xe.providerId)),Ne.has("phone")||(se.phoneNumber=null),yield se.auth._persistUserIfCurrent(se),se})).apply(this,arguments)}function Hs(G,E){return(It=It||(0,g.Z)(function*(w,M,se=!1){const ue=yield vi(w,M._linkToIdToken(w.auth,yield w.getIdToken()),se);return Mr._forOperation(w,"link",ue)})).apply(this,arguments)}function Is(G,E,w){return(at=at||(0,g.Z)(function*(M,se,ue){yield qo(se);const Xe=!1===M?"provider-already-linked":"no-such-provider";Qt(pl(se.providerData).has(ue)===M,se.auth,Xe)})).apply(this,arguments)}function lo(G,E){return(Ft=Ft||(0,g.Z)(function*(w,M,se=!1){const{auth:ue}=w,Ne="reauthenticate";try{const Xe=yield vi(w,tc(ue,Ne,M,w),se);Qt(Xe.idToken,ue,"internal-error");const Pt=kn(Xe.idToken);Qt(Pt,ue,"internal-error");const{sub:$t}=Pt;return Qt(w.uid===$t,ue,"user-mismatch"),Mr._forOperation(w,Ne,Xe)}catch(Xe){throw"auth/user-not-found"===Xe?.code&&en(ue,"user-mismatch"),Xe}})).apply(this,arguments)}function Eo(G,E){return(Ct=Ct||(0,g.Z)(function*(w,M,se=!1){const Ne=yield tc(w,"signIn",M),Xe=yield Mr._fromIdTokenResponse(w,"signIn",Ne);return se||(yield w._updateCurrentUser(Xe.user)),Xe})).apply(this,arguments)}function Ci(G,E){return(Xn=Xn||(0,g.Z)(function*(w,M){return Eo(Nr(w),M)})).apply(this,arguments)}function Ua(G,E){return(Sn=Sn||(0,g.Z)(function*(w,M){const se=(0,z.m9)(w);return yield Is(!1,se,M.providerId),Hs(se,M)})).apply(this,arguments)}function Ba(G,E){return(Nn=Nn||(0,g.Z)(function*(w,M){return lo((0,z.m9)(w),M)})).apply(this,arguments)}function hs(G,E){return(Ir=Ir||(0,g.Z)(function*(w,M){const se=Nr(w),ue=yield function ml(G,E){return(Pn=Pn||(0,g.Z)(function*(w,M){return _e(w,"POST","/v1/accounts:signInWithCustomToken",De(w,M))})).apply(this,arguments)}(se,{token:M,returnSecureToken:!0}),Ne=yield Mr._fromIdTokenResponse(se,"signIn",ue);return yield se._updateCurrentUser(Ne.user),Ne})).apply(this,arguments)}class ja{constructor(E,w){this.factorId=E,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(E,w){return"phoneInfo"in w?co._fromServerResponse(E,w):"totpInfo"in w?Ha._fromServerResponse(E,w):en(E,"internal-error")}}class co extends ja{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,w){return new co(w)}}class Ha extends ja{constructor(E){super("totp",E)}static _fromServerResponse(E,w){return new Ha(w)}}function S(G,E,w){var M;Qt((null===(M=w.url)||void 0===M?void 0:M.length)>0,G,"invalid-continue-uri"),Qt(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,G,"invalid-dynamic-link-domain"),E.continueUrl=w.url,E.dynamicLinkDomain=w.dynamicLinkDomain,E.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(Qt(w.iOS.bundleId.length>0,G,"missing-ios-bundle-id"),E.iOSBundleId=w.iOS.bundleId),w.android&&(Qt(w.android.packageName.length>0,G,"missing-android-pkg-name"),E.androidInstallApp=w.android.installApp,E.androidMinimumVersionCode=w.android.minimumVersion,E.androidPackageName=w.android.packageName)}function J(G,E,w){return(Wn=Wn||(0,g.Z)(function*(M,se,ue){var Ne;const Xe=Nr(M),Pt={requestType:"PASSWORD_RESET",email:se,clientType:"CLIENT_TYPE_WEB"};if(null!==(Ne=Xe._getRecaptchaConfig())&&void 0!==Ne&&Ne.emailPasswordEnabled){const sn=yield _s(Xe,Pt,"getOobCode",!0);ue&&S(Xe,sn,ue),yield ec(Xe,sn)}else{var $t;ue&&S(Xe,Pt,ue),yield ec(Xe,Pt).catch(function(sn){return($t=$t||(0,g.Z)(function*(Qn){if("auth/missing-recaptcha-token"!==Qn.code)return Promise.reject(Qn);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const fn=yield _s(Xe,Pt,"getOobCode",!0);ue&&S(Xe,fn,ue),yield ec(Xe,fn)}})).apply(this,arguments)})}})).apply(this,arguments)}function Me(G,E,w){return(Sr=Sr||(0,g.Z)(function*(M,se,ue){yield wa((0,z.m9)(M),{oobCode:se,newPassword:ue})})).apply(this,arguments)}function W(G,E){return(Ln=Ln||(0,g.Z)(function*(w,M){yield function mc(G,E){return(Oe=Oe||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:update",De(w,M))})).apply(this,arguments)}((0,z.m9)(w),{oobCode:M})})).apply(this,arguments)}function ve(G,E){return(fr=fr||(0,g.Z)(function*(w,M){const se=(0,z.m9)(w),ue=yield wa(se,{oobCode:M}),Ne=ue.requestType;switch(Qt(Ne,se,"internal-error"),Ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qt(ue.newEmail,se,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qt(ue.mfaInfo,se,"internal-error");default:Qt(ue.email,se,"internal-error")}let Xe=null;return ue.mfaInfo&&(Xe=ja._fromServerResponse(Nr(se),ue.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===ue.requestType?ue.newEmail:ue.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===ue.requestType?ue.email:ue.newEmail)||null,multiFactorInfo:Xe},operation:Ne}})).apply(this,arguments)}function Ze(G,E){return(ii=ii||(0,g.Z)(function*(w,M){const{data:se}=yield ve((0,z.m9)(w),M);return se.email})).apply(this,arguments)}function Lt(G,E,w){return(Ei=Ei||(0,g.Z)(function*(M,se,ue){var Ne;const Xe=Nr(M),Pt={returnSecureToken:!0,email:se,password:ue,clientType:"CLIENT_TYPE_WEB"};let $t;if(null!==(Ne=Xe._getRecaptchaConfig())&&void 0!==Ne&&Ne.emailPasswordEnabled){const $n=yield _s(Xe,Pt,"signUpPassword");$t=il(Xe,$n)}else{var sn;$t=il(Xe,Pt).catch(function($n){return(sn=sn||(0,g.Z)(function*(ps){if("auth/missing-recaptcha-token"===ps.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ka=yield _s(Xe,Pt,"signUpPassword");return il(Xe,Ka)}return Promise.reject(ps)})).apply(this,arguments)})}const Qn=yield $t.catch($n=>Promise.reject($n)),fn=yield Mr._fromIdTokenResponse(Xe,"signIn",Qn);return yield Xe._updateCurrentUser(fn.user),fn})).apply(this,arguments)}function gn(G,E,w){return Ci((0,z.m9)(G),yi.credential(E,w))}function Fr(G,E,w){return(wi=wi||(0,g.Z)(function*(M,se,ue){var Ne;const Xe=Nr(M),Pt={requestType:"EMAIL_SIGNIN",email:se,clientType:"CLIENT_TYPE_WEB"};function $t(Qn,fn){Qt(fn.handleCodeInApp,Xe,"argument-error"),fn&&S(Xe,Qn,fn)}if(null!==(Ne=Xe._getRecaptchaConfig())&&void 0!==Ne&&Ne.emailPasswordEnabled){const Qn=yield _s(Xe,Pt,"getOobCode",!0);$t(Qn,ue),yield kl(Xe,Qn)}else{var sn;$t(Pt,ue),yield kl(Xe,Pt).catch(function(Qn){return(sn=sn||(0,g.Z)(function*(fn){if("auth/missing-recaptcha-token"!==fn.code)return Promise.reject(fn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $n=yield _s(Xe,Pt,"getOobCode",!0);$t($n,ue),yield kl(Xe,$n)}})).apply(this,arguments)})}})).apply(this,arguments)}function Wr(G,E){const w=No.parseLink(E);return"EMAIL_SIGNIN"===w?.operation}function ui(G,E,w){return(zr=zr||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M),Xe=yi.credentialWithLink(se,ue||Tr());return Qt(Xe._tenantId===(Ne.tenantId||null),Ne,"tenant-id-mismatch"),Ci(Ne,Xe)})).apply(this,arguments)}function ns(G,E){return(Cr=Cr||(0,g.Z)(function*(w,M){const ue={identifier:M,continueUri:cs()?Tr():"http://localhost"},{signinMethods:Ne}=yield function Lr(G,E){return(si=si||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:createAuthUri",De(w,M))})).apply(this,arguments)}((0,z.m9)(w),ue);return Ne||[]})).apply(this,arguments)}function Oi(G,E){return(An=An||(0,g.Z)(function*(w,M){const se=(0,z.m9)(w),Ne={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};M&&S(se.auth,Ne,M);const{email:Xe}=yield function gc(G,E){return(Qe=Qe||(0,g.Z)(function*(w,M){return Pl(w,M)})).apply(this,arguments)}(se.auth,Ne);Xe!==w.email&&(yield w.reload())})).apply(this,arguments)}function qi(G,E,w){return(Vn=Vn||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M),Pt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield M.getIdToken(),newEmail:se};ue&&S(Ne.auth,Pt,ue);const{email:$t}=yield function Si(G,E){return(cn=cn||(0,g.Z)(function*(w,M){return Pl(w,M)})).apply(this,arguments)}(Ne.auth,Pt);$t!==M.email&&(yield M.reload())})).apply(this,arguments)}function ma(G,E){return(or=or||(0,g.Z)(function*(w,{displayName:M,photoURL:se}){if(void 0===M&&void 0===se)return;const ue=(0,z.m9)(w),Xe={idToken:yield ue.getIdToken(),displayName:M,photoUrl:se,returnSecureToken:!0},Pt=yield vi(ue,function Fo(G,E){return(zn=zn||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:update",M)})).apply(this,arguments)}(ue.auth,Xe));ue.displayName=Pt.displayName||null,ue.photoURL=Pt.photoUrl||null;const $t=ue.providerData.find(({providerId:sn})=>"password"===sn);$t&&($t.displayName=ue.displayName,$t.photoURL=ue.photoURL),yield ue._updateTokensIfNecessary(Pt)})).apply(this,arguments)}function ea(G,E){return rs((0,z.m9)(G),E,null)}function Lo(G,E){return rs((0,z.m9)(G),null,E)}function rs(G,E,w){return(pr=pr||(0,g.Z)(function*(M,se,ue){const{auth:Ne}=M,Pt={idToken:yield M.getIdToken(),returnSecureToken:!0};se&&(Pt.email=se),ue&&(Pt.password=ue);const $t=yield vi(M,Jl(Ne,Pt));yield M._updateTokensIfNecessary($t,!0)})).apply(this,arguments)}class uo{constructor(E,w,M={}){this.isNewUser=E,this.providerId=w,this.profile=M}}class Ai extends uo{constructor(E,w,M,se){super(E,w,M),this.username=se}}class Ll extends uo{constructor(E,w){super(E,"facebook.com",w)}}class Vl extends Ai{constructor(E,w){super(E,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class ho extends uo{constructor(E,w){super(E,"google.com",w)}}class iu extends Ai{constructor(E,w,M){super(E,"twitter.com",w,M)}}function Nc(G){const{user:E,_tokenResponse:w}=G;return E.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function is(G){var E,w;if(!G)return null;const{providerId:M}=G,se=G.rawUserInfo?JSON.parse(G.rawUserInfo):{},ue=G.isNewUser||"identitytoolkit#SignupNewUserResponse"===G.kind;if(!M&&G?.idToken){const Ne=null===(w=null===(E=kn(G.idToken))||void 0===E?void 0:E.firebase)||void 0===w?void 0:w.sign_in_provider;if(Ne)return new uo(ue,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!M)return null;switch(M){case"facebook.com":return new Ll(ue,se);case"github.com":return new Vl(ue,se);case"google.com":return new ho(ue,se);case"twitter.com":return new iu(ue,se,G.screenName||null);case"custom":case"anonymous":return new uo(ue,null);default:return new uo(ue,M,se)}}(w)}class vl{constructor(E,w,M){this.type=E,this.credential=w,this.auth=M}static _fromIdtoken(E,w){return new vl("enroll",E,w)}static _fromMfaPendingCredential(E){return new vl("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var w,M;if(E?.multiFactorSession){if(null!==(w=E.multiFactorSession)&&void 0!==w&&w.pendingCredential)return vl._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(M=E.multiFactorSession)&&void 0!==M&&M.idToken)return vl._fromIdtoken(E.multiFactorSession.idToken)}return null}}class Lc{constructor(E,w,M){this.session=E,this.hints=w,this.signInResolver=M}static _fromError(E,w){var M;const se=Nr(E),ue=w.customData._serverResponse,Ne=(ue.mfaInfo||[]).map(Pt=>ja._fromServerResponse(se,Pt));Qt(ue.mfaPendingCredential,se,"internal-error");const Xe=vl._fromMfaPendingCredential(ue.mfaPendingCredential);return new Lc(Xe,Ne,function(Pt){return(M=M||(0,g.Z)(function*($t){const sn=yield $t._process(se,Xe);delete ue.mfaInfo,delete ue.mfaPendingCredential;const Qn=Object.assign(Object.assign({},ue),{idToken:sn.idToken,refreshToken:sn.refreshToken});switch(w.operationType){case"signIn":const fn=yield Mr._fromIdTokenResponse(se,w.operationType,Qn);return yield se._updateCurrentUser(fn.user),fn;case"reauthenticate":return Qt(w.user,se,"internal-error"),Mr._forOperation(w.user,w.operationType,Qn);default:en(se,"internal-error")}})).apply(this,arguments)})}resolveSignIn(E){var w=this;return(0,g.Z)(function*(){return w.signInResolver(E)})()}}function su(G,E){var w;const M=(0,z.m9)(G),se=E;return Qt(E.customData.operationType,M,"argument-error"),Qt(null===(w=se.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,M,"argument-error"),Lc._fromError(M,se)}class nc{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(M=>ja._fromServerResponse(E.auth,M)))})}static _fromUser(E){return new nc(E)}getSession(){var E=this;return(0,g.Z)(function*(){return vl._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,w){var M=this;return(0,g.Z)(function*(){const se=E,ue=yield M.getSession(),Ne=yield vi(M.user,se._process(M.user.auth,ue,w));return yield M.user._updateTokensIfNecessary(Ne),M.user.reload()})()}unenroll(E){var w=this;return(0,g.Z)(function*(){const M="string"==typeof E?E:E.uid,se=yield w.user.getIdToken();try{const ue=yield vi(w.user,function ou(G,E){return $(G,"POST","/v2/accounts/mfaEnrollment:withdraw",De(G,E))}(w.user.auth,{idToken:se,mfaEnrollmentId:M}));w.enrolledFactors=w.enrolledFactors.filter(({uid:Ne})=>Ne!==M),yield w.user._updateTokensIfNecessary(ue),yield w.user.reload()}catch(ue){throw ue}})()}}const Ul=new WeakMap;function Vo(G){const E=(0,z.m9)(G);return Ul.has(E)||Ul.set(E,nc._fromUser(E)),Ul.get(E)}const sl="__sak";class vc{constructor(E,w){this.storageRetriever=E,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(sl,"1"),this.storage.removeItem(sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,w){return this.storage.setItem(E,JSON.stringify(w)),Promise.resolve()}_get(E){const w=this.storage.getItem(E);return Promise.resolve(w?JSON.parse(w):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const di=(()=>{class G extends vc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,M)=>this.onStorageEvent(w,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Uc(){const G=(0,z.z$)();return Fs(G)||tr(G)}()&&function Pa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zi(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const M of Object.keys(this.listeners)){const se=this.storage.getItem(M),ue=this.localCache[M];se!==ue&&w(M,ue,se)}}onStorageEvent(w,M=!1){if(!w.key)return void this.forAllChangedKeys((Xe,Pt,$t)=>{this.notifyListeners(Xe,$t)});const se=w.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xe=this.storage.getItem(se);if(w.newValue!==Xe)null!==w.newValue?this.storage.setItem(se,w.newValue):this.storage.removeItem(se);else if(this.localCache[se]===w.newValue&&!M)return}const ue=()=>{const Xe=this.storage.getItem(se);!M&&this.localCache[se]===Xe||this.notifyListeners(se,Xe)},Ne=this.storage.getItem(se);!function Xs(){return(0,z.w1)()&&10===document.documentMode}()||Ne===w.newValue||w.newValue===w.oldValue?ue():setTimeout(ue,10)}notifyListeners(w,M){this.localCache[w]=M;const se=this.listeners[w];if(se)for(const ue of Array.from(se))ue(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,M,se)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:M,newValue:se}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(M)}_removeListener(w,M){this.listeners[w]&&(this.listeners[w].delete(M),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,M){var se=()=>super._set,ue=this;return(0,g.Z)(function*(){yield se().call(ue,w,M),ue.localCache[w]=JSON.stringify(M)})()}_get(w){var M=()=>super._get,se=this;return(0,g.Z)(function*(){const ue=yield M().call(se,w);return se.localCache[w]=JSON.stringify(ue),ue})()}_remove(w){var M=()=>super._remove,se=this;return(0,g.Z)(function*(){yield M().call(se,w),delete se.localCache[w]})()}}return G.type="LOCAL",G})(),xa=(()=>{class G extends vc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,M){}_removeListener(w,M){}}return G.type="SESSION",G})();let za=(()=>{class G{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const M=this.receivers.find(ue=>ue.isListeningto(w));if(M)return M;const se=new G(w);return this.receivers.push(se),se}isListeningto(w){return this.eventTarget===w}handleEvent(w){var M=this;return(0,g.Z)(function*(){var se;const ue=w,{eventId:Ne,eventType:Xe,data:Pt}=ue.data,$t=M.handlersMap[Xe];if(!$t?.size)return;ue.ports[0].postMessage({status:"ack",eventId:Ne,eventType:Xe});const sn=Array.from($t).map(function(fn){return(se=se||(0,g.Z)(function*($n){return $n(ue.origin,Pt)})).apply(this,arguments)}),Qn=yield function ss(G){var E;return Promise.all(G.map(function(w){return(E=E||(0,g.Z)(function*(M){try{return{fulfilled:!0,value:yield M}}catch(se){return{fulfilled:!1,reason:se}}})).apply(this,arguments)}))}(sn);ue.ports[0].postMessage({status:"done",eventId:Ne,eventType:Xe,response:Qn})})()}_subscribe(w,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(M)}_unsubscribe(w,M){this.handlersMap[w]&&M&&this.handlersMap[w].delete(M),(!M||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return G.receivers=[],G})();function Ui(G="",E=10){let w="";for(let M=0;M<E;M++)w+=Math.floor(10*Math.random());return G+w}class Xt{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,w,M=50){var se=this;return(0,g.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ne,Xe;return new Promise((Pt,$t)=>{const sn=Ui("",20);ue.port1.start();const Qn=setTimeout(()=>{$t(new Error("unsupported_event"))},M);Xe={messageChannel:ue,onMessage(fn){const $n=fn;if($n.data.eventId===sn)switch($n.data.status){case"ack":clearTimeout(Qn),Ne=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Pt($n.data.response);break;default:clearTimeout(Qn),clearTimeout(Ne),$t(new Error("invalid_response"))}}},se.handlers.add(Xe),ue.port1.addEventListener("message",Xe.onMessage),se.target.postMessage({eventType:E,eventId:sn,data:w},[ue.port2])}).finally(()=>{Xe&&se.removeMessageHandler(Xe)})})()}}function Jn(){return window}function Bl(){return typeof Jn().WorkerGlobalScope<"u"&&"function"==typeof Jn().importScripts}const In="firebaseLocalStorageDb",x="firebaseLocalStorage",R="fbase_key";class U{constructor(E){this.request=E}toPromise(){return new Promise((E,w)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function P(G,E){return G.transaction([x],E?"readwrite":"readonly").objectStore(x)}function he(){const G=indexedDB.open(In,1);return new Promise((E,w)=>{G.addEventListener("error",()=>{w(G.error)}),G.addEventListener("upgradeneeded",()=>{const M=G.result;try{M.createObjectStore(x,{keyPath:R})}catch(se){w(se)}}),G.addEventListener("success",(0,g.Z)(function*(){const M=G.result;M.objectStoreNames.contains(x)?E(M):(M.close(),yield function Q(){const G=indexedDB.deleteDatabase(In);return new U(G).toPromise()}(),E(yield he()))}))})}function Te(G,E,w){return(mr=mr||(0,g.Z)(function*(M,se,ue){const Ne=P(M,!0).put({[R]:se,value:ue});return new U(Ne).toPromise()})).apply(this,arguments)}function hn(G,E){const w=P(G,!0).delete(E);return new U(w).toPromise()}const Bi=(()=>{class G{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,g.Z)(function*(){return w.db||(w.db=yield he()),w.db})()}_withRetries(w){var M=this;return(0,g.Z)(function*(){let se=0;for(;;)try{const ue=yield M._openDb();return yield w(ue)}catch(ue){if(se++>3)throw ue;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,g.Z)(function*(){return Bl()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,g.Z)(function*(){var M,se;w.receiver=za._getInstance(function fo(){return Bl()?self:null}()),w.receiver._subscribe("keyChanged",function(ue,Ne){return(M=M||(0,g.Z)(function*(Xe,Pt){return{keyProcessed:(yield w._poll()).includes(Pt.key)}})).apply(this,arguments)}),w.receiver._subscribe("ping",function(ue,Ne){return(se=se||(0,g.Z)(function*(Xe,Pt){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var w=this;return(0,g.Z)(function*(){var M,se;if(w.activeServiceWorker=yield function Fn(){return(_r=_r||(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new Xt(w.activeServiceWorker);const ue=yield w.sender._send("ping",{},800);ue&&null!==(M=ue[0])&&void 0!==M&&M.fulfilled&&null!==(se=ue[0])&&void 0!==se&&se.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var M=this;return(0,g.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Zn(){var G;return(null===(G=navigator?.serviceWorker)||void 0===G?void 0:G.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:w},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const w=yield he();return yield Te(w,sl,"1"),yield hn(w,sl),!0}catch{}return!1})()}_withPendingWrite(w){var M=this;return(0,g.Z)(function*(){M.pendingWrites++;try{yield w()}finally{M.pendingWrites--}})()}_set(w,M){var se=this;return(0,g.Z)(function*(){return se._withPendingWrite((0,g.Z)(function*(){return yield se._withRetries(ue=>Te(ue,w,M)),se.localCache[w]=M,se.notifyServiceWorker(w)}))})()}_get(w){var M=this;return(0,g.Z)(function*(){const se=yield M._withRetries(ue=>function gt(G,E){return(ls=ls||(0,g.Z)(function*(w,M){const se=P(w,!1).get(M),ue=yield new U(se).toPromise();return void 0===ue?null:ue.value})).apply(this,arguments)}(ue,w));return M.localCache[w]=se,se})()}_remove(w){var M=this;return(0,g.Z)(function*(){return M._withPendingWrite((0,g.Z)(function*(){return yield M._withRetries(se=>hn(se,w)),delete M.localCache[w],M.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,g.Z)(function*(){const M=yield w._withRetries(Ne=>{const Xe=P(Ne,!1).getAll();return new U(Xe).toPromise()});if(!M)return[];if(0!==w.pendingWrites)return[];const se=[],ue=new Set;for(const{fbase_key:Ne,value:Xe}of M)ue.add(Ne),JSON.stringify(w.localCache[Ne])!==JSON.stringify(Xe)&&(w.notifyListeners(Ne,Xe),se.push(Ne));for(const Ne of Object.keys(w.localCache))w.localCache[Ne]&&!ue.has(Ne)&&(w.notifyListeners(Ne,null),se.push(Ne));return se})()}notifyListeners(w,M){this.localCache[w]=M;const se=this.listeners[w];if(se)for(const ue of Array.from(se))ue(M)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(M)}_removeListener(w,M){this.listeners[w]&&(this.listeners[w].delete(M),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return G.type="LOCAL",G})(),Ga=1e12;class gi{constructor(E){this.auth=E,this.counter=Ga,this._widgets=new Map}render(E,w){const M=this.counter;return this._widgets.set(M,new Uo(E,this.auth.name,w||{})),this.counter++,M}reset(E){var w;const M=E||Ga;null===(w=this._widgets.get(M))||void 0===w||w.delete(),this._widgets.delete(M)}getResponse(E){var w;return(null===(w=this._widgets.get(E||Ga))||void 0===w?void 0:w.getResponse())||""}execute(E){var w=this;return(0,g.Z)(function*(){var M;return null===(M=w._widgets.get(E||Ga))||void 0===M||M.execute(),""})()}}class Uo{constructor(E,w,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const se="string"==typeof E?document.getElementById(E):E;Qt(se,"argument-error",{appName:w}),this.container=se,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $i(G){const E=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<G;M++)E.push(w.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":w}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rn=Gr("rcb"),Hc=new Jr(3e4,6e4);class rc{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Jn().grecaptcha)||void 0===E||!E.render)}load(E,w=""){return Qt(function wd(G){return G.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(G)}(w),E,"argument-error"),this.shouldResolveImmediately(w)&&ka(Jn().grecaptcha)?Promise.resolve(Jn().grecaptcha):new Promise((M,se)=>{const ue=Jn().setTimeout(()=>{se(Mn(E,"network-request-failed"))},Hc.get());Jn()[rn]=()=>{Jn().clearTimeout(ue),delete Jn()[rn];const Xe=Jn().grecaptcha;if(!Xe||!ka(Xe))return void se(Mn(E,"internal-error"));const Pt=Xe.render;Xe.render=($t,sn)=>{const Qn=Pt($t,sn);return this.counter++,Qn},this.hostLanguage=w,M(Xe)},Yo(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:rn,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(ue),se(Mn(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var w;return!(null===(w=Jn().grecaptcha)||void 0===w||!w.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class na{load(E){return(0,g.Z)(function*(){return new gi(E)})()}clearedOneInstance(){}}const ic="recaptcha",bl={theme:"light",type:"image"};class Ta{constructor(E,w=Object.assign({},bl),M){this.parameters=w,this.type=ic,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nr(M),this.isInvisible="invisible"===this.parameters.size,Qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const se="string"==typeof E?document.getElementById(E):E;Qt(se,this.auth,"argument-error"),this.container=se,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new na:new rc,this.validateStartingState()}verify(){var E=this;return(0,g.Z)(function*(){E.assertNotDestroyed();const w=yield E.render(),M=E.getAssertedRecaptcha();return M.getResponse(w)||new Promise(ue=>{const Ne=Xe=>{Xe&&(E.tokenChangeListeners.delete(Ne),ue(Xe))};E.tokenChangeListeners.add(Ne),E.isInvisible&&M.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){Qt(!this.parameters.sitekey,this.auth,"argument-error"),Qt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return w=>{if(this.tokenChangeListeners.forEach(M=>M(w)),"function"==typeof E)E(w);else if("string"==typeof E){const M=Jn()[E];"function"==typeof M&&M(w)}}}assertNotDestroyed(){Qt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,g.Z)(function*(){if(yield E.init(),!E.widgetId){let w=E.container;if(!E.isInvisible){const M=document.createElement("div");w.appendChild(M),w=M}E.widgetId=E.getAssertedRecaptcha().render(w,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,g.Z)(function*(){Qt(cs()&&!Bl(),E.auth,"internal-error"),yield function Du(){let G=null;return new Promise(E=>{"complete"!==document.readyState?(G=()=>E(),window.addEventListener("load",G)):E()}).catch(E=>{throw G&&window.removeEventListener("load",G),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const w=yield function so(G){return(St=St||(0,g.Z)(function*(E){return(yield $(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(E.auth);Qt(w,E.auth,"internal-error"),E.parameters.sitekey=w})()}getAssertedRecaptcha(){return Qt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rs{constructor(E,w){this.verificationId=E,this.onConfirmation=w}confirm(E){const w=ws._fromVerification(this.verificationId,E);return this.onConfirmation(w)}}function Bo(G,E,w){return(ar=ar||(0,g.Z)(function*(M,se,ue){const Ne=Nr(M),Xe=yield Da(Ne,se,(0,z.m9)(ue));return new Rs(Xe,Pt=>Ci(Ne,Pt))})).apply(this,arguments)}function sc(G,E,w){return(Vi=Vi||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M);yield Is(!1,Ne,"phone");const Xe=yield Da(Ne.auth,se,(0,z.m9)(ue));return new Rs(Xe,Pt=>Ua(Ne,Pt))})).apply(this,arguments)}function Su(G,E,w){return(xr=xr||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M),Xe=yield Da(Ne.auth,se,(0,z.m9)(ue));return new Rs(Xe,Pt=>Ba(Ne,Pt))})).apply(this,arguments)}function Da(G,E,w){return(Ii=Ii||(0,g.Z)(function*(M,se,ue){var Ne;const Xe=yield ue.verify();try{let Pt;if(Qt("string"==typeof Xe,M,"argument-error"),Qt(ue.type===ic,M,"argument-error"),Pt="string"==typeof se?{phoneNumber:se}:se,"session"in Pt){const $t=Pt.session;if("phoneNumber"in Pt)return Qt("enroll"===$t.type,M,"internal-error"),(yield function br(G,E){return $(G,"POST","/v2/accounts/mfaEnrollment:start",De(G,E))}(M,{idToken:$t.credential,phoneEnrollmentInfo:{phoneNumber:Pt.phoneNumber,recaptchaToken:Xe}})).phoneSessionInfo.sessionInfo;{Qt("signin"===$t.type,M,"internal-error");const sn=(null===(Ne=Pt.multiFactorHint)||void 0===Ne?void 0:Ne.uid)||Pt.multiFactorUid;return Qt(sn,M,"missing-multi-factor-info"),(yield function Tn(G,E){return $(G,"POST","/v2/accounts/mfaSignIn:start",De(G,E))}(M,{mfaPendingCredential:$t.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:Xe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$t}=yield function Na(G,E){return(hr=hr||(0,g.Z)(function*(w,M){return $(w,"POST","/v1/accounts:sendVerificationCode",De(w,M))})).apply(this,arguments)}(M,{phoneNumber:Pt.phoneNumber,recaptchaToken:Xe});return $t}}finally{ue._reset()}})).apply(this,arguments)}function Tt(G,E){return(Ar=Ar||(0,g.Z)(function*(w,M){yield Hs((0,z.m9)(w),M)})).apply(this,arguments)}let au=(()=>{class G{constructor(w){this.providerId=G.PROVIDER_ID,this.auth=Nr(w)}verifyPhoneNumber(w,M){return Da(this.auth,w,(0,z.m9)(M))}static credential(w,M){return ws._fromVerification(w,M)}static credentialFromResult(w){return G.credentialFromTaggedObject(w)}static credentialFromError(w){return G.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:M,temporaryProof:se}=w;return M&&se?ws._fromTokenResponse(M,se):null}}return G.PROVIDER_ID="phone",G.PHONE_SIGN_IN_METHOD="phone",G})();function xs(G,E){return E?Er(E):(Qt(G._popupRedirectResolver,G,"argument-error"),G._popupRedirectResolver)}class yc extends yo{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Es(E,this._buildIdpRequest())}_linkToIdToken(E,w){return Es(E,this._buildIdpRequest(w))}_getReauthenticationResolver(E){return Es(E,this._buildIdpRequest())}_buildIdpRequest(E){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(w.idToken=E),w}}function lu(G){return Eo(G.auth,new yc(G),G.bypassAuthState)}function jl(G){const{auth:E,user:w}=G;return Qt(w,E,"internal-error"),lo(w,new yc(G),G.bypassAuthState)}function Id(G){return(vt=vt||(0,g.Z)(function*(E){const{auth:w,user:M}=E;return Qt(M,w,"internal-error"),Hs(M,new yc(E),E.bypassAuthState)})).apply(this,arguments)}class cu{constructor(E,w,M,se,ue=!1){this.auth=E,this.resolver=M,this.user=se,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var w,E=this;return new Promise(function(M,se){return(w=w||(0,g.Z)(function*(ue,Ne){E.pendingPromise={resolve:ue,reject:Ne};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(Xe){E.reject(Xe)}})).apply(this,arguments)})}onAuthEvent(E){var w=this;return(0,g.Z)(function*(){const{urlResponse:M,sessionId:se,postBody:ue,tenantId:Ne,error:Xe,type:Pt}=E;if(Xe)return void w.reject(Xe);const $t={auth:w.auth,requestUri:M,sessionId:se,tenantId:Ne||void 0,postBody:ue||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Pt)($t))}catch(sn){w.reject(sn)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return lu;case"linkViaPopup":case"linkViaRedirect":return Id;case"reauthViaPopup":case"reauthViaRedirect":return jl;default:en(this.auth,"internal-error")}}resolve(E){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qd=new Jr(2e3,1e4);function uu(G,E,w){return(We=We||(0,g.Z)(function*(M,se,ue){const Ne=Nr(M);Xr(M,se,js);const Xe=xs(Ne,ue);return new Yi(Ne,"signInViaPopup",se,Xe).executeNotNull()})).apply(this,arguments)}function bc(G,E,w){return(wt=wt||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M);Xr(Ne.auth,se,js);const Xe=xs(Ne.auth,ue);return new Yi(Ne.auth,"reauthViaPopup",se,Xe,Ne).executeNotNull()})).apply(this,arguments)}function vh(G,E,w){return(qe=qe||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M);Xr(Ne.auth,se,js);const Xe=xs(Ne.auth,ue);return new Yi(Ne.auth,"linkViaPopup",se,Xe,Ne).executeNotNull()})).apply(this,arguments)}let Yi=(()=>{class G extends cu{constructor(w,M,se,ue,Ne){super(w,M,ue,Ne),this.provider=se,this.authWindow=null,this.pollId=null,G.currentPopupAction&&G.currentPopupAction.cancel(),G.currentPopupAction=this}executeNotNull(){var w=this;return(0,g.Z)(function*(){const M=yield w.execute();return Qt(M,w.auth,"internal-error"),M})()}onExecution(){var w=this;return(0,g.Z)(function*(){Hr(1===w.filter.length,"Popup operations only handle one event");const M=Ui();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],M),w.authWindow.associatedEvent=M,w.resolver._originValidation(w.auth).catch(se=>{w.reject(se)}),w.resolver._isIframeWebStorageSupported(w.auth,se=>{se||w.reject(Mn(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,G.currentPopupAction=null}pollUserCancellation(){const w=()=>{var M,se;this.pollId=null!==(se=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==se&&se.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(w,qd.get())};w()}}return G.currentPopupAction=null,G})();const ra="pendingRedirect",Wa=new Map;class eo extends cu{constructor(E,w,M=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,M),this.eventId=null}execute(){var E=()=>super.execute,w=this;return(0,g.Z)(function*(){let M=Wa.get(w.auth._key());if(!M){try{const ue=(yield function Ks(G,E){return(rt=rt||(0,g.Z)(function*(w,M){const se=zc(M),ue=Hl(w);if(!(yield ue._isAvailable()))return!1;const Ne="true"===(yield ue._get(se));return yield ue._remove(se),Ne})).apply(this,arguments)}(w.resolver,w.auth))?yield E().call(w):null;M=()=>Promise.resolve(ue)}catch(se){M=()=>Promise.reject(se)}Wa.set(w.auth._key(),M)}return w.bypassAuthState||Wa.set(w.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(E){var w=()=>super.onAuthEvent,M=this;return(0,g.Z)(function*(){if("signInViaRedirect"===E.type)return w().call(M,E);if("unknown"!==E.type){if(E.eventId){const se=yield M.auth._redirectUserForId(E.eventId);if(se)return M.user=se,w().call(M,E);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Ec(G,E){return(Nt=Nt||(0,g.Z)(function*(w,M){return Hl(w)._set(zc(M),"true")})).apply(this,arguments)}function Xu(){Wa.clear()}function qa(G,E){Wa.set(G._key(),E)}function Hl(G){return Er(G._redirectPersistence)}function zc(G){return En(ra,G.config.apiKey,G.name)}function ia(G,E,w){return function Kd(G,E,w){return(un=un||(0,g.Z)(function*(M,se,ue){const Ne=Nr(M);Xr(M,se,js),yield Ne._initializationPromise;const Xe=xs(Ne,ue);return yield Ec(Xe,Ne),Xe._openRedirect(Ne,se,"signInViaRedirect")})).apply(this,arguments)}(G,E,w)}function El(G,E,w){return function $c(G,E,w){return(Gn=Gn||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M);Xr(Ne.auth,se,js),yield Ne.auth._initializationPromise;const Xe=xs(Ne.auth,ue);yield Ec(Xe,Ne.auth);const Pt=yield wc(Ne);return Xe._openRedirect(Ne.auth,se,"reauthViaRedirect",Pt)})).apply(this,arguments)}(G,E,w)}function Au(G,E,w){return function oc(G,E,w){return(cr=cr||(0,g.Z)(function*(M,se,ue){const Ne=(0,z.m9)(M);Xr(Ne.auth,se,js),yield Ne.auth._initializationPromise;const Xe=xs(Ne.auth,ue);yield Is(!1,Ne,se.providerId),yield Ec(Xe,Ne.auth);const Pt=yield wc(Ne);return Xe._openRedirect(Ne.auth,se,"linkViaRedirect",Pt)})).apply(this,arguments)}(G,E,w)}function Gc(G,E){return(_i=_i||(0,g.Z)(function*(w,M){return yield Nr(w)._initializationPromise,ac(w,M,!1)})).apply(this,arguments)}function ac(G,E){return(ge=ge||(0,g.Z)(function*(w,M,se=!1){const ue=Nr(w),Ne=xs(ue,M),Pt=yield new eo(ue,Ne,se).execute();return Pt&&!se&&(delete Pt.user._redirectEventId,yield ue._persistUserIfCurrent(Pt.user),yield ue._setRedirectUser(null,M)),Pt})).apply(this,arguments)}function wc(G){return(q=q||(0,g.Z)(function*(E){const w=Ui(`${E.uid}:::`);return E._redirectEventId=w,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),w})).apply(this,arguments)}class du{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let w=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(E,M)&&(w=!0,this.sendToConsumer(E,M),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Cc(G){switch(G.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mu(G);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=E,w=!0)),w}sendToConsumer(E,w){var M;if(E.error&&!Mu(E)){const se=(null===(M=E.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";w.onError(Mn(this.auth,se))}else w.onAuthEvent(E)}isEventForConsumer(E,w){const M=null===w.eventId||!!E.eventId&&E.eventId===w.eventId;return w.filter.includes(E.type)&&M}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lc(E))}saveEventToCache(E){this.cachedEventUids.add(lc(E)),this.lastProcessedEventTime=Date.now()}}function lc(G){return[G.type,G.eventId,G.sessionId,G.tenantId].filter(E=>E).join("-")}function Mu({type:G,error:E}){return"unknown"===G&&"auth/no-auth-event"===E?.code}function wl(G){return(N=N||(0,g.Z)(function*(E,w={}){return $(E,"GET","/v1/projects",w)})).apply(this,arguments)}const Ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hu=/^https?/;function ol(G){const E=Tr(),{protocol:w,hostname:M}=new URL(E);if(G.startsWith("chrome-extension://")){const Ne=new URL(G);return""===Ne.hostname&&""===M?"chrome-extension:"===w&&G.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===w&&Ne.hostname===M}if(!hu.test(w))return!1;if(Ju.test(G))return M===G;const se=G.replace(/\./g,"\\.");return new RegExp("^(.+\\."+se+"|"+se+")$","i").test(M)}const Wc=new Jr(3e4,6e4);function xo(){const G=Jn().___jsl;if(G?.H)for(const E of Object.keys(G.H))if(G.H[E].r=G.H[E].r||[],G.H[E].L=G.H[E].L||[],G.H[E].r=[...G.H[E].L],G.CP)for(let w=0;w<G.CP.length;w++)G.CP[w]=null}let fs=null;const zl=new Jr(5e3,15e3),jo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fi(G){const E=G.config;Qt(E.authDomain,G,"auth-domain-config-required");const w=E.emulator?Ji(E,"emulator/auth/iframe"):`https://${G.config.authDomain}/__/auth/iframe`,M={apiKey:E.apiKey,appName:G.name,v:ie.SDK_VERSION},se=Qi.get(G.config.apiHost);se&&(M.eid=se);const ue=G._getFrameworks();return ue.length&&(M.fw=ue.join(",")),`${w}?${(0,z.xO)(M).slice(1)}`}const K={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vt{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vn="__/auth/handler",Bn="emulator/auth/handler",Kn=encodeURIComponent("fac");function ti(G,E,w,M,se,ue){return(le=le||(0,g.Z)(function*(Ne,Xe,Pt,$t,sn,Qn){Qt(Ne.config.authDomain,Ne,"auth-domain-config-required"),Qt(Ne.config.apiKey,Ne,"invalid-api-key");const fn={apiKey:Ne.config.apiKey,appName:Ne.name,authType:Pt,redirectUrl:$t,v:ie.SDK_VERSION,eventId:sn};if(Xe instanceof js){Xe.setDefaultLanguage(Ne.languageCode),fn.providerId=Xe.providerId||"",(0,z.xb)(Xe.getCustomParameters())||(fn.customParameters=JSON.stringify(Xe.getCustomParameters()));for(const[oa,Do]of Object.entries(Qn||{}))fn[oa]=Do}if(Xe instanceof vs){const oa=Xe.getScopes().filter(Do=>""!==Do);oa.length>0&&(fn.scopes=oa.join(","))}Ne.tenantId&&(fn.tid=Ne.tenantId);const $n=fn;for(const oa of Object.keys($n))void 0===$n[oa]&&delete $n[oa];const ps=yield Ne._getAppCheckToken(),Ka=ps?`#${Kn}=${encodeURIComponent(ps)}`:"";return`${function Os({config:G}){return G.emulator?Ji(G,Bn):`https://${G.authDomain}/${vn}`}(Ne)}?${(0,z.xO)($n).slice(1)}${Ka}`})).apply(this,arguments)}const Or="webStorageSupport",Ts=class Ps{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xa,this._completeRedirectFn=ac,this._overrideRedirectResult=qa}_openPopup(E,w,M,se){var ue=this;return(0,g.Z)(function*(){var Ne;Hr(null===(Ne=ue.eventManagers[E._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const Xe=yield ti(E,w,M,Tr(),se);return function Gt(G,E,w,M=500,se=600){const ue=Math.max((window.screen.availHeight-se)/2,0).toString(),Ne=Math.max((window.screen.availWidth-M)/2,0).toString();let Xe="";const Pt=Object.assign(Object.assign({},K),{width:M.toString(),height:se.toString(),top:ue,left:Ne}),$t=(0,z.z$)().toLowerCase();w&&(Xe=ds($t)?"_blank":w),Wi($t)&&(E=E||"http://localhost",Pt.scrollbars="yes");const sn=Object.entries(Pt).reduce((fn,[$n,ps])=>`${fn}${$n}=${ps},`,"");if(function _o(G=(0,z.z$)()){var E;return tr(G)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}($t)&&"_self"!==Xe)return function Zt(G,E){const w=document.createElement("a");w.href=G,w.target=E;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(M)}(E||"",Xe),new Vt(null);const Qn=window.open(E||"",Xe,sn);Qt(Qn,G,"popup-blocked");try{Qn.focus()}catch{}return new Vt(Qn)}(E,Xe,Ui())})()}_openRedirect(E,w,M,se){var ue=this;return(0,g.Z)(function*(){return yield ue._originValidation(E),function Io(G){Jn().location.href=G}(yield ti(E,w,M,Tr(),se)),new Promise(()=>{})})()}_initialize(E){const w=E._key();if(this.eventManagers[w]){const{manager:se,promise:ue}=this.eventManagers[w];return se?Promise.resolve(se):(Hr(ue,"If manager is not set, promise should be"),ue)}const M=this.initAndGetManager(E);return this.eventManagers[w]={promise:M},M.catch(()=>{delete this.eventManagers[w]}),M}initAndGetManager(E){var w=this;return(0,g.Z)(function*(){const M=yield function H(G){return(F=F||(0,g.Z)(function*(E){const w=yield function al(G){return fs=fs||function sa(G){return new Promise((E,w)=>{var M,se,ue;function Ne(){xo(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{xo(),w(Mn(G,"network-request-failed"))},timeout:Wc.get()})}if(null!==(se=null===(M=Jn().gapi)||void 0===M?void 0:M.iframes)&&void 0!==se&&se.Iframe)E(gapi.iframes.getContext());else{if(null===(ue=Jn().gapi)||void 0===ue||!ue.load){const Xe=Gr("iframefcb");return Jn()[Xe]=()=>{gapi.load?Ne():w(Mn(G,"network-request-failed"))},Yo(`https://apis.google.com/js/api.js?onload=${Xe}`).catch(Pt=>w(Pt))}Ne()}}).catch(E=>{throw fs=null,E})}(G),fs}(E),M=Jn().gapi;return Qt(M,E,"internal-error"),w.open({where:document.body,url:Fi(E),messageHandlersFilter:M.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jo,dontclear:!0},se=>{var ue;return new Promise(function(Ne,Xe){return(ue=ue||(0,g.Z)(function*(Pt,$t){yield se.restyle({setHideOnLeave:!1});const sn=Mn(E,"network-request-failed"),Qn=Jn().setTimeout(()=>{$t(sn)},zl.get());function fn(){Jn().clearTimeout(Qn),Pt(se)}se.ping(fn).then(fn,()=>{$t(sn)})})).apply(this,arguments)})})})).apply(this,arguments)}(E),se=new du(E);return M.register("authEvent",ue=>(Qt(ue?.authEvent,E,"invalid-auth-event"),{status:se.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[E._key()]={manager:se},w.iframes[E._key()]=M,se})()}_isIframeWebStorageSupported(E,w){this.iframes[E._key()].send(Or,{type:Or},se=>{var ue;const Ne=null===(ue=se?.[0])||void 0===ue?void 0:ue[Or];void 0!==Ne&&w(!!Ne),en(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const w=E._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Co(G){return(L=L||(0,g.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:w}=yield wl(E);for(const M of w)try{if(ol(M))return}catch{}en(E,"unauthorized-domain")})).apply(this,arguments)}(E)),this.originValidationPromises[w]}get _shouldInitProactively(){return zi()||Fs()||tr()}};class gr{constructor(E){this.factorId=E}_process(E,w,M){switch(w.type){case"enroll":return this._finalizeEnroll(E,w.credential,M);case"signin":return this._finalizeSignIn(E,w.credential);default:return $r("unexpected MultiFactorSessionType")}}}class Ti extends gr{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new Ti(E)}_finalizeEnroll(E,w,M){return function yl(G,E){return $(G,"POST","/v2/accounts/mfaEnrollment:finalize",De(G,E))}(E,{idToken:w,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,w){return function Ms(G,E){return $(G,"POST","/v2/accounts/mfaSignIn:finalize",De(G,E))}(E,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let To=(()=>{class G{constructor(){}static assertion(w){return Ti._fromCredential(w)}}return G.FACTOR_ID="phone",G})();var Kc="@firebase/auth";class ed{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var w=this;return(0,g.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const w=this.auth.onIdTokenChanged(M=>{E(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,w),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const w=this.internalListeners.get(E);w&&(this.internalListeners.delete(E),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zd=(0,z.Pz)("authIdTokenMaxAge")||300;let cc=null;const Cd=G=>{var E;return function(w){return(E=E||(0,g.Z)(function*(M){const se=M&&(yield M.getIdTokenResult()),ue=se&&((new Date).getTime()-Date.parse(se.issuedAtTime))/1e3;if(ue&&ue>Zd)return;const Ne=se?.token;cc!==Ne&&(cc=Ne,yield fetch(G,{method:Ne?"POST":"DELETE",headers:Ne?{Authorization:`Bearer ${Ne}`}:{}}))})).apply(this,arguments)}};function td(G=(0,ie.getApp)()){const E=(0,ie._getProvider)(G,"auth");if(E.isInitialized())return E.getImmediate();const w=function ts(G,E){const w=(0,ie._getProvider)(G,"auth");if(w.isInitialized()){const se=w.getImmediate(),ue=w.getOptions();if((0,z.vZ)(ue,E??{}))return se;en(se,"already-initialized")}return w.initialize({options:E})}(G,{popupRedirectResolver:Ts,persistence:[Bi,di,xa]}),M=(0,z.Pz)("authTokenSyncURL");if(M){const ue=Cd(M);(function Fc(G,E,w){(0,z.m9)(G).beforeAuthStateChanged(E,w)})(w,ue,()=>ue(w.currentUser)),function _l(G,E,w,M){(0,z.m9)(G).onIdTokenChanged(E,w,M)}(w,Ne=>ue(Ne))}const se=(0,z.q4)("auth");return se&&Ol(w,`http://${se}`),w}!function Ru(G){(0,ie._registerComponent)(new Se.wA("auth",(E,{options:w})=>{const M=E.getProvider("app").getImmediate(),se=E.getProvider("heartbeat"),ue=E.getProvider("app-check-internal"),{apiKey:Ne,authDomain:Xe}=M.options;Qt(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:M.name});const Pt={apiKey:Ne,authDomain:Xe,clientPlatform:G,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:da(G)},$t=new Ri(M,se,ue,Pt);return function Qr(G,E){const w=E?.persistence||[],M=(Array.isArray(w)?w:[w]).map(Er);E?.errorMap&&G._updateErrorMap(E.errorMap),G._initializeWithPersistence(M,E?.popupRedirectResolver)}($t,w),$t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,w,M)=>{E.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Se.wA("auth-internal",E=>{const w=Nr(E.getProvider("auth").getImmediate());return new ed(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Kc,"0.23.2",function zo(G){switch(G){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(G)),(0,ie.registerVersion)(Kc,"0.23.2","esm2017")}("Browser")},8162:(on,et,V)=>{V.d(et,{u7:()=>Ig,Jj:()=>fh,IX:()=>W_,my:()=>Ao,xU:()=>Zu,Lz:()=>jd,WA:()=>x,F8:()=>Gh,$q:()=>Sp,W:()=>Jh,EK:()=>Ni,PU:()=>Pg,l7:()=>Or,Ky:()=>rn,Xb:()=>$i,Cf:()=>ji,K9:()=>fo,Me:()=>He,yq:()=>Io,Wi:()=>uy,ET:()=>Ny,Ab:()=>Ng,vr:()=>Ev,Fc:()=>fy,hJ:()=>dy,B$:()=>fm,at:()=>z_,oe:()=>ky,AK:()=>bv,TF:()=>my,JU:()=>Af,ST:()=>hy,fH:()=>K_,Ix:()=>wp,Wu:()=>xy,Lx:()=>zb,qY:()=>ua,GL:()=>ef,QT:()=>xg,kl:()=>vm,Xk:()=>$b,PL:()=>Ry,UQ:()=>Oy,zN:()=>Tg,ad:()=>q_,nP:()=>Fg,b9:()=>ov,vh:()=>av,Pb:()=>gy,L$:()=>_y,cf:()=>mv,sc:()=>gv,Xo:()=>sv,IO:()=>Nf,iE:()=>Mf,Eo:()=>$_,i3:()=>zy,Bt:()=>kg,pl:()=>Py,Ub:()=>Ui,qK:()=>My,TQ:()=>Cy,e0:()=>Eg,r7:()=>pv,Mx:()=>py,ar:()=>Ff});var Ae,g=V(5861),z=V(534),ie=V(4537),b=V(7879),ye=V(9058),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Le={},Fe=Fe||{},ce=Se||self;function Ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function At(i,e,n){return i.call.apply(i.bind,arguments)}function Rt(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function St(i,e,n){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?At:Rt).apply(null,arguments)}function Kt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function xt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,d){for(var v=Array(arguments.length-2),O=2;O<arguments.length;O++)v[O-2]=arguments[O];return e.prototype[l].apply(s,v)}}function xe(){this.s=this.s,this.o=this.o}xe.prototype.s=!1,xe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(i){Object.prototype.hasOwnProperty.call(i,ht)&&i[ht]||(i[ht]=++jt)}(this)},xe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Oe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Ke(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function Dt(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ce(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let v=0;v<d;v++)i[l+v]=s[v]}else i.push(s)}}function Qe(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var kt=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ce.addEventListener("test",()=>{},e),ce.removeEventListener("test",()=>{},e)}catch{}return i}();function pn(i){return/^[\s\xa0]*$/.test(i)}function cn(){var i=ce.navigator;return i&&(i=i.userAgent)?i:""}function tn(i){return-1!=cn().indexOf(i)}function rr(i){return rr[" "](i),i}rr[" "]=function(){};var It,i,hr=tn("Opera"),Rr=tn("Trident")||tn("MSIE"),Hn=tn("Edge"),dt=Hn||Rr,Et=tn("Gecko")&&!(-1!=cn().toLowerCase().indexOf("webkit")&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),ot=-1!=cn().toLowerCase().indexOf("webkit")&&!tn("Edge");function pt(){var i=ce.document;return i?i.documentMode:void 0}e:{var at="",Ft=(i=cn(),Et?/rv:([^\);]+)(\)|;)/.exec(i):Hn?/Edge\/([\d\.]+)/.exec(i):Rr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ot?/WebKit\/(\S+)/.exec(i):hr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&(at=Ft?Ft[1]:""),Rr){var Ct=pt();if(null!=Ct&&Ct>parseFloat(at)){It=String(Ct);break e}}It=at}var Nn=ce.document&&Rr&&(pt()||parseInt(It,10))||void 0;function Pn(i,e){if(Qe.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Et){e:{try{rr(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ir[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pn.$.h.call(this)}}xt(Pn,Qe);var Ir={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Wn="closure_listenable_"+(1e6*Math.random()|0),Sr=0;function Ln(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++Sr,this.fa=this.ia=!1}function fr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ii(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function wi(i){const e={};for(const n in i)e[n]=i[n];return e}const zr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function si(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let d=0;d<zr.length;d++)n=zr[d],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Cr(i){this.src=i,this.g={},this.h=0}function An(i,e){var n=e.type;if(n in i.g){var d,s=i.g[n],l=Oe(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(fr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Vn(i,e,n,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.fa&&d.listener==e&&d.capture==!!n&&d.la==s)return l}return-1}Cr.prototype.add=function(i,e,n,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var v=Vn(i,e,s,l);return-1<v?(e=i[v],n||(e.ia=!1)):((e=new Ln(e,this.src,d,!!s,l)).ia=n,i.push(e)),e};var zn="closure_lm_"+(1e6*Math.random()|0),or={};function pr(i,e,n,s,l){if(s&&s.once)return mr(i,e,n,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)pr(i,e[d],n,s,l);return null}return n=vt(n),i&&i[Wn]?i.O(e,n,$e(s)?!!s.capture:!!s,l):jr(i,e,n,!1,s,l)}function jr(i,e,n,s,l,d){if(!e)throw Error("Invalid event type");var v=$e(l)?!!l.capture:!!l,O=Ii(i);if(O||(i[zn]=O=new Cr(i)),(n=O.add(e,n,s,v,d)).proxy)return n;if(s=function _r(){const e=xr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)kt||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Vi(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function mr(i,e,n,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)mr(i,e[d],n,s,l);return null}return n=vt(n),i&&i[Wn]?i.P(e,n,$e(s)?!!s.capture:!!s,l):jr(i,e,n,!0,s,l)}function ls(i,e,n,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)ls(i,e[d],n,s,l);else s=$e(s)?!!s.capture:!!s,n=vt(n),i&&i[Wn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Vn(d=i.g[e],n,s,l))&&(fr(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Ii(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vn(e,n,s,l)),(n=-1<i?e[i]:null)&&ar(n))}function ar(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Wn])An(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Vi(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Ii(e))?(An(n,i),0==n.h&&(n.src=null,e[zn]=null)):fr(i)}}}function Vi(i){return i in or?or[i]:or[i]="on"+i}function xr(i,e){if(i.fa)i=!0;else{e=new Pn(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ar(i),i=n.call(s,e)}return i}function Ii(i){return(i=i[zn])instanceof Cr?i:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(i){return"function"==typeof i?i:(i[Ar]||(i[Ar]=function(e){return i.handleEvent(e)}),i[Ar])}function We(){xe.call(this),this.i=new Cr(this),this.S=this,this.J=null}function wt(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new Qe(e,i);else if(e instanceof Qe)e.target=e.target||i;else{var l=e;si(e=new Qe(s,i),l)}if(l=!0,n)for(var d=n.length-1;0<=d;d--){var v=e.g=n[d];l=qe(v,s,!0,e)&&l}if(l=qe(v=e.g=i,s,!0,e)&&l,l=qe(v,s,!1,e)&&l,n)for(d=0;d<n.length;d++)l=qe(v=e.g=n[d],s,!1,e)&&l}function qe(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var v=e[d];if(v&&!v.fa&&v.capture==n){var O=v.listener,j=v.la||v.src;v.ia&&An(i.i,v),l=!1!==O.call(j,s)&&l}}return l&&!s.defaultPrevented}xt(We,xe),We.prototype[Wn]=!0,We.prototype.removeEventListener=function(i,e,n,s){ls(this,i,e,n,s)},We.prototype.N=function(){if(We.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)fr(n[s]);delete i.g[e],i.h--}}this.J=null},We.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},We.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var rt=ce.JSON.stringify;function un(){var i=F;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var cr=new class Nt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _i,i=>i.reset());class _i{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ge(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function q(i){ce.setTimeout(()=>{throw i},0)}let N,L=!1,F=new class Gn{constructor(){this.h=this.g=null}add(e,n){const s=cr.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},le=()=>{const i=ce.Promise.resolve(void 0);N=()=>{i.then(ze)}};var ze=()=>{for(var i;i=un();){try{i.h.call(i.g)}catch(n){q(n)}var e=cr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}L=!1};function mt(i,e){We.call(this),this.h=i||1,this.g=e||ce,this.j=St(this.qb,this),this.l=Date.now()}function an(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ht(i,e,n){if("function"==typeof i)n&&(i=St(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:ce.setTimeout(i,e||0)}function xn(i){i.g=Ht(()=>{i.g=null,i.i&&(i.i=!1,xn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}xt(mt,We),(Ae=mt.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wt(this,"tick"),this.ga&&(an(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){mt.$.N.call(this),an(this),delete this.g};class yn extends xe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xn(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(i){xe.call(this),this.h=i,this.g={}}xt(qn,xe);var ur=[];function Mi(i,e,n,s){Array.isArray(n)||(n&&(ur[0]=n.toString()),n=ur);for(var l=0;l<n.length;l++){var d=pr(e,n[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function pi(i){ii(i.g,function(e,n){this.g.hasOwnProperty(n)&&ar(e)},i),i.g={}}function bt(){this.g=!0}function mn(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var v=1;v<l.length;v++)l[v]=""}}}return rt(n)}catch{return e}}(i,n)+(s?" "+s:"")})}qn.prototype.N=function(){qn.$.N.call(this),pi(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bt.prototype.Ea=function(){this.g=!1},bt.prototype.info=function(){};var ir={},Xr=null;function mi(){return Xr=Xr||new We}function Qt(i){Qe.call(this,ir.Ta,i)}function $r(i){const e=mi();wt(e,new Qt(e))}function Hr(i,e){Qe.call(this,ir.STAT_EVENT,i),this.stat=e}function Tr(i){const e=mi();wt(e,new Hr(e,i))}function cs(i,e){Qe.call(this,ir.Ua,i),this.size=e}function gs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){i()},e)}ir.Ta="serverreachability",xt(Qt,Qe),ir.STAT_EVENT="statevent",xt(Hr,Qe),ir.Ua="timingevent",xt(cs,Qe);var Ys={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jr(){}function bs(){}Jr.prototype.h=null;var $,Ye={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function re(){Qe.call(this,"d")}function De(){Qe.call(this,"c")}function oe(){}function _e(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new qn(this),this.P=ft,this.V=new mt(i=dt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}xt(re,Qe),xt(De,Qe),xt(oe,Jr),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},$=new oe;var ft=45e3,Ee={},fe={};function Ue(i,e,n){i.L=1,i.v=Rl(Kr(e)),i.s=n,i.S=!0,Ie(i,null)}function Ie(i,e){i.G=Date.now(),dn(i),i.A=Kr(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Ko(n.i,"t",s),i.C=0,n=i.l.J,i.h=new je,i.g=Ws(i.l,n?e:null,!i.s),0<i.O&&(i.M=new yn(St(i.Pa,i,i.g),i.O)),Mi(i.U,i.g,"readystatechange",i.nb),e=i.I?wi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),$r(),function ut(i,e,n,s,l,d){i.info(function(){if(i.g)if(d)for(var v="",O=d.split("&"),j=0;j<O.length;j++){var ne=O[j].split("=");if(1<ne.length){var pe=ne[0];ne=ne[1];var Re=pe.split("_");v=2<=Re.length&&"type"==Re[1]?v+(pe+"=")+ne+"&":v+(pe+"=redacted&")}}else v=null;else v=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+v})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Be(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function nt(i,e,n){let l,s=!0;for(;!i.J&&i.C<n.length;){if(l=Bt(i,n),l==fe){4==e&&(i.o=4,Tr(14),s=!1),mn(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ee){i.o=4,Tr(15),mn(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}mn(i.j,i.m,l,null),Qs(i,l)}Be(i)&&l!=fe&&l!=Ee&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Tr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ws(e),e.M=!0,Tr(11))):(mn(i.j,i.m,n,"[Invalid Chunked Response]"),qr(i),vi(i))}function Bt(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?fe:(n=Number(e.substring(n,s)),isNaN(n)?Ee:(s+=1)+n>e.length?fe:(e=e.slice(s,s+n),i.C=s+n,e))}function dn(i){i.Y=Date.now()+i.P,kn(i,i.P)}function kn(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=gs(St(i.lb,i),e)}function kr(i){i.B&&(ce.clearTimeout(i.B),i.B=null)}function vi(i){0==i.l.H||i.J||No(i.l,i)}function qr(i){kr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,an(i.V),pi(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Qs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||ka(n.i,i)))if(!i.K&&ka(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Bs(n),nr(n)}ko(n),Tr(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=gs(St(n.ib,n),6e3));if(1>=oo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yi(n,11)}else if((i.K||n.g==i)&&Bs(n),!pn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let ne=l[e];if(n.V=ne[0],ne=ne[1],2==n.H)if("c"==ne[0]){n.K=ne[1],n.pa=ne[2];const pe=ne[3];null!=pe&&(n.ra=pe,n.l.info("VER="+n.ra));const Re=ne[4];null!=Re&&(n.Ga=Re,n.l.info("SVER="+n.Ga));const ct=ne[5];null!=ct&&"number"==typeof ct&&0<ct&&(n.L=s=1.5*ct,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const yt=i.g;if(yt){const Jt=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var d=s.i;d.g||-1==Jt.indexOf("spdy")&&-1==Jt.indexOf("quic")&&-1==Jt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Ea(d,d.h),d.h=null))}if(s.F){const wn=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;wn&&(s.Da=wn,Er(s.I,s.F,wn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var v=i;if((s=n).wa=vs(s,s.J?s.pa:null,s.Y),v.K){Zo(s.i,v);var O=v,j=s.L;j&&O.setTimeout(j),O.B&&(kr(O),dn(O)),s.g=v}else Nl(s);0<n.j.length&&fa(n)}else"stop"!=ne[0]&&"close"!=ne[0]||yi(n,7);else 3==n.H&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?yi(n,7):bo(n):"noop"!=ne[0]&&n.h&&n.h.Aa(ne),n.A=0)}$r()}catch{}}function yr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function qo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ce(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function io(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ce(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],n&&n[d],i)}(Ae=_e.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==ao(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const pe=ao(this.g);var e=this.g.Ia();if(this.g.da(),!(3>pe)&&(3!=pe||dt||this.g&&(this.h.h||this.g.ja()||Pl(this.g)))){this.J||4!=pe||7==e||$r(),kr(this);var n=this.g.da();this.ca=n;t:if(Be(this)){var s=Pl(this.g);i="";var l=s.length,d=4==ao(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),vi(this);var v="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ja();if(this.i=200==n,function zt(i,e,n,s,l,d,v){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+d+" "+v})}(this.j,this.u,this.A,this.m,this.W,pe,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,j=this.g;if((O=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pn(O)){var ne=O;break t}}ne=null}if(!(n=ne)){this.i=!1,this.o=3,Tr(12),qr(this),vi(this);break e}mn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,n)}this.S?(nt(this,pe,v),dt&&this.i&&3==pe&&(Mi(this.U,this.V,"tick",this.mb),this.V.start())):(mn(this.j,this.m,v,null),Qs(this,v)),4==pe&&qr(this),this.i&&!this.J&&(4==pe?No(this.l,this):(this.i=!1,dn(this)))}else(function gc(i){const e={};i=(i.g&&2<=ao(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(pn(i[s]))continue;var n=ge(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const d=e[l]||[];e[l]=d,d.push(n)}!function Ei(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),qr(this),vi(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=ao(this.g),e=this.g.ja();this.C<e.length&&(kr(this),nt(this,i,e),this.i&&4!=i&&dn(this))}},Ae.cancel=function(){this.J=!0,qr(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function en(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($r(),Tr(17)),qr(this),this.o=2,vi(this)):kn(this,this.Y-i)};var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ds){this.h=i.h,us(this,i.j),this.s=i.s,this.g=i.g,Ss(this,i.m),this.l=i.l;var e=i.i,n=new ki;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ba(this,n),this.o=i.o}else i&&(e=String(i).match(ei))?(this.h=!1,us(this,e[1]||"",!0),this.s=li(e[2]||""),this.g=li(e[3]||"",!0),Ss(this,e[4]),this.l=li(e[5]||"",!0),ba(this,e[6]||"",!0),this.o=li(e[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}function Kr(i){return new Ds(i)}function us(i,e,n){i.j=n?li(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ss(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ba(i,e,n){e instanceof ki?(i.i=e,function Xs(i,e){e&&!i.j&&(Hi(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(Ro(this,s),Ko(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=En(e,ds)),i.i=new ki(e,i.h))}function Er(i,e,n){i.i.set(e,n)}function Rl(i){return Er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function li(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function En(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,dr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function dr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ds.prototype.toString=function(){var i=[],e=this.j;e&&i.push(En(e,ci,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(En(e,ci,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(En(n,"/"==n.charAt(0)?Fs:Wi,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",En(n,Ls)),i.join("")};var ci=/[#\/\?@]/g,Wi=/[#\?:]/g,Fs=/[#\?]/g,ds=/[#\?@]/g,Ls=/#/g;function ki(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Hi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Di(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var d=i[n].substring(0,s);l=i[n].substring(s+1)}else d=i[n];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ro(i,e){Hi(i),e=_o(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function tr(i,e){return Hi(i),e=_o(i,e),i.g.has(e)}function Ko(i,e,n){Ro(i,e),0<n.length&&(i.i=null,i.g.set(_o(i,e),Ke(n)),i.h+=n.length)}function _o(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Pa(i){this.l=i||da,i=ce.PerformanceNavigationTiming?0<(i=ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=ki.prototype).add=function(i,e){Hi(this),this.i=null,i=_o(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){Hi(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},Ae.ta=function(){Hi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)n.push(e[s])}return n},Ae.Z=function(i){Hi(this);let e=[];if("string"==typeof i)tr(this,i)&&(e=e.concat(this.g.get(_o(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return Hi(this),this.i=null,tr(this,i=_o(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const d=encodeURIComponent(String(s)),v=this.Z(s);for(s=0;s<v.length;s++){var l=d;""!==v[s]&&(l+="="+encodeURIComponent(String(v[s]))),i.push(l)}}return this.i=i.join("&")};var da=10;function so(i){return!!i.h||!!i.g&&i.g.size>=i.j}function oo(i){return i.h?1:i.g?i.g.size:0}function ka(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ea(i,e){i.g?i.g.add(e):i.h=e}function Zo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function tl(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Ke(i.i)}Pa.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Yo=class{stringify(i){return ce.JSON.stringify(i,void 0)}parse(i){return ce.JSON.parse(i,void 0)}};function Gr(){this.g=new Yo}function dl(i,e,n){const s=n||"";try{yr(i,function(l,d){let v=l;$e(l)&&(v=rt(l)),e.push(s+d+"="+encodeURIComponent(v))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Vs(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function es(i){this.l=i.fc||null,this.j=i.ob||!1}function _s(i,e){We.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(es,Jr),es.prototype.g=function(){return new _s(this.l,this.j)},es.prototype.i=function(i){return function(){return i}}({}),xt(_s,We);var ha=0;function Ri(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Nr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hl(i)}function hl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=_s.prototype).open=function(i,e){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hl(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nr(this)),this.readyState=ha},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hl(this)),this.g&&(this.readyState=3,hl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ri(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Nr(this):hl(this),3==this.readyState&&Ri(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,Nr(this))},Ae.Ya=function(i){this.g&&(this.response=i,Nr(this))},Ae.ka=function(){this.g&&Nr(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ts=ce.JSON.parse;function Qr(i){We.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ol,this.L=this.M=!1}xt(Qr,We);var Ol="",vo=/^https?$/i,Us=["POST","PUT"];function Oo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,yo(i),Jl(i)}function yo(i){i.F||(i.F=!0,wt(i,"complete"),wt(i,"error"))}function wa(i){if(i.h&&typeof Fe<"u"&&(!i.C[1]||4!=ao(i)||2!=i.da()))if(i.v&&4==ao(i))Ht(i.La,0,i);else if(wt(i,"readystatechange"),4==ao(i)){i.h=!1;try{const v=i.da();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===v){var l=String(i.I).match(ei)[1]||null;!l&&ce.self&&ce.self.location&&(l=ce.self.location.protocol.slice(0,-1)),s=!vo.test(l?l.toLowerCase():"")}n=s}if(n)wt(i,"complete"),wt(i,"success");else{i.m=6;try{var d=2<ao(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",yo(i)}}finally{Jl(i)}}}function Jl(i,e){if(i.g){mc(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||wt(i,"ready");try{n.onreadystatechange=s}catch{}}}function mc(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ce.clearTimeout(i.A),i.A=null)}function ao(i){return i.g?i.g.readyState:0}function Pl(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ol:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ec(i){let e="";return ii(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function kl(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ec(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Er(i,e,n))}function Si(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Js(i){this.Ga=0,this.j=[],this.l=new bt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Si("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Si("baseRetryDelayMs",5e3,i),this.hb=Si("retryDelaySeedMs",1e4,i),this.eb=Si("forwardChannelMaxRetries",2,i),this.xa=Si("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Pa(i&&i.concurrentRequestLimit),this.Ja=new Gr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bo(i){if(Es(i),3==i.H){var e=i.W++,n=Kr(i.I);if(Er(n,"SID",i.K),Er(n,"RID",e),Er(n,"TYPE","terminate"),Ia(i,n),(e=new _e(i,i.l,e)).L=2,e.v=Rl(Kr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ce.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ws(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dn(e)}js(i)}function nr(i){i.g&&(ws(i),i.g.cancel(),i.g=null)}function Es(i){nr(i),i.u&&(ce.clearTimeout(i.u),i.u=null),Bs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ce.clearTimeout(i.m),i.m=null)}function fa(i){if(!so(i.i)&&!i.m){i.m=!0;var e=i.Na;N||le(),L||(N(),L=!0),F.add(e,i),i.C=0}}function Na(i,e){var n;n=e?e.m:i.W++;const s=Kr(i.I);Er(s,"SID",i.K),Er(s,"RID",n),Er(s,"AID",i.V),Ia(i,s),i.o&&i.s&&kl(s,i.o,i.s),n=new _e(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=fl(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ea(i.i,n),Ue(n,s,e)}function Ia(i,e){i.na&&ii(i.na,function(n,s){Er(e,s,n)}),i.h&&yr({},function(n,s){Er(e,s,n)})}function fl(i,e,n){n=Math.min(i.j.length,n);var s=i.h?St(i.h.Va,i.h,i):null;e:{var l=i.j;let d=-1;for(;;){const v=["count="+n];-1==d?0<n?(d=l[0].g,v.push("ofs="+d)):d=0:v.push("ofs="+d);let O=!0;for(let j=0;j<n;j++){let ne=l[j].g;const pe=l[j].map;if(ne-=d,0>ne)d=Math.max(0,l[j].g-100),O=!1;else try{dl(pe,v,"req"+ne+"_")}catch{s&&s(pe)}}if(O){s=v.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Nl(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;N||le(),L||(N(),L=!0),F.add(e,i),i.A=0}}function ko(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=gs(St(i.Ma,i),Xo(i,i.A)),i.A++,0))}function ws(i){null!=i.B&&(ce.clearTimeout(i.B),i.B=null)}function Qo(i){i.g=new _e(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Kr(i.wa);Er(e,"RID","rpc"),Er(e,"SID",i.K),Er(e,"AID",i.V),Er(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Er(e,"TO",i.qa),Er(e,"TYPE","xmlhttp"),Ia(i,e),i.o&&i.s&&kl(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Rl(Kr(e)),n.s=null,n.S=!0,Ie(n,i)}function Bs(i){null!=i.v&&(ce.clearTimeout(i.v),i.v=null)}function No(i,e){var n=null;if(i.g==e){Bs(i),ws(i),i.g=null;var s=2}else{if(!ka(i.i,e))return;n=e.F,Zo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;wt(s=mi(),new cs(s,n)),fa(i)}else Nl(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Po(i,e){return!(oo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=gs(St(i.Na,i,e),Xo(i,i.C)),i.C++,0)))}(i,e)||2==s&&ko(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:yi(i,5);break;case 4:yi(i,10);break;case 3:yi(i,6);break;default:yi(i,2)}}function Xo(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function yi(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=St(i.pb,i);n||(n=new Ds("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||us(n,"https"),Rl(n)),function nl(i,e){const n=new bt;if(ce.Image){const s=new Image;s.onload=Kt(Vs,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Kt(Vs,n,s,"TestLoadImage: error",!1,e),s.onabort=Kt(Vs,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Kt(Vs,n,s,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Tr(2);i.H=0,i.h&&i.h.za(e),js(i),Es(i)}function js(i){if(i.H=0,i.ma=[],i.h){const e=tl(i.i);(0!=e.length||0!=i.j.length)&&(Dt(i.ma,e),Dt(i.ma,i.j),i.i.i.length=0,Ke(i.j),i.j.length=0),i.h.ya()}}function vs(i,e,n){var s=n instanceof Ds?Kr(n):new Ds(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Ss(s,s.m);else{var l=ce.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Ds(null);s&&us(d,s),e&&(d.g=e),l&&Ss(d,l),n&&(d.l=n),s=d}return e=i.Da,(n=i.F)&&e&&Er(s,n,e),Er(s,"VER",i.ra),Ia(i,s),s}function Ws(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qr(n&&i.Ha&&!i.va?new es({ob:!0}):i.va)).Oa(i.J),e}function _c(){}function Fa(){if(Rr&&!(10<=Number(Nn)))throw Error("Environmental error: no available transport.")}function As(i,e){We.call(this),this.g=new Js(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!pn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new qs(this)}function rl(i){re.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function pa(){De.call(this),this.status=1}function qs(i){this.g=i}function Ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function il(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var d=i.g[3],v=(e=i.g[0])+(d^(n=i.g[1])&((l=i.g[2])^d))+s[0]+3614090360&4294967295;v=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=(n=(l=(d=(e=n+(v<<7&4294967295|v>>>25))+((v=d+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^d&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|v>>>10))+((v=e+(d^n&(l^d))+s[4]+4118548399&4294967295)<<7&4294967295|v>>>25))+((v=d+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^d&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|v>>>10))+((v=e+(d^n&(l^d))+s[8]+1770035416&4294967295)<<7&4294967295|v>>>25))+((v=d+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^d&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|v>>>10))+((v=e+(d^n&(l^d))+s[12]+1804603682&4294967295)<<7&4294967295|v>>>25))+((v=d+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|v>>>20))+((v=l+(n^d&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|v>>>15))+((v=n+(e^l&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|v>>>10))+((v=e+(l^d&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|v>>>27))+((v=d+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|v>>>18))+((v=n+(d^e&(l^d))+s[0]+3921069994&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^d&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|v>>>27))+((v=d+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|v>>>18))+((v=n+(d^e&(l^d))+s[4]+3889429448&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^d&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|v>>>27))+((v=d+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|v>>>18))+((v=n+(d^e&(l^d))+s[8]+1163531501&4294967295)<<20&4294967295|v>>>12))+((v=e+(l^d&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|v>>>27))+((v=d+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|v>>>23))+((v=l+(e^n&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|v>>>18))+((v=n+(d^e&(l^d))+s[12]+2368359562&4294967295)<<20&4294967295|v>>>12))+((v=e+(n^l^d)+s[5]+4294588738&4294967295)<<4&4294967295|v>>>28))+((v=d+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|v>>>21))+((v=l+(d^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^d)+s[1]+2763975236&4294967295)<<4&4294967295|v>>>28))+((v=d+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|v>>>21))+((v=l+(d^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^d)+s[13]+681279174&4294967295)<<4&4294967295|v>>>28))+((v=d+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|v>>>21))+((v=l+(d^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^d^e)+s[6]+76029189&4294967295)<<23&4294967295|v>>>9))+((v=e+(n^l^d)+s[9]+3654602809&4294967295)<<4&4294967295|v>>>28))+((v=d+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|v>>>21))+((v=l+(d^e^n)+s[15]+530742520&4294967295)<<16&4294967295|v>>>16))+((v=n+(l^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|v>>>9))+((v=e+(l^(n|~d))+s[0]+4096336452&4294967295)<<6&4294967295|v>>>26))+((v=d+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(d|~n))+s[14]+2878612391&4294967295)<<15&4294967295|v>>>17))+((v=n+(d^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|v>>>11))+((v=e+(l^(n|~d))+s[12]+1700485571&4294967295)<<6&4294967295|v>>>26))+((v=d+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(d|~n))+s[10]+4293915773&4294967295)<<15&4294967295|v>>>17))+((v=n+(d^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|v>>>11))+((v=e+(l^(n|~d))+s[8]+1873313359&4294967295)<<6&4294967295|v>>>26))+((v=d+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|v>>>22))+((v=l+(e^(d|~n))+s[6]+2734768916&4294967295)<<15&4294967295|v>>>17))+((v=n+(d^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|v>>>11))+((d=(e=n+((v=e+(l^(n|~d))+s[4]+4149444226&4294967295)<<6&4294967295|v>>>26))+((v=d+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|v>>>22))^((l=d+((v=l+(e^(d|~n))+s[2]+718787259&4294967295)<<15&4294967295|v>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(v<<21&4294967295|v>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+d&4294967295}function Mr(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var d=0|i[l];s&&d==e||(n[l]=d,s=!1)}this.g=n}(Ae=Qr.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$.g(),this.C=function Ji(i){return i.h||(i.h=i.i())}(this.u?this.u:$),this.g.onreadystatechange=St(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void Oo(this,d)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())n.set(d,s.get(d))}s=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),l=ce.FormData&&i instanceof ce.FormData,!(0<=Oe(Us,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,v]of n)this.g.setRequestHeader(d,v);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mc(this),0<this.B&&((this.L=function Gs(i){return Rr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.ua,this)):this.A=Ht(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Oo(this,d)}},Ae.ua=function(){typeof Fe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wt(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,wt(this,"complete"),wt(this,"abort"),Jl(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jl(this,!0)),Qr.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?wa(this):this.kb())},Ae.kb=function(){wa(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<ao(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ts(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Js.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new _e(this,this.l,i);let d=this.s;if(this.U&&(d?(d=wi(d),si(d,this.U)):d=this.U),null!==this.o||this.O||(l.I=d,d=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fl(this,l,e),Er(n=Kr(this.I),"RID",i),Er(n,"CVER",22),this.F&&Er(n,"X-HTTP-Session-Id",this.F),Ia(this,n),d&&(this.O?e="headers="+encodeURIComponent(String(ec(d)))+"&"+e:this.o&&kl(n,this.o,d)),Ea(this.i,l),this.bb&&Er(n,"TYPE","init"),this.P?(Er(n,"$req",e),Er(n,"SID","null"),l.aa=!0,Ue(l,n,null)):Ue(l,n,e),this.H=2}}else 3==this.H&&(i?Na(this,i):0==this.j.length||so(this.i)||Na(this))},Ae.Ma=function(){if(this.u=null,Qo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=gs(St(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),nr(this),Qo(this))},Ae.ib=function(){null!=this.v&&(this.v=null,nr(this),ko(this),Tr(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=_c.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},Fa.prototype.g=function(i,e){return new As(i,e)},xt(As,We),As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Tr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=vs(i,null,i.Y),fa(i)},As.prototype.close=function(){bo(this.g)},As.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=rt(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&fa(e)},As.prototype.N=function(){this.g.h=null,delete this.j,bo(this.g),delete this.g,As.$.N.call(this)},xt(rl,re),xt(pa,De),xt(qs,_c),qs.prototype.Ba=function(){wt(this.g,"a")},qs.prototype.Aa=function(i){wt(this.g,new rl(i))},qs.prototype.za=function(i){wt(this.g,new pa)},qs.prototype.ya=function(){wt(this.g,"b")},xt(Ki,function Jo(){this.blockSize=-1}),Ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ki.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,d=0;d<e;){if(0==l)for(;d<=n;)il(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[l++]=i.charCodeAt(d++),l==this.blockSize){il(this,s),l=0;break}}else for(;d<e;)if(s[l++]=i[d++],l==this.blockSize){il(this,s),l=0;break}}this.h=l,this.i+=e},Ki.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Fl={};function La(i){return-128<=i&&128>i?function Br(i,e){var n=Fl;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Mr([0|e],0>e?-1:0)}):new Mr([0|i],0>i?-1:0)}function Zi(i){if(isNaN(i)||!isFinite(i))return Va;if(0>i)return Ci(Zi(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=pl;return new Mr(e,0)}var pl=4294967296,Va=La(0),Hs=La(1),Is=La(16777216);function lo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Eo(i){return-1==i.h}function Ci(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new Mr(n,~i.h).add(Hs)}function Ua(i,e){return i.add(Ci(e))}function Ba(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ml(i,e){this.g=i,this.h=e}function hs(i,e){if(lo(e))throw Error("division by zero");if(lo(i))return new ml(Va,Va);if(Eo(i))return e=hs(Ci(i),e),new ml(Ci(e.g),Ci(e.h));if(Eo(e))return e=hs(i,Ci(e)),new ml(Ci(e.g),e.h);if(30<i.g.length){if(Eo(i)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hs,s=e;0>=s.X(i);)n=ja(n),s=ja(s);var l=co(n,1),d=co(s,1);for(s=co(s,2),n=co(n,2);!lo(s);){var v=d.add(s);0>=v.X(i)&&(l=l.add(n),d=v),s=co(s,1),n=co(n,1)}return e=Ua(i,l.R(e)),new ml(l,e)}for(l=Va;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),v=(d=Zi(n)).R(e);Eo(v)||0<v.X(i);)v=(d=Zi(n-=s)).R(e);lo(d)&&(d=Hs),l=l.add(d),i=Ua(i,v)}return new ml(l,i)}function ja(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Mr(n,i.h)}function co(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],d=0;d<s;d++)l[d]=0<e?i.D(d+n)>>>e|i.D(d+n+1)<<32-e:i.D(d+n);return new Mr(l,i.h)}(Ae=Mr.prototype).ea=function(){if(Eo(this))return-Ci(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:pl+s)*e,e*=pl}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(lo(this))return"0";if(Eo(this))return"-"+Ci(this).toString(i);for(var e=Zi(Math.pow(i,6)),n=this,s="";;){var l=hs(n,e).g,d=((0<(n=Ua(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(lo(n=l))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return Eo(i=Ua(this,i))?-1:lo(i)?0:1},Ae.abs=function(){return Eo(this)?Ci(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var d=s+(65535&this.D(l))+(65535&i.D(l)),v=(d>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=v>>>16,n[l]=(v&=65535)<<16|(d&=65535)}return new Mr(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(lo(this)||lo(i))return Va;if(Eo(this))return Eo(i)?Ci(this).R(Ci(i)):Ci(Ci(this).R(i));if(Eo(i))return Ci(this.R(Ci(i)));if(0>this.X(Is)&&0>i.X(Is))return Zi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var d=this.D(s)>>>16,v=65535&this.D(s),O=i.D(l)>>>16,j=65535&i.D(l);n[2*s+2*l]+=v*j,Ba(n,2*s+2*l),n[2*s+2*l+1]+=d*j,Ba(n,2*s+2*l+1),n[2*s+2*l+1]+=v*O,Ba(n,2*s+2*l+1),n[2*s+2*l+2]+=d*O,Ba(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Mr(n,0)},Ae.gb=function(i){return hs(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new Mr(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new Mr(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new Mr(n,this.h^i.h)},Fa.prototype.createWebChannel=Fa.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,nn.COMPLETE="complete",bs.EventType=Ye,Ye.OPEN="a",Ye.CLOSE="b",Ye.ERROR="c",Ye.MESSAGE="d",We.prototype.listen=We.prototype.O,Qr.prototype.listenOnce=Qr.prototype.P,Qr.prototype.getLastError=Qr.prototype.Sa,Qr.prototype.getLastErrorCode=Qr.prototype.Ia,Qr.prototype.getStatus=Qr.prototype.da,Qr.prototype.getResponseJson=Qr.prototype.Wa,Qr.prototype.getResponseText=Qr.prototype.ja,Qr.prototype.send=Qr.prototype.ha,Qr.prototype.setWithCredentials=Qr.prototype.Oa,Ki.prototype.digest=Ki.prototype.l,Ki.prototype.reset=Ki.prototype.reset,Ki.prototype.update=Ki.prototype.j,Mr.prototype.add=Mr.prototype.add,Mr.prototype.multiply=Mr.prototype.R,Mr.prototype.modulo=Mr.prototype.gb,Mr.prototype.compare=Mr.prototype.X,Mr.prototype.toNumber=Mr.prototype.ea,Mr.prototype.toString=Mr.prototype.toString,Mr.prototype.getBits=Mr.prototype.D,Mr.fromNumber=Zi,Mr.fromString=function tc(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ci(tc(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zi(Math.pow(e,8)),s=Va,l=0;l<i.length;l+=8){var d=Math.min(8,i.length-l),v=parseInt(i.substring(l,l+d),e);8>d?(d=Zi(Math.pow(e,d)),s=s.R(d).add(Zi(v))):s=(s=s.R(n)).add(Zi(v))}return s};var ui,Lr,ns,Oi,qi,ma,ea,Lo,rs,is,uo,Ai,Ll,Vl,ho,iu,Nc,gl,wo,_l,Fc,Cu,ta,Ca,xu,Ed,vl,Lc,su,br,yl,Qu,Vc,ou,nc,Ul,Vo,sl,vc,Uc,Bc,jc,Yt,Ha=Le.createWebChannelTransport=function(){return new Fa},S=Le.getStatEventTarget=function(){return mi()},J=Le.ErrorCode=Ys,Me=Le.EventType=nn,W=Le.Event=ir,ve=Le.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ze=Le.FetchXmlHttpFactory=es,Lt=Le.WebChannel=bs,gn=Le.XhrIo=Qr,Fr=Le.Md5=Ki,Wr=Le.Integer=Mr;const di="@firebase/firestore";class Cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");let xa="9.23.0";const ss=new b.Yd("@firebase/firestore");function za(){return ss.logLevel}function Ui(i){ss.setLogLevel(i)}function Xt(i,...e){if(ss.logLevel<=b.in.DEBUG){const n=e.map(Bl);ss.debug(`Firestore (${xa}): ${i}`,...n)}}function Jn(i,...e){if(ss.logLevel<=b.in.ERROR){const n=e.map(Bl);ss.error(`Firestore (${xa}): ${i}`,...n)}}function Io(i,...e){if(ss.logLevel<=b.in.WARN){const n=e.map(Bl);ss.warn(`Firestore (${xa}): ${i}`,...n)}}function Bl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Fn(i="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+i;throw Jn(e),new Error(e)}function Zn(i,e){i||Fn()}function fo(i,e){i||Fn()}function In(i,e){return i}const Ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends ye.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class R{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class U{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cs.UNAUTHENTICATED))}shutdown(){}}class Q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class he{constructor(e){this.t=e,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const d=ne=>this.i!==l?(l=this.i,n(ne)):Promise.resolve();let v=new R;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new R,e.enqueueRetryable(()=>d(this.currentUser))};const O=()=>{const ne=v;e.enqueueRetryable((0,g.Z)(function*(){yield ne.promise,yield d(s.currentUser)}))},j=ne=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(ne=>j(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?j(ne):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new R)}},0),O()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Zn("string"==typeof s.accessToken),new U(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Zn(null===e||"string"==typeof e),new Cs(e)}}class Te{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gt{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Te(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ut{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=d=>{null!=d.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const v=d.token!==this.T;return this.T=d.token,Xt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?l(d):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zn("string"==typeof n.token),this.T=n.token,new hn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Bi{static A(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Zr(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[d]%62))}return s}}function Tn(i,e){return i<e?-1:i>e?1:0}function Ms(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function $a(i){return i+"\0"}class Ni{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ni(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new Ni(0,0))}static max(){return new Un(new Ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ga{constructor(e,n,s){void 0===n?n=0:n>e.length&&Fn(),void 0===s?s=e.length-n:s>e.length-n&&Fn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Ga.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ga?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const d=e.get(l),v=n.get(l);if(d<v)return-1;if(d>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gi extends Ga{construct(e,n,s){return new gi(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new x(Ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new gi(n)}static emptyPath(){return new gi([])}}const Uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends Ga{construct(e,n,s){return new $i(e,n,s)}static isValidIdentifier(e){return Uo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const d=()=>{if(0===s.length)throw new x(Ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let v=!1;for(;l<e.length;){const O=e[l];if("\\"===O){if(l+1===e.length)throw new x(Ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new x(Ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=j,l+=2}else"`"===O?(v=!v,l++):"."!==O||v?(s+=O,l++):(d(),l++)}if(d(),v)throw new x(Ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(n)}static emptyPath(){return new $i([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(gi.fromString(e))}static fromName(e){return new rn(gi.fromString(e).popFirst(5))}static empty(){return new rn(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return gi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new gi(e.slice()))}}class Hc{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Tu(i){return i.fields.find(e=>2===e.kind)}function rc(i){return i.fields.filter(e=>2!==e.kind)}Hc.UNKNOWN_ID=-1;class na{constructor(e,n){this.fieldPath=e,this.kind=n}}class bl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bl(0,Rs.min())}}function Ta(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Un.fromTimestamp(1e9===s?new Ni(n+1,0):new Ni(n,s));return new Rs(l,rn.empty(),e)}function Du(i){return new Rs(i.readTime,i.key,-1)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(Un.min(),rn.empty(),-1)}static max(){return new Rs(Un.max(),rn.empty(),-1)}}function Bo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=rn.comparator(i.documentKey,e.documentKey),0!==n?n:Tn(i.largestBatchId,e.largestBatchId))}const sc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Su{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Da(i){return(ui=ui||(0,g.Z)(function*(e){if(e.code!==Ot.FAILED_PRECONDITION||e.message!==sc)throw e;Xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Tt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Tt?n:Tt.resolve(n)}catch(n){return Tt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Tt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Tt.reject(n)}static resolve(e){return new Tt((n,s)=>{n(e)})}static reject(e){return new Tt((n,s)=>{s(e)})}static waitFor(e){return new Tt((n,s)=>{let l=0,d=0,v=!1;e.forEach(O=>{++l,O.next(()=>{++d,v&&d===l&&n()},j=>s(j))}),v=!0,d===l&&n()})}static or(e){let n=Tt.resolve(!1);for(const s of e)n=n.next(l=>l?Tt.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,d)=>{s.push(n.call(this,l,d))}),this.waitFor(s)}static mapArray(e,n){return new Tt((s,l)=>{const d=e.length,v=new Array(d);let O=0;for(let j=0;j<d;j++){const ne=j;n(e[ne]).next(pe=>{v[ne]=pe,++O,O===d&&s(v)},pe=>l(pe))}})}static doWhile(e,n){return new Tt((s,l)=>{const d=()=>{!0===e()?n().next(()=>{d()},l):s()};d()})}}class au{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new R,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new lu(e,n.error)):this.v.resolve()},this.transaction.onerror=s=>{const l=uu(s.target.error);this.v.reject(new lu(e,l))}}static open(e,n,s,l){try{return new au(n,e.transaction(l,s))}catch(d){throw new lu(n,d)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Id(n)}}class xs{constructor(e,n,s){this.name=e,this.version=n,this.V=s,12.2===xs.S((0,ye.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),cu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,ye.hl)())return!1;if(xs.C())return!0;const e=(0,ye.z$)(),n=xs.S(e),s=0<n&&n<10,l=xs.N(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var n=this;return(0,g.Z)(function*(){return n.db||(Xt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=v=>{s(v.target.result)},d.onblocked=()=>{l(new lu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=v=>{const O=v.target.error;l("VersionError"===O.name?new x(Ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new x(Ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new lu(e,O))},d.onupgradeneeded=v=>{Xt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.V.O(v.target.result,d.transaction,v.oldVersion,n.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=s=>n.F(s)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var d=this;return(0,g.Z)(function*(){const v="readonly"===n;let O=0;for(;;){++O;try{d.db=yield d.$(e);const j=au.open(d.db,e,v?"readonly":"readwrite",s),ne=l(j).next(pe=>(j.P(),pe)).catch(pe=>(j.abort(pe),Tt.reject(pe))).toPromise();return ne.catch(()=>{}),yield j.R,ne}catch(j){const ne=j,pe="FirebaseError"!==ne.name&&O<3;if(Xt("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",pe),d.close(),!pe)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return cu(this.L.delete())}}class lu extends x{constructor(e,n){super(Ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jl(i){return"IndexedDbTransactionError"===i.name}class Id{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(Xt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),cu(s)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),cu(this.store.add(e))}get(e){return cu(this.store.get(e)).next(n=>(void 0===n&&(n=null),Xt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),cu(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),cu(this.store.count())}j(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.W(l,(v,O)=>{d.push(O)}).next(()=>d)}{const l=this.store.getAll(s.range);return new Tt((d,v)=>{l.onerror=O=>{v(O.target.error)},l.onsuccess=O=>{d(O.target.result)}})}}H(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Tt((l,d)=>{s.onerror=v=>{d(v.target.error)},s.onsuccess=v=>{l(v.target.result)}})}J(e,n){Xt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.Y=!1;const l=this.cursor(s);return this.W(l,(d,v,O)=>O.delete())}X(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.W(l,n)}Z(e){const n=this.cursor({});return new Tt((s,l)=>{n.onerror=d=>{const v=uu(d.target.error);l(v)},n.onsuccess=d=>{const v=d.target.result;v?e(v.primaryKey,v.value).next(O=>{O?v.continue():s()}):s()}})}W(e,n){const s=[];return new Tt((l,d)=>{e.onerror=v=>{d(v.target.error)},e.onsuccess=v=>{const O=v.target.result;if(!O)return void l();const j=new yc(O),ne=n(O.primaryKey,O.value,j);if(ne instanceof Tt){const pe=ne.catch(Re=>(j.done(),Tt.reject(Re)));s.push(pe)}j.isDone?l():null===j.K?O.continue():O.continue(j.K)}}).next(()=>Tt.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function cu(i){return new Tt((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=uu(s.target.error);n(l)}})}let qd=!1;function uu(i){const e=xs.S((0,ye.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qd||(qd=!0,setTimeout(()=>{throw s},0)),s}}return i}class bc{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){n.task=null;try{Xt("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(s){jl(s)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Da(s)}yield n.et(6e4)}))}}class vh{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,g.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.st(s,e))})()}st(e,n){const s=new Set;let l=n,d=!0;return Tt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!s.has(v))return Xt("IndexBackiller",`Processing collection: ${v}`),this.it(e,v,l).next(O=>{l-=O,s.add(v)});d=!1})).next(()=>n-l)}it(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(d=>{const v=d.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.rt(l,d)).next(O=>(Xt("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,n,O))).next(()=>v.size)}))}rt(e,n){let s=e;return n.changes.forEach((l,d)=>{const v=Du(d);Bo(v,s)>0&&(s=v)}),new Rs(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Yi=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function ra(i){return null==i}function Wa(i){return 0===i&&1/i==-1/0}function eo(i){return"number"==typeof i&&Number.isInteger(i)&&!Wa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ks(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Xu(e)),e=Ec(i.get(n),e);return Xu(e)}function Ec(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function Xu(i){return i+"\x01\x01"}function qa(i){const e=i.length;if(Zn(e>=2),2===e)return Zn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),gi.emptyPath();const n=e-2,s=[];let l="";for(let d=0;d<e;){const v=i.indexOf("\x01",d);switch((v<0||v>n)&&Fn(),i.charAt(v+1)){case"\x01":const O=i.substring(d,v);let j;0===l.length?j=O:(l+=O,j=l,l=""),s.push(j);break;case"\x10":l+=i.substring(d,v),l+="\0";break;case"\x11":l+=i.substring(d,v+1);break;default:Fn()}d=v+2}return new gi(s)}const Hl=["userId","batchId"];function zc(i,e){return[i,Ks(e)]}function ia(i,e,n){return[i,Ks(e),n]}const Kd={},El=["prefixPath","collectionGroup","readTime","documentId"],$c=["prefixPath","collectionGroup","documentId"],Au=["collectionGroup","readTime","prefixPath","documentId"],oc=["canonicalId","targetId"],Gc=["targetId","path"],ac=["path","targetId"],wc=["collectionId","parent"],Ic=["indexId","uid"],du=["uid","sequenceNumber"],lc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Mu=["indexId","uid","orderedDocumentKey"],Cc=["userId","collectionPath","documentId"],wl=["userId","collectionPath","largestBatchId"],Ju=["userId","collectionGroup","largestBatchId"],hu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Co=[...hu,"documentOverlays"],ol=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wc=ol,xo=[...Wc,"indexConfiguration","indexState","indexEntries"];class sa extends Su{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function fs(i,e){const n=In(i);return xs.M(n.ht,e)}function al(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function zl(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Il(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class oi{constructor(e,n){this.comparator=e,this.root=n||Qi.EMPTY}insert(e,n){return new oi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jo(this.root,e,this.comparator,!0)}}class jo{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qi{constructor(e,n,s,l,d){this.key=e,this.value=n,this.color=s??Qi.RED,this.left=l??Qi.EMPTY,this.right=d??Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,d){return new Qi(e??this.key,n??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===d?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Qi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(i,e,n,s,l){return this}insert(i,e,n){return new Qi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H(this.data.getIterator())}getIteratorFrom(e){return new H(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fi(this.comparator);return n.data=e,n}}class H{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function K(i){return i.hasNext()?i.getNext():void 0}class te{constructor(e){this.fields=e,e.sort($i.comparator)}static empty(){return new te([])}unionWith(e){let n=new Fi($i.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new te(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class we extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function He(){return typeof atob<"u"}class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new we("Invalid base64 string: "+l):l}}(e);return new st(n)}static fromUint8Array(e){const n=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const Vt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gt(i){if(Zn(!!i),"string"==typeof i){let e=0;const n=Vt.exec(i);if(Zn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Zt(i.seconds),nanos:Zt(i.nanos)}}function Zt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function vn(i){return"string"==typeof i?st.fromBase64String(i):st.fromUint8Array(i)}function Bn(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kn(i){const e=i.mapValue.fields.__previous_value__;return Bn(e)?Kn(e):e}function ti(i){const e=Gt(i.mapValue.fields.__local_write_time__.timestampValue);return new Ni(e.seconds,e.nanos)}class Os{constructor(e,n,s,l,d,v,O,j,ne){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=v,this.autoDetectLongPolling=O,this.longPollingOptions=j,this.useFetchStreams=ne}}class Or{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Or("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Or&&e.projectId===this.projectId&&e.database===this.database}}const Ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ts={nullValue:"NULL_VALUE"};function gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bn(i)?4:Cd(i)?9007199254740991:10:Fn()}function Ti(i,e){if(i===e)return!0;const n=gr(i);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ti(i).isEqual(ti(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=Gt(s.timestampValue),v=Gt(l.timestampValue);return d.seconds===v.seconds&&d.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,vn(i.bytesValue).isEqual(vn(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Zt(s.geoPointValue.latitude)===Zt(l.geoPointValue.latitude)&&Zt(s.geoPointValue.longitude)===Zt(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Zt(s.integerValue)===Zt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=Zt(s.doubleValue),v=Zt(l.doubleValue);return d===v?Wa(d)===Wa(v):isNaN(d)&&isNaN(v)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:return function(s,l){const d=s.mapValue.fields||{},v=l.mapValue.fields||{};if(al(d)!==al(v))return!1;for(const O in d)if(d.hasOwnProperty(O)&&(void 0===v[O]||!Ti(d[O],v[O])))return!1;return!0}(i,e);default:return Fn()}var l}function To(i,e){return void 0!==(i.values||[]).find(n=>Ti(n,e))}function Ho(i,e){if(i===e)return 0;const n=gr(i),s=gr(e);if(n!==s)return Tn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(i.booleanValue,e.booleanValue);case 2:return function(l,d){const v=Zt(l.integerValue||l.doubleValue),O=Zt(d.integerValue||d.doubleValue);return v<O?-1:v>O?1:v===O?0:isNaN(v)?isNaN(O)?0:-1:1}(i,e);case 3:return $l(i.timestampValue,e.timestampValue);case 4:return $l(ti(i),ti(e));case 5:return Tn(i.stringValue,e.stringValue);case 6:return function(l,d){const v=vn(l),O=vn(d);return v.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const v=l.split("/"),O=d.split("/");for(let j=0;j<v.length&&j<O.length;j++){const ne=Tn(v[j],O[j]);if(0!==ne)return ne}return Tn(v.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const v=Tn(Zt(l.latitude),Zt(d.latitude));return 0!==v?v:Tn(Zt(l.longitude),Zt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const v=l.values||[],O=d.values||[];for(let j=0;j<v.length&&j<O.length;++j){const ne=Ho(v[j],O[j]);if(ne)return ne}return Tn(v.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){if(l===Ps.mapValue&&d===Ps.mapValue)return 0;if(l===Ps.mapValue)return 1;if(d===Ps.mapValue)return-1;const v=l.fields||{},O=Object.keys(v),j=d.fields||{},ne=Object.keys(j);O.sort(),ne.sort();for(let pe=0;pe<O.length&&pe<ne.length;++pe){const Re=Tn(O[pe],ne[pe]);if(0!==Re)return Re;const ct=Ho(v[O[pe]],j[ne[pe]]);if(0!==ct)return ct}return Tn(O.length,ne.length)}(i.mapValue,e.mapValue);default:throw Fn()}}function $l(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Tn(i,e);const n=Gt(i),s=Gt(e),l=Tn(n.seconds,s.seconds);return 0!==l?l:Tn(n.nanos,s.nanos)}function ga(i){return qc(i)}function qc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=Gt(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?vn(i.bytesValue).toBase64():"referenceValue"in i?rn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const v of s.values||[])d?d=!1:l+=",",l+=qc(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",v=!0;for(const O of l)v?v=!1:d+=",",d+=`${O}:${qc(s.fields[O])}`;return d+"}"}(i.mapValue):Fn();var e}function xc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ed(i){return!!i&&"integerValue"in i}function zo(i){return!!i&&"arrayValue"in i}function Ru(i){return!!i&&"nullValue"in i}function fu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zd(i){return!!i&&"mapValue"in i}function cc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return zl(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=cc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Cd(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function td(i){return"nullValue"in i?Ts:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?xc(Or.empty(),rn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Fn()}function G(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?xc(Or.empty(),rn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ps:Fn()}function E(i,e){const n=Ho(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function w(i,e){const n=Ho(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class M{constructor(e){this.value=e}static empty(){return new M({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=$i.emptyPath(),s={},l=[];e.forEach((v,O)=>{if(!n.isImmediateParentOf(O)){const j=this.getFieldsMap(n);this.applyChanges(j,s,l),s={},l=[],n=O.popLast()}v?s[O.lastSegment()]=cc(v):l.push(O.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,l)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Zd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){zl(n,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new M(cc(this.value))}}function se(i){const e=[];return zl(i.fields,(n,s)=>{const l=new $i([n]);if(Zd(s)){const d=se(s.mapValue).fields;if(0===d.length)e.push(l);else for(const v of d)e.push(l.child(v))}else e.push(l)}),new te(e)}class ue{constructor(e,n,s,l,d,v,O){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=d,this.data=v,this.documentState=O}static newInvalidDocument(e){return new ue(e,0,Un.min(),Un.min(),Un.min(),M.empty(),0)}static newFoundDocument(e,n,s,l){return new ue(e,1,n,Un.min(),s,l,0)}static newNoDocument(e,n){return new ue(e,2,n,Un.min(),Un.min(),M.empty(),0)}static newUnknownDocument(e,n){return new ue(e,3,n,Un.min(),Un.min(),M.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=M.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=M.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ne{constructor(e,n){this.position=e,this.inclusive=n}}function Xe(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],v=i.position[l];if(s=d.field.isKeyField()?rn.comparator(rn.fromName(v.referenceValue),n.key):Ho(v,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Pt(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ti(i.position[n],e.position[n]))return!1;return!0}class $t{constructor(e,n="asc"){this.field=e,this.dir=n}}function sn(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Qn{}class fn extends Qn{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Ou(e,n,s):"array-contains"===n?new Gl(e,s):"in"===n?new sd(e,s):"not-in"===n?new yh(e,s):"array-contains-any"===n?new Pp(e,s):new fn(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Pu(e,s):new id(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ho(n,this.value)):null!==n&&gr(this.value)===gr(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends Qn{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new $n(e,n)}matches(e){return ps(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ps(i){return"and"===i.op}function Ka(i){return"or"===i.op}function oa(i){return Do(i)&&ps(i)}function Do(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function zs(i){if(i instanceof fn)return i.field.canonicalString()+i.op.toString()+ga(i.value);if(oa(i))return i.filters.map(e=>zs(e)).join(",");{const e=i.filters.map(n=>zs(n)).join(",");return`${i.op}(${e})`}}function nd(i,e){return i instanceof fn?(n=i,(s=e)instanceof fn&&n.op===s.op&&n.field.isEqual(s.field)&&Ti(n.value,s.value)):i instanceof $n?function(n,s){return s instanceof $n&&n.op===s.op&&n.filters.length===s.filters.length&&n.filters.reduce((l,d,v)=>l&&nd(d,s.filters[v]),!0)}(i,e):void Fn();var n,s}function Yd(i,e){const n=i.filters.concat(e);return $n.create(n,i.op)}function rd(i){return i instanceof fn?`${(e=i).field.canonicalString()} ${e.op} ${ga(e.value)}`:i instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(rd).join(" ,")+"}"}(i):"Filter";var e}class Ou extends fn{constructor(e,n,s){super(e,n,s),this.key=rn.fromName(s.referenceValue)}matches(e){const n=rn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pu extends fn{constructor(e,n){super(e,"in",n),this.keys=aa(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class id extends fn{constructor(e,n){super(e,"not-in",n),this.keys=aa(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aa(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>rn.fromName(s.referenceValue))}class Gl extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zo(n)&&To(n.arrayValue,this.value)}}class sd extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&To(this.value.arrayValue,n)}}class yh extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!To(this.value.arrayValue,n)}}class Pp extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>To(this.value.arrayValue,s))}}class nf{constructor(e,n=null,s=[],l=[],d=null,v=null,O=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=v,this.endAt=O,this.dt=null}}function bh(i,e=null,n=[],s=[],l=null,d=null,v=null){return new nf(i,e,n,s,l,d,v)}function Tc(i){const e=In(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zs(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ga(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ga(s)).join(",")),e.dt=n}return e.dt}function xd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sn(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!nd(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Pt(i.startAt,e.startAt)&&Pt(i.endAt,e.endAt)}function Td(i){return rn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function od(i,e){return i.filters.filter(n=>n instanceof fn&&n.field.isEqual(e))}function Dd(i,e,n){let s=Ts,l=!0;for(const d of od(i,e)){let v=Ts,O=!0;switch(d.op){case"<":case"<=":v=td(d.value);break;case"==":case"in":case">=":v=d.value;break;case">":v=d.value,O=!1;break;case"!=":case"not-in":v=Ts}E({value:s,inclusive:l},{value:v,inclusive:O})<0&&(s=v,l=O)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const v=n.position[d];E({value:s,inclusive:l},{value:v,inclusive:n.inclusive})<0&&(s=v,l=n.inclusive);break}return{value:s,inclusive:l}}function Qd(i,e,n){let s=Ps,l=!0;for(const d of od(i,e)){let v=Ps,O=!0;switch(d.op){case">=":case">":v=G(d.value),O=!1;break;case"==":case"in":case"<=":v=d.value;break;case"<":v=d.value,O=!1;break;case"!=":case"not-in":v=Ps}w({value:s,inclusive:l},{value:v,inclusive:O})>0&&(s=v,l=O)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const v=n.position[d];w({value:s,inclusive:l},{value:v,inclusive:n.inclusive})>0&&(s=v,l=n.inclusive);break}return{value:s,inclusive:l}}class Dc{constructor(e,n=null,s=[],l=[],d=null,v="F",O=null,j=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=v,this.startAt=O,this.endAt=j,this.wt=null,this._t=null}}function Eh(i,e,n,s,l,d,v,O){return new Dc(i,e,n,s,l,d,v,O)}function Sd(i){return new Dc(i)}function wh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ih(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ch(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function ll(i){return null!==i.collectionGroup}function uc(i){const e=In(i);if(null===e.wt){e.wt=[];const n=Ch(e),s=Ih(e);if(null!==n&&null===s)n.isKeyField()||e.wt.push(new $t(n)),e.wt.push(new $t($i.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.wt.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $t($i.keyField(),d))}}}return e.wt}function to(i){const e=In(i);if(!e._t)if("F"===e.limitType)e._t=bh(e.path,e.collectionGroup,uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of uc(e))n.push(new $t(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new Ne(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Ne(e.startAt.position,e.startAt.inclusive):null;e._t=bh(e.path,e.collectionGroup,n,e.filters,e.limit,s,l)}return e._t}function ku(i,e){e.getFirstInequalityField(),Ch(i);const n=i.filters.concat([e]);return new Dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ad(i,e,n){return new Dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _n(i,e){return xd(to(i),to(e))&&i.limitType===e.limitType}function Md(i){return`${Tc(to(i))}|lt:${i.limitType}`}function pu(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>rd(s)).join(", ")}]`),ra(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ga(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ga(s)).join(",")),`Target(${n})`}(to(i))}; limitType=${i.limitType})`}function mu(i,e){return e.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):rn.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,s){for(const l of uc(n))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((n=i).startAt&&!function(l,d,v){const O=Xe(l,d,v);return l.inclusive?O<=0:O<0}(n.startAt,uc(n),s)||n.endAt&&!function(l,d,v){const O=Xe(l,d,v);return l.inclusive?O>=0:O>0}(n.endAt,uc(n),s)));var n,s}function Nu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ad(i){return(e,n)=>{let s=!1;for(const l of uc(i)){const d=Zc(l,e,n);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function Zc(i,e,n){const s=i.field.isKeyField()?rn.comparator(e.key,n.key):function(l,d,v){const O=d.data.field(l),j=v.data.field(l);return null!==O&&null!==j?Ho(O,j):Fn()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Fn()}}class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){zl(this.inner,(n,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return Il(this.inner)}size(){return this.innerSize}}const rf=new oi(rn.comparator);function ks(){return rf}const gu=new oi(rn.comparator);function Yc(...i){let e=gu;for(const n of i)e=e.insert(n.key,n);return e}function Xd(i){let e=gu;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Wl(){return ql()}function xh(){return ql()}function ql(){return new Za(i=>i.toString(),(i,e)=>i.isEqual(e))}const Sa=new oi(rn.comparator),Ya=new Fi(rn.comparator);function ni(...i){let e=Ya;for(const n of i)e=e.add(n);return e}const _a=new Fi(Tn);function Qc(){return _a}function _u(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(e)?"-0":e}}function la(i){return{integerValue:""+i}}function va(i,e){return eo(e)?la(e):_u(i,e)}class Sc{constructor(){this._=void 0}}function Fu(i,e,n){return i instanceof cl?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Bn(l)&&(l=Kn(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(n,e):i instanceof Vu?Jd(i,e):i instanceof Uu?Th(i,e):function(s,l){const d=Lu(s,l),v=sf(d)+sf(s.gt);return ed(d)&&ed(s.gt)?la(v):_u(s.serializer,v)}(i,e)}function Xc(i,e,n){return i instanceof Vu?Jd(i,e):i instanceof Uu?Th(i,e):n}function Lu(i,e){return i instanceof Bu?ed(n=e)||(s=n)&&"doubleValue"in s?e:{integerValue:0}:null;var s,n}class cl extends Sc{}class Vu extends Sc{constructor(e){super(),this.elements=e}}function Jd(i,e){const n=ld(e);for(const s of i.elements)n.some(l=>Ti(l,s))||n.push(s);return{arrayValue:{values:n}}}class Uu extends Sc{constructor(e){super(),this.elements=e}}function Th(i,e){let n=ld(e);for(const s of i.elements)n=n.filter(l=>!Ti(l,s));return{arrayValue:{values:n}}}class Bu extends Sc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function sf(i){return Zt(i.integerValue||i.doubleValue)}function ld(i){return zo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ac{constructor(e,n){this.field=e,this.transform=n}}class ju{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Rd{}function Sh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Pd(i.key,ys.none()):new Jc(i.key,i.data,ys.none());{const n=i.data,s=M.empty();let l=new Fi($i.comparator);for(let d of e.fields)if(!l.has(d)){let v=n.field(d);null===v&&d.length>1&&(d=d.popLast(),v=n.field(d)),null===v?s.delete(d):s.set(d,v),l=l.add(d)}return new Cl(i.key,s,new te(l.toArray()),ys.none())}}function af(i,e,n){i instanceof Jc?function(s,l,d){const v=s.value.clone(),O=Uf(s.fieldTransforms,l,d.transformResults);v.setAll(O),l.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(i,e,n):i instanceof Cl?function(s,l,d){if(!eh(s.precondition,l))return void l.convertToUnknownDocument(d.version);const v=Uf(s.fieldTransforms,l,d.transformResults),O=l.data;O.setAll(Ah(s)),O.setAll(v),l.convertToFoundDocument(d.version,O).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qa(i,e,n,s){return i instanceof Jc?function(l,d,v,O){if(!eh(l.precondition,d))return v;const j=l.value.clone(),ne=kp(l.fieldTransforms,O,d);return j.setAll(ne),d.convertToFoundDocument(d.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof Cl?function(l,d,v,O){if(!eh(l.precondition,d))return v;const j=kp(l.fieldTransforms,O,d),ne=d.data;return ne.setAll(Ah(l)),ne.setAll(j),d.convertToFoundDocument(d.version,ne).setHasLocalMutations(),null===v?null:v.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(pe=>pe.field))}(i,e,n,s):(v=n,eh(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):v);var d,v}function Od(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=Lu(s.transform,l||null);null!=d&&(null===n&&(n=M.empty()),n.set(s.field,d))}return n||null}function Kl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===s||n&&s&&Ms(n,s,(l,d)=>function Dh(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(n=i.transform)instanceof Vu&&s instanceof Vu||n instanceof Uu&&s instanceof Uu?Ms(n.elements,s.elements,Ti):n instanceof Bu&&s instanceof Bu?Ti(n.gt,s.gt):n instanceof cl&&s instanceof cl);var n,s}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,s}class Jc extends Rd{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cl extends Rd{constructor(e,n,s,l,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Ah(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Uf(i,e,n){const s=new Map;Zn(i.length===n.length);for(let l=0;l<n.length;l++){const d=i[l],v=d.transform,O=e.data.field(d.field);s.set(d.field,Xc(v,O,n[l]))}return s}function kp(i,e,n){const s=new Map;for(const l of i){const d=l.transform,v=n.data.field(l.field);s.set(l.field,Fu(d,v,e))}return s}class Pd extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&af(d,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xh();return this.mutations.forEach(l=>{const d=e.get(l.key),v=d.overlayedDocument;let O=this.applyToLocalView(v,d.mutatedFields);O=n.has(l.key)?null:O;const j=Sh(v,O);null!==j&&s.set(l.key,j),v.isValidDocument()||v.convertToNoDocument(Un.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ni())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,s)=>Kl(n,s))&&Ms(this.baseMutations,e.baseMutations,(n,s)=>Kl(n,s))}}class m{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Zn(e.mutations.length===s.length);let l=Sa;const d=e.mutations;for(let v=0;v<d.length;v++)l=l.insert(d[v].key,s[v].version);return new m(e,n,s,l)}}class T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ae{constructor(e,n){this.count=e,this.unchangedNames=n}}var be,Ve;function it(i){switch(i){default:return Fn();case Ot.CANCELLED:case Ot.UNKNOWN:case Ot.DEADLINE_EXCEEDED:case Ot.RESOURCE_EXHAUSTED:case Ot.INTERNAL:case Ot.UNAVAILABLE:case Ot.UNAUTHENTICATED:return!1;case Ot.INVALID_ARGUMENT:case Ot.NOT_FOUND:case Ot.ALREADY_EXISTS:case Ot.PERMISSION_DENIED:case Ot.FAILED_PRECONDITION:case Ot.ABORTED:case Ot.OUT_OF_RANGE:case Ot.UNIMPLEMENTED:case Ot.DATA_LOSS:return!0}}function Wt(i){if(void 0===i)return Jn("GRPC error has no .code"),Ot.UNKNOWN;switch(i){case be.OK:return Ot.OK;case be.CANCELLED:return Ot.CANCELLED;case be.UNKNOWN:return Ot.UNKNOWN;case be.DEADLINE_EXCEEDED:return Ot.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Ot.RESOURCE_EXHAUSTED;case be.INTERNAL:return Ot.INTERNAL;case be.UNAVAILABLE:return Ot.UNAVAILABLE;case be.UNAUTHENTICATED:return Ot.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Ot.INVALID_ARGUMENT;case be.NOT_FOUND:return Ot.NOT_FOUND;case be.ALREADY_EXISTS:return Ot.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Ot.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Ot.FAILED_PRECONDITION;case be.ABORTED:return Ot.ABORTED;case be.OUT_OF_RANGE:return Ot.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Ot.UNIMPLEMENTED;case be.DATA_LOSS:return Ot.DATA_LOSS;default:return Fn()}}(Ve=be||(be={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";class On{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yn}static getOrCreateInstance(){return null===Yn&&(Yn=new On),Yn}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yn=null;function lr(){return new TextEncoder}const Pi=new Wr([4294967295,4294967295],0);function $o(i){const e=lr().encode(i),n=new Fr;return n.update(e),new Uint8Array(n.digest())}function po(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([l,d],0)]}class So{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(s<0)throw new ya(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ya(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Wr.fromNumber(this.It)}Et(e,n,s){let l=e.add(n.multiply(Wr.fromNumber(s)));return 1===l.compare(Pi)&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=$o(e),[s,l]=po(n);for(let d=0;d<this.hashCount;d++){const v=this.Et(s,l,d);if(!this.At(v))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),v=new So(d,l,n);return s.forEach(O=>v.insert(O)),v}insert(e){if(0===this.It)return;const n=$o(e),[s,l]=po(n);for(let d=0;d<this.hashCount;d++){const v=this.Et(s,l,d);this.Rt(v)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dc{constructor(e,n,s,l,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new dc(Un.min(),l,new oi(Tn),ks(),ni())}}class Aa{constructor(e,n,s,l,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Aa(s,n,ni(),ni(),ni())}}class os{constructor(e,n,s,l){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=l}}class Go{constructor(e,n){this.targetId=e,this.Vt=n}}class Ma{constructor(e,n,s=st.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class vu{constructor(){this.St=0,this.Dt=th(),this.Ct=st.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ni(),n=ni(),s=ni();return this.Dt.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Fn()}}),new Aa(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=th()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ks(),this.zt=kd(),this.Wt=new oi(Tn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:Fn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,l)=>{this.te(l)&&n(l)})}ne(e){var n;const s=e.targetId,l=e.Vt.count,d=this.se(s);if(d){const v=d.target;if(Td(v))if(0===l){const O=new rn(v.path);this.Yt(s,O,ue.newNoDocument(O,Un.min()))}else Zn(1===l);else{const O=this.ie(s);if(O!==l){const j=this.re(e,O);0!==j&&(this.ee(s),this.Wt=this.Wt.insert(s,2===j?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=On.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(ne,pe,Re){var ct,yt,Jt,wn,Dn,hi;const bi={localCacheCount:pe,existenceFilterCount:Re.count},wr=Re.unchangedNames;return wr&&(bi.bloomFilter={applied:0===ne,hashCount:null!==(ct=wr?.hashCount)&&void 0!==ct?ct:0,bitmapLength:null!==(wn=null===(Jt=null===(yt=wr?.bits)||void 0===yt?void 0:yt.bitmap)||void 0===Jt?void 0:Jt.length)&&void 0!==wn?wn:0,padding:null!==(hi=null===(Dn=wr?.bits)||void 0===Dn?void 0:Dn.padding)&&void 0!==hi?hi:0}),bi}(j,O,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:d="",padding:v=0},hashCount:O=0}=s;let j,ne;try{j=vn(d).toUint8Array()}catch(pe){if(pe instanceof we)return Io("Decoding the base64 bloom filter in existence filter failed ("+pe.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw pe}try{ne=new So(j,v,O)}catch(pe){return Io(pe instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",pe),1}return 0===ne.It?1:l!==n-this.oe(e.targetId,ne)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(d=>{const v=this.Gt.ue(),O=`projects/${v.projectId}/databases/${v.database}/documents/${d.path.canonicalString()}`;n.vt(O)||(this.Yt(e,d,null),l++)}),l}ce(e){const n=new Map;this.Qt.forEach((d,v)=>{const O=this.se(v);if(O){if(d.current&&Td(O.target)){const j=new rn(O.target.path);null!==this.jt.get(j)||this.ae(v,j)||this.Yt(v,j,ue.newNoDocument(j,e))}d.Mt&&(n.set(v,d.Ot()),d.Ft())}});let s=ni();this.zt.forEach((d,v)=>{let O=!0;v.forEachWhile(j=>{const ne=this.se(j);return!ne||"TargetPurposeLimboResolution"===ne.purpose||(O=!1,!1)}),O&&(s=s.add(d))}),this.jt.forEach((d,v)=>v.setReadTime(e));const l=new dc(e,n,this.Wt,this.jt,s);return this.jt=ks(),this.zt=kd(),this.Wt=new oi(Tn),l}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,n)?l.Bt(n,1):l.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new vu,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fi(Tn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Xt("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vu),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kd(){return new oi(rn.comparator)}function th(){return new oi(rn.comparator)}const Dm={asc:"ASCENDING",desc:"DESCENDING"},Np={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cf={and:"AND",or:"OR"};class Zg{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bf(i,e){return i.useProto3Json||ra(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Yg(i,e){return Mh(i,e.toTimestamp())}function Wo(i){return Zn(!!i),Un.fromTimestamp(function(e){const n=Gt(e);return new Ni(n.seconds,n.nanos)}(i))}function jf(i,e){return(n=i,new gi(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function uf(i){const e=gi.fromString(i);return Zn(Fm(e)),e}function nh(i,e){return jf(i.databaseId,e.path)}function Zl(i,e){const n=uf(e);if(n.get(1)!==i.databaseId.projectId)throw new x(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new x(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new rn(Mm(n))}function Fp(i,e){return jf(i.databaseId,e)}function Am(i){const e=uf(i);return 4===e.length?gi.emptyPath():Mm(e)}function Hf(i){return new gi(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mm(i){return Zn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function zf(i,e,n){return{name:nh(i,e),fields:n.value.mapValue.fields}}function Rm(i,e,n){const s=Zl(i,e.name),l=Wo(e.updateTime),d=e.createTime?Wo(e.createTime):Un.min(),v=new M({mapValue:{fields:e.fields}}),O=ue.newFoundDocument(s,l,d,v);return n&&O.setHasCommittedMutations(),n?O.setHasCommittedMutations():O}function rh(i,e){let n;if(e instanceof Jc)n={update:zf(i,e.key,e.value)};else if(e instanceof Pd)n={delete:nh(i,e.key)};else if(e instanceof Cl)n={update:zf(i,e.key,e.data),updateMask:e_(e.fieldMask)};else{if(!(e instanceof B))return Fn();n={verify:nh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,d){const v=d.transform;if(v instanceof cl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Vu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Bu)return{fieldPath:d.field.canonicalString(),increment:v.gt};throw Fn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Yg(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Fn()),n;var l}function Gf(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?ys.updateTime(Wo(l.updateTime)):void 0!==l.exists?ys.exists(l.exists):ys.none():ys.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(d,v){let O=null;"setToServerValue"in v?(Zn("REQUEST_TIME"===v.setToServerValue),O=new cl):"appendMissingElements"in v?O=new Vu(v.appendMissingElements.values||[]):"removeAllFromArray"in v?O=new Uu(v.removeAllFromArray.values||[]):"increment"in v?O=new Bu(d,v.increment):Fn();const j=$i.fromServerFormat(v.fieldPath);return new Ac(j,O)}(i,l)):[];var l;if(e.update){const l=Zl(i,e.update.name),d=new M({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new te((e.updateMask.fieldPaths||[]).map(ne=>$i.fromServerFormat(ne)));return new Cl(l,d,v,n,s)}return new Jc(l,d,n,s)}if(e.delete){const l=Zl(i,e.delete);return new Pd(l,n)}if(e.verify){const l=Zl(i,e.verify);return new B(l,n)}return Fn()}function Lp(i,e){return{documents:[Fp(i,e.path)]}}function cd(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Fp(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fp(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(j){if(0!==j.length)return Nm($n.create(j,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const d=function(j){if(0!==j.length)return j.map(ne=>{return{field:Mc((pe=ne).field),direction:Xg(pe.dir)};var pe})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const v=Bf(i,e.limit);var O,j;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(n.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),n}function Pm(i){let e=Am(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Zn(1===s);const pe=n.from[0];pe.allDescendants?l=pe.collectionId:e=e.child(pe.collectionId)}let d=[];n.where&&(d=function(pe){const Re=km(pe);return Re instanceof $n&&oa(Re)?Re.getFilters():[Re]}(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(pe=>{return new $t(Oh((Re=pe).field),function(ct){switch(ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let O=null;n.limit&&(O=function(pe){let Re;return Re="object"==typeof pe?pe.value:pe,ra(Re)?null:Re}(n.limit));let j=null;var pe;n.startAt&&(j=new Ne((pe=n.startAt).values||[],!!pe.before));let ne=null;return n.endAt&&(ne=function(pe){return new Ne(pe.values||[],!pe.before)}(n.endAt)),Eh(e,l,v,d,O,"F",j,ne)}function km(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Oh(e.unaryFilter.field);return fn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Oh(e.unaryFilter.field);return fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oh(e.unaryFilter.field);return fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oh(e.unaryFilter.field);return fn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}(i):void 0!==i.fieldFilter?fn.create(Oh((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return $n.create(e.compositeFilter.filters.map(n=>km(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Fn()}}(e.compositeFilter.op))}(i):Fn();var e}function Xg(i){return Dm[i]}function Jg(i){return Np[i]}function ud(i){return cf[i]}function Mc(i){return{fieldPath:i.canonicalString()}}function Oh(i){return $i.fromServerFormat(i.fieldPath)}function Nm(i){return i instanceof fn?function(e){if("=="===e.op){if(fu(e.value))return{unaryFilter:{field:Mc(e.field),op:"IS_NAN"}};if(Ru(e.value))return{unaryFilter:{field:Mc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fu(e.value))return{unaryFilter:{field:Mc(e.field),op:"IS_NOT_NAN"}};if(Ru(e.value))return{unaryFilter:{field:Mc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mc(e.field),op:Jg(e.op),value:e.value}}}(i):i instanceof $n?function(e){const n=e.getFilters().map(s=>Nm(s));return 1===n.length?n[0]:{compositeFilter:{op:ud(e.op),filters:n}}}(i):Fn()}function e_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class dd{constructor(e,n,s,l,d=Un.min(),v=Un.min(),O=st.EMPTY_BYTE_STRING,j=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=O,this.expectedCount=j}withSequenceNumber(e){return new dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Lm{constructor(e){this.fe=e}}function df(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ph(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:nh(l=i.fe,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Mh(l,d.version.toTimestamp()),createTime:Mh(l,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Nd(e.version)};else{if(!e.isUnknownDocument())return Fn();s.unknownDocument={path:n.path.toArray(),version:Nd(e.version)}}var l,d;return s}function Ph(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Nd(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ih(i){const e=new Ni(i.seconds,i.nanoseconds);return Un.fromTimestamp(e)}function Rc(i,e){const n=(e.baseMutations||[]).map(d=>Gf(i.fe,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>Gf(i.fe,d)),l=Ni.fromMillis(e.localWriteTimeMs);return new h(e.batchId,l,n,s)}function hc(i){const e=ih(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?ih(i.lastLimboFreeSnapshotVersion):Un.min();let s;var l;return void 0!==i.query.documents?(Zn(1===(l=i.query).documents.length),s=to(Sd(Am(l.documents[0])))):s=to(Pm(i.query)),new dd(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,st.fromBase64String(i.resumeToken))}function sh(i,e){const n=Nd(e.snapshotVersion),s=Nd(e.lastLimboFreeSnapshotVersion);let l;l=Td(e.target)?Lp(i.fe,e.target):cd(i.fe,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tc(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function hf(i){const e=Pm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ad(e,e.limit,"L"):e}function ff(i,e){return new T(e.largestBatchId,Gf(i.fe,e.overlayMutation))}function Wf(i,e){const n=e.path.lastSegment();return[i,Ks(e.path.popLast()),n]}function Vm(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Nd(s.readTime),documentKey:Ks(s.documentKey.path),largestBatchId:s.largestBatchId}}class Bv{getBundleMetadata(e,n){return t_(e).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:ih(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return t_(e).put({bundleId:(s=n).id,createTime:Nd(Wo(s.createTime)),version:s.version});var s}getNamedQuery(e,n){return qf(e).get(n).next(s=>{if(s)return{name:(l=s).name,query:hf(l.bundledQuery),readTime:ih(l.readTime)};var l})}saveNamedQuery(e,n){return qf(e).put({name:(s=n).name,readTime:Nd(Wo(s.readTime)),bundledQuery:s.bundledQuery});var s}}function t_(i){return fs(i,"bundles")}function qf(i){return fs(i,"namedQueries")}class kh{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new kh(e,n.uid||"")}getOverlay(e,n){return Kf(e).get(Wf(this.userId,n)).next(s=>s?ff(this.serializer,s):null)}getOverlays(e,n){const s=Wl();return Tt.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((d,v)=>{const O=new T(n,v);l.push(this.we(e,O))}),Tt.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(v=>l.add(Ks(v.getCollectionPath())));const d=[];return l.forEach(v=>{const O=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);d.push(Kf(e).J("collectionPathOverlayIndex",O))}),Tt.waitFor(d)}getOverlaysForCollection(e,n,s){const l=Wl(),d=Ks(n),v=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Kf(e).j("collectionPathOverlayIndex",v).next(O=>{for(const j of O){const ne=ff(this.serializer,j);l.set(ne.getKey(),ne)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const d=Wl();let v;const O=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kf(e).X({index:"collectionGroupOverlayIndex",range:O},(j,ne,pe)=>{const Re=ff(this.serializer,ne);d.size()<l||Re.largestBatchId===v?(d.set(Re.getKey(),Re),v=Re.largestBatchId):pe.done()}).next(()=>d)}we(e,n){return Kf(e).put(function(s,l,d){const[v,O,j]=Wf(l,d.mutation.key);return{userId:l,collectionPath:O,documentId:j,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:rh(s.fe,d.mutation)}}(this.serializer,this.userId,n))}}function Kf(i){return fs(i,"documentOverlays")}class Nh{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Zt(e.integerValue));else if("doubleValue"in e){const s=Zt(e.doubleValue);isNaN(s)?this.ye(n,13):(this.ye(n,15),Wa(s)?n.pe(0):n.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(n,20),"string"==typeof s?n.Ie(s):(n.Ie(`${s.seconds||""}`),n.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(vn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(n,45),n.pe(s.latitude||0),n.pe(s.longitude||0)}else"mapValue"in e?Cd(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Fn()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const s=e.fields||{};this.ye(n,55);for(const l of Object.keys(s))this.Te(l,n),this.me(s[l],n)}Pe(e,n){const s=e.values||[];this.ye(n,50);for(const l of s)this.me(l,n)}ve(e,n){this.ye(n,37),rn.fromName(e).path.forEach(s=>{this.ye(n,60),this.be(s,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function Um(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Bm(i){const e=64-function(n){let s=0;for(let l=0;l<8;++l){const d=Um(255&n[l]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}Nh.Ve=new Nh;class n_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.De(s.value),s=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ne(s.value),s=n.next();this.ke()}Me(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const l=n.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const l=n.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const n=this.Fe(e),s=Bm(n);this.Be(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Le(e){const n=this.Fe(e),s=Bm(n);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class r_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class i_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Fh{constructor(){this.je=new n_,this.ze=new r_(this.je),this.We=new i_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Hu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Hu(this.indexId,this.documentKey,this.arrayValue,s)}}function hd(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Zf(i.arrayValue,e.arrayValue),0!==n?n:(n=Zf(i.directionalValue,e.directionalValue),0!==n?n:rn.comparator(i.documentKey,e.documentKey)))}function Zf(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class s_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const s=n;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Zn(e.collectionGroup===this.collectionId);const n=Tu(e);if(void 0!==n&&!this.en(n))return!1;const s=rc(e);let l=new Set,d=0,v=0;for(;d<s.length&&this.en(s[d]);++d)l=l.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const O=s[d];if(!this.nn(this.Ze,O)||!this.sn(this.Ye[v++],O))return!1}++d}for(;d<s.length;++d)if(v>=this.Ye.length||!this.sn(this.Ye[v++],s[d]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Fd(i){var e,n;if(Zn(i instanceof fn||i instanceof $n),i instanceof fn){if(i instanceof sd){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(d=>fn.create(i.field,"==",d)))||[];return $n.create(l,"or")}return i}const s=i.filters.map(l=>Fd(l));return $n.create(s,i.op)}function o_(i){if(0===i.getFilters().length)return[];const e=jp(Fd(i));return Zn(Bp(e)),Up(e)||pf(e)?[e]:e.getFilters()}function Up(i){return i instanceof fn}function pf(i){return i instanceof $n&&oa(i)}function Bp(i){return Up(i)||pf(i)||function(e){if(e instanceof $n&&Ka(e)){for(const n of e.getFilters())if(!Up(n)&&!pf(n))return!1;return!0}return!1}(i)}function jp(i){if(Zn(i instanceof fn||i instanceof $n),i instanceof fn)return i;if(1===i.filters.length)return jp(i.filters[0]);const e=i.filters.map(s=>jp(s));let n=$n.create(e,i.op);return n=Yf(n),Bp(n)?n:(Zn(n instanceof $n),Zn(ps(n)),Zn(n.filters.length>1),n.filters.reduce((s,l)=>Hp(s,l)))}function Hp(i,e){let n;return Zn(i instanceof fn||i instanceof $n),Zn(e instanceof fn||e instanceof $n),n=i instanceof fn?e instanceof fn?$n.create([i,e],"and"):jm(i,e):e instanceof fn?jm(e,i):function(s,l){if(Zn(s.filters.length>0&&l.filters.length>0),ps(s)&&ps(l))return Yd(s,l.getFilters());const d=Ka(s)?s:l,v=Ka(s)?l:s,O=d.filters.map(j=>Hp(j,v));return $n.create(O,"or")}(i,e),Yf(n)}function jm(i,e){if(ps(e))return Yd(e,i.getFilters());{const n=e.filters.map(s=>Hp(i,s));return $n.create(n,"or")}}function Yf(i){if(Zn(i instanceof fn||i instanceof $n),i instanceof fn)return i;const e=i.getFilters();if(1===e.length)return Yf(e[0]);if(Do(i))return i;const n=e.map(l=>Yf(l)),s=[];return n.forEach(l=>{l instanceof fn?s.push(l):l instanceof $n&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:$n.create(s,i.op)}class Hm{constructor(){this.rn=new zm}addToCollectionParentIndex(e,n){return this.rn.add(n),Tt.resolve()}getCollectionParents(e,n){return Tt.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Tt.resolve()}deleteFieldIndex(e,n){return Tt.resolve()}getDocumentsMatchingTarget(e,n){return Tt.resolve(null)}getIndexType(e,n){return Tt.resolve(0)}getFieldIndexes(e,n){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}getMinOffset(e,n){return Tt.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return Tt.resolve(Rs.min())}updateCollectionGroup(e,n,s){return Tt.resolve()}updateIndexEntries(e,n){return Tt.resolve()}}class zm{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Fi(gi.comparator),d=!l.has(s);return this.index[n]=l.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Fi(gi.comparator)).toArray()}}const zp=new Uint8Array(0);class mf{constructor(e,n){this.user=e,this.databaseId=n,this.on=new zm,this.un=new Za(s=>Tc(s),(s,l)=>xd(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const d={collectionId:s,parent:Ks(l)};return as(e).put(d)}return Tt.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[$a(n),""],!1,!0);return as(e).j(l).next(d=>{for(const v of d){if(v.collectionId!==n)break;s.push(qa(v.parent))}return s})}addFieldIndex(e,n){const s=gf(e),l={indexId:(v=n).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var v;delete l.indexId;const d=s.add(l);if(n.indexState){const v=oh(e);return d.next(O=>{v.put(Vm(O,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return d.next()}deleteFieldIndex(e,n){const s=gf(e),l=oh(e),d=fd(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const s=fd(e);let l=!0;const d=new Map;return Tt.forEach(this.cn(n),v=>this.an(e,v).next(O=>{l&&(l=!!O),d.set(v,O)})).next(()=>{if(l){let v=ni();const O=[];return Tt.forEach(d,(j,ne)=>{var pe;Xt("IndexedDbIndexManager",`Using index ${pe=j,`id=${pe.indexId}|cg=${pe.collectionGroup}|f=${pe.fields.map(wr=>`${wr.fieldPath}:${wr.kind}`).join(",")}`} to execute ${Tc(n)}`);const Re=function(wr,ai){const ms=Tu(ai);if(void 0===ms)return null;for(const Mo of od(wr,ms.fieldPath))switch(Mo.op){case"array-contains-any":return Mo.value.arrayValue.values||[];case"array-contains":return[Mo.value]}return null}(ne,j),ct=function(wr,ai){const ms=new Map;for(const Mo of rc(ai))for(const Ml of od(wr,Mo.fieldPath))switch(Ml.op){case"==":case"in":ms.set(Mo.fieldPath.canonicalString(),Ml.value);break;case"not-in":case"!=":return ms.set(Mo.fieldPath.canonicalString(),Ml.value),Array.from(ms.values())}return null}(ne,j),yt=function(wr,ai){const ms=[];let Mo=!0;for(const Ml of rc(ai)){const bd=0===Ml.kind?Dd(wr,Ml.fieldPath,wr.startAt):Qd(wr,Ml.fieldPath,wr.startAt);ms.push(bd.value),Mo&&(Mo=bd.inclusive)}return new Ne(ms,Mo)}(ne,j),Jt=function(wr,ai){const ms=[];let Mo=!0;for(const Ml of rc(ai)){const bd=0===Ml.kind?Qd(wr,Ml.fieldPath,wr.endAt):Dd(wr,Ml.fieldPath,wr.endAt);ms.push(bd.value),Mo&&(Mo=bd.inclusive)}return new Ne(ms,Mo)}(ne,j),wn=this.hn(j,ne,yt),Dn=this.hn(j,ne,Jt),hi=this.ln(j,ne,ct),bi=this.fn(j.indexId,Re,wn,yt.inclusive,Dn,Jt.inclusive,hi);return Tt.forEach(bi,wr=>s.H(wr,n.limit).next(ai=>{ai.forEach(ms=>{const Mo=rn.fromSegments(ms.documentKey);v.has(Mo)||(v=v.add(Mo),O.push(Mo))})}))}).next(()=>O)}return Tt.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:o_($n.create(e.filters,"and")).map(s=>bh(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,s,l,d,v,O){const j=(null!=n?n.length:1)*Math.max(s.length,d.length),ne=j/(null!=n?n.length:1),pe=[];for(let Re=0;Re<j;++Re){const ct=n?this.dn(n[Re/ne]):zp,yt=this.wn(e,ct,s[Re%ne],l),Jt=this._n(e,ct,d[Re%ne],v),wn=O.map(Dn=>this.wn(e,ct,Dn,!0));pe.push(...this.createRange(yt,Jt,wn))}return pe}wn(e,n,s,l){const d=new Hu(e,rn.empty(),n,s);return l?d:d.Je()}_n(e,n,s,l){const d=new Hu(e,rn.empty(),n,s);return l?d.Je():d}an(e,n){const s=new s_(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let v=null;for(const O of d)s.tn(O)&&(!v||O.fields.length>v.fields.length)&&(v=O);return v})}getIndexType(e,n){let s=2;const l=this.cn(n);return Tt.forEach(l,d=>this.an(e,d).next(v=>{v?0!==s&&v.fields.length<function(O){let j=new Fi($i.comparator),ne=!1;for(const pe of O.filters)for(const Re of pe.getFlattenedFilters())Re.field.isKeyField()||("array-contains"===Re.op||"array-contains-any"===Re.op?ne=!0:j=j.add(Re.field));for(const pe of O.orderBy)pe.field.isKeyField()||(j=j.add(pe.field));return j.size+(ne?1:0)}(d)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}mn(e,n){const s=new Fh;for(const l of rc(e)){const d=n.data.field(l.fieldPath);if(null==d)return null;const v=s.He(l.kind);Nh.Ve._e(d,v)}return s.Qe()}dn(e){const n=new Fh;return Nh.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const s=new Fh;return Nh.Ve._e(xc(this.databaseId,n),s.He(function(l){const d=rc(l);return 0===d.length?0:d[d.length-1].kind}(e))),s.Qe()}ln(e,n,s){if(null===s)return[];let l=[];l.push(new Fh);let d=0;for(const v of rc(e)){const O=s[d++];for(const j of l)if(this.yn(n,v.fieldPath)&&zo(O))l=this.pn(l,v,O);else{const ne=j.He(v.kind);Nh.Ve._e(O,ne)}}return this.In(l)}hn(e,n,s){return this.ln(e,n,s.position)}In(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Qe();return n}pn(e,n,s){const l=[...e],d=[];for(const v of s.arrayValue.values||[])for(const O of l){const j=new Fh;j.seed(O.Qe()),Nh.Ve._e(v,j.He(n.kind)),d.push(j)}return d}yn(e,n){return!!e.filters.find(s=>s instanceof fn&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=gf(e),l=oh(e);return(n?s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.j()).next(d=>{const v=[];return Tt.forEach(d,O=>l.get([O.indexId,this.uid]).next(j=>{v.push(function(ne,pe){const Re=pe?new bl(pe.sequenceNumber,new Rs(ih(pe.readTime),new rn(qa(pe.documentKey)),pe.largestBatchId)):bl.empty(),ct=ne.fields.map(([yt,Jt])=>new na($i.fromServerFormat(yt),Jt));return new Hc(ne.indexId,ne.collectionGroup,ct,Re)}(O,j))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:Tn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=gf(e),d=oh(e);return this.Tn(e).next(v=>l.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(O=>Tt.forEach(O,j=>d.put(Vm(j.indexId,this.user,v,s)))))}updateIndexEntries(e,n){const s=new Map;return Tt.forEach(n,(l,d)=>{const v=s.get(l.collectionGroup);return(v?Tt.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(O=>(s.set(l.collectionGroup,O),Tt.forEach(O,j=>this.En(e,l,j).next(ne=>{const pe=this.An(d,j);return ne.isEqual(pe)?Tt.resolve():this.vn(e,d,j,ne,pe)}))))})}Rn(e,n,s,l){return fd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(s,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,s,l){return fd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(s,n.key),n.key.path.toArray()])}En(e,n,s){const l=fd(e);let d=new Fi(hd);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,n)])},(v,O)=>{d=d.add(new Hu(s.indexId,n,O.arrayValue,O.directionalValue))}).next(()=>d)}An(e,n){let s=new Fi(hd);const l=this.mn(n,e);if(null==l)return s;const d=Tu(n);if(null!=d){const v=e.data.field(d.fieldPath);if(zo(v))for(const O of v.arrayValue.values||[])s=s.add(new Hu(n.indexId,e.key,this.dn(O),l))}else s=s.add(new Hu(n.indexId,e.key,zp,l));return s}vn(e,n,s,l,d){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(O,j,ne,pe,Re){const ct=O.getIterator(),yt=j.getIterator();let Jt=K(ct),wn=K(yt);for(;Jt||wn;){let Dn=!1,hi=!1;if(Jt&&wn){const bi=ne(Jt,wn);bi<0?hi=!0:bi>0&&(Dn=!0)}else null!=Jt?hi=!0:Dn=!0;Dn?(pe(wn),wn=K(yt)):hi?(Re(Jt),Jt=K(ct)):(Jt=K(ct),wn=K(yt))}}(l,d,hd,O=>{v.push(this.Rn(e,n,s,O))},O=>{v.push(this.Pn(e,n,s,O))}),Tt.waitFor(v)}Tn(e){let n=1;return oh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((v,O)=>hd(v,O)).filter((v,O,j)=>!O||0!==hd(v,j[O-1]));const l=[];l.push(e);for(const v of s){const O=hd(v,e),j=hd(v,n);if(0===O)l[0]=e.Je();else if(O>0&&j<0)l.push(v),l.push(v.Je());else if(j>0)break}l.push(n);const d=[];for(let v=0;v<l.length;v+=2){if(this.bn(l[v],l[v+1]))return[];d.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,zp,[]],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,zp,[]]))}return d}bn(e,n){return hd(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qf)}getMinOffset(e,n){return Tt.mapArray(this.cn(n),s=>this.an(e,s).next(l=>l||Fn())).next(Qf)}}function as(i){return fs(i,"collectionParents")}function fd(i){return fs(i,"indexEntries")}function gf(i){return fs(i,"indexConfiguration")}function oh(i){return fs(i,"indexState")}function Qf(i){Zn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Bo(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Rs(e.readTime,e.documentKey,n)}const $p={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xl{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new xl(e,xl.DEFAULT_COLLECTION_PERCENTILE,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gp(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],v=IDBKeyRange.only(n.batchId);let O=0;const j=s.X({range:v},(pe,Re,ct)=>(O++,ct.delete()));d.push(j.next(()=>{Zn(1===O)}));const ne=[];for(const pe of n.mutations){const Re=ia(e,pe.key.path,n.batchId);d.push(l.delete(Re)),ne.push(pe.key)}return Tt.waitFor(d).next(()=>ne)}function _f(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Fn();e=i.noDocument}return JSON.stringify(e).length}xl.DEFAULT_COLLECTION_PERCENTILE=10,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xl.DEFAULT=new xl(41943040,xl.DEFAULT_COLLECTION_PERCENTILE,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xl.DISABLED=new xl(-1,0,0);class ah{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Vn={}}static de(e,n,s,l){Zn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new ah(d,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).X({index:"userMutationsIndex",range:s},(l,d,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const d=Lh(e),v=zu(e);return v.add({}).next(O=>{Zn("number"==typeof O);const j=new h(O,n,s,l),ne=function(ct,yt,Jt){const wn=Jt.baseMutations.map(hi=>rh(ct.fe,hi)),Dn=Jt.mutations.map(hi=>rh(ct.fe,hi));return{userId:yt,batchId:Jt.batchId,localWriteTimeMs:Jt.localWriteTime.toMillis(),baseMutations:wn,mutations:Dn}}(this.serializer,this.userId,j),pe=[];let Re=new Fi((ct,yt)=>Tn(ct.canonicalString(),yt.canonicalString()));for(const ct of l){const yt=ia(this.userId,ct.key.path,O);Re=Re.add(ct.key.path.popLast()),pe.push(v.put(ne)),pe.push(d.put(yt,Kd))}return Re.forEach(ct=>{pe.push(this.indexManager.addToCollectionParentIndex(e,ct))}),e.addOnCommittedListener(()=>{this.Vn[O]=j.keys()}),Tt.waitFor(pe).next(()=>j)})}lookupMutationBatch(e,n){return zu(e).get(n).next(s=>s?(Zn(s.userId===this.userId),Rc(this.serializer,s)):null)}Sn(e,n){return this.Vn[n]?Tt.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Vn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return zu(e).X({index:"userMutationsIndex",range:l},(v,O,j)=>{O.userId===this.userId&&(Zn(O.batchId>=s),d=Rc(this.serializer,O)),j.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return zu(e).X({index:"userMutationsIndex",range:n,reverse:!0},(l,d,v)=>{s=d.batchId,v.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zu(e).j("userMutationsIndex",n).next(s=>s.map(l=>Rc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=zc(this.userId,n.path),l=IDBKeyRange.lowerBound(s),d=[];return Lh(e).X({range:l},(v,O,j)=>{const[ne,pe,Re]=v,ct=qa(pe);if(ne===this.userId&&n.path.isEqual(ct))return zu(e).get(Re).next(yt=>{if(!yt)throw Fn();Zn(yt.userId===this.userId),d.push(Rc(this.serializer,yt))});j.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Fi(Tn);const l=[];return n.forEach(d=>{const v=zc(this.userId,d.path),O=IDBKeyRange.lowerBound(v),j=Lh(e).X({range:O},(ne,pe,Re)=>{const[ct,yt,Jt]=ne,wn=qa(yt);ct===this.userId&&d.path.isEqual(wn)?s=s.add(Jt):Re.done()});l.push(j)}),Tt.waitFor(l).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,d=zc(this.userId,s),v=IDBKeyRange.lowerBound(d);let O=new Fi(Tn);return Lh(e).X({range:v},(j,ne,pe)=>{const[Re,ct,yt]=j,Jt=qa(ct);Re===this.userId&&s.isPrefixOf(Jt)?Jt.length===l&&(O=O.add(yt)):pe.done()}).next(()=>this.Dn(e,O))}Dn(e,n){const s=[],l=[];return n.forEach(d=>{l.push(zu(e).get(d).next(v=>{if(null===v)throw Fn();Zn(v.userId===this.userId),s.push(Rc(this.serializer,v))}))}),Tt.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return Gp(e.ht,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Tt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Tt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Lh(e).X({range:s},(d,v,O)=>{if(d[0]===this.userId){const j=qa(d[1]);l.push(j)}else O.done()}).next(()=>{Zn(0===l.length)})})}containsKey(e,n){return a_(e,this.userId,n)}xn(e){return Xf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function a_(i,e,n){const s=zc(e,n.path),l=s[1],d=IDBKeyRange.lowerBound(s);let v=!1;return Lh(i).X({range:d,Y:!0},(O,j,ne)=>{const[pe,Re,ct]=O;pe===e&&Re===l&&(v=!0),ne.done()}).next(()=>v)}function zu(i){return fs(i,"mutations")}function Lh(i){return fs(i,"documentMutations")}function Xf(i){return fs(i,"mutationQueues")}class Ld{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ld(0)}static Mn(){return new Ld(-1)}}class $m{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const s=new Ld(n.highestTargetId);return n.highestTargetId=s.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Un.fromTimestamp(new Ni(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.$n(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.On(e,l)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(n,s),this.On(e,s))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>eu(e).delete(n.targetId)).next(()=>this.$n(e)).next(s=>(Zn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,n,s){let l=0;const d=[];return eu(e).X((v,O)=>{const j=hc(O);j.sequenceNumber<=n&&null===s.get(j.targetId)&&(l++,d.push(this.removeTargetData(e,j)))}).next(()=>Tt.waitFor(d)).next(()=>l)}forEachTarget(e,n){return eu(e).X((s,l)=>{const d=hc(l);n(d)})}$n(e){return Gm(e).get("targetGlobalKey").next(n=>(Zn(null!==n),n))}On(e,n){return Gm(e).put("targetGlobalKey",n)}Fn(e,n){return eu(e).put(sh(this.serializer,n))}Bn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Tc(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return eu(e).X({range:l,index:"queryTargetsIndex"},(v,O,j)=>{const ne=hc(O);xd(n,ne.target)&&(d=ne,j.done())}).next(()=>d)}addMatchingKeys(e,n,s){const l=[],d=$u(e);return n.forEach(v=>{const O=Ks(v.path);l.push(d.put({targetId:s,path:O})),l.push(this.referenceDelegate.addReference(e,s,v))}),Tt.waitFor(l)}removeMatchingKeys(e,n,s){const l=$u(e);return Tt.forEach(n,d=>{const v=Ks(d.path);return Tt.waitFor([l.delete([s,v]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,n){const s=$u(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=$u(e);let d=ni();return l.X({range:s,Y:!0},(v,O,j)=>{const ne=qa(v[1]),pe=new rn(ne);d=d.add(pe)}).next(()=>d)}containsKey(e,n){const s=Ks(n.path),l=IDBKeyRange.bound([s],[$a(s)],!1,!0);let d=0;return $u(e).X({index:"documentTargetsIndex",Y:!0,range:l},([v,O],j,ne)=>{0!==v&&(d++,ne.done())}).next(()=>d>0)}le(e,n){return eu(e).get(n).next(s=>s?hc(s):null)}}function eu(i){return fs(i,"targets")}function Gm(i){return fs(i,"targetGlobal")}function $u(i){return fs(i,"targetDocuments")}function vf([i,e],[n,s]){const l=Tn(i,n);return 0===l?Tn(e,s):l}class l_{constructor(e){this.Ln=e,this.buffer=new Fi(vf),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vf(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jf{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){jl(s)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Da(s)}yield n.Qn(3e5)}))}}class ep{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Tt.resolve(Yi.ct);const s=new l_(n);return this.jn.forEachTarget(e,l=>s.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>s.Kn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve($p)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$p):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let s,l,d,v,O,j,ne;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),l=this.params.maximumSequenceNumbersToCollect):l=Re,v=Date.now(),this.nthSequenceNumber(e,l))).next(Re=>(s=Re,O=Date.now(),this.removeTargets(e,s,n))).next(Re=>(d=Re,j=Date.now(),this.removeOrphanedDocuments(e,s))).next(Re=>(ne=Date.now(),za()<=b.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-pe}ms\n\tDetermined least recently used ${l} in `+(O-v)+`ms\n\tRemoved ${d} targets in `+(j-O)+`ms\n\tRemoved ${Re} documents in `+(ne-j)+`ms\nTotal Duration: ${ne-pe}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:Re})))}}class tp{constructor(e,n){this.db=e,this.garbageCollector=function yu(i,e){return new ep(i,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Jn(e){let n=0;return this.Wn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(s,l)=>n(l))}addReference(e,n,s){return Vh(e,s)}removeReference(e,n,s){return Vh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Vh(e,n)}Xn(e,n){return function(s,l){let d=!1;return Xf(s).Z(v=>a_(s,v,l).next(O=>(O&&(d=!0),Tt.resolve(!O)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Yn(e,(v,O)=>{if(O<=n){const j=this.Xn(e,v).next(ne=>{if(!ne)return d++,s.getEntry(e,v).next(()=>(s.removeEntry(v,Un.min()),$u(e).delete([0,Ks(v.path)])))});l.push(j)}}).next(()=>Tt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Vh(e,n)}Yn(e,n){const s=$u(e);let l,d=Yi.ct;return s.X({index:"documentTargetsIndex"},([v,O],{path:j,sequenceNumber:ne})=>{0===v?(d!==Yi.ct&&n(new rn(qa(l)),d),d=ne,l=j):d=Yi.ct}).next(()=>{d!==Yi.ct&&n(new rn(qa(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vh(i,e){return $u(i).put((s=i.currentSequenceNumber,{targetId:0,path:Ks(e.path),sequenceNumber:s}));var s}class Wm{constructor(){this.changes=new Za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Tt.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return u(e).put(s)}removeEntry(e,n,s){return u(e).delete(function(l,d){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Ph(d),v[v.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Zn(e,s)))}getEntry(e,n){let s=ue.newInvalidDocument(n);return u(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_(n))},(l,d)=>{s=this.ts(n,d)}).next(()=>s)}es(e,n){let s={size:0,document:ue.newInvalidDocument(n)};return u(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_(n))},(l,d)=>{s={document:this.ts(n,d),size:_f(d)}}).next(()=>s)}getEntries(e,n){let s=ks();return this.ns(e,n,(l,d)=>{const v=this.ts(l,d);s=s.insert(l,v)}).next(()=>s)}ss(e,n){let s=ks(),l=new oi(rn.comparator);return this.ns(e,n,(d,v)=>{const O=this.ts(d,v);s=s.insert(d,O),l=l.insert(d,_f(v))}).next(()=>({documents:s,rs:l}))}ns(e,n,s){if(n.isEmpty())return Tt.resolve();let l=new Fi(C);n.forEach(j=>l=l.add(j));const d=IDBKeyRange.bound(_(l.first()),_(l.last())),v=l.getIterator();let O=v.getNext();return u(e).X({index:"documentKeyIndex",range:d},(j,ne,pe)=>{const Re=rn.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;O&&C(O,Re)<0;)s(O,null),O=v.getNext();O&&O.isEqual(Re)&&(s(O,ne),O=v.hasNext()?v.getNext():null),O?pe.G(_(O)):pe.done()}).next(()=>{for(;O;)s(O,null),O=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(e,n,s,l){const d=n.path,v=[d.popLast().toArray(),d.lastSegment(),Ph(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return u(e).j(IDBKeyRange.bound(v,O,!0)).next(j=>{let ne=ks();for(const pe of j){const Re=this.ts(rn.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);Re.isFoundDocument()&&(mu(n,Re)||l.has(Re.key))&&(ne=ne.insert(Re.key,Re))}return ne})}getAllFromCollectionGroup(e,n,s,l){let d=ks();const v=f(n,s),O=f(n,Rs.max());return u(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,O,!0)},(j,ne,pe)=>{const Re=this.ts(rn.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);d=d.insert(Re.key,Re),d.size===l&&pe.done()}).next(()=>d)}newChangeBuffer(e){return new lh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return y(e).get("remoteDocumentGlobalKey").next(n=>(Zn(!!n),n))}Zn(e,n){return y(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const s=function Vp(i,e){let n;if(e.document)n=Rm(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=rn.fromSegments(e.noDocument.path),l=ih(e.noDocument.readTime);n=ue.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fn();{const s=rn.fromSegments(e.unknownDocument.path),l=ih(e.unknownDocument.version);n=ue.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(s){const l=new Ni(s[0],s[1]);return Un.fromTimestamp(l)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Un.min()))return s}return ue.newInvalidDocument(e)}}function np(i){return new c_(i)}class lh extends Wm{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Za(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Fi((d,v)=>Tn(d.canonicalString(),v.canonicalString()));return this.changes.forEach((d,v)=>{const O=this.us.get(d);if(n.push(this.os.removeEntry(e,d,O.readTime)),v.isValidDocument()){const j=df(this.os.serializer,v);l=l.add(d.path.popLast());const ne=_f(j);s+=ne-O.size,n.push(this.os.addEntry(e,d,j))}else if(s-=O.size,this.trackRemovals){const j=df(this.os.serializer,v.convertToNoDocument(Un.min()));n.push(this.os.addEntry(e,d,j))}}),l.forEach(d=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.os.updateMetadata(e,s)),Tt.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(s=>(this.us.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:s,rs:l})=>(l.forEach((d,v)=>{this.us.set(d,{size:v,readTime:s.get(d).readTime})}),s))}}function y(i){return fs(i,"remoteDocumentGlobal")}function u(i){return fs(i,"remoteDocumentsV14")}function _(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f(i,e){const n=e.documentKey.path.toArray();return[i,Ph(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function C(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<n.length-2&&d<s.length-2;++d)if(l=Tn(n[d],s[d]),l)return l;return l=Tn(n.length,s.length),l||(l=Tn(n[n.length-2],s[s.length-2]),l||Tn(n[n.length-1],s[s.length-1]))}class X{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class me{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Qa(s.mutation,l,te.empty(),Ni.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ni()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ni()){const l=Wl();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(d=>{let v=Yc();return d.forEach((O,j)=>{v=v.insert(O,j.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const s=Wl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ni()))}populateOverlays(e,n,s){const l=[];return s.forEach(d=>{n.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((v,O)=>{n.set(v,O)})})}computeViews(e,n,s,l){let d=ks();const v=ql(),O=ql();return n.forEach((j,ne)=>{const pe=s.get(ne.key);l.has(ne.key)&&(void 0===pe||pe.mutation instanceof Cl)?d=d.insert(ne.key,ne):void 0!==pe?(v.set(ne.key,pe.mutation.getFieldMask()),Qa(pe.mutation,ne,pe.mutation.getFieldMask(),Ni.now())):v.set(ne.key,te.empty())}),this.recalculateAndSaveOverlays(e,d).next(j=>(j.forEach((ne,pe)=>v.set(ne,pe)),n.forEach((ne,pe)=>{var Re;return O.set(ne,new X(pe,null!==(Re=v.get(ne))&&void 0!==Re?Re:null))}),O))}recalculateAndSaveOverlays(e,n){const s=ql();let l=new oi((v,O)=>v-O),d=ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const O of v)O.keys().forEach(j=>{const ne=n.get(j);if(null===ne)return;let pe=s.get(j)||te.empty();pe=O.applyToLocalView(ne,pe),s.set(j,pe);const Re=(l.get(O.batchId)||ni()).add(j);l=l.insert(O.batchId,Re)})}).next(()=>{const v=[],O=l.getReverseIterator();for(;O.hasNext();){const j=O.getNext(),ne=j.key,pe=j.value,Re=xh();pe.forEach(ct=>{if(!d.has(ct)){const yt=Sh(n.get(ct),s.get(ct));null!==yt&&Re.set(ct,yt),d=d.add(ct)}}),v.push(this.documentOverlayCache.saveOverlays(e,ne,Re))}return Tt.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return rn.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):ll(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s);var l}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(d=>{const v=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-d.size):Tt.resolve(Wl());let O=-1,j=d;return v.next(ne=>Tt.forEach(ne,(pe,Re)=>(O<Re.largestBatchId&&(O=Re.largestBatchId),d.get(pe)?Tt.resolve():this.remoteDocumentCache.getEntry(e,pe).next(ct=>{j=j.insert(pe,ct)}))).next(()=>this.populateOverlays(e,ne,d)).next(()=>this.computeViews(e,j,ne,ni())).next(pe=>({batchId:O,changes:Xd(pe)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rn(n)).next(s=>{let l=Yc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const l=n.collectionGroup;let d=Yc();return this.indexManager.getCollectionParents(e,l).next(v=>Tt.forEach(v,O=>{const j=(ne=n,pe=O.child(l),new Dc(pe,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,pe;return this.getDocumentsMatchingCollectionQuery(e,j,s).next(ne=>{ne.forEach((pe,Re)=>{d=d.insert(pe,Re)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l))).next(d=>{l.forEach((O,j)=>{const ne=j.getKey();null===d.get(ne)&&(d=d.insert(ne,ue.newInvalidDocument(ne)))});let v=Yc();return d.forEach((O,j)=>{const ne=l.get(O);void 0!==ne&&Qa(ne.mutation,j,te.empty(),Ni.now()),mu(n,j)&&(v=v.insert(O,j))}),v})}}class Pe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Tt.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Wo(s.createTime)}),Tt.resolve()}getNamedQuery(e,n){return Tt.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(s=n).name,query:hf(s.bundledQuery),readTime:Wo(s.readTime)}),Tt.resolve();var s}}class Je{constructor(){this.overlays=new oi(rn.comparator),this.ls=new Map}getOverlay(e,n){return Tt.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wl();return Tt.forEach(n,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,d)=>{this.we(e,n,d)}),Tt.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.ls.delete(s)),Tt.resolve()}getOverlaysForCollection(e,n,s){const l=Wl(),d=n.length+1,v=new rn(n.child("")),O=this.overlays.getIteratorFrom(v);for(;O.hasNext();){const j=O.getNext().value,ne=j.getKey();if(!n.isPrefixOf(ne.path))break;ne.path.length===d&&j.largestBatchId>s&&l.set(j.getKey(),j)}return Tt.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let d=new oi((ne,pe)=>ne-pe);const v=this.overlays.getIterator();for(;v.hasNext();){const ne=v.getNext().value;if(ne.getKey().getCollectionGroup()===n&&ne.largestBatchId>s){let pe=d.get(ne.largestBatchId);null===pe&&(pe=Wl(),d=d.insert(ne.largestBatchId,pe)),pe.set(ne.getKey(),ne)}}const O=Wl(),j=d.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((ne,pe)=>O.set(ne,pe)),!(O.size()>=l)););return Tt.resolve(O)}we(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const v=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new T(n,s));let d=this.ls.get(n);void 0===d&&(d=ni(),this.ls.set(n,d)),this.ls.set(n,d.add(s.key))}}class Mt{constructor(){this.fs=new Fi(Cn.ds),this.ws=new Fi(Cn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Cn(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Cn(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new rn(new gi([])),s=new Cn(n,e),l=new Cn(n,e+1),d=[];return this.ws.forEachInRange([s,l],v=>{this.ys(v),d.push(v.key)}),d}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new rn(new gi([])),s=new Cn(n,e),l=new Cn(n,e+1);let d=ni();return this.ws.forEachInRange([s,l],v=>{d=d.add(v.key)}),d}containsKey(e){const n=new Cn(e,0),s=this.fs.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class Cn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return rn.comparator(e.key,n.key)||Tn(e.As,n.As)}static _s(e,n){return Tn(e.As,n.As)||rn.comparator(e.key,n.key)}}class Rn{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fi(Cn.ds)}checkEmpty(e){return Tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const d=this.vs;this.vs++;const v=new h(d,n,s,l);this.mutationQueue.push(v);for(const O of l)this.Rs=this.Rs.add(new Cn(O.key,d)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return Tt.resolve(v)}lookupMutationBatch(e,n){return Tt.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.bs(n+1),d=l<0?0:l;return Tt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Cn(n,0),l=new Cn(n,Number.POSITIVE_INFINITY),d=[];return this.Rs.forEachInRange([s,l],v=>{const O=this.Ps(v.As);d.push(O)}),Tt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Fi(Tn);return n.forEach(l=>{const d=new Cn(l,0),v=new Cn(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([d,v],O=>{s=s.add(O.As)})}),Tt.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let d=s;rn.isDocumentKey(d)||(d=d.child(""));const v=new Cn(new rn(d),0);let O=new Fi(Tn);return this.Rs.forEachWhile(j=>{const ne=j.key.path;return!!s.isPrefixOf(ne)&&(ne.length===l&&(O=O.add(j.As)),!0)},v),Tt.resolve(this.Vs(O))}Vs(e){const n=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Zn(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Tt.forEach(n.mutations,l=>{const d=new Cn(l.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Cn(n,0),l=this.Rs.firstAfterOrEqual(s);return Tt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Tt.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xi{constructor(e){this.Ds=e,this.docs=new oi(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),d=l?l.size:0,v=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:v}),this.size+=v-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Tt.resolve(s?s.document.mutableCopy():ue.newInvalidDocument(n))}getEntries(e,n){let s=ks();return n.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():ue.newInvalidDocument(l))}),Tt.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let d=ks();const v=n.path,O=new rn(v.child("")),j=this.docs.getIteratorFrom(O);for(;j.hasNext();){const{key:ne,value:{document:pe}}=j.getNext();if(!v.isPrefixOf(ne.path))break;ne.path.length>v.length+1||Bo(Du(pe),s)<=0||(l.has(pe.key)||mu(n,pe))&&(d=d.insert(pe.key,pe.mutableCopy()))}return Tt.resolve(d)}getAllFromCollectionGroup(e,n,s,l){Fn()}Cs(e,n){return Tt.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ri(this)}getSize(e){return Tt.resolve(this.size)}}class ri extends Wm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),Tt.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class vr{constructor(e){this.persistence=e,this.xs=new Za(n=>Tc(n),xd),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mt,this.targetCount=0,this.Ms=Ld.kn()}forEachTarget(e,n){return this.xs.forEach((s,l)=>n(l)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),Tt.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ld(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Tt.resolve()}updateTargetData(e,n){return this.Fn(n),Tt.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,n,s){let l=0;const d=[];return this.xs.forEach((v,O)=>{O.sequenceNumber<=n&&null===s.get(O.targetId)&&(this.xs.delete(v),d.push(this.removeMatchingKeysForTargetId(e,O.targetId)),l++)}),Tt.waitFor(d).next(()=>l)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return Tt.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),Tt.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const l=this.persistence.referenceDelegate,d=[];return l&&n.forEach(v=>{d.push(l.markPotentiallyOrphaned(e,v))}),Tt.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Tt.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return Tt.resolve(s)}containsKey(e,n){return Tt.resolve(this.ks.containsKey(n))}}class Ur{constructor(e,n){this.$s={},this.overlays={},this.Os=new Yi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vr(this),this.indexManager=new Hm,this.remoteDocumentCache=new xi(s=>this.referenceDelegate.Ls(s)),this.serializer=new Lm(n),this.qs=new Pe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Je,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new Rn(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){Xt("MemoryPersistence","Starting transaction:",e);const l=new Xi(this.Os.next());return this.referenceDelegate.Us(),s(l).next(d=>this.referenceDelegate.Ks(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Gs(e,n){return Tt.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class Xi extends Su{constructor(e){super(),this.currentSequenceNumber=e}}class no{constructor(e){this.persistence=e,this.Qs=new Mt,this.js=null}static zs(e){return new no(e)}get Ws(){if(this.js)return this.js;throw Fn()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),Tt.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),Tt.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Tt.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(d=>this.Ws.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Ws,s=>{const l=rn.fromPath(s);return this.Hs(e,l).next(d=>{d||n.removeEntry(l,Un.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Tt.or([()=>Tt.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Xa{constructor(e){this.serializer=e}O(e,n,s,l){const d=new au("createOrUpgrade",n);var O;s<1&&l>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hl,{unique:!0}),O.createObjectStore("documentMutations"),ca(e),function(O){O.createObjectStore("remoteDocuments")}(e));let v=Tt.resolve();return s<3&&l>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),ca(e)),v=v.next(()=>function(O){const j=O.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Un.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ne)}(d))),s<4&&l>=4&&(0!==s&&(v=v.next(()=>function(O,j){return j.store("mutations").j().next(ne=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hl,{unique:!0});const pe=j.store("mutations"),Re=ne.map(ct=>pe.put(ct));return Tt.waitFor(Re)})}(e,d))),v=v.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(v=v.next(()=>this.Ys(d))),s<6&&l>=6&&(v=v.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(d)))),s<7&&l>=7&&(v=v.next(()=>this.Zs(d))),s<8&&l>=8&&(v=v.next(()=>this.ti(e,d))),s<9&&l>=9&&(v=v.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(v=v.next(()=>this.ei(d))),s<11&&l>=11&&(v=v.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(v=v.next(()=>{!function(O){const j=O.createObjectStore("documentOverlays",{keyPath:Cc});j.createIndex("collectionPathOverlayIndex",wl,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Ju,{unique:!1})}(e)})),s<13&&l>=13&&(v=v.next(()=>function(O){const j=O.createObjectStore("remoteDocumentsV14",{keyPath:El});j.createIndex("documentKeyIndex",$c),j.createIndex("collectionGroupIndex",Au)}(e)).next(()=>this.ni(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(v=v.next(()=>this.si(e,d))),s<15&&l>=15&&(v=v.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Ic}).createIndex("sequenceNumberIndex",du,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:lc}).createIndex("documentKeyIndex",Mu,{unique:!1})}(e))),v}Xs(e){let n=0;return e.store("remoteDocuments").X((s,l)=>{n+=_f(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.j().next(l=>Tt.forEach(l,d=>{const v=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",v).next(O=>Tt.forEach(O,j=>{Zn(j.userId===d.userId);const ne=Rc(this.serializer,j);return Gp(e,d.userId,ne).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.X((v,O)=>{const j=new gi(v),ne=[0,Ks(j)];d.push(n.get(ne).next(pe=>pe?Tt.resolve():n.put({targetId:0,path:Ks(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(d))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:wc});const s=n.store("collectionParents"),l=new zm,d=v=>{if(l.add(v)){const O=v.lastSegment(),j=v.popLast();return s.put({collectionId:O,parent:Ks(j)})}};return n.store("remoteDocuments").X({Y:!0},(v,O)=>{const j=new gi(v);return d(j.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([v,O,j],ne)=>{const pe=qa(O);return d(pe.popLast())}))}ei(e){const n=e.store("targets");return n.X((s,l)=>{const d=hc(l),v=sh(this.serializer,d);return n.put(v)})}ni(e,n){const s=n.store("remoteDocuments"),l=[];return s.X((d,v)=>{const O=n.store("remoteDocumentsV14"),j=(ne=v,ne.document?new rn(gi.fromString(ne.document.name).popFirst(5)):ne.noDocument?rn.fromSegments(ne.noDocument.path):ne.unknownDocument?rn.fromSegments(ne.unknownDocument.path):Fn()).path.toArray();var ne;const pe={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(O.put(pe))}).next(()=>Tt.waitFor(l))}si(e,n){const s=n.store("mutations"),l=np(this.serializer),d=new Ur(no.zs,this.serializer.fe);return s.j().next(v=>{const O=new Map;return v.forEach(j=>{var ne;let pe=null!==(ne=O.get(j.userId))&&void 0!==ne?ne:ni();Rc(this.serializer,j).keys().forEach(Re=>pe=pe.add(Re)),O.set(j.userId,pe)}),Tt.forEach(O,(j,ne)=>{const pe=new Cs(ne),Re=kh.de(this.serializer,pe),ct=d.getIndexManager(pe),yt=ah.de(pe,this.serializer,ct,d.referenceDelegate);return new me(l,yt,Re,ct).recalculateAndSaveOverlaysForDocumentKeys(new sa(n,Yi.ct),j).next()})})}}function ca(i){i.createObjectStore("targetDocuments",{keyPath:Gc}).createIndex("documentTargetsIndex",ac,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oc,{unique:!0}),i.createObjectStore("targetGlobal")}const Oc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tl{constructor(e,n,s,l,d,v,O,j,ne,pe,Re=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.ii=d,this.window=v,this.document=O,this.ri=ne,this.oi=pe,this.ui=Re,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ct=>Promise.resolve(),!Tl.D())throw new x(Ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tp(this,l),this.di=n+"main",this.serializer=new Lm(j),this.wi=new xs(this.di,this.ui,new Xa(this.serializer)),this.Bs=new $m(this.referenceDelegate,this.serializer),this.remoteDocumentCache=np(this.serializer),this.qs=new Bv,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===pe&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(Ot.FAILED_PRECONDITION,Oc);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Yi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var s,n=this;return this.fi=function(l){return(s=s||(0,g.Z)(function*(d){if(n.started)return e(d)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var n;this.wi.B(function(s){return(n=n||(0,g.Z)(function*(l){null===l.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,g.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(jl(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ro(e).get("owner").next(n=>Tt.resolve(this.Ri(n)))}Pi(e){return Yl(e).delete(this.clientId)}bi(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=fs(s,"clientMetadata");return l.j().next(d=>{const v=e.Si(d,18e5),O=d.filter(j=>-1===v.indexOf(j));return Tt.forEach(O,j=>l.delete(j.clientId)).next(()=>O)})}).catch(()=>[]);if(e._i)for(const s of n)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Tt.resolve(!0):ro(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new x(Ot.FAILED_PRECONDITION,Oc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yl(e).j().next(s=>void 0===this.Si(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Xt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,g.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new sa(n,Yi.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(s=>this.Vi(s.updateTimeMs,n)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Yl(e).j().next(n=>this.Si(n,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return ah.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mf(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return kh.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,s){Xt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",d=15===(v=this.ui)?xo:14===v?Wc:13===v?ol:12===v?Co:11===v?hu:void Fn();var v;let O;return this.wi.runTransaction(e,l,d,j=>(O=new sa(j,this.Os?this.Os.next():Yi.ct),"readwrite-primary"===n?this.Ti(O).next(ne=>!!ne||this.Ei(O)).next(ne=>{if(!ne)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new x(Ot.FAILED_PRECONDITION,sc);return s(O)}).next(ne=>this.vi(O).next(()=>ne)):this.Oi(O).next(()=>s(O)))).then(j=>(O.raiseOnCommittedEvent(),j))}Oi(e){return ro(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new x(Ot.FAILED_PRECONDITION,Oc)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ro(e).put("owner",n)}static D(){return xs.D()}Ai(e){const n=ro(e);return n.get("owner").next(s=>this.Ri(s)?(Xt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Tt.resolve())}Vi(e,n){const s=Date.now();return!(e<s-n||e>s&&(Jn(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,ye.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const s=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ro(i){return fs(i,"owner")}function Yl(i){return fs(i,"clientMetadata")}function fc(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Ql{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=l}static Li(e,n){let s=ni(),l=ni();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Ql(e,n.fromCache,s,l)}}class Wp{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,l){return this.Ki(e,n).next(d=>d||this.Gi(e,n,l,s)).next(d=>d||this.Qi(e,n))}Ki(e,n){if(wh(n))return Tt.resolve(null);let s=to(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Ad(n,null,"F"),s=to(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const v=ni(...d);return this.Ui.getDocuments(e,v).next(O=>this.indexManager.getMinOffset(e,s).next(j=>{const ne=this.ji(n,O);return this.zi(n,ne,v,j.readTime)?this.Ki(e,Ad(n,null,"F")):this.Wi(e,ne,n,j)}))})))}Gi(e,n,s,l){return wh(n)||l.isEqual(Un.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(d=>{const v=this.ji(n,d);return this.zi(n,v,s,l)?this.Qi(e,n):(za()<=b.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),pu(n)),this.Wi(e,v,n,Ta(l,-1)))})}ji(e,n){let s=new Fi(ad(e));return n.forEach((l,d)=>{mu(e,d)&&(s=s.add(d))}),s}zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Qi(e,n){return za()<=b.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",pu(n)),this.Ui.getDocumentsMatchingQuery(e,n,Rs.min())}Wi(e,n,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(d=>(n.forEach(v=>{d=d.insert(v.key,v)}),d))}}class Vd{constructor(e,n,s,l){this.persistence=e,this.Hi=n,this.serializer=l,this.Ji=new oi(Tn),this.Yi=new Za(d=>Tc(d),xd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new me(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Pc(i,e,n,s){return new Vd(i,e,n,s)}function rp(i,e){return(Lr=Lr||(0,g.Z)(function*(n,s){const l=In(n);return yield l.persistence.runTransaction("Handle user change","readonly",d=>{let v;return l.mutationQueue.getAllMutationBatches(d).next(O=>(v=O,l.tr(s),l.mutationQueue.getAllMutationBatches(d))).next(O=>{const j=[],ne=[];let pe=ni();for(const Re of v){j.push(Re.batchId);for(const ct of Re.mutations)pe=pe.add(ct.key)}for(const Re of O){ne.push(Re.batchId);for(const ct of Re.mutations)pe=pe.add(ct.key)}return l.localDocuments.getDocuments(d,pe).next(Re=>({er:Re,removedBatchIds:j,addedBatchIds:ne}))})})})).apply(this,arguments)}function sr(i){const e=In(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Vr(i,e,n){let s=ni(),l=ni();return n.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let v=ks();return n.forEach((O,j)=>{const ne=d.get(O);j.isFoundDocument()!==ne.isFoundDocument()&&(l=l.add(O)),j.isNoDocument()&&j.version.isEqual(Un.min())?(e.removeEntry(O,j.readTime),v=v.insert(O,j)):!ne.isValidDocument()||j.version.compareTo(ne.version)>0||0===j.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(j),v=v.insert(O,j)):Xt("LocalStore","Ignoring outdated watch update for ",O,". Current version:",ne.version," Watch version:",j.version)}),{nr:v,sr:l}})}function Gi(i,e){const n=In(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mo(i,e){const n=In(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Bs.getTargetData(s,e).next(d=>d?(l=d,Tt.resolve(l)):n.Bs.allocateTargetId(s).next(v=>(l=new dd(e,v,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}function Dl(i,e,n){return(ns=ns||(0,g.Z)(function*(s,l,d){const v=In(s),O=v.Ji.get(l),j=d?"readwrite":"readwrite-primary";try{d||(yield v.persistence.runTransaction("Release target",j,ne=>v.persistence.referenceDelegate.removeTarget(ne,O)))}catch(ne){if(!jl(ne))throw ne;Xt("LocalStore",`Failed to update sequence numbers for target ${l}: ${ne}`)}v.Ji=v.Ji.remove(l),v.Yi.delete(O.target)})).apply(this,arguments)}function Sl(i,e,n){const s=In(i);let l=Un.min(),d=ni();return s.persistence.runTransaction("Execute query","readonly",v=>function(O,j,ne){const pe=In(O),Re=pe.Yi.get(ne);return void 0!==Re?Tt.resolve(pe.Ji.get(Re)):pe.Bs.getTargetData(j,ne)}(s,v,to(e)).next(O=>{if(O)return l=O.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(v,O.targetId).next(j=>{d=j})}).next(()=>s.Hi.getDocumentsMatchingQuery(v,e,n?l:Un.min(),n?d:ni())).next(O=>(Uh(s,Nu(e),O),{documents:O,ir:d})))}function Gu(i,e){const n=In(i),s=In(n.Bs),l=n.Ji.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",d=>s.le(d,e).next(v=>v?v.target:null))}function Ns(i,e){const n=In(i),s=n.Xi.get(e)||Un.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Zi.getAllFromCollectionGroup(l,e,Ta(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Uh(n,e,l),l))}function Uh(i,e,n){let s=i.Xi.get(e)||Un.min();n.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Xi.set(e,s)}function Ja(i,e){return(qi=qi||(0,g.Z)(function*(n,s,l=ni()){const d=yield mo(n,to(hf(s.bundledQuery))),v=In(n);return v.persistence.runTransaction("Save named query","readwrite",O=>{const j=Wo(s.readTime);if(d.snapshotVersion.compareTo(j)>=0)return v.qs.saveNamedQuery(O,s);const ne=d.withResumeToken(st.EMPTY_BYTE_STRING,j);return v.Ji=v.Ji.insert(ne.targetId,ne),v.Bs.updateTargetData(O,ne).next(()=>v.Bs.removeMatchingKeysForTargetId(O,d.targetId)).next(()=>v.Bs.addMatchingKeys(O,l,d.targetId)).next(()=>v.qs.saveNamedQuery(O,s))})})).apply(this,arguments)}function bu(i,e){return`firestore_clients_${i}_${e}`}function ul(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function ch(i,e){return`firestore_targets_${i}_${e}`}class Ud{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static ar(e,n,s){const l=JSON.parse(s);let d,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(d=new x(l.error.code,l.error.message))),v?new Ud(e,n,l.state,d):(Jn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sp{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static ar(e,n){const s=JSON.parse(n);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new x(s.error.code,s.error.message))),d?new sp(e,s.state,l):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class op{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Qc();for(let v=0;l&&v<s.activeTargetIds.length;++v)l=eo(s.activeTargetIds[v]),d=d.add(s.activeTargetIds[v]);return l?new op(e,d):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class u_{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new u_(n.clientId,n.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Km{constructor(){this.activeTargetIds=Qc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bh{constructor(e,n,s,l,d){this.window=e,this.ii=n,this.persistenceKey=s,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new oi(Tn),this.started=!1,this.yr=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.pr=bu(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Km),this.Tr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const n=yield e.syncEngine.$i();for(const l of n){if(l===e.wr)continue;const d=e.getItem(bu(e.persistenceKey,l));if(d){const v=op.ar(l,d);v&&(e.gr=e.gr.insert(v.clientId,v))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const l=e.br(s);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,s){this.Dr(e,n,s),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ch(this.persistenceKey,e));if(s){const l=sp.ar(e,s);l&&(n=l.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ch(this.persistenceKey,e))}updateQueryState(e,n,s){this.kr(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Cr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Xt("SharedClientState","READ",e,n),n}setItem(e,n){Xt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const s=e;if(s.storageArea===this.storage){if(Xt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,g.Z)(function*(){if(n.started){if(null!==s.key)if(n.Tr.test(s.key)){if(null==s.newValue){const l=n.Or(s.key);return n.Fr(l,null)}{const l=n.Br(s.key,s.newValue);if(l)return n.Fr(l.clientId,l)}}else if(n.Er.test(s.key)){if(null!==s.newValue){const l=n.Lr(s.key,s.newValue);if(l)return n.qr(l)}}else if(n.Ar.test(s.key)){if(null!==s.newValue){const l=n.Ur(s.key,s.newValue);if(l)return n.Kr(l)}}else if(s.key===n.vr){if(null!==s.newValue){const l=n.br(s.newValue);if(l)return n.Vr(l)}}else if(s.key===n.Ir){const l=function(d){let v=Yi.ct;if(null!=d)try{const O=JSON.parse(d);Zn("number"==typeof O),v=O}catch(O){Jn("SharedClientState","Failed to read sequence number from WebStorage",O)}return v}(s.newValue);l!==Yi.ct&&n.sequenceNumberHandler(l)}else if(s.key===n.Rr){const l=n.Gr(s.newValue);yield Promise.all(l.map(d=>n.syncEngine.Qr(d)))}}else n.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,s){const l=new Ud(this.currentUser,e,n,s),d=ul(this.persistenceKey,this.currentUser,e);this.setItem(d,l.hr())}Cr(e){const n=ul(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,s){const l=ch(this.persistenceKey,e),d=new sp(e,n,s);this.setItem(l,d.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const s=this.Or(e);return op.ar(s,n)}Lr(e,n){const s=this.Er.exec(e),l=Number(s[1]);return Ud.ar(new Cs(void 0!==s[2]?s[2]:null),l,n)}Ur(e,n){const s=this.Ar.exec(e),l=Number(s[1]);return sp.ar(l,n)}br(e){return u_.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,g.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const s=n?this.gr.insert(e,n):this.gr.remove(e),l=this.Sr(this.gr),d=this.Sr(s),v=[],O=[];return d.forEach(j=>{l.has(j)||v.push(j)}),l.forEach(j=>{d.has(j)||O.push(j)}),this.syncEngine.Wr(v,O).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Qc();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class d_{constructor(){this.Hr=new Km,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Km,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yf{Yr(e){}shutdown(){}}class bf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qp=null;function Kp(){return null===qp?qp=268435456+Math.round(2147483648*Math.random()):qp++,"0x"+qp.toString(16)}const jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xl="WebChannelConnection";class h_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,l,d){const v=Kp(),O=this.To(e,n);Xt("RestConnection",`Sending RPC '${e}' ${v}:`,O,s);const j={};return this.Eo(j,l,d),this.Ao(e,O,j,s).then(ne=>(Xt("RestConnection",`Received RPC '${e}' ${v}: `,ne),ne),ne=>{throw Io("RestConnection",`RPC '${e}' ${v} failed with error: `,ne,"url: ",O,"request:",s),ne})}vo(e,n,s,l,d,v){return this.Io(e,n,s,l,d)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+xa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,d)=>e[d]=l),s&&s.headers.forEach((l,d)=>e[d]=l)}To(e,n){return`${this.mo}/v1/${n}:${jv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,l){const d=Kp();return new Promise((v,O)=>{const j=new gn;j.setWithCredentials(!0),j.listenOnce(Me.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case J.NO_ERROR:const pe=j.getResponseJson();Xt(Xl,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(pe)),v(pe);break;case J.TIMEOUT:Xt(Xl,`RPC '${e}' ${d} timed out`),O(new x(Ot.DEADLINE_EXCEEDED,"Request time out"));break;case J.HTTP_ERROR:const Re=j.getStatus();if(Xt(Xl,`RPC '${e}' ${d} failed with status:`,Re,"response text:",j.getResponseText()),Re>0){let ct=j.getResponseJson();Array.isArray(ct)&&(ct=ct[0]);const yt=ct?.error;if(yt&&yt.status&&yt.message){const Jt=function(wn){const Dn=wn.toLowerCase().replace(/_/g,"-");return Object.values(Ot).indexOf(Dn)>=0?Dn:Ot.UNKNOWN}(yt.status);O(new x(Jt,yt.message))}else O(new x(Ot.UNKNOWN,"Server responded with status "+j.getStatus()))}else O(new x(Ot.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{Xt(Xl,`RPC '${e}' ${d} completed.`)}});const ne=JSON.stringify(l);Xt(Xl,`RPC '${e}' ${d} sending request:`,l),j.send(n,"POST",ne,s,15)})}Ro(e,n,s){const l=Kp(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],v=Ha(),O=S(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ne=this.longPollingOptions.timeoutSeconds;void 0!==ne&&(j.longPollingTimeout=Math.round(1e3*ne)),this.useFetchStreams&&(j.xmlHttpFactory=new Ze({})),this.Eo(j.initMessageHeaders,n,s),j.encodeInitMessageHeaders=!0;const pe=d.join("");Xt(Xl,`Creating RPC '${e}' stream ${l}: ${pe}`,j);const Re=v.createWebChannel(pe,j);let ct=!1,yt=!1;const Jt=new Hv({ro:Dn=>{yt?Xt(Xl,`Not sending because RPC '${e}' stream ${l} is closed:`,Dn):(ct||(Xt(Xl,`Opening RPC '${e}' stream ${l} transport.`),Re.open(),ct=!0),Xt(Xl,`RPC '${e}' stream ${l} sending:`,Dn),Re.send(Dn))},oo:()=>Re.close()}),wn=(Dn,hi,bi)=>{Dn.listen(hi,wr=>{try{bi(wr)}catch(ai){setTimeout(()=>{throw ai},0)}})};return wn(Re,Lt.EventType.OPEN,()=>{yt||Xt(Xl,`RPC '${e}' stream ${l} transport opened.`)}),wn(Re,Lt.EventType.CLOSE,()=>{yt||(yt=!0,Xt(Xl,`RPC '${e}' stream ${l} transport closed`),Jt.wo())}),wn(Re,Lt.EventType.ERROR,Dn=>{yt||(yt=!0,Io(Xl,`RPC '${e}' stream ${l} transport errored:`,Dn),Jt.wo(new x(Ot.UNAVAILABLE,"The operation could not be completed")))}),wn(Re,Lt.EventType.MESSAGE,Dn=>{var hi;if(!yt){const bi=Dn.data[0];Zn(!!bi);const ai=bi.error||(null===(hi=bi[0])||void 0===hi?void 0:hi.error);if(ai){Xt(Xl,`RPC '${e}' stream ${l} received error:`,ai);const ms=ai.status;let Mo=function(bd){const mh=be[bd];if(void 0!==mh)return Wt(mh)}(ms),Ml=ai.message;void 0===Mo&&(Mo=Ot.INTERNAL,Ml="Unknown error status: "+ms+" with message "+ai.message),yt=!0,Jt.wo(new x(Mo,Ml)),Re.close()}else Xt(Xl,`RPC '${e}' stream ${l} received:`,bi),Jt._o(bi)}}),wn(O,W.STAT_EVENT,Dn=>{Dn.stat===ve.PROXY?Xt(Xl,`RPC '${e}' stream ${l} detected buffering proxy`):Dn.stat===ve.NOPROXY&&Xt(Xl,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Jt.fo()},0),Jt}}function Zm(){return typeof window<"u"?window:null}function Ef(){return typeof document<"u"?document:null}function Zp(i){return new Zg(i,!0)}class ap{constructor(e,n,s=1e3,l=1.5,d=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=l,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,n-s);l>0&&Xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ym{constructor(e,n,s,l,d,v,O,j){this.ii=e,this.$o=s,this.Oo=l,this.connection=d,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=O,this.listener=j,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ap(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,g.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,g.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var s=this;return(0,g.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():n&&n.code===Ot.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):n&&n.code===Ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===n&&this.Zo(s,l)},s=>{e(()=>{const l=new x(Ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,g.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zv extends Ym{constructor(e,n,s,l,d,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,v),this.serializer=d}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function $f(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Fn(),l=e.targetChange.targetIds||[],d=function(j,ne){return j.useProto3Json?(Zn(void 0===ne||"string"==typeof ne),st.fromBase64String(ne||"")):(Zn(void 0===ne||ne instanceof Uint8Array),st.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,O=v&&function(j){const ne=void 0===j.code?Ot.UNKNOWN:Wt(j.code);return new x(ne,j.message||"")}(v);n=new Ma(s,l,d,O||null)}else if("documentChange"in e){const s=e.documentChange,l=Zl(i,s.document.name),d=Wo(s.document.updateTime),v=s.document.createTime?Wo(s.document.createTime):Un.min(),O=new M({mapValue:{fields:s.document.fields}}),j=ue.newFoundDocument(l,d,v,O);n=new os(s.targetIds||[],s.removedTargetIds||[],j.key,j)}else if("documentDelete"in e){const s=e.documentDelete,l=Zl(i,s.document),d=s.readTime?Wo(s.readTime):Un.min(),v=ue.newNoDocument(l,d);n=new os([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const s=e.documentRemove,l=Zl(i,s.document);n=new os([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Fn();{const s=e.filter,{count:l=0,unchangedNames:d}=s,v=new ae(l,d);n=new Go(s.targetId,v)}}var j;return n}(this.serializer,e),s=function(l){if(!("targetChange"in l))return Un.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Un.min():d.readTime?Wo(d.readTime):Un.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Hf(this.serializer),n.addTarget=function(l,d){let v;const O=d.target;if(v=Td(O)?{documents:Lp(l,O)}:{query:cd(l,O)},v.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){v.resumeToken=Sm(l,d.resumeToken);const j=Bf(l,d.expectedCount);null!==j&&(v.expectedCount=j)}else if(d.snapshotVersion.compareTo(Un.min())>0){v.readTime=Mh(l,d.snapshotVersion.toTimestamp());const j=Bf(l,d.expectedCount);null!==j&&(v.expectedCount=j)}return v}(this.serializer,e);const s=function Qg(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Hf(this.serializer),n.removeTarget=e,this.Wo(n)}}class $v extends Ym{constructor(e,n,s,l,d,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,v),this.serializer=d,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Zn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Om(i,e){return i&&i.length>0?(Zn(void 0!==e),i.map(n=>function(s,l){let d=Wo(s.updateTime?s.updateTime:l);return d.isEqual(Un.min())&&(d=Wo(l)),new ju(d,s.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Wo(e.commitTime);return this.listener.cu(s,n)}return Zn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Hf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rh(this.serializer,s))};this.Wo(n)}}class f_ extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new x(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Io(e,n,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new x(Ot.UNKNOWN,l.toString())})}vo(e,n,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,v])=>this.connection.vo(e,n,s,d,v,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new x(Ot.UNKNOWN,d.toString())})}terminate(){this.lu=!0}}class p_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Jn(n),this.mu=!1):Xt("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Wv{constructor(e,n,s,l,d){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=d,this.Pu.Yr(O=>{s.enqueueAndForget((0,g.Z)(function*(){var j;uh(v)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield function(ne){return(j=j||(0,g.Z)(function*(pe){const Re=In(pe);Re.vu.add(4),yield cp(Re),Re.bu.set("Unknown"),Re.vu.delete(4),yield lp(Re)})).apply(this,arguments)}(v))}))}),this.bu=new p_(s,l)}}function lp(i){return(ma=ma||(0,g.Z)(function*(e){if(uh(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function cp(i){return(ea=ea||(0,g.Z)(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function up(i,e){const n=In(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),m_(n)?Qm(n):Cf(n).Ko()&&tu(n,e))}function wf(i,e){const n=In(i),s=Cf(n);n.Au.delete(e),s.Ko()&&Yp(n,e),0===n.Au.size&&(s.Ko()?s.jo():uh(n)&&n.bu.set("Unknown"))}function tu(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Un.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cf(i).su(e)}function Yp(i,e){i.Vu.qt(e),Cf(i).iu(e)}function Qm(i){i.Vu=new lf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Cf(i).start(),i.bu.gu()}function m_(i){return uh(i)&&!Cf(i).Uo()&&i.Au.size>0}function uh(i){return 0===In(i).vu.size}function Qp(i){i.Vu=void 0}function pd(i){return(Lo=Lo||(0,g.Z)(function*(e){e.Au.forEach((n,s)=>{tu(e,n)})})).apply(this,arguments)}function g_(i,e){return(rs=rs||(0,g.Z)(function*(n,s){Qp(n),m_(n)?(n.bu.Iu(s),Qm(n)):n.bu.set("Unknown")})).apply(this,arguments)}function qv(i,e,n){return(is=is||(0,g.Z)(function*(s,l,d){if(s.bu.set("Online"),l instanceof Ma&&2===l.state&&l.cause)try{var v;yield function(O,j){return(v=v||(0,g.Z)(function*(ne,pe){const Re=pe.cause;for(const ct of pe.targetIds)ne.Au.has(ct)&&(yield ne.remoteSyncer.rejectListen(ct,Re),ne.Au.delete(ct),ne.Vu.removeTarget(ct))})).apply(this,arguments)}(s,l)}catch(O){Xt("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),O),yield Xm(s,O)}else if(l instanceof os?s.Vu.Ht(l):l instanceof Go?s.Vu.ne(l):s.Vu.Xt(l),!d.isEqual(Un.min()))try{const O=yield sr(s.localStore);d.compareTo(O)>=0&&(yield function(j,ne){const pe=j.Vu.ce(ne);return pe.targetChanges.forEach((Re,ct)=>{if(Re.resumeToken.approximateByteSize()>0){const yt=j.Au.get(ct);yt&&j.Au.set(ct,yt.withResumeToken(Re.resumeToken,ne))}}),pe.targetMismatches.forEach((Re,ct)=>{const yt=j.Au.get(Re);if(!yt)return;j.Au.set(Re,yt.withResumeToken(st.EMPTY_BYTE_STRING,yt.snapshotVersion)),Yp(j,Re);const Jt=new dd(yt.target,Re,ct,yt.sequenceNumber);tu(j,Jt)}),j.remoteSyncer.applyRemoteEvent(pe)}(s,d))}catch(O){Xt("RemoteStore","Failed to raise snapshot:",O),yield Xm(s,O)}})).apply(this,arguments)}function Xm(i,e,n){return(uo=uo||(0,g.Z)(function*(s,l,d){if(!jl(l))throw l;s.vu.add(1),yield cp(s),s.bu.set("Offline"),d||(d=()=>sr(s.localStore)),s.asyncQueue.enqueueRetryable((0,g.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield d(),s.vu.delete(1),yield lp(s)}))})).apply(this,arguments)}function el(i,e){return e().catch(n=>Xm(i,n,e))}function If(i){return(Ai=Ai||(0,g.Z)(function*(e){const n=In(e),s=dh(n);let l=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;Jm(n);)try{const d=yield Gi(n.localStore,l);if(null===d){0===n.Eu.length&&s.jo();break}l=d.batchId,Kv(n,d)}catch(d){yield Xm(n,d)}__(n)&&Xp(n)})).apply(this,arguments)}function Jm(i){return uh(i)&&i.Eu.length<10}function Kv(i,e){i.Eu.push(e);const n=dh(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function __(i){return uh(i)&&!dh(i).Uo()&&i.Eu.length>0}function Xp(i){dh(i).start()}function v_(i){return(Ll=Ll||(0,g.Z)(function*(e){dh(e).hu()})).apply(this,arguments)}function y_(i){return(Vl=Vl||(0,g.Z)(function*(e){const n=dh(e);for(const s of e.Eu)n.uu(s.mutations)})).apply(this,arguments)}function Zv(i,e,n){return(ho=ho||(0,g.Z)(function*(s,l,d){const v=s.Eu.shift(),O=m.from(v,l,d);yield el(s,()=>s.remoteSyncer.applySuccessfulWrite(O)),yield If(s)})).apply(this,arguments)}function b_(i,e){return(iu=iu||(0,g.Z)(function*(n,s){var l;s&&dh(n).ou&&(yield function(d,v){return(l=l||(0,g.Z)(function*(O,j){if(it(ne=j.code)&&ne!==Ot.ABORTED){const pe=O.Eu.shift();dh(O).Qo(),yield el(O,()=>O.remoteSyncer.rejectFailedWrite(pe.batchId,j)),yield If(O)}var ne})).apply(this,arguments)}(n,s)),__(n)&&Xp(n)})).apply(this,arguments)}function eg(i,e){return(Nc=Nc||(0,g.Z)(function*(n,s){const l=In(n);l.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const d=uh(l);l.vu.add(3),yield cp(l),d&&l.bu.set("Unknown"),yield l.remoteSyncer.handleCredentialChange(s),l.vu.delete(3),yield lp(l)})).apply(this,arguments)}function tg(i,e){return(gl=gl||(0,g.Z)(function*(n,s){const l=In(n);s?(l.vu.delete(2),yield lp(l)):s||(l.vu.add(2),yield cp(l),l.bu.set("Unknown"))})).apply(this,arguments)}function Cf(i){var e;return i.Su||(i.Su=function(n,s,l){const d=In(n);return d.fu(),new zv(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{uo:pd.bind(null,i),ao:g_.bind(null,i),nu:qv.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,g.Z)(function*(s){s?(i.Su.Qo(),m_(i)?Qm(i):i.bu.set("Unknown")):(yield i.Su.stop(),Qp(i))})).apply(this,arguments)})),i.Su}function dh(i){var e;return i.Du||(i.Du=function(n,s,l){const d=In(n);return d.fu(),new $v(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,l)}(i.datastore,i.asyncQueue,{uo:v_.bind(null,i),ao:b_.bind(null,i),au:y_.bind(null,i),cu:Zv.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,g.Z)(function*(s){s?(i.Du.Qo(),yield If(i)):(yield i.Du.stop(),i.Eu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})).apply(this,arguments)})),i.Du}class Jp{constructor(e,n,s,l,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new R,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,s,l,d){const v=Date.now()+s,O=new Jp(e,n,v,l,d);return O.start(s),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(Ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wu(i,e){if(Jn("AsyncQueue",`${e}: ${i}`),jl(i))return new x(Ot.UNAVAILABLE,`${e}: ${i}`);throw i}class kc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||rn.comparator(n.key,s.key):(n,s)=>rn.comparator(n.key,s.key),this.keyedMap=Yc(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new kc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class jh{constructor(){this.Cu=new oi(rn.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(n):1===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Fn():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class xf{constructor(e,n,s,l,d,v,O,j,ne){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=v,this.syncStateChanged=O,this.excludesMetadataChanges=j,this.hasCachedResults=ne}static fromInitialDocuments(e,n,s,l,d){const v=[];return n.forEach(O=>{v.push({type:0,doc:O})}),new xf(e,n,kc.emptySet(n),v,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Yv{constructor(){this.Nu=void 0,this.listeners=[]}}class E_{constructor(){this.queries=new Za(e=>Md(e),_n),this.onlineState="Unknown",this.ku=new Set}}function dp(i,e){return(wo=wo||(0,g.Z)(function*(n,s){const l=In(n),d=s.query;let v=!1,O=l.queries.get(d);if(O||(v=!0,O=new Yv),v)try{O.Nu=yield l.onListen(d)}catch(j){const ne=Wu(j,`Initialization of query '${pu(s.query)}' failed`);return void s.onError(ne)}l.queries.set(d,O),O.listeners.push(s),s.Mu(l.onlineState),O.Nu&&s.$u(O.Nu)&&hp(l)})).apply(this,arguments)}function Hh(i,e){return(_l=_l||(0,g.Z)(function*(n,s){const l=In(n),d=s.query;let v=!1;const O=l.queries.get(d);if(O){const j=O.listeners.indexOf(s);j>=0&&(O.listeners.splice(j,1),v=0===O.listeners.length)}if(v)return l.queries.delete(d),l.onUnlisten(d)})).apply(this,arguments)}function w_(i,e){const n=In(i);let s=!1;for(const l of e){const v=n.queries.get(l.query);if(v){for(const O of v.listeners)O.$u(l)&&(s=!0);v.Nu=l}}s&&hp(n)}function Nb(i,e,n){const s=In(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(n);s.queries.delete(e)}function hp(i){i.ku.forEach(e=>{e.next()})}class hh{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new xf(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class em{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class ng{constructor(e){this.serializer=e}rr(e){return Zl(this.serializer,e)}ur(e){return e.metadata.exists?Rm(this.serializer,e.document,!1):ue.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wo(e)}}class I_{constructor(e,n,s){this.ju=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=C_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const s=gi.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,s=new ng(this.serializer);for(const l of e)if(l.metadata.queries){const d=s.rr(l.metadata.name);for(const v of l.metadata.queries){const O=(n.get(v)||ni()).add(d);n.set(v,O)}}return n}complete(){var e=this;return(0,g.Z)(function*(){const n=yield function qm(i,e,n,s){return(Oi=Oi||(0,g.Z)(function*(l,d,v,O){const j=In(l);let ne=ni(),pe=ks();for(const yt of v){const Jt=d.rr(yt.metadata.name);yt.document&&(ne=ne.add(Jt));const wn=d.ur(yt);wn.setReadTime(d.cr(yt.metadata.readTime)),pe=pe.insert(Jt,wn)}const Re=j.Zi.newChangeBuffer({trackRemovals:!0}),ct=yield mo(j,(yt=O,to(Sd(gi.fromString(`__bundle__/docs/${yt}`)))));var yt;return j.persistence.runTransaction("Apply bundle documents","readwrite",yt=>Vr(yt,Re,pe).next(Jt=>(Re.apply(yt),Jt)).next(Jt=>j.Bs.removeMatchingKeysForTargetId(yt,ct.targetId).next(()=>j.Bs.addMatchingKeys(yt,ne,ct.targetId)).next(()=>j.localDocuments.getLocalViewOfDocuments(yt,Jt.nr,Jt.sr)).next(()=>Jt.nr)))})).apply(this,arguments)}(e.localStore,new ng(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const l of e.queries)yield Ja(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function C_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class x_{constructor(e){this.key=e}}class T_{constructor(e){this.key=e}}class D_{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ni(),this.mutatedKeys=ni(),this.tc=ad(e),this.ec=new kc(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new jh,l=n?n.ec:this.ec;let d=n?n.mutatedKeys:this.mutatedKeys,v=l,O=!1;const j="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ne="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((pe,Re)=>{const ct=l.get(pe),yt=mu(this.query,Re)?Re:null,Jt=!!ct&&this.mutatedKeys.has(ct.key),wn=!!yt&&(yt.hasLocalMutations||this.mutatedKeys.has(yt.key)&&yt.hasCommittedMutations);let Dn=!1;ct&&yt?ct.data.isEqual(yt.data)?Jt!==wn&&(s.track({type:3,doc:yt}),Dn=!0):this.rc(ct,yt)||(s.track({type:2,doc:yt}),Dn=!0,(j&&this.tc(yt,j)>0||ne&&this.tc(yt,ne)<0)&&(O=!0)):!ct&&yt?(s.track({type:0,doc:yt}),Dn=!0):ct&&!yt&&(s.track({type:1,doc:ct}),Dn=!0,(j||ne)&&(O=!0)),Dn&&(yt?(v=v.add(yt),d=wn?d.add(pe):d.delete(pe)):(v=v.delete(pe),d=d.delete(pe)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const pe="F"===this.query.limitType?v.last():v.first();v=v.delete(pe.key),d=d.delete(pe.key),s.track({type:1,doc:pe})}return{ec:v,ic:s,zi:O,mutatedKeys:d}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const d=e.ic.xu();d.sort((ne,pe)=>function(Re,ct){const yt=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return yt(Re)-yt(ct)}(ne.type,pe.type)||this.tc(ne.doc,pe.doc)),this.oc(s);const v=n?this.uc():[],O=0===this.Zu.size&&this.current?1:0,j=O!==this.Xu;return this.Xu=O,0!==d.length||j?{snapshot:new xf(this.query,e.ec,l,d,e.mutatedKeys,0===O,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:v}:{cc:v}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ni(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new T_(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new x_(s))}),n}hc(e){this.Yu=e.ir,this.Zu=ni();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return xf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class S_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Fb{constructor(e){this.key=e,this.fc=!1}}class Qv{constructor(e,n,s,l,d,v){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=v,this.dc={},this.wc=new Za(O=>Md(O),_n),this._c=new Map,this.mc=new Set,this.gc=new oi(rn.comparator),this.yc=new Map,this.Ic=new Mt,this.Tc={},this.Ec=new Map,this.Ac=Ld.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Lb(i,e){return(Fc=Fc||(0,g.Z)(function*(n,s){const l=ag(n);let d,v;const O=l.wc.get(s);if(O)d=O.targetId,l.sharedClientState.addLocalQueryTarget(d),v=O.view.lc();else{const j=yield mo(l.localStore,to(s)),ne=l.sharedClientState.addLocalQueryTarget(j.targetId);d=j.targetId,v=yield A_(l,s,d,"current"===ne,j.resumeToken),l.isPrimaryClient&&up(l.remoteStore,j)}return v})).apply(this,arguments)}function A_(i,e,n,s,l){return(Cu=Cu||(0,g.Z)(function*(d,v,O,j,ne){d.Rc=(Dn,hi,bi)=>{var wr;return function(ai,ms,Mo,Ml){return(wr=wr||(0,g.Z)(function*(bd,mh,Gy,wv){let Ap=mh.view.sc(Gy);Ap.zi&&(Ap=yield Sl(bd.localStore,mh.query,!1).then(({documents:Iv})=>mh.view.sc(Iv,Ap)));const Wy=wv&&wv.targetChanges.get(mh.targetId),Oa=mh.view.applyChanges(Ap,bd.isPrimaryClient,Wy);return rm(bd,mh.targetId,Oa.cc),Oa.snapshot})).apply(this,arguments)}(d,Dn,hi,bi)};const pe=yield Sl(d.localStore,v,!0),Re=new D_(v,pe.ir),ct=Re.sc(pe.documents),yt=Aa.createSynthesizedTargetChangeForCurrentChange(O,j&&"Offline"!==d.onlineState,ne),Jt=Re.applyChanges(ct,d.isPrimaryClient,yt);rm(d,O,Jt.cc);const wn=new S_(v,O,Re);return d.wc.set(v,wn),d._c.has(O)?d._c.get(O).push(v):d._c.set(O,[v]),Jt.snapshot})).apply(this,arguments)}function M_(i,e){return(ta=ta||(0,g.Z)(function*(n,s){const l=In(n),d=l.wc.get(s),v=l._c.get(d.targetId);if(v.length>1)return l._c.set(d.targetId,v.filter(O=>!_n(O,s))),void l.wc.delete(s);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(d.targetId),l.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Dl(l.localStore,d.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(d.targetId),wf(l.remoteStore,d.targetId),Yr(l,d.targetId)}).catch(Da))):(Yr(l,d.targetId),yield Dl(l.localStore,d.targetId,!0))})).apply(this,arguments)}function Xv(i,e){return(xu=xu||(0,g.Z)(function*(n,s){const l=In(n);try{const d=yield function Pr(i,e){const n=In(i),s=e.snapshotVersion;let l=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const v=n.Zi.newChangeBuffer({trackRemovals:!0});l=n.Ji;const O=[];e.targetChanges.forEach((pe,Re)=>{const ct=l.get(Re);if(!ct)return;O.push(n.Bs.removeMatchingKeys(d,pe.removedDocuments,Re).next(()=>n.Bs.addMatchingKeys(d,pe.addedDocuments,Re)));let yt=ct.withSequenceNumber(d.currentSequenceNumber);var Jt,wn,Dn;null!==e.targetMismatches.get(Re)?yt=yt.withResumeToken(st.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):pe.resumeToken.approximateByteSize()>0&&(yt=yt.withResumeToken(pe.resumeToken,s)),l=l.insert(Re,yt),wn=yt,Dn=pe,(0===(Jt=ct).resumeToken.approximateByteSize()||wn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&O.push(n.Bs.updateTargetData(d,yt))});let j=ks(),ne=ni();if(e.documentUpdates.forEach(pe=>{e.resolvedLimboDocuments.has(pe)&&O.push(n.persistence.referenceDelegate.updateLimboDocument(d,pe))}),O.push(Vr(d,v,e.documentUpdates).next(pe=>{j=pe.nr,ne=pe.sr})),!s.isEqual(Un.min())){const pe=n.Bs.getLastRemoteSnapshotVersion(d).next(Re=>n.Bs.setTargetsMetadata(d,d.currentSequenceNumber,s));O.push(pe)}return Tt.waitFor(O).next(()=>v.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,j,ne)).next(()=>j)}).then(d=>(n.Ji=l,d))}(l.localStore,s);s.targetChanges.forEach((v,O)=>{const j=l.yc.get(O);j&&(Zn(v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size<=1),v.addedDocuments.size>0?j.fc=!0:v.modifiedDocuments.size>0?Zn(j.fc):v.removedDocuments.size>0&&(Zn(j.fc),j.fc=!1))}),yield Bd(l,d,s)}catch(d){yield Da(d)}})).apply(this,arguments)}function fp(i,e,n){const s=In(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.wc.forEach((d,v)=>{const O=v.view.Mu(e);O.snapshot&&l.push(O.snapshot)}),function(d,v){const O=In(d);O.onlineState=v;let j=!1;O.queries.forEach((ne,pe)=>{for(const Re of pe.listeners)Re.Mu(v)&&(j=!0)}),j&&hp(O)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Vb(i,e,n){return(Ed=Ed||(0,g.Z)(function*(s,l,d){const v=In(s);v.sharedClientState.updateQueryState(l,"rejected",d);const O=v.yc.get(l),j=O&&O.key;if(j){let ne=new oi(rn.comparator);ne=ne.insert(j,ue.newNoDocument(j,Un.min()));const pe=ni().add(j),Re=new dc(Un.min(),new Map,new oi(Tn),ne,pe);yield Xv(v,Re),v.gc=v.gc.remove(j),v.yc.delete(l),im(v)}else yield Dl(v.localStore,l,!1).then(()=>Yr(v,l,d)).catch(Da)})).apply(this,arguments)}function O_(i,e){return(vl=vl||(0,g.Z)(function*(n,s){const l=In(n),d=s.batch.batchId;try{const v=yield function ip(i,e){const n=In(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=n.Zi.newChangeBuffer({trackRemovals:!0});return function(v,O,j,ne){const pe=j.batch,Re=pe.keys();let ct=Tt.resolve();return Re.forEach(yt=>{ct=ct.next(()=>ne.getEntry(O,yt)).next(Jt=>{const wn=j.docVersions.get(yt);Zn(null!==wn),Jt.version.compareTo(wn)<0&&(pe.applyToRemoteDocument(Jt,j),Jt.isValidDocument()&&(Jt.setReadTime(j.commitVersion),ne.addEntry(Jt)))})}),ct.next(()=>v.mutationQueue.removeMutationBatch(O,pe))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(v){let O=ni();for(let j=0;j<v.mutationResults.length;++j)v.mutationResults[j].transformResults.length>0&&(O=O.add(v.batch.mutations[j].key));return O}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(l.localStore,s);nm(l,d,null),tm(l,d),l.sharedClientState.updateMutationState(d,"acknowledged"),yield Bd(l,v)}catch(v){yield Da(v)}})).apply(this,arguments)}function P_(i,e,n){return(Lc=Lc||(0,g.Z)(function*(s,l,d){const v=In(s);try{const O=yield function(j,ne){const pe=In(j);return pe.persistence.runTransaction("Reject batch","readwrite-primary",Re=>{let ct;return pe.mutationQueue.lookupMutationBatch(Re,ne).next(yt=>(Zn(null!==yt),ct=yt.keys(),pe.mutationQueue.removeMutationBatch(Re,yt))).next(()=>pe.mutationQueue.performConsistencyCheck(Re)).next(()=>pe.documentOverlayCache.removeOverlaysForBatchId(Re,ct,ne)).next(()=>pe.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Re,ct)).next(()=>pe.localDocuments.getDocuments(Re,ct))})}(v.localStore,l);nm(v,l,d),tm(v,l),v.sharedClientState.updateMutationState(l,"rejected",d),yield Bd(v,O)}catch(O){yield Da(O)}})).apply(this,arguments)}function tm(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function nm(i,e,n){const s=In(i);let l=s.Tc[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(n?d.reject(n):d.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function Yr(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),n&&i.dc.Pc(s,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||rg(i,s)})}function rg(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(wf(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),im(i))}function rm(i,e,n){for(const s of n)s instanceof x_?(i.Ic.addReference(s.key,e),Tf(i,s)):s instanceof T_?(Xt("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||rg(i,s.key)):Fn()}function Tf(i,e){const n=e.key,s=n.path.canonicalString();i.gc.get(n)||i.mc.has(s)||(Xt("SyncEngine","New document in limbo: "+n),i.mc.add(s),im(i))}function im(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new rn(gi.fromString(e)),s=i.Ac.next();i.yc.set(s,new Fb(n)),i.gc=i.gc.insert(n,s),up(i.remoteStore,new dd(to(Sd(n.path)),s,"TargetPurposeLimboResolution",Yi.ct))}}function Bd(i,e,n){return(br=br||(0,g.Z)(function*(s,l,d){var v;const O=In(s),j=[],ne=[],pe=[];O.wc.isEmpty()||(O.wc.forEach((Re,ct)=>{pe.push(O.Rc(ct,l,d).then(yt=>{if((yt||d)&&O.isPrimaryClient&&O.sharedClientState.updateQueryState(ct.targetId,yt?.fromCache?"not-current":"current"),yt){j.push(yt);const Jt=Ql.Li(ct.targetId,yt);ne.push(Jt)}}))}),yield Promise.all(pe),O.dc.nu(j),yield function(Re,ct){return(v=v||(0,g.Z)(function*(yt,Jt){const wn=In(yt);try{yield wn.persistence.runTransaction("notifyLocalViewChanges","readwrite",Dn=>Tt.forEach(Jt,hi=>Tt.forEach(hi.Fi,bi=>wn.persistence.referenceDelegate.addReference(Dn,hi.targetId,bi)).next(()=>Tt.forEach(hi.Bi,bi=>wn.persistence.referenceDelegate.removeReference(Dn,hi.targetId,bi)))))}catch(Dn){if(!jl(Dn))throw Dn;Xt("LocalStore","Failed to update sequence numbers: "+Dn)}for(const Dn of Jt){const hi=Dn.targetId;if(!Dn.fromCache){const bi=wn.Ji.get(hi),ai=bi.withLastLimboFreeSnapshotVersion(bi.snapshotVersion);wn.Ji=wn.Ji.insert(hi,ai)}}})).apply(this,arguments)}(O.localStore,ne))})).apply(this,arguments)}function sm(i,e){return(yl=yl||(0,g.Z)(function*(n,s){const l=In(n);if(!l.currentUser.isEqual(s)){Xt("SyncEngine","User change. New user:",s.toKey());const d=yield rp(l.localStore,s);l.currentUser=s,(v=l).Ec.forEach(j=>{j.forEach(ne=>{ne.reject(new x(Ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),v.Ec.clear(),l.sharedClientState.handleUserChange(s,d.removedBatchIds,d.addedBatchIds),yield Bd(l,d.er)}var v})).apply(this,arguments)}function Df(i,e){const n=In(i),s=n.yc.get(e);if(s&&s.fc)return ni().add(s.key);{let l=ni();const d=n._c.get(e);if(!d)return l;for(const v of d){const O=n.wc.get(v);l=l.unionWith(O.view.nc)}return l}}function ig(i,e){return(Qu=Qu||(0,g.Z)(function*(n,s){const l=In(n),d=yield Sl(l.localStore,s.query,!0),v=s.view.hc(d);return l.isPrimaryClient&&rm(l,s.targetId,v.cc),v})).apply(this,arguments)}function pp(i,e){return(Vc=Vc||(0,g.Z)(function*(n,s){const l=In(n);return Ns(l.localStore,s).then(d=>Bd(l,d))})).apply(this,arguments)}function k_(i,e,n,s){return(ou=ou||(0,g.Z)(function*(l,d,v,O){const j=In(l),ne=yield function(pe,Re){const ct=In(pe),yt=In(ct.mutationQueue);return ct.persistence.runTransaction("Lookup mutation documents","readonly",Jt=>yt.Sn(Jt,Re).next(wn=>wn?ct.localDocuments.getDocuments(Jt,wn):Tt.resolve(null)))}(j.localStore,d);var Re;null!==ne?("pending"===v?yield If(j.remoteStore):"acknowledged"===v||"rejected"===v?(nm(j,d,O||null),tm(j,d),Re=d,In(In(j.localStore).mutationQueue).Cn(Re)):Fn(),yield Bd(j,ne)):Xt("SyncEngine","Cannot apply mutation batch with id: "+d)})).apply(this,arguments)}function om(i,e,n){return(Ul=Ul||(0,g.Z)(function*(s,l,d){const v=In(s),O=[],j=[];for(const ne of l){let pe;const Re=v._c.get(ne);if(Re&&0!==Re.length){pe=yield mo(v.localStore,to(Re[0]));for(const ct of Re){const yt=v.wc.get(ct),Jt=yield ig(v,yt);Jt.snapshot&&j.push(Jt.snapshot)}}else{const ct=yield Gu(v.localStore,ne);pe=yield mo(v.localStore,ct),yield A_(v,am(ct),ne,!1,pe.resumeToken)}O.push(pe)}return v.dc.nu(j),O})).apply(this,arguments)}function am(i){return Eh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function N_(i){const e=In(i);return In(In(e.localStore).persistence).$i()}function og(i,e,n,s){return(Vo=Vo||(0,g.Z)(function*(l,d,v,O){const j=In(l);if(j.vc)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const ne=j._c.get(d);if(ne&&ne.length>0)switch(v){case"current":case"not-current":{const pe=yield Ns(j.localStore,Nu(ne[0])),Re=dc.createSynthesizedRemoteEventForCurrentChange(d,"current"===v,st.EMPTY_BYTE_STRING);yield Bd(j,pe,Re);break}case"rejected":yield Dl(j.localStore,d,!0),Yr(j,d,O);break;default:Fn()}})).apply(this,arguments)}function ey(i,e,n){return(sl=sl||(0,g.Z)(function*(s,l,d){const v=ag(s);if(v.vc){for(const O of l){if(v._c.has(O)){Xt("SyncEngine","Adding an already active target "+O);continue}const j=yield Gu(v.localStore,O),ne=yield mo(v.localStore,j);yield A_(v,am(j),ne.targetId,!1,ne.resumeToken),up(v.remoteStore,ne)}for(const O of d)v._c.has(O)&&(yield Dl(v.localStore,O,!1).then(()=>{wf(v.remoteStore,O),Yr(v,O)}).catch(Da))}})).apply(this,arguments)}function ag(i){const e=In(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Df.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vb.bind(null,e),e.dc.nu=w_.bind(null,e.eventManager),e.dc.Pc=Nb.bind(null,e.eventManager),e}function lg(i){const e=In(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P_.bind(null,e),e}class mp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,g.Z)(function*(){n.serializer=Zp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Pc(this.persistence,new Wp,e.initialUser,this.serializer)}createPersistence(e){return new Ur(no.zs,this.serializer)}createSharedClientState(e){return new d_}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cg extends mp{constructor(e,n,s){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,g.Z)(function*(){yield n().call(s,e),yield s.Vc.initialize(s,e),yield lg(s.Vc.syncEngine),yield If(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Pc(this.persistence,new Wp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Jf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new vh(n,this.persistence);return new bc(e.asyncQueue,s)}createPersistence(e){const n=fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?xl.withCacheSize(this.cacheSizeBytes):xl.DEFAULT;return new Tl(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Zm(),Ef(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new d_}}class L_ extends cg{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,g.Z)(function*(){var l;yield n().call(s,e);const d=s.Vc.syncEngine;s.sharedClientState instanceof Bh&&(s.sharedClientState.syncEngine={jr:k_.bind(null,d),zr:og.bind(null,d),Wr:ey.bind(null,d),$i:N_.bind(null,d),Qr:pp.bind(null,d)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(v){return(l=l||(0,g.Z)(function*(O){yield function sg(i,e){return(nc=nc||(0,g.Z)(function*(n,s){const l=In(n);if(ag(l),lg(l),!0===s&&!0!==l.vc){const d=l.sharedClientState.getAllActiveQueryTargets(),v=yield om(l,d.toArray());l.vc=!0,yield tg(l.remoteStore,!0);for(const O of v)up(l.remoteStore,O)}else if(!1===s&&!1!==l.vc){const d=[];let v=Promise.resolve();l._c.forEach((O,j)=>{l.sharedClientState.isLocalQueryTarget(j)?d.push(j):v=v.then(()=>(Yr(l,j),Dl(l.localStore,j,!0))),wf(l.remoteStore,j)}),yield v,yield om(l,d),function(O){const j=In(O);j.yc.forEach((ne,pe)=>{wf(j.remoteStore,pe)}),j.Ic.Ts(),j.yc=new Map,j.gc=new oi(rn.comparator)}(l),l.vc=!1,yield tg(l.remoteStore,!1)}})).apply(this,arguments)}(s.Vc.syncEngine,O),s.gcScheduler&&(O&&!s.gcScheduler.started?s.gcScheduler.start():O||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(O&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():O||s.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const n=Zm();if(!Bh.D(n))throw new x(Ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bh(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class zh{initialize(e,n){var s=this;return(0,g.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>fp(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=sm.bind(null,s.syncEngine),yield tg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new E_}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),s=new h_(e.databaseInfo);return new f_(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,l=e.asyncQueue,d=O=>fp(this.syncEngine,O,0),v=bf.D()?new bf:new yf,new Wv(n,s,l,d,v);var n,s,l,d,v}createSyncEngine(e,n){return function(s,l,d,v,O,j,ne){const pe=new Qv(s,l,d,v,O,j);return ne&&(pe.vc=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||(0,g.Z)(function*(s){const l=In(s);Xt("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield cp(l),l.Pu.shutdown(),l.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function ug(i,e=10240){let n=0;return{read:()=>(0,g.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ny{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new R,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,g.Z)(function*(){const n=yield e.kc();if(null===n)return null;const s=e.xc.decode(n),l=Number(s);isNaN(l)&&e.Mc(`length string (${s}) is not valid number`);const d=yield e.$c(l);return new em(JSON.parse(d),n.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,g.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}$c(e){var n=this;return(0,g.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const s=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,g.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class nu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,g.Z)(function*(){var s;if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new x(Ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield function(d,v){return(s=s||(0,g.Z)(function*(O,j){const ne=In(O),pe=Hf(ne.serializer)+"/documents",Re={documents:j.map(wn=>nh(ne.serializer,wn))},ct=yield ne.vo("BatchGetDocuments",pe,Re,j.length),yt=new Map;ct.forEach(wn=>{const Dn=function Rh(i,e){return"found"in e?function(n,s){Zn(!!s.found);const l=Zl(n,s.found.name),d=Wo(s.found.updateTime),v=s.found.createTime?Wo(s.found.createTime):Un.min(),O=new M({mapValue:{fields:s.found.fields}});return ue.newFoundDocument(l,d,v,O)}(i,e):"missing"in e?function(n,s){Zn(!!s.missing),Zn(!!s.readTime);const l=Zl(n,s.missing),d=Wo(s.readTime);return ue.newNoDocument(l,d)}(i,e):Fn()}(ne.serializer,wn);yt.set(Dn.key.toString(),Dn)});const Jt=[];return j.forEach(wn=>{const Dn=yt.get(wn.toString());Zn(!!Dn),Jt.push(Dn)}),Jt})).apply(this,arguments)}(n.datastore,e);return l.forEach(d=>n.recordVersion(d)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){var n;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const s=e.readVersions;e.mutations.forEach(l=>{s.delete(l.key.toString())}),s.forEach((l,d)=>{const v=rn.fromPath(d);e.mutations.push(new B(v,e.precondition(v)))}),yield function(l,d){return(n=n||(0,g.Z)(function*(v,O){const j=In(v),ne=Hf(j.serializer)+"/documents",pe={writes:O.map(Re=>rh(j.serializer,Re))};yield j.Io("Commit",ne,pe)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Fn();n=Un.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new x(Ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Un.min())?ys.exists(!1):ys.updateTime(n):ys.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Un.min()))throw new x(Ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ys.updateTime(n)}return ys.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ry{constructor(e,n,s,l,d){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=d,this.Bc=s.maxAttempts,this.qo=new ap(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,g.Z)(function*(){const n=new nu(e.datastore),s=e.qc(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Uc(d)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const n=this.updateFunction(e);return!ra(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!it(n)}return!1}}class iy{constructor(e,n,s,l){var v,d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Cs.UNAUTHENTICATED,this.clientId=Bi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(O){return(v=v||(0,g.Z)(function*(j){Xt("FirestoreClient","Received user=",j.uid),yield d.authCredentialListener(j),d.user=j})).apply(this,arguments)}),this.appCheckCredentials.start(s,O=>(Xt("FirestoreClient","Received new app check token=",O),this.appCheckCredentialListener(O,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new R;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=Wu(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function dg(i,e){return(vc=vc||(0,g.Z)(function*(n,s){var l;n.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const d=yield n.getConfiguration();yield s.initialize(d);let v=d.initialUser;n.setCredentialChangeListener(function(O){return(l=l||(0,g.Z)(function*(j){v.isEqual(j)||(yield rp(s.localStore,j),v=j)})).apply(this,arguments)}),s.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=s})).apply(this,arguments)}function gp(i,e){return(Uc=Uc||(0,g.Z)(function*(n,s){n.asyncQueue.verifyOperationInProgress();const l=yield fg(n);Xt("FirestoreClient","Initializing OnlineComponentProvider");const d=yield n.getConfiguration();yield s.initialize(l,d),n.setCredentialChangeListener(v=>eg(s.remoteStore,v)),n.setAppCheckTokenChangeListener((v,O)=>eg(s.remoteStore,O)),n._onlineComponents=s})).apply(this,arguments)}function hg(i){return"FirebaseError"===i.name?i.code===Ot.FAILED_PRECONDITION||i.code===Ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function fg(i){return(Bc=Bc||(0,g.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dg(e,e._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!hg(s))throw s;Io("Error using user provided cache. Falling back to memory cache: "+s),yield dg(e,new mp)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield dg(e,new mp);return e._offlineComponents})).apply(this,arguments)}function cm(i){return(jc=jc||(0,g.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield gp(e,e._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield gp(e,new zh))),e._onlineComponents})).apply(this,arguments)}function V_(i){return fg(i).then(e=>e.persistence)}function _p(i){return fg(i).then(e=>e.localStore)}function U_(i){return cm(i).then(e=>e.remoteStore)}function pg(i){return cm(i).then(e=>e.syncEngine)}function Sf(i){return(Yt=Yt||(0,g.Z)(function*(e){const n=yield cm(e),s=n.eventManager;return s.onListen=Lb.bind(null,n.syncEngine),s.onUnlisten=M_.bind(null,n.syncEngine),s})).apply(this,arguments)}function B_(i,e,n={}){const s=new R;return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(l,d,v,O,j){const ne=new lm({next:Re=>{d.enqueueAndForget(()=>Hh(l,pe));const ct=Re.docs.has(v);!ct&&Re.fromCache?j.reject(new x(Ot.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&Re.fromCache&&O&&"server"===O.source?j.reject(new x(Ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Re)},error:Re=>j.reject(Re)}),pe=new hh(Sd(v.path),ne,{includeMetadataChanges:!0,Ku:!0});return dp(l,pe)}(yield Sf(i),i.asyncQueue,e,n,s)})),s.promise}function dm(i,e,n={}){const s=new R;return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(l,d,v,O,j){const ne=new lm({next:Re=>{d.enqueueAndForget(()=>Hh(l,pe)),Re.fromCache&&"server"===O.source?j.reject(new x(Ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Re)},error:Re=>j.reject(Re)}),pe=new hh(v,ne,{includeMetadataChanges:!0,Ku:!0});return dp(l,pe)}(yield Sf(i),i.asyncQueue,e,n,s)})),s.promise}function mg(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const vp=new Map;function yp(i,e,n){if(!n)throw new x(Ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function uy(i,e,n,s){if(!0===e&&!0===s)throw new x(Ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gg(i){if(!rn.isDocumentKey(i))throw new x(Ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _g(i){if(rn.isDocumentKey(i))throw new x(Ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Fn()}function ji(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new x(Ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(i);throw new x(Ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function hm(i,e){if(e<=0)throw new x(Ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gd{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new x(Ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(Ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=mg(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new x(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new x(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new x(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ep{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(Ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(Ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gd(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new P;switch(n.type){case"firstParty":return new gt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new x(Ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=vp.get(e);n&&(Xt("ComponentProvider","Removing Datastore"),vp.delete(e),n.terminate())}(this),Promise.resolve()}}function z_(i,e,n,s={}){var l;const d=(i=ji(i,Ep))._getSettings(),v=`${e}:${n}`;if("firestore.googleapis.com"!==d.host&&d.host!==v&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:v,ssl:!1})),s.mockUserToken){let O,j;if("string"==typeof s.mockUserToken)O=s.mockUserToken,j=Cs.MOCK_USER;else{O=(0,ye.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const ne=s.mockUserToken.sub||s.mockUserToken.user_id;if(!ne)throw new x(Ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new Cs(ne)}i._authCredentials=new Q(new U(O,j))}}class Ao{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ao(this.firestore,e,this._key)}}class Al{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Al(this.firestore,e,this._query)}}class qu extends Al{constructor(e,n,s){super(e,n,Sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ao(this.firestore,null,new rn(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function dy(i,e,...n){if(i=(0,ye.m9)(i),yp("collection","path",e),i instanceof Ep){const s=gi.fromString(e,...n);return _g(s),new qu(i,null,s)}{if(!(i instanceof Ao||i instanceof qu))throw new x(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gi.fromString(e,...n));return _g(s),new qu(i.firestore,null,s)}}function fm(i,e){if(i=ji(i,Ep),yp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new x(Ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Al(i,null,(n=e,new Dc(gi.emptyPath(),n)));var n}function Af(i,e,...n){if(i=(0,ye.m9)(i),1===arguments.length&&(e=Bi.A()),yp("doc","path",e),i instanceof Ep){const s=gi.fromString(e,...n);return gg(s),new Ao(i,null,new rn(s))}{if(!(i instanceof Ao||i instanceof qu))throw new x(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(gi.fromString(e,...n));return gg(s),new Ao(i.firestore,i instanceof qu?i.converter:null,new rn(s))}}function $_(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),(i instanceof Ao||i instanceof qu)&&(e instanceof Ao||e instanceof qu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Mf(i,e){return i=(0,ye.m9)(i),e=(0,ye.m9)(e),i instanceof Al&&e instanceof Al&&i.firestore===e.firestore&&_n(i._query,e._query)&&i.converter===e.converter}class Ub{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ap(this,"async_queue_retry"),this.Xc=()=>{const n=Ef();n&&Xt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ef();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ef();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new R;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,g.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!jl(n))throw n;Xt("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(d){let v=d.message||"";return d.stack&&(v=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),v}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const l=Jp.createAndSchedule(this,e,n,s,d=>this.na(d));return this.zc.push(l),l}Zc(){this.Wc&&Fn()}verifyOperationInProgress(){}sa(){var e=this;return(0,g.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function vg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class G_{constructor(){this._progressObserver={},this._taskCompletionResolver=new R,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const W_=-1;class go extends Ep{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Ub,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rf(this),this._firestoreClient.terminate()}}function q_(i,e){const n="object"==typeof i?i:(0,z.getApp)(),s="string"==typeof i?i:e||"(default)",l=(0,z._getProvider)(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const d=(0,ye.P0)("firestore");d&&z_(l,...d)}return l}function ua(i){return i._firestoreClient||Rf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Rf(i){var e,n,s;const l=i._freezeSettings(),d=(O=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Os(i._databaseId,O,i._persistenceKey,(ne=l).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,mg(ne.experimentalLongPollingOptions),ne.useFetchStreams));var O,ne;i._firestoreClient=new iy(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(n=l.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function hy(i,e){Z_(i=ji(i,go));const n=ua(i);if(n._uninitializedComponentsProvider)throw new x(Ot.FAILED_PRECONDITION,"SDK cache is already specified.");Io("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new zh;return yg(n,l,new cg(l,s.cacheSizeBytes,e?.forceOwnership))}function K_(i){Z_(i=ji(i,go));const e=ua(i);if(e._uninitializedComponentsProvider)throw new x(Ot.FAILED_PRECONDITION,"SDK cache is already specified.");Io("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new zh;return yg(e,s,new L_(s,n.cacheSizeBytes))}function yg(i,e,n){const s=new R;return i.asyncQueue.enqueue((0,g.Z)(function*(){try{yield dg(i,n),yield gp(i,e),s.resolve()}catch(l){const d=l;if(!hg(d))throw d;Io("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function fy(i){if(i._initialized&&!i._terminated)throw new x(Ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new R;return i._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{var n;yield function(s){return(n=n||(0,g.Z)(function*(l){if(!xs.D())return Promise.resolve();const d=l+"main";yield xs.delete(d)})).apply(this,arguments)}(fc(i._databaseId,i._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function py(i){return function(e){const n=new R;return e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Jv(i,e){return(su=su||(0,g.Z)(function*(n,s){const l=In(n);uh(l.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const d=yield function(O){const j=In(O);return j.persistence.runTransaction("Get highest unacknowledged batch id","readonly",ne=>j.mutationQueue.getHighestUnacknowledgedBatchId(ne))}(l.localStore);if(-1===d)return void s.resolve();const v=l.Ec.get(d)||[];v.push(s),l.Ec.set(d,v)}catch(d){const v=Wu(d,"Initialization of waitForPendingWrites() operation failed");s.reject(v)}})).apply(this,arguments)}(yield pg(e),n)})),n.promise}(ua(i=ji(i,go)))}function wp(i){return function sy(i){return i.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield V_(i),n=yield U_(i);return e.setNetworkEnabled(!0),function(s){const l=In(s);return l.vu.delete(0),lp(l)}(n)}))}(ua(i=ji(i,go)))}function my(i){return function oy(i){return i.asyncQueue.enqueue((0,g.Z)(function*(){var e;const n=yield V_(i),s=yield U_(i);return n.setNetworkEnabled(!1),function(l){return(e=e||(0,g.Z)(function*(d){const v=In(d);v.vu.add(0),yield cp(v),v.bu.set("Offline")})).apply(this,arguments)}(s)}))}(ua(i=ji(i,go)))}function gy(i,e){const n=ua(i=ji(i,go)),s=new G_;return function j_(i,e,n,s){const l=function(d,v){let O;return O="string"==typeof d?lr().encode(d):d,j=function(j,ne){if(j instanceof Uint8Array)return ug(j,void 0);if(j instanceof ArrayBuffer)return ug(new Uint8Array(j),void 0);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new ny(j,v);var j}(n,Zp(e));i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function F_(i,e,n){var s;const l=In(i);(function(d,v,O){return(s=s||(0,g.Z)(function*(j,ne,pe){try{const Re=yield ne.getMetadata();if(yield function(wn,Dn){const hi=In(wn),bi=Wo(Dn.createTime);return hi.persistence.runTransaction("hasNewerBundle","readonly",wr=>hi.qs.getBundleMetadata(wr,Dn.id)).then(wr=>!!wr&&wr.createTime.compareTo(bi)>=0)}(j.localStore,Re))return yield ne.close(),pe._completeWith({taskState:"Success",documentsLoaded:(wn=Re).totalDocuments,bytesLoaded:wn.totalBytes,totalDocuments:wn.totalDocuments,totalBytes:wn.totalBytes}),Promise.resolve(new Set);pe._updateProgress(C_(Re));const ct=new I_(Re,j.localStore,ne.serializer);let yt=yield ne.bc();for(;yt;){const wn=yield ct.zu(yt);wn&&pe._updateProgress(wn),yt=yield ne.bc()}const Jt=yield ct.complete();return yield Bd(j,Jt.Ju,void 0),yield function(wn,Dn){const hi=In(wn);return hi.persistence.runTransaction("Save bundle","readwrite",bi=>hi.qs.saveBundleMetadata(bi,Dn))}(j.localStore,Re),pe._completeWith(Jt.progress),Promise.resolve(Jt.Hu)}catch(Re){return Io("SyncEngine",`Loading bundle failed with ${Re}`),pe._failWith(Re),Promise.resolve(new Set)}var wn})).apply(this,arguments)})(l,e,n).then(d=>{l.sharedClientState.notifyBundleLoaded(d)})}(yield pg(i),l,s)}))}(n,i._databaseId,e,s),s}function _y(i,e){return function cy(i,e){return i.asyncQueue.enqueue((0,g.Z)(function*(){return function(n,s){const l=In(n);return l.persistence.runTransaction("Get named query","readonly",d=>l.qs.getNamedQuery(d,s))}(yield _p(i),e)}))}(ua(i=ji(i,go)),e).then(n=>n?new Al(i,null,n.query):null)}function Z_(i){if(i._initialized||i._terminated)throw new x(Ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fh(st.fromBase64String(e))}catch(n){throw new x(Ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fh(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new x(Ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $h{constructor(e){this._methodName=e}}class Gh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(Ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(Ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}}const yy=/^__.*__$/;class by{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class Q_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function X_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class pm{constructor(e,n,s,l,d,v){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===d&&this.ua(),this.fieldTransforms=d||[],this.fieldMask=v||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(X_(this.ca)&&yy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ey{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zp(e)}ya(e,n,s,l=!1){return new pm({ca:e,methodName:n,ga:s,path:$i.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(i){const e=i._freezeSettings(),n=Zp(i._databaseId);return new Ey(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Cp(i,e,n,s,l,d={}){const v=i.ya(d.merge||d.mergeFields?2:0,e,n,l);qh("Data must be an object, but it was:",v,s);const O=iv(s,v);let j,ne;if(d.merge)j=new te(v.fieldMask),ne=v.fieldTransforms;else if(d.mergeFields){const pe=[];for(const Re of d.mergeFields){const ct=Ra(e,Re,n);if(!v.contains(ct))throw new x(Ot.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);mm(pe,ct)||pe.push(ct)}j=new te(pe),ne=v.fieldTransforms.filter(Re=>j.covers(Re.field))}else j=null,ne=v.fieldTransforms;return new by(new M(O),j,ne)}class Of extends $h{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function J_(i,e,n){return new pm({ca:3,ga:e.settings.ga,methodName:i._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ev extends $h{_toFieldTransform(e){return new Ac(e.path,new cl)}isEqual(e){return e instanceof ev}}class tv extends $h{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=J_(this,e,!0),s=this.pa.map(d=>Hd(d,n)),l=new Vu(s);return new Ac(e.path,l)}isEqual(e){return this===e}}class nv extends $h{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=J_(this,e,!0),s=this.pa.map(d=>Hd(d,n)),l=new Uu(s);return new Ac(e.path,l)}isEqual(e){return this===e}}class Hb extends $h{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Bu(e.serializer,va(e.serializer,this.Ia));return new Ac(e.path,n)}isEqual(e){return this===e}}function Pf(i,e,n,s){const l=i.ya(1,e,n);qh("Data must be an object, but it was:",l,s);const d=[],v=M.empty();zl(s,(j,ne)=>{const pe=Zh(e,j,n);ne=(0,ye.m9)(ne);const Re=l.da(pe);if(ne instanceof Of)d.push(pe);else{const ct=Hd(ne,Re);null!=ct&&(d.push(pe),v.set(pe,ct))}});const O=new te(d);return new Q_(v,O,l.fieldTransforms)}function bg(i,e,n,s,l,d){const v=i.ya(1,e,n),O=[Ra(e,s,n)],j=[l];if(d.length%2!=0)throw new x(Ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<d.length;ct+=2)O.push(Ra(e,d[ct])),j.push(d[ct+1]);const ne=[],pe=M.empty();for(let ct=O.length-1;ct>=0;--ct)if(!mm(ne,O[ct])){const yt=O[ct];let Jt=j[ct];Jt=(0,ye.m9)(Jt);const wn=v.da(yt);if(Jt instanceof Of)ne.push(yt);else{const Dn=Hd(Jt,wn);null!=Dn&&(ne.push(yt),pe.set(yt,Dn))}}const Re=new te(ne);return new Q_(pe,Re,v.fieldTransforms)}function rv(i,e,n,s=!1){return Hd(n,i.ya(s?4:3,e))}function Hd(i,e){if(Ku(i=(0,ye.m9)(i)))return qh("Unsupported field value:",e,i),iv(i,e);if(i instanceof $h)return function(n,s){if(!X_(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,s){const l=[];let d=0;for(const v of n){let O=Hd(v,s.wa(d));null==O&&(O={nullValue:"NULL_VALUE"}),l.push(O),d++}return{arrayValue:{values:l}}}(i,e)}return function(n,s){if(null===(n=(0,ye.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return va(s.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=Ni.fromDate(n);return{timestampValue:Mh(s.serializer,l)}}if(n instanceof Ni){const l=new Ni(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mh(s.serializer,l)}}if(n instanceof Gh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fh)return{bytesValue:Sm(s.serializer,n._byteString)};if(n instanceof Ao){const l=s.databaseId,d=n.firestore._databaseId;if(!d.isEqual(l))throw s._a(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:jf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${bp(n)}`)}(i,e)}function iv(i,e){const n={};return Il(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zl(i,(s,l)=>{const d=Hd(l,e.ha(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function Ku(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ni||i instanceof Gh||i instanceof fh||i instanceof Ao||i instanceof $h)}function qh(i,e,n){if(!Ku(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=bp(n);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Ra(i,e,n){if((e=(0,ye.m9)(e))instanceof jd)return e._internalPath;if("string"==typeof e)return Zh(i,e);throw pc("Field path arguments must be of type string or ",i,!1,void 0,n)}const Kh=new RegExp("[~\\*/\\[\\]]");function Zh(i,e,n){if(e.search(Kh)>=0)throw pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new jd(...e.split("."))._internalPath}catch{throw pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function pc(i,e,n,s,l){const d=s&&!s.isEmpty(),v=void 0!==l;let O=`Function ${e}() called with invalid data`;n&&(O+=" (via `toFirestore()`)"),O+=". ";let j="";return(d||v)&&(j+=" (found",d&&(j+=` in field ${s}`),v&&(j+=` in document ${l}`),j+=")"),new x(Ot.INVALID_ARGUMENT,O+i+j)}function mm(i,e){return i.some(n=>n.isEqual(e))}class _d{constructor(e,n,s,l,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class kf extends _d{data(){return super.data()}}function zd(i,e){return"string"==typeof e?Zh(i,e):e instanceof jd?e._internalPath:e._delegate._internalPath}function Yh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new x(Ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ph{}class vd extends ph{}function Nf(i,e,...n){let s=[];e instanceof ph&&s.push(e),s=s.concat(n),function(l){const d=l.filter(O=>O instanceof Qh).length,v=l.filter(O=>O instanceof yd).length;if(d>1||d>0&&v>0)throw new x(Ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class yd extends vd{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new yd(e,n,s)}_apply(e){const n=this._parse(e);return Dy(e._query,n),new Al(e.firestore,e.converter,ku(e._query,n))}_parse(e){const n=Wh(e.firestore);return function(l,d,v,O,j,ne,pe){let Re;if(j.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new x(Ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){cv(pe,ne);const ct=[];for(const yt of pe)ct.push(Ty(O,l,yt));Re={arrayValue:{values:ct}}}else Re=Ty(O,l,pe)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||cv(pe,ne),Re=rv(v,"where",pe,"in"===ne||"not-in"===ne);return fn.create(j,ne,Re)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ff(i,e,n){const s=e,l=zd("where",i);return yd._create(l,s,n)}class Qh extends ph{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(s,l){let d=s;const v=l.getFlattenedFilters();for(const O of v)Dy(d,O),d=ku(d,O)}(e._query,n),new Al(e.firestore,e.converter,ku(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gm extends vd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gm(e,n)}_apply(e){const n=function(s,l,d){if(null!==s.startAt)throw new x(Ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new x(Ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new $t(l,d);return function(O,j){if(null===Ih(O)){const ne=Ch(O);null!==ne&&uv(0,ne,j.field)}}(s,v),v}(e._query,this._field,this._direction);return new Al(e.firestore,e.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new Dc(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function sv(i,e="asc"){const n=e,s=zd("orderBy",i);return gm._create(s,n)}class xp extends vd{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xp(e,n,s)}_apply(e){return new Al(e.firestore,e.converter,Ad(e._query,this._limit,this._limitType))}}function ov(i){return hm("limit",i),xp._create("limit",i,"F")}function av(i){return hm("limitToLast",i),xp._create("limitToLast",i,"L")}class Tp extends vd{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Tp(e,n,s)}_apply(e){const n=lv(e,this.type,this._docOrFields,this._inclusive);return new Al(e.firestore,e.converter,(l=n,new Dc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}function Eg(...i){return Tp._create("startAt",i,!0)}function Cy(...i){return Tp._create("startAfter",i,!1)}class wg extends vd{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new wg(e,n,s)}_apply(e){const n=lv(e,this.type,this._docOrFields,this._inclusive);return new Al(e.firestore,e.converter,(l=n,new Dc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function zb(...i){return wg._create("endBefore",i,!1)}function xy(...i){return wg._create("endAt",i,!0)}function lv(i,e,n,s){if(n[0]=(0,ye.m9)(n[0]),n[0]instanceof _d)return function(l,d,v,O,j){if(!O)throw new x(Ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ne=[];for(const pe of uc(l))if(pe.field.isKeyField())ne.push(xc(d,O.key));else{const Re=O.data.field(pe.field);if(Bn(Re))throw new x(Ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const ct=pe.field.canonicalString();throw new x(Ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ct}' (used as the orderBy) does not exist.`)}ne.push(Re)}return new Ne(ne,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=Wh(i.firestore);return function(d,v,O,j,ne,pe){const Re=d.explicitOrderBy;if(ne.length>Re.length)throw new x(Ot.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ct=[];for(let yt=0;yt<ne.length;yt++){const Jt=ne[yt];if(Re[yt].field.isKeyField()){if("string"!=typeof Jt)throw new x(Ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Jt}`);if(!ll(d)&&-1!==Jt.indexOf("/"))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Jt}' contains a slash.`);const wn=d.path.child(gi.fromString(Jt));if(!rn.isDocumentKey(wn))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${wn}' is not because it contains an odd number of segments.`);const Dn=new rn(wn);ct.push(xc(v,Dn))}else{const wn=rv(O,j,Jt);ct.push(wn)}}return new Ne(ct,pe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function Ty(i,e,n){if("string"==typeof(n=(0,ye.m9)(n))){if(""===n)throw new x(Ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ll(e)&&-1!==n.indexOf("/"))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(gi.fromString(n));if(!rn.isDocumentKey(s))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xc(i,new rn(s))}if(n instanceof Ao)return xc(i,n._key);throw new x(Ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function cv(i,e){if(!Array.isArray(i)||0===i.length)throw new x(Ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dy(i,e){if(e.isInequality()){const s=Ch(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const d=Ih(i);null!==d&&uv(0,l,d)}const n=function(s,l){for(const d of s)for(const v of d.getFlattenedFilters())if(l.indexOf(v.op)>=0)return v.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new x(Ot.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uv(i,e,n){if(!n.isEqual(e))throw new x(Ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ig{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zl(e,(l,d)=>{s[l]=this.convertValue(d,n)}),s}convertGeoPoint(e){return new Gh(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kn(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ti(e));default:return null}}convertTimestamp(e){const n=Gt(e);return new Ni(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gi.fromString(e);Zn(Fm(s));const l=new Or(s.get(1),s.get(3)),d=new rn(s.popFirst(5));return l.isEqual(n)||Jn(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Lf(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Dp extends Ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new fh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ao(this.firestore,null,n)}}class Xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends _d{constructor(e,n,s,l,d,v){super(e,n,s,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sp extends Zu{data(e={}){return super.data(e)}}class Jh{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sp(this._firestore,this._userDataWriter,s.key,s,new Xh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(Ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(v=>({type:"added",doc:new Sp(s._firestore,s._userDataWriter,v.doc.key,v.doc,new Xh(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const O=new Sp(s._firestore,s._userDataWriter,v.doc.key,v.doc,new Xh(s._snapshot.mutatedKeys.has(v.doc.key),s._snapshot.fromCache),s.query.converter);let j=-1,ne=-1;return 0!==v.type&&(j=d.indexOf(v.doc.key),d=d.delete(v.doc.key)),1!==v.type&&(d=d.add(v.doc),ne=d.indexOf(v.doc.key)),{type:Ay(v.type),doc:O,oldIndex:j,newIndex:ne}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ay(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function My(i,e){return i instanceof Zu&&e instanceof Zu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Jh&&e instanceof Jh&&i._firestore===e._firestore&&Mf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function xg(i){i=ji(i,Ao);const e=ji(i.firestore,go);return B_(ua(e),i._key).then(n=>Dg(e,i,n))}class Yu extends Ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new fh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ao(this.firestore,null,n)}}function vm(i){i=ji(i,Ao);const e=ji(i.firestore,go),n=ua(e),s=new Yu(e);return function ay(i,e){const n=new R;return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){var s;return function(l,d,v){return(s=s||(0,g.Z)(function*(O,j,ne){try{const pe=yield function(Re,ct){const yt=In(Re);return yt.persistence.runTransaction("read document","readonly",Jt=>yt.localDocuments.getDocument(Jt,ct))}(O,j);pe.isFoundDocument()?ne.resolve(pe):pe.isNoDocument()?ne.resolve(null):ne.reject(new x(Ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(pe){const Re=Wu(pe,`Failed to get document '${j} from cache`);ne.reject(Re)}})).apply(this,arguments)}(yield _p(i),e,n)})),n.promise}(n,i._key).then(l=>new Zu(e,s,i._key,l,new Xh(null!==l&&l.hasLocalMutations,!0),i.converter))}function $b(i){i=ji(i,Ao);const e=ji(i.firestore,go);return B_(ua(e),i._key,{source:"server"}).then(n=>Dg(e,i,n))}function Ry(i){i=ji(i,Al);const e=ji(i.firestore,go),n=ua(e),s=new Yu(e);return Yh(i._query),dm(n,i._query).then(l=>new Jh(e,s,i,l))}function Oy(i){i=ji(i,Al);const e=ji(i.firestore,go),n=ua(e),s=new Yu(e);return function md(i,e){const n=new R;return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){var s;return function(l,d,v){return(s=s||(0,g.Z)(function*(O,j,ne){try{const pe=yield Sl(O,j,!0),Re=new D_(j,pe.ir),ct=Re.sc(pe.documents),yt=Re.applyChanges(ct,!1);ne.resolve(yt.snapshot)}catch(pe){const Re=Wu(pe,`Failed to execute query '${j} against cache`);ne.reject(Re)}})).apply(this,arguments)}(yield _p(i),e,n)})),n.promise}(n,i._query).then(l=>new Jh(e,s,i,l))}function Tg(i){i=ji(i,Al);const e=ji(i.firestore,go),n=ua(e),s=new Yu(e);return dm(n,i._query,{source:"server"}).then(l=>new Jh(e,s,i,l))}function Py(i,e,n){i=ji(i,Ao);const s=ji(i.firestore,go),l=Lf(i.converter,e,n);return ef(s,[Cp(Wh(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,ys.none())])}function pv(i,e,n,...s){i=ji(i,Ao);const l=ji(i.firestore,go),d=Wh(l);let v;return v="string"==typeof(e=(0,ye.m9)(e))||e instanceof jd?bg(d,"updateDoc",i._key,e,n,s):Pf(d,"updateDoc",i._key,e),ef(l,[v.toMutation(i._key,ys.exists(!0))])}function ky(i){return ef(ji(i.firestore,go),[new Pd(i._key,ys.none())])}function Ny(i,e){const n=ji(i.firestore,go),s=Af(i),l=Lf(i.converter,e);return ef(n,[Cp(Wh(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,ys.exists(!1))]).then(()=>s)}function mv(i,...e){var n,s,l;i=(0,ye.m9)(i);let d={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||vg(e[v])||(d=e[v],v++);const O={includeMetadataChanges:d.includeMetadataChanges};if(vg(e[v])){const Re=e[v];e[v]=null===(n=Re.next)||void 0===n?void 0:n.bind(Re),e[v+1]=null===(s=Re.error)||void 0===s?void 0:s.bind(Re),e[v+2]=null===(l=Re.complete)||void 0===l?void 0:l.bind(Re)}let j,ne,pe;if(i instanceof Ao)ne=ji(i.firestore,go),pe=Sd(i._key.path),j={next:Re=>{e[v]&&e[v](Dg(ne,i,Re))},error:e[v+1],complete:e[v+2]};else{const Re=ji(i,Al);ne=ji(Re.firestore,go),pe=Re._query;const ct=new Yu(ne);j={next:yt=>{e[v]&&e[v](new Jh(ne,ct,Re,yt))},error:e[v+1],complete:e[v+2]},Yh(i._query)}return function(Re,ct,yt,Jt){const wn=new lm(Jt),Dn=new hh(ct,wn,yt);return Re.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return dp(yield Sf(Re),Dn)})),()=>{wn.Dc(),Re.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Hh(yield Sf(Re),Dn)}))}}(ua(ne),pe,O,j)}function gv(i,e){return function ly(i,e){const n=new lm(e);return i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return s=yield Sf(i),l=n,In(s).ku.add(l),void l.next();var s,l})),()=>{n.Dc(),i.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return s=yield Sf(i),l=n,void In(s).ku.delete(l);var s,l}))}}(ua(i=ji(i,go)),vg(e)?e:{next:e})}function ef(i,e){return function(n,s){const l=new R;return n.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function R_(i,e,n){return(Ca=Ca||(0,g.Z)(function*(s,l,d){const v=lg(s);try{const O=yield function(j,ne){const pe=In(j),Re=Ni.now(),ct=ne.reduce((wn,Dn)=>wn.add(Dn.key),ni());let yt,Jt;return pe.persistence.runTransaction("Locally write mutations","readwrite",wn=>{let Dn=ks(),hi=ni();return pe.Zi.getEntries(wn,ct).next(bi=>{Dn=bi,Dn.forEach((wr,ai)=>{ai.isValidDocument()||(hi=hi.add(wr))})}).next(()=>pe.localDocuments.getOverlayedDocuments(wn,Dn)).next(bi=>{yt=bi;const wr=[];for(const ai of ne){const ms=Od(ai,yt.get(ai.key).overlayedDocument);null!=ms&&wr.push(new Cl(ai.key,ms,se(ms.value.mapValue),ys.exists(!0)))}return pe.mutationQueue.addMutationBatch(wn,Re,wr,ne)}).next(bi=>{Jt=bi;const wr=bi.applyToLocalDocumentSet(yt,hi);return pe.documentOverlayCache.saveOverlays(wn,bi.batchId,wr)})}).then(()=>({batchId:Jt.batchId,changes:Xd(yt)}))}(v.localStore,l);v.sharedClientState.addPendingMutation(O.batchId),function(j,ne,pe){let Re=j.Tc[j.currentUser.toKey()];Re||(Re=new oi(Tn)),Re=Re.insert(ne,pe),j.Tc[j.currentUser.toKey()]=Re}(v,O.batchId,d),yield Bd(v,O.changes),yield If(v.remoteStore)}catch(O){const j=Wu(O,"Failed to persist write");d.reject(j)}})).apply(this,arguments)}(yield pg(n),s,l)})),l.promise}(ua(i),e)}function Dg(i,e,n){const s=n.docs.get(e._key),l=new Yu(i);return new Zu(i,l,e._key,s,new Xh(n.hasPendingWrites,n.fromCache),e.converter)}const Og={maxAttempts:5};class Pg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wh(e)}set(e,n,s){this._verifyNotCommitted();const l=$d(e,this._firestore),d=Lf(l.converter,n,s),v=Cp(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(v.toMutation(l._key,ys.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const d=$d(e,this._firestore);let v;return v="string"==typeof(n=(0,ye.m9)(n))||n instanceof jd?bg(this._dataReader,"WriteBatch.update",d._key,n,s,l):Pf(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(v.toMutation(d._key,ys.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$d(e,this._firestore);return this._mutations=this._mutations.concat(new Pd(n._key,ys.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(Ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $d(i,e){if((i=(0,ye.m9)(i)).firestore!==e)throw new x(Ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wh(e)}get(e){const n=$d(e,this._firestore),s=new Dp(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Fn();const d=l[0];if(d.isFoundDocument())return new _d(this._firestore,s,d.key,d,n.converter);if(d.isNoDocument())return new _d(this._firestore,s,n._key,null,n.converter);throw Fn()})}set(e,n,s){const l=$d(e,this._firestore),d=Lf(l.converter,n,s),v=Cp(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,v),this}update(e,n,s,...l){const d=$d(e,this._firestore);let v;return v="string"==typeof(n=(0,ye.m9)(n))||n instanceof jd?bg(this._dataReader,"Transaction.update",d._key,n,s,l):Pf(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,v),this}delete(e){const n=$d(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$d(e,this._firestore),s=new Yu(this._firestore);return super.get(e).then(l=>new Zu(this._firestore,s,n._key,l._document,new Xh(!1,!1),n.converter))}}function zy(i,e,n){i=ji(i,go);const s=Object.assign(Object.assign({},Og),n);return function(l){if(l.maxAttempts<1)throw new x(Ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,d,v){const O=new R;return l.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const j=yield function um(i){return cm(i).then(e=>e.datastore)}(l);new ry(l.asyncQueue,j,v,d,O).run()})),O.promise}(ua(i),l=>e(new Hy(i,l)),s)}function bv(){return new Of("deleteField")}function kg(){return new ev("serverTimestamp")}function Ev(...i){return new tv("arrayUnion",i)}function Ng(...i){return new nv("arrayRemove",i)}function Fg(i){return new Hb("increment",i)}!function(i,e=!0){xa=z.SDK_VERSION,(0,z._registerComponent)(new ie.wA("firestore",(n,{instanceIdentifier:s,options:l})=>{const d=n.getProvider("app").getImmediate(),v=new go(new he(n.getProvider("auth-internal")),new Ut(n.getProvider("app-check-internal")),function(O,j){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new x(Ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Or(O.options.projectId,j)}(d,s),d);return l=Object.assign({useFetchStreams:e},l),v._setSettings(l),v},"PUBLIC").setMultipleInstances(!0)),(0,z.registerVersion)(di,"3.13.0",i),(0,z.registerVersion)(di,"3.13.0","esm2017")}()},9058:(on,et,V)=>{V.d(et,{$s:()=>un,BH:()=>Oe,G6:()=>Hn,L:()=>Fe,LL:()=>at,P0:()=>xt,Pz:()=>Ge,Sg:()=>Ke,UG:()=>kt,US:()=>Se,ZB:()=>$e,ZR:()=>It,aH:()=>xe,b$:()=>tn,eu:()=>Et,hl:()=>dt,jU:()=>pn,m9:()=>_i,ne:()=>or,pd:()=>Vn,q4:()=>Kt,r3:()=>Ln,ru:()=>cn,tV:()=>ce,uI:()=>Qe,vZ:()=>wi,w1:()=>Br,xO:()=>Cr,xb:()=>ii,z$:()=>Dt,zI:()=>ot,zd:()=>An});const b=function(ge){const q=[];let N=0;for(let L=0;L<ge.length;L++){let F=ge.charCodeAt(L);F<128?q[N++]=F:F<2048?(q[N++]=F>>6|192,q[N++]=63&F|128):55296==(64512&F)&&L+1<ge.length&&56320==(64512&ge.charCodeAt(L+1))?(F=65536+((1023&F)<<10)+(1023&ge.charCodeAt(++L)),q[N++]=F>>18|240,q[N++]=F>>12&63|128,q[N++]=F>>6&63|128,q[N++]=63&F|128):(q[N++]=F>>12|224,q[N++]=F>>6&63|128,q[N++]=63&F|128)}return q},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,q){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let F=0;F<ge.length;F+=3){const le=ge[F],ze=F+1<ge.length,mt=ze?ge[F+1]:0,an=F+2<ge.length,Ht=an?ge[F+2]:0;let qn=(15&mt)<<2|Ht>>6,ur=63&Ht;an||(ur=64,ze||(qn=64)),L.push(N[le>>2],N[(3&le)<<4|mt>>4],N[qn],N[ur])}return L.join("")},encodeString(ge,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(ge):this.encodeByteArray(b(ge),q)},decodeString(ge,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(ge):function(ge){const q=[];let N=0,L=0;for(;N<ge.length;){const F=ge[N++];if(F<128)q[L++]=String.fromCharCode(F);else if(F>191&&F<224){const le=ge[N++];q[L++]=String.fromCharCode((31&F)<<6|63&le)}else if(F>239&&F<365){const an=((7&F)<<18|(63&ge[N++])<<12|(63&ge[N++])<<6|63&ge[N++])-65536;q[L++]=String.fromCharCode(55296+(an>>10)),q[L++]=String.fromCharCode(56320+(1023&an))}else{const le=ge[N++],ze=ge[N++];q[L++]=String.fromCharCode((15&F)<<12|(63&le)<<6|63&ze)}}return q.join("")}(this.decodeStringToByteArray(ge,q))},decodeStringToByteArray(ge,q){this.init_();const N=q?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let F=0;F<ge.length;){const le=N[ge.charAt(F++)],mt=F<ge.length?N[ge.charAt(F)]:0;++F;const Ht=F<ge.length?N[ge.charAt(F)]:64;++F;const yn=F<ge.length?N[ge.charAt(F)]:64;if(++F,null==le||null==mt||null==Ht||null==yn)throw new Le;L.push(le<<2|mt>>4),64!==Ht&&(L.push(mt<<4&240|Ht>>2),64!==yn&&L.push(Ht<<6&192|yn))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(ge){return function(ge){const q=b(ge);return Se.encodeByteArray(q,!0)}(ge).replace(/\./g,"")},ce=function(ge){try{return Se.decodeString(ge,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function $e(ge,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return q}for(const N in q)!q.hasOwnProperty(N)||!lt(N)||(ge[N]=$e(ge[N],q[N]));return ge}function lt(ge){return"__proto__"!==ge}const St=()=>{try{return function ht(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=ge&&ce(ge[1]);return q&&JSON.parse(q)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Kt=ge=>{var q,N;return null===(N=null===(q=St())||void 0===q?void 0:q.emulatorHosts)||void 0===N?void 0:N[ge]},xt=ge=>{const q=Kt(ge);if(!q)return;const N=q.lastIndexOf(":");if(N<=0||N+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const L=parseInt(q.substring(N+1),10);return"["===q[0]?[q.substring(1,N-1),L]:[q.substring(0,N),L]},xe=()=>{var ge;return null===(ge=St())||void 0===ge?void 0:ge.config},Ge=ge=>{var q;return null===(q=St())||void 0===q?void 0:q[`_${ge}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,N)=>{this.resolve=q,this.reject=N})}wrapCallback(q){return(N,L)=>{N?this.reject(N):this.resolve(L),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(N):q(N,L))}}}function Ke(ge,q){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=q||"demo-project",F=ge.iat||0,le=ge.sub||ge.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ze=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:F,exp:F+3600,auth_time:F,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(ze)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function kt(){var ge;const q=null===(ge=St())||void 0===ge?void 0:ge.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pn(){return"object"==typeof self&&self.self===self}function cn(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Br(){const ge=Dt();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Hn(){return!kt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dt(){try{return"object"==typeof indexedDB}catch{return!1}}function Et(){return new Promise((ge,q)=>{try{let N=!0;const L="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(L);F.onsuccess=()=>{F.result.close(),N||self.indexedDB.deleteDatabase(L),ge(!0)},F.onupgradeneeded=()=>{N=!1},F.onerror=()=>{var le;q((null===(le=F.error)||void 0===le?void 0:le.message)||"")}}catch(N){q(N)}})}function ot(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class It extends Error{constructor(q,N,L){super(N),this.code=q,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(q,N,L){this.service=q,this.serviceName=N,this.errors=L}create(q,...N){const L=N[0]||{},F=`${this.service}/${q}`,le=this.errors[q],ze=le?function Ft(ge,q){return ge.replace(Ct,(N,L)=>{const F=q[L];return null!=F?String(F):`<${L}?>`})}(le,L):"Error";return new It(F,`${this.serviceName}: ${ze} (${F}).`,L)}}const Ct=/\{\$([^}]+)}/g;function Ln(ge,q){return Object.prototype.hasOwnProperty.call(ge,q)}function ii(ge){for(const q in ge)if(Object.prototype.hasOwnProperty.call(ge,q))return!1;return!0}function wi(ge,q){if(ge===q)return!0;const N=Object.keys(ge),L=Object.keys(q);for(const F of N){if(!L.includes(F))return!1;const le=ge[F],ze=q[F];if(zr(le)&&zr(ze)){if(!wi(le,ze))return!1}else if(le!==ze)return!1}for(const F of L)if(!N.includes(F))return!1;return!0}function zr(ge){return null!==ge&&"object"==typeof ge}function Cr(ge){const q=[];for(const[N,L]of Object.entries(ge))Array.isArray(L)?L.forEach(F=>{q.push(encodeURIComponent(N)+"="+encodeURIComponent(F))}):q.push(encodeURIComponent(N)+"="+encodeURIComponent(L));return q.length?"&"+q.join("&"):""}function An(ge){const q={};return ge.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[F,le]=L.split("=");q[decodeURIComponent(F)]=decodeURIComponent(le)}}),q}function Vn(ge){const q=ge.indexOf("?");if(!q)return"";const N=ge.indexOf("#",q);return ge.substring(q,N>0?N:void 0)}function or(ge,q){const N=new pr(ge,q);return N.subscribe.bind(N)}class pr{constructor(q,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{q(this)}).catch(L=>{this.error(L)})}next(q){this.forEachObserver(N=>{N.next(q)})}error(q){this.forEachObserver(N=>{N.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,N,L){let F;if(void 0===q&&void 0===N&&void 0===L)throw new Error("Missing Observer.");F=function _r(ge,q){if("object"!=typeof ge||null===ge)return!1;for(const N of q)if(N in ge&&"function"==typeof ge[N])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:N,complete:L},void 0===F.next&&(F.next=mr),void 0===F.error&&(F.error=mr),void 0===F.complete&&(F.complete=mr);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),le}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,q)}sendOne(q,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{N(this.observers[q])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mr(){}const wt=1e3,qe=2,rt=144e5,Nt=.5;function un(ge,q=wt,N=qe){const L=q*Math.pow(N,ge),F=Math.round(Nt*L*(Math.random()-.5)*2);return Math.min(rt,L+F)}function _i(ge){return ge&&ge._delegate?ge._delegate:ge}},2333:(on,et,V)=>{V.d(et,{F:()=>ie});var g=V(5879),z=V(9790);let ie=(()=>{var b;class ye{constructor(Le){this.router=Le}setElementInLocalstorage(Le,Ae){return localStorage.setItem(Le,JSON.stringify(Ae))}getElementFromLocalStorage(Le){return JSON.parse(localStorage.getItem(Le))}routerLink(Le){return this.router.navigateByUrl(Le)}}return(b=ye).\u0275fac=function(Le){return new(Le||b)(g.LFG(z.F0))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),ye})()},6999:(on,et,V)=>{V.d(et,{O:()=>Pd});var Le,Ae,Fe,$e,ht,jt,At,Rt,St,Kt,xt,Rr,Ft,Xn,Sn,jr,_r,Vi,xr,Ii,rt,cr,F,ze,mt,an,Ht,g=V(5861),z=V(9058),ie=V(534),b=V(7879),ye=V(7582),Se=V(4537);const Mn=function mn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ir=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mi=new b.Yd("@firebase/auth");function $r(B,...h){mi.logLevel<=b.in.ERROR&&mi.error(`Auth (${ie.SDK_VERSION}): ${B}`,...h)}function Hr(B,...h){throw Ys(B,...h)}function Tr(B,...h){return Ys(B,...h)}function Ys(B,...h){if("string"!=typeof B){const m=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=B.name),B._errorFactory.create(m,...T)}return ir.create(B,...h)}function nn(B,h,...m){if(!B)throw Ys(h,...m)}function Jr(B){const h="INTERNAL ASSERTION FAILED: "+B;throw $r(h),new Error(h)}function Ji(B,h){B||Jr(h)}function bs(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.href)||""}function re(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.protocol)||null}class oe{constructor(h,m){this.shortDelay=h,this.longDelay=m,Ji(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ye(){return"http:"===re()||"https:"===re()}()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(B,h){Ji(B.emulator,"Emulator should always be set here");const{url:m}=B.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class je{static initialize(h,m,T){this.fetchImpl=h,m&&(this.headersImpl=m),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new oe(3e4,6e4);function fe(B,h){return B.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:B.tenantId}):h}function Ue(B,h,m,T){return(Le=Le||(0,g.Z)(function*(Y,ae,be,Ve,it={}){return Ie(Y,it,(0,g.Z)(function*(){let Wt={},On={};Ve&&("GET"===ae?On=Ve:Wt={body:JSON.stringify(Ve)});const Yn=(0,z.xO)(Object.assign({key:Y.config.apiKey},On)).slice(1),lr=yield Y._getAdditionalHeaders();return lr["Content-Type"]="application/json",Y.languageCode&&(lr["X-Firebase-Locale"]=Y.languageCode),je.fetch()(nt(Y,Y.config.apiHost,be,Yn),Object.assign({method:ae,headers:lr,referrerPolicy:"no-referrer"},Wt))}))})).apply(this,arguments)}function Ie(B,h,m){return(Ae=Ae||(0,g.Z)(function*(T,Y,ae){T._canInitEmulator=!1;const be=Object.assign(Object.assign({},ft),Y);try{const Ve=new Bt(T),it=yield Promise.race([ae(),Ve.promise]);Ve.clearNetworkTimeout();const Wt=yield it.json();if("needConfirmation"in Wt)throw dn(T,"account-exists-with-different-credential",Wt);if(it.ok&&!("errorMessage"in Wt))return Wt;{const On=it.ok?Wt.errorMessage:Wt.error.message,[Yn,lr]=On.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yn)throw dn(T,"credential-already-in-use",Wt);if("EMAIL_EXISTS"===Yn)throw dn(T,"email-already-in-use",Wt);if("USER_DISABLED"===Yn)throw dn(T,"user-disabled",Wt);const Pi=be[Yn]||Yn.toLowerCase().replace(/[_\s]+/g,"-");if(lr)throw function cs(B,h,m){const T=Object.assign(Object.assign({},Mn()),{[h]:m});return new z.LL("auth","Firebase",T).create(h,{appName:B.name})}(T,Pi,lr);Hr(T,Pi)}}catch(Ve){if(Ve instanceof z.ZR)throw Ve;Hr(T,"network-request-failed",{message:String(Ve)})}})).apply(this,arguments)}function nt(B,h,m,T){const Y=`${h}${m}?${T}`;return B.config.emulator?_e(B.config,Y):`${B.config.apiScheme}://${Y}`}class Bt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,T)=>{this.timer=setTimeout(()=>T(Tr(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(B,h,m){const T={appName:B.name};m.email&&(T.email=m.email),m.phoneNumber&&(T.phoneNumber=m.phoneNumber);const Y=Tr(B,h,T);return Y.customData._tokenResponse=m,Y}function io(B){if(B)try{const h=new Date(Number(B));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ei(B){return 1e3*Number(B)}function Di(B){const[h,m,T]=B.split(".");if(void 0===h||void 0===m||void 0===T)return $r("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,z.tV)(m);return Y?JSON.parse(Y):($r("Failed to decode base64 JWT payload"),null)}catch(Y){return $r("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function Kr(B,h){return(At=At||(0,g.Z)(function*(m,T,Y=!1){if(Y)return T;try{return yield T}catch(ae){throw ae instanceof z.ZR&&function us({code:B}){return"auth/user-disabled"===B||"auth/user-token-expired"===B}(ae)&&m.auth.currentUser===m&&(yield m.auth.signOut()),ae}})).apply(this,arguments)}class Ss{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Y=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),T)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class ba{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Er(B){return(Rt=Rt||(0,g.Z)(function*(h){var m;const T=h.auth,Y=yield h.getIdToken(),ae=yield Kr(h,function Qs(B,h){return(ht=ht||(0,g.Z)(function*(m,T){return Ue(m,"POST","/v1/accounts:lookup",T)})).apply(this,arguments)}(T,{idToken:Y}));nn(ae?.users.length,T,"internal-error");const be=ae.users[0];h._notifyReloadListener(be);const Ve=null!==(m=be.providerUserInfo)&&void 0!==m&&m.length?function En(B){return B.map(h=>{var{providerId:m}=h,T=(0,ye._T)(h,["providerId"]);return{providerId:m,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(be.providerUserInfo):[],it=function li(B,h){return[...B.filter(T=>!h.some(Y=>Y.providerId===T.providerId)),...h]}(h.providerData,Ve),Yn=!!h.isAnonymous&&!(h.email&&be.passwordHash||it?.length),lr={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:it,metadata:new ba(be.createdAt,be.lastLoginAt),isAnonymous:Yn};Object.assign(h,lr)})).apply(this,arguments)}class ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){nn(h.idToken,"internal-error"),nn(typeof h.idToken<"u","internal-error"),nn(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ds(B){const h=Di(B);return nn(h,"internal-error"),nn(typeof h.exp<"u","internal-error"),nn(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var T=this;return(0,g.Z)(function*(){return nn(!T.accessToken||T.refreshToken,h,"user-token-expired"),m||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var T=this;return(0,g.Z)(function*(){const{accessToken:Y,refreshToken:ae,expiresIn:be}=yield function dr(B,h){return(Kt=Kt||(0,g.Z)(function*(m,T){const Y=yield Ie(m,{},(0,g.Z)(function*(){const ae=(0,z.xO)({grant_type:"refresh_token",refresh_token:T}).slice(1),{tokenApiHost:be,apiKey:Ve}=m.config,it=nt(m,be,"/v1/token",`key=${Ve}`),Wt=yield m._getAdditionalHeaders();return Wt["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(it,{method:"POST",headers:Wt,body:ae})}));return{accessToken:Y.access_token,expiresIn:Y.expires_in,refreshToken:Y.refresh_token}})).apply(this,arguments)}(h,m);T.updateTokensAndExpiration(Y,ae,Number(be))})()}updateTokensAndExpiration(h,m,T){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,m){const{refreshToken:T,accessToken:Y,expirationTime:ae}=m,be=new ci;return T&&(nn("string"==typeof T,"internal-error",{appName:h}),be.refreshToken=T),Y&&(nn("string"==typeof Y,"internal-error",{appName:h}),be.accessToken=Y),ae&&(nn("number"==typeof ae,"internal-error",{appName:h}),be.expirationTime=ae),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ci,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function Wi(B,h){nn("string"==typeof B||typeof B>"u","internal-error",{appName:h})}class Fs{constructor(h){var{uid:m,auth:T,stsTokenManager:Y}=h,ae=(0,ye._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=T,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new ba(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,g.Z)(function*(){const T=yield Kr(m,m.stsTokenManager.getToken(m.auth,h));return nn(T,m.auth,"internal-error"),m.accessToken!==T&&(m.accessToken=T,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),T})()}getIdTokenResult(h){return function yr(B){return(jt=jt||(0,g.Z)(function*(h,m=!1){const T=(0,z.m9)(h),Y=yield T.getIdToken(m),ae=Di(Y);nn(ae&&ae.exp&&ae.auth_time&&ae.iat,T.auth,"internal-error");const be="object"==typeof ae.firebase?ae.firebase:void 0,Ve=be?.sign_in_provider;return{claims:ae,token:Y,authTime:io(ei(ae.auth_time)),issuedAtTime:io(ei(ae.iat)),expirationTime:io(ei(ae.exp)),signInProvider:Ve||null,signInSecondFactor:be?.sign_in_second_factor||null}})).apply(this,arguments)}(this,h)}reload(){return function Rl(B){return(St=St||(0,g.Z)(function*(h){const m=(0,z.m9)(h);yield Er(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}(this)}_assign(h){this!==h&&(nn(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new Fs(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var T=this;return(0,g.Z)(function*(){let Y=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),Y=!0),m&&(yield Er(T)),yield T.auth._persistUserIfCurrent(T),Y&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,g.Z)(function*(){const m=yield h.getIdToken();return yield Kr(h,function vi(B,h){return($e=$e||(0,g.Z)(function*(m,T){return Ue(m,"POST","/v1/accounts:delete",T)})).apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var T,Y,ae,be,Ve,it,Wt,On;const Yn=null!==(T=m.displayName)&&void 0!==T?T:void 0,lr=null!==(Y=m.email)&&void 0!==Y?Y:void 0,Pi=null!==(ae=m.phoneNumber)&&void 0!==ae?ae:void 0,$o=null!==(be=m.photoURL)&&void 0!==be?be:void 0,po=null!==(Ve=m.tenantId)&&void 0!==Ve?Ve:void 0,So=null!==(it=m._redirectEventId)&&void 0!==it?it:void 0,ya=null!==(Wt=m.createdAt)&&void 0!==Wt?Wt:void 0,dc=null!==(On=m.lastLoginAt)&&void 0!==On?On:void 0,{uid:Aa,emailVerified:os,isAnonymous:Go,providerData:Ma,stsTokenManager:vu}=m;nn(Aa&&vu,h,"internal-error");const lf=ci.fromJSON(this.name,vu);nn("string"==typeof Aa,h,"internal-error"),Wi(Yn,h.name),Wi(lr,h.name),nn("boolean"==typeof os,h,"internal-error"),nn("boolean"==typeof Go,h,"internal-error"),Wi(Pi,h.name),Wi($o,h.name),Wi(po,h.name),Wi(So,h.name),Wi(ya,h.name),Wi(dc,h.name);const kd=new Fs({uid:Aa,auth:h,email:lr,emailVerified:os,displayName:Yn,isAnonymous:Go,photoURL:$o,phoneNumber:Pi,tenantId:po,stsTokenManager:lf,createdAt:ya,lastLoginAt:dc});return Ma&&Array.isArray(Ma)&&(kd.providerData=Ma.map(th=>Object.assign({},th))),So&&(kd._redirectEventId=So),kd}static _fromIdTokenResponse(h,m,T=!1){return(0,g.Z)(function*(){const Y=new ci;Y.updateFromServerResponse(m);const ae=new Fs({uid:m.localId,auth:h,stsTokenManager:Y,isAnonymous:T});return yield Er(ae),ae})()}}const ds=new Map;function Ls(B){Ji(B instanceof Function,"Expected a class definition");let h=ds.get(B);return h?(Ji(h instanceof B,"Instance stored in cache mismatched with class"),h):(h=new B,ds.set(B,h),h)}const Hi=(()=>{class B{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,T){var Y=this;return(0,g.Z)(function*(){Y.storage[m]=T})()}_get(m){var T=this;return(0,g.Z)(function*(){const Y=T.storage[m];return void 0===Y?null:Y})()}_remove(m){var T=this;return(0,g.Z)(function*(){delete T.storage[m]})()}_addListener(m,T){}_removeListener(m,T){}}return B.type="NONE",B})();function Ro(B,h,m){return`firebase:${B}:${h}:${m}`}class tr{constructor(h,m,T){this.persistence=h,this.auth=m,this.userKey=T;const{config:Y,name:ae}=this.auth;this.fullUserKey=Ro(this.userKey,Y.apiKey,ae),this.fullPersistenceKey=Ro("persistence",Y.apiKey,ae),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?Fs._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,g.Z)(function*(){if(m.persistence===h)return;const T=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,T?m.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,T="authUser"){return(0,g.Z)(function*(){var Y,ae;if(!m.length)return new tr(Ls(Hi),h,T);const be=(yield Promise.all(m.map(function(Yn){return(Y=Y||(0,g.Z)(function*(lr){if(yield lr._isAvailable())return lr})).apply(this,arguments)}))).filter(Yn=>Yn);let Ve=be[0]||Ls(Hi);const it=Ro(T,h.config.apiKey,h.name);let Wt=null;for(const Yn of m)try{const lr=yield Yn._get(it);if(lr){const Pi=Fs._fromJSON(h,lr);Yn!==Ve&&(Wt=Pi),Ve=Yn;break}}catch{}const On=be.filter(Yn=>Yn._shouldAllowMigration);return Ve._shouldAllowMigration&&On.length?(Ve=On[0],Wt&&(yield Ve._set(it,Wt.toJSON())),yield Promise.all(m.map(function(Yn){return(ae=ae||(0,g.Z)(function*(lr){if(lr!==Ve)try{yield lr._remove(it)}catch{}})).apply(this,arguments)})),new tr(Ve,h,T)):new tr(Ve,h,T)})()}}function Ko(B){const h=B.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Pa(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_o(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(so(h))return"Blackberry";if(oo(h))return"Webos";if(Xs(h))return"Safari";if((h.includes("chrome/")||zi(h))&&!h.includes("edge/"))return"Chrome";if(da(h))return"Android";{const T=B.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function _o(B=(0,z.z$)()){return/firefox\//i.test(B)}function Xs(B=(0,z.z$)()){const h=B.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function zi(B=(0,z.z$)()){return/crios\//i.test(B)}function Pa(B=(0,z.z$)()){return/iemobile/i.test(B)}function da(B=(0,z.z$)()){return/android/i.test(B)}function so(B=(0,z.z$)()){return/blackberry/i.test(B)}function oo(B=(0,z.z$)()){return/webos/i.test(B)}function ka(B=(0,z.z$)()){return/iphone|ipad|ipod/i.test(B)||/macintosh/i.test(B)&&/mobile/i.test(B)}function Yo(B=(0,z.z$)()){return ka(B)||da(B)||oo(B)||so(B)||/windows phone/i.test(B)||Pa(B)}function dl(B,h=[]){let m;switch(B){case"Browser":m=Ko((0,z.z$)());break;case"Worker":m=`${Ko((0,z.z$)())}-${B}`;break;default:m=B}const T=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${T}`}class nl{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const T=ae=>new Promise((be,Ve)=>{try{be(h(ae))}catch(it){Ve(it)}});T.onAbort=m,this.queue.push(T);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,g.Z)(function*(){if(m.auth.currentUser===h)return;const T=[];try{for(const Y of m.queue)yield Y(h),Y.onAbort&&T.push(Y.onAbort)}catch(Y){T.reverse();for(const ae of T)try{ae()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class _s{constructor(h){var m,T,Y,ae;const be=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=be.minPasswordLength)&&void 0!==m?m:6,be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=be.maxPasswordLength),void 0!==be.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=be.containsLowercaseCharacter),void 0!==be.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=be.containsUppercaseCharacter),void 0!==be.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=be.containsNumericCharacter),void 0!==be.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=be.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(ae=h.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=h.schemaVersion}validatePassword(h){var m,T,Y,ae,be,Ve;const it={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,it),this.validatePasswordCharacterOptions(h,it),it.isValid&&(it.isValid=null===(m=it.meetsMinPasswordLength)||void 0===m||m),it.isValid&&(it.isValid=null===(T=it.meetsMaxPasswordLength)||void 0===T||T),it.isValid&&(it.isValid=null===(Y=it.containsLowercaseLetter)||void 0===Y||Y),it.isValid&&(it.isValid=null===(ae=it.containsUppercaseLetter)||void 0===ae||ae),it.isValid&&(it.isValid=null===(be=it.containsNumericCharacter)||void 0===be||be),it.isValid&&(it.isValid=null===(Ve=it.containsNonAlphanumericCharacter)||void 0===Ve||Ve),it}validatePasswordLengthOptions(h,m){const T=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;T&&(m.meetsMinPasswordLength=h.length>=T),Y&&(m.meetsMaxPasswordLength=h.length<=Y)}validatePasswordCharacterOptions(h,m){let T;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let Y=0;Y<h.length;Y++)T=h.charAt(Y),this.updatePasswordCharacterOptionsStatuses(m,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,m,T,Y,ae){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ae))}}class ha{constructor(h,m,T,Y){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=T,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nr(this),this.idTokenSubscription=new Nr(this),this.beforeStateQueue=new nl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ir,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(h,m){var T=this;return m&&(this._popupRedirectResolver=Ls(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Y,ae;if(!T._deleted&&(T.persistenceManager=yield tr.create(T,h),!T._deleted)){if(null!==(Y=T._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(m),T.lastNotifiedUid=(null===(ae=T.currentUser)||void 0===ae?void 0:ae.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,g.Z)(function*(){var T;const Y=yield m.assertedPersistence.getCurrentUser();let ae=Y,be=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ve=null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId,it=ae?._redirectEventId,Wt=yield m.tryRedirectSignIn(h);(!Ve||Ve===it)&&Wt?.user&&(ae=Wt.user,be=!0)}if(!ae)return m.directlySetCurrentUser(null);if(!ae._redirectEventId){if(be)try{yield m.beforeStateQueue.runMiddleware(ae)}catch(Ve){ae=Y,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ve))}return ae?m.reloadAndSetCurrentUserOrClear(ae):m.directlySetCurrentUser(null)}return nn(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ae._redirectEventId?m.directlySetCurrentUser(ae):m.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(h){var m=this;return(0,g.Z)(function*(){let T=null;try{T=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,g.Z)(function*(){try{yield Er(h)}catch(T){if("auth/network-request-failed"!==T?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function $(){if(typeof navigator>"u")return null;const B=navigator;return B.languages&&B.languages[0]||B.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,g.Z)(function*(){const T=h?(0,z.m9)(h):null;return T&&nn(T.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(T&&T._clone(m))})()}_updateCurrentUser(h,m=!1){var T=this;return(0,g.Z)(function*(){if(!T._deleted)return h&&nn(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),m||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,g.Z)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(Ls(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var m=this;return(0,g.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const T=m._getPasswordPolicyInternal();return T.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,g.Z)(function*(){const m=yield function Vs(B){return(xt=xt||(0,g.Z)(function*(h,m={}){return Ue(h,"GET","/v2/passwordPolicy",fe(h,m))})).apply(this,arguments)}(h),T=new _s(m);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new z.LL("auth","Firebase",h())}onAuthStateChanged(h,m,T){return this.registerStateListener(this.authStateSubscription,h,m,T)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,T){return this.registerStateListener(this.idTokenSubscription,h,m,T)}authStateReady(){return new Promise((h,m)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},m)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var T=this;return(0,g.Z)(function*(){const Y=yield T.getOrInitRedirectPersistenceManager(m);return null===h?Y.removeCurrentUser():Y.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const T=h&&Ls(h)||m._popupRedirectResolver;nn(T,m,"argument-error"),m.redirectPersistenceManager=yield tr.create(m,[Ls(T._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,g.Z)(function*(){var T,Y;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(T=m._currentUser)||void 0===T?void 0:T._redirectEventId)===h?m._currentUser:(null===(Y=m.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,g.Z)(function*(){if(h===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,T,Y){if(this._deleted)return()=>{};const ae="function"==typeof m?m:m.next.bind(m);let be=!1;const Ve=this._isInitialized?Promise.resolve():this._initializationPromise;if(nn(Ve,this,"internal-error"),Ve.then(()=>{be||ae(this.currentUser)}),"function"==typeof m){const it=h.addObserver(m,T,Y);return()=>{be=!0,it()}}{const it=h.addObserver(m);return()=>{be=!0,it()}}}directlySetCurrentUser(h){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var m;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const Y=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();Y&&(T["X-Firebase-Client"]=Y);const ae=yield h._getAppCheckToken();return ae&&(T["X-Firebase-AppCheck"]=ae),T})()}_getAppCheckToken(){var h=this;return(0,g.Z)(function*(){var m;const T=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return T?.error&&function Qt(B,...h){mi.logLevel<=b.in.WARN&&mi.warn(`Auth (${ie.SDK_VERSION}): ${B}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Ri(B){return(0,z.m9)(B)}class Nr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qr(B){return`__${B}${Math.floor(1e6*Math.random())}`}function ao(B){const h=B.indexOf(":");return h<0?"":B.substr(0,h+1)}function gc(B){if(!B)return null;const h=Number(B);return isNaN(h)?null:h}class kl{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return Jr("not implemented")}_getIdTokenResponse(h){return Jr("not implemented")}_linkToIdToken(h,m){return Jr("not implemented")}_getReauthenticationResolver(h){return Jr("not implemented")}}function ws(B,h){return(Rr=Rr||(0,g.Z)(function*(m,T){return function Be(B,h,m,T){return(Fe=Fe||(0,g.Z)(function*(Y,ae,be,Ve,it={}){const Wt=yield Ue(Y,ae,be,Ve,it);return"mfaPendingCredential"in Wt&&Hr(Y,"multi-factor-auth-required",{_serverResponse:Wt}),Wt})).apply(this,arguments)}(m,"POST","/v1/accounts:signInWithIdp",fe(m,T))})).apply(this,arguments)}class qs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Jo extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Is{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,T,Y=!1){return(0,g.Z)(function*(){const ae=yield Fs._fromIdTokenResponse(h,T,Y),be=lo(T);return new Is({user:ae,providerId:be,_tokenResponse:T,operationType:m})})()}static _forOperation(h,m,T){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const Y=lo(T);return new Is({user:h,providerId:Y,_tokenResponse:T,operationType:m})})()}}function lo(B){return B.providerId?B.providerId:"phoneNumber"in B?"phone":null}class Ci extends z.ZR{constructor(h,m,T,Y){var ae;super(m.code,m.message),this.operationType=T,this.user=Y,Object.setPrototypeOf(this,Ci.prototype),this.customData={appName:h.name,tenantId:null!==(ae=h.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:m.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,m,T,Y){return new Ci(h,m,T,Y)}}function Ua(B,h,m,T){return("reauthenticate"===h?m._getReauthenticationResolver(B):m._getIdTokenResponse(B)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Ci._fromErrorAndOperation(B,ae,h,T):ae})}const za="__sak";class Ui{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(za,"1"),this.storage.removeItem(za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fn=(()=>{class B extends Ui{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,T)=>this.onStorageEvent(m,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xt(){const B=(0,z.z$)();return Xs(B)||ka(B)}()&&function Gr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const T of Object.keys(this.listeners)){const Y=this.storage.getItem(T),ae=this.localCache[T];Y!==ae&&m(T,ae,Y)}}onStorageEvent(m,T=!1){if(!m.key)return void this.forAllChangedKeys((Ve,it,Wt)=>{this.notifyListeners(Ve,Wt)});const Y=m.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ve=this.storage.getItem(Y);if(m.newValue!==Ve)null!==m.newValue?this.storage.setItem(Y,m.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===m.newValue&&!T)return}const ae=()=>{const Ve=this.storage.getItem(Y);!T&&this.localCache[Y]===Ve||this.notifyListeners(Y,Ve)},be=this.storage.getItem(Y);!function tl(){return(0,z.w1)()&&10===document.documentMode}()||be===m.newValue||m.newValue===m.oldValue?ae():setTimeout(ae,10)}notifyListeners(m,T){this.localCache[m]=T;const Y=this.listeners[m];if(Y)for(const ae of Array.from(Y))ae(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,T,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:T,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,T){var Y=()=>super._set,ae=this;return(0,g.Z)(function*(){yield Y().call(ae,m,T),ae.localCache[m]=JSON.stringify(T)})()}_get(m){var T=()=>super._get,Y=this;return(0,g.Z)(function*(){const ae=yield T().call(Y,m);return Y.localCache[m]=JSON.stringify(ae),ae})()}_remove(m){var T=()=>super._remove,Y=this;return(0,g.Z)(function*(){yield T().call(Y,m),delete Y.localCache[m]})()}}return B.type="LOCAL",B})(),fo=(()=>{class B extends Ui{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,T){}_removeListener(m,T){}}return B.type="SESSION",B})();let Ot=(()=>{class B{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const T=this.receivers.find(ae=>ae.isListeningto(m));if(T)return T;const Y=new B(m);return this.receivers.push(Y),Y}isListeningto(m){return this.eventTarget===m}handleEvent(m){var T=this;return(0,g.Z)(function*(){var Y;const ae=m,{eventId:be,eventType:Ve,data:it}=ae.data,Wt=T.handlersMap[Ve];if(!Wt?.size)return;ae.ports[0].postMessage({status:"ack",eventId:be,eventType:Ve});const On=Array.from(Wt).map(function(lr){return(Y=Y||(0,g.Z)(function*(Pi){return Pi(ae.origin,it)})).apply(this,arguments)}),Yn=yield function In(B){var h;return Promise.all(B.map(function(m){return(h=h||(0,g.Z)(function*(T){try{return{fulfilled:!0,value:yield T}}catch(Y){return{fulfilled:!1,reason:Y}}})).apply(this,arguments)}))}(On);ae.ports[0].postMessage({status:"done",eventId:be,eventType:Ve,response:Yn})})()}_subscribe(m,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(T)}_unsubscribe(m,T){this.handlersMap[m]&&T&&this.handlersMap[m].delete(T),(!T||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return B.receivers=[],B})();function x(B="",h=10){let m="";for(let T=0;T<h;T++)m+=Math.floor(10*Math.random());return B+m}class R{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,T=50){var Y=this;return(0,g.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let be,Ve;return new Promise((it,Wt)=>{const On=x("",20);ae.port1.start();const Yn=setTimeout(()=>{Wt(new Error("unsupported_event"))},T);Ve={messageChannel:ae,onMessage(lr){const Pi=lr;if(Pi.data.eventId===On)switch(Pi.data.status){case"ack":clearTimeout(Yn),be=setTimeout(()=>{Wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),it(Pi.data.response);break;default:clearTimeout(Yn),clearTimeout(be),Wt(new Error("invalid_response"))}}},Y.handlers.add(Ve),ae.port1.addEventListener("message",Ve.onMessage),Y.target.postMessage({eventType:h,eventId:On,data:m},[ae.port2])}).finally(()=>{Ve&&Y.removeMessageHandler(Ve)})})()}}function U(){return window}function Q(){return typeof U().WorkerGlobalScope<"u"&&"function"==typeof U().importScripts}const hn="firebaseLocalStorageDb",er="firebaseLocalStorage",Zr="fbase_key";class Bi{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Tn(B,h){return B.transaction([er],h?"readwrite":"readonly").objectStore(er)}function $a(){const B=indexedDB.open(hn,1);return new Promise((h,m)=>{B.addEventListener("error",()=>{m(B.error)}),B.addEventListener("upgradeneeded",()=>{const T=B.result;try{T.createObjectStore(er,{keyPath:Zr})}catch(Y){m(Y)}}),B.addEventListener("success",(0,g.Z)(function*(){const T=B.result;T.objectStoreNames.contains(er)?h(T):(T.close(),yield function Ms(){const B=indexedDB.deleteDatabase(hn);return new Bi(B).toPromise()}(),h(yield $a()))}))})}function Ni(B,h,m){return(xr=xr||(0,g.Z)(function*(T,Y,ae){const be=Tn(T,!0).put({[Zr]:Y,value:ae});return new Bi(be).toPromise()})).apply(this,arguments)}function Ga(B,h){const m=Tn(B,!0).delete(h);return new Bi(m).toPromise()}const rn=(()=>{class B{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield $a()),m.db})()}_withRetries(m){var T=this;return(0,g.Z)(function*(){let Y=0;for(;;)try{const ae=yield T._openDb();return yield m(ae)}catch(ae){if(Y++>3)throw ae;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return Q()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){var T,Y;m.receiver=Ot._getInstance(function gt(){return Q()?self:null}()),m.receiver._subscribe("keyChanged",function(ae,be){return(T=T||(0,g.Z)(function*(Ve,it){return{keyProcessed:(yield m._poll()).includes(it.key)}})).apply(this,arguments)}),m.receiver._subscribe("ping",function(ae,be){return(Y=Y||(0,g.Z)(function*(Ve,it){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var T,Y;if(m.activeServiceWorker=yield function he(){return(Vi=Vi||(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new R(m.activeServiceWorker);const ae=yield m.sender._send("ping",{},800);ae&&null!==(T=ae[0])&&void 0!==T&&T.fulfilled&&null!==(Y=ae[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var T=this;return(0,g.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Te(){var B;return(null===(B=navigator?.serviceWorker)||void 0===B?void 0:B.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:m},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield $a();return yield Ni(m,za,"1"),yield Ga(m,za),!0}catch{}return!1})()}_withPendingWrite(m){var T=this;return(0,g.Z)(function*(){T.pendingWrites++;try{yield m()}finally{T.pendingWrites--}})()}_set(m,T){var Y=this;return(0,g.Z)(function*(){return Y._withPendingWrite((0,g.Z)(function*(){return yield Y._withRetries(ae=>Ni(ae,m,T)),Y.localCache[m]=T,Y.notifyServiceWorker(m)}))})()}_get(m){var T=this;return(0,g.Z)(function*(){const Y=yield T._withRetries(ae=>function Un(B,h){return(Ii=Ii||(0,g.Z)(function*(m,T){const Y=Tn(m,!1).get(T),ae=yield new Bi(Y).toPromise();return void 0===ae?null:ae.value})).apply(this,arguments)}(ae,m));return T.localCache[m]=Y,Y})()}_remove(m){var T=this;return(0,g.Z)(function*(){return T._withPendingWrite((0,g.Z)(function*(){return yield T._withRetries(Y=>Ga(Y,m)),delete T.localCache[m],T.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const T=yield m._withRetries(be=>{const Ve=Tn(be,!1).getAll();return new Bi(Ve).toPromise()});if(!T)return[];if(0!==m.pendingWrites)return[];const Y=[],ae=new Set;for(const{fbase_key:be,value:Ve}of T)ae.add(be),JSON.stringify(m.localCache[be])!==JSON.stringify(Ve)&&(m.notifyListeners(be,Ve),Y.push(be));for(const be of Object.keys(m.localCache))m.localCache[be]&&!ae.has(be)&&(m.notifyListeners(be,null),Y.push(be));return Y})()}notifyListeners(m,T){this.localCache[m]=T;const Y=this.listeners[m];if(Y)for(const ae of Array.from(Y))ae(T)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(T)}_removeListener(m,T){this.listeners[m]&&(this.listeners[m].delete(T),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return B.type="LOCAL",B})();Qr("rcb"),new oe(3e4,6e4);class ra extends kl{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ws(h,this._buildIdpRequest())}_linkToIdToken(h,m){return ws(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return ws(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Wa(B){return function Ha(B,h){return(Sn=Sn||(0,g.Z)(function*(m,T,Y=!1){const be=yield Ua(m,"signIn",T),Ve=yield Is._fromIdTokenResponse(m,"signIn",be);return Y||(yield m._updateCurrentUser(Ve.user)),Ve})).apply(this,arguments)}(B.auth,new ra(B),B.bypassAuthState)}function eo(B){const{auth:h,user:m}=B;return nn(m,h,"internal-error"),function co(B,h){return(Xn=Xn||(0,g.Z)(function*(m,T,Y=!1){const{auth:ae}=m,be="reauthenticate";try{const Ve=yield Kr(m,Ua(ae,be,T,m),Y);nn(Ve.idToken,ae,"internal-error");const it=Di(Ve.idToken);nn(it,ae,"internal-error");const{sub:Wt}=it;return nn(m.uid===Wt,ae,"user-mismatch"),Is._forOperation(m,be,Ve)}catch(Ve){throw"auth/user-not-found"===Ve?.code&&Hr(ae,"user-mismatch"),Ve}})).apply(this,arguments)}(m,new ra(B),B.bypassAuthState)}function Ks(B){return(rt=rt||(0,g.Z)(function*(h){const{auth:m,user:T}=h;return nn(T,m,"internal-error"),function hs(B,h){return(Ft=Ft||(0,g.Z)(function*(m,T,Y=!1){const ae=yield Kr(m,T._linkToIdToken(m.auth,yield m.getIdToken()),Y);return Is._forOperation(m,"link",ae)})).apply(this,arguments)}(T,new ra(h),h.bypassAuthState)})).apply(this,arguments)}class Ec{constructor(h,m,T,Y,ae=!1){this.auth=h,this.resolver=T,this.user=Y,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var m,h=this;return new Promise(function(T,Y){return(m=m||(0,g.Z)(function*(ae,be){h.pendingPromise={resolve:ae,reject:be};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Ve){h.reject(Ve)}})).apply(this,arguments)})}onAuthEvent(h){var m=this;return(0,g.Z)(function*(){const{urlResponse:T,sessionId:Y,postBody:ae,tenantId:be,error:Ve,type:it}=h;if(Ve)return void m.reject(Ve);const Wt={auth:m.auth,requestUri:T,sessionId:Y,tenantId:be||void 0,postBody:ae||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(it)(Wt))}catch(On){m.reject(On)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Wa;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return eo;default:Hr(this.auth,"internal-error")}}resolve(h){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new oe(2e3,1e4);const Kd="pendingRedirect",El=new Map;class $c extends Ec{constructor(h,m,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,g.Z)(function*(){let T=El.get(m.auth._key());if(!T){try{const ae=(yield function Au(B,h){return(cr=cr||(0,g.Z)(function*(m,T){const Y=function Ic(B){return Ro(Kd,B.config.apiKey,B.name)}(T),ae=function wc(B){return Ls(B._redirectPersistence)}(m);if(!(yield ae._isAvailable()))return!1;const be="true"===(yield ae._get(Y));return yield ae._remove(Y),be})).apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;T=()=>Promise.resolve(ae)}catch(Y){T=()=>Promise.reject(Y)}El.set(m.auth._key(),T)}return m.bypassAuthState||El.set(m.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,T=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(T,h);if("unknown"!==h.type){if(h.eventId){const Y=yield T.auth._redirectUserForId(h.eventId);if(Y)return T.user=Y,m().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function ac(B,h){El.set(B._key(),h)}function Co(B,h){return(F=F||(0,g.Z)(function*(m,T,Y=!1){const ae=Ri(m),be=function Yi(B,h){return h?Ls(h):(nn(B._popupRedirectResolver,B,"argument-error"),B._popupRedirectResolver)}(ae,T),it=yield new $c(ae,be,Y).execute();return it&&!Y&&(delete it.user._redirectEventId,yield ae._persistUserIfCurrent(it.user),yield ae._setRedirectUser(null,T)),it})).apply(this,arguments)}class xo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(m=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function al(B){switch(B.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(B);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var T;if(h.error&&!fs(h)){const Y=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";m.onError(Tr(this.auth,Y))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const T=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(h))}saveEventToCache(h){this.cachedEventUids.add(sa(h)),this.lastProcessedEventTime=Date.now()}}function sa(B){return[B.type,B.eventId,B.sessionId,B.tenantId].filter(h=>h).join("-")}function fs({type:B,error:h}){return"unknown"===B&&"auth/no-auth-event"===h?.code}const Il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oi=/^https?/;function Qi(B){const h=bs(),{protocol:m,hostname:T}=new URL(h);if(B.startsWith("chrome-extension://")){const be=new URL(B);return""===be.hostname&&""===T?"chrome-extension:"===m&&B.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&be.hostname===T}if(!oi.test(m))return!1;if(Il.test(B))return T===B;const Y=B.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(T)}const Fi=new oe(3e4,6e4);function H(){const B=U().___jsl;if(B?.H)for(const h of Object.keys(B.H))if(B.H[h].r=B.H[h].r||[],B.H[h].L=B.H[h].L||[],B.H[h].r=[...B.H[h].L],B.CP)for(let m=0;m<B.CP.length;m++)B.CP[m]=null}let te=null;function we(B){return te=te||function K(B){return new Promise((h,m)=>{var T,Y,ae;function be(){H(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{H(),m(Tr(B,"network-request-failed"))},timeout:Fi.get()})}if(null!==(Y=null===(T=U().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Y&&Y.Iframe)h(gapi.iframes.getContext());else{if(null===(ae=U().gapi)||void 0===ae||!ae.load){const Ve=Qr("iframefcb");return U()[Ve]=()=>{gapi.load?be():m(Tr(B,"network-request-failed"))},function ts(B){return new Promise((h,m)=>{const T=document.createElement("script");T.setAttribute("src",B),T.onload=h,T.onerror=Y=>{const ae=Tr("internal-error");ae.customData=Y,m(ae)},T.type="text/javascript",T.charset="UTF-8",function hl(){var B,h;return null!==(h=null===(B=document.getElementsByTagName("head"))||void 0===B?void 0:B[0])&&void 0!==h?h:document}().appendChild(T)})}(`https://apis.google.com/js/api.js?onload=${Ve}`).catch(it=>m(it))}be()}}).catch(h=>{throw te=null,h})}(B),te}const He=new oe(5e3,15e3),Gt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vn(B){const h=B.config;nn(h.authDomain,B,"auth-domain-config-required");const m=h.emulator?_e(h,"emulator/auth/iframe"):`https://${B.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:B.name,v:ie.SDK_VERSION},Y=Zt.get(B.config.apiHost);Y&&(T.eid=Y);const ae=B._getFrameworks();return ae.length&&(T.fw=ae.join(",")),`${m}?${(0,z.xO)(T).slice(1)}`}const Kn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $l=encodeURIComponent("fac");function ga(B,h,m,T,Y,ae){return(Ht=Ht||(0,g.Z)(function*(be,Ve,it,Wt,On,Yn){nn(be.config.authDomain,be,"auth-domain-config-required"),nn(be.config.apiKey,be,"invalid-api-key");const lr={apiKey:be.config.apiKey,appName:be.name,authType:it,redirectUrl:Wt,v:ie.SDK_VERSION,eventId:On};if(Ve instanceof qs){Ve.setDefaultLanguage(be.languageCode),lr.providerId=Ve.providerId||"",(0,z.xb)(Ve.getCustomParameters())||(lr.customParameters=JSON.stringify(Ve.getCustomParameters()));for(const[So,ya]of Object.entries(Yn||{}))lr[So]=ya}if(Ve instanceof Jo){const So=Ve.getScopes().filter(ya=>""!==ya);So.length>0&&(lr.scopes=So.join(","))}be.tenantId&&(lr.tid=be.tenantId);const Pi=lr;for(const So of Object.keys(Pi))void 0===Pi[So]&&delete Pi[So];const $o=yield be._getAppCheckToken(),po=$o?`#${$l}=${encodeURIComponent($o)}`:"";return`${function qc({config:B}){return B.emulator?_e(B,"emulator/auth/handler"):`https://${B.authDomain}/__/auth/handler`}(be)}?${(0,z.xO)(Pi).slice(1)}${po}`})).apply(this,arguments)}const Kc="webStorageSupport",ed=class xc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=Co,this._overrideRedirectResult=ac}_openPopup(h,m,T,Y){var ae=this;return(0,g.Z)(function*(){var be;Ji(null===(be=ae.eventManagers[h._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const Ve=yield ga(h,m,T,bs(),Y);return function gr(B,h,m,T=500,Y=600){const ae=Math.max((window.screen.availHeight-Y)/2,0).toString(),be=Math.max((window.screen.availWidth-T)/2,0).toString();let Ve="";const it=Object.assign(Object.assign({},Kn),{width:T.toString(),height:Y.toString(),top:ae,left:be}),Wt=(0,z.z$)().toLowerCase();m&&(Ve=zi(Wt)?"_blank":m),_o(Wt)&&(h=h||"http://localhost",it.scrollbars="yes");const On=Object.entries(it).reduce((lr,[Pi,$o])=>`${lr}${Pi}=${$o},`,"");if(function Zo(B=(0,z.z$)()){var h;return ka(B)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Wt)&&"_self"!==Ve)return function Ti(B,h){const m=document.createElement("a");m.href=B,m.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(T)}(h||"",Ve),new Ts(null);const Yn=window.open(h||"",Ve,On);nn(Yn,B,"popup-blocked");try{Yn.focus()}catch{}return new Ts(Yn)}(h,Ve,x())})()}_openRedirect(h,m,T,Y){var ae=this;return(0,g.Z)(function*(){return yield ae._originValidation(h),function P(B){U().location.href=B}(yield ga(h,m,T,bs(),Y)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:Y,promise:ae}=this.eventManagers[m];return Y?Promise.resolve(Y):(Ji(ae,"If manager is not set, promise should be"),ae)}const T=this.initAndGetManager(h);return this.eventManagers[m]={promise:T},T.catch(()=>{delete this.eventManagers[m]}),T}initAndGetManager(h){var m=this;return(0,g.Z)(function*(){const T=yield function Bn(B){return(an=an||(0,g.Z)(function*(h){const m=yield we(h),T=U().gapi;return nn(T,h,"internal-error"),m.open({where:document.body,url:vn(h),messageHandlersFilter:T.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gt,dontclear:!0},Y=>{var ae;return new Promise(function(be,Ve){return(ae=ae||(0,g.Z)(function*(it,Wt){yield Y.restyle({setHideOnLeave:!1});const On=Tr(h,"network-request-failed"),Yn=U().setTimeout(()=>{Wt(On)},He.get());function lr(){U().clearTimeout(Yn),it(Y)}Y.ping(lr).then(lr,()=>{Wt(On)})})).apply(this,arguments)})})})).apply(this,arguments)}(h),Y=new xo(h);return T.register("authEvent",ae=>(nn(ae?.authEvent,h,"invalid-auth-event"),{status:Y.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:Y},m.iframes[h._key()]=T,Y})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Kc,{type:Kc},Y=>{var ae;const be=null===(ae=Y?.[0])||void 0===ae?void 0:ae[Kc];void 0!==be&&m(!!be),Hr(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jo(B){return(mt=mt||(0,g.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:m}=yield function zl(B){return(ze=ze||(0,g.Z)(function*(h,m={}){return Ue(h,"GET","/v1/projects",m)})).apply(this,arguments)}(h);for(const T of m)try{if(Qi(T))return}catch{}Hr(h,"unauthorized-domain")})).apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Yo()||Xs()||ka()}};var G="@firebase/auth",E="1.3.0";class w{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ne=(0,z.Pz)("authIdTokenMaxAge")||300;let Xe=null;const Pt=B=>{var h;return function(m){return(h=h||(0,g.Z)(function*(T){const Y=T&&(yield T.getIdTokenResult()),ae=Y&&((new Date).getTime()-Date.parse(Y.issuedAtTime))/1e3;if(ae&&ae>Ne)return;const be=Y?.token;Xe!==be&&(Xe=be,yield fetch(B,{method:be?"POST":"DELETE",headers:be?{Authorization:`Bearer ${be}`}:{}}))})).apply(this,arguments)}};function $t(B=(0,ie.getApp)()){const h=(0,ie._getProvider)(B,"auth");if(h.isInitialized())return h.getImmediate();const m=function wa(B,h){const m=(0,ie._getProvider)(B,"auth");if(m.isInitialized()){const Y=m.getImmediate(),ae=m.getOptions();if((0,z.vZ)(ae,h??{}))return Y;Hr(Y,"already-initialized")}return m.initialize({options:h})}(B,{popupRedirectResolver:ed,persistence:[rn,Fn,fo]}),T=(0,z.Pz)("authTokenSyncURL");if(T){const ae=Pt(T);(function yl(B,h,m){(0,z.m9)(B).beforeAuthStateChanged(h,m)})(m,ae,()=>ae(m.currentUser)),function br(B,h,m,T){(0,z.m9)(B).onIdTokenChanged(h,m,T)}(m,be=>ae(be))}const Y=(0,z.q4)("auth");return Y&&function mc(B,h,m){const T=Ri(B);nn(T._canInitEmulator,T,"emulator-config-failed"),nn(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const Y=!!m?.disableWarnings,ae=ao(h),{host:be,port:Ve}=function Pl(B){const h=ao(B),m=/(\/\/)?([^?#/]+)/.exec(B.substr(h.length));if(!m)return{host:"",port:null};const T=m[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(T);if(Y){const ae=Y[1];return{host:ae,port:gc(T.substr(ae.length+1))}}{const[ae,be]=T.split(":");return{host:ae,port:gc(be)}}}(h);T.config.emulator={url:`${ae}//${be}${null===Ve?"":`:${Ve}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:be,port:Ve,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function ec(){function B(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",B):B())}()}(m,`http://${Y}`),m}!function se(B){(0,ie._registerComponent)(new Se.wA("auth",(h,{options:m})=>{const T=h.getProvider("app").getImmediate(),Y=h.getProvider("heartbeat"),ae=h.getProvider("app-check-internal"),{apiKey:be,authDomain:Ve}=T.options;nn(be&&!be.includes(":"),"invalid-api-key",{appName:T.name});const it={apiKey:be,authDomain:Ve,clientPlatform:B,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dl(B)},Wt=new ha(T,Y,ae,it);return function Jl(B,h){const m=h?.persistence||[],T=(Array.isArray(m)?m:[m]).map(Ls);h?.errorMap&&B._updateErrorMap(h.errorMap),B._initializeWithPersistence(T,h?.popupRedirectResolver)}(Wt,m),Wt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,T)=>{h.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new Se.wA("auth-internal",h=>{const m=Ri(h.getProvider("auth").getImmediate());return new w(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(G,E,function M(B){switch(B){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(B)),(0,ie.registerVersion)(G,E,"esm2017")}("Browser");var sn=V(5879),Qn=V(8645),fn=V(2096),$n=V(5592),ps=V(2459),Ka=V(3019),oa=V(3093),Do=V(4664),zs=V(7398),nd=V(940),Yd=V(1374),rd=V(4674);function Ou(B,h){return(0,rd.m)(h)?(0,Do.w)(()=>B,h):(0,Do.w)(()=>B)}var Pu=V(5137),id=V(2181),aa=V(2793),Gl=V(6304),sd=V(6814),yh=V(2194);V(120);const bh=new sn.OlP("angularfire2.auth.use-emulator"),Tc=new sn.OlP("angularfire2.auth.settings"),xd=new sn.OlP("angularfire2.auth.tenant-id"),Td=new sn.OlP("angularfire2.auth.langugage-code"),od=new sn.OlP("angularfire2.auth.use-device-language"),Dd=new sn.OlP("angularfire.auth.persistence"),Qd=(B,h,m,T,Y,ae,be,Ve)=>(0,Gl.cc)(`${B.name}.auth`,"AngularFireAuth",B.name,()=>{const it=h.runOutsideAngular(()=>B.auth());if(m&&it.useEmulator(...m),T&&(it.tenantId=T),it.languageCode=Y,ae&&it.useDeviceLanguage(),be)for(const[Wt,On]of Object.entries(be))it.settings[Wt]=On;return Ve&&it.setPersistence(Ve),it},[m,T,Y,ae,be,Ve]);let Dc=(()=>{class B{constructor(m,T,Y,ae,be,Ve,it,Wt,On,Yn,lr,Pi){const $o=new Qn.x,po=(0,fn.of)(void 0).pipe((0,oa.Q)(be.outsideAngular),(0,Do.w)(()=>ae.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8661)))),(0,zs.U)(()=>(0,Gl.on)(m,ae,T)),(0,zs.U)(So=>Qd(So,ae,Ve,Wt,On,Yn,it,lr)),(0,nd.d)({bufferSize:1,refCount:!1}));if((0,sd.PM)(Y))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,fn.of)(null);else{po.pipe((0,Yd.P)()).subscribe();const ya=po.pipe((0,Do.w)(os=>os.getRedirectResult().then(Go=>Go,()=>null)),aa.iC,(0,nd.d)({bufferSize:1,refCount:!1})),dc=po.pipe((0,Do.w)(os=>new $n.y(Go=>({unsubscribe:ae.runOutsideAngular(()=>os.onAuthStateChanged(Ma=>Go.next(Ma),Ma=>Go.error(Ma),()=>Go.complete()))})))),Aa=po.pipe((0,Do.w)(os=>new $n.y(Go=>({unsubscribe:ae.runOutsideAngular(()=>os.onIdTokenChanged(Ma=>Go.next(Ma),Ma=>Go.error(Ma),()=>Go.complete()))}))));this.authState=ya.pipe(Ou(dc),(0,Pu.R)(be.outsideAngular),(0,oa.Q)(be.insideAngular)),this.user=ya.pipe(Ou(Aa),(0,Pu.R)(be.outsideAngular),(0,oa.Q)(be.insideAngular)),this.idToken=this.user.pipe((0,Do.w)(os=>os?(0,ps.D)(os.getIdToken()):(0,fn.of)(null))),this.idTokenResult=this.user.pipe((0,Do.w)(os=>os?(0,ps.D)(os.getIdTokenResult()):(0,fn.of)(null))),this.credential=(0,Ka.T)(ya,$o,this.authState.pipe((0,id.h)(os=>!os))).pipe((0,zs.U)(os=>os?.user?os:null),(0,Pu.R)(be.outsideAngular),(0,oa.Q)(be.insideAngular))}return(0,Gl.pX)(this,po,ae,{spy:{apply:(So,ya,dc)=>{(So.startsWith("signIn")||So.startsWith("createUser"))&&dc.then(Aa=>$o.next(Aa))}}})}}return B.\u0275fac=function(m){return new(m||B)(sn.LFG(Gl.Dh),sn.LFG(Gl.xv,8),sn.LFG(sn.Lbi),sn.LFG(sn.R0b),sn.LFG(aa.HU),sn.LFG(bh,8),sn.LFG(Tc,8),sn.LFG(xd,8),sn.LFG(Td,8),sn.LFG(od,8),sn.LFG(Dd,8),sn.LFG(yh.nm,8))},B.\u0275prov=sn.Yz7({token:B,factory:B.\u0275fac,providedIn:"any"}),B})();var Sd=V(6321),wh=V(7921),Ih=V(9360),Ch=V(8251);function ll(){return(0,Ih.e)((B,h)=>{let m,T=!1;B.subscribe((0,Ch.x)(h,Y=>{const ae=m;m=Y,T&&h.next([ae,Y]),T=!0}))})}var uc=V(6699),to=V(3997),Ad=(V(8661),V(3106)),_n=V(8162);function mu(B,h){if(void 0===h)return{merge:!1};if(void 0!==h.mergeFields&&void 0!==h.merge)throw new _n.WA("invalid-argument",`Invalid options passed to function ${B}(): You cannot specify both "merge" and "mergeFields".`);return h}function Nu(){if(typeof Uint8Array>"u")throw new _n.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ad(){if(!(0,_n.Me)())throw new _n.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Zc{constructor(h){this._delegate=h}static fromBase64String(h){return ad(),new Zc(_n.Jj.fromBase64String(h))}static fromUint8Array(h){return Nu(),new Zc(_n.Jj.fromUint8Array(h))}toBase64(){return ad(),this._delegate.toBase64()}toUint8Array(){return Nu(),this._delegate.toUint8Array()}isEqual(h){return this._delegate.isEqual(h._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Za(B){return function rf(B,h){if("object"!=typeof B||null===B)return!1;const m=B;for(const T of h)if(T in m&&"function"==typeof m[T])return!0;return!1}(B,["next","error","complete"])}class ks{enableIndexedDbPersistence(h,m){return(0,_n.ST)(h._delegate,{forceOwnership:m})}enableMultiTabIndexedDbPersistence(h){return(0,_n.fH)(h._delegate)}clearIndexedDbPersistence(h){return(0,_n.Fc)(h._delegate)}}class gu{constructor(h,m,T){this._delegate=m,this._persistenceProvider=T,this.INTERNAL={delete:()=>this.terminate()},h instanceof _n.l7||(this._appCompat=h)}get _databaseId(){return this._delegate._databaseId}settings(h){const m=this._delegate._getSettings();!h.merge&&m.host!==h.host&&(0,_n.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),h.merge&&delete(h=Object.assign(Object.assign({},m),h)).merge,this._delegate._setSettings(h)}useEmulator(h,m,T={}){(0,_n.at)(this._delegate,h,m,T)}enableNetwork(){return(0,_n.Ix)(this._delegate)}disableNetwork(){return(0,_n.TF)(this._delegate)}enablePersistence(h){let m=!1,T=!1;return h&&(m=!!h.synchronizeTabs,T=!!h.experimentalForceOwningTab,(0,_n.Wi)("synchronizeTabs",m,"experimentalForceOwningTab",T)),m?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,T)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,_n.Mx)(this._delegate)}onSnapshotsInSync(h){return(0,_n.sc)(this._delegate,h)}get app(){if(!this._appCompat)throw new _n.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(h){try{return new Fu(this,(0,_n.hJ)(this._delegate,h))}catch(m){throw Ya(m,"collection()","Firestore.collection()")}}doc(h){try{return new Sa(this,(0,_n.JU)(this._delegate,h))}catch(m){throw Ya(m,"doc()","Firestore.doc()")}}collectionGroup(h){try{return new la(this,(0,_n.B$)(this._delegate,h))}catch(m){throw Ya(m,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(h){return(0,_n.i3)(this._delegate,m=>h(new Wl(this,m)))}batch(){return(0,_n.qY)(this._delegate),new xh(new _n.PU(this._delegate,h=>(0,_n.GL)(this._delegate,h)))}loadBundle(h){return(0,_n.Pb)(this._delegate,h)}namedQuery(h){return(0,_n.L$)(this._delegate,h).then(m=>m?new la(this,m):null)}}class Yc extends _n.u7{constructor(h){super(),this.firestore=h}convertBytes(h){return new Zc(new _n.Jj(h))}convertReference(h){const m=this.convertDocumentKey(h,this.firestore._databaseId);return Sa.forKey(m,this.firestore,null)}}class Wl{constructor(h,m){this._firestore=h,this._delegate=m,this._userDataWriter=new Yc(h)}get(h){const m=Xc(h);return this._delegate.get(m).then(T=>new Qc(this._firestore,new _n.xU(this._firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,m.converter)))}set(h,m,T){const Y=Xc(h);return T?(mu("Transaction.set",T),this._delegate.set(Y,m,T)):this._delegate.set(Y,m),this}update(h,m,T,...Y){const ae=Xc(h);return 2===arguments.length?this._delegate.update(ae,m):this._delegate.update(ae,m,T,...Y),this}delete(h){const m=Xc(h);return this._delegate.delete(m),this}}class xh{constructor(h){this._delegate=h}set(h,m,T){const Y=Xc(h);return T?(mu("WriteBatch.set",T),this._delegate.set(Y,m,T)):this._delegate.set(Y,m),this}update(h,m,T,...Y){const ae=Xc(h);return 2===arguments.length?this._delegate.update(ae,m):this._delegate.update(ae,m,T,...Y),this}delete(h){const m=Xc(h);return this._delegate.delete(m),this}commit(){return this._delegate.commit()}}class ql{constructor(h,m,T){this._firestore=h,this._userDataWriter=m,this._delegate=T}fromFirestore(h,m){const T=new _n.$q(this._firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,null);return this._delegate.fromFirestore(new _u(this._firestore,T),m??{})}toFirestore(h,m){return m?this._delegate.toFirestore(h,m):this._delegate.toFirestore(h)}static getInstance(h,m){const T=ql.INSTANCES;let Y=T.get(h);Y||(Y=new WeakMap,T.set(h,Y));let ae=Y.get(m);return ae||(ae=new ql(h,new Yc(h),m),Y.set(m,ae)),ae}}ql.INSTANCES=new WeakMap;class Sa{constructor(h,m){this.firestore=h,this._delegate=m,this._userDataWriter=new Yc(h)}static forPath(h,m,T){if(h.length%2!=0)throw new _n.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${h.canonicalString()} has ${h.length}`);return new Sa(m,new _n.my(m._delegate,T,new _n.Ky(h)))}static forKey(h,m,T){return new Sa(m,new _n.my(m._delegate,T,h))}get id(){return this._delegate.id}get parent(){return new Fu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(h){try{return new Fu(this.firestore,(0,_n.hJ)(this._delegate,h))}catch(m){throw Ya(m,"collection()","DocumentReference.collection()")}}isEqual(h){return(h=(0,z.m9)(h))instanceof _n.my&&(0,_n.Eo)(this._delegate,h)}set(h,m){m=mu("DocumentReference.set",m);try{return m?(0,_n.pl)(this._delegate,h,m):(0,_n.pl)(this._delegate,h)}catch(T){throw Ya(T,"setDoc()","DocumentReference.set()")}}update(h,m,...T){try{return 1===arguments.length?(0,_n.r7)(this._delegate,h):(0,_n.r7)(this._delegate,h,m,...T)}catch(Y){throw Ya(Y,"updateDoc()","DocumentReference.update()")}}delete(){return(0,_n.oe)(this._delegate)}onSnapshot(...h){const m=ni(h),T=_a(h,Y=>new Qc(this.firestore,new _n.xU(this.firestore._delegate,this._userDataWriter,Y._key,Y._document,Y.metadata,this._delegate.converter)));return(0,_n.cf)(this._delegate,m,T)}get(h){let m;return m="cache"===h?.source?(0,_n.kl)(this._delegate):"server"===h?.source?(0,_n.Xk)(this._delegate):(0,_n.QT)(this._delegate),m.then(T=>new Qc(this.firestore,new _n.xU(this.firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,this._delegate.converter)))}withConverter(h){return new Sa(this.firestore,this._delegate.withConverter(h?ql.getInstance(this.firestore,h):null))}}function Ya(B,h,m){return B.message=B.message.replace(h,m),B}function ni(B){for(const h of B)if("object"==typeof h&&!Za(h))return h;return{}}function _a(B,h){var m,T;let Y;return Y=Za(B[0])?B[0]:Za(B[1])?B[1]:"function"==typeof B[0]?{next:B[0],error:B[1],complete:B[2]}:{next:B[1],error:B[2],complete:B[3]},{next:ae=>{Y.next&&Y.next(h(ae))},error:null===(m=Y.error)||void 0===m?void 0:m.bind(Y),complete:null===(T=Y.complete)||void 0===T?void 0:T.bind(Y)}}class Qc{constructor(h,m){this._firestore=h,this._delegate=m}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(h){return this._delegate.data(h)}get(h,m){return this._delegate.get(h,m)}isEqual(h){return(0,_n.qK)(this._delegate,h._delegate)}}class _u extends Qc{data(h){const m=this._delegate.data(h);return(0,_n.K9)(void 0!==m,"Document in a QueryDocumentSnapshot should exist"),m}}class la{constructor(h,m){this.firestore=h,this._delegate=m,this._userDataWriter=new Yc(h)}where(h,m,T){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.ar)(h,m,T)))}catch(Y){throw Ya(Y,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(h,m){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.Xo)(h,m)))}catch(T){throw Ya(T,/(orderBy|where)\(\)/,"Query.$1()")}}limit(h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.b9)(h)))}catch(m){throw Ya(m,"limit()","Query.limit()")}}limitToLast(h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.vh)(h)))}catch(m){throw Ya(m,"limitToLast()","Query.limitToLast()")}}startAt(...h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.e0)(...h)))}catch(m){throw Ya(m,"startAt()","Query.startAt()")}}startAfter(...h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.TQ)(...h)))}catch(m){throw Ya(m,"startAfter()","Query.startAfter()")}}endBefore(...h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.Lx)(...h)))}catch(m){throw Ya(m,"endBefore()","Query.endBefore()")}}endAt(...h){try{return new la(this.firestore,(0,_n.IO)(this._delegate,(0,_n.Wu)(...h)))}catch(m){throw Ya(m,"endAt()","Query.endAt()")}}isEqual(h){return(0,_n.iE)(this._delegate,h._delegate)}get(h){let m;return m="cache"===h?.source?(0,_n.UQ)(this._delegate):"server"===h?.source?(0,_n.zN)(this._delegate):(0,_n.PL)(this._delegate),m.then(T=>new Sc(this.firestore,new _n.W(this.firestore._delegate,this._userDataWriter,this._delegate,T._snapshot)))}onSnapshot(...h){const m=ni(h),T=_a(h,Y=>new Sc(this.firestore,new _n.W(this.firestore._delegate,this._userDataWriter,this._delegate,Y._snapshot)));return(0,_n.cf)(this._delegate,m,T)}withConverter(h){return new la(this.firestore,this._delegate.withConverter(h?ql.getInstance(this.firestore,h):null))}}class va{constructor(h,m){this._firestore=h,this._delegate=m}get type(){return this._delegate.type}get doc(){return new _u(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sc{constructor(h,m){this._firestore=h,this._delegate=m}get query(){return new la(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(h=>new _u(this._firestore,h))}docChanges(h){return this._delegate.docChanges(h).map(m=>new va(this._firestore,m))}forEach(h,m){this._delegate.forEach(T=>{h.call(m,new _u(this._firestore,T))})}isEqual(h){return(0,_n.qK)(this._delegate,h._delegate)}}class Fu extends la{constructor(h,m){super(h,m),this.firestore=h,this._delegate=m}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const h=this._delegate.parent;return h?new Sa(this.firestore,h):null}doc(h){try{return new Sa(this.firestore,void 0===h?(0,_n.JU)(this._delegate):(0,_n.JU)(this._delegate,h))}catch(m){throw Ya(m,"doc()","CollectionReference.doc()")}}add(h){return(0,_n.ET)(this._delegate,h).then(m=>new Sa(this.firestore,m))}isEqual(h){return(0,_n.Eo)(this._delegate,h._delegate)}withConverter(h){return new Fu(this.firestore,this._delegate.withConverter(h?ql.getInstance(this.firestore,h):null))}}function Xc(B){return(0,_n.Cf)(B,_n.my)}class Lu{constructor(...h){this._delegate=new _n.Lz(...h)}static documentId(){return new Lu(_n.Xb.keyField().canonicalString())}isEqual(h){return(h=(0,z.m9)(h))instanceof _n.Lz&&this._delegate._internalPath.isEqual(h._internalPath)}}class cl{constructor(h){this._delegate=h}static serverTimestamp(){const h=(0,_n.Bt)();return h._methodName="FieldValue.serverTimestamp",new cl(h)}static delete(){const h=(0,_n.AK)();return h._methodName="FieldValue.delete",new cl(h)}static arrayUnion(...h){const m=(0,_n.vr)(...h);return m._methodName="FieldValue.arrayUnion",new cl(m)}static arrayRemove(...h){const m=(0,_n.Ab)(...h);return m._methodName="FieldValue.arrayRemove",new cl(m)}static increment(h){const m=(0,_n.nP)(h);return m._methodName="FieldValue.increment",new cl(m)}isEqual(h){return this._delegate.isEqual(h._delegate)}}const Vu={Firestore:gu,GeoPoint:_n.F8,Timestamp:_n.EK,Blob:Zc,Transaction:Wl,WriteBatch:xh,DocumentReference:Sa,DocumentSnapshot:Qc,Query:la,QueryDocumentSnapshot:_u,QuerySnapshot:Sc,CollectionReference:Fu,FieldPath:Lu,FieldValue:cl,setLogLevel:function Xd(B){(0,_n.Ub)(B)},CACHE_SIZE_UNLIMITED:_n.IX};function Bu(B,h){return function Th(B,h=Sd.z){return new $n.y(m=>{let T;return null!=h?h.schedule(()=>{T=B.onSnapshot({includeMetadataChanges:!0},m)}):T=B.onSnapshot({includeMetadataChanges:!0},m),()=>{T?.()}})}(B,h)}function ld(B,h){return Bu(B,h).pipe((0,zs.U)(m=>({payload:m,type:"query"})))}function Ac(B,h){return ld(B,h).pipe((0,wh.O)(void 0),ll(),(0,zs.U)(([m,T])=>{const Y=T.payload.docChanges(),ae=Y.map(be=>({type:be.type,payload:be}));return m&&JSON.stringify(m.payload.metadata)!==JSON.stringify(T.payload.metadata)&&T.payload.docs.forEach((be,Ve)=>{const it=Y.find(On=>On.doc.ref.isEqual(be.ref)),Wt=m?.payload.docs.find(On=>On.ref.isEqual(be.ref));it&&JSON.stringify(it.doc.metadata)===JSON.stringify(be.metadata)||!it&&Wt&&JSON.stringify(Wt.metadata)===JSON.stringify(be.metadata)||ae.push({type:"modified",payload:{oldIndex:Ve,newIndex:Ve,type:"modified",doc:be}})}),ae}))}function Dh(B,h,m){return Ac(B,m).pipe((0,uc.R)((T,Y)=>function ju(B,h,m){return h.forEach(T=>{m.indexOf(T.type)>-1&&(B=function eh(B,h){switch(h.type){case"added":if(!B[h.newIndex]||!B[h.newIndex].doc.ref.isEqual(h.doc.ref))return ys(B,h.newIndex,0,h);break;case"modified":if(null==B[h.oldIndex]||B[h.oldIndex].doc.ref.isEqual(h.doc.ref)){if(h.oldIndex!==h.newIndex){const m=B.slice();return m.splice(h.oldIndex,1),m.splice(h.newIndex,0,h),m}return ys(B,h.newIndex,1,h)}break;case"removed":if(B[h.oldIndex]&&B[h.oldIndex].doc.ref.isEqual(h.doc.ref))return ys(B,h.oldIndex,1)}return B}(B,T))}),B}(T,Y.map(ae=>ae.payload),h),[]),(0,to.x)(),(0,zs.U)(T=>T.map(Y=>({type:Y.type,payload:Y}))))}function ys(B,h,m,...T){const Y=B.slice();return Y.splice(h,m,...T),Y}function Rd(B){return(!B||0===B.length)&&(B=["added","removed","modified"]),B}!function Uu(B){(function Jd(B,h){B.INTERNAL.registerComponent(new Se.wA("firestore-compat",m=>{const T=m.getProvider("app-compat").getImmediate(),Y=m.getProvider("firestore").getImmediate();return h(T,Y)},"PUBLIC").setServiceProps(Object.assign({},Vu)))})(B,(h,m)=>new gu(h,m,new ks)),B.registerVersion("@firebase/firestore-compat","0.3.12")}(Ad.Z);class Sh{constructor(h,m,T){this.ref=h,this.query=m,this.afs=T}stateChanges(h){let m=Ac(this.query,this.afs.schedulers.outsideAngular);return h&&h.length>0&&(m=m.pipe((0,zs.U)(T=>T.filter(Y=>h.indexOf(Y.type)>-1)))),m.pipe((0,wh.O)(void 0),ll(),(0,id.h)(([T,Y])=>Y.length>0||!T),(0,zs.U)(([T,Y])=>Y),aa.iC)}auditTrail(h){return this.stateChanges(h).pipe((0,uc.R)((m,T)=>[...m,...T],[]))}snapshotChanges(h){const m=Rd(h);return Dh(this.query,m,this.afs.schedulers.outsideAngular).pipe(aa.iC)}valueChanges(h={}){return ld(this.query,this.afs.schedulers.outsideAngular).pipe((0,zs.U)(m=>m.payload.docs.map(T=>h.idField?Object.assign(Object.assign({},T.data()),{[h.idField]:T.id}):T.data())),aa.iC)}get(h){return(0,ps.D)(this.query.get(h)).pipe(aa.iC)}add(h){return this.ref.add(h)}doc(h){return new af(this.ref.doc(h),this.afs)}}class af{constructor(h,m){this.ref=h,this.afs=m}set(h,m){return this.ref.set(h,m)}update(h){return this.ref.update(h)}delete(){return this.ref.delete()}collection(h,m){const T=this.ref.collection(h),{ref:Y,query:ae}=Ah(T,m);return new Sh(Y,ae,this.afs)}snapshotChanges(){return function sf(B,h){return Bu(B,h).pipe((0,wh.O)(void 0),ll(),(0,zs.U)(([m,T])=>T.exists?m?.exists?{payload:T,type:"modified"}:{payload:T,type:"added"}:{payload:T,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(aa.iC)}valueChanges(h={}){return this.snapshotChanges().pipe((0,zs.U)(({payload:m})=>h.idField?Object.assign(Object.assign({},m.data()),{[h.idField]:m.id}):m.data()))}get(h){return(0,ps.D)(this.ref.get(h)).pipe(aa.iC)}}class Qa{constructor(h,m){this.query=h,this.afs=m}stateChanges(h){return h&&0!==h.length?Ac(this.query,this.afs.schedulers.outsideAngular).pipe((0,zs.U)(m=>m.filter(T=>h.indexOf(T.type)>-1)),(0,id.h)(m=>m.length>0),aa.iC):Ac(this.query,this.afs.schedulers.outsideAngular).pipe(aa.iC)}auditTrail(h){return this.stateChanges(h).pipe((0,uc.R)((m,T)=>[...m,...T],[]))}snapshotChanges(h){const m=Rd(h);return Dh(this.query,m,this.afs.schedulers.outsideAngular).pipe(aa.iC)}valueChanges(h={}){return ld(this.query,this.afs.schedulers.outsideAngular).pipe((0,zs.U)(T=>T.payload.docs.map(Y=>h.idField?Object.assign({[h.idField]:Y.id},Y.data()):Y.data())),aa.iC)}get(h){return(0,ps.D)(this.query.get(h)).pipe(aa.iC)}}const Od=new sn.OlP("angularfire2.enableFirestorePersistence"),Kl=new sn.OlP("angularfire2.firestore.persistenceSettings"),Jc=new sn.OlP("angularfire2.firestore.settings"),Cl=new sn.OlP("angularfire2.firestore.use-emulator");function Ah(B,h=(m=>m)){return{query:h(B),ref:B}}let Uf=(()=>{class B{constructor(m,T,Y,ae,be,Ve,it,Wt,On,Yn,lr,Pi,$o,po,So,ya,dc){this.schedulers=it;const Aa=(0,Gl.on)(m,Ve,T),os=On;Yn&&Qd(Aa,Ve,lr,$o,po,So,Pi,ya),[this.firestore,this.persistenceEnabled$]=(0,Gl.cc)(`${Aa.name}.firestore`,"AngularFirestore",Aa.name,()=>{const Go=Ve.runOutsideAngular(()=>Aa.firestore());if(ae&&Go.settings(ae),os&&Go.useEmulator(...os),Y&&!(0,sd.PM)(be)){const Ma=()=>{try{return(0,ps.D)(Go.enablePersistence(Wt||void 0).then(()=>!0,()=>!1))}catch(vu){return typeof console<"u"&&console.warn(vu),(0,fn.of)(!1)}};return[Go,Ve.runOutsideAngular(Ma)]}return[Go,(0,fn.of)(!1)]},[ae,os,Y])}collection(m,T){let Y;Y="string"==typeof m?this.firestore.collection(m):m;const{ref:ae,query:be}=Ah(Y,T),Ve=this.schedulers.ngZone.run(()=>ae);return new Sh(Ve,be,this)}collectionGroup(m,T){const Y=T||(be=>be),ae=this.firestore.collectionGroup(m);return new Qa(Y(ae),this)}doc(m){let T;T="string"==typeof m?this.firestore.doc(m):m;const Y=this.schedulers.ngZone.run(()=>T);return new af(Y,this)}createId(){return this.firestore.collection("_").doc().id}}return B.\u0275fac=function(m){return new(m||B)(sn.LFG(Gl.Dh),sn.LFG(Gl.xv,8),sn.LFG(Od,8),sn.LFG(Jc,8),sn.LFG(sn.Lbi),sn.LFG(sn.R0b),sn.LFG(aa.HU),sn.LFG(Kl,8),sn.LFG(Cl,8),sn.LFG(Dc,8),sn.LFG(bh,8),sn.LFG(Tc,8),sn.LFG(xd,8),sn.LFG(Td,8),sn.LFG(od,8),sn.LFG(Dd,8),sn.LFG(yh.nm,8))},B.\u0275prov=sn.Yz7({token:B,factory:B.\u0275fac,providedIn:"any"}),B})(),Pd=(()=>{var B;class h{constructor(T,Y){this.auth=T,this.db=Y}login(T){return this.auth.signInWithEmailAndPassword(T.email,T.password)}signinUp(T){return this.auth.createUserWithEmailAndPassword(T.email,T.password)}updateUser(T){return function ho(B,h){return(_r=_r||(0,g.Z)(function*(m,{displayName:T,photoURL:Y}){if(void 0===T&&void 0===Y)return;const ae=(0,z.m9)(m),Ve={idToken:yield ae.getIdToken(),displayName:T,photoUrl:Y,returnSecureToken:!0},it=yield Kr(ae,function Vl(B,h){return(jr=jr||(0,g.Z)(function*(m,T){return Ue(m,"POST","/v1/accounts:update",T)})).apply(this,arguments)}(ae.auth,Ve));ae.displayName=it.displayName||null,ae.photoURL=it.photoUrl||null;const Wt=ae.providerData.find(({providerId:On})=>"password"===On);Wt&&(Wt.displayName=ae.displayName,Wt.photoURL=ae.photoURL),yield ae._updateTokensIfNecessary(it)})).apply(this,arguments)}($t().currentUser,T)}logout(){return this.auth.signOut()}saveLog(T){let Y=new Date;const ae=Y.toLocaleDateString()+"-"+Y.toLocaleTimeString();this.db.collection("users").doc().set({email:T,fecha_ingreso:ae})}}return(B=h).\u0275fac=function(T){return new(T||B)(sn.LFG(Dc),sn.LFG(Uf))},B.\u0275prov=sn.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),h})()},8642:(on,et,V)=>{var g=V(6593),z=V(9790),ie=V(5861),b=V(5879),ye=V(6814),Se=V(2459),Le=V(9315),Ae=V(7398);let Fe=(()=>{var y;class u{constructor(f,C){this._renderer=f,this._elementRef=C,this.onChange=X=>{},this.onTouched=()=>{}}setProperty(f,C){this._renderer.setProperty(this._elementRef.nativeElement,f,C)}registerOnTouched(f){this.onTouched=f}registerOnChange(f){this.onChange=f}setDisabledState(f){this.setProperty("disabled",f)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.Qsj),b.Y36(b.SBq))},y.\u0275dir=b.lG2({type:y}),u})(),ce=(()=>{var y;class u extends Fe{}return(y=u).\u0275fac=function(){let _;return function(C){return(_||(_=b.n5z(y)))(C||y)}}(),y.\u0275dir=b.lG2({type:y,features:[b.qOj]}),u})();const Ce=new b.OlP("NgValueAccessor"),ht={provide:Ce,useExisting:(0,b.Gpc)(()=>Rt),multi:!0},At=new b.OlP("CompositionEventMode");let Rt=(()=>{var y;class u extends Fe{constructor(f,C,X){super(f,C),this._compositionMode=X,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jt(){const y=(0,ye.q)()?(0,ye.q)().getUserAgent():"";return/android (\d+)/.test(y.toLowerCase())}())}writeValue(f){this.setProperty("value",f??"")}_handleInput(f){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(f)}_compositionStart(){this._composing=!0}_compositionEnd(f){this._composing=!1,this._compositionMode&&this.onChange(f)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(At,8))},y.\u0275dir=b.lG2({type:y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,C){1&f&&b.NdJ("input",function(me){return C._handleInput(me.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(me){return C._compositionEnd(me.target.value)})},features:[b._Bn([ht]),b.qOj]}),u})();function St(y){return null==y||("string"==typeof y||Array.isArray(y))&&0===y.length}function Kt(y){return null!=y&&"number"==typeof y.length}const xt=new b.OlP("NgValidators"),xe=new b.OlP("NgAsyncValidators"),Ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(u){return function Ke(y){return u=>{if(St(u.value)||St(y))return null;const _=parseFloat(u.value);return!isNaN(_)&&_<y?{min:{min:y,actual:u.value}}:null}}(u)}static max(u){return function Dt(y){return u=>{if(St(u.value)||St(y))return null;const _=parseFloat(u.value);return!isNaN(_)&&_>y?{max:{max:y,actual:u.value}}:null}}(u)}static required(u){return Qe(u)}static requiredTrue(u){return function kt(y){return!0===y.value?null:{required:!0}}(u)}static email(u){return function pn(y){return St(y.value)||Ge.test(y.value)?null:{email:!0}}(u)}static minLength(u){return function cn(y){return u=>St(u.value)||!Kt(u.value)?null:u.value.length<y?{minlength:{requiredLength:y,actualLength:u.value.length}}:null}(u)}static maxLength(u){return function tn(y){return u=>Kt(u.value)&&u.value.length>y?{maxlength:{requiredLength:y,actualLength:u.value.length}}:null}(u)}static pattern(u){return function rr(y){if(!y)return Br;let u,_;return"string"==typeof y?(_="","^"!==y.charAt(0)&&(_+="^"),_+=y,"$"!==y.charAt(y.length-1)&&(_+="$"),u=new RegExp(_)):(_=y.toString(),u=y),f=>{if(St(f.value))return null;const C=f.value;return u.test(C)?null:{pattern:{requiredPattern:_,actualValue:C}}}}(u)}static nullValidator(u){return null}static compose(u){return pt(u)}static composeAsync(u){return at(u)}}function Qe(y){return St(y.value)?{required:!0}:null}function Br(y){return null}function hr(y){return null!=y}function Rr(y){return(0,b.QGY)(y)?(0,Se.D)(y):y}function Hn(y){let u={};return y.forEach(_=>{u=null!=_?{...u,..._}:u}),0===Object.keys(u).length?null:u}function dt(y,u){return u.map(_=>_(y))}function ot(y){return y.map(u=>function Et(y){return!y.validate}(u)?u:_=>u.validate(_))}function pt(y){if(!y)return null;const u=y.filter(hr);return 0==u.length?null:function(_){return Hn(dt(_,u))}}function It(y){return null!=y?pt(ot(y)):null}function at(y){if(!y)return null;const u=y.filter(hr);return 0==u.length?null:function(_){const f=dt(_,u).map(Rr);return(0,Le.D)(f).pipe((0,Ae.U)(Hn))}}function Ft(y){return null!=y?at(ot(y)):null}function Ct(y,u){return null===y?[u]:Array.isArray(y)?[...y,u]:[y,u]}function Xn(y){return y._rawValidators}function Sn(y){return y._rawAsyncValidators}function Nn(y){return y?Array.isArray(y)?y:[y]:[]}function Pn(y,u){return Array.isArray(y)?y.includes(u):y===u}function Ir(y,u){const _=Nn(u);return Nn(y).forEach(C=>{Pn(_,C)||_.push(C)}),_}function Wn(y,u){return Nn(u).filter(_=>!Pn(y,_))}class Sr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(u){this._rawValidators=u||[],this._composedValidatorFn=It(this._rawValidators)}_setAsyncValidators(u){this._rawAsyncValidators=u||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(u){this._onDestroyCallbacks.push(u)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(u=>u()),this._onDestroyCallbacks=[]}reset(u=void 0){this.control&&this.control.reset(u)}hasError(u,_){return!!this.control&&this.control.hasError(u,_)}getError(u,_){return this.control?this.control.getError(u,_):null}}class Ln extends Sr{get formDirective(){return null}get path(){return null}}class fr extends Sr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ii{constructor(u){this._cd=u}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zr=(()=>{var y;class u extends ii{constructor(f){super(f)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(fr,2))},y.\u0275dir=b.lG2({type:y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,C){2&f&&b.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)},features:[b.qOj]}),u})(),si=(()=>{var y;class u extends ii{constructor(f){super(f)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(Ln,10))},y.\u0275dir=b.lG2({type:y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,C){2&f&&b.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)("ng-submitted",C.isSubmitted)},features:[b.qOj]}),u})();const wt="VALID",qe="INVALID",rt="PENDING",Nt="DISABLED";function un(y){return(ge(y)?y.validators:y)||null}function cr(y,u){return(ge(u)?u.asyncValidators:y)||null}function ge(y){return null!=y&&!Array.isArray(y)&&"object"==typeof y}function q(y,u,_){const f=y.controls;if(!(u?Object.keys(f):f).length)throw new b.vHH(1e3,"");if(!f[_])throw new b.vHH(1001,"")}function N(y,u,_){y._forEachChild((f,C)=>{if(void 0===_[C])throw new b.vHH(1002,"")})}class L{constructor(u,_){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(u),this._assignAsyncValidators(_)}get validator(){return this._composedValidatorFn}set validator(u){this._rawValidators=this._composedValidatorFn=u}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(u){this._rawAsyncValidators=this._composedAsyncValidatorFn=u}get parent(){return this._parent}get valid(){return this.status===wt}get invalid(){return this.status===qe}get pending(){return this.status==rt}get disabled(){return this.status===Nt}get enabled(){return this.status!==Nt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(u){this._assignValidators(u)}setAsyncValidators(u){this._assignAsyncValidators(u)}addValidators(u){this.setValidators(Ir(u,this._rawValidators))}addAsyncValidators(u){this.setAsyncValidators(Ir(u,this._rawAsyncValidators))}removeValidators(u){this.setValidators(Wn(u,this._rawValidators))}removeAsyncValidators(u){this.setAsyncValidators(Wn(u,this._rawAsyncValidators))}hasValidator(u){return Pn(this._rawValidators,u)}hasAsyncValidator(u){return Pn(this._rawAsyncValidators,u)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(u={}){this.touched=!0,this._parent&&!u.onlySelf&&this._parent.markAsTouched(u)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(u=>u.markAllAsTouched())}markAsUntouched(u={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(_=>{_.markAsUntouched({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}markAsDirty(u={}){this.pristine=!1,this._parent&&!u.onlySelf&&this._parent.markAsDirty(u)}markAsPristine(u={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(_=>{_.markAsPristine({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}markAsPending(u={}){this.status=rt,!1!==u.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!u.onlySelf&&this._parent.markAsPending(u)}disable(u={}){const _=this._parentMarkedDirty(u.onlySelf);this.status=Nt,this.errors=null,this._forEachChild(f=>{f.disable({...u,onlySelf:!0})}),this._updateValue(),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...u,skipPristineCheck:_}),this._onDisabledChange.forEach(f=>f(!0))}enable(u={}){const _=this._parentMarkedDirty(u.onlySelf);this.status=wt,this._forEachChild(f=>{f.enable({...u,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent}),this._updateAncestors({...u,skipPristineCheck:_}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(u){this._parent&&!u.onlySelf&&(this._parent.updateValueAndValidity(u),u.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(u){this._parent=u}getRawValue(){return this.value}updateValueAndValidity(u={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wt||this.status===rt)&&this._runAsyncValidator(u.emitEvent)),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.updateValueAndValidity(u)}_updateTreeValidity(u={emitEvent:!0}){this._forEachChild(_=>_._updateTreeValidity(u)),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nt:wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(u){if(this.asyncValidator){this.status=rt,this._hasOwnPendingAsyncValidator=!0;const _=Rr(this.asyncValidator(this));this._asyncValidationSubscription=_.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:u})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(u,_={}){this.errors=u,this._updateControlsErrors(!1!==_.emitEvent)}get(u){let _=u;return null==_||(Array.isArray(_)||(_=_.split(".")),0===_.length)?null:_.reduce((f,C)=>f&&f._find(C),this)}getError(u,_){const f=_?this.get(_):this;return f&&f.errors?f.errors[u]:null}hasError(u,_){return!!this.getError(u,_)}get root(){let u=this;for(;u._parent;)u=u._parent;return u}_updateControlsErrors(u){this.status=this._calculateStatus(),u&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(u)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Nt:this.errors?qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rt)?rt:this._anyControlsHaveStatus(qe)?qe:wt}_anyControlsHaveStatus(u){return this._anyControls(_=>_.status===u)}_anyControlsDirty(){return this._anyControls(u=>u.dirty)}_anyControlsTouched(){return this._anyControls(u=>u.touched)}_updatePristine(u={}){this.pristine=!this._anyControlsDirty(),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}_updateTouched(u={}){this.touched=this._anyControlsTouched(),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}_registerOnCollectionChange(u){this._onCollectionChange=u}_setUpdateStrategy(u){ge(u)&&null!=u.updateOn&&(this._updateOn=u.updateOn)}_parentMarkedDirty(u){return!u&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(u){return null}_assignValidators(u){this._rawValidators=Array.isArray(u)?u.slice():u,this._composedValidatorFn=function Gn(y){return Array.isArray(y)?It(y):y||null}(this._rawValidators)}_assignAsyncValidators(u){this._rawAsyncValidators=Array.isArray(u)?u.slice():u,this._composedAsyncValidatorFn=function _i(y){return Array.isArray(y)?Ft(y):y||null}(this._rawAsyncValidators)}}class F extends L{constructor(u,_,f){super(un(_),cr(f,_)),this.controls=u,this._initObservables(),this._setUpdateStrategy(_),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(u,_){return this.controls[u]?this.controls[u]:(this.controls[u]=_,_.setParent(this),_._registerOnCollectionChange(this._onCollectionChange),_)}addControl(u,_,f={}){this.registerControl(u,_),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(u,_={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}setControl(u,_,f={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],_&&this.registerControl(u,_),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(u){return this.controls.hasOwnProperty(u)&&this.controls[u].enabled}setValue(u,_={}){N(this,0,u),Object.keys(u).forEach(f=>{q(this,!0,f),this.controls[f].setValue(u[f],{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_)}patchValue(u,_={}){null!=u&&(Object.keys(u).forEach(f=>{const C=this.controls[f];C&&C.patchValue(u[f],{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_))}reset(u={},_={}){this._forEachChild((f,C)=>{f.reset(u[C],{onlySelf:!0,emitEvent:_.emitEvent})}),this._updatePristine(_),this._updateTouched(_),this.updateValueAndValidity(_)}getRawValue(){return this._reduceChildren({},(u,_,f)=>(u[f]=_.getRawValue(),u))}_syncPendingControls(){let u=this._reduceChildren(!1,(_,f)=>!!f._syncPendingControls()||_);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){Object.keys(this.controls).forEach(_=>{const f=this.controls[_];f&&u(f,_)})}_setUpControls(){this._forEachChild(u=>{u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(u){for(const[_,f]of Object.entries(this.controls))if(this.contains(_)&&u(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(_,f,C)=>((f.enabled||this.disabled)&&(_[C]=f.value),_))}_reduceChildren(u,_){let f=u;return this._forEachChild((C,X)=>{f=_(f,C,X)}),f}_allControlsDisabled(){for(const u of Object.keys(this.controls))if(this.controls[u].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(u){return this.controls.hasOwnProperty(u)?this.controls[u]:null}}class mt extends F{}const Ht=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xn}),xn="always";function qn(y,u,_=xn){bt(y,u),u.valueAccessor.writeValue(y.value),(y.disabled||"always"===_)&&u.valueAccessor.setDisabledState?.(y.disabled),function zt(y,u){u.valueAccessor.registerOnChange(_=>{y._pendingValue=_,y._pendingChange=!0,y._pendingDirty=!0,"change"===y.updateOn&&en(y,u)})}(y,u),function Mn(y,u){const _=(f,C)=>{u.valueAccessor.writeValue(f),C&&u.viewToModelUpdate(f)};y.registerOnChange(_),u._registerOnDestroy(()=>{y._unregisterOnChange(_)})}(y,u),function mn(y,u){u.valueAccessor.registerOnTouched(()=>{y._pendingTouched=!0,"blur"===y.updateOn&&y._pendingChange&&en(y,u),"submit"!==y.updateOn&&y.markAsTouched()})}(y,u),function pi(y,u){if(u.valueAccessor.setDisabledState){const _=f=>{u.valueAccessor.setDisabledState(f)};y.registerOnDisabledChange(_),u._registerOnDestroy(()=>{y._unregisterOnDisabledChange(_)})}}(y,u)}function ur(y,u,_=!0){const f=()=>{};u.valueAccessor&&(u.valueAccessor.registerOnChange(f),u.valueAccessor.registerOnTouched(f)),ut(y,u),y&&(u._invokeOnDestroyCallbacks(),y._registerOnCollectionChange(()=>{}))}function Mi(y,u){y.forEach(_=>{_.registerOnValidatorChange&&_.registerOnValidatorChange(u)})}function bt(y,u){const _=Xn(y);null!==u.validator?y.setValidators(Ct(_,u.validator)):"function"==typeof _&&y.setValidators([_]);const f=Sn(y);null!==u.asyncValidator?y.setAsyncValidators(Ct(f,u.asyncValidator)):"function"==typeof f&&y.setAsyncValidators([f]);const C=()=>y.updateValueAndValidity();Mi(u._rawValidators,C),Mi(u._rawAsyncValidators,C)}function ut(y,u){let _=!1;if(null!==y){if(null!==u.validator){const C=Xn(y);if(Array.isArray(C)&&C.length>0){const X=C.filter(me=>me!==u.validator);X.length!==C.length&&(_=!0,y.setValidators(X))}}if(null!==u.asyncValidator){const C=Sn(y);if(Array.isArray(C)&&C.length>0){const X=C.filter(me=>me!==u.asyncValidator);X.length!==C.length&&(_=!0,y.setAsyncValidators(X))}}}const f=()=>{};return Mi(u._rawValidators,f),Mi(u._rawAsyncValidators,f),_}function en(y,u){y._pendingDirty&&y.markAsDirty(),y.setValue(y._pendingValue,{emitModelToViewChange:!1}),u.viewToModelUpdate(y._pendingValue),y._pendingChange=!1}function ir(y,u){bt(y,u)}function Ys(y,u){y._syncPendingControls(),u.forEach(_=>{const f=_.control;"submit"===f.updateOn&&f._pendingChange&&(_.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}const bs={provide:Ln,useExisting:(0,b.Gpc)(()=>re)},Ye=(()=>Promise.resolve())();let re=(()=>{var y;class u extends Ln{constructor(f,C,X){super(),this.callSetDisabledState=X,this.submitted=!1,this._directives=new Set,this.ngSubmit=new b.vpe,this.form=new F({},It(f),Ft(C))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(f){Ye.then(()=>{const C=this._findContainer(f.path);f.control=C.registerControl(f.name,f.control),qn(f.control,f,this.callSetDisabledState),f.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(f)})}getControl(f){return this.form.get(f.path)}removeControl(f){Ye.then(()=>{const C=this._findContainer(f.path);C&&C.removeControl(f.name),this._directives.delete(f)})}addFormGroup(f){Ye.then(()=>{const C=this._findContainer(f.path),X=new F({});ir(X,f),C.registerControl(f.name,X),X.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(f){Ye.then(()=>{const C=this._findContainer(f.path);C&&C.removeControl(f.name)})}getFormGroup(f){return this.form.get(f.path)}updateModel(f,C){Ye.then(()=>{this.form.get(f.path).setValue(C)})}setValue(f){this.control.setValue(f)}onSubmit(f){return this.submitted=!0,Ys(this.form,this._directives),this.ngSubmit.emit(f),"dialog"===f?.target?.method}onReset(){this.resetForm()}resetForm(f=void 0){this.form.reset(f),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(f){return f.pop(),f.length?this.form.get(f):this.form}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(xt,10),b.Y36(xe,10),b.Y36(Ht,8))},y.\u0275dir=b.lG2({type:y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(f,C){1&f&&b.NdJ("submit",function(me){return C.onSubmit(me)})("reset",function(){return C.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([bs]),b.qOj]}),u})();function De(y,u){const _=y.indexOf(u);_>-1&&y.splice(_,1)}function $(y){return"object"==typeof y&&null!==y&&2===Object.keys(y).length&&"value"in y&&"disabled"in y}const oe=class extends L{constructor(u=null,_,f){super(un(_),cr(f,_)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(u),this._setUpdateStrategy(_),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ge(_)&&(_.nonNullable||_.initialValueIsDefault)&&(this.defaultValue=$(u)?u.value:u)}setValue(u,_={}){this.value=this._pendingValue=u,this._onChange.length&&!1!==_.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==_.emitViewToModelChange)),this.updateValueAndValidity(_)}patchValue(u,_={}){this.setValue(u,_)}reset(u=this.defaultValue,_={}){this._applyFormState(u),this.markAsPristine(_),this.markAsUntouched(_),this.setValue(this.value,_),this._pendingChange=!1}_updateValue(){}_anyControls(u){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(u){this._onChange.push(u)}_unregisterOnChange(u){De(this._onChange,u)}registerOnDisabledChange(u){this._onDisabledChange.push(u)}_unregisterOnDisabledChange(u){De(this._onDisabledChange,u)}_forEachChild(u){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(u){$(u)?(this.value=this._pendingValue=u.value,u.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=u}};let kr=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),u})(),qo=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({}),u})();const Kr=new b.OlP("NgModelWithFormControlWarning"),us={provide:fr,useExisting:(0,b.Gpc)(()=>Ss)};let Ss=(()=>{var y;class u extends fr{set isDisabled(f){}constructor(f,C,X,me,Pe){super(),this._ngModelWarningConfig=me,this.callSetDisabledState=Pe,this.update=new b.vpe,this._ngModelWarningSent=!1,this._setValidators(f),this._setAsyncValidators(C),this.valueAccessor=function nn(y,u){if(!u)return null;let _,f,C;return Array.isArray(u),u.forEach(X=>{X.constructor===Rt?_=X:function gs(y){return Object.getPrototypeOf(y.constructor)===ce}(X)?f=X:C=X}),C||f||_||null}(0,X)}ngOnChanges(f){if(this._isControlChanged(f)){const C=f.form.previousValue;C&&ur(C,this,!1),qn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function cs(y,u){if(!y.hasOwnProperty("model"))return!1;const _=y.model;return!!_.isFirstChange()||!Object.is(u,_.currentValue)})(f,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ur(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}_isControlChanged(f){return f.hasOwnProperty("form")}}return(y=u)._ngModelWarningSentOnce=!1,y.\u0275fac=function(f){return new(f||y)(b.Y36(xt,10),b.Y36(xe,10),b.Y36(Ce,10),b.Y36(Kr,8),b.Y36(Ht,8))},y.\u0275dir=b.lG2({type:y,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[b._Bn([us]),b.qOj,b.TTD]}),u})();const ba={provide:Ln,useExisting:(0,b.Gpc)(()=>Er)};let Er=(()=>{var y;class u extends Ln{constructor(f,C,X){super(),this.callSetDisabledState=X,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(f),this._setAsyncValidators(C)}ngOnChanges(f){this._checkFormPresent(),f.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ut(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(f){const C=this.form.get(f.path);return qn(C,f,this.callSetDisabledState),C.updateValueAndValidity({emitEvent:!1}),this.directives.push(f),C}getControl(f){return this.form.get(f.path)}removeControl(f){ur(f.control||null,f,!1),function Jr(y,u){const _=y.indexOf(u);_>-1&&y.splice(_,1)}(this.directives,f)}addFormGroup(f){this._setUpFormContainer(f)}removeFormGroup(f){this._cleanUpFormContainer(f)}getFormGroup(f){return this.form.get(f.path)}addFormArray(f){this._setUpFormContainer(f)}removeFormArray(f){this._cleanUpFormContainer(f)}getFormArray(f){return this.form.get(f.path)}updateModel(f,C){this.form.get(f.path).setValue(C)}onSubmit(f){return this.submitted=!0,Ys(this.form,this.directives),this.ngSubmit.emit(f),"dialog"===f?.target?.method}onReset(){this.resetForm()}resetForm(f=void 0){this.form.reset(f),this.submitted=!1}_updateDomValue(){this.directives.forEach(f=>{const C=f.control,X=this.form.get(f.path);C!==X&&(ur(C||null,f),(y=>y instanceof oe)(X)&&(qn(X,f,this.callSetDisabledState),f.control=X))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(f){const C=this.form.get(f.path);ir(C,f),C.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(f){if(this.form){const C=this.form.get(f.path);C&&function Xr(y,u){return ut(y,u)}(C,f)&&C.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bt(this.form,this),this._oldForm&&ut(this._oldForm,this)}_checkFormPresent(){}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(xt,10),b.Y36(xe,10),b.Y36(Ht,8))},y.\u0275dir=b.lG2({type:y,selectors:[["","formGroup",""]],hostBindings:function(f,C){1&f&&b.NdJ("submit",function(me){return C.onSubmit(me)})("reset",function(){return C.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([ba]),b.qOj,b.TTD]}),u})(),oo=(()=>{var y;class u{constructor(){this._validator=Br}ngOnChanges(f){if(this.inputName in f){const C=this.normalizeInput(f[this.inputName].currentValue);this._enabled=this.enabled(C),this._validator=this._enabled?this.createValidator(C):Br,this._onChange&&this._onChange()}}validate(f){return this._validator(f)}registerOnValidatorChange(f){this._onChange=f}enabled(f){return null!=f}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,features:[b.TTD]}),u})();const Yo={provide:xt,useExisting:(0,b.Gpc)(()=>dl),multi:!0};let dl=(()=>{var y;class u extends oo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.VuI,this.createValidator=f=>Qe}enabled(f){return f}}return(y=u).\u0275fac=function(){let _;return function(C){return(_||(_=b.n5z(y)))(C||y)}}(),y.\u0275dir=b.lG2({type:y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(f,C){2&f&&b.uIk("required",C._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([Yo]),b.qOj]}),u})(),Us=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[qo]}),u})();class Gs extends L{constructor(u,_,f){super(un(_),cr(f,_)),this.controls=u,this._initObservables(),this._setUpdateStrategy(_),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(u){return this.controls[this._adjustIndex(u)]}push(u,_={}){this.controls.push(u),this._registerControl(u),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}insert(u,_,f={}){this.controls.splice(u,0,_),this._registerControl(_),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(u,_={}){let f=this._adjustIndex(u);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:_.emitEvent})}setControl(u,_,f={}){let C=this._adjustIndex(u);C<0&&(C=0),this.controls[C]&&this.controls[C]._registerOnCollectionChange(()=>{}),this.controls.splice(C,1),_&&(this.controls.splice(C,0,_),this._registerControl(_)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(u,_={}){N(this,0,u),u.forEach((f,C)=>{q(this,!1,C),this.at(C).setValue(f,{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_)}patchValue(u,_={}){null!=u&&(u.forEach((f,C)=>{this.at(C)&&this.at(C).patchValue(f,{onlySelf:!0,emitEvent:_.emitEvent})}),this.updateValueAndValidity(_))}reset(u=[],_={}){this._forEachChild((f,C)=>{f.reset(u[C],{onlySelf:!0,emitEvent:_.emitEvent})}),this._updatePristine(_),this._updateTouched(_),this.updateValueAndValidity(_)}getRawValue(){return this.controls.map(u=>u.getRawValue())}clear(u={}){this.controls.length<1||(this._forEachChild(_=>_._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:u.emitEvent}))}_adjustIndex(u){return u<0?u+this.length:u}_syncPendingControls(){let u=this.controls.reduce((_,f)=>!!f._syncPendingControls()||_,!1);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_forEachChild(u){this.controls.forEach((_,f)=>{u(_,f)})}_updateValue(){this.value=this.controls.filter(u=>u.enabled||this.disabled).map(u=>u.value)}_anyControls(u){return this.controls.some(_=>_.enabled&&u(_))}_setUpControls(){this._forEachChild(u=>this._registerControl(u))}_allControlsDisabled(){for(const u of this.controls)if(u.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(u){u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)}_find(u){return this.at(u)??null}}function wa(y){return!!y&&(void 0!==y.asyncValidators||void 0!==y.validators||void 0!==y.updateOn)}let Jl=(()=>{var y;class u{constructor(){this.useNonNullable=!1}get nonNullable(){const f=new u;return f.useNonNullable=!0,f}group(f,C=null){const X=this._reduceControls(f);let me={};return wa(C)?me=C:null!==C&&(me.validators=C.validator,me.asyncValidators=C.asyncValidator),new F(X,me)}record(f,C=null){const X=this._reduceControls(f);return new mt(X,C)}control(f,C,X){let me={};return this.useNonNullable?(wa(C)?me=C:(me.validators=C,me.asyncValidators=X),new oe(f,{...me,nonNullable:!0})):new oe(f,C,X)}array(f,C,X){const me=f.map(Pe=>this._createControl(Pe));return new Gs(me,C,X)}_reduceControls(f){const C={};return Object.keys(f).forEach(X=>{C[X]=this._createControl(f[X])}),C}_createControl(f){return f instanceof oe||f instanceof L?f:Array.isArray(f)?this.control(f[0],f.length>1?f[1]:null,f.length>2?f[2]:null):this.control(f)}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),u})(),gc=(()=>{var y;class u{static withConfig(f){return{ngModule:u,providers:[{provide:Ht,useValue:f.callSetDisabledState??xn}]}}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[Us]}),u})(),ec=(()=>{var y;class u{static withConfig(f){return{ngModule:u,providers:[{provide:Kr,useValue:f.warnOnNgModelWithFormControl??"always"},{provide:Ht,useValue:f.callSetDisabledState??xn}]}}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[Us]}),u})();var kl=V(6999),Si=V(2333),Js=V(8645),bo=V(2296),nr=V(6825),Es=V(8484),fa=V(2831),Po=V(8180),Na=V(9773),Ia=V(4300),fl=V(719),Nl=V(9451),ko=V(3680);function ws(y,u){if(1&y){const _=b.EpF();b.TgZ(0,"div",2)(1,"button",3),b.NdJ("click",function(){b.CHM(_);const C=b.oxw();return b.KtG(C.action())}),b._uU(2),b.qZA()()}if(2&y){const _=b.oxw();b.xp6(2),b.hij(" ",_.data.action," ")}}const Qo=["label"];function Bs(y,u){}const No=Math.pow(2,31)-1;class Xo{constructor(u,_){this._overlayRef=_,this._afterDismissed=new Js.x,this._afterOpened=new Js.x,this._onAction=new Js.x,this._dismissedByAction=!1,this.containerInstance=u,u._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(u){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(u,No))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const yi=new b.OlP("MatSnackBarData");class js{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let vs=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),u})(),Ws=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),u})(),_c=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),u})(),Fa=(()=>{var y;class u{constructor(f,C){this.snackBarRef=f,this.data=C}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(Xo),b.Y36(yi))},y.\u0275cmp=b.Xpm({type:y,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(f,C){1&f&&(b.TgZ(0,"div",0),b._uU(1),b.qZA(),b.YNc(2,ws,3,1,"div",1)),2&f&&(b.xp6(1),b.hij(" ",C.data.message,"\n"),b.xp6(1),b.Q6J("ngIf",C.hasAction))},dependencies:[ye.O5,bo.lW,vs,Ws,_c],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),u})();const As={snackBarState:(0,nr.X$)("state",[(0,nr.SB)("void, hidden",(0,nr.oB)({transform:"scale(0.8)",opacity:0})),(0,nr.SB)("visible",(0,nr.oB)({transform:"scale(1)",opacity:1})),(0,nr.eR)("* => visible",(0,nr.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,nr.eR)("* => void, * => hidden",(0,nr.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,nr.oB)({opacity:0})))])};let rl=0,pa=(()=>{var y;class u extends Es.en{constructor(f,C,X,me,Pe){super(),this._ngZone=f,this._elementRef=C,this._changeDetectorRef=X,this._platform=me,this.snackBarConfig=Pe,this._document=(0,b.f3M)(ye.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Js.x,this._onExit=new Js.x,this._onEnter=new Js.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+rl++,this.attachDomPortal=Je=>{this._assertNotAttached();const Mt=this._portalOutlet.attachDomPortal(Je);return this._afterPortalAttached(),Mt},this._live="assertive"!==Pe.politeness||Pe.announcementMessage?"off"===Pe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(f){this._assertNotAttached();const C=this._portalOutlet.attachComponentPortal(f);return this._afterPortalAttached(),C}attachTemplatePortal(f){this._assertNotAttached();const C=this._portalOutlet.attachTemplatePortal(f);return this._afterPortalAttached(),C}onAnimationEnd(f){const{fromState:C,toState:X}=f;if(("void"===X&&"void"!==C||"hidden"===X)&&this._completeExit(),"visible"===X){const me=this._onEnter;this._ngZone.run(()=>{me.next(),me.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Po.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const f=this._elementRef.nativeElement,C=this.snackBarConfig.panelClass;C&&(Array.isArray(C)?C.forEach(X=>f.classList.add(X)):f.classList.add(C)),this._exposeToModals()}_exposeToModals(){const f=this._liveElementId,C=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let X=0;X<C.length;X++){const me=C[X],Pe=me.getAttribute("aria-owns");this._trackedModals.add(me),Pe?-1===Pe.indexOf(f)&&me.setAttribute("aria-owns",Pe+" "+f):me.setAttribute("aria-owns",f)}}_clearFromModals(){this._trackedModals.forEach(f=>{const C=f.getAttribute("aria-owns");if(C){const X=C.replace(this._liveElementId,"").trim();X.length>0?f.setAttribute("aria-owns",X):f.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const f=this._elementRef.nativeElement.querySelector("[aria-hidden]"),C=this._elementRef.nativeElement.querySelector("[aria-live]");if(f&&C){let X=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&f.contains(document.activeElement)&&(X=document.activeElement),f.removeAttribute("aria-hidden"),C.appendChild(f),X?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.R0b),b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(fa.t4),b.Y36(js))},y.\u0275dir=b.lG2({type:y,viewQuery:function(f,C){if(1&f&&b.Gf(Es.Pl,7),2&f){let X;b.iGM(X=b.CRH())&&(C._portalOutlet=X.first)}},features:[b.qOj]}),u})(),qs=(()=>{var y;class u extends pa{_afterPortalAttached(){super._afterPortalAttached();const f=this._label.nativeElement,C="mdc-snackbar__label";f.classList.toggle(C,!f.querySelector(`.${C}`))}}return(y=u).\u0275fac=function(){let _;return function(C){return(_||(_=b.n5z(y)))(C||y)}}(),y.\u0275cmp=b.Xpm({type:y,selectors:[["mat-snack-bar-container"]],viewQuery:function(f,C){if(1&f&&b.Gf(Qo,7),2&f){let X;b.iGM(X=b.CRH())&&(C._label=X.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(f,C){1&f&&b.WFA("@state.done",function(me){return C.onAnimationEnd(me)}),2&f&&b.d8E("@state",C._animationState)},features:[b.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(f,C){1&f&&(b.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),b.YNc(4,Bs,0,0,"ng-template",4),b.qZA(),b._UZ(5,"div"),b.qZA()()),2&f&&(b.xp6(5),b.uIk("aria-live",C._live)("role",C._role)("id",C._liveElementId))},dependencies:[Es.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[As.snackBarState]}}),u})(),Jo=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[Nl.U8,Es.eL,ye.ez,bo.ot,ko.BQ,ko.BQ]}),u})();const il=new b.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Ki(){return new js}});let Mr=(()=>{var y;class u{get _openedSnackBarRef(){const f=this._parentSnackBar;return f?f._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(f){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=f:this._snackBarRefAtThisLevel=f}constructor(f,C,X,me,Pe,Je){this._overlay=f,this._live=C,this._injector=X,this._breakpointObserver=me,this._parentSnackBar=Pe,this._defaultConfig=Je,this._snackBarRefAtThisLevel=null}openFromComponent(f,C){return this._attach(f,C)}openFromTemplate(f,C){return this._attach(f,C)}open(f,C="",X){const me={...this._defaultConfig,...X};return me.data={message:f,action:C},me.announcementMessage===f&&(me.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,me)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(f,C){const me=b.zs3.create({parent:C&&C.viewContainerRef&&C.viewContainerRef.injector||this._injector,providers:[{provide:js,useValue:C}]}),Pe=new Es.C5(this.snackBarContainerComponent,C.viewContainerRef,me),Je=f.attach(Pe);return Je.instance.snackBarConfig=C,Je.instance}_attach(f,C){const X={...new js,...this._defaultConfig,...C},me=this._createOverlay(X),Pe=this._attachSnackBarContainer(me,X),Je=new Xo(Pe,me);if(f instanceof b.Rgc){const Mt=new Es.UE(f,null,{$implicit:X.data,snackBarRef:Je});Je.instance=Pe.attachTemplatePortal(Mt)}else{const Mt=this._createInjector(X,Je),Cn=new Es.C5(f,void 0,Mt),Rn=Pe.attachComponentPortal(Cn);Je.instance=Rn.instance}return this._breakpointObserver.observe(fl.u3.HandsetPortrait).pipe((0,Na.R)(me.detachments())).subscribe(Mt=>{me.overlayElement.classList.toggle(this.handsetCssClass,Mt.matches)}),X.announcementMessage&&Pe._onAnnounce.subscribe(()=>{this._live.announce(X.announcementMessage,X.politeness)}),this._animateSnackBar(Je,X),this._openedSnackBarRef=Je,this._openedSnackBarRef}_animateSnackBar(f,C){f.afterDismissed().subscribe(()=>{this._openedSnackBarRef==f&&(this._openedSnackBarRef=null),C.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{f.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):f.containerInstance.enter(),C.duration&&C.duration>0&&f.afterOpened().subscribe(()=>f._dismissAfter(C.duration))}_createOverlay(f){const C=new Nl.X_;C.direction=f.direction;let X=this._overlay.position().global();const me="rtl"===f.direction,Pe="left"===f.horizontalPosition||"start"===f.horizontalPosition&&!me||"end"===f.horizontalPosition&&me,Je=!Pe&&"center"!==f.horizontalPosition;return Pe?X.left("0"):Je?X.right("0"):X.centerHorizontally(),"top"===f.verticalPosition?X.top("0"):X.bottom("0"),C.positionStrategy=X,this._overlay.create(C)}_createInjector(f,C){return b.zs3.create({parent:f&&f.viewContainerRef&&f.viewContainerRef.injector||this._injector,providers:[{provide:Xo,useValue:C},{provide:yi,useValue:f.data}]})}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(Nl.aV),b.LFG(Ia.Kd),b.LFG(b.zs3),b.LFG(fl.Yg),b.LFG(y,12),b.LFG(il))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac}),u})(),Fl=(()=>{var y;class u extends Mr{constructor(f,C,X,me,Pe,Je){super(f,C,X,me,Pe,Je),this.simpleSnackBarComponent=Fa,this.snackBarContainerComponent=qs,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(Nl.aV),b.LFG(Ia.Kd),b.LFG(b.zs3),b.LFG(fl.Yg),b.LFG(y,12),b.LFG(il))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:Jo}),u})();var La=V(9388),Zi=V(7394),tc=V(3019),pl=V(5592),Va=V(2181),Hs=V(940);class lo{constructor(u){this._box=u,this._destroyed=new Js.x,this._resizeSubject=new Js.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(_=>this._resizeSubject.next(_)))}observe(u){return this._elementObservables.has(u)||this._elementObservables.set(u,new pl.y(_=>{const f=this._resizeSubject.subscribe(_);return this._resizeObserver?.observe(u,{box:this._box}),()=>{this._resizeObserver?.unobserve(u),f.unsubscribe(),this._elementObservables.delete(u)}}).pipe((0,Va.h)(_=>_.some(f=>f.target===u)),(0,Hs.d)({bufferSize:1,refCount:!0}),(0,Na.R)(this._destroyed))),this._elementObservables.get(u)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Eo=(()=>{var y;class u{constructor(){this._observers=new Map,this._ngZone=(0,b.f3M)(b.R0b)}ngOnDestroy(){for(const[,f]of this._observers)f.destroy();this._observers.clear()}observe(f,C){const X=C?.box||"content-box";return this._observers.has(X)||this._observers.set(X,new lo(X)),this._observers.get(X).observe(f)}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),u})();var Ci=V(2495),Ua=V(7131);const Ba=["notch"],ml=["matFormFieldNotchedOutline",""],hs=["*"],ja=["textField"],co=["iconPrefixContainer"],Ha=["textPrefixContainer"];function S(y,u){1&y&&b._UZ(0,"span",19)}function J(y,u){if(1&y&&(b.TgZ(0,"label",17),b.Hsn(1,1),b.YNc(2,S,1,0,"span",18),b.qZA()),2&y){const _=b.oxw(2);b.Q6J("floating",_._shouldLabelFloat())("monitorResize",_._hasOutline())("id",_._labelId),b.uIk("for",_._control.id),b.xp6(2),b.Q6J("ngIf",!_.hideRequiredMarker&&_._control.required)}}function Me(y,u){if(1&y&&b.YNc(0,J,3,5,"label",16),2&y){const _=b.oxw();b.Q6J("ngIf",_._hasFloatingLabel())}}function W(y,u){1&y&&b._UZ(0,"div",20)}function ve(y,u){}function Ze(y,u){if(1&y&&b.YNc(0,ve,0,0,"ng-template",22),2&y){b.oxw(2);const _=b.MAs(1);b.Q6J("ngTemplateOutlet",_)}}function Lt(y,u){if(1&y&&(b.TgZ(0,"div",21),b.YNc(1,Ze,1,1,"ng-template",9),b.qZA()),2&y){const _=b.oxw();b.Q6J("matFormFieldNotchedOutlineOpen",_._shouldLabelFloat()),b.xp6(1),b.Q6J("ngIf",!_._forceDisplayInfixLabel())}}function gn(y,u){1&y&&(b.TgZ(0,"div",23,24),b.Hsn(2,2),b.qZA())}function Fr(y,u){1&y&&(b.TgZ(0,"div",25,26),b.Hsn(2,3),b.qZA())}function Wr(y,u){}function ui(y,u){if(1&y&&b.YNc(0,Wr,0,0,"ng-template",22),2&y){b.oxw();const _=b.MAs(1);b.Q6J("ngTemplateOutlet",_)}}function Lr(y,u){1&y&&(b.TgZ(0,"div",27),b.Hsn(1,4),b.qZA())}function ns(y,u){1&y&&(b.TgZ(0,"div",28),b.Hsn(1,5),b.qZA())}function Oi(y,u){1&y&&b._UZ(0,"div",29)}function qi(y,u){if(1&y&&(b.TgZ(0,"div",30),b.Hsn(1,6),b.qZA()),2&y){const _=b.oxw();b.Q6J("@transitionMessages",_._subscriptAnimationState)}}function Fo(y,u){if(1&y&&(b.TgZ(0,"mat-hint",34),b._uU(1),b.qZA()),2&y){const _=b.oxw(2);b.Q6J("id",_._hintLabelId),b.xp6(1),b.Oqu(_.hintLabel)}}function ma(y,u){if(1&y&&(b.TgZ(0,"div",31),b.YNc(1,Fo,2,2,"mat-hint",32),b.Hsn(2,7),b._UZ(3,"div",33),b.Hsn(4,8),b.qZA()),2&y){const _=b.oxw();b.Q6J("@transitionMessages",_._subscriptAnimationState),b.xp6(1),b.Q6J("ngIf",_.hintLabel)}}const ea=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Lo=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let rs=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["mat-label"]]}),u})(),is=0;const uo=new b.OlP("MatError");let Ai=(()=>{var y;class u{constructor(f,C){this.id="mat-mdc-error-"+is++,f||C.nativeElement.setAttribute("aria-live","polite")}}return(y=u).\u0275fac=function(f){return new(f||y)(b.$8M("aria-live"),b.Y36(b.SBq))},y.\u0275dir=b.lG2({type:y,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(f,C){2&f&&b.Ikx("id",C.id)},inputs:{id:"id"},features:[b._Bn([{provide:uo,useExisting:y}])]}),u})(),Ll=0,Vl=(()=>{var y;class u{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ll++}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(f,C){2&f&&(b.Ikx("id",C.id),b.uIk("align",null),b.ekj("mat-mdc-form-field-hint-end","end"===C.align))},inputs:{align:"align",id:"id"}}),u})();const ho=new b.OlP("MatPrefix"),Nc=new b.OlP("MatSuffix");let gl=(()=>{var y;class u{constructor(){this._isText=!1}set _isTextSelector(f){this._isText=!0}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[b._Bn([{provide:Nc,useExisting:y}])]}),u})();const wo=new b.OlP("FloatingLabelParent");let _l=(()=>{var y;class u{get floating(){return this._floating}set floating(f){this._floating=f,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(f){this._monitorResize=f,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(f){this._elementRef=f,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,b.f3M)(Eo),this._ngZone=(0,b.f3M)(b.R0b),this._parent=(0,b.f3M)(wo),this._resizeSubscription=new Zi.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Fc(y){if(null!==y.offsetParent)return y.scrollWidth;const _=y.cloneNode(!0);_.style.setProperty("position","absolute"),_.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(_);const f=_.scrollWidth;return _.remove(),f}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.SBq))},y.\u0275dir=b.lG2({type:y,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(f,C){2&f&&b.ekj("mdc-floating-label--float-above",C.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),u})();const Cu="mdc-line-ripple--active",ta="mdc-line-ripple--deactivating";let Ca=(()=>{var y;class u{constructor(f,C){this._elementRef=f,this._handleTransitionEnd=X=>{const me=this._elementRef.nativeElement.classList,Pe=me.contains(ta);"opacity"===X.propertyName&&Pe&&me.remove(Cu,ta)},C.runOutsideAngular(()=>{f.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const f=this._elementRef.nativeElement.classList;f.remove(ta),f.add(Cu)}deactivate(){this._elementRef.nativeElement.classList.add(ta)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.SBq),b.Y36(b.R0b))},y.\u0275dir=b.lG2({type:y,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),u})(),xu=(()=>{var y;class u{constructor(f,C){this._elementRef=f,this._ngZone=C,this.open=!1}ngAfterViewInit(){const f=this._elementRef.nativeElement.querySelector(".mdc-floating-label");f?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(f.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>f.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(f){this._notch.nativeElement.style.width=this.open&&f?`calc(${f}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.SBq),b.Y36(b.R0b))},y.\u0275cmp=b.Xpm({type:y,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(f,C){if(1&f&&b.Gf(Ba,5),2&f){let X;b.iGM(X=b.CRH())&&(C._notch=X.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(f,C){2&f&&b.ekj("mdc-notched-outline--notched",C.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ml,ngContentSelectors:hs,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(f,C){1&f&&(b.F$t(),b._UZ(0,"div",0),b.TgZ(1,"div",1,2),b.Hsn(3),b.qZA(),b._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),u})();const Ed={transitionMessages:(0,nr.X$)("transitionMessages",[(0,nr.SB)("enter",(0,nr.oB)({opacity:1,transform:"translateY(0%)"})),(0,nr.eR)("void => enter",[(0,nr.oB)({opacity:0,transform:"translateY(-5px)"}),(0,nr.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vl=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275dir=b.lG2({type:y}),u})();const yl=new b.OlP("MatFormField"),Qu=new b.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Vc=0,sl=(()=>{var y;class u{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(f){this._hideRequiredMarker=(0,Ci.Ig)(f)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(f){f!==this._floatLabel&&(this._floatLabel=f,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(f){const C=this._appearance;this._appearance=f||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==C&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(f){this._subscriptSizing=f||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(f){this._hintLabel=f,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(f){this._explicitFormFieldControl=f}constructor(f,C,X,me,Pe,Je,Mt,Cn){this._elementRef=f,this._changeDetectorRef=C,this._ngZone=X,this._dir=me,this._platform=Pe,this._defaults=Je,this._animationMode=Mt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Vc++,this._hintLabelId="mat-mdc-hint-"+Vc++,this._subscriptAnimationState="",this._destroyed=new Js.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Je&&(Je.appearance&&(this.appearance=Je.appearance),this._hideRequiredMarker=!!Je?.hideRequiredMarker,Je.color&&(this.color=Je.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const f=this._control;f.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${f.controlType}`),f.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),f.ngControl&&f.ngControl.valueChanges&&f.ngControl.valueChanges.pipe((0,Na.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(f=>!f._isText),this._hasTextPrefix=!!this._prefixChildren.find(f=>f._isText),this._hasIconSuffix=!!this._suffixChildren.find(f=>!f._isText),this._hasTextSuffix=!!this._suffixChildren.find(f=>f._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,tc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Na.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Na.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(f){const C=this._control?this._control.ngControl:null;return C&&C[f]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let f=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&f.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const C=this._hintChildren?this._hintChildren.find(me=>"start"===me.align):null,X=this._hintChildren?this._hintChildren.find(me=>"end"===me.align):null;C?f.push(C.id):this._hintLabel&&f.push(this._hintLabelId),X&&f.push(X.id)}else this._errorChildren&&f.push(...this._errorChildren.map(C=>C.id));this._control.setDescribedByIds(f)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const f=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(f.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const C=this._iconPrefixContainer?.nativeElement,X=this._textPrefixContainer?.nativeElement,me=C?.getBoundingClientRect().width??0,Pe=X?.getBoundingClientRect().width??0;f.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${me+Pe}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const f=this._elementRef.nativeElement;if(f.getRootNode){const C=f.getRootNode();return C&&C!==f}return document.documentElement.contains(f)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(La.Is),b.Y36(fa.t4),b.Y36(Qu,8),b.Y36(b.QbO,8),b.Y36(ye.K0))},y.\u0275cmp=b.Xpm({type:y,selectors:[["mat-form-field"]],contentQueries:function(f,C,X){if(1&f&&(b.Suo(X,rs,5),b.Suo(X,rs,7),b.Suo(X,vl,5),b.Suo(X,ho,5),b.Suo(X,Nc,5),b.Suo(X,uo,5),b.Suo(X,Vl,5)),2&f){let me;b.iGM(me=b.CRH())&&(C._labelChildNonStatic=me.first),b.iGM(me=b.CRH())&&(C._labelChildStatic=me.first),b.iGM(me=b.CRH())&&(C._formFieldControl=me.first),b.iGM(me=b.CRH())&&(C._prefixChildren=me),b.iGM(me=b.CRH())&&(C._suffixChildren=me),b.iGM(me=b.CRH())&&(C._errorChildren=me),b.iGM(me=b.CRH())&&(C._hintChildren=me)}},viewQuery:function(f,C){if(1&f&&(b.Gf(ja,5),b.Gf(co,5),b.Gf(Ha,5),b.Gf(_l,5),b.Gf(xu,5),b.Gf(Ca,5)),2&f){let X;b.iGM(X=b.CRH())&&(C._textField=X.first),b.iGM(X=b.CRH())&&(C._iconPrefixContainer=X.first),b.iGM(X=b.CRH())&&(C._textPrefixContainer=X.first),b.iGM(X=b.CRH())&&(C._floatingLabel=X.first),b.iGM(X=b.CRH())&&(C._notchedOutline=X.first),b.iGM(X=b.CRH())&&(C._lineRipple=X.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(f,C){2&f&&b.ekj("mat-mdc-form-field-label-always-float",C._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",C._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",C._hasIconSuffix)("mat-form-field-invalid",C._control.errorState)("mat-form-field-disabled",C._control.disabled)("mat-form-field-autofilled",C._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===C._animationMode)("mat-form-field-appearance-fill","fill"==C.appearance)("mat-form-field-appearance-outline","outline"==C.appearance)("mat-form-field-hide-placeholder",C._hasFloatingLabel()&&!C._shouldLabelFloat())("mat-focused",C._control.focused)("mat-primary","accent"!==C.color&&"warn"!==C.color)("mat-accent","accent"===C.color)("mat-warn","warn"===C.color)("ng-untouched",C._shouldForward("untouched"))("ng-touched",C._shouldForward("touched"))("ng-pristine",C._shouldForward("pristine"))("ng-dirty",C._shouldForward("dirty"))("ng-valid",C._shouldForward("valid"))("ng-invalid",C._shouldForward("invalid"))("ng-pending",C._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[b._Bn([{provide:yl,useExisting:y},{provide:wo,useExisting:y}])],ngContentSelectors:Lo,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(f,C){1&f&&(b.F$t(ea),b.YNc(0,Me,1,1,"ng-template",null,0,b.W1O),b.TgZ(2,"div",1,2),b.NdJ("click",function(me){return C._control.onContainerClick(me)}),b.YNc(4,W,1,0,"div",3),b.TgZ(5,"div",4),b.YNc(6,Lt,2,2,"div",5),b.YNc(7,gn,3,0,"div",6),b.YNc(8,Fr,3,0,"div",7),b.TgZ(9,"div",8),b.YNc(10,ui,1,1,"ng-template",9),b.Hsn(11),b.qZA(),b.YNc(12,Lr,2,0,"div",10),b.YNc(13,ns,2,0,"div",11),b.qZA(),b.YNc(14,Oi,1,0,"div",12),b.qZA(),b.TgZ(15,"div",13),b.YNc(16,qi,2,1,"div",14),b.YNc(17,ma,5,2,"div",15),b.qZA()),2&f&&(b.xp6(2),b.ekj("mdc-text-field--filled",!C._hasOutline())("mdc-text-field--outlined",C._hasOutline())("mdc-text-field--no-label",!C._hasFloatingLabel())("mdc-text-field--disabled",C._control.disabled)("mdc-text-field--invalid",C._control.errorState),b.xp6(2),b.Q6J("ngIf",!C._hasOutline()&&!C._control.disabled),b.xp6(2),b.Q6J("ngIf",C._hasOutline()),b.xp6(1),b.Q6J("ngIf",C._hasIconPrefix),b.xp6(1),b.Q6J("ngIf",C._hasTextPrefix),b.xp6(2),b.Q6J("ngIf",!C._hasOutline()||C._forceDisplayInfixLabel()),b.xp6(2),b.Q6J("ngIf",C._hasTextSuffix),b.xp6(1),b.Q6J("ngIf",C._hasIconSuffix),b.xp6(1),b.Q6J("ngIf",!C._hasOutline()),b.xp6(1),b.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===C.subscriptSizing),b.Q6J("ngSwitch",C._getDisplayedMessages()),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","hint"))},dependencies:[ye.O5,ye.tP,ye.RF,ye.n9,Vl,_l,xu,Ca],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ed.transitionMessages]},changeDetection:0}),u})(),vc=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[ko.BQ,ye.ez,Ua.Q8,ko.BQ]}),u})();var Uc=V(6232);const Bc=(0,fa.i$)({passive:!0});let jc=(()=>{var y;class u{constructor(f,C){this._platform=f,this._ngZone=C,this._monitoredElements=new Map}monitor(f){if(!this._platform.isBrowser)return Uc.E;const C=(0,Ci.fI)(f),X=this._monitoredElements.get(C);if(X)return X.subject;const me=new Js.x,Pe="cdk-text-field-autofilled",Je=Mt=>{"cdk-text-field-autofill-start"!==Mt.animationName||C.classList.contains(Pe)?"cdk-text-field-autofill-end"===Mt.animationName&&C.classList.contains(Pe)&&(C.classList.remove(Pe),this._ngZone.run(()=>me.next({target:Mt.target,isAutofilled:!1}))):(C.classList.add(Pe),this._ngZone.run(()=>me.next({target:Mt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{C.addEventListener("animationstart",Je,Bc),C.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(C,{subject:me,unlisten:()=>{C.removeEventListener("animationstart",Je,Bc)}}),me}stopMonitoring(f){const C=(0,Ci.fI)(f),X=this._monitoredElements.get(C);X&&(X.unlisten(),X.subject.complete(),C.classList.remove("cdk-text-field-autofill-monitored"),C.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(C))}ngOnDestroy(){this._monitoredElements.forEach((f,C)=>this.stopMonitoring(C))}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(fa.t4),b.LFG(b.R0b))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),u})(),Cs=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({}),u})();const ss=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),za=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ui=0;const Xt=(0,ko.FD)(class{constructor(y,u,_,f){this._defaultErrorStateMatcher=y,this._parentForm=u,this._parentFormGroup=_,this.ngControl=f,this.stateChanges=new Js.x}});let Jn=(()=>{var y;class u extends Xt{get disabled(){return this._disabled}set disabled(f){this._disabled=(0,Ci.Ig)(f),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(f){this._id=f||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Oe.required)??!1}set required(f){this._required=(0,Ci.Ig)(f)}get type(){return this._type}set type(f){this._type=f||"text",this._validateType(),!this._isTextarea&&(0,fa.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(f){f!==this.value&&(this._inputValueAccessor.value=f,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(f){this._readonly=(0,Ci.Ig)(f)}constructor(f,C,X,me,Pe,Je,Mt,Cn,Rn,xi){super(Je,me,Pe,X),this._elementRef=f,this._platform=C,this._autofillMonitor=Cn,this._formField=xi,this._uid="mat-input-"+Ui++,this.focused=!1,this.stateChanges=new Js.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ur=>(0,fa.qK)().has(Ur)),this._iOSKeyupListener=Ur=>{const Xi=Ur.target;!Xi.value&&0===Xi.selectionStart&&0===Xi.selectionEnd&&(Xi.setSelectionRange(1,1),Xi.setSelectionRange(0,0))};const ri=this._elementRef.nativeElement,vr=ri.nodeName.toLowerCase();this._inputValueAccessor=Mt||ri,this._previousNativeValue=this.value,this.id=this.id,C.IOS&&Rn.runOutsideAngular(()=>{f.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===vr,this._isTextarea="textarea"===vr,this._isInFormField=!!xi,this._isNativeSelect&&(this.controlType=ri.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(f=>{this.autofilled=f.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(f){this._elementRef.nativeElement.focus(f)}_focusChanged(f){f!==this.focused&&(this.focused=f,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const f=this._elementRef.nativeElement.value;this._previousNativeValue!==f&&(this._previousNativeValue=f,this.stateChanges.next())}_dirtyCheckPlaceholder(){const f=this._getPlaceholder();if(f!==this._previousPlaceholder){const C=this._elementRef.nativeElement;this._previousPlaceholder=f,f?C.setAttribute("placeholder",f):C.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){za.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let f=this._elementRef.nativeElement.validity;return f&&f.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const f=this._elementRef.nativeElement,C=f.options[0];return this.focused||f.multiple||!this.empty||!!(f.selectedIndex>-1&&C&&C.label)}return this.focused||!this.empty}setDescribedByIds(f){f.length?this._elementRef.nativeElement.setAttribute("aria-describedby",f.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const f=this._elementRef.nativeElement;return this._isNativeSelect&&(f.multiple||f.size>1)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(b.SBq),b.Y36(fa.t4),b.Y36(fr,10),b.Y36(re,8),b.Y36(Er,8),b.Y36(ko.rD),b.Y36(ss,10),b.Y36(jc),b.Y36(b.R0b),b.Y36(yl,8))},y.\u0275dir=b.lG2({type:y,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(f,C){1&f&&b.NdJ("focus",function(){return C._focusChanged(!0)})("blur",function(){return C._focusChanged(!1)})("input",function(){return C._onInput()}),2&f&&(b.Ikx("id",C.id)("disabled",C.disabled)("required",C.required),b.uIk("name",C.name||null)("readonly",C.readonly&&!C._isNativeSelect||null)("aria-invalid",C.empty&&C.required?null:C.errorState)("aria-required",C.required)("id",C.id),b.ekj("mat-input-server",C._isServer)("mat-mdc-form-field-textarea-control",C._isInFormField&&C._isTextarea)("mat-mdc-form-field-input-control",C._isInFormField)("mdc-text-field__input",C._isInFormField)("mat-mdc-native-select-inline",C._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:vl,useExisting:y}]),b.qOj,b.TTD]}),u})(),Io=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[ko.BQ,vc,vc,Cs,ko.BQ]}),u})();var Bl=V(1175);function Fn(y,u){1&y&&(b.TgZ(0,"div",1),b._UZ(1,"div",2),b.TgZ(2,"p",3),b._uU(3,"Cargado..."),b.qZA()())}let Zn=(()=>{var y;class u{constructor(){}ngOnInit(){}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner",class:"class"},decls:1,vars:1,consts:[["class","pl spinner-container",4,"ngIf"],[1,"pl","spinner-container"],[1,"square-7"],[1,"loading"]],template:function(f,C){1&f&&b.YNc(0,Fn,4,0,"div",0),2&f&&b.Q6J("ngIf",C.showSpinner)},dependencies:[ye.O5],styles:[".spinner-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:99;background-color:#00000075}.square-7[_ngcontent-%COMP%]{width:55px;aspect-ratio:1;--g1:conic-gradient(from 90deg at 3px 3px ,#0000 90deg,#7c1ca4 0);--g2:conic-gradient(from -90deg at 22px 22px,#0000 90deg,#7c1ca4 0);background:var(--g1),var(--g1),var(--g1),var(--g2),var(--g2),var(--g2);background-size:25px 25px;background-repeat:no-repeat;animation:_ngcontent-%COMP%_s7 1.5s infinite;z-index:100}@keyframes _ngcontent-%COMP%_s7{0%{background-position:0 0,0 100%,100% 100%}25%{background-position:100% 0,0 100%,100% 100%}50%{background-position:100% 0,0 0,100% 100%}75%{background-position:100% 0,0 0,0 100%}to{background-position:100% 100%,0 0,0 100%}}.loading[_ngcontent-%COMP%]{padding-top:5px;color:#ccc}"]}),u})();function fo(y,u){if(1&y&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&y){const _=b.oxw();b.xp6(1),b.Oqu(_.getErrorMessageEmail())}}function In(y,u){if(1&y&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&y){const _=b.oxw();b.xp6(1),b.Oqu(_.getErrorMessagePassword())}}function x(y,u){if(1&y&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&y){const _=b.oxw();b.xp6(1),b.Oqu(_.getErrorMessageName())}}function R(y,u){if(1&y&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&y){const _=b.oxw();b.xp6(1),b.Oqu(_.getErrorMessageEmail())}}function U(y,u){if(1&y&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&y){const _=b.oxw();b.xp6(1),b.Oqu(_.getErrorMessagePassword())}}const Te=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{var y;class u{constructor(f,C,X,me){this.router=f,this.firebaseSvc=C,this.utilsSvc=X,this.snackBar=me,this.hide=!0,this.loading=!1,this.alert="",this.form=new F({email:new oe("",[Oe.required,Oe.email]),password:new oe("",[Oe.required,Oe.minLength(6)])})}getErrorMessageEmail(){let f="";return this.form.controls.email.hasError("required")&&(f="Campo requerido"),this.form.controls.email.hasError("email")&&(f="Email no valido"),f}getErrorMessagePassword(){let f="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(f="Campo requerido"),f}submit(){var f=this;if(this.form.valid){var C;this.loading=!0;const X=new Date;X.toLocaleDateString(),X.toLocaleTimeString(),this.firebaseSvc.login(this.form.value).then(function(Pe){return(C=C||(0,ie.Z)(function*(Je){let Mt={uid:Je.user.uid,name:Je.user.displayName,email:Je.user.email};f.firebaseSvc.saveLog(Je.user.email),f.utilsSvc.setElementInLocalstorage("user",Mt),f.utilsSvc.routerLink("home"),f.router.navigate(["home"],{queryParams:Mt}),f.form.reset()})).apply(this,arguments)},Pe=>{this.loading=!1,"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===Pe.message&&(this.alert="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===Pe.message&&(this.alert="Usuario incorrecto vuelva a intentar");let Je=this.snackBar.open(this.alert,"cerrar",{duration:3e3});Je.onAction().subscribe(()=>{Je.dismiss()})})}}getRegistrar(){this.router.navigate(["registro"])}getQuienSoy(){this.router.navigate(["quiensoy"])}autoComplete(){this.form.setValue({email:"test@mail.com",password:"123456"})}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(z.F0),b.Y36(kl.O),b.Y36(Si.F),b.Y36(Fl))},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-login"]],decls:34,vars:9,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form"],["appearance","outline",1,"focused"],[1,"label"],["matInput","","required","",1,"input",3,"formControl"],["matSuffix",""],[4,"ngIf"],["appearance","outline"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"container-buttons"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(f,C){1&f&&(b._UZ(0,"app-spinner",0),b.TgZ(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"h1",3),b._uU(4,"Bienvenido a la sala de juegos"),b.qZA(),b.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label",6),b._uU(8,"Ingresa tu email"),b.qZA(),b._UZ(9,"input",7),b.TgZ(10,"mat-icon",8),b._uU(11,"sentiment_very_satisfied"),b.qZA(),b.YNc(12,fo,2,1,"mat-error",9),b.qZA(),b.TgZ(13,"mat-form-field",10)(14,"mat-label",6),b._uU(15,"Ingresa tu contrase\xf1a"),b.qZA(),b._UZ(16,"input",11),b.TgZ(17,"button",12),b.NdJ("click",function(){return C.hide=!C.hide}),b.TgZ(18,"mat-icon"),b._uU(19),b.qZA()(),b.YNc(20,In,2,1,"mat-error",9),b.qZA()(),b.TgZ(21,"div",13)(22,"a",14),b.NdJ("click",function(){return C.submit()}),b._uU(23,"Entrar"),b.qZA(),b.TgZ(24,"a",14),b.NdJ("click",function(){return C.autoComplete()}),b._uU(25,"Auto Completar"),b.qZA()(),b.TgZ(26,"div",15)(27,"p",16),b._uU(28," No tenes cuenta? "),b.TgZ(29,"a",17),b.NdJ("click",function(){return C.getRegistrar()}),b._uU(30,"Registrate"),b.qZA()(),b.TgZ(31,"a",17),b.NdJ("click",function(){return C.getQuienSoy()}),b._uU(32,"Quien soy?"),b.qZA()()(),b._UZ(33,"router-outlet")),2&f&&(b.Q6J("showSpinner",C.loading),b.xp6(9),b.Q6J("formControl",C.form.controls.email),b.xp6(3),b.Q6J("ngIf",C.form.controls.email.invalid),b.xp6(4),b.Q6J("type",C.hide?"password":"text")("formControl",C.form.controls.password),b.xp6(1),b.uIk("aria-label","Hide password")("aria-pressed",C.hide),b.xp6(2),b.Oqu(C.hide?"visibility_off":"visibility"),b.xp6(1),b.Q6J("ngIf",C.form.controls.password.invalid))},dependencies:[ye.O5,z.lC,Rt,zr,dl,sl,rs,Ai,gl,Jn,bo.zs,bo.RK,Bl.Hw,Ss,Zn],styles:[".container-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center}.my-button[_ngcontent-%COMP%]{margin-bottom:20px}"]}),u})()},{path:"home",loadChildren:()=>V.e(636).then(V.bind(V,5636)).then(y=>y.HomeModule)},{path:"registro",component:(()=>{var y;class u{constructor(f,C,X,me,Pe){this.router=f,this.firebaseSvc=C,this.utilsSvc=X,this.formBuilder=me,this.snackBar=Pe,this.hide=!0,this.nombre="",this.loading=!1,this.alert="",this.form=new F({name:new oe("",[Oe.required,Oe.minLength(3)]),email:new oe("",[Oe.required,Oe.email]),password:new oe("",[Oe.required,Oe.minLength(6)])})}getErrorMessageName(){let f="Debe tener al menos 3 caracteres";return this.form.controls.name.hasError("required")&&(f="Campo requerido"),f}getErrorMessageEmail(){let f="";return this.form.controls.email.hasError("required")&&(f="Campo requerido"),this.form.controls.email.hasError("email")&&(f="Email no valido"),console.log(this.form.controls.name.hasError),f}getErrorMessagePassword(){let f="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(f="Campo requerido"),f}submit(){var f=this;if(this.form.valid){var C;const X=this.nombre;this.loading=!0,this.firebaseSvc.signinUp(this.form.value).then(function(me){return(C=C||(0,ie.Z)(function*(Pe){yield f.firebaseSvc.updateUser({displayName:X});let Je={uid:Pe.user.uid,name:Pe.user.displayName,email:Pe.user.email};f.utilsSvc.setElementInLocalstorage("user",Je),f.utilsSvc.routerLink("home"),f.router.navigate(["home"],{queryParams:Je}),f.form.reset()})).apply(this,arguments)},me=>{this.loading=!1,"Firebase: The email address is already in use by another account. (auth/email-already-in-use)."===me.message&&(this.alert="Usuario ya registrado."),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===me.message&&(this.alert="Usuario incorrecto vuelva a intentar");let Pe=this.snackBar.open(this.alert,"cerrar",{duration:3e3,panelClass:["custom-style"]});Pe.onAction().subscribe(()=>{Pe.dismiss()})})}}getLogin(){this.utilsSvc.routerLink("login")}getQuienSoy(){this.utilsSvc.routerLink("quiensoy")}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(z.F0),b.Y36(kl.O),b.Y36(Si.F),b.Y36(Jl),b.Y36(Fl))},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-registro"]],decls:37,vars:13,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form",3,"formGroup","keyup.enter"],["appearance","outline"],[1,"label"],["matInput","","type","text","required","",1,"input",3,"ngModel","formControl","ngModelChange"],["matSuffix",""],[4,"ngIf"],["matInput","","required","",1,"input",3,"formControl"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(f,C){1&f&&(b._UZ(0,"app-spinner",0),b.TgZ(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"h1",3),b._uU(4,"Bienvenido a la sala de juegos"),b.qZA(),b.TgZ(5,"form",4),b.NdJ("keyup.enter",function(){return C.submit()}),b.TgZ(6,"mat-form-field",5)(7,"mat-label",6),b._uU(8,"Ingresa tu nombre"),b.qZA(),b.TgZ(9,"input",7),b.NdJ("ngModelChange",function(me){return C.nombre=me}),b.qZA(),b.TgZ(10,"mat-icon",8),b._uU(11,"sentiment_very_satisfied"),b.qZA(),b.YNc(12,x,2,1,"mat-error",9),b.qZA(),b.TgZ(13,"mat-form-field",5)(14,"mat-label",6),b._uU(15,"Ingresa tu email"),b.qZA(),b._UZ(16,"input",10),b.TgZ(17,"mat-icon",8),b._uU(18,"sentiment_very_satisfied"),b.qZA(),b.YNc(19,R,2,1,"mat-error",9),b.qZA(),b.TgZ(20,"mat-form-field",5)(21,"mat-label",6),b._uU(22,"Ingresa tu contrase\xf1a"),b.qZA(),b._UZ(23,"input",11),b.TgZ(24,"button",12),b.NdJ("click",function(){return C.hide=!C.hide}),b.TgZ(25,"mat-icon"),b._uU(26),b.qZA()(),b.YNc(27,U,2,1,"mat-error",9),b.qZA()(),b.TgZ(28,"a",13),b.NdJ("click",function(){return C.submit()}),b._uU(29,"Registrarse"),b.qZA(),b.TgZ(30,"div",14)(31,"p",15),b._uU(32," Tenes cuenta? "),b.TgZ(33,"a",16),b.NdJ("click",function(){return C.getLogin()}),b._uU(34,"Entrar"),b.qZA()(),b.TgZ(35,"a",16),b.NdJ("click",function(){return C.getQuienSoy()}),b._uU(36,"Quien soy?"),b.qZA()()()),2&f&&(b.Q6J("showSpinner",C.loading),b.xp6(5),b.Q6J("formGroup",C.form),b.xp6(4),b.Q6J("ngModel",C.nombre)("formControl",C.form.controls.name),b.xp6(3),b.Q6J("ngIf",C.form.controls.name.invalid),b.xp6(4),b.Q6J("formControl",C.form.controls.email),b.xp6(3),b.Q6J("ngIf",C.form.controls.email.invalid),b.xp6(4),b.Q6J("type",C.hide?"password":"text")("formControl",C.form.controls.password),b.xp6(1),b.uIk("aria-label","Hide password")("aria-pressed",C.hide),b.xp6(2),b.Oqu(C.hide?"visibility_off":"visibility"),b.xp6(1),b.Q6J("ngIf",C.form.controls.password.invalid))},dependencies:[ye.O5,kr,Rt,zr,si,dl,sl,rs,Ai,gl,Jn,bo.zs,bo.RK,Bl.Hw,Ss,Er,Zn],styles:[".container-form[_ngcontent-%COMP%]{position:absolute;top:3rem;bottom:0;left:0;right:0}mat-form-field[_ngcontent-%COMP%]{padding:8px}"]}),u})()},{path:"quiensoy",component:(()=>{var y;class u{constructor(f){this.router=f}getRegistrar(){this.router.navigate(["registro"])}getLogin(){this.router.navigate(["login"])}}return(y=u).\u0275fac=function(f){return new(f||y)(b.Y36(z.F0))},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-quien-soy"]],decls:37,vars:0,consts:[[1,"container-form"],[1,"title"],[1,"form"],[1,"text-name"],[1,"name"],[1,"container-img"],["src","../../../assets/perfil.png","alt","",1,"photo"],[1,"game"],[1,"card"],[1,"container-buttons"],[1,"div1"],["mat-raised-button","",1,"my-button",3,"click"],[1,"div2"]],template:function(f,C){1&f&&(b.TgZ(0,"div",0)(1,"h1",1),b._uU(2,"Hello there!"),b.qZA(),b.TgZ(3,"div",2)(4,"h2",3),b._uU(5,"Mi nombre es "),b.TgZ(6,"span",4),b._uU(7,"Juan Sueldo "),b.qZA(),b._uU(8,"4B"),b.qZA(),b.TgZ(9,"div",5),b._UZ(10,"img",6),b.qZA(),b.TgZ(11,"h3",7),b._uU(12,"Juego Extra Reglas:"),b.qZA(),b.TgZ(13,"div",8)(14,"ul")(15,"li")(16,"p"),b._uU(17,"Cada jugador contara con 5 cartas elegidas de manera aleatoria"),b.qZA()(),b.TgZ(18,"li")(19,"p"),b._uU(20," Cada jugador cuenta con una barra de vida, El jugador que logre debilitar primero al oponente ganara la partida "),b.qZA()(),b.TgZ(21,"li")(22,"p"),b._uU(23,"El objetivo de debilitar al contricante mediante de utilizacion de las cartas que tiene en su poder"),b.qZA()(),b.TgZ(24,"li")(25,"p"),b._uU(26,"El jugador que logre debilitar primero al oponente ganara la partida"),b.qZA()(),b.TgZ(27,"li")(28,"p"),b._uU(29,"Si ambos jugadores se quedan sin cartas ganara el jugador que tenga mayor puntos de vida"),b.qZA()()()()(),b.TgZ(30,"div",9)(31,"div",10)(32,"a",11),b.NdJ("click",function(){return C.getLogin()}),b._uU(33,"Entrar"),b.qZA()(),b.TgZ(34,"div",12)(35,"a",11),b.NdJ("click",function(){return C.getRegistrar()}),b._uU(36,"Registrarse"),b.qZA()()()())},dependencies:[bo.zs],styles:[".container-img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;border:1px solid #cccccc;background-color:#36081f}.photo[_ngcontent-%COMP%]{width:100%;height:auto;position:absolute;top:50%;left:50%;transform:translate(-47%,-50%)}.text-name[_ngcontent-%COMP%], .game[_ngcontent-%COMP%]{color:#ccc;text-shadow:4px -3px 5px rgba(0,0,0,.6)}.container-form[_ngcontent-%COMP%]{position:absolute;inset:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}p[_ngcontent-%COMP%]{color:#ccc;font-size:1em}.container-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(1,1fr);grid-column-gap:0px;grid-row-gap:25px}.div1[_ngcontent-%COMP%]{grid-area:1/1/1/4}.div2[_ngcontent-%COMP%]{grid-area:1/3/1/6}"]}),u})()},{path:"**",component:(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"notFound"],[1,"text"],["routerLink","/login",1,"yes"]],template:function(f,C){1&f&&(b.TgZ(0,"section",0)(1,"div",1)(2,"h1"),b._uU(3,"404"),b.qZA(),b.TgZ(4,"h3"),b._uU(5,"P\xe1gina no encontrada"),b.qZA(),b.TgZ(6,"h3"),b._uU(7,"BACK TO HOME?"),b.qZA(),b.TgZ(8,"a",2),b._uU(9,"Si"),b.qZA()()())},dependencies:[z.rH]}),u})()}];let gt=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({imports:[z.Bz.forRoot(Te),z.Bz]}),u})(),hn=(()=>{var y;class u{constructor(){this.title="tp1_saladejuegos"}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275cmp=b.Xpm({type:y,selectors:[["app-root"]],decls:1,vars:0,template:function(f,C){1&f&&b._UZ(0,"router-outlet")},dependencies:[z.lC]}),u})();function er(y){return new b.vHH(3e3,!1)}function bc(y){switch(y.length){case 0:return new nr.ZN;case 1:return y[0];default:return new nr.ZE(y)}}function vh(y,u,_=new Map,f=new Map){const C=[],X=[];let me=-1,Pe=null;if(u.forEach(Je=>{const Mt=Je.get("offset"),Cn=Mt==me,Rn=Cn&&Pe||new Map;Je.forEach((xi,ri)=>{let vr=ri,Ur=xi;if("offset"!==ri)switch(vr=y.normalizePropertyName(vr,C),Ur){case nr.k1:Ur=_.get(ri);break;case nr.l3:Ur=f.get(ri);break;default:Ur=y.normalizeStyleValue(ri,vr,Ur,C)}Rn.set(vr,Ur)}),Cn||X.push(Rn),Pe=Rn,me=Mt}),C.length)throw function sc(y){return new b.vHH(3502,!1)}();return X}function Yi(y,u,_,f){switch(u){case"start":y.onStart(()=>f(_&&ra(_,"start",y)));break;case"done":y.onDone(()=>f(_&&ra(_,"done",y)));break;case"destroy":y.onDestroy(()=>f(_&&ra(_,"destroy",y)))}}function ra(y,u,_){const X=Wa(y.element,y.triggerName,y.fromState,y.toState,u||y.phaseName,_.totalTime??y.totalTime,!!_.disabled),me=y._data;return null!=me&&(X._data=me),X}function Wa(y,u,_,f,C="",X=0,me){return{element:y,triggerName:u,fromState:_,toState:f,phaseName:C,totalTime:X,disabled:!!me}}function eo(y,u,_){let f=y.get(u);return f||y.set(u,f=_),f}function Ks(y){const u=y.indexOf(":");return[y.substring(1,u),y.slice(u+1)]}const Ec=(()=>typeof document>"u"?null:document.documentElement)();function Xu(y){const u=y.parentNode||y.host||null;return u===Ec?null:u}let Hl=null,zc=!1;function $c(y,u){for(;u;){if(u===y)return!0;u=Xu(u)}return!1}function Au(y,u,_){if(_)return Array.from(y.querySelectorAll(u));const f=y.querySelector(u);return f?[f]:[]}let Gc=(()=>{var y;class u{validateStyleProperty(f){return function ia(y){Hl||(Hl=function El(){return typeof document<"u"?document.body:null}()||{},zc=!!Hl.style&&"WebkitAppearance"in Hl.style);let u=!0;return Hl.style&&!function qa(y){return"ebkit"==y.substring(1,6)}(y)&&(u=y in Hl.style,!u&&zc&&(u="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in Hl.style)),u}(f)}matchesElement(f,C){return!1}containsElement(f,C){return $c(f,C)}getParentElement(f){return Xu(f)}query(f,C,X){return Au(f,C,X)}computeStyle(f,C,X){return X||""}animate(f,C,X,me,Pe,Je=[],Mt){return new nr.ZN(X,me)}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac}),u})(),ac=(()=>{class u{}return u.NOOP=new Gc,u})();const wc=1e3,lc="ng-enter",Mu="ng-leave",Cc="ng-trigger",wl=".ng-trigger",Ju="ng-animating",hu=".ng-animating";function Co(y){if("number"==typeof y)return y;const u=y.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:ol(parseFloat(u[1]),u[2])}function ol(y,u){return"s"===u?y*wc:y}function Wc(y,u,_){return y.hasOwnProperty("duration")?y:function xo(y,u,_){let C,X=0,me="";if("string"==typeof y){const Pe=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return u.push(er()),{duration:0,delay:0,easing:""};C=ol(parseFloat(Pe[1]),Pe[2]);const Je=Pe[3];null!=Je&&(X=ol(parseFloat(Je),Pe[4]));const Mt=Pe[5];Mt&&(me=Mt)}else C=y;if(!_){let Pe=!1,Je=u.length;C<0&&(u.push(function Zr(){return new b.vHH(3100,!1)}()),Pe=!0),X<0&&(u.push(function Bi(){return new b.vHH(3101,!1)}()),Pe=!0),Pe&&u.splice(Je,0,er())}return{duration:C,delay:X,easing:me}}(y,u,_)}function sa(y,u={}){return Object.keys(y).forEach(_=>{u[_]=y[_]}),u}function fs(y){const u=new Map;return Object.keys(y).forEach(_=>{u.set(_,y[_])}),u}function Il(y,u=new Map,_){if(_)for(let[f,C]of _)u.set(f,C);for(let[f,C]of y)u.set(f,C);return u}function oi(y,u,_){u.forEach((f,C)=>{const X=st(C);_&&!_.has(C)&&_.set(C,y.style[X]),y.style[X]=f})}function jo(y,u){u.forEach((_,f)=>{const C=st(f);y.style[C]=""})}function Qi(y){return Array.isArray(y)?1==y.length?y[0]:(0,nr.vP)(y):y}const H=new RegExp("{{\\s*(.+?)\\s*}}","g");function K(y){let u=[];if("string"==typeof y){let _;for(;_=H.exec(y);)u.push(_[1]);H.lastIndex=0}return u}function te(y,u,_){const f=y.toString(),C=f.replace(H,(X,me)=>{let Pe=u[me];return null==Pe&&(_.push(function Ms(y){return new b.vHH(3003,!1)}()),Pe=""),Pe.toString()});return C==f?y:C}function we(y){const u=[];let _=y.next();for(;!_.done;)u.push(_.value),_=y.next();return u}const He=/-+([a-z0-9])/g;function st(y){return y.replace(He,(...u)=>u[1].toUpperCase())}function vn(y,u,_){switch(u.type){case 7:return y.visitTrigger(u,_);case 0:return y.visitState(u,_);case 1:return y.visitTransition(u,_);case 2:return y.visitSequence(u,_);case 3:return y.visitGroup(u,_);case 4:return y.visitAnimate(u,_);case 5:return y.visitKeyframes(u,_);case 6:return y.visitStyle(u,_);case 8:return y.visitReference(u,_);case 9:return y.visitAnimateChild(u,_);case 10:return y.visitAnimateRef(u,_);case 11:return y.visitQuery(u,_);case 12:return y.visitStagger(u,_);default:throw function $a(y){return new b.vHH(3004,!1)}()}}function Bn(y,u){return window.getComputedStyle(y)[u]}const gr="*";function Ti(y,u){const _=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(f=>function To(y,u,_){if(":"==y[0]){const Je=function Ho(y,u){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,f)=>parseFloat(f)>parseFloat(_);case":decrement":return(_,f)=>parseFloat(f)<parseFloat(_);default:return u.push(function Ta(y){return new b.vHH(3016,!1)}()),"* => *"}}(y,_);if("function"==typeof Je)return void u.push(Je);y=Je}const f=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return _.push(function bl(y){return new b.vHH(3015,!1)}()),u;const C=f[1],X=f[2],me=f[3];u.push(qc(C,me));"<"==X[0]&&!(C==gr&&me==gr)&&u.push(qc(me,C))}(f,_,u)):_.push(y),_}const $l=new Set(["true","1"]),ga=new Set(["false","0"]);function qc(y,u){const _=$l.has(y)||ga.has(y),f=$l.has(u)||ga.has(u);return(C,X)=>{let me=y==gr||y==C,Pe=u==gr||u==X;return!me&&_&&"boolean"==typeof C&&(me=C?$l.has(y):ga.has(y)),!Pe&&f&&"boolean"==typeof X&&(Pe=X?$l.has(u):ga.has(u)),me&&Pe}}const xc=new RegExp("s*:selfs*,?","g");function ed(y,u,_,f){return new Ru(y).build(u,_,f)}class Ru{constructor(u){this._driver=u}build(u,_,f){const C=new cc(_);return this._resetContextStyleTimingState(C),vn(this,Qi(u),C)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,_){let f=_.queryCount=0,C=_.depCount=0;const X=[],me=[];return"@"==u.name.charAt(0)&&_.errors.push(function Un(){return new b.vHH(3006,!1)}()),u.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(_),0==Pe.type){const Je=Pe,Mt=Je.name;Mt.toString().split(/\s*,\s*/).forEach(Cn=>{Je.name=Cn,X.push(this.visitState(Je,_))}),Je.name=Mt}else if(1==Pe.type){const Je=this.visitTransition(Pe,_);f+=Je.queryCount,C+=Je.depCount,me.push(Je)}else _.errors.push(function Ga(){return new b.vHH(3007,!1)}())}),{type:7,name:u.name,states:X,transitions:me,queryCount:f,depCount:C,options:null}}visitState(u,_){const f=this.visitStyle(u.styles,_),C=u.options&&u.options.params||null;if(f.containsDynamicStyles){const X=new Set,me=C||{};f.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(Je=>{K(Je).forEach(Mt=>{me.hasOwnProperty(Mt)||X.add(Mt)})})}),X.size&&(we(X.values()),_.errors.push(function gi(y,u){return new b.vHH(3008,!1)}()))}return{type:0,name:u.name,style:f,options:C?{params:C}:null}}visitTransition(u,_){_.queryCount=0,_.depCount=0;const f=vn(this,Qi(u.animation),_);return{type:1,matchers:Ti(u.expr,_.errors),animation:f,queryCount:_.queryCount,depCount:_.depCount,options:G(u.options)}}visitSequence(u,_){return{type:2,steps:u.steps.map(f=>vn(this,f,_)),options:G(u.options)}}visitGroup(u,_){const f=_.currentTime;let C=0;const X=u.steps.map(me=>{_.currentTime=f;const Pe=vn(this,me,_);return C=Math.max(C,_.currentTime),Pe});return _.currentTime=C,{type:3,steps:X,options:G(u.options)}}visitAnimate(u,_){const f=function td(y,u){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return E(Wc(y,u).duration,0,"");const _=y;if(_.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=E(0,0,"");return X.dynamic=!0,X.strValue=_,X}const C=Wc(_,u);return E(C.duration,C.delay,C.easing)}(u.timings,_.errors);_.currentAnimateTimings=f;let C,X=u.styles?u.styles:(0,nr.oB)({});if(5==X.type)C=this.visitKeyframes(X,_);else{let me=u.styles,Pe=!1;if(!me){Pe=!0;const Mt={};f.easing&&(Mt.easing=f.easing),me=(0,nr.oB)(Mt)}_.currentTime+=f.duration+f.delay;const Je=this.visitStyle(me,_);Je.isEmptyStep=Pe,C=Je}return _.currentAnimateTimings=null,{type:4,timings:f,style:C,options:null}}visitStyle(u,_){const f=this._makeStyleAst(u,_);return this._validateStyleAst(f,_),f}_makeStyleAst(u,_){const f=[],C=Array.isArray(u.styles)?u.styles:[u.styles];for(let Pe of C)"string"==typeof Pe?Pe===nr.l3?f.push(Pe):_.errors.push(new b.vHH(3002,!1)):f.push(fs(Pe));let X=!1,me=null;return f.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(me=Pe.get("easing"),Pe.delete("easing")),!X))for(let Je of Pe.values())if(Je.toString().indexOf("{{")>=0){X=!0;break}}),{type:6,styles:f,easing:me,offset:u.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(u,_){const f=_.currentAnimateTimings;let C=_.currentTime,X=_.currentTime;f&&X>0&&(X-=f.duration+f.delay),u.styles.forEach(me=>{"string"!=typeof me&&me.forEach((Pe,Je)=>{const Mt=_.collectedStyles.get(_.currentQuerySelector),Cn=Mt.get(Je);let Rn=!0;Cn&&(X!=C&&X>=Cn.startTime&&C<=Cn.endTime&&(_.errors.push(function rn(y,u,_,f,C){return new b.vHH(3010,!1)}()),Rn=!1),X=Cn.startTime),Rn&&Mt.set(Je,{startTime:X,endTime:C}),_.options&&function Fi(y,u,_){const f=u.params||{},C=K(y);C.length&&C.forEach(X=>{f.hasOwnProperty(X)||_.push(function Tn(y){return new b.vHH(3001,!1)}())})}(Pe,_.options,_.errors)})})}visitKeyframes(u,_){const f={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Hc(){return new b.vHH(3011,!1)}()),f;let X=0;const me=[];let Pe=!1,Je=!1,Mt=0;const Cn=u.steps.map(no=>{const $s=this._makeStyleAst(no,_);let Xa=null!=$s.offset?$s.offset:function Cd(y){if("string"==typeof y)return null;let u=null;if(Array.isArray(y))y.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const f=_;u=parseFloat(f.get("offset")),f.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const _=y;u=parseFloat(_.get("offset")),_.delete("offset")}return u}($s.styles),ca=0;return null!=Xa&&(X++,ca=$s.offset=Xa),Je=Je||ca<0||ca>1,Pe=Pe||ca<Mt,Mt=ca,me.push(ca),$s});Je&&_.errors.push(function Tu(){return new b.vHH(3012,!1)}()),Pe&&_.errors.push(function rc(){return new b.vHH(3200,!1)}());const Rn=u.steps.length;let xi=0;X>0&&X<Rn?_.errors.push(function wd(){return new b.vHH(3202,!1)}()):0==X&&(xi=1/(Rn-1));const ri=Rn-1,vr=_.currentTime,Ur=_.currentAnimateTimings,Xi=Ur.duration;return Cn.forEach((no,$s)=>{const Xa=xi>0?$s==ri?1:xi*$s:me[$s],ca=Xa*Xi;_.currentTime=vr+Ur.delay+ca,Ur.duration=ca,this._validateStyleAst(no,_),no.offset=Xa,f.styles.push(no)}),f}visitReference(u,_){return{type:8,animation:vn(this,Qi(u.animation),_),options:G(u.options)}}visitAnimateChild(u,_){return _.depCount++,{type:9,options:G(u.options)}}visitAnimateRef(u,_){return{type:10,animation:this.visitReference(u.animation,_),options:G(u.options)}}visitQuery(u,_){const f=_.currentQuerySelector,C=u.options||{};_.queryCount++,_.currentQuery=u;const[X,me]=function fu(y){const u=!!y.split(/\s*,\s*/).find(_=>":self"==_);return u&&(y=y.replace(xc,"")),y=y.replace(/@\*/g,wl).replace(/@\w+/g,_=>wl+"-"+_.slice(1)).replace(/:animating/g,hu),[y,u]}(u.selector);_.currentQuerySelector=f.length?f+" "+X:X,eo(_.collectedStyles,_.currentQuerySelector,new Map);const Pe=vn(this,Qi(u.animation),_);return _.currentQuery=null,_.currentQuerySelector=f,{type:11,selector:X,limit:C.limit||0,optional:!!C.optional,includeSelf:me,animation:Pe,originalSelector:u.selector,options:G(u.options)}}visitStagger(u,_){_.currentQuery||_.errors.push(function na(){return new b.vHH(3013,!1)}());const f="full"===u.timings?{duration:0,delay:0,easing:"full"}:Wc(u.timings,_.errors,!0);return{type:12,animation:vn(this,Qi(u.animation),_),timings:f,options:null}}}class cc{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function G(y){return y?(y=sa(y)).params&&(y.params=function Zd(y){return y?sa(y):null}(y.params)):y={},y}function E(y,u,_){return{duration:y,delay:u,easing:_}}function w(y,u,_,f,C,X,me=null,Pe=!1){return{type:1,element:y,keyframes:u,preStyleProps:_,postStyleProps:f,duration:C,delay:X,totalTime:C+X,easing:me,subTimeline:Pe}}class M{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,_){let f=this._map.get(u);f||this._map.set(u,f=[]),f.push(..._)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Ne=new RegExp(":enter","g"),Pt=new RegExp(":leave","g");function $t(y,u,_,f,C,X=new Map,me=new Map,Pe,Je,Mt=[]){return(new sn).buildKeyframes(y,u,_,f,C,X,me,Pe,Je,Mt)}class sn{buildKeyframes(u,_,f,C,X,me,Pe,Je,Mt,Cn=[]){Mt=Mt||new M;const Rn=new fn(u,_,Mt,C,X,Cn,[]);Rn.options=Je;const xi=Je.delay?Co(Je.delay):0;Rn.currentTimeline.delayNextStep(xi),Rn.currentTimeline.setStyles([me],null,Rn.errors,Je),vn(this,f,Rn);const ri=Rn.timelines.filter(vr=>vr.containsAnimation());if(ri.length&&Pe.size){let vr;for(let Ur=ri.length-1;Ur>=0;Ur--){const Xi=ri[Ur];if(Xi.element===_){vr=Xi;break}}vr&&!vr.allowOnlyTimelineStyles()&&vr.setStyles([Pe],null,Rn.errors,Je)}return ri.length?ri.map(vr=>vr.buildKeyframes()):[w(_,[],[],[],0,xi,"",!1)]}visitTrigger(u,_){}visitState(u,_){}visitTransition(u,_){}visitAnimateChild(u,_){const f=_.subInstructions.get(_.element);if(f){const C=_.createSubContext(u.options),X=_.currentTimeline.currentTime,me=this._visitSubInstructions(f,C,C.options);X!=me&&_.transformIntoNewTimeline(me)}_.previousNode=u}visitAnimateRef(u,_){const f=_.createSubContext(u.options);f.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],_,f),this.visitReference(u.animation,f),_.transformIntoNewTimeline(f.currentTimeline.currentTime),_.previousNode=u}_applyAnimationRefDelays(u,_,f){for(const C of u){const X=C?.delay;if(X){const me="number"==typeof X?X:Co(te(X,C?.params??{},_.errors));f.delayNextStep(me)}}}_visitSubInstructions(u,_,f){let X=_.currentTimeline.currentTime;const me=null!=f.duration?Co(f.duration):null,Pe=null!=f.delay?Co(f.delay):null;return 0!==me&&u.forEach(Je=>{const Mt=_.appendInstructionToTimeline(Je,me,Pe);X=Math.max(X,Mt.duration+Mt.delay)}),X}visitReference(u,_){_.updateOptions(u.options,!0),vn(this,u.animation,_),_.previousNode=u}visitSequence(u,_){const f=_.subContextCount;let C=_;const X=u.options;if(X&&(X.params||X.delay)&&(C=_.createSubContext(X),C.transformIntoNewTimeline(),null!=X.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Qn);const me=Co(X.delay);C.delayNextStep(me)}u.steps.length&&(u.steps.forEach(me=>vn(this,me,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>f&&C.transformIntoNewTimeline()),_.previousNode=u}visitGroup(u,_){const f=[];let C=_.currentTimeline.currentTime;const X=u.options&&u.options.delay?Co(u.options.delay):0;u.steps.forEach(me=>{const Pe=_.createSubContext(u.options);X&&Pe.delayNextStep(X),vn(this,me,Pe),C=Math.max(C,Pe.currentTimeline.currentTime),f.push(Pe.currentTimeline)}),f.forEach(me=>_.currentTimeline.mergeTimelineCollectedStyles(me)),_.transformIntoNewTimeline(C),_.previousNode=u}_visitTiming(u,_){if(u.dynamic){const f=u.strValue;return Wc(_.params?te(f,_.params,_.errors):f,_.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,_){const f=_.currentAnimateTimings=this._visitTiming(u.timings,_),C=_.currentTimeline;f.delay&&(_.incrementTime(f.delay),C.snapshotCurrentStyles());const X=u.style;5==X.type?this.visitKeyframes(X,_):(_.incrementTime(f.duration),this.visitStyle(X,_),C.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=u}visitStyle(u,_){const f=_.currentTimeline,C=_.currentAnimateTimings;!C&&f.hasCurrentStyleProperties()&&f.forwardFrame();const X=C&&C.easing||u.easing;u.isEmptyStep?f.applyEmptyStep(X):f.setStyles(u.styles,X,_.errors,_.options),_.previousNode=u}visitKeyframes(u,_){const f=_.currentAnimateTimings,C=_.currentTimeline.duration,X=f.duration,Pe=_.createSubContext().currentTimeline;Pe.easing=f.easing,u.styles.forEach(Je=>{Pe.forwardTime((Je.offset||0)*X),Pe.setStyles(Je.styles,Je.easing,_.errors,_.options),Pe.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Pe),_.transformIntoNewTimeline(C+X),_.previousNode=u}visitQuery(u,_){const f=_.currentTimeline.currentTime,C=u.options||{},X=C.delay?Co(C.delay):0;X&&(6===_.previousNode.type||0==f&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Qn);let me=f;const Pe=_.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!C.optional,_.errors);_.currentQueryTotal=Pe.length;let Je=null;Pe.forEach((Mt,Cn)=>{_.currentQueryIndex=Cn;const Rn=_.createSubContext(u.options,Mt);X&&Rn.delayNextStep(X),Mt===_.element&&(Je=Rn.currentTimeline),vn(this,u.animation,Rn),Rn.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,Rn.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(me),Je&&(_.currentTimeline.mergeTimelineCollectedStyles(Je),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=u}visitStagger(u,_){const f=_.parentContext,C=_.currentTimeline,X=u.timings,me=Math.abs(X.duration),Pe=me*(_.currentQueryTotal-1);let Je=me*_.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":Je=Pe-Je;break;case"full":Je=f.currentStaggerTime}const Cn=_.currentTimeline;Je&&Cn.delayNextStep(Je);const Rn=Cn.currentTime;vn(this,u.animation,_),_.previousNode=u,f.currentStaggerTime=C.currentTime-Rn+(C.startTime-f.currentTimeline.startTime)}}const Qn={};class fn{constructor(u,_,f,C,X,me,Pe,Je){this._driver=u,this.element=_,this.subInstructions=f,this._enterClassName=C,this._leaveClassName=X,this.errors=me,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new $n(this._driver,_,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,_){if(!u)return;const f=u;let C=this.options;null!=f.duration&&(C.duration=Co(f.duration)),null!=f.delay&&(C.delay=Co(f.delay));const X=f.params;if(X){let me=C.params;me||(me=this.options.params={}),Object.keys(X).forEach(Pe=>{(!_||!me.hasOwnProperty(Pe))&&(me[Pe]=te(X[Pe],me,this.errors))})}}_copyOptions(){const u={};if(this.options){const _=this.options.params;if(_){const f=u.params={};Object.keys(_).forEach(C=>{f[C]=_[C]})}}return u}createSubContext(u=null,_,f){const C=_||this.element,X=new fn(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,f||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(u),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(u){return this.previousNode=Qn,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,_,f){const C={duration:_??u.duration,delay:this.currentTimeline.currentTime+(f??0)+u.delay,easing:""},X=new ps(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,C,u.stretchStartingKeyframe);return this.timelines.push(X),C}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,_,f,C,X,me){let Pe=[];if(C&&Pe.push(this.element),u.length>0){u=(u=u.replace(Ne,"."+this._enterClassName)).replace(Pt,"."+this._leaveClassName);let Mt=this._driver.query(this.element,u,1!=f);0!==f&&(Mt=f<0?Mt.slice(Mt.length+f,Mt.length):Mt.slice(0,f)),Pe.push(...Mt)}return!X&&0==Pe.length&&me.push(function ic(y){return new b.vHH(3014,!1)}()),Pe}}class $n{constructor(u,_,f,C){this._driver=u,this.element=_,this.startTime=f,this._elementTimelineStylesLookup=C,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+u),_&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,_){return this.applyStylesToKeyframe(),new $n(this._driver,u,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,_){this._localTimelineStyles.set(u,_),this._globalTimelineStyles.set(u,_),this._styleSummary.set(u,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[_,f]of this._globalTimelineStyles)this._backFill.set(_,f||nr.l3),this._currentKeyframe.set(_,nr.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,_,f,C){_&&this._previousKeyframe.set("easing",_);const X=C&&C.params||{},me=function oa(y,u){const _=new Map;let f;return y.forEach(C=>{if("*"===C){f=f||u.keys();for(let X of f)_.set(X,nr.l3)}else Il(C,_)}),_}(u,this._globalTimelineStyles);for(let[Pe,Je]of me){const Mt=te(Je,X,f);this._pendingStyles.set(Pe,Mt),this._localTimelineStyles.has(Pe)||this._backFill.set(Pe,this._globalTimelineStyles.get(Pe)??nr.l3),this._updateStyle(Pe,Mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,_)=>{this._currentKeyframe.set(_,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,u)}))}snapshotCurrentStyles(){for(let[u,_]of this._localTimelineStyles)this._pendingStyles.set(u,_),this._updateStyle(u,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let _ in this._currentKeyframe)u.push(_);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((_,f)=>{const C=this._styleSummary.get(f);(!C||_.time>C.time)&&this._updateStyle(f,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,_=new Set,f=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Pe,Je)=>{const Mt=Il(Pe,new Map,this._backFill);Mt.forEach((Cn,Rn)=>{Cn===nr.k1?u.add(Rn):Cn===nr.l3&&_.add(Rn)}),f||Mt.set("offset",Je/this.duration),C.push(Mt)});const X=u.size?we(u.values()):[],me=_.size?we(_.values()):[];if(f){const Pe=C[0],Je=new Map(Pe);Pe.set("offset",0),Je.set("offset",1),C=[Pe,Je]}return w(this.element,C,X,me,this.duration,this.startTime,this.easing,!1)}}class ps extends $n{constructor(u,_,f,C,X,me,Pe=!1){super(u,_,me.delay),this.keyframes=f,this.preStyleProps=C,this.postStyleProps=X,this._stretchStartingKeyframe=Pe,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:_,duration:f,easing:C}=this.timings;if(this._stretchStartingKeyframe&&_){const X=[],me=f+_,Pe=_/me,Je=Il(u[0]);Je.set("offset",0),X.push(Je);const Mt=Il(u[0]);Mt.set("offset",Ka(Pe)),X.push(Mt);const Cn=u.length-1;for(let Rn=1;Rn<=Cn;Rn++){let xi=Il(u[Rn]);const ri=xi.get("offset");xi.set("offset",Ka((_+ri*f)/me)),X.push(xi)}f=me,_=0,C="",u=X}return w(this.element,u,this.preStyleProps,this.postStyleProps,f,_,C,!0)}}function Ka(y,u=3){const _=Math.pow(10,u-1);return Math.round(y*_)/_}class zs{}const Yd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rd extends zs{normalizePropertyName(u,_){return st(u)}normalizeStyleValue(u,_,f,C){let X="";const me=f.toString().trim();if(Yd.has(_)&&0!==f&&"0"!==f)if("number"==typeof f)X="px";else{const Pe=f.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&C.push(function Ni(y,u){return new b.vHH(3005,!1)}())}return me+X}}function Ou(y,u,_,f,C,X,me,Pe,Je,Mt,Cn,Rn,xi){return{type:0,element:y,triggerName:u,isRemovalTransition:C,fromState:_,fromStyles:X,toState:f,toStyles:me,timelines:Pe,queriedElements:Je,preStyleProps:Mt,postStyleProps:Cn,totalTime:Rn,errors:xi}}const Pu={};class id{constructor(u,_,f){this._triggerName=u,this.ast=_,this._stateStyles=f}match(u,_,f,C){return function Gl(y,u,_,f,C){return y.some(X=>X(u,_,f,C))}(this.ast.matchers,u,_,f,C)}buildStyles(u,_,f){let C=this._stateStyles.get("*");return void 0!==u&&(C=this._stateStyles.get(u?.toString())||C),C?C.buildStyles(_,f):new Map}build(u,_,f,C,X,me,Pe,Je,Mt,Cn){const Rn=[],xi=this.ast.options&&this.ast.options.params||Pu,vr=this.buildStyles(f,Pe&&Pe.params||Pu,Rn),Ur=Je&&Je.params||Pu,Xi=this.buildStyles(C,Ur,Rn),no=new Set,$s=new Map,Xa=new Map,ca="void"===C,Oc={params:sd(Ur,xi),delay:this.ast.options?.delay},Tl=Cn?[]:$t(u,_,this.ast.animation,X,me,vr,Xi,Oc,Mt,Rn);let ro=0;if(Tl.forEach(fc=>{ro=Math.max(fc.duration+fc.delay,ro)}),Rn.length)return Ou(_,this._triggerName,f,C,ca,vr,Xi,[],[],$s,Xa,ro,Rn);Tl.forEach(fc=>{const Ql=fc.element,Wp=eo($s,Ql,new Set);fc.preStyleProps.forEach(Pc=>Wp.add(Pc));const Vd=eo(Xa,Ql,new Set);fc.postStyleProps.forEach(Pc=>Vd.add(Pc)),Ql!==_&&no.add(Ql)});const Yl=we(no.values());return Ou(_,this._triggerName,f,C,ca,vr,Xi,Tl,Yl,$s,Xa,ro)}}function sd(y,u){const _=sa(u);for(const f in y)y.hasOwnProperty(f)&&null!=y[f]&&(_[f]=y[f]);return _}class yh{constructor(u,_,f){this.styles=u,this.defaultParams=_,this.normalizer=f}buildStyles(u,_){const f=new Map,C=sa(this.defaultParams);return Object.keys(u).forEach(X=>{const me=u[X];null!==me&&(C[X]=me)}),this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((me,Pe)=>{me&&(me=te(me,C,_));const Je=this.normalizer.normalizePropertyName(Pe,_);me=this.normalizer.normalizeStyleValue(Pe,Je,me,_),f.set(Pe,me)})}),f}}class nf{constructor(u,_,f){this.name=u,this.ast=_,this._normalizer=f,this.transitionFactories=[],this.states=new Map,_.states.forEach(C=>{this.states.set(C.name,new yh(C.style,C.options&&C.options.params||{},f))}),Tc(this.states,"true","1"),Tc(this.states,"false","0"),_.transitions.forEach(C=>{this.transitionFactories.push(new id(u,C,this.states))}),this.fallbackTransition=function bh(y,u,_){return new id(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,Pe)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,_,f,C){return this.transitionFactories.find(me=>me.match(u,_,f,C))||null}matchStyles(u,_,f){return this.fallbackTransition.buildStyles(u,_,f)}}function Tc(y,u,_){y.has(u)?y.has(_)||y.set(_,y.get(u)):y.has(_)&&y.set(u,y.get(_))}const xd=new M;class Td{constructor(u,_,f){this.bodyNode=u,this._driver=_,this._normalizer=f,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,_){const f=[],X=ed(this._driver,_,f,[]);if(f.length)throw function Su(y){return new b.vHH(3503,!1)}();this._animations.set(u,X)}_buildPlayer(u,_,f){const C=u.element,X=vh(this._normalizer,u.keyframes,_,f);return this._driver.animate(C,X,u.duration,u.delay,u.easing,[],!0)}create(u,_,f={}){const C=[],X=this._animations.get(u);let me;const Pe=new Map;if(X?(me=$t(this._driver,_,X,lc,Mu,new Map,new Map,f,xd,C),me.forEach(Cn=>{const Rn=eo(Pe,Cn.element,new Map);Cn.postStyleProps.forEach(xi=>Rn.set(xi,null))})):(C.push(function Da(){return new b.vHH(3300,!1)}()),me=[]),C.length)throw function Tt(y){return new b.vHH(3504,!1)}();Pe.forEach((Cn,Rn)=>{Cn.forEach((xi,ri)=>{Cn.set(ri,this._driver.computeStyle(Rn,ri,nr.l3))})});const Mt=bc(me.map(Cn=>{const Rn=Pe.get(Cn.element);return this._buildPlayer(Cn,new Map,Rn)}));return this._playersById.set(u,Mt),Mt.onDestroy(()=>this.destroy(u)),this.players.push(Mt),Mt}destroy(u){const _=this._getPlayer(u);_.destroy(),this._playersById.delete(u);const f=this.players.indexOf(_);f>=0&&this.players.splice(f,1)}_getPlayer(u){const _=this._playersById.get(u);if(!_)throw function au(y){return new b.vHH(3301,!1)}();return _}listen(u,_,f,C){const X=Wa(_,"","","");return Yi(this._getPlayer(u),f,X,C),()=>{}}command(u,_,f,C){if("register"==f)return void this.register(u,C[0]);if("create"==f)return void this.create(u,_,C[0]||{});const X=this._getPlayer(u);switch(f){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(u)}}}const od="ng-animate-queued",Qd="ng-animate-disabled",wh=[],Ih={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ch={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ll="__ng_removed";class uc{get params(){return this.options.params}constructor(u,_=""){this.namespaceId=_;const f=u&&u.hasOwnProperty("value");if(this.value=function mu(y){return y??null}(f?u.value:u),f){const X=sa(u);delete X.value,this.options=X}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const _=u.params;if(_){const f=this.options.params;Object.keys(_).forEach(C=>{null==f[C]&&(f[C]=_[C])})}}}const to="void",ku=new uc(to);class Ad{constructor(u,_,f){this.id=u,this.hostElement=_,this._engine=f,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,ks(_,this._hostClassName)}listen(u,_,f,C){if(!this._triggers.has(_))throw function xs(y,u){return new b.vHH(3302,!1)}();if(null==f||0==f.length)throw function yc(y){return new b.vHH(3303,!1)}();if(!function ad(y){return"start"==y||"done"==y}(f))throw function lu(y,u){return new b.vHH(3400,!1)}();const X=eo(this._elementListeners,u,[]),me={name:_,phase:f,callback:C};X.push(me);const Pe=eo(this._engine.statesByElement,u,new Map);return Pe.has(_)||(ks(u,Cc),ks(u,Cc+"-"+_),Pe.set(_,ku)),()=>{this._engine.afterFlush(()=>{const Je=X.indexOf(me);Je>=0&&X.splice(Je,1),this._triggers.has(_)||Pe.delete(_)})}}register(u,_){return!this._triggers.has(u)&&(this._triggers.set(u,_),!0)}_getTrigger(u){const _=this._triggers.get(u);if(!_)throw function jl(y){return new b.vHH(3401,!1)}();return _}trigger(u,_,f,C=!0){const X=this._getTrigger(_),me=new Md(this.id,_,u);let Pe=this._engine.statesByElement.get(u);Pe||(ks(u,Cc),ks(u,Cc+"-"+_),this._engine.statesByElement.set(u,Pe=new Map));let Je=Pe.get(_);const Mt=new uc(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&Je&&Mt.absorbOptions(Je.options),Pe.set(_,Mt),Je||(Je=ku),Mt.value!==to&&Je.value===Mt.value){if(!function xh(y,u){const _=Object.keys(y),f=Object.keys(u);if(_.length!=f.length)return!1;for(let C=0;C<_.length;C++){const X=_[C];if(!u.hasOwnProperty(X)||y[X]!==u[X])return!1}return!0}(Je.params,Mt.params)){const Ur=[],Xi=X.matchStyles(Je.value,Je.params,Ur),no=X.matchStyles(Mt.value,Mt.params,Ur);Ur.length?this._engine.reportError(Ur):this._engine.afterFlush(()=>{jo(u,Xi),oi(u,no)})}return}const xi=eo(this._engine.playersByElement,u,[]);xi.forEach(Ur=>{Ur.namespaceId==this.id&&Ur.triggerName==_&&Ur.queued&&Ur.destroy()});let ri=X.matchTransition(Je.value,Mt.value,u,Mt.params),vr=!1;if(!ri){if(!C)return;ri=X.fallbackTransition,vr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:_,transition:ri,fromState:Je,toState:Mt,player:me,isFallbackTransition:vr}),vr||(ks(u,od),me.onStart(()=>{gu(u,od)})),me.onDone(()=>{let Ur=this.players.indexOf(me);Ur>=0&&this.players.splice(Ur,1);const Xi=this._engine.playersByElement.get(u);if(Xi){let no=Xi.indexOf(me);no>=0&&Xi.splice(no,1)}}),this.players.push(me),xi.push(me),me}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(_=>_.delete(u)),this._elementListeners.forEach((_,f)=>{this._elementListeners.set(f,_.filter(C=>C.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const _=this._engine.playersByElement.get(u);_&&(_.forEach(f=>f.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,_){const f=this._engine.driver.query(u,wl,!0);f.forEach(C=>{if(C[ll])return;const X=this._engine.fetchNamespacesByElement(C);X.size?X.forEach(me=>me.triggerLeaveAnimation(C,_,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(u,_,f,C){const X=this._engine.statesByElement.get(u),me=new Map;if(X){const Pe=[];if(X.forEach((Je,Mt)=>{if(me.set(Mt,Je.value),this._triggers.has(Mt)){const Cn=this.trigger(u,Mt,to,C);Cn&&Pe.push(Cn)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,u,!0,_,me),f&&bc(Pe).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const _=this._elementListeners.get(u),f=this._engine.statesByElement.get(u);if(_&&f){const C=new Set;_.forEach(X=>{const me=X.name;if(C.has(me))return;C.add(me);const Je=this._triggers.get(me).fallbackTransition,Mt=f.get(me)||ku,Cn=new uc(to),Rn=new Md(this.id,me,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:me,transition:Je,fromState:Mt,toState:Cn,player:Rn,isFallbackTransition:!0})})}}removeNode(u,_){const f=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,_),this.triggerLeaveAnimation(u,_,!0))return;let C=!1;if(f.totalAnimations){const X=f.players.length?f.playersByQueriedElement.get(u):[];if(X&&X.length)C=!0;else{let me=u;for(;me=me.parentNode;)if(f.statesByElement.get(me)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(u),C)f.markElementAsRemoved(this.id,u,!1,_);else{const X=u[ll];(!X||X===Ih)&&(f.afterFlush(()=>this.clearElementCache(u)),f.destroyInnerAnimations(u),f._onRemovalComplete(u,_))}}insertNode(u,_){ks(u,this._hostClassName)}drainQueuedTransitions(u){const _=[];return this._queue.forEach(f=>{const C=f.player;if(C.destroyed)return;const X=f.element,me=this._elementListeners.get(X);me&&me.forEach(Pe=>{if(Pe.name==f.triggerName){const Je=Wa(X,f.triggerName,f.fromState.value,f.toState.value);Je._data=u,Yi(f.player,Pe.phase,Je,Pe.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):_.push(f)}),this._queue=[],_.sort((f,C)=>{const X=f.transition.ast.depCount,me=C.transition.ast.depCount;return 0==X||0==me?X-me:this._engine.driver.containsElement(f.element,C.element)?1:-1})}destroy(u){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class _n{_onRemovalComplete(u,_){this.onRemovalComplete(u,_)}constructor(u,_,f){this.bodyNode=u,this.driver=_,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,X)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(_=>{_.players.forEach(f=>{f.queued&&u.push(f)})}),u}createNamespace(u,_){const f=new Ad(u,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(f,_):(this.newHostElements.set(_,f),this.collectEnterElement(_)),this._namespaceLookup[u]=f}_balanceNamespaceList(u,_){const f=this._namespaceList,C=this.namespacesByHostElement;if(f.length-1>=0){let me=!1,Pe=this.driver.getParentElement(_);for(;Pe;){const Je=C.get(Pe);if(Je){const Mt=f.indexOf(Je);f.splice(Mt+1,0,u),me=!0;break}Pe=this.driver.getParentElement(Pe)}me||f.unshift(u)}else f.push(u);return C.set(_,u),u}register(u,_){let f=this._namespaceLookup[u];return f||(f=this.createNamespace(u,_)),f}registerTrigger(u,_,f){let C=this._namespaceLookup[u];C&&C.register(_,f)&&this.totalAnimations++}destroy(u,_){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const f=this._fetchNamespace(u);this.namespacesByHostElement.delete(f.hostElement);const C=this._namespaceList.indexOf(f);C>=0&&this._namespaceList.splice(C,1),f.destroy(_),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const _=new Set,f=this.statesByElement.get(u);if(f)for(let C of f.values())if(C.namespaceId){const X=this._fetchNamespace(C.namespaceId);X&&_.add(X)}return _}trigger(u,_,f,C){if(Nu(_)){const X=this._fetchNamespace(u);if(X)return X.trigger(_,f,C),!0}return!1}insertNode(u,_,f,C){if(!Nu(_))return;const X=_[ll];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const me=this.collectedLeaveElements.indexOf(_);me>=0&&this.collectedLeaveElements.splice(me,1)}if(u){const me=this._fetchNamespace(u);me&&me.insertNode(_,f)}C&&this.collectEnterElement(_)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,_){_?this.disabledNodes.has(u)||(this.disabledNodes.add(u),ks(u,Qd)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),gu(u,Qd))}removeNode(u,_,f){if(Nu(_)){const C=u?this._fetchNamespace(u):null;C?C.removeNode(_,f):this.markElementAsRemoved(u,_,!1,f);const X=this.namespacesByHostElement.get(_);X&&X.id!==u&&X.removeNode(_,f)}else this._onRemovalComplete(_,f)}markElementAsRemoved(u,_,f,C,X){this.collectedLeaveElements.push(_),_[ll]={namespaceId:u,setForRemoval:C,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:X}}listen(u,_,f,C,X){return Nu(_)?this._fetchNamespace(u).listen(_,f,C,X):()=>{}}_buildInstruction(u,_,f,C,X){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,f,C,u.fromState.options,u.toState.options,_,X)}destroyInnerAnimations(u){let _=this.driver.query(u,wl,!0);_.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(u,hu,!0),_.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(u){const _=this.playersByElement.get(u);_&&_.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(u){const _=this.playersByQueriedElement.get(u);_&&_.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return bc(this.players).onDone(()=>u());u()})}processLeaveNode(u){const _=u[ll];if(_&&_.setForRemoval){if(u[ll]=Ih,_.namespaceId){this.destroyInnerAnimations(u);const f=this._fetchNamespace(_.namespaceId);f&&f.clearElementCache(u)}this._onRemovalComplete(u,_.setForRemoval)}u.classList?.contains(Qd)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(u=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,C)=>this._balanceNamespaceList(f,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)ks(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{_=this._flushAnimations(f,u)}finally{for(let C=0;C<f.length;C++)f[C]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],_.length?bc(_).onDone(()=>{f.forEach(C=>C())}):f.forEach(C=>C())}}reportError(u){throw function Id(y){return new b.vHH(3402,!1)}()}_flushAnimations(u,_){const f=new M,C=[],X=new Map,me=[],Pe=new Map,Je=new Map,Mt=new Map,Cn=new Set;this.disabledNodes.forEach(sr=>{Cn.add(sr);const Pr=this.driver.query(sr,".ng-animate-queued",!0);for(let Vr=0;Vr<Pr.length;Vr++)Cn.add(Pr[Vr])});const Rn=this.bodyNode,xi=Array.from(this.statesByElement.keys()),ri=rf(xi,this.collectedEnterElements),vr=new Map;let Ur=0;ri.forEach((sr,Pr)=>{const Vr=lc+Ur++;vr.set(Pr,Vr),sr.forEach(Gi=>ks(Gi,Vr))});const Xi=[],no=new Set,$s=new Set;for(let sr=0;sr<this.collectedLeaveElements.length;sr++){const Pr=this.collectedLeaveElements[sr],Vr=Pr[ll];Vr&&Vr.setForRemoval&&(Xi.push(Pr),no.add(Pr),Vr.hasAnimation?this.driver.query(Pr,".ng-star-inserted",!0).forEach(Gi=>no.add(Gi)):$s.add(Pr))}const Xa=new Map,ca=rf(xi,Array.from(no));ca.forEach((sr,Pr)=>{const Vr=Mu+Ur++;Xa.set(Pr,Vr),sr.forEach(Gi=>ks(Gi,Vr))}),u.push(()=>{ri.forEach((sr,Pr)=>{const Vr=vr.get(Pr);sr.forEach(Gi=>gu(Gi,Vr))}),ca.forEach((sr,Pr)=>{const Vr=Xa.get(Pr);sr.forEach(Gi=>gu(Gi,Vr))}),Xi.forEach(sr=>{this.processLeaveNode(sr)})});const Oc=[],Tl=[];for(let sr=this._namespaceList.length-1;sr>=0;sr--)this._namespaceList[sr].drainQueuedTransitions(_).forEach(Vr=>{const Gi=Vr.player,mo=Vr.element;if(Oc.push(Gi),this.collectedEnterElements.length){const Ja=mo[ll];if(Ja&&Ja.setForMove){if(Ja.previousTriggersValues&&Ja.previousTriggersValues.has(Vr.triggerName)){const bu=Ja.previousTriggersValues.get(Vr.triggerName),ul=this.statesByElement.get(Vr.element);if(ul&&ul.has(Vr.triggerName)){const ch=ul.get(Vr.triggerName);ch.value=bu,ul.set(Vr.triggerName,ch)}}return void Gi.destroy()}}const Dl=!Rn||!this.driver.containsElement(Rn,mo),Sl=Xa.get(mo),Gu=vr.get(mo),Ns=this._buildInstruction(Vr,f,Gu,Sl,Dl);if(Ns.errors&&Ns.errors.length)return void Tl.push(Ns);if(Dl)return Gi.onStart(()=>jo(mo,Ns.fromStyles)),Gi.onDestroy(()=>oi(mo,Ns.toStyles)),void C.push(Gi);if(Vr.isFallbackTransition)return Gi.onStart(()=>jo(mo,Ns.fromStyles)),Gi.onDestroy(()=>oi(mo,Ns.toStyles)),void C.push(Gi);const Uh=[];Ns.timelines.forEach(Ja=>{Ja.stretchStartingKeyframe=!0,this.disabledNodes.has(Ja.element)||Uh.push(Ja)}),Ns.timelines=Uh,f.append(mo,Ns.timelines),me.push({instruction:Ns,player:Gi,element:mo}),Ns.queriedElements.forEach(Ja=>eo(Pe,Ja,[]).push(Gi)),Ns.preStyleProps.forEach((Ja,bu)=>{if(Ja.size){let ul=Je.get(bu);ul||Je.set(bu,ul=new Set),Ja.forEach((ch,Ud)=>ul.add(Ud))}}),Ns.postStyleProps.forEach((Ja,bu)=>{let ul=Mt.get(bu);ul||Mt.set(bu,ul=new Set),Ja.forEach((ch,Ud)=>ul.add(Ud))})});if(Tl.length){const sr=[];Tl.forEach(Pr=>{sr.push(function qd(y,u){return new b.vHH(3505,!1)}())}),Oc.forEach(Pr=>Pr.destroy()),this.reportError(sr)}const ro=new Map,Yl=new Map;me.forEach(sr=>{const Pr=sr.element;f.has(Pr)&&(Yl.set(Pr,Pr),this._beforeAnimationBuild(sr.player.namespaceId,sr.instruction,ro))}),C.forEach(sr=>{const Pr=sr.element;this._getPreviousPlayers(Pr,!1,sr.namespaceId,sr.triggerName,null).forEach(Gi=>{eo(ro,Pr,[]).push(Gi),Gi.destroy()})});const fc=Xi.filter(sr=>ql(sr,Je,Mt)),Ql=new Map;Za(Ql,this.driver,$s,Mt,nr.l3).forEach(sr=>{ql(sr,Je,Mt)&&fc.push(sr)});const Vd=new Map;ri.forEach((sr,Pr)=>{Za(Vd,this.driver,new Set(sr),Je,nr.k1)}),fc.forEach(sr=>{const Pr=Ql.get(sr),Vr=Vd.get(sr);Ql.set(sr,new Map([...Pr?.entries()??[],...Vr?.entries()??[]]))});const Pc=[],rp=[],ip={};me.forEach(sr=>{const{element:Pr,player:Vr,instruction:Gi}=sr;if(f.has(Pr)){if(Cn.has(Pr))return Vr.onDestroy(()=>oi(Pr,Gi.toStyles)),Vr.disabled=!0,Vr.overrideTotalTime(Gi.totalTime),void C.push(Vr);let mo=ip;if(Yl.size>1){let Sl=Pr;const Gu=[];for(;Sl=Sl.parentNode;){const Ns=Yl.get(Sl);if(Ns){mo=Ns;break}Gu.push(Sl)}Gu.forEach(Ns=>Yl.set(Ns,mo))}const Dl=this._buildAnimation(Vr.namespaceId,Gi,ro,X,Vd,Ql);if(Vr.setRealPlayer(Dl),mo===ip)Pc.push(Vr);else{const Sl=this.playersByElement.get(mo);Sl&&Sl.length&&(Vr.parentPlayer=bc(Sl)),C.push(Vr)}}else jo(Pr,Gi.fromStyles),Vr.onDestroy(()=>oi(Pr,Gi.toStyles)),rp.push(Vr),Cn.has(Pr)&&C.push(Vr)}),rp.forEach(sr=>{const Pr=X.get(sr.element);if(Pr&&Pr.length){const Vr=bc(Pr);sr.setRealPlayer(Vr)}}),C.forEach(sr=>{sr.parentPlayer?sr.syncPlayerEvents(sr.parentPlayer):sr.destroy()});for(let sr=0;sr<Xi.length;sr++){const Pr=Xi[sr],Vr=Pr[ll];if(gu(Pr,Mu),Vr&&Vr.hasAnimation)continue;let Gi=[];if(Pe.size){let Dl=Pe.get(Pr);Dl&&Dl.length&&Gi.push(...Dl);let Sl=this.driver.query(Pr,hu,!0);for(let Gu=0;Gu<Sl.length;Gu++){let Ns=Pe.get(Sl[Gu]);Ns&&Ns.length&&Gi.push(...Ns)}}const mo=Gi.filter(Dl=>!Dl.destroyed);mo.length?Yc(this,Pr,mo):this.processLeaveNode(Pr)}return Xi.length=0,Pc.forEach(sr=>{this.players.push(sr),sr.onDone(()=>{sr.destroy();const Pr=this.players.indexOf(sr);this.players.splice(Pr,1)}),sr.play()}),Pc}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,_,f,C,X){let me=[];if(_){const Pe=this.playersByQueriedElement.get(u);Pe&&(me=Pe)}else{const Pe=this.playersByElement.get(u);if(Pe){const Je=!X||X==to;Pe.forEach(Mt=>{Mt.queued||!Je&&Mt.triggerName!=C||me.push(Mt)})}}return(f||C)&&(me=me.filter(Pe=>!(f&&f!=Pe.namespaceId||C&&C!=Pe.triggerName))),me}_beforeAnimationBuild(u,_,f){const X=_.element,me=_.isRemovalTransition?void 0:u,Pe=_.isRemovalTransition?void 0:_.triggerName;for(const Je of _.timelines){const Mt=Je.element,Cn=Mt!==X,Rn=eo(f,Mt,[]);this._getPreviousPlayers(Mt,Cn,me,Pe,_.toState).forEach(ri=>{const vr=ri.getRealPlayer();vr.beforeDestroy&&vr.beforeDestroy(),ri.destroy(),Rn.push(ri)})}jo(X,_.fromStyles)}_buildAnimation(u,_,f,C,X,me){const Pe=_.triggerName,Je=_.element,Mt=[],Cn=new Set,Rn=new Set,xi=_.timelines.map(vr=>{const Ur=vr.element;Cn.add(Ur);const Xi=Ur[ll];if(Xi&&Xi.removedBeforeQueried)return new nr.ZN(vr.duration,vr.delay);const no=Ur!==Je,$s=function Xd(y){const u=[];return Wl(y,u),u}((f.get(Ur)||wh).map(ro=>ro.getRealPlayer())).filter(ro=>!!ro.element&&ro.element===Ur),Xa=X.get(Ur),ca=me.get(Ur),Oc=vh(this._normalizer,vr.keyframes,Xa,ca),Tl=this._buildPlayer(vr,Oc,$s);if(vr.subTimeline&&C&&Rn.add(Ur),no){const ro=new Md(u,Pe,Ur);ro.setRealPlayer(Tl),Mt.push(ro)}return Tl});Mt.forEach(vr=>{eo(this.playersByQueriedElement,vr.element,[]).push(vr),vr.onDone(()=>function pu(y,u,_){let f=y.get(u);if(f){if(f.length){const C=f.indexOf(_);f.splice(C,1)}0==f.length&&y.delete(u)}return f}(this.playersByQueriedElement,vr.element,vr))}),Cn.forEach(vr=>ks(vr,Ju));const ri=bc(xi);return ri.onDestroy(()=>{Cn.forEach(vr=>gu(vr,Ju)),oi(Je,_.toStyles)}),Rn.forEach(vr=>{eo(C,vr,[]).push(ri)}),ri}_buildPlayer(u,_,f){return _.length>0?this.driver.animate(u.element,_,u.duration,u.delay,u.easing,f):new nr.ZN(u.duration,u.delay)}}class Md{constructor(u,_,f){this.namespaceId=u,this.triggerName=_,this.element=f,this._player=new nr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((_,f)=>{_.forEach(C=>Yi(u,f,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const _=this._player;_.triggerCallback&&u.onStart(()=>_.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,_){eo(this._queuedCallbacks,u,[]).push(_)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const _=this._player;_.triggerCallback&&_.triggerCallback(u)}}function Nu(y){return y&&1===y.nodeType}function Zc(y,u){const _=y.style.display;return y.style.display=u??"none",_}function Za(y,u,_,f,C){const X=[];_.forEach(Je=>X.push(Zc(Je)));const me=[];f.forEach((Je,Mt)=>{const Cn=new Map;Je.forEach(Rn=>{const xi=u.computeStyle(Mt,Rn,C);Cn.set(Rn,xi),(!xi||0==xi.length)&&(Mt[ll]=Ch,me.push(Mt))}),y.set(Mt,Cn)});let Pe=0;return _.forEach(Je=>Zc(Je,X[Pe++])),me}function rf(y,u){const _=new Map;if(y.forEach(Pe=>_.set(Pe,[])),0==u.length)return _;const C=new Set(u),X=new Map;function me(Pe){if(!Pe)return 1;let Je=X.get(Pe);if(Je)return Je;const Mt=Pe.parentNode;return Je=_.has(Mt)?Mt:C.has(Mt)?1:me(Mt),X.set(Pe,Je),Je}return u.forEach(Pe=>{const Je=me(Pe);1!==Je&&_.get(Je).push(Pe)}),_}function ks(y,u){y.classList?.add(u)}function gu(y,u){y.classList?.remove(u)}function Yc(y,u,_){bc(_).onDone(()=>y.processLeaveNode(u))}function Wl(y,u){for(let _=0;_<y.length;_++){const f=y[_];f instanceof nr.ZE?Wl(f.players,u):u.push(f)}}function ql(y,u,_){const f=_.get(y);if(!f)return!1;let C=u.get(y);return C?f.forEach(X=>C.add(X)):u.set(y,f),_.delete(y),!0}class Sa{constructor(u,_,f){this.bodyNode=u,this._driver=_,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(C,X)=>{},this._transitionEngine=new _n(u,_,f),this._timelineEngine=new Td(u,_,f),this._transitionEngine.onRemovalComplete=(C,X)=>this.onRemovalComplete(C,X)}registerTrigger(u,_,f,C,X){const me=u+"-"+C;let Pe=this._triggerCache[me];if(!Pe){const Je=[],Cn=ed(this._driver,X,Je,[]);if(Je.length)throw function Bo(y,u){return new b.vHH(3404,!1)}();Pe=function Pp(y,u,_){return new nf(y,u,_)}(C,Cn,this._normalizer),this._triggerCache[me]=Pe}this._transitionEngine.registerTrigger(_,C,Pe)}register(u,_){this._transitionEngine.register(u,_)}destroy(u,_){this._transitionEngine.destroy(u,_)}onInsert(u,_,f,C){this._transitionEngine.insertNode(u,_,f,C)}onRemove(u,_,f){this._transitionEngine.removeNode(u,_,f)}disableAnimations(u,_){this._transitionEngine.markElementAsDisabled(u,_)}process(u,_,f,C){if("@"==f.charAt(0)){const[X,me]=Ks(f);this._timelineEngine.command(X,_,me,C)}else this._transitionEngine.trigger(u,_,f,C)}listen(u,_,f,C,X){if("@"==f.charAt(0)){const[me,Pe]=Ks(f);return this._timelineEngine.listen(me,_,Pe,X)}return this._transitionEngine.listen(u,_,f,C,X)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}let ni=(()=>{class u{constructor(f,C,X){this._element=f,this._startStyles=C,this._endStyles=X,this._state=0;let me=u.initialStylesByElement.get(f);me||u.initialStylesByElement.set(f,me=new Map),this._initialStyles=me}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(u.initialStylesByElement.delete(this._element),this._startStyles&&(jo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jo(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return u.initialStylesByElement=new WeakMap,u})();function _a(y){let u=null;return y.forEach((_,f)=>{(function Qc(y){return"display"===y||"position"===y})(f)&&(u=u||new Map,u.set(f,_))}),u}class _u{constructor(u,_,f,C){this.element=u,this.keyframes=_,this.options=f,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const _=[];return u.forEach(f=>{_.push(Object.fromEntries(f))}),_}_triggerWebAnimation(u,_,f){return u.animate(this._convertKeyframesToObject(_),f)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,C)=>{"offset"!==C&&u.set(C,this._finished?f:Bn(this.element,C))}),this.currentSnapshot=u}triggerCallback(u){const _="start"===u?this._onStartFns:this._onDoneFns;_.forEach(f=>f()),_.length=0}}class la{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,_){return!1}containsElement(u,_){return $c(u,_)}getParentElement(u){return Xu(u)}query(u,_,f){return Au(u,_,f)}computeStyle(u,_,f){return window.getComputedStyle(u)[_]}animate(u,_,f,C,X,me=[]){const Je={duration:f,delay:C,fill:0==C?"both":"forwards"};X&&(Je.easing=X);const Mt=new Map,Cn=me.filter(ri=>ri instanceof _u);(function Gt(y,u){return 0===y||0===u})(f,C)&&Cn.forEach(ri=>{ri.currentSnapshot.forEach((vr,Ur)=>Mt.set(Ur,vr))});let Rn=function al(y){return y.length?y[0]instanceof Map?y:y.map(u=>fs(u)):[]}(_).map(ri=>Il(ri));Rn=function Zt(y,u,_){if(_.size&&u.length){let f=u[0],C=[];if(_.forEach((X,me)=>{f.has(me)||C.push(me),f.set(me,X)}),C.length)for(let X=1;X<u.length;X++){let me=u[X];C.forEach(Pe=>me.set(Pe,Bn(y,Pe)))}}return u}(u,Rn,Mt);const xi=function Ya(y,u){let _=null,f=null;return Array.isArray(u)&&u.length?(_=_a(u[0]),u.length>1&&(f=_a(u[u.length-1]))):u instanceof Map&&(_=_a(u)),_||f?new ni(y,_,f):null}(u,Rn);return new _u(u,Rn,Je,xi)}}let va=(()=>{var y;class u extends nr._j{constructor(f,C){super(),this._nextAnimationId=0,this._renderer=f.createRenderer(C.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(f){const C=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(f)?(0,nr.vP)(f):f;return Xc(this._renderer,null,C,"register",[X]),new Sc(C,this._renderer)}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(b.FYo),b.LFG(ye.K0))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac}),u})();class Sc extends nr.LC{constructor(u,_){super(),this._id=u,this._renderer=_}create(u,_){return new Fu(this._id,u,_||{},this._renderer)}}class Fu{constructor(u,_,f,C){this.id=u,this.element=_,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(u,_){return this._renderer.listen(this.element,`@@${this.id}:${u}`,_)}_command(u,..._){return Xc(this._renderer,this.element,this.id,u,_)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Xc(y,u,_,f,C){return y.setProperty(u,`@@${_}:${f}`,C)}const cl="@.disabled";let Vu=(()=>{var y;class u{constructor(f,C,X){this.delegate=f,this.engine=C,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,C.onRemovalComplete=(me,Pe)=>{const Je=Pe?.parentNode(me);Je&&Pe.removeChild(Je,me)}}createRenderer(f,C){const me=this.delegate.createRenderer(f,C);if(!(f&&C&&C.data&&C.data.animation)){let Rn=this._rendererCache.get(me);return Rn||(Rn=new Jd("",me,this.engine,()=>this._rendererCache.delete(me)),this._rendererCache.set(me,Rn)),Rn}const Pe=C.id,Je=C.id+"-"+this._currentId;this._currentId++,this.engine.register(Je,f);const Mt=Rn=>{Array.isArray(Rn)?Rn.forEach(Mt):this.engine.registerTrigger(Pe,Je,f,Rn.name,Rn)};return C.data.animation.forEach(Mt),new Uu(this,Je,me,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(f,C,X){f>=0&&f<this._microtaskId?this._zone.run(()=>C(X)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(me=>{const[Pe,Je]=me;Pe(Je)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(b.FYo),b.LFG(Sa),b.LFG(b.R0b))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac}),u})();class Jd{constructor(u,_,f,C){this.namespaceId=u,this.delegate=_,this.engine=f,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,_){return this.delegate.createElement(u,_)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,_){this.delegate.appendChild(u,_),this.engine.onInsert(this.namespaceId,_,u,!1)}insertBefore(u,_,f,C=!0){this.delegate.insertBefore(u,_,f),this.engine.onInsert(this.namespaceId,_,u,C)}removeChild(u,_,f){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(u,_){return this.delegate.selectRootElement(u,_)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,_,f,C){this.delegate.setAttribute(u,_,f,C)}removeAttribute(u,_,f){this.delegate.removeAttribute(u,_,f)}addClass(u,_){this.delegate.addClass(u,_)}removeClass(u,_){this.delegate.removeClass(u,_)}setStyle(u,_,f,C){this.delegate.setStyle(u,_,f,C)}removeStyle(u,_,f){this.delegate.removeStyle(u,_,f)}setProperty(u,_,f){"@"==_.charAt(0)&&_==cl?this.disableAnimations(u,!!f):this.delegate.setProperty(u,_,f)}setValue(u,_){this.delegate.setValue(u,_)}listen(u,_,f){return this.delegate.listen(u,_,f)}disableAnimations(u,_){this.engine.disableAnimations(u,_)}}class Uu extends Jd{constructor(u,_,f,C,X){super(_,f,C,X),this.factory=u,this.namespaceId=_}setProperty(u,_,f){"@"==_.charAt(0)?"."==_.charAt(1)&&_==cl?this.disableAnimations(u,f=void 0===f||!!f):this.engine.process(this.namespaceId,u,_.slice(1),f):this.delegate.setProperty(u,_,f)}listen(u,_,f){if("@"==_.charAt(0)){const C=function Th(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(u);let X=_.slice(1),me="";return"@"!=X.charAt(0)&&([X,me]=function Bu(y){const u=y.indexOf(".");return[y.substring(0,u),y.slice(u+1)]}(X)),this.engine.listen(this.namespaceId,C,X,me,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,f,Pe)})}return this.delegate.listen(u,_,f)}}const Dh=[{provide:nr._j,useClass:va},{provide:zs,useFactory:function ld(){return new rd}},{provide:Sa,useClass:(()=>{var y;class u extends Sa{constructor(f,C,X,me){super(f.body,C,X)}ngOnDestroy(){this.flush()}}return(y=u).\u0275fac=function(f){return new(f||y)(b.LFG(ye.K0),b.LFG(ac),b.LFG(zs),b.LFG(b.z2F))},y.\u0275prov=b.Yz7({token:y,factory:y.\u0275fac}),u})()},{provide:b.FYo,useFactory:function Ac(y,u,_){return new Vu(y,u,_)},deps:[g.se,Sa,b.R0b]}],ju=[{provide:ac,useFactory:()=>new la},{provide:b.QbO,useValue:"BrowserAnimations"},...Dh],ys=[{provide:ac,useClass:Gc},{provide:b.QbO,useValue:"NoopAnimations"},...Dh];let eh=(()=>{var y;class u{static withConfig(f){return{ngModule:u,providers:f.disableAnimations?ys:ju}}}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({providers:ju,imports:[g.b2]}),u})();var Qa=V(8726);const Od={firebase:{projectId:"laboivtp1",appId:"1:939944236212:web:c9e26a986d9427d33933e1",storageBucket:"laboivtp1.appspot.com",apiKey:"AIzaSyBmUJDHqgAR54TXTgpWfqVuPqRASSMQthA",authDomain:"laboivtp1.firebaseapp.com",messagingSenderId:"939944236212"}};var Kl=V(2793),Jc=V(4097),Cl=V(2194),Ah=V(6710);V(9058),V(534),V(7879),V(4537);const h="auth";class m{constructor(u){return u}}class T{constructor(){return(0,Kl.vb)(h)}}const ae=new b.OlP("angularfire2.auth-instances");function Ve(y){return(u,_)=>{const f=u.runOutsideAngular(()=>y(_));return new m(f)}}const it={provide:T,deps:[[new b.FiY,ae]]},Wt={provide:m,useFactory:function be(y,u){const _=(0,Kl.JM)(h,y,u);return _&&new m(_)},deps:[[new b.FiY,ae],Qa.Ot]};let On=(()=>{class y{constructor(){(0,Jc.KN)("angularfire",Kl.q4.full,"auth")}}return y.\u0275fac=function(_){return new(_||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({providers:[Wt,it]}),y})();function Yn(y,...u){return{ngModule:On,providers:[{provide:ae,useFactory:Ve(y),multi:!0,deps:[b.R0b,b.zs3,Kl.HU,Qa.z6,[new b.FiY,Cl.nm],...u]}]}}const lf=(0,Kl.u3)(Ah.o,!0);var Vp=V(8162);class df{constructor(u){return u}}const Ph="firestore",Rc=new b.OlP("angularfire2.firestore-instances");function sh(y){return(u,_)=>{const f=u.runOutsideAngular(()=>y(_));return new df(f)}}const hf={provide:class Nd{constructor(){return(0,Kl.vb)(Ph)}},deps:[[new b.FiY,Rc]]},ff={provide:df,useFactory:function hc(y,u){const _=(0,Kl.JM)(Ph,y,u);return _&&new df(_)},deps:[[new b.FiY,Rc],Qa.Ot]};let Wf=(()=>{class y{constructor(){(0,Jc.KN)("angularfire",Kl.q4.full,"fst")}}return y.\u0275fac=function(_){return new(_||y)},y.\u0275mod=b.oAB({type:y}),y.\u0275inj=b.cJS({providers:[ff,hf]}),y})();function Vm(y,...u){return{ngModule:Wf,providers:[{provide:Rc,useFactory:sh(y),multi:!0,deps:[b.R0b,b.zs3,Kl.HU,Qa.z6,[new b.FiY,T],[new b.FiY,Cl.nm],...u]}]}}const oh=(0,Kl.u3)(Vp.ad,!0);var np=V(6304);let lh=(()=>{var y;class u{}return(y=u).\u0275fac=function(f){return new(f||y)},y.\u0275mod=b.oAB({type:y,bootstrap:[hn]}),y.\u0275inj=b.cJS({providers:[{provide:np.Dh,useValue:Od.firebase}],imports:[g.b2,gt,gc,eh,vc,Io,bo.ot,Bl.Ps,ec,Jo,(0,Qa.hX)(()=>(0,Qa.ZF)(Od.firebase)),Yn(()=>lf()),Vm(()=>oh())]}),u})();g.q6().bootstrapModule(lh).catch(y=>console.error(y))},5619:(on,et,V)=>{V.d(et,{X:()=>z});var g=V(8645);class z extends g.x{constructor(b){super(),this._value=b}get value(){return this.getValue()}_subscribe(b){const ye=super._subscribe(b);return!ye.closed&&b.next(this._value),ye}getValue(){const{hasError:b,thrownError:ye,_value:Se}=this;if(b)throw ye;return this._throwIfClosed(),Se}next(b){super.next(this._value=b)}}},5592:(on,et,V)=>{V.d(et,{y:()=>Ae});var g=V(305),z=V(7394),ie=V(4850),b=V(8407),ye=V(2653),Se=V(4674),Le=V(1441);let Ae=(()=>{class $e{constructor(ht){ht&&(this._subscribe=ht)}lift(ht){const jt=new $e;return jt.source=this,jt.operator=ht,jt}subscribe(ht,jt,At){const Rt=function Ce($e){return $e&&$e instanceof g.Lv||function ce($e){return $e&&(0,Se.m)($e.next)&&(0,Se.m)($e.error)&&(0,Se.m)($e.complete)}($e)&&(0,z.Nn)($e)}(ht)?ht:new g.Hp(ht,jt,At);return(0,Le.x)(()=>{const{operator:St,source:Kt}=this;Rt.add(St?St.call(Rt,Kt):Kt?this._subscribe(Rt):this._trySubscribe(Rt))}),Rt}_trySubscribe(ht){try{return this._subscribe(ht)}catch(jt){ht.error(jt)}}forEach(ht,jt){return new(jt=Fe(jt))((At,Rt)=>{const St=new g.Hp({next:Kt=>{try{ht(Kt)}catch(xt){Rt(xt),St.unsubscribe()}},error:Rt,complete:At});this.subscribe(St)})}_subscribe(ht){var jt;return null===(jt=this.source)||void 0===jt?void 0:jt.subscribe(ht)}[ie.L](){return this}pipe(...ht){return(0,b.U)(ht)(this)}toPromise(ht){return new(ht=Fe(ht))((jt,At)=>{let Rt;this.subscribe(St=>Rt=St,St=>At(St),()=>jt(Rt))})}}return $e.create=lt=>new $e(lt),$e})();function Fe($e){var lt;return null!==(lt=$e??ye.config.Promise)&&void 0!==lt?lt:Promise}},8645:(on,et,V)=>{V.d(et,{x:()=>Le});var g=V(5592),z=V(7394);const b=(0,V(2306).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=V(9039),Se=V(1441);let Le=(()=>{class Fe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const $e=new Ae(this,this);return $e.operator=Ce,$e}_throwIfClosed(){if(this.closed)throw new b}next(Ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(Ce)}})}error(Ce){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:$e}=this;for(;$e.length;)$e.shift().error(Ce)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:$e,isStopped:lt,observers:ht}=this;return $e||lt?z.Lc:(this.currentObservers=null,ht.push(Ce),new z.w0(()=>{this.currentObservers=null,(0,ye.P)(ht,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:$e,thrownError:lt,isStopped:ht}=this;$e?Ce.error(lt):ht&&Ce.complete()}asObservable(){const Ce=new g.y;return Ce.source=this,Ce}}return Fe.create=(ce,Ce)=>new Ae(ce,Ce),Fe})();class Ae extends Le{constructor(ce,Ce){super(),this.destination=ce,this.source=Ce}next(ce){var Ce,$e;null===($e=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===$e||$e.call(Ce,ce)}error(ce){var Ce,$e;null===($e=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===$e||$e.call(Ce,ce)}complete(){var ce,Ce;null===(Ce=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===Ce||Ce.call(ce)}_subscribe(ce){var Ce,$e;return null!==($e=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(ce))&&void 0!==$e?$e:z.Lc}}},305:(on,et,V)=>{V.d(et,{Hp:()=>At,Lv:()=>$e});var g=V(4674),z=V(7394),ie=V(2653),b=V(3894),ye=V(2420);const Se=Fe("C",void 0,void 0);function Fe(xe,Ge,Oe){return{kind:xe,value:Ge,error:Oe}}var ce=V(7599),Ce=V(1441);class $e extends z.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,z.Nn)(Ge)&&Ge.add(this)):this.destination=xt}static create(Ge,Oe,Ke){return new At(Ge,Oe,Ke)}next(Ge){this.isStopped?Kt(function Ae(xe){return Fe("N",xe,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?Kt(function Le(xe){return Fe("E",void 0,xe)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?Kt(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function ht(xe,Ge){return lt.call(xe,Ge)}class jt{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ge)}catch(Ke){Rt(Ke)}}error(Ge){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ge)}catch(Ke){Rt(Ke)}else Rt(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(Oe){Rt(Oe)}}}class At extends $e{constructor(Ge,Oe,Ke){let Dt;if(super(),(0,g.m)(Ge)||!Ge)Dt={next:Ge??void 0,error:Oe??void 0,complete:Ke??void 0};else{let Qe;this&&ie.config.useDeprecatedNextContext?(Qe=Object.create(Ge),Qe.unsubscribe=()=>this.unsubscribe(),Dt={next:Ge.next&&ht(Ge.next,Qe),error:Ge.error&&ht(Ge.error,Qe),complete:Ge.complete&&ht(Ge.complete,Qe)}):Dt=Ge}this.destination=new jt(Dt)}}function Rt(xe){ie.config.useDeprecatedSynchronousErrorHandling?(0,Ce.O)(xe):(0,b.h)(xe)}function Kt(xe,Ge){const{onStoppedNotification:Oe}=ie.config;Oe&&ce.z.setTimeout(()=>Oe(xe,Ge))}const xt={closed:!0,next:ye.Z,error:function St(xe){throw xe},complete:ye.Z}},7394:(on,et,V)=>{V.d(et,{Lc:()=>Se,w0:()=>ye,Nn:()=>Le});var g=V(4674);const ie=(0,V(2306).d)(Fe=>function(Ce){Fe(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map(($e,lt)=>`${lt+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var b=V(9039);class ye{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const ht of Ce)ht.remove(this);else Ce.remove(this);const{initialTeardown:$e}=this;if((0,g.m)($e))try{$e()}catch(ht){ce=ht instanceof ie?ht.errors:[ht]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const ht of lt)try{Ae(ht)}catch(jt){ce=ce??[],jt instanceof ie?ce=[...ce,...jt.errors]:ce.push(jt)}}if(ce)throw new ie(ce)}}add(ce){var Ce;if(ce&&ce!==this)if(this.closed)Ae(ce);else{if(ce instanceof ye){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(ce)}}_hasParent(ce){const{_parentage:Ce}=this;return Ce===ce||Array.isArray(Ce)&&Ce.includes(ce)}_addParent(ce){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(ce),Ce):Ce?[Ce,ce]:ce}_removeParent(ce){const{_parentage:Ce}=this;Ce===ce?this._parentage=null:Array.isArray(Ce)&&(0,b.P)(Ce,ce)}remove(ce){const{_finalizers:Ce}=this;Ce&&(0,b.P)(Ce,ce),ce instanceof ye&&ce._removeParent(this)}}ye.EMPTY=(()=>{const Fe=new ye;return Fe.closed=!0,Fe})();const Se=ye.EMPTY;function Le(Fe){return Fe instanceof ye||Fe&&"closed"in Fe&&(0,g.m)(Fe.remove)&&(0,g.m)(Fe.add)&&(0,g.m)(Fe.unsubscribe)}function Ae(Fe){(0,g.m)(Fe)?Fe():Fe.unsubscribe()}},2653:(on,et,V)=>{V.d(et,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(on,et,V)=>{V.d(et,{a:()=>ce});var g=V(5592),z=V(7453),ie=V(2459),b=V(2737),ye=V(7400),Se=V(9940),Le=V(2714),Ae=V(8251),Fe=V(7103);function ce(...lt){const ht=(0,Se.yG)(lt),jt=(0,Se.jO)(lt),{args:At,keys:Rt}=(0,z.D)(lt);if(0===At.length)return(0,ie.D)([],ht);const St=new g.y(function Ce(lt,ht,jt=b.y){return At=>{$e(ht,()=>{const{length:Rt}=lt,St=new Array(Rt);let Kt=Rt,xt=Rt;for(let xe=0;xe<Rt;xe++)$e(ht,()=>{const Ge=(0,ie.D)(lt[xe],ht);let Oe=!1;Ge.subscribe((0,Ae.x)(At,Ke=>{St[xe]=Ke,Oe||(Oe=!0,xt--),xt||At.next(jt(St.slice()))},()=>{--Kt||At.complete()}))},At)},At)}}(At,ht,Rt?Kt=>(0,Le.n)(Rt,Kt):b.y));return jt?St.pipe((0,ye.Z)(jt)):St}function $e(lt,ht,jt){lt?(0,Fe.f)(jt,lt,ht):ht()}},5211:(on,et,V)=>{V.d(et,{z:()=>ye});var g=V(7537),ie=V(9940),b=V(2459);function ye(...Se){return function z(){return(0,g.J)(1)}()((0,b.D)(Se,(0,ie.yG)(Se)))}},4911:(on,et,V)=>{V.d(et,{P:()=>ie});var g=V(5592),z=V(4829);function ie(b){return new g.y(ye=>{(0,z.Xf)(b()).subscribe(ye)})}},6232:(on,et,V)=>{V.d(et,{E:()=>z});const z=new(V(5592).y)(ye=>ye.complete())},9315:(on,et,V)=>{V.d(et,{D:()=>Ae});var g=V(5592),z=V(7453),ie=V(4829),b=V(9940),ye=V(8251),Se=V(7400),Le=V(2714);function Ae(...Fe){const ce=(0,b.jO)(Fe),{args:Ce,keys:$e}=(0,z.D)(Fe),lt=new g.y(ht=>{const{length:jt}=Ce;if(!jt)return void ht.complete();const At=new Array(jt);let Rt=jt,St=jt;for(let Kt=0;Kt<jt;Kt++){let xt=!1;(0,ie.Xf)(Ce[Kt]).subscribe((0,ye.x)(ht,xe=>{xt||(xt=!0,St--),At[Kt]=xe},()=>Rt--,void 0,()=>{(!Rt||!xt)&&(St||ht.next($e?(0,Le.n)($e,At):At),ht.complete())}))}});return ce?lt.pipe((0,Se.Z)(ce)):lt}},2459:(on,et,V)=>{V.d(et,{D:()=>Ge});var g=V(4829),z=V(3093),ie=V(5137),Se=V(5592),Ae=V(4971),Fe=V(4674),ce=V(7103);function $e(Oe,Ke){if(!Oe)throw new Error("Iterable cannot be null");return new Se.y(Dt=>{(0,ce.f)(Dt,Ke,()=>{const Qe=Oe[Symbol.asyncIterator]();(0,ce.f)(Dt,Ke,()=>{Qe.next().then(kt=>{kt.done?Dt.complete():Dt.next(kt.value)})},0,!0)})})}var lt=V(8382),ht=V(4026),jt=V(4266),At=V(3664),Rt=V(5726),St=V(9853),Kt=V(541);function Ge(Oe,Ke){return Ke?function xe(Oe,Ke){if(null!=Oe){if((0,lt.c)(Oe))return function b(Oe,Ke){return(0,g.Xf)(Oe).pipe((0,ie.R)(Ke),(0,z.Q)(Ke))}(Oe,Ke);if((0,jt.z)(Oe))return function Le(Oe,Ke){return new Se.y(Dt=>{let Qe=0;return Ke.schedule(function(){Qe===Oe.length?Dt.complete():(Dt.next(Oe[Qe++]),Dt.closed||this.schedule())})})}(Oe,Ke);if((0,ht.t)(Oe))return function ye(Oe,Ke){return(0,g.Xf)(Oe).pipe((0,ie.R)(Ke),(0,z.Q)(Ke))}(Oe,Ke);if((0,Rt.D)(Oe))return $e(Oe,Ke);if((0,At.T)(Oe))return function Ce(Oe,Ke){return new Se.y(Dt=>{let Qe;return(0,ce.f)(Dt,Ke,()=>{Qe=Oe[Ae.h](),(0,ce.f)(Dt,Ke,()=>{let kt,pn;try{({value:kt,done:pn}=Qe.next())}catch(cn){return void Dt.error(cn)}pn?Dt.complete():Dt.next(kt)},0,!0)}),()=>(0,Fe.m)(Qe?.return)&&Qe.return()})}(Oe,Ke);if((0,Kt.L)(Oe))return function xt(Oe,Ke){return $e((0,Kt.Q)(Oe),Ke)}(Oe,Ke)}throw(0,St.z)(Oe)}(Oe,Ke):(0,g.Xf)(Oe)}},4829:(on,et,V)=>{V.d(et,{Xf:()=>lt});var g=V(7582),z=V(4266),ie=V(4026),b=V(5592),ye=V(8382),Se=V(5726),Le=V(9853),Ae=V(3664),Fe=V(541),ce=V(4674),Ce=V(3894),$e=V(4850);function lt(xe){if(xe instanceof b.y)return xe;if(null!=xe){if((0,ye.c)(xe))return function ht(xe){return new b.y(Ge=>{const Oe=xe[$e.L]();if((0,ce.m)(Oe.subscribe))return Oe.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,z.z)(xe))return function jt(xe){return new b.y(Ge=>{for(let Oe=0;Oe<xe.length&&!Ge.closed;Oe++)Ge.next(xe[Oe]);Ge.complete()})}(xe);if((0,ie.t)(xe))return function At(xe){return new b.y(Ge=>{xe.then(Oe=>{Ge.closed||(Ge.next(Oe),Ge.complete())},Oe=>Ge.error(Oe)).then(null,Ce.h)})}(xe);if((0,Se.D)(xe))return St(xe);if((0,Ae.T)(xe))return function Rt(xe){return new b.y(Ge=>{for(const Oe of xe)if(Ge.next(Oe),Ge.closed)return;Ge.complete()})}(xe);if((0,Fe.L)(xe))return function Kt(xe){return St((0,Fe.Q)(xe))}(xe)}throw(0,Le.z)(xe)}function St(xe){return new b.y(Ge=>{(function xt(xe,Ge){var Oe,Ke,Dt,Qe;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,g.KL)(xe);!(Ke=yield Oe.next()).done;)if(Ge.next(Ke.value),Ge.closed)return}catch(kt){Dt={error:kt}}finally{try{Ke&&!Ke.done&&(Qe=Oe.return)&&(yield Qe.call(Oe))}finally{if(Dt)throw Dt.error}}Ge.complete()})})(xe,Ge).catch(Oe=>Ge.error(Oe))})}},3019:(on,et,V)=>{V.d(et,{T:()=>Se});var g=V(7537),z=V(4829),ie=V(6232),b=V(9940),ye=V(2459);function Se(...Le){const Ae=(0,b.yG)(Le),Fe=(0,b._6)(Le,1/0),ce=Le;return ce.length?1===ce.length?(0,z.Xf)(ce[0]):(0,g.J)(Fe)((0,ye.D)(ce,Ae)):ie.E}},2096:(on,et,V)=>{V.d(et,{of:()=>ie});var g=V(9940),z=V(2459);function ie(...b){const ye=(0,g.yG)(b);return(0,z.D)(b,ye)}},8504:(on,et,V)=>{V.d(et,{_:()=>ie});var g=V(5592),z=V(4674);function ie(b,ye){const Se=(0,z.m)(b)?b:()=>b,Le=Ae=>Ae.error(Se());return new g.y(ye?Ae=>ye.schedule(Le,0,Ae):Le)}},8251:(on,et,V)=>{V.d(et,{x:()=>z});var g=V(305);function z(b,ye,Se,Le,Ae){return new ie(b,ye,Se,Le,Ae)}class ie extends g.Lv{constructor(ye,Se,Le,Ae,Fe,ce){super(ye),this.onFinalize=Fe,this.shouldUnsubscribe=ce,this._next=Se?function(Ce){try{Se(Ce)}catch($e){ye.error($e)}}:super._next,this._error=Ae?function(Ce){try{Ae(Ce)}catch($e){ye.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(Ce){ye.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},6306:(on,et,V)=>{V.d(et,{K:()=>b});var g=V(4829),z=V(8251),ie=V(9360);function b(ye){return(0,ie.e)((Se,Le)=>{let ce,Ae=null,Fe=!1;Ae=Se.subscribe((0,z.x)(Le,void 0,void 0,Ce=>{ce=(0,g.Xf)(ye(Ce,b(ye)(Se))),Ae?(Ae.unsubscribe(),Ae=null,ce.subscribe(Le)):Fe=!0})),Fe&&(Ae.unsubscribe(),Ae=null,ce.subscribe(Le))})}},6328:(on,et,V)=>{V.d(et,{b:()=>ie});var g=V(1631),z=V(4674);function ie(b,ye){return(0,z.m)(ye)?(0,g.z)(b,ye,1):(0,g.z)(b,1)}},3572:(on,et,V)=>{V.d(et,{d:()=>ie});var g=V(9360),z=V(8251);function ie(b){return(0,g.e)((ye,Se)=>{let Le=!1;ye.subscribe((0,z.x)(Se,Ae=>{Le=!0,Se.next(Ae)},()=>{Le||Se.next(b),Se.complete()}))})}},3997:(on,et,V)=>{V.d(et,{x:()=>b});var g=V(2737),z=V(9360),ie=V(8251);function b(Se,Le=g.y){return Se=Se??ye,(0,z.e)((Ae,Fe)=>{let ce,Ce=!0;Ae.subscribe((0,ie.x)(Fe,$e=>{const lt=Le($e);(Ce||!Se(ce,lt))&&(Ce=!1,ce=lt,Fe.next($e))}))})}function ye(Se,Le){return Se===Le}},2181:(on,et,V)=>{V.d(et,{h:()=>ie});var g=V(9360),z=V(8251);function ie(b,ye){return(0,g.e)((Se,Le)=>{let Ae=0;Se.subscribe((0,z.x)(Le,Fe=>b.call(ye,Fe,Ae++)&&Le.next(Fe)))})}},4716:(on,et,V)=>{V.d(et,{x:()=>z});var g=V(9360);function z(ie){return(0,g.e)((b,ye)=>{try{b.subscribe(ye)}finally{ye.add(ie)}})}},1374:(on,et,V)=>{V.d(et,{P:()=>Le});var g=V(6973),z=V(2181),ie=V(8180),b=V(3572),ye=V(3026),Se=V(2737);function Le(Ae,Fe){const ce=arguments.length>=2;return Ce=>Ce.pipe(Ae?(0,z.h)(($e,lt)=>Ae($e,lt,Ce)):Se.y,(0,ie.q)(1),ce?(0,b.d)(Fe):(0,ye.T)(()=>new g.K))}},7398:(on,et,V)=>{V.d(et,{U:()=>ie});var g=V(9360),z=V(8251);function ie(b,ye){return(0,g.e)((Se,Le)=>{let Ae=0;Se.subscribe((0,z.x)(Le,Fe=>{Le.next(b.call(ye,Fe,Ae++))}))})}},7537:(on,et,V)=>{V.d(et,{J:()=>ie});var g=V(1631),z=V(2737);function ie(b=1/0){return(0,g.z)(z.y,b)}},1631:(on,et,V)=>{V.d(et,{z:()=>Ae});var g=V(7398),z=V(4829),ie=V(9360),b=V(7103),ye=V(8251),Le=V(4674);function Ae(Fe,ce,Ce=1/0){return(0,Le.m)(ce)?Ae(($e,lt)=>(0,g.U)((ht,jt)=>ce($e,ht,lt,jt))((0,z.Xf)(Fe($e,lt))),Ce):("number"==typeof ce&&(Ce=ce),(0,ie.e)(($e,lt)=>function Se(Fe,ce,Ce,$e,lt,ht,jt,At){const Rt=[];let St=0,Kt=0,xt=!1;const xe=()=>{xt&&!Rt.length&&!St&&ce.complete()},Ge=Ke=>St<$e?Oe(Ke):Rt.push(Ke),Oe=Ke=>{ht&&ce.next(Ke),St++;let Dt=!1;(0,z.Xf)(Ce(Ke,Kt++)).subscribe((0,ye.x)(ce,Qe=>{lt?.(Qe),ht?Ge(Qe):ce.next(Qe)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(St--;Rt.length&&St<$e;){const Qe=Rt.shift();jt?(0,b.f)(ce,jt,()=>Oe(Qe)):Oe(Qe)}xe()}catch(Qe){ce.error(Qe)}}))};return Fe.subscribe((0,ye.x)(ce,Ge,()=>{xt=!0,xe()})),()=>{At?.()}}($e,lt,Fe,Ce)))}},3093:(on,et,V)=>{V.d(et,{Q:()=>b});var g=V(7103),z=V(9360),ie=V(8251);function b(ye,Se=0){return(0,z.e)((Le,Ae)=>{Le.subscribe((0,ie.x)(Ae,Fe=>(0,g.f)(Ae,ye,()=>Ae.next(Fe),Se),()=>(0,g.f)(Ae,ye,()=>Ae.complete(),Se),Fe=>(0,g.f)(Ae,ye,()=>Ae.error(Fe),Se)))})}},6699:(on,et,V)=>{V.d(et,{R:()=>b});var g=V(9360),z=V(8251);function b(ye,Se){return(0,g.e)(function ie(ye,Se,Le,Ae,Fe){return(ce,Ce)=>{let $e=Le,lt=Se,ht=0;ce.subscribe((0,z.x)(Ce,jt=>{const At=ht++;lt=$e?ye(lt,jt,At):($e=!0,jt),Ae&&Ce.next(lt)},Fe&&(()=>{$e&&Ce.next(lt),Ce.complete()})))}}(ye,Se,arguments.length>=2,!0))}},3020:(on,et,V)=>{V.d(et,{B:()=>ye});var g=V(4829),z=V(8645),ie=V(305),b=V(9360);function ye(Le={}){const{connector:Ae=(()=>new z.x),resetOnError:Fe=!0,resetOnComplete:ce=!0,resetOnRefCountZero:Ce=!0}=Le;return $e=>{let lt,ht,jt,At=0,Rt=!1,St=!1;const Kt=()=>{ht?.unsubscribe(),ht=void 0},xt=()=>{Kt(),lt=jt=void 0,Rt=St=!1},xe=()=>{const Ge=lt;xt(),Ge?.unsubscribe()};return(0,b.e)((Ge,Oe)=>{At++,!St&&!Rt&&Kt();const Ke=jt=jt??Ae();Oe.add(()=>{At--,0===At&&!St&&!Rt&&(ht=Se(xe,Ce))}),Ke.subscribe(Oe),!lt&&At>0&&(lt=new ie.Hp({next:Dt=>Ke.next(Dt),error:Dt=>{St=!0,Kt(),ht=Se(xt,Fe,Dt),Ke.error(Dt)},complete:()=>{Rt=!0,Kt(),ht=Se(xt,ce),Ke.complete()}}),(0,g.Xf)(Ge).subscribe(lt))})($e)}}function Se(Le,Ae,...Fe){if(!0===Ae)return void Le();if(!1===Ae)return;const ce=new ie.Hp({next:()=>{ce.unsubscribe(),Le()}});return(0,g.Xf)(Ae(...Fe)).subscribe(ce)}},940:(on,et,V)=>{V.d(et,{d:()=>ye});var g=V(8645),z=V(4552);class ie extends g.x{constructor(Le=1/0,Ae=1/0,Fe=z.l){super(),this._bufferSize=Le,this._windowTime=Ae,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,Le),this._windowTime=Math.max(1,Ae)}next(Le){const{isStopped:Ae,_buffer:Fe,_infiniteTimeWindow:ce,_timestampProvider:Ce,_windowTime:$e}=this;Ae||(Fe.push(Le),!ce&&Fe.push(Ce.now()+$e)),this._trimBuffer(),super.next(Le)}_subscribe(Le){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(Le),{_infiniteTimeWindow:Fe,_buffer:ce}=this,Ce=ce.slice();for(let $e=0;$e<Ce.length&&!Le.closed;$e+=Fe?1:2)Le.next(Ce[$e]);return this._checkFinalizedStatuses(Le),Ae}_trimBuffer(){const{_bufferSize:Le,_timestampProvider:Ae,_buffer:Fe,_infiniteTimeWindow:ce}=this,Ce=(ce?1:2)*Le;if(Le<1/0&&Ce<Fe.length&&Fe.splice(0,Fe.length-Ce),!ce){const $e=Ae.now();let lt=0;for(let ht=1;ht<Fe.length&&Fe[ht]<=$e;ht+=2)lt=ht;lt&&Fe.splice(0,lt+1)}}}var b=V(3020);function ye(Se,Le,Ae){let Fe,ce=!1;return Se&&"object"==typeof Se?({bufferSize:Fe=1/0,windowTime:Le=1/0,refCount:ce=!1,scheduler:Ae}=Se):Fe=Se??1/0,(0,b.B)({connector:()=>new ie(Fe,Le,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ce})}},836:(on,et,V)=>{V.d(et,{T:()=>z});var g=V(2181);function z(ie){return(0,g.h)((b,ye)=>ie<=ye)}},7921:(on,et,V)=>{V.d(et,{O:()=>b});var g=V(5211),z=V(9940),ie=V(9360);function b(...ye){const Se=(0,z.yG)(ye);return(0,ie.e)((Le,Ae)=>{(Se?(0,g.z)(ye,Le,Se):(0,g.z)(ye,Le)).subscribe(Ae)})}},5137:(on,et,V)=>{V.d(et,{R:()=>z});var g=V(9360);function z(ie,b=0){return(0,g.e)((ye,Se)=>{Se.add(ie.schedule(()=>ye.subscribe(Se),b))})}},4664:(on,et,V)=>{V.d(et,{w:()=>b});var g=V(4829),z=V(9360),ie=V(8251);function b(ye,Se){return(0,z.e)((Le,Ae)=>{let Fe=null,ce=0,Ce=!1;const $e=()=>Ce&&!Fe&&Ae.complete();Le.subscribe((0,ie.x)(Ae,lt=>{Fe?.unsubscribe();let ht=0;const jt=ce++;(0,g.Xf)(ye(lt,jt)).subscribe(Fe=(0,ie.x)(Ae,At=>Ae.next(Se?Se(lt,At,jt,ht++):At),()=>{Fe=null,$e()}))},()=>{Ce=!0,$e()}))})}},8180:(on,et,V)=>{V.d(et,{q:()=>b});var g=V(6232),z=V(9360),ie=V(8251);function b(ye){return ye<=0?()=>g.E:(0,z.e)((Se,Le)=>{let Ae=0;Se.subscribe((0,ie.x)(Le,Fe=>{++Ae<=ye&&(Le.next(Fe),ye<=Ae&&Le.complete())}))})}},9773:(on,et,V)=>{V.d(et,{R:()=>ye});var g=V(9360),z=V(8251),ie=V(4829),b=V(2420);function ye(Se){return(0,g.e)((Le,Ae)=>{(0,ie.Xf)(Se).subscribe((0,z.x)(Ae,()=>Ae.complete(),b.Z)),!Ae.closed&&Le.subscribe(Ae)})}},9397:(on,et,V)=>{V.d(et,{b:()=>ye});var g=V(4674),z=V(9360),ie=V(8251),b=V(2737);function ye(Se,Le,Ae){const Fe=(0,g.m)(Se)||Le||Ae?{next:Se,error:Le,complete:Ae}:Se;return Fe?(0,z.e)((ce,Ce)=>{var $e;null===($e=Fe.subscribe)||void 0===$e||$e.call(Fe);let lt=!0;ce.subscribe((0,ie.x)(Ce,ht=>{var jt;null===(jt=Fe.next)||void 0===jt||jt.call(Fe,ht),Ce.next(ht)},()=>{var ht;lt=!1,null===(ht=Fe.complete)||void 0===ht||ht.call(Fe),Ce.complete()},ht=>{var jt;lt=!1,null===(jt=Fe.error)||void 0===jt||jt.call(Fe,ht),Ce.error(ht)},()=>{var ht,jt;lt&&(null===(ht=Fe.unsubscribe)||void 0===ht||ht.call(Fe)),null===(jt=Fe.finalize)||void 0===jt||jt.call(Fe)}))}):b.y}},3026:(on,et,V)=>{V.d(et,{T:()=>b});var g=V(6973),z=V(9360),ie=V(8251);function b(Se=ye){return(0,z.e)((Le,Ae)=>{let Fe=!1;Le.subscribe((0,ie.x)(Ae,ce=>{Fe=!0,Ae.next(ce)},()=>Fe?Ae.complete():Ae.error(Se())))})}function ye(){return new g.K}},1954:(on,et,V)=>{V.d(et,{o:()=>ye});var g=V(7394);class z extends g.w0{constructor(Le,Ae){super()}schedule(Le,Ae=0){return this}}const ie={setInterval(Se,Le,...Ae){const{delegate:Fe}=ie;return Fe?.setInterval?Fe.setInterval(Se,Le,...Ae):setInterval(Se,Le,...Ae)},clearInterval(Se){const{delegate:Le}=ie;return(Le?.clearInterval||clearInterval)(Se)},delegate:void 0};var b=V(9039);class ye extends z{constructor(Le,Ae){super(Le,Ae),this.scheduler=Le,this.work=Ae,this.pending=!1}schedule(Le,Ae=0){var Fe;if(this.closed)return this;this.state=Le;const ce=this.id,Ce=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Ce,ce,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(Ce,this.id,Ae),this}requestAsyncId(Le,Ae,Fe=0){return ie.setInterval(Le.flush.bind(Le,this),Fe)}recycleAsyncId(Le,Ae,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Ae;null!=Ae&&ie.clearInterval(Ae)}execute(Le,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Le,Ae);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Le,Ae){let ce,Fe=!1;try{this.work(Le)}catch(Ce){Fe=!0,ce=Ce||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Le,scheduler:Ae}=this,{actions:Fe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(Fe,this),null!=Le&&(this.id=this.recycleAsyncId(Ae,Le,null)),this.delay=null,super.unsubscribe()}}}},2631:(on,et,V)=>{V.d(et,{v:()=>ie});var g=V(4552);class z{constructor(ye,Se=z.now){this.schedulerActionCtor=ye,this.now=Se}schedule(ye,Se=0,Le){return new this.schedulerActionCtor(this,ye).schedule(Le,Se)}}z.now=g.l.now;class ie extends z{constructor(ye,Se=z.now){super(ye,Se),this.actions=[],this._active=!1}flush(ye){const{actions:Se}=this;if(this._active)return void Se.push(ye);let Le;this._active=!0;do{if(Le=ye.execute(ye.state,ye.delay))break}while(ye=Se.shift());if(this._active=!1,Le){for(;ye=Se.shift();)ye.unsubscribe();throw Le}}}},6321:(on,et,V)=>{V.d(et,{P:()=>b,z:()=>ie});var g=V(1954);const ie=new(V(2631).v)(g.o),b=ie},4552:(on,et,V)=>{V.d(et,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(on,et,V)=>{V.d(et,{z:()=>g});const g={setTimeout(z,ie,...b){const{delegate:ye}=g;return ye?.setTimeout?ye.setTimeout(z,ie,...b):setTimeout(z,ie,...b)},clearTimeout(z){const{delegate:ie}=g;return(ie?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4971:(on,et,V)=>{V.d(et,{h:()=>z});const z=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(on,et,V)=>{V.d(et,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(on,et,V)=>{V.d(et,{K:()=>z});const z=(0,V(2306).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(on,et,V)=>{V.d(et,{_6:()=>Se,jO:()=>b,yG:()=>ye});var g=V(4674),z=V(671);function ie(Le){return Le[Le.length-1]}function b(Le){return(0,g.m)(ie(Le))?Le.pop():void 0}function ye(Le){return(0,z.K)(ie(Le))?Le.pop():void 0}function Se(Le,Ae){return"number"==typeof ie(Le)?Le.pop():Ae}},7453:(on,et,V)=>{V.d(et,{D:()=>ye});const{isArray:g}=Array,{getPrototypeOf:z,prototype:ie,keys:b}=Object;function ye(Le){if(1===Le.length){const Ae=Le[0];if(g(Ae))return{args:Ae,keys:null};if(function Se(Le){return Le&&"object"==typeof Le&&z(Le)===ie}(Ae)){const Fe=b(Ae);return{args:Fe.map(ce=>Ae[ce]),keys:Fe}}}return{args:Le,keys:null}}},9039:(on,et,V)=>{function g(z,ie){if(z){const b=z.indexOf(ie);0<=b&&z.splice(b,1)}}V.d(et,{P:()=>g})},2306:(on,et,V)=>{function g(z){const b=z(ye=>{Error.call(ye),ye.stack=(new Error).stack});return b.prototype=Object.create(Error.prototype),b.prototype.constructor=b,b}V.d(et,{d:()=>g})},2714:(on,et,V)=>{function g(z,ie){return z.reduce((b,ye,Se)=>(b[ye]=ie[Se],b),{})}V.d(et,{n:()=>g})},1441:(on,et,V)=>{V.d(et,{O:()=>b,x:()=>ie});var g=V(2653);let z=null;function ie(ye){if(g.config.useDeprecatedSynchronousErrorHandling){const Se=!z;if(Se&&(z={errorThrown:!1,error:null}),ye(),Se){const{errorThrown:Le,error:Ae}=z;if(z=null,Le)throw Ae}}else ye()}function b(ye){g.config.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ye)}},7103:(on,et,V)=>{function g(z,ie,b,ye=0,Se=!1){const Le=ie.schedule(function(){b(),Se?z.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(z.add(Le),!Se)return Le}V.d(et,{f:()=>g})},2737:(on,et,V)=>{function g(z){return z}V.d(et,{y:()=>g})},4266:(on,et,V)=>{V.d(et,{z:()=>g});const g=z=>z&&"number"==typeof z.length&&"function"!=typeof z},5726:(on,et,V)=>{V.d(et,{D:()=>z});var g=V(4674);function z(ie){return Symbol.asyncIterator&&(0,g.m)(ie?.[Symbol.asyncIterator])}},4674:(on,et,V)=>{function g(z){return"function"==typeof z}V.d(et,{m:()=>g})},8382:(on,et,V)=>{V.d(et,{c:()=>ie});var g=V(4850),z=V(4674);function ie(b){return(0,z.m)(b[g.L])}},3664:(on,et,V)=>{V.d(et,{T:()=>ie});var g=V(4971),z=V(4674);function ie(b){return(0,z.m)(b?.[g.h])}},4026:(on,et,V)=>{V.d(et,{t:()=>z});var g=V(4674);function z(ie){return(0,g.m)(ie?.then)}},541:(on,et,V)=>{V.d(et,{L:()=>b,Q:()=>ie});var g=V(7582),z=V(4674);function ie(ye){return(0,g.FC)(this,arguments,function*(){const Le=ye.getReader();try{for(;;){const{value:Ae,done:Fe}=yield(0,g.qq)(Le.read());if(Fe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ae)}}finally{Le.releaseLock()}})}function b(ye){return(0,z.m)(ye?.getReader)}},671:(on,et,V)=>{V.d(et,{K:()=>z});var g=V(4674);function z(ie){return ie&&(0,g.m)(ie.schedule)}},9360:(on,et,V)=>{V.d(et,{A:()=>z,e:()=>ie});var g=V(4674);function z(b){return(0,g.m)(b?.lift)}function ie(b){return ye=>{if(z(ye))return ye.lift(function(Se){try{return b(Se,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(on,et,V)=>{V.d(et,{Z:()=>b});var g=V(7398);const{isArray:z}=Array;function b(ye){return(0,g.U)(Se=>function ie(ye,Se){return z(Se)?ye(...Se):ye(Se)}(ye,Se))}},2420:(on,et,V)=>{function g(){}V.d(et,{Z:()=>g})},8407:(on,et,V)=>{V.d(et,{U:()=>ie,z:()=>z});var g=V(2737);function z(...b){return ie(b)}function ie(b){return 0===b.length?g.y:1===b.length?b[0]:function(Se){return b.reduce((Le,Ae)=>Ae(Le),Se)}}},3894:(on,et,V)=>{V.d(et,{h:()=>ie});var g=V(2653),z=V(7599);function ie(b){z.z.setTimeout(()=>{const{onUnhandledError:ye}=g.config;if(!ye)throw b;ye(b)})}},9853:(on,et,V)=>{function g(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(et,{z:()=>g})},6825:(on,et,V)=>{V.d(et,{IO:()=>jt,LC:()=>z,SB:()=>Fe,X$:()=>b,ZE:()=>St,ZN:()=>Rt,_j:()=>g,eR:()=>Ce,jt:()=>ye,k1:()=>Kt,l3:()=>ie,oB:()=>Ae,pV:()=>lt,ru:()=>Se,vP:()=>Le});class g{}class z{}const ie="*";function b(xt,xe){return{type:7,name:xt,definitions:xe,options:{}}}function ye(xt,xe=null){return{type:4,styles:xe,timings:xt}}function Se(xt,xe=null){return{type:3,steps:xt,options:xe}}function Le(xt,xe=null){return{type:2,steps:xt,options:xe}}function Ae(xt){return{type:6,styles:xt,offset:null}}function Fe(xt,xe,Ge){return{type:0,name:xt,styles:xe,options:Ge}}function Ce(xt,xe,Ge=null){return{type:1,expr:xt,animation:xe,options:Ge}}function lt(xt=null){return{type:9,options:xt}}function jt(xt,xe,Ge=null){return{type:11,selector:xt,animation:xe,options:Ge}}class Rt{constructor(xe=0,Ge=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=xe+Ge}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}onStart(xe){this._originalOnStartFns.push(xe),this._onStartFns.push(xe)}onDone(xe){this._originalOnDoneFns.push(xe),this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(xe=>xe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(xe){this._position=this.totalTime?xe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(xe){const Ge="start"==xe?this._onStartFns:this._onDoneFns;Ge.forEach(Oe=>Oe()),Ge.length=0}}class St{constructor(xe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=xe;let Ge=0,Oe=0,Ke=0;const Dt=this.players.length;0==Dt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++Ge==Dt&&this._onFinish()}),Qe.onDestroy(()=>{++Oe==Dt&&this._onDestroy()}),Qe.onStart(()=>{++Ke==Dt&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,kt)=>Math.max(Qe,kt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}init(){this.players.forEach(xe=>xe.init())}onStart(xe){this._onStartFns.push(xe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(xe=>xe()),this._onStartFns=[])}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(xe=>xe.play())}pause(){this.players.forEach(xe=>xe.pause())}restart(){this.players.forEach(xe=>xe.restart())}finish(){this._onFinish(),this.players.forEach(xe=>xe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(xe=>xe.destroy()),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this.players.forEach(xe=>xe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(xe){const Ge=xe*this.totalTime;this.players.forEach(Oe=>{const Ke=Oe.totalTime?Math.min(1,Ge/Oe.totalTime):1;Oe.setPosition(Ke)})}getPosition(){const xe=this.players.reduce((Ge,Oe)=>null===Ge||Oe.totalTime>Ge.totalTime?Oe:Ge,null);return null!=xe?xe.getPosition():0}beforeDestroy(){this.players.forEach(xe=>{xe.beforeDestroy&&xe.beforeDestroy()})}triggerCallback(xe){const Ge="start"==xe?this._onStartFns:this._onDoneFns;Ge.forEach(Oe=>Oe()),Ge.length=0}}const Kt="!"},4300:(on,et,V)=>{V.d(et,{Kd:()=>or,X6:()=>Ln,ic:()=>tn,qV:()=>Xn,qm:()=>Ii,rt:()=>Ar,tE:()=>mr,yG:()=>fr});var g=V(6814),z=V(5879),ie=V(2831),b=V(5619),ye=V(8645),Se=V(2096),Le=V(6028),Ae=V(8180),Fe=V(836),ce=V(3997),Ce=V(9773),$e=V(2495),lt=V(7131),ht=V(719);let tn=(()=>{var vt;class We{constructor(qe){this._platform=qe}isDisabled(qe){return qe.hasAttribute("disabled")}isVisible(qe){return function Br(vt){return!!(vt.offsetWidth||vt.offsetHeight||"function"==typeof vt.getClientRects&&vt.getClientRects().length)}(qe)&&"visible"===getComputedStyle(qe).visibility}isTabbable(qe){if(!this._platform.isBrowser)return!1;const rt=function rr(vt){try{return vt.frameElement}catch{return null}}(function Ft(vt){return vt.ownerDocument&&vt.ownerDocument.defaultView||window}(qe));if(rt&&(-1===pt(rt)||!this.isVisible(rt)))return!1;let Nt=qe.nodeName.toLowerCase(),un=pt(qe);return qe.hasAttribute("contenteditable")?-1!==un:!("iframe"===Nt||"object"===Nt||this._platform.WEBKIT&&this._platform.IOS&&!function It(vt){let We=vt.nodeName.toLowerCase(),wt="input"===We&&vt.type;return"text"===wt||"password"===wt||"select"===We||"textarea"===We}(qe))&&("audio"===Nt?!!qe.hasAttribute("controls")&&-1!==un:"video"===Nt?-1!==un&&(null!==un||this._platform.FIREFOX||qe.hasAttribute("controls")):qe.tabIndex>=0)}isFocusable(qe,rt){return function at(vt){return!function Rr(vt){return function dt(vt){return"input"==vt.nodeName.toLowerCase()}(vt)&&"hidden"==vt.type}(vt)&&(function hr(vt){let We=vt.nodeName.toLowerCase();return"input"===We||"select"===We||"button"===We||"textarea"===We}(vt)||function Hn(vt){return function Et(vt){return"a"==vt.nodeName.toLowerCase()}(vt)&&vt.hasAttribute("href")}(vt)||vt.hasAttribute("contenteditable")||ot(vt))}(qe)&&!this.isDisabled(qe)&&(rt?.ignoreVisibility||this.isVisible(qe))}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(ie.t4))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})();function ot(vt){if(!vt.hasAttribute("tabindex")||void 0===vt.tabIndex)return!1;let We=vt.getAttribute("tabindex");return!(!We||isNaN(parseInt(We,10)))}function pt(vt){if(!ot(vt))return null;const We=parseInt(vt.getAttribute("tabindex")||"",10);return isNaN(We)?-1:We}class Ct{get enabled(){return this._enabled}set enabled(We){this._enabled=We,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(We,this._startAnchor),this._toggleAnchorTabIndex(We,this._endAnchor))}constructor(We,wt,qe,rt,Nt=!1){this._element=We,this._checker=wt,this._ngZone=qe,this._document=rt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Nt||this.attachAnchors()}destroy(){const We=this._startAnchor,wt=this._endAnchor;We&&(We.removeEventListener("focus",this.startAnchorListener),We.remove()),wt&&(wt.removeEventListener("focus",this.endAnchorListener),wt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(We){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusInitialElement(We)))})}focusFirstTabbableElementWhenReady(We){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusFirstTabbableElement(We)))})}focusLastTabbableElementWhenReady(We){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusLastTabbableElement(We)))})}_getRegionBoundary(We){const wt=this._element.querySelectorAll(`[cdk-focus-region-${We}], [cdkFocusRegion${We}], [cdk-focus-${We}]`);return"start"==We?wt.length?wt[0]:this._getFirstTabbableElement(this._element):wt.length?wt[wt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(We){const wt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(wt){if(!this._checker.isFocusable(wt)){const qe=this._getFirstTabbableElement(wt);return qe?.focus(We),!!qe}return wt.focus(We),!0}return this.focusFirstTabbableElement(We)}focusFirstTabbableElement(We){const wt=this._getRegionBoundary("start");return wt&&wt.focus(We),!!wt}focusLastTabbableElement(We){const wt=this._getRegionBoundary("end");return wt&&wt.focus(We),!!wt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(We){if(this._checker.isFocusable(We)&&this._checker.isTabbable(We))return We;const wt=We.children;for(let qe=0;qe<wt.length;qe++){const rt=wt[qe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(wt[qe]):null;if(rt)return rt}return null}_getLastTabbableElement(We){if(this._checker.isFocusable(We)&&this._checker.isTabbable(We))return We;const wt=We.children;for(let qe=wt.length-1;qe>=0;qe--){const rt=wt[qe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(wt[qe]):null;if(rt)return rt}return null}_createAnchor(){const We=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,We),We.classList.add("cdk-visually-hidden"),We.classList.add("cdk-focus-trap-anchor"),We.setAttribute("aria-hidden","true"),We}_toggleAnchorTabIndex(We,wt){We?wt.setAttribute("tabindex","0"):wt.removeAttribute("tabindex")}toggleAnchors(We){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(We,this._startAnchor),this._toggleAnchorTabIndex(We,this._endAnchor))}_executeOnStable(We){this._ngZone.isStable?We():this._ngZone.onStable.pipe((0,Ae.q)(1)).subscribe(We)}}let Xn=(()=>{var vt;class We{constructor(qe,rt,Nt){this._checker=qe,this._ngZone=rt,this._document=Nt}create(qe,rt=!1){return new Ct(qe,this._checker,this._ngZone,this._document,rt)}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(tn),z.LFG(z.R0b),z.LFG(g.K0))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})();function Ln(vt){return 0===vt.buttons||0===vt.offsetX&&0===vt.offsetY}function fr(vt){const We=vt.touches&&vt.touches[0]||vt.changedTouches&&vt.changedTouches[0];return!(!We||-1!==We.identifier||null!=We.radiusX&&1!==We.radiusX||null!=We.radiusY&&1!==We.radiusY)}const ii=new z.OlP("cdk-input-modality-detector-options"),Ei={ignoreKeys:[Le.zL,Le.jx,Le.b2,Le.MW,Le.JU]},zr=(0,ie.i$)({passive:!0,capture:!0});let si=(()=>{var vt;class We{get mostRecentModality(){return this._modality.value}constructor(qe,rt,Nt,un){this._platform=qe,this._mostRecentTarget=null,this._modality=new b.X(null),this._lastTouchMs=0,this._onKeydown=Gn=>{this._options?.ignoreKeys?.some(cr=>cr===Gn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ie.sA)(Gn))},this._onMousedown=Gn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ln(Gn)?"keyboard":"mouse"),this._mostRecentTarget=(0,ie.sA)(Gn))},this._onTouchstart=Gn=>{fr(Gn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ie.sA)(Gn))},this._options={...Ei,...un},this.modalityDetected=this._modality.pipe((0,Fe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ce.x)()),qe.isBrowser&&rt.runOutsideAngular(()=>{Nt.addEventListener("keydown",this._onKeydown,zr),Nt.addEventListener("mousedown",this._onMousedown,zr),Nt.addEventListener("touchstart",this._onTouchstart,zr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zr),document.removeEventListener("mousedown",this._onMousedown,zr),document.removeEventListener("touchstart",this._onTouchstart,zr))}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(ie.t4),z.LFG(z.R0b),z.LFG(g.K0),z.LFG(ii,8))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})();const Cr=new z.OlP("liveAnnouncerElement",{providedIn:"root",factory:function An(){return null}}),Vn=new z.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zn=0,or=(()=>{var vt;class We{constructor(qe,rt,Nt,un){this._ngZone=rt,this._defaultOptions=un,this._document=Nt,this._liveElement=qe||this._createLiveElement()}announce(qe,...rt){const Nt=this._defaultOptions;let un,Gn;return 1===rt.length&&"number"==typeof rt[0]?Gn=rt[0]:[un,Gn]=rt,this.clear(),clearTimeout(this._previousTimeout),un||(un=Nt&&Nt.politeness?Nt.politeness:"polite"),null==Gn&&Nt&&(Gn=Nt.duration),this._liveElement.setAttribute("aria-live",un),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(cr=>this._currentResolve=cr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=qe,"number"==typeof Gn&&(this._previousTimeout=setTimeout(()=>this.clear(),Gn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const qe="cdk-live-announcer-element",rt=this._document.getElementsByClassName(qe),Nt=this._document.createElement("div");for(let un=0;un<rt.length;un++)rt[un].remove();return Nt.classList.add(qe),Nt.classList.add("cdk-visually-hidden"),Nt.setAttribute("aria-atomic","true"),Nt.setAttribute("aria-live","polite"),Nt.id="cdk-live-announcer-"+zn++,this._document.body.appendChild(Nt),Nt}_exposeAnnouncerToModals(qe){const rt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Nt=0;Nt<rt.length;Nt++){const un=rt[Nt],Gn=un.getAttribute("aria-owns");Gn?-1===Gn.indexOf(qe)&&un.setAttribute("aria-owns",Gn+" "+qe):un.setAttribute("aria-owns",qe)}}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(Cr,8),z.LFG(z.R0b),z.LFG(g.K0),z.LFG(Vn,8))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})();const jr=new z.OlP("cdk-focus-monitor-default-options"),_r=(0,ie.i$)({passive:!0,capture:!0});let mr=(()=>{var vt;class We{constructor(qe,rt,Nt,un,Gn){this._ngZone=qe,this._platform=rt,this._inputModalityDetector=Nt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ye.x,this._rootNodeFocusAndBlurListener=cr=>{for(let ge=(0,ie.sA)(cr);ge;ge=ge.parentElement)"focus"===cr.type?this._onFocus(cr,ge):this._onBlur(cr,ge)},this._document=un,this._detectionMode=Gn?.detectionMode||0}monitor(qe,rt=!1){const Nt=(0,$e.fI)(qe);if(!this._platform.isBrowser||1!==Nt.nodeType)return(0,Se.of)();const un=(0,ie.kV)(Nt)||this._getDocument(),Gn=this._elementInfo.get(Nt);if(Gn)return rt&&(Gn.checkChildren=!0),Gn.subject;const cr={checkChildren:rt,subject:new ye.x,rootNode:un};return this._elementInfo.set(Nt,cr),this._registerGlobalListeners(cr),cr.subject}stopMonitoring(qe){const rt=(0,$e.fI)(qe),Nt=this._elementInfo.get(rt);Nt&&(Nt.subject.complete(),this._setClasses(rt),this._elementInfo.delete(rt),this._removeGlobalListeners(Nt))}focusVia(qe,rt,Nt){const un=(0,$e.fI)(qe);un===this._getDocument().activeElement?this._getClosestElementsInfo(un).forEach(([cr,_i])=>this._originChanged(cr,rt,_i)):(this._setOrigin(rt),"function"==typeof un.focus&&un.focus(Nt))}ngOnDestroy(){this._elementInfo.forEach((qe,rt)=>this.stopMonitoring(rt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(qe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(qe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:qe&&this._isLastInteractionFromInputLabel(qe)?"mouse":"program"}_shouldBeAttributedToTouch(qe){return 1===this._detectionMode||!!qe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(qe,rt){qe.classList.toggle("cdk-focused",!!rt),qe.classList.toggle("cdk-touch-focused","touch"===rt),qe.classList.toggle("cdk-keyboard-focused","keyboard"===rt),qe.classList.toggle("cdk-mouse-focused","mouse"===rt),qe.classList.toggle("cdk-program-focused","program"===rt)}_setOrigin(qe,rt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=qe,this._originFromTouchInteraction="touch"===qe&&rt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(qe,rt){const Nt=this._elementInfo.get(rt),un=(0,ie.sA)(qe);!Nt||!Nt.checkChildren&&rt!==un||this._originChanged(rt,this._getFocusOrigin(un),Nt)}_onBlur(qe,rt){const Nt=this._elementInfo.get(rt);!Nt||Nt.checkChildren&&qe.relatedTarget instanceof Node&&rt.contains(qe.relatedTarget)||(this._setClasses(rt),this._emitOrigin(Nt,null))}_emitOrigin(qe,rt){qe.subject.observers.length&&this._ngZone.run(()=>qe.subject.next(rt))}_registerGlobalListeners(qe){if(!this._platform.isBrowser)return;const rt=qe.rootNode,Nt=this._rootNodeFocusListenerCount.get(rt)||0;Nt||this._ngZone.runOutsideAngular(()=>{rt.addEventListener("focus",this._rootNodeFocusAndBlurListener,_r),rt.addEventListener("blur",this._rootNodeFocusAndBlurListener,_r)}),this._rootNodeFocusListenerCount.set(rt,Nt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ce.R)(this._stopInputModalityDetector)).subscribe(un=>{this._setOrigin(un,!0)}))}_removeGlobalListeners(qe){const rt=qe.rootNode;if(this._rootNodeFocusListenerCount.has(rt)){const Nt=this._rootNodeFocusListenerCount.get(rt);Nt>1?this._rootNodeFocusListenerCount.set(rt,Nt-1):(rt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_r),rt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_r),this._rootNodeFocusListenerCount.delete(rt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(qe,rt,Nt){this._setClasses(qe,rt),this._emitOrigin(Nt,rt),this._lastFocusOrigin=rt}_getClosestElementsInfo(qe){const rt=[];return this._elementInfo.forEach((Nt,un)=>{(un===qe||Nt.checkChildren&&un.contains(qe))&&rt.push([un,Nt])}),rt}_isLastInteractionFromInputLabel(qe){const{_mostRecentTarget:rt,mostRecentModality:Nt}=this._inputModalityDetector;if("mouse"!==Nt||!rt||rt===qe||"INPUT"!==qe.nodeName&&"TEXTAREA"!==qe.nodeName||qe.disabled)return!1;const un=qe.labels;if(un)for(let Gn=0;Gn<un.length;Gn++)if(un[Gn].contains(rt))return!0;return!1}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(z.R0b),z.LFG(ie.t4),z.LFG(si),z.LFG(g.K0,8),z.LFG(jr,8))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})();const ar="cdk-high-contrast-black-on-white",Vi="cdk-high-contrast-white-on-black",xr="cdk-high-contrast-active";let Ii=(()=>{var vt;class We{constructor(qe,rt){this._platform=qe,this._document=rt,this._breakpointSubscription=(0,z.f3M)(ht.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const qe=this._document.createElement("div");qe.style.backgroundColor="rgb(1,2,3)",qe.style.position="absolute",this._document.body.appendChild(qe);const rt=this._document.defaultView||window,Nt=rt&&rt.getComputedStyle?rt.getComputedStyle(qe):null,un=(Nt&&Nt.backgroundColor||"").replace(/ /g,"");switch(qe.remove(),un){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const qe=this._document.body.classList;qe.remove(xr,ar,Vi),this._hasCheckedHighContrastMode=!0;const rt=this.getHighContrastMode();1===rt?qe.add(xr,ar):2===rt&&qe.add(xr,Vi)}}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(ie.t4),z.LFG(g.K0))},vt.\u0275prov=z.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"}),We})(),Ar=(()=>{var vt;class We{constructor(qe){qe._applyBodyHighContrastModeCssClasses()}}return(vt=We).\u0275fac=function(qe){return new(qe||vt)(z.LFG(Ii))},vt.\u0275mod=z.oAB({type:vt}),vt.\u0275inj=z.cJS({imports:[lt.Q8]}),We})()},9388:(on,et,V)=>{V.d(et,{Is:()=>Le,vT:()=>Fe});var g=V(5879),z=V(6814);const ie=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function b(){return(0,g.f3M)(z.K0)}}),ye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Le=(()=>{var ce;class Ce{constructor(lt){this.value="ltr",this.change=new g.vpe,lt&&(this.value=function Se(ce){const Ce=ce?.toLowerCase()||"";return"auto"===Ce&&typeof navigator<"u"&&navigator?.language?ye.test(navigator.language)?"rtl":"ltr":"rtl"===Ce?"rtl":"ltr"}((lt.body?lt.body.dir:null)||(lt.documentElement?lt.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(ce=Ce).\u0275fac=function(lt){return new(lt||ce)(g.LFG(ie,8))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),Ce})(),Fe=(()=>{var ce;class Ce{}return(ce=Ce).\u0275fac=function(lt){return new(lt||ce)},ce.\u0275mod=g.oAB({type:ce}),ce.\u0275inj=g.cJS({}),Ce})()},2495:(on,et,V)=>{V.d(et,{Eq:()=>ye,HM:()=>Se,Ig:()=>z,fI:()=>Le,su:()=>ie});var g=V(5879);function z(Fe){return null!=Fe&&"false"!=`${Fe}`}function ie(Fe,ce=0){return function b(Fe){return!isNaN(parseFloat(Fe))&&!isNaN(Number(Fe))}(Fe)?Number(Fe):ce}function ye(Fe){return Array.isArray(Fe)?Fe:[Fe]}function Se(Fe){return null==Fe?"":"string"==typeof Fe?Fe:`${Fe}px`}function Le(Fe){return Fe instanceof g.SBq?Fe.nativeElement:Fe}},6028:(on,et,V)=>{V.d(et,{JU:()=>Se,MW:()=>_r,Vb:()=>re,b2:()=>Ye,hY:()=>Ce,jx:()=>Le,zL:()=>Ae});const Se=16,Le=17,Ae=18,Ce=27,_r=91,Ye=224;function re(De,...$){return $.length?$.some(oe=>De[oe]):De.altKey||De.shiftKey||De.ctrlKey||De.metaKey}},719:(on,et,V)=>{V.d(et,{Yg:()=>Oe,u3:()=>Dt});var g=V(5879),z=V(2495),ie=V(8645),b=V(2572),ye=V(5211),Se=V(5592),Le=V(8180),Ae=V(836),Fe=V(6321),ce=V(9360),Ce=V(8251),lt=V(7398),ht=V(7921),jt=V(9773),At=V(2831);const St=new Set;let Kt,xt=(()=>{var Qe;class kt{constructor(cn,tn){this._platform=cn,this._nonce=tn,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ge}matchMedia(cn){return(this._platform.WEBKIT||this._platform.BLINK)&&function xe(Qe,kt){if(!St.has(Qe))try{Kt||(Kt=document.createElement("style"),kt&&(Kt.nonce=kt),Kt.setAttribute("type","text/css"),document.head.appendChild(Kt)),Kt.sheet&&(Kt.sheet.insertRule(`@media ${Qe} {body{ }}`,0),St.add(Qe))}catch(pn){console.error(pn)}}(cn,this._nonce),this._matchMedia(cn)}}return(Qe=kt).\u0275fac=function(cn){return new(cn||Qe)(g.LFG(At.t4),g.LFG(g.Ojb,8))},Qe.\u0275prov=g.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),kt})();function Ge(Qe){return{matches:"all"===Qe||""===Qe,media:Qe,addListener:()=>{},removeListener:()=>{}}}let Oe=(()=>{var Qe;class kt{constructor(cn,tn){this._mediaMatcher=cn,this._zone=tn,this._queries=new Map,this._destroySubject=new ie.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(cn){return Ke((0,z.Eq)(cn)).some(rr=>this._registerQuery(rr).mql.matches)}observe(cn){const rr=Ke((0,z.Eq)(cn)).map(hr=>this._registerQuery(hr).observable);let Br=(0,b.a)(rr);return Br=(0,ye.z)(Br.pipe((0,Le.q)(1)),Br.pipe((0,Ae.T)(1),function $e(Qe,kt=Fe.z){return(0,ce.e)((pn,cn)=>{let tn=null,rr=null,Br=null;const hr=()=>{if(tn){tn.unsubscribe(),tn=null;const Hn=rr;rr=null,cn.next(Hn)}};function Rr(){const Hn=Br+Qe,dt=kt.now();if(dt<Hn)return tn=this.schedule(void 0,Hn-dt),void cn.add(tn);hr()}pn.subscribe((0,Ce.x)(cn,Hn=>{rr=Hn,Br=kt.now(),tn||(tn=kt.schedule(Rr,Qe),cn.add(tn))},()=>{hr(),cn.complete()},void 0,()=>{rr=tn=null}))})}(0))),Br.pipe((0,lt.U)(hr=>{const Rr={matches:!1,breakpoints:{}};return hr.forEach(({matches:Hn,query:dt})=>{Rr.matches=Rr.matches||Hn,Rr.breakpoints[dt]=Hn}),Rr}))}_registerQuery(cn){if(this._queries.has(cn))return this._queries.get(cn);const tn=this._mediaMatcher.matchMedia(cn),Br={observable:new Se.y(hr=>{const Rr=Hn=>this._zone.run(()=>hr.next(Hn));return tn.addListener(Rr),()=>{tn.removeListener(Rr)}}).pipe((0,ht.O)(tn),(0,lt.U)(({matches:hr})=>({query:cn,matches:hr})),(0,jt.R)(this._destroySubject)),mql:tn};return this._queries.set(cn,Br),Br}}return(Qe=kt).\u0275fac=function(cn){return new(cn||Qe)(g.LFG(xt),g.LFG(g.R0b))},Qe.\u0275prov=g.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),kt})();function Ke(Qe){return Qe.map(kt=>kt.split(",")).reduce((kt,pn)=>kt.concat(pn)).map(kt=>kt.trim())}const Dt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(on,et,V)=>{V.d(et,{Q8:()=>ye});var g=V(5879);let z=(()=>{var Se;class Le{create(Fe){return typeof MutationObserver>"u"?null:new MutationObserver(Fe)}}return(Se=Le).\u0275fac=function(Fe){return new(Fe||Se)},Se.\u0275prov=g.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Le})(),ye=(()=>{var Se;class Le{}return(Se=Le).\u0275fac=function(Fe){return new(Fe||Se)},Se.\u0275mod=g.oAB({type:Se}),Se.\u0275inj=g.cJS({providers:[z]}),Le})()},9451:(on,et,V)=>{V.d(et,{aV:()=>Hr,X_:()=>F,Xj:()=>ur,U8:()=>Ji,Iu:()=>Mi});var g=V(2495),z=V(5879),ie=V(8645),b=V(2096),ye=V(5592),Se=V(4829),Le=V(1631),Ae=V(4266),Fe=V(4674),ce=V(7400);const Ce=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],lt=["on","off"];function ht(Ye,re,De,$){if((0,Fe.m)(De)&&($=De,De=void 0),$)return ht(Ye,re,De).pipe((0,ce.Z)($));const[oe,_e]=function St(Ye){return(0,Fe.m)(Ye.addEventListener)&&(0,Fe.m)(Ye.removeEventListener)}(Ye)?$e.map(je=>ft=>Ye[je](re,ft,De)):function At(Ye){return(0,Fe.m)(Ye.addListener)&&(0,Fe.m)(Ye.removeListener)}(Ye)?Ce.map(jt(Ye,re)):function Rt(Ye){return(0,Fe.m)(Ye.on)&&(0,Fe.m)(Ye.off)}(Ye)?lt.map(jt(Ye,re)):[];if(!oe&&(0,Ae.z)(Ye))return(0,Le.z)(je=>ht(je,re,De))((0,Se.Xf)(Ye));if(!oe)throw new TypeError("Invalid event target");return new ye.y(je=>{const ft=(...Ee)=>je.next(1<Ee.length?Ee:Ee[0]);return oe(ft),()=>_e(ft)})}function jt(Ye,re){return De=>$=>Ye[De](re,$)}var Kt=V(1954),xt=V(7394);const xe={schedule(Ye){let re=requestAnimationFrame,De=cancelAnimationFrame;const{delegate:$}=xe;$&&(re=$.requestAnimationFrame,De=$.cancelAnimationFrame);const oe=re(_e=>{De=void 0,Ye(_e)});return new xt.w0(()=>De?.(oe))},requestAnimationFrame(...Ye){const{delegate:re}=xe;return(re?.requestAnimationFrame||requestAnimationFrame)(...Ye)},cancelAnimationFrame(...Ye){const{delegate:re}=xe;return(re?.cancelAnimationFrame||cancelAnimationFrame)(...Ye)},delegate:void 0};var Oe=V(2631);new class Ke extends Oe.v{flush(re){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let oe;re=re||$.shift();do{if(oe=re.execute(re.state,re.delay))break}while((re=$[0])&&re.id===De&&$.shift());if(this._active=!1,oe){for(;(re=$[0])&&re.id===De&&$.shift();)re.unsubscribe();throw oe}}}(class Ge extends Kt.o{constructor(re,De){super(re,De),this.scheduler=re,this.work=De}requestAsyncId(re,De,$=0){return null!==$&&$>0?super.requestAsyncId(re,De,$):(re.actions.push(this),re._scheduled||(re._scheduled=xe.requestAnimationFrame(()=>re.flush(void 0))))}recycleAsyncId(re,De,$=0){var oe;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(re,De,$);const{actions:_e}=re;null!=De&&(null===(oe=_e[_e.length-1])||void 0===oe?void 0:oe.id)!==De&&(xe.cancelAnimationFrame(De),re._scheduled=void 0)}});let pn,kt=1;const cn={};function tn(Ye){return Ye in cn&&(delete cn[Ye],!0)}const rr={setImmediate(Ye){const re=kt++;return cn[re]=!0,pn||(pn=Promise.resolve()),pn.then(()=>tn(re)&&Ye()),re},clearImmediate(Ye){tn(Ye)}},{setImmediate:hr,clearImmediate:Rr}=rr,Hn={setImmediate(...Ye){const{delegate:re}=Hn;return(re?.setImmediate||hr)(...Ye)},clearImmediate(Ye){const{delegate:re}=Hn;return(re?.clearImmediate||Rr)(Ye)},delegate:void 0};new class Et extends Oe.v{flush(re){this._active=!0;const De=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let oe;re=re||$.shift();do{if(oe=re.execute(re.state,re.delay))break}while((re=$[0])&&re.id===De&&$.shift());if(this._active=!1,oe){for(;(re=$[0])&&re.id===De&&$.shift();)re.unsubscribe();throw oe}}}(class dt extends Kt.o{constructor(re,De){super(re,De),this.scheduler=re,this.work=De}requestAsyncId(re,De,$=0){return null!==$&&$>0?super.requestAsyncId(re,De,$):(re.actions.push(this),re._scheduled||(re._scheduled=Hn.setImmediate(re.flush.bind(re,void 0))))}recycleAsyncId(re,De,$=0){var oe;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(re,De,$);const{actions:_e}=re;null!=De&&(null===(oe=_e[_e.length-1])||void 0===oe?void 0:oe.id)!==De&&(Hn.clearImmediate(De),re._scheduled===De&&(re._scheduled=void 0))}});var It=V(6321),at=V(9360),Ft=V(8251),Xn=V(671);function Pn(Ye,re=It.z){return function Ct(Ye){return(0,at.e)((re,De)=>{let $=!1,oe=null,_e=null,je=!1;const ft=()=>{if(_e?.unsubscribe(),_e=null,$){$=!1;const fe=oe;oe=null,De.next(fe)}je&&De.complete()},Ee=()=>{_e=null,je&&De.complete()};re.subscribe((0,Ft.x)(De,fe=>{$=!0,oe=fe,_e||(0,Se.Xf)(Ye(fe)).subscribe(_e=(0,Ft.x)(De,ft,Ee))},()=>{je=!0,(!$||!_e||_e.closed)&&De.complete()}))})}(()=>function Nn(Ye=0,re,De=It.P){let $=-1;return null!=re&&((0,Xn.K)(re)?De=re:$=re),new ye.y(oe=>{let _e=function Sn(Ye){return Ye instanceof Date&&!isNaN(Ye)}(Ye)?+Ye-De.now():Ye;_e<0&&(_e=0);let je=0;return De.schedule(function(){oe.closed||(oe.next(je++),0<=$?this.schedule(void 0,$):oe.complete())},_e)})}(Ye,re))}var Ir=V(2181),Wn=V(2831),Sr=V(6814),Ln=V(9388);let An=(()=>{var Ye;class re{constructor($,oe,_e){this._ngZone=$,this._platform=oe,this._scrolled=new ie.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=_e}register($){this.scrollContainers.has($)||this.scrollContainers.set($,$.elementScrolled().subscribe(()=>this._scrolled.next($)))}deregister($){const oe=this.scrollContainers.get($);oe&&(oe.unsubscribe(),this.scrollContainers.delete($))}scrolled($=20){return this._platform.isBrowser?new ye.y(oe=>{this._globalSubscription||this._addGlobalListener();const _e=$>0?this._scrolled.pipe(Pn($)).subscribe(oe):this._scrolled.subscribe(oe);return this._scrolledCount++,()=>{_e.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach(($,oe)=>this.deregister(oe)),this._scrolled.complete()}ancestorScrolled($,oe){const _e=this.getAncestorScrollContainers($);return this.scrolled(oe).pipe((0,Ir.h)(je=>!je||_e.indexOf(je)>-1))}getAncestorScrollContainers($){const oe=[];return this.scrollContainers.forEach((_e,je)=>{this._scrollableContainsElement(je,$)&&oe.push(je)}),oe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement($,oe){let _e=(0,g.fI)(oe),je=$.getElementRef().nativeElement;do{if(_e==je)return!0}while(_e=_e.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ht(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(z.R0b),z.LFG(Wn.t4),z.LFG(Sr.K0,8))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),or=(()=>{var Ye;class re{constructor($,oe,_e){this._platform=$,this._change=new ie.x,this._changeListener=je=>{this._change.next(je)},this._document=_e,oe.runOutsideAngular(()=>{if($.isBrowser){const je=this._getWindow();je.addEventListener("resize",this._changeListener),je.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const $=this._getWindow();$.removeEventListener("resize",this._changeListener),$.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const $={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),$}getViewportRect(){const $=this.getViewportScrollPosition(),{width:oe,height:_e}=this.getViewportSize();return{top:$.top,left:$.left,bottom:$.top+_e,right:$.left+oe,height:_e,width:oe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const $=this._document,oe=this._getWindow(),_e=$.documentElement,je=_e.getBoundingClientRect();return{top:-je.top||$.body.scrollTop||oe.scrollY||_e.scrollTop||0,left:-je.left||$.body.scrollLeft||oe.scrollX||_e.scrollLeft||0}}change($=20){return $>0?this._change.pipe(Pn($)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const $=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:$.innerWidth,height:$.innerHeight}:{width:0,height:0}}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(Wn.t4),z.LFG(z.R0b),z.LFG(Sr.K0,8))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),Ar=(()=>{var Ye;class re{}return(Ye=re).\u0275fac=function($){return new($||Ye)},Ye.\u0275mod=z.oAB({type:Ye}),Ye.\u0275inj=z.cJS({}),re})(),vt=(()=>{var Ye;class re{}return(Ye=re).\u0275fac=function($){return new($||Ye)},Ye.\u0275mod=z.oAB({type:Ye}),Ye.\u0275inj=z.cJS({imports:[Ln.vT,Ar,Ln.vT,Ar]}),re})();var We=V(8180),wt=V(9773),qe=V(8484),rt=V(3019);const Nt=(0,Wn.Mq)();class un{constructor(re,De){this._viewportRuler=re,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=De}attach(){}enable(){if(this._canBeEnabled()){const re=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=re.style.left||"",this._previousHTMLStyles.top=re.style.top||"",re.style.left=(0,g.HM)(-this._previousScrollPosition.left),re.style.top=(0,g.HM)(-this._previousScrollPosition.top),re.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const re=this._document.documentElement,$=re.style,oe=this._document.body.style,_e=$.scrollBehavior||"",je=oe.scrollBehavior||"";this._isEnabled=!1,$.left=this._previousHTMLStyles.left,$.top=this._previousHTMLStyles.top,re.classList.remove("cdk-global-scrollblock"),Nt&&($.scrollBehavior=oe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Nt&&($.scrollBehavior=_e,oe.scrollBehavior=je)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const De=this._document.body,$=this._viewportRuler.getViewportSize();return De.scrollHeight>$.height||De.scrollWidth>$.width}}class cr{constructor(re,De,$,oe){this._scrollDispatcher=re,this._ngZone=De,this._viewportRuler=$,this._config=oe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(re){this._overlayRef=re}enable(){if(this._scrollSubscription)return;const re=this._scrollDispatcher.scrolled(0).pipe((0,Ir.h)(De=>!De||!this._overlayRef.overlayElement.contains(De.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=re.subscribe(()=>{const De=this._viewportRuler.getViewportScrollPosition().top;Math.abs(De-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=re.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _i{enable(){}disable(){}attach(){}}function ge(Ye,re){return re.some(De=>Ye.bottom<De.top||Ye.top>De.bottom||Ye.right<De.left||Ye.left>De.right)}function q(Ye,re){return re.some(De=>Ye.top<De.top||Ye.bottom>De.bottom||Ye.left<De.left||Ye.right>De.right)}class N{constructor(re,De,$,oe){this._scrollDispatcher=re,this._viewportRuler=De,this._ngZone=$,this._config=oe,this._scrollSubscription=null}attach(re){this._overlayRef=re}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const De=this._overlayRef.overlayElement.getBoundingClientRect(),{width:$,height:oe}=this._viewportRuler.getViewportSize();ge(De,[{width:$,height:oe,bottom:oe,right:$,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let L=(()=>{var Ye;class re{constructor($,oe,_e,je){this._scrollDispatcher=$,this._viewportRuler=oe,this._ngZone=_e,this.noop=()=>new _i,this.close=ft=>new cr(this._scrollDispatcher,this._ngZone,this._viewportRuler,ft),this.block=()=>new un(this._viewportRuler,this._document),this.reposition=ft=>new N(this._scrollDispatcher,this._viewportRuler,this._ngZone,ft),this._document=je}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(An),z.LFG(or),z.LFG(z.R0b),z.LFG(Sr.K0))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})();class F{constructor(re){if(this.scrollStrategy=new _i,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,re){const De=Object.keys(re);for(const $ of De)void 0!==re[$]&&(this[$]=re[$])}}}class mt{constructor(re,De){this.connectionPair=re,this.scrollableViewProperties=De}}let xn=(()=>{var Ye;class re{constructor($){this._attachedOverlays=[],this._document=$}ngOnDestroy(){this.detach()}add($){this.remove($),this._attachedOverlays.push($)}remove($){const oe=this._attachedOverlays.indexOf($);oe>-1&&this._attachedOverlays.splice(oe,1),0===this._attachedOverlays.length&&this.detach()}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(Sr.K0))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),yn=(()=>{var Ye;class re extends xn{constructor($,oe){super($),this._ngZone=oe,this._keydownListener=_e=>{const je=this._attachedOverlays;for(let ft=je.length-1;ft>-1;ft--)if(je[ft]._keydownEvents.observers.length>0){const Ee=je[ft]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ee.next(_e)):Ee.next(_e);break}}}add($){super.add($),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(Sr.K0),z.LFG(z.R0b,8))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),qn=(()=>{var Ye;class re extends xn{constructor($,oe,_e){super($),this._platform=oe,this._ngZone=_e,this._cursorStyleIsSet=!1,this._pointerDownListener=je=>{this._pointerDownEventTarget=(0,Wn.sA)(je)},this._clickListener=je=>{const ft=(0,Wn.sA)(je),Ee="click"===je.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ft;this._pointerDownEventTarget=null;const fe=this._attachedOverlays.slice();for(let Ue=fe.length-1;Ue>-1;Ue--){const Ie=fe[Ue];if(Ie._outsidePointerEvents.observers.length<1||!Ie.hasAttached())continue;if(Ie.overlayElement.contains(ft)||Ie.overlayElement.contains(Ee))break;const Be=Ie._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Be.next(je)):Be.next(je)}}}add($){if(super.add($),!this._isAttached){const oe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(oe)):this._addEventListeners(oe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=oe.style.cursor,oe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const $=this._document.body;$.removeEventListener("pointerdown",this._pointerDownListener,!0),$.removeEventListener("click",this._clickListener,!0),$.removeEventListener("auxclick",this._clickListener,!0),$.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&($.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners($){$.addEventListener("pointerdown",this._pointerDownListener,!0),$.addEventListener("click",this._clickListener,!0),$.addEventListener("auxclick",this._clickListener,!0),$.addEventListener("contextmenu",this._clickListener,!0)}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(Sr.K0),z.LFG(Wn.t4),z.LFG(z.R0b,8))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),ur=(()=>{var Ye;class re{constructor($,oe){this._platform=oe,this._document=$}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $="cdk-overlay-container";if(this._platform.isBrowser||(0,Wn.Oy)()){const _e=this._document.querySelectorAll(`.${$}[platform="server"], .${$}[platform="test"]`);for(let je=0;je<_e.length;je++)_e[je].remove()}const oe=this._document.createElement("div");oe.classList.add($),(0,Wn.Oy)()?oe.setAttribute("platform","test"):this._platform.isBrowser||oe.setAttribute("platform","server"),this._document.body.appendChild(oe),this._containerElement=oe}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(Sr.K0),z.LFG(Wn.t4))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})();class Mi{constructor(re,De,$,oe,_e,je,ft,Ee,fe,Ue=!1){this._portalOutlet=re,this._host=De,this._pane=$,this._config=oe,this._ngZone=_e,this._keyboardDispatcher=je,this._document=ft,this._location=Ee,this._outsideClickDispatcher=fe,this._animationsDisabled=Ue,this._backdropElement=null,this._backdropClick=new ie.x,this._attachments=new ie.x,this._detachments=new ie.x,this._locationChanges=xt.w0.EMPTY,this._backdropClickHandler=Ie=>this._backdropClick.next(Ie),this._backdropTransitionendHandler=Ie=>{this._disposeBackdrop(Ie.target)},this._keydownEvents=new ie.x,this._outsidePointerEvents=new ie.x,oe.scrollStrategy&&(this._scrollStrategy=oe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=oe.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(re){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const De=this._portalOutlet.attach(re);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,We.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof De?.onDestroy&&De.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),De}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const re=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),re}dispose(){const re=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,re&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(re){re!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=re,this.hasAttached()&&(re.attach(this),this.updatePosition()))}updateSize(re){this._config={...this._config,...re},this._updateElementSize()}setDirection(re){this._config={...this._config,direction:re},this._updateElementDirection()}addPanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!0)}removePanelClass(re){this._pane&&this._toggleClasses(this._pane,re,!1)}getDirection(){const re=this._config.direction;return re?"string"==typeof re?re:re.value:"ltr"}updateScrollStrategy(re){re!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=re,this.hasAttached()&&(re.attach(this),re.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const re=this._pane.style;re.width=(0,g.HM)(this._config.width),re.height=(0,g.HM)(this._config.height),re.minWidth=(0,g.HM)(this._config.minWidth),re.minHeight=(0,g.HM)(this._config.minHeight),re.maxWidth=(0,g.HM)(this._config.maxWidth),re.maxHeight=(0,g.HM)(this._config.maxHeight)}_togglePointerEvents(re){this._pane.style.pointerEvents=re?"":"none"}_attachBackdrop(){const re="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(re)})}):this._backdropElement.classList.add(re)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const re=this._backdropElement;if(re){if(this._animationsDisabled)return void this._disposeBackdrop(re);re.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{re.addEventListener("transitionend",this._backdropTransitionendHandler)}),re.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(re)},500))}}_toggleClasses(re,De,$){const oe=(0,g.Eq)(De||[]).filter(_e=>!!_e);oe.length&&($?re.classList.add(...oe):re.classList.remove(...oe))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const re=this._ngZone.onStable.pipe((0,wt.R)((0,rt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),re.unsubscribe())})})}_disposeScrollStrategy(){const re=this._scrollStrategy;re&&(re.disable(),re.detach&&re.detach())}_disposeBackdrop(re){re&&(re.removeEventListener("click",this._backdropClickHandler),re.removeEventListener("transitionend",this._backdropTransitionendHandler),re.remove(),this._backdropElement===re&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pi="cdk-overlay-connected-position-bounding-box",bt=/([A-Za-z%]+)$/;class ut{get positions(){return this._preferredPositions}constructor(re,De,$,oe,_e){this._viewportRuler=De,this._document=$,this._platform=oe,this._overlayContainer=_e,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ie.x,this._resizeSubscription=xt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(re)}attach(re){this._validatePositions(),re.hostElement.classList.add(pi),this._overlayRef=re,this._boundingBox=re.hostElement,this._pane=re.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const re=this._originRect,De=this._overlayRect,$=this._viewportRect,oe=this._containerRect,_e=[];let je;for(let ft of this._preferredPositions){let Ee=this._getOriginPoint(re,oe,ft),fe=this._getOverlayPoint(Ee,De,ft),Ue=this._getOverlayFit(fe,De,$,ft);if(Ue.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ft,Ee);this._canFitWithFlexibleDimensions(Ue,fe,$)?_e.push({position:ft,origin:Ee,overlayRect:De,boundingBoxRect:this._calculateBoundingBoxRect(Ee,ft)}):(!je||je.overlayFit.visibleArea<Ue.visibleArea)&&(je={overlayFit:Ue,overlayPoint:fe,originPoint:Ee,position:ft,overlayRect:De})}if(_e.length){let ft=null,Ee=-1;for(const fe of _e){const Ue=fe.boundingBoxRect.width*fe.boundingBoxRect.height*(fe.position.weight||1);Ue>Ee&&(Ee=Ue,ft=fe)}return this._isPushed=!1,void this._applyPosition(ft.position,ft.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(je.position,je.originPoint);this._applyPosition(je.position,je.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pi),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const re=this._lastPosition;if(re){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const De=this._getOriginPoint(this._originRect,this._containerRect,re);this._applyPosition(re,De)}else this.apply()}withScrollableContainers(re){return this._scrollables=re,this}withPositions(re){return this._preferredPositions=re,-1===re.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(re){return this._viewportMargin=re,this}withFlexibleDimensions(re=!0){return this._hasFlexibleDimensions=re,this}withGrowAfterOpen(re=!0){return this._growAfterOpen=re,this}withPush(re=!0){return this._canPush=re,this}withLockedPosition(re=!0){return this._positionLocked=re,this}setOrigin(re){return this._origin=re,this}withDefaultOffsetX(re){return this._offsetX=re,this}withDefaultOffsetY(re){return this._offsetY=re,this}withTransformOriginOn(re){return this._transformOriginSelector=re,this}_getOriginPoint(re,De,$){let oe,_e;if("center"==$.originX)oe=re.left+re.width/2;else{const je=this._isRtl()?re.right:re.left,ft=this._isRtl()?re.left:re.right;oe="start"==$.originX?je:ft}return De.left<0&&(oe-=De.left),_e="center"==$.originY?re.top+re.height/2:"top"==$.originY?re.top:re.bottom,De.top<0&&(_e-=De.top),{x:oe,y:_e}}_getOverlayPoint(re,De,$){let oe,_e;return oe="center"==$.overlayX?-De.width/2:"start"===$.overlayX?this._isRtl()?-De.width:0:this._isRtl()?0:-De.width,_e="center"==$.overlayY?-De.height/2:"top"==$.overlayY?0:-De.height,{x:re.x+oe,y:re.y+_e}}_getOverlayFit(re,De,$,oe){const _e=en(De);let{x:je,y:ft}=re,Ee=this._getOffset(oe,"x"),fe=this._getOffset(oe,"y");Ee&&(je+=Ee),fe&&(ft+=fe);let Be=0-ft,nt=ft+_e.height-$.height,Bt=this._subtractOverflows(_e.width,0-je,je+_e.width-$.width),dn=this._subtractOverflows(_e.height,Be,nt),kn=Bt*dn;return{visibleArea:kn,isCompletelyWithinViewport:_e.width*_e.height===kn,fitsInViewportVertically:dn===_e.height,fitsInViewportHorizontally:Bt==_e.width}}_canFitWithFlexibleDimensions(re,De,$){if(this._hasFlexibleDimensions){const oe=$.bottom-De.y,_e=$.right-De.x,je=mn(this._overlayRef.getConfig().minHeight),ft=mn(this._overlayRef.getConfig().minWidth);return(re.fitsInViewportVertically||null!=je&&je<=oe)&&(re.fitsInViewportHorizontally||null!=ft&&ft<=_e)}return!1}_pushOverlayOnScreen(re,De,$){if(this._previousPushAmount&&this._positionLocked)return{x:re.x+this._previousPushAmount.x,y:re.y+this._previousPushAmount.y};const oe=en(De),_e=this._viewportRect,je=Math.max(re.x+oe.width-_e.width,0),ft=Math.max(re.y+oe.height-_e.height,0),Ee=Math.max(_e.top-$.top-re.y,0),fe=Math.max(_e.left-$.left-re.x,0);let Ue=0,Ie=0;return Ue=oe.width<=_e.width?fe||-je:re.x<this._viewportMargin?_e.left-$.left-re.x:0,Ie=oe.height<=_e.height?Ee||-ft:re.y<this._viewportMargin?_e.top-$.top-re.y:0,this._previousPushAmount={x:Ue,y:Ie},{x:re.x+Ue,y:re.y+Ie}}_applyPosition(re,De){if(this._setTransformOrigin(re),this._setOverlayElementStyles(De,re),this._setBoundingBoxStyles(De,re),re.panelClass&&this._addPanelClasses(re.panelClass),this._lastPosition=re,this._positionChanges.observers.length){const $=this._getScrollVisibility(),oe=new mt(re,$);this._positionChanges.next(oe)}this._isInitialRender=!1}_setTransformOrigin(re){if(!this._transformOriginSelector)return;const De=this._boundingBox.querySelectorAll(this._transformOriginSelector);let $,oe=re.overlayY;$="center"===re.overlayX?"center":this._isRtl()?"start"===re.overlayX?"right":"left":"start"===re.overlayX?"left":"right";for(let _e=0;_e<De.length;_e++)De[_e].style.transformOrigin=`${$} ${oe}`}_calculateBoundingBoxRect(re,De){const $=this._viewportRect,oe=this._isRtl();let _e,je,ft,Ue,Ie,Be;if("top"===De.overlayY)je=re.y,_e=$.height-je+this._viewportMargin;else if("bottom"===De.overlayY)ft=$.height-re.y+2*this._viewportMargin,_e=$.height-ft+this._viewportMargin;else{const nt=Math.min($.bottom-re.y+$.top,re.y),Bt=this._lastBoundingBoxSize.height;_e=2*nt,je=re.y-nt,_e>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(je=re.y-Bt/2)}if("end"===De.overlayX&&!oe||"start"===De.overlayX&&oe)Be=$.width-re.x+this._viewportMargin,Ue=re.x-this._viewportMargin;else if("start"===De.overlayX&&!oe||"end"===De.overlayX&&oe)Ie=re.x,Ue=$.right-re.x;else{const nt=Math.min($.right-re.x+$.left,re.x),Bt=this._lastBoundingBoxSize.width;Ue=2*nt,Ie=re.x-nt,Ue>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(Ie=re.x-Bt/2)}return{top:je,left:Ie,bottom:ft,right:Be,width:Ue,height:_e}}_setBoundingBoxStyles(re,De){const $=this._calculateBoundingBoxRect(re,De);!this._isInitialRender&&!this._growAfterOpen&&($.height=Math.min($.height,this._lastBoundingBoxSize.height),$.width=Math.min($.width,this._lastBoundingBoxSize.width));const oe={};if(this._hasExactPosition())oe.top=oe.left="0",oe.bottom=oe.right=oe.maxHeight=oe.maxWidth="",oe.width=oe.height="100%";else{const _e=this._overlayRef.getConfig().maxHeight,je=this._overlayRef.getConfig().maxWidth;oe.height=(0,g.HM)($.height),oe.top=(0,g.HM)($.top),oe.bottom=(0,g.HM)($.bottom),oe.width=(0,g.HM)($.width),oe.left=(0,g.HM)($.left),oe.right=(0,g.HM)($.right),oe.alignItems="center"===De.overlayX?"center":"end"===De.overlayX?"flex-end":"flex-start",oe.justifyContent="center"===De.overlayY?"center":"bottom"===De.overlayY?"flex-end":"flex-start",_e&&(oe.maxHeight=(0,g.HM)(_e)),je&&(oe.maxWidth=(0,g.HM)(je))}this._lastBoundingBoxSize=$,zt(this._boundingBox.style,oe)}_resetBoundingBoxStyles(){zt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(re,De){const $={},oe=this._hasExactPosition(),_e=this._hasFlexibleDimensions,je=this._overlayRef.getConfig();if(oe){const Ue=this._viewportRuler.getViewportScrollPosition();zt($,this._getExactOverlayY(De,re,Ue)),zt($,this._getExactOverlayX(De,re,Ue))}else $.position="static";let ft="",Ee=this._getOffset(De,"x"),fe=this._getOffset(De,"y");Ee&&(ft+=`translateX(${Ee}px) `),fe&&(ft+=`translateY(${fe}px)`),$.transform=ft.trim(),je.maxHeight&&(oe?$.maxHeight=(0,g.HM)(je.maxHeight):_e&&($.maxHeight="")),je.maxWidth&&(oe?$.maxWidth=(0,g.HM)(je.maxWidth):_e&&($.maxWidth="")),zt(this._pane.style,$)}_getExactOverlayY(re,De,$){let oe={top:"",bottom:""},_e=this._getOverlayPoint(De,this._overlayRect,re);return this._isPushed&&(_e=this._pushOverlayOnScreen(_e,this._overlayRect,$)),"bottom"===re.overlayY?oe.bottom=this._document.documentElement.clientHeight-(_e.y+this._overlayRect.height)+"px":oe.top=(0,g.HM)(_e.y),oe}_getExactOverlayX(re,De,$){let je,oe={left:"",right:""},_e=this._getOverlayPoint(De,this._overlayRect,re);return this._isPushed&&(_e=this._pushOverlayOnScreen(_e,this._overlayRect,$)),je=this._isRtl()?"end"===re.overlayX?"left":"right":"end"===re.overlayX?"right":"left","right"===je?oe.right=this._document.documentElement.clientWidth-(_e.x+this._overlayRect.width)+"px":oe.left=(0,g.HM)(_e.x),oe}_getScrollVisibility(){const re=this._getOriginRect(),De=this._pane.getBoundingClientRect(),$=this._scrollables.map(oe=>oe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:q(re,$),isOriginOutsideView:ge(re,$),isOverlayClipped:q(De,$),isOverlayOutsideView:ge(De,$)}}_subtractOverflows(re,...De){return De.reduce(($,oe)=>$-Math.max(oe,0),re)}_getNarrowedViewportRect(){const re=this._document.documentElement.clientWidth,De=this._document.documentElement.clientHeight,$=this._viewportRuler.getViewportScrollPosition();return{top:$.top+this._viewportMargin,left:$.left+this._viewportMargin,right:$.left+re-this._viewportMargin,bottom:$.top+De-this._viewportMargin,width:re-2*this._viewportMargin,height:De-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(re,De){return"x"===De?null==re.offsetX?this._offsetX:re.offsetX:null==re.offsetY?this._offsetY:re.offsetY}_validatePositions(){}_addPanelClasses(re){this._pane&&(0,g.Eq)(re).forEach(De=>{""!==De&&-1===this._appliedPanelClasses.indexOf(De)&&(this._appliedPanelClasses.push(De),this._pane.classList.add(De))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(re=>{this._pane.classList.remove(re)}),this._appliedPanelClasses=[])}_getOriginRect(){const re=this._origin;if(re instanceof z.SBq)return re.nativeElement.getBoundingClientRect();if(re instanceof Element)return re.getBoundingClientRect();const De=re.width||0,$=re.height||0;return{top:re.y,bottom:re.y+$,left:re.x,right:re.x+De,height:$,width:De}}}function zt(Ye,re){for(let De in re)re.hasOwnProperty(De)&&(Ye[De]=re[De]);return Ye}function mn(Ye){if("number"!=typeof Ye&&null!=Ye){const[re,De]=Ye.split(bt);return De&&"px"!==De?null:parseFloat(re)}return Ye||null}function en(Ye){return{top:Math.floor(Ye.top),right:Math.floor(Ye.right),bottom:Math.floor(Ye.bottom),left:Math.floor(Ye.left),width:Math.floor(Ye.width),height:Math.floor(Ye.height)}}const Xr="cdk-global-overlay-wrapper";class mi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(re){const De=re.getConfig();this._overlayRef=re,this._width&&!De.width&&re.updateSize({width:this._width}),this._height&&!De.height&&re.updateSize({height:this._height}),re.hostElement.classList.add(Xr),this._isDisposed=!1}top(re=""){return this._bottomOffset="",this._topOffset=re,this._alignItems="flex-start",this}left(re=""){return this._xOffset=re,this._xPosition="left",this}bottom(re=""){return this._topOffset="",this._bottomOffset=re,this._alignItems="flex-end",this}right(re=""){return this._xOffset=re,this._xPosition="right",this}start(re=""){return this._xOffset=re,this._xPosition="start",this}end(re=""){return this._xOffset=re,this._xPosition="end",this}width(re=""){return this._overlayRef?this._overlayRef.updateSize({width:re}):this._width=re,this}height(re=""){return this._overlayRef?this._overlayRef.updateSize({height:re}):this._height=re,this}centerHorizontally(re=""){return this.left(re),this._xPosition="center",this}centerVertically(re=""){return this.top(re),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const re=this._overlayRef.overlayElement.style,De=this._overlayRef.hostElement.style,$=this._overlayRef.getConfig(),{width:oe,height:_e,maxWidth:je,maxHeight:ft}=$,Ee=!("100%"!==oe&&"100vw"!==oe||je&&"100%"!==je&&"100vw"!==je),fe=!("100%"!==_e&&"100vh"!==_e||ft&&"100%"!==ft&&"100vh"!==ft),Ue=this._xPosition,Ie=this._xOffset,Be="rtl"===this._overlayRef.getConfig().direction;let nt="",Bt="",dn="";Ee?dn="flex-start":"center"===Ue?(dn="center",Be?Bt=Ie:nt=Ie):Be?"left"===Ue||"end"===Ue?(dn="flex-end",nt=Ie):("right"===Ue||"start"===Ue)&&(dn="flex-start",Bt=Ie):"left"===Ue||"start"===Ue?(dn="flex-start",nt=Ie):("right"===Ue||"end"===Ue)&&(dn="flex-end",Bt=Ie),re.position=this._cssPosition,re.marginLeft=Ee?"0":nt,re.marginTop=fe?"0":this._topOffset,re.marginBottom=this._bottomOffset,re.marginRight=Ee?"0":Bt,De.justifyContent=dn,De.alignItems=fe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const re=this._overlayRef.overlayElement.style,De=this._overlayRef.hostElement,$=De.style;De.classList.remove(Xr),$.justifyContent=$.alignItems=re.marginTop=re.marginBottom=re.marginLeft=re.marginRight=re.position="",this._overlayRef=null,this._isDisposed=!0}}let Qt=(()=>{var Ye;class re{constructor($,oe,_e,je){this._viewportRuler=$,this._document=oe,this._platform=_e,this._overlayContainer=je}global(){return new mi}flexibleConnectedTo($){return new ut($,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(or),z.LFG(Sr.K0),z.LFG(Wn.t4),z.LFG(ur))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})(),$r=0,Hr=(()=>{var Ye;class re{constructor($,oe,_e,je,ft,Ee,fe,Ue,Ie,Be,nt,Bt){this.scrollStrategies=$,this._overlayContainer=oe,this._componentFactoryResolver=_e,this._positionBuilder=je,this._keyboardDispatcher=ft,this._injector=Ee,this._ngZone=fe,this._document=Ue,this._directionality=Ie,this._location=Be,this._outsideClickDispatcher=nt,this._animationsModuleType=Bt}create($){const oe=this._createHostElement(),_e=this._createPaneElement(oe),je=this._createPortalOutlet(_e),ft=new F($);return ft.direction=ft.direction||this._directionality.value,new Mi(je,oe,_e,ft,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement($){const oe=this._document.createElement("div");return oe.id="cdk-overlay-"+$r++,oe.classList.add("cdk-overlay-pane"),$.appendChild(oe),oe}_createHostElement(){const $=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild($),$}_createPortalOutlet($){return this._appRef||(this._appRef=this._injector.get(z.z2F)),new qe.u0($,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(Ye=re).\u0275fac=function($){return new($||Ye)(z.LFG(L),z.LFG(ur),z.LFG(z._Vd),z.LFG(Qt),z.LFG(yn),z.LFG(z.zs3),z.LFG(z.R0b),z.LFG(Sr.K0),z.LFG(Ln.Is),z.LFG(Sr.Ye),z.LFG(qn),z.LFG(z.QbO,8))},Ye.\u0275prov=z.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"}),re})();const Jr={provide:new z.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Hr],useFactory:function nn(Ye){return()=>Ye.scrollStrategies.reposition()}};let Ji=(()=>{var Ye;class re{}return(Ye=re).\u0275fac=function($){return new($||Ye)},Ye.\u0275mod=z.oAB({type:Ye}),Ye.\u0275inj=z.cJS({providers:[Hr,Jr],imports:[Ln.vT,qe.eL,vt,vt]}),re})()},2831:(on,et,V)=>{V.d(et,{Mq:()=>ht,Oy:()=>xe,ht:()=>Kt,i$:()=>Ce,kV:()=>St,qK:()=>Ae,sA:()=>xt,t4:()=>b});var g=V(5879),z=V(6814);let ie;try{ie=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ie=!1}let Se,b=(()=>{var Ge;class Oe{constructor(Dt){this._platformId=Dt,this.isBrowser=this._platformId?(0,z.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ie)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(Ge=Oe).\u0275fac=function(Dt){return new(Dt||Ge)(g.LFG(g.Lbi))},Ge.\u0275prov=g.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Oe})();const Le=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ae(){if(Se)return Se;if("object"!=typeof document||!document)return Se=new Set(Le),Se;let Ge=document.createElement("input");return Se=new Set(Le.filter(Oe=>(Ge.setAttribute("type",Oe),Ge.type===Oe))),Se}let Fe,lt,At;function Ce(Ge){return function ce(){if(null==Fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fe=!0}))}finally{Fe=Fe||!1}return Fe}()?Ge:!!Ge.capture}function ht(){if(null==lt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lt=!1,lt;if("scrollBehavior"in document.documentElement.style)lt=!0;else{const Ge=Element.prototype.scrollTo;lt=!!Ge&&!/\{\s*\[native code\]\s*\}/.test(Ge.toString())}}return lt}function St(Ge){if(function Rt(){if(null==At){const Ge=typeof document<"u"?document.head:null;At=!(!Ge||!Ge.createShadowRoot&&!Ge.attachShadow)}return At}()){const Oe=Ge.getRootNode?Ge.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Oe instanceof ShadowRoot)return Oe}return null}function Kt(){let Ge=typeof document<"u"&&document?document.activeElement:null;for(;Ge&&Ge.shadowRoot;){const Oe=Ge.shadowRoot.activeElement;if(Oe===Ge)break;Ge=Oe}return Ge}function xt(Ge){return Ge.composedPath?Ge.composedPath()[0]:Ge.target}function xe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(on,et,V)=>{V.d(et,{C5:()=>ce,Pl:()=>Kt,UE:()=>Ce,eL:()=>xe,en:()=>lt,u0:()=>jt});var g=V(5879),z=V(6814);class Fe{attach(Ke){return this._attachedHost=Ke,Ke.attach(this)}detach(){let Ke=this._attachedHost;null!=Ke&&(this._attachedHost=null,Ke.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ke){this._attachedHost=Ke}}class ce extends Fe{constructor(Ke,Dt,Qe,kt,pn){super(),this.component=Ke,this.viewContainerRef=Dt,this.injector=Qe,this.componentFactoryResolver=kt,this.projectableNodes=pn}}class Ce extends Fe{constructor(Ke,Dt,Qe,kt){super(),this.templateRef=Ke,this.viewContainerRef=Dt,this.context=Qe,this.injector=kt}get origin(){return this.templateRef.elementRef}attach(Ke,Dt=this.context){return this.context=Dt,super.attach(Ke)}detach(){return this.context=void 0,super.detach()}}class $e extends Fe{constructor(Ke){super(),this.element=Ke instanceof g.SBq?Ke.nativeElement:Ke}}class lt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ke){return Ke instanceof ce?(this._attachedPortal=Ke,this.attachComponentPortal(Ke)):Ke instanceof Ce?(this._attachedPortal=Ke,this.attachTemplatePortal(Ke)):this.attachDomPortal&&Ke instanceof $e?(this._attachedPortal=Ke,this.attachDomPortal(Ke)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ke){this._disposeFn=Ke}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jt extends lt{constructor(Ke,Dt,Qe,kt,pn){super(),this.outletElement=Ke,this._componentFactoryResolver=Dt,this._appRef=Qe,this._defaultInjector=kt,this.attachDomPortal=cn=>{const tn=cn.element,rr=this._document.createComment("dom-portal");tn.parentNode.insertBefore(rr,tn),this.outletElement.appendChild(tn),this._attachedPortal=cn,super.setDisposeFn(()=>{rr.parentNode&&rr.parentNode.replaceChild(tn,rr)})},this._document=pn}attachComponentPortal(Ke){const Qe=(Ke.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ke.component);let kt;return Ke.viewContainerRef?(kt=Ke.viewContainerRef.createComponent(Qe,Ke.viewContainerRef.length,Ke.injector||Ke.viewContainerRef.injector,Ke.projectableNodes||void 0),this.setDisposeFn(()=>kt.destroy())):(kt=Qe.create(Ke.injector||this._defaultInjector||g.zs3.NULL),this._appRef.attachView(kt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(kt.hostView),kt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(kt)),this._attachedPortal=Ke,kt}attachTemplatePortal(Ke){let Dt=Ke.viewContainerRef,Qe=Dt.createEmbeddedView(Ke.templateRef,Ke.context,{injector:Ke.injector});return Qe.rootNodes.forEach(kt=>this.outletElement.appendChild(kt)),Qe.detectChanges(),this.setDisposeFn(()=>{let kt=Dt.indexOf(Qe);-1!==kt&&Dt.remove(kt)}),this._attachedPortal=Ke,Qe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ke){return Ke.hostView.rootNodes[0]}}let Kt=(()=>{var Oe;class Ke extends lt{constructor(Qe,kt,pn){super(),this._componentFactoryResolver=Qe,this._viewContainerRef=kt,this._isInitialized=!1,this.attached=new g.vpe,this.attachDomPortal=cn=>{const tn=cn.element,rr=this._document.createComment("dom-portal");cn.setAttachedHost(this),tn.parentNode.insertBefore(rr,tn),this._getRootNode().appendChild(tn),this._attachedPortal=cn,super.setDisposeFn(()=>{rr.parentNode&&rr.parentNode.replaceChild(tn,rr)})},this._document=pn}get portal(){return this._attachedPortal}set portal(Qe){this.hasAttached()&&!Qe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Qe&&super.attach(Qe),this._attachedPortal=Qe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Qe){Qe.setAttachedHost(this);const kt=null!=Qe.viewContainerRef?Qe.viewContainerRef:this._viewContainerRef,cn=(Qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Qe.component),tn=kt.createComponent(cn,kt.length,Qe.injector||kt.injector,Qe.projectableNodes||void 0);return kt!==this._viewContainerRef&&this._getRootNode().appendChild(tn.hostView.rootNodes[0]),super.setDisposeFn(()=>tn.destroy()),this._attachedPortal=Qe,this._attachedRef=tn,this.attached.emit(tn),tn}attachTemplatePortal(Qe){Qe.setAttachedHost(this);const kt=this._viewContainerRef.createEmbeddedView(Qe.templateRef,Qe.context,{injector:Qe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Qe,this._attachedRef=kt,this.attached.emit(kt),kt}_getRootNode(){const Qe=this._viewContainerRef.element.nativeElement;return Qe.nodeType===Qe.ELEMENT_NODE?Qe:Qe.parentNode}}return(Oe=Ke).\u0275fac=function(Qe){return new(Qe||Oe)(g.Y36(g._Vd),g.Y36(g.s_b),g.Y36(z.K0))},Oe.\u0275dir=g.lG2({type:Oe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[g.qOj]}),Ke})(),xe=(()=>{var Oe;class Ke{}return(Oe=Ke).\u0275fac=function(Qe){return new(Qe||Oe)},Oe.\u0275mod=g.oAB({type:Oe}),Oe.\u0275inj=g.cJS({}),Ke})()},6814:(on,et,V)=>{V.d(et,{Do:()=>At,EM:()=>so,HT:()=>b,JF:()=>Zo,K0:()=>Se,Mx:()=>$r,NF:()=>_o,O5:()=>Ye,PC:()=>Ue,PM:()=>Xs,RF:()=>oe,S$:()=>lt,V_:()=>Ae,Ye:()=>Rt,b0:()=>jt,bD:()=>Hi,ez:()=>ki,mk:()=>cs,n9:()=>_e,q:()=>ie,sg:()=>Jr,tP:()=>Ie,w_:()=>ye});var g=V(5879);let z=null;function ie(){return z}function b(S){z||(z=S)}class ye{}const Se=new g.OlP("DocumentToken");let Le=(()=>{var S;class J{historyGo(W){throw new Error("Not implemented")}}return(S=J).\u0275fac=function(W){return new(W||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Fe)},providedIn:"platform"}),J})();const Ae=new g.OlP("Location Initialized");let Fe=(()=>{var S;class J extends Le{constructor(){super(),this._doc=(0,g.f3M)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(W){const ve=ie().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",W,!1),()=>ve.removeEventListener("popstate",W)}onHashChange(W){const ve=ie().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",W,!1),()=>ve.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,ve,Ze){this._history.pushState(W,ve,Ze)}replaceState(W,ve,Ze){this._history.replaceState(W,ve,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return(S=J).\u0275fac=function(W){return new(W||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return new S},providedIn:"platform"}),J})();function ce(S,J){if(0==S.length)return J;if(0==J.length)return S;let Me=0;return S.endsWith("/")&&Me++,J.startsWith("/")&&Me++,2==Me?S+J.substring(1):1==Me?S+J:S+"/"+J}function Ce(S){const J=S.match(/#|\?|$/),Me=J&&J.index||S.length;return S.slice(0,Me-("/"===S[Me-1]?1:0))+S.slice(Me)}function $e(S){return S&&"?"!==S[0]?"?"+S:S}let lt=(()=>{var S;class J{historyGo(W){throw new Error("Not implemented")}}return(S=J).\u0275fac=function(W){return new(W||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(jt)},providedIn:"root"}),J})();const ht=new g.OlP("appBaseHref");let jt=(()=>{var S;class J extends lt{constructor(W,ve){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=ve??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return ce(this._baseHref,W)}path(W=!1){const ve=this._platformLocation.pathname+$e(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&W?`${ve}${Ze}`:ve}pushState(W,ve,Ze,Lt){const gn=this.prepareExternalUrl(Ze+$e(Lt));this._platformLocation.pushState(W,ve,gn)}replaceState(W,ve,Ze,Lt){const gn=this.prepareExternalUrl(Ze+$e(Lt));this._platformLocation.replaceState(W,ve,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return(S=J).\u0275fac=function(W){return new(W||S)(g.LFG(Le),g.LFG(ht,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),J})(),At=(()=>{var S;class J extends lt{constructor(W,ve){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(W){const ve=ce(this._baseHref,W);return ve.length>0?"#"+ve:ve}pushState(W,ve,Ze,Lt){let gn=this.prepareExternalUrl(Ze+$e(Lt));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.pushState(W,ve,gn)}replaceState(W,ve,Ze,Lt){let gn=this.prepareExternalUrl(Ze+$e(Lt));0==gn.length&&(gn=this._platformLocation.pathname),this._platformLocation.replaceState(W,ve,gn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return(S=J).\u0275fac=function(W){return new(W||S)(g.LFG(Le),g.LFG(ht,8))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),J})(),Rt=(()=>{var S;class J{constructor(W){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const ve=this._locationStrategy.getBaseHref();this._basePath=function xe(S){if(new RegExp("^(https?:)?//").test(S)){const[,Me]=S.split(/\/\/[^\/]+/);return Me}return S}(Ce(xt(ve))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,ve=""){return this.path()==this.normalize(W+$e(ve))}normalize(W){return J.stripTrailingSlash(function Kt(S,J){if(!S||!J.startsWith(S))return J;const Me=J.substring(S.length);return""===Me||["/",";","?","#"].includes(Me[0])?Me:J}(this._basePath,xt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,ve="",Ze=null){this._locationStrategy.pushState(Ze,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+$e(ve)),Ze)}replaceState(W,ve="",Ze=null){this._locationStrategy.replaceState(Ze,"",W,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+$e(ve)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",ve){this._urlChangeListeners.forEach(Ze=>Ze(W,ve))}subscribe(W,ve,Ze){return this._subject.subscribe({next:W,error:ve,complete:Ze})}}return(S=J).normalizeQueryParams=$e,S.joinWithSlash=ce,S.stripTrailingSlash=Ce,S.\u0275fac=function(W){return new(W||S)(g.LFG(lt))},S.\u0275prov=g.Yz7({token:S,factory:function(){return function St(){return new Rt((0,g.LFG)(lt))}()},providedIn:"root"}),J})();function xt(S){return S.replace(/\/index.html$/,"")}function $r(S,J){J=encodeURIComponent(J);for(const Me of S.split(";")){const W=Me.indexOf("="),[ve,Ze]=-1==W?[Me,""]:[Me.slice(0,W),Me.slice(W+1)];if(ve.trim()===J)return decodeURIComponent(Ze)}return null}const Hr=/\s+/,Tr=[];let cs=(()=>{var S;class J{constructor(W,ve,Ze,Lt){this._iterableDiffers=W,this._keyValueDiffers=ve,this._ngEl=Ze,this._renderer=Lt,this.initialClasses=Tr,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(Hr):Tr}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(Hr):W}ngDoCheck(){for(const ve of this.initialClasses)this._updateState(ve,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const ve of W)this._updateState(ve,!0);else if(null!=W)for(const ve of Object.keys(W))this._updateState(ve,!!W[ve]);this._applyStateDiff()}_updateState(W,ve){const Ze=this.stateMap.get(W);void 0!==Ze?(Ze.enabled!==ve&&(Ze.changed=!0,Ze.enabled=ve),Ze.touched=!0):this.stateMap.set(W,{enabled:ve,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const ve=W[0],Ze=W[1];Ze.changed?(this._toggleClass(ve,Ze.enabled),Ze.changed=!1):Ze.touched||(Ze.enabled&&this._toggleClass(ve,!1),this.stateMap.delete(ve)),Ze.touched=!1}}_toggleClass(W,ve){(W=W.trim()).length>0&&W.split(Hr).forEach(Ze=>{ve?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),J})();class nn{constructor(J,Me,W,ve){this.$implicit=J,this.ngForOf=Me,this.index=W,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jr=(()=>{var S;class J{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,ve,Ze){this._viewContainer=W,this._template=ve,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ve=this._viewContainer;W.forEachOperation((Ze,Lt,gn)=>{if(null==Ze.previousIndex)ve.createEmbeddedView(this._template,new nn(Ze.item,this._ngForOf,-1,-1),null===gn?void 0:gn);else if(null==gn)ve.remove(null===Lt?void 0:Lt);else if(null!==Lt){const Fr=ve.get(Lt);ve.move(Fr,gn),Ji(Fr,Ze)}});for(let Ze=0,Lt=ve.length;Ze<Lt;Ze++){const Fr=ve.get(Ze).context;Fr.index=Ze,Fr.count=Lt,Fr.ngForOf=this._ngForOf}W.forEachIdentityChange(Ze=>{Ji(ve.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(W,ve){return!0}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),J})();function Ji(S,J){S.context.$implicit=J.item}let Ye=(()=>{var S;class J{constructor(W,ve){this._viewContainer=W,this._context=new re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){De("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){De("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ve){return!0}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.s_b),g.Y36(g.Rgc))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),J})();class re{constructor(){this.$implicit=null,this.ngIf=null}}function De(S,J){if(J&&!J.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,g.AaK)(J)}'.`)}class ${constructor(J,Me){this._viewContainerRef=J,this._templateRef=Me,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(J){J&&!this._created?this.create():!J&&this._created&&this.destroy()}}let oe=(()=>{var S;class J{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(W){this._ngSwitch=W,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(W){this._defaultViews.push(W)}_matchCase(W){const ve=W==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ve,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ve}_updateDefaultCases(W){if(this._defaultViews.length>0&&W!==this._defaultUsed){this._defaultUsed=W;for(const ve of this._defaultViews)ve.enforceState(W)}}}return(S=J).\u0275fac=function(W){return new(W||S)},S.\u0275dir=g.lG2({type:S,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),J})(),_e=(()=>{var S;class J{constructor(W,ve,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new $(W,ve)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(oe,9))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),J})(),Ue=(()=>{var S;class J{constructor(W,ve,Ze){this._ngEl=W,this._differs=ve,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle(W){this._ngStyle=W,!this._differ&&W&&(this._differ=this._differs.find(W).create())}ngDoCheck(){if(this._differ){const W=this._differ.diff(this._ngStyle);W&&this._applyChanges(W)}}_setStyle(W,ve){const[Ze,Lt]=W.split("."),gn=-1===Ze.indexOf("-")?void 0:g.JOm.DashCase;null!=ve?this._renderer.setStyle(this._ngEl.nativeElement,Ze,Lt?`${ve}${Lt}`:ve,gn):this._renderer.removeStyle(this._ngEl.nativeElement,Ze,gn)}_applyChanges(W){W.forEachRemovedItem(ve=>this._setStyle(ve.key,null)),W.forEachAddedItem(ve=>this._setStyle(ve.key,ve.currentValue)),W.forEachChangedItem(ve=>this._setStyle(ve.key,ve.currentValue))}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),J})(),Ie=(()=>{var S;class J{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const ve=this._viewContainerRef;if(this._viewRef&&ve.remove(ve.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ze,ngTemplateOutletContext:Lt,ngTemplateOutletInjector:gn}=this;this._viewRef=ve.createEmbeddedView(Ze,Lt,gn?{injector:gn}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(S=J).\u0275fac=function(W){return new(W||S)(g.Y36(g.s_b))},S.\u0275dir=g.lG2({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),J})(),ki=(()=>{var S;class J{}return(S=J).\u0275fac=function(W){return new(W||S)},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({}),J})();const Hi="browser",Ro="server";function _o(S){return S===Hi}function Xs(S){return S===Ro}let so=(()=>{var S;class J{}return(S=J).\u0275prov=(0,g.Yz7)({token:S,providedIn:"root",factory:()=>new oo((0,g.LFG)(Se),window)}),J})();class oo{constructor(J,Me){this.document=J,this.window=Me,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const Me=function ka(S,J){const Me=S.getElementById(J)||S.getElementsByName(J)[0];if(Me)return Me;if("function"==typeof S.createTreeWalker&&S.body&&"function"==typeof S.body.attachShadow){const W=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let ve=W.currentNode;for(;ve;){const Ze=ve.shadowRoot;if(Ze){const Lt=Ze.getElementById(J)||Ze.querySelector(`[name="${J}"]`);if(Lt)return Lt}ve=W.nextNode()}}return null}(this.document,J);Me&&(this.scrollToElement(Me),Me.focus())}setHistoryScrollRestoration(J){this.supportsScrolling()&&(this.window.history.scrollRestoration=J)}scrollToElement(J){const Me=J.getBoundingClientRect(),W=Me.left+this.window.pageXOffset,ve=Me.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(W-Ze[0],ve-Ze[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Zo{}},5879:(on,et,V)=>{V.d(et,{$8M:()=>oi,$WT:()=>Ds,$Z:()=>im,AFp:()=>C,AaK:()=>$e,CHM:()=>Cs,CRH:()=>RE,EJc:()=>kx,EiD:()=>hd,EpF:()=>bv,F$t:()=>s,F4k:()=>Ev,FYo:()=>Kp,FiY:()=>Xe,Gf:()=>AE,GfV:()=>h_,Gpc:()=>jt,HDt:()=>ew,Hsn:()=>l,Ikx:()=>Yy,JOm:()=>Za,JVY:()=>Nm,JZr:()=>xt,KtG:()=>xa,L6k:()=>e_,LAX:()=>dd,LFG:()=>mt,LSH:()=>pf,Lbi:()=>Pe,Lck:()=>yC,MAs:()=>_v,MMx:()=>nE,NdJ:()=>Ng,Ojb:()=>Cn,OlP:()=>as,Oqu:()=>Zy,P3R:()=>Hm,PXZ:()=>aT,Q6J:()=>Sg,QGY:()=>kg,QbO:()=>Mt,Qsj:()=>jv,R0b:()=>el,RDi:()=>Rm,Rgc:()=>Wg,SBq:()=>bf,Sil:()=>Lx,Suo:()=>ME,TTD:()=>ui,TgZ:()=>Mg,VKq:()=>uE,VuI:()=>zT,W1O:()=>NE,WFA:()=>Fg,X6Q:()=>mT,XFs:()=>An,Xpm:()=>Bt,Xq5:()=>nv,Xts:()=>fd,Y36:()=>Tf,YKP:()=>eE,YNc:()=>mv,Yjl:()=>qo,Yz7:()=>Pn,Z0I:()=>Ln,ZZ4:()=>Rb,_Bn:()=>J0,_UZ:()=>vv,_Vd:()=>Bh,_c5:()=>RT,_uU:()=>o0,aQg:()=>Ob,c2e:()=>JE,cJS:()=>Wn,cg1:()=>Xy,d8E:()=>Qy,dDg:()=>rT,dqk:()=>_r,eBb:()=>Fm,eFA:()=>uw,eJc:()=>mb,ekj:()=>qy,eoX:()=>ow,f3M:()=>Ht,g9A:()=>me,h0i:()=>Rp,hGG:()=>OT,hij:()=>xv,iGM:()=>SE,ifc:()=>zt,ip1:()=>XE,jDz:()=>rE,kL8:()=>x0,lG2:()=>io,lqb:()=>yu,lri:()=>iw,mCW:()=>Rc,n5z:()=>fs,oAB:()=>vi,oxw:()=>e,pB0:()=>Lm,q3G:()=>Fd,q4F:()=>Zm,qFp:()=>GT,qLn:()=>hh,qOj:()=>Y_,qZA:()=>Rg,qbA:()=>dE,qzn:()=>Mc,rWj:()=>sw,rg0:()=>ve,s9C:()=>d,sBO:()=>gT,s_b:()=>Ov,soG:()=>kv,tb:()=>xb,tp0:()=>$t,uIk:()=>mm,vHH:()=>xe,vpe:()=>pd,wAp:()=>Em,xp6:()=>rg,z2F:()=>xm,z3N:()=>ud,zSh:()=>$u,zs3:()=>tu});var g=V(8645),z=V(7394),ie=V(5592),b=V(3019),ye=V(5619),Se=V(2096),Le=V(3020),Ae=V(4664),Fe=V(3997);function ce(t){for(let r in t)if(t[r]===ce)return r;throw Error("Could not find renamed property on target object.")}function Ce(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function $e(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($e).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function lt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ht=ce({__forward_ref__:ce});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return $e(this())},t}function At(t){return Rt(t)?t():t}function Rt(t){return"function"==typeof t&&t.hasOwnProperty(ht)&&t.__forward_ref__===jt}function St(t){return t&&!!t.\u0275providers}const xt="https://g.co/ng/security#xss";class xe extends Error{constructor(r,o){super(function Ge(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Oe(t){return"string"==typeof t?t:null==t?"":String(t)}function pn(t,r){throw new xe(-201,!1)}function Ft(t,r){null==t&&function Ct(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sr(t){return fr(t,wi)||fr(t,si)}function Ln(t){return null!==Sr(t)}function fr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ei(t){return t&&(t.hasOwnProperty(zr)||t.hasOwnProperty(Cr))?t[zr]:null}const wi=ce({\u0275prov:ce}),zr=ce({\u0275inj:ce}),si=ce({ngInjectableDef:ce}),Cr=ce({ngInjectorDef:ce});var An=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(An||{});let Vn;function or(t){const r=Vn;return Vn=t,r}function pr(t,r,o){const a=Sr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&An.Optional?null:void 0!==r?r:void pn($e(t))}const _r=globalThis,un={},Gn="__NG_DI_FLAG__",cr="ngTempTokenPath",ge=/\n/gm,N="__source";let L;function le(t){const r=L;return L=t,r}function ze(t,r=An.Default){if(void 0===L)throw new xe(-203,!1);return null===L?pr(t,void 0,r):L.get(t,r&An.Optional?null:void 0,r)}function mt(t,r=An.Default){return(function zn(){return Vn}()||ze)(At(t),r)}function Ht(t,r=An.Default){return mt(t,xn(r))}function xn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yn(t){const r=[];for(let o=0;o<t.length;o++){const a=At(t[o]);if(Array.isArray(a)){if(0===a.length)throw new xe(900,!1);let c,p=An.Default;for(let I=0;I<a.length;I++){const D=a[I],k=ur(D);"number"==typeof k?-1===k?c=D.token:p|=k:c=D}r.push(mt(c,p))}else r.push(mt(a))}return r}function qn(t,r){return t[Gn]=r,t.prototype[Gn]=r,t}function ur(t){return t[Gn]}function bt(t){return{toString:t}.toString()}var ut=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ut||{}),zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zt||{});const mn={},en=[],Mn=ce({\u0275cmp:ce}),ir=ce({\u0275dir:ce}),Xr=ce({\u0275pipe:ce}),mi=ce({\u0275mod:ce}),Qt=ce({\u0275fac:ce}),$r=ce({__NG_ELEMENT_ID__:ce}),Hr=ce({__NG_ENV_ID__:ce});function Tr(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||t.charCodeAt(c+p)<=32)return c}o=c+1}}function cs(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const p=o[a++],I=o[a++],D=o[a++];t.setAttribute(r,I,D,p)}else{const p=c,I=o[++a];Ys(p)?t.setProperty(r,p,I):t.setAttribute(r,p,I),a++}}return a}function gs(t){return 3===t||4===t||6===t}function Ys(t){return 64===t.charCodeAt(0)}function nn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||Jr(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function Jr(t,r,o,a,c){let p=0,I=t.length;if(-1===r)I=-1;else for(;p<t.length;){const D=t[p++];if("number"==typeof D){if(D===r){I=-1;break}if(D>r){I=p-1;break}}}for(;p<t.length;){const D=t[p];if("number"==typeof D)break;if(D===o){if(null===a)return void(null!==c&&(t[p+1]=c));if(a===t[p+1])return void(t[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==I&&(t.splice(I,0,r),p=I+1),t.splice(p++,0,o),null!==a&&t.splice(p++,0,a),null!==c&&t.splice(p++,0,c)}const Ji="ng-template";function bs(t,r,o){let a=0,c=!0;for(;a<t.length;){let p=t[a++];if("string"==typeof p&&c){const I=t[a++];if(o&&"class"===p&&-1!==Tr(I.toLowerCase(),r,0))return!0}else{if(1===p){for(;a<t.length&&"string"==typeof(p=t[a++]);)if(p.toLowerCase()===r)return!0;return!1}"number"==typeof p&&(c=!1)}}return!1}function Ye(t){return 4===t.type&&t.value!==Ji}function re(t,r,o){return r===(4!==t.type||o?t.value:Ji)}function De(t,r,o){let a=4;const c=t.attrs||[],p=function ft(t){for(let r=0;r<t.length;r++)if(gs(t[r]))return r;return t.length}(c);let I=!1;for(let D=0;D<r.length;D++){const k=r[D];if("number"!=typeof k){if(!I)if(4&a){if(a=2|1&a,""!==k&&!re(t,k,o)||""===k&&1===r.length){if($(a))return!1;I=!0}}else{const ee=8&a?k:r[++D];if(8&a&&null!==t.attrs){if(!bs(t.attrs,ee,o)){if($(a))return!1;I=!0}continue}const ke=oe(8&a?"class":k,c,Ye(t),o);if(-1===ke){if($(a))return!1;I=!0;continue}if(""!==ee){let tt;tt=ke>p?"":c[ke+1].toLowerCase();const _t=8&a?tt:null;if(_t&&-1!==Tr(_t,ee,0)||2&a&&ee!==tt){if($(a))return!1;I=!0}}}}else{if(!I&&!$(a)&&!$(k))return!1;if(I&&$(k))continue;I=!1,a=k|1&a}}return $(a)||I}function $(t){return 0==(1&t)}function oe(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let p=!1;for(;c<r.length;){const I=r[c];if(I===t)return c;if(3===I||6===I)p=!0;else{if(1===I||2===I){let D=r[++c];for(;"string"==typeof D;)D=r[++c];continue}if(4===I)break;if(0===I){c+=4;continue}}c+=p?1:2}return-1}return function Ee(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function _e(t,r,o=!1){for(let a=0;a<r.length;a++)if(De(t,r[a],o))return!0;return!1}function fe(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ue(t,r){return t?":not("+r.trim()+")":r}function Ie(t){let r=t[0],o=1,a=2,c="",p=!1;for(;o<t.length;){let I=t[o];if("string"==typeof I)if(2&a){const D=t[++o];c+="["+I+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?c+="."+I:4&a&&(c+=" "+I);else""!==c&&!$(I)&&(r+=Ue(p,c),c=""),a=I,p=p||!$(a);o++}return""!==c&&(r+=Ue(p,c)),r}function Bt(t){return bt(()=>{const r=us(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zt.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""};Ss(o);const a=t.dependencies;return o.directiveDefs=ba(a,!1),o.pipeDefs=ba(a,!0),o.id=function Rl(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function kn(t){return yr(t)||ei(t)}function kr(t){return null!==t}function vi(t){return bt(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qs(t,r){if(null==t)return mn;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=a,r&&(r[c]=p)}return o}function io(t){return bt(()=>{const r=us(t);return Ss(r),r})}function qo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function yr(t){return t[Mn]||null}function ei(t){return t[ir]||null}function Di(t){return t[Xr]||null}function Ds(t){const r=yr(t)||ei(t)||Di(t);return null!==r&&r.standalone}function Kr(t,r){const o=t[mi]||null;if(!o&&!0===r)throw new Error(`Type ${$e(t)} does not have '\u0275mod' property.`);return o}function us(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||mn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qs(t.inputs,r),outputs:Qs(t.outputs)}}function Ss(t){t.features?.forEach(r=>r(t))}function ba(t,r){if(!t)return null;const o=r?Di:kn;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(kr)}const li=0,En=1,dr=2,ci=3,Wi=4,Fs=5,ds=6,Ls=7,ki=8,Hi=9,Ro=10,tr=11,Ko=12,_o=13,Xs=14,zi=15,Pa=16,da=17,so=18,oo=19,ka=20,Ea=21,Zo=22,tl=23,Yo=24,Gr=25,nl=1,Vs=2,es=7,ha=9,Nr=11;function ts(t){return Array.isArray(t)&&"object"==typeof t[nl]}function Qr(t){return Array.isArray(t)&&!0===t[nl]}function Ol(t){return 0!=(4&t.flags)}function vo(t){return t.componentOffset>-1}function Us(t){return 1==(1&t.flags)}function Gs(t){return!!t.template}function Oo(t){return 0!=(512&t[dr])}function Qo(t,r){return t.hasOwnProperty(Qt)?t[Qt]:null}let yi=null,js=!1;function vs(t){const r=yi;return yi=t,r}const Ws={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fa(t){if(!La(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ki(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function pa(t){t.dirty=!0,function As(t){if(void 0===t.liveConsumerNode)return;const r=js;js=!0;try{for(const o of t.liveConsumerNode)o.dirty||pa(o)}finally{js=r}}(t),t.consumerMarkedDirty?.(t)}function qs(t){return t&&(t.nextProducerIndex=0),vs(t)}function Jo(t,r){if(vs(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(La(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Fl(t.producerNode[o],t.producerIndexOfThis[o]);for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ki(t){Zi(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Fa(o),a!==o.version))return!0}return!1}function il(t){if(Zi(t),La(t))for(let r=0;r<t.producerNode.length;r++)Fl(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fl(t,r){if(function tc(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Zi(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Fl(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Zi(c),c.producerIndexOfThis[a]=r}}function La(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ci=null;function ve(t){const r=vs(null);try{return t()}finally{vs(r)}}const Lt=()=>{},gn={...Ws,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Lt};class Wr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function ui(){return Lr}function Lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oi),ns}function ns(){const t=Fo(this),r=t?.current;if(r){const o=t.previous;if(o===mn)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Oi(t,r,o,a){const c=this.declaredInputs[o],p=Fo(t)||function ma(t,r){return t[qi]=r}(t,{previous:mn,current:null}),I=p.current||(p.current={}),D=p.previous,k=D[c];I[c]=new Wr(k&&k.currentValue,r,D===mn),t[a]=r}ui.ngInherit=!0;const qi="__ngSimpleChanges__";function Fo(t){return t[qi]||null}const rs=function(t,r,o){};function Ai(t){for(;Array.isArray(t);)t=t[li];return t}function Vl(t,r){return Ai(r[t])}function ho(t,r){return Ai(r[t.index])}function Nc(t,r){return t.data[r]}function wo(t,r){const o=r[t];return ts(o)?o:o[li]}function ta(t,r){return null==r?null:t[r]}function Ca(t){t[da]=0}function xu(t){1024&t[dr]||(t[dr]|=1024,vl(t,1))}function Ed(t){1024&t[dr]&&(t[dr]&=-1025,vl(t,-1))}function vl(t,r){let o=t[ci];if(null===o)return;o[Fs]+=r;let a=o;for(o=o[ci];null!==o&&(1===r&&1===a[Fs]||-1===r&&0===a[Fs]);)o[Fs]+=r,a=o,o=o[ci]}const br={lFrame:Ms(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ul(){return br.bindingsEnabled}function Vo(){return null!==br.skipHydrationRootTNode}function Yt(){return br.lFrame.lView}function di(){return br.lFrame.tView}function Cs(t){return br.lFrame.contextLView=t,t[ki]}function xa(t){return br.lFrame.contextLView=null,t}function ss(){let t=za();for(;null!==t&&64===t.type;)t=t.parent;return t}function za(){return br.lFrame.currentTNode}function Xt(t,r){const o=br.lFrame;o.currentTNode=t,o.isParent=r}function Jn(){return br.lFrame.isParent}function Io(){br.lFrame.isParent=!1}function fo(){const t=br.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function x(){return br.lFrame.bindingIndex++}function Q(t,r){const o=br.lFrame;o.bindingIndex=o.bindingRootIndex=t,Te(r)}function Te(t){br.lFrame.currentDirectiveIndex=t}function gt(t){const r=br.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function hn(){return br.lFrame.currentQueryIndex}function Ut(t){br.lFrame.currentQueryIndex=t}function er(t){const r=t[En];return 2===r.type?r.declTNode:1===r.type?t[ds]:null}function Zr(t,r,o){if(o&An.SkipSelf){let c=r,p=t;for(;!(c=c.parent,null!==c||o&An.Host||(c=er(p),null===c||(p=p[Xs],10&c.type))););if(null===c)return!1;r=c,t=p}const a=br.lFrame=Tn();return a.currentTNode=r,a.lView=t,!0}function Bi(t){const r=Tn(),o=t[En];br.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Tn(){const t=br.lFrame,r=null===t?null:t.child;return null===r?Ms(t):r}function Ms(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function $a(){const t=br.lFrame;return br.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ni=$a;function Un(){const t=$a();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Uo(){return br.lFrame.selectedIndex}function $i(t){br.lFrame.selectedIndex=t}function rn(){const t=br.lFrame;return Nc(t.tView,t.selectedIndex)}let ic=!0;function bl(){return ic}function Ta(t){ic=t}function Rs(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const p=t.data[o].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:D,ngAfterViewInit:k,ngAfterViewChecked:ee,ngOnDestroy:de}=p;I&&(t.contentHooks??=[]).push(-o,I),D&&((t.contentHooks??=[]).push(o,D),(t.contentCheckHooks??=[]).push(o,D)),k&&(t.viewHooks??=[]).push(-o,k),ee&&((t.viewHooks??=[]).push(o,ee),(t.viewCheckHooks??=[]).push(o,ee)),null!=de&&(t.destroyHooks??=[]).push(o,de)}}function Bo(t,r,o){Da(t,r,3,o)}function sc(t,r,o,a){(3&t[dr])===o&&Da(t,r,o,a)}function Su(t,r){let o=t[dr];(3&o)===r&&(o&=8191,o+=1,t[dr]=o)}function Da(t,r,o,a){const p=a??-1,I=r.length-1;let D=0;for(let k=void 0!==a?65535&t[da]:0;k<I;k++)if("number"==typeof r[k+1]){if(D=r[k],null!=a&&D>=a)break}else r[k]<0&&(t[da]+=65536),(D<p||-1==p)&&(au(t,o,r,k),t[da]=(4294901760&t[da])+k+2),k++}function Tt(t,r){rs(4,t,r);const o=vs(null);try{r.call(t)}finally{vs(o),rs(5,t,r)}}function au(t,r,o,a){const c=o[a]<0,p=o[a+1],D=t[c?-o[a]:o[a]];c?t[dr]>>13<t[da]>>16&&(3&t[dr])===r&&(t[dr]+=8192,Tt(D,p)):Tt(D,p)}const xs=-1;class yc{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Yi(t){return t!==xs}function ra(t){return 32767&t}function eo(t,r){let o=function Wa(t){return t>>16}(t),a=r;for(;o>0;)a=a[Xs],o--;return a}let Ks=!0;function Ec(t){const r=Ks;return Ks=t,r}const qa=255,Hl=5;let zc=0;const ia={};function El(t,r){const o=Au(t,r);if(-1!==o)return o;const a=r[En];a.firstCreatePass&&(t.injectorIndex=r.length,$c(a.data,t),$c(r,null),$c(a.blueprint,null));const c=oc(t,r),p=t.injectorIndex;if(Yi(c)){const I=ra(c),D=eo(c,r),k=D[En].data;for(let ee=0;ee<8;ee++)r[p+ee]=D[I+ee]|k[I+ee]}return r[p+8]=c,p}function $c(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Au(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function oc(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Il(c),null===a)return xs;if(o++,c=c[Xs],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return xs}function Gc(t,r,o){!function Kd(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty($r)&&(a=o[$r]),null==a&&(a=o[$r]=zc++);const c=a&qa;r.data[t+(c>>Hl)]|=1<<c}(t,r,o)}function wc(t,r,o){if(o&An.Optional||void 0!==t)return t;pn()}function Ic(t,r,o,a){if(o&An.Optional&&void 0===a&&(a=null),!(o&(An.Self|An.Host))){const c=t[Hi],p=or(void 0);try{return c?c.get(r,a,o&An.Optional):pr(r,a,o&An.Optional)}finally{or(p)}}return wc(a,0,o)}function du(t,r,o,a=An.Default,c){if(null!==t){if(2048&r[dr]&&!(a&An.Self)){const I=function zl(t,r,o,a,c){let p=t,I=r;for(;null!==p&&null!==I&&2048&I[dr]&&!(512&I[dr]);){const D=lc(p,I,o,a|An.Self,ia);if(D!==ia)return D;let k=p.parent;if(!k){const ee=I[ka];if(ee){const de=ee.get(o,ia,a);if(de!==ia)return de}k=Il(I),I=I[Xs]}p=k}return c}(t,r,o,a,ia);if(I!==ia)return I}const p=lc(t,r,o,a,ia);if(p!==ia)return p}return Ic(r,o,a,c)}function lc(t,r,o,a,c){const p=function Ju(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty($r)?t[$r]:void 0;return"number"==typeof r?r>=0?r&qa:sa:r}(o);if("function"==typeof p){if(!Zr(r,t,a))return a&An.Host?wc(c,0,a):Ic(r,o,a,c);try{let I;if(I=p(a),null!=I||a&An.Optional)return I;pn()}finally{Ni()}}else if("number"==typeof p){let I=null,D=Au(t,r),k=xs,ee=a&An.Host?r[zi][ds]:null;for((-1===D||a&An.SkipSelf)&&(k=-1===D?oc(t,r):r[D+8],k!==xs&&Co(a,!1)?(I=r[En],D=ra(k),r=eo(k,r)):D=-1);-1!==D;){const de=r[En];if(hu(p,D,de.data)){const ke=Mu(D,r,o,I,a,ee);if(ke!==ia)return ke}k=r[D+8],k!==xs&&Co(a,r[En].data[D+8]===ee)&&hu(p,D,r)?(I=de,D=ra(k),r=eo(k,r)):D=-1}}return c}function Mu(t,r,o,a,c,p){const I=r[En],D=I.data[t+8],de=Cc(D,I,o,null==a?vo(D)&&Ks:a!=I&&0!=(3&D.type),c&An.Host&&p===D);return null!==de?wl(r,I,de,D):ia}function Cc(t,r,o,a,c){const p=t.providerIndexes,I=r.data,D=1048575&p,k=t.directiveStart,de=p>>20,tt=c?D+de:t.directiveEnd;for(let _t=a?D:D+de;_t<tt;_t++){const qt=I[_t];if(_t<k&&o===qt||_t>=k&&qt.type===o)return _t}if(c){const _t=I[k];if(_t&&Gs(_t)&&_t.type===o)return k}return null}function wl(t,r,o,a){let c=t[o];const p=r.data;if(function lu(t){return t instanceof yc}(c)){const I=c;I.resolving&&function Dt(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new xe(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Oe(t)}(p[o]));const D=Ec(I.canSeeViewProviders);I.resolving=!0;const ee=I.injectImpl?or(I.injectImpl):null;Zr(t,a,An.Default);try{c=t[o]=I.factory(void 0,p,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Du(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const I=Lr(r);(o.preOrderHooks??=[]).push(t,I),(o.preOrderCheckHooks??=[]).push(t,I)}c&&(o.preOrderHooks??=[]).push(0-t,c),p&&((o.preOrderHooks??=[]).push(t,p),(o.preOrderCheckHooks??=[]).push(t,p))}(o,p[o],r)}finally{null!==ee&&or(ee),Ec(D),I.resolving=!1,Ni()}}return c}function hu(t,r,o){return!!(o[r+(t>>Hl)]&1<<t)}function Co(t,r){return!(t&An.Self||t&An.Host&&r)}class xo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return du(this._tNode,this._lView,r,xn(a),o)}}function sa(){return new xo(ss(),Yt())}function fs(t){return bt(()=>{const r=t.prototype.constructor,o=r[Qt]||al(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const p=c[Qt]||al(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function al(t){return Rt(t)?()=>{const r=al(At(t));return r&&r()}:Qo(t)}function Il(t){const r=t[En],o=r.type;return 2===o?r.declTNode:1===o?t[ds]:null}function oi(t){return function ac(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const p=o[c];if(gs(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(p===r)return o[c+1];c+=2}}}return null}(ss(),t)}const Qi="__parameters__";function te(t,r,o){return bt(()=>{const a=function K(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const I=new c(...p);return D.annotation=I,D;function D(k,ee,de){const ke=k.hasOwnProperty(Qi)?k[Qi]:Object.defineProperty(k,Qi,{value:[]})[Qi];for(;ke.length<=de;)ke.push(null);return(ke[de]=ke[de]||[]).push(I),k}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function To(t,r){t.forEach(o=>Array.isArray(o)?To(o,r):r(o))}function Ho(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function $l(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ga(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function zo(t,r,o){let a=fu(t,r);return a>=0?t[1|a]=o:(a=~a,function xc(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Ru(t,r){const o=fu(t,r);if(o>=0)return t[1|o]}function fu(t,r){return function cc(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const p=a+(c-a>>1),I=t[p<<o];if(r===I)return p<<o;I>r?c=p:a=p+1}return~(c<<o)}(t,r,1)}const Xe=qn(te("Optional"),8),$t=qn(te("SkipSelf"),4);function ad(t){return 128==(128&t.flags)}var Za=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Za||{});const Xd=new Map;let Wl=0;const la="__ngContext__";function va(t,r){ts(r)?(t[la]=r[oo],function ql(t){Xd.set(t[oo],t)}(r)):t[la]=r}let ld;function Ac(t,r){return ld(t,r)}function ju(t){const r=t[ci];return Qr(r)?r[ci]:r}function Rd(t){return af(t[Ko])}function Sh(t){return af(t[Wi])}function af(t){for(;null!==t&&!Qr(t);)t=t[Wi];return t}function Qa(t,r,o,a,c){if(null!=a){let p,I=!1;Qr(a)?p=a:ts(a)&&(I=!0,a=a[li]);const D=Ai(a);0===t&&null!==o?null==c?Yn(r,o,D):On(r,o,D,c||null,!0):1===t&&null!==o?On(r,o,D,c||null,!0):2===t?function th(t,r,o){const a=po(t,r);a&&function Pi(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,D,I):3===t&&r.destroyNode(D),null!=p&&function Mh(t,r,o,a,c){const p=o[es];p!==Ai(o)&&Qa(r,t,a,p,c);for(let D=Nr;D<o.length;D++){const k=o[D];cf(k[En],k,t,r,a,p)}}(r,t,p,o,c)}}function Cl(t,r,o){return t.createElement(r,o)}function m(t,r){const o=t[ha],a=o.indexOf(r);Ed(r),o.splice(a,1)}function T(t,r){if(t.length<=Nr)return;const o=Nr+r,a=t[o];if(a){const c=a[Pa];null!==c&&c!==t&&m(c,a),r>0&&(t[o-1][Wi]=a[Wi]);const p=$l(t,Nr+r);!function Ah(t,r){cf(t,r,r[tr],2,null,null),r[li]=null,r[ds]=null}(a[En],a);const I=p[so];null!==I&&I.detachView(p[En]),a[ci]=null,a[Wi]=null,a[dr]&=-129}return a}function Y(t,r){if(!(256&r[dr])){const o=r[tr];r[tl]&&il(r[tl]),r[Yo]&&il(r[Yo]),o.destroyNode&&cf(t,r,o,3,null,null),function Pd(t){let r=t[Ko];if(!r)return ae(t[En],t);for(;r;){let o=null;if(ts(r))o=r[Ko];else{const a=r[Nr];a&&(o=a)}if(!o){for(;r&&!r[Wi]&&r!==t;)ts(r)&&ae(r[En],r),r=r[ci];null===r&&(r=t),ts(r)&&ae(r[En],r),o=r&&r[Wi]}r=o}}(r)}}function ae(t,r){if(!(256&r[dr])){r[dr]&=-129,r[dr]|=256,function Ve(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof yc)){const p=o[a+1];if(Array.isArray(p))for(let I=0;I<p.length;I+=2){const D=c[p[I]],k=p[I+1];rs(4,D,k);try{k.call(D)}finally{rs(5,D,k)}}else{rs(4,c,p);try{p.call(c)}finally{rs(5,c,p)}}}}}(t,r),function be(t,r){const o=t.cleanup,a=r[Ls];if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const I=o[p+3];I>=0?a[I]():a[-I].unsubscribe(),p+=2}else o[p].call(a[o[p+1]]);null!==a&&(r[Ls]=null);const c=r[Ea];if(null!==c){r[Ea]=null;for(let p=0;p<c.length;p++)(0,c[p])()}}(t,r),1===r[En].type&&r[tr].destroy();const o=r[Pa];if(null!==o&&Qr(r[ci])){o!==r[ci]&&m(o,r);const a=r[so];null!==a&&a.detachView(t)}!function Ya(t){Xd.delete(t[oo])}(r)}}function it(t,r,o){return function Wt(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[li];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:p}=t.data[a.directiveStart+c];if(p===zt.None||p===zt.Emulated)return null}return ho(a,o)}}(t,r.parent,o)}function On(t,r,o,a,c){t.insertBefore(r,o,a,c)}function Yn(t,r,o){t.appendChild(r,o)}function lr(t,r,o,a,c){null!==a?On(t,r,o,a,c):Yn(t,r,o)}function po(t,r){return t.parentNode(r)}function ya(t,r,o){return Aa(t,r,o)}let os,uf,zf,$f,Aa=function dc(t,r,o){return 40&t.type?ho(t,o):null};function Ma(t,r,o,a){const c=it(t,a,r),p=r[tr],D=ya(a.parent||r[ds],a,r);if(null!=c)if(Array.isArray(o))for(let k=0;k<o.length;k++)lr(p,c,o[k],D,!1);else lr(p,c,o,D,!1);void 0!==os&&os(p,a,r,o,c)}function vu(t,r){if(null!==r){const o=r.type;if(3&o)return ho(r,t);if(4&o)return kd(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return vu(t,a);{const c=t[r.index];return Qr(c)?kd(-1,c):Ai(c)}}if(32&o)return Ac(r,t)()||Ai(t[r.index]);{const a=lf(t,r);return null!==a?Array.isArray(a)?a[0]:vu(ju(t[zi]),a):vu(t,r.next)}}return null}function lf(t,r){return null!==r?t[zi][ds].projection[r.projection]:null}function kd(t,r){const o=Nr+t+1;if(o<r.length){const a=r[o],c=a[En].firstChild;if(null!==c)return vu(a,c)}return r[es]}function Np(t,r,o,a,c,p,I){for(;null!=o;){const D=a[o.index],k=o.type;if(I&&0===r&&(D&&va(Ai(D),a),o.flags|=2),32!=(32&o.flags))if(8&k)Np(t,r,o.child,a,c,p,!1),Qa(r,t,c,D,p);else if(32&k){const ee=Ac(o,a);let de;for(;de=ee();)Qa(r,t,c,de,p);Qa(r,t,c,D,p)}else 16&k?Bf(t,r,a,o,c,p):Qa(r,t,c,D,p);o=I?o.projectionNext:o.next}}function cf(t,r,o,a,c,p){Np(o,a,t.firstChild,r,c,p,!1)}function Bf(t,r,o,a,c,p){const I=o[zi],k=I[ds].projection[a.projection];if(Array.isArray(k))for(let ee=0;ee<k.length;ee++)Qa(r,t,c,k[ee],p);else{let ee=k;const de=I[ci];ad(a)&&(ee.flags|=128),Np(t,r,ee,de,c,p,!0)}}function Wo(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function jf(t,r,o){const{mergedAttrs:a,classes:c,styles:p}=o;null!==a&&cs(t,r,a),null!==c&&Wo(t,r,c),null!==p&&function Yg(t,r,o){t.setAttribute(r,"style",o)}(t,r,p)}function Zl(t){return function nh(){if(void 0===uf&&(uf=null,_r.trustedTypes))try{uf=_r.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return uf}()?.createHTML(t)||t}function Rm(t){zf=t}function Lp(t){return function rh(){if(void 0===$f&&($f=null,_r.trustedTypes))try{$f=_r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $f}()?.createScriptURL(t)||t}class cd{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xt})`}}class Pm extends cd{getTypeName(){return"HTML"}}class Qg extends cd{getTypeName(){return"Style"}}class km extends cd{getTypeName(){return"Script"}}class Xg extends cd{getTypeName(){return"URL"}}class Jg extends cd{getTypeName(){return"ResourceURL"}}function ud(t){return t instanceof cd?t.changingThisBreaksApplicationSecurity:t}function Mc(t,r){const o=function Oh(t){return t instanceof cd&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${xt})`)}return o===r}function Nm(t){return new Pm(t)}function e_(t){return new Qg(t)}function Fm(t){return new km(t)}function dd(t){return new Xg(t)}function Lm(t){return new Jg(t)}class df{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Zl(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class Ph{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=Zl(r),o}}const ih=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rc(t){return(t=String(t)).match(ih)?t:"unsafe:"+t}function hc(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function sh(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const hf=hc("area,br,col,hr,img,wbr"),ff=hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wf=hc("rp,rt"),qf=sh(hf,sh(ff,hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sh(Wf,hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sh(Wf,ff)),kh=hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Um=sh(kh,hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bm=hc("script,style,template");class n_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!qf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Bm.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),I=p.name,D=I.toLowerCase();if(!Um.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let k=p.value;kh[D]&&(k=Rc(k)),this.buf.push(" ",I,'="',Fh(k),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();qf.hasOwnProperty(o)&&!hf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Fh(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const r_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i_=/([^\#-~ |!])/g;function Fh(t){return t.replace(/&/g,"&amp;").replace(r_,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(i_,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hu;function hd(t,r){let o=null;try{Hu=Hu||function Vp(t){const r=new Ph(t);return function Nd(){try{return!!(new window.DOMParser).parseFromString(Zl(""),"text/html")}catch{return!1}}()?new df(r):r}(t);let a=r?String(r):"";o=Hu.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=o.innerHTML,o=Hu.getInertBodyElement(a)}while(a!==p);return Zl((new n_).sanitizeChildren(Zf(o)||o))}finally{if(o){const a=Zf(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Zf(t){return"content"in t&&function s_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Fd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fd||{});function pf(t){const r=mf();return r?r.sanitize(Fd.URL,t)||"":Mc(t,"URL")?ud(t):Rc(Oe(t))}function Bp(t){const r=mf();if(r)return Lp(r.sanitize(Fd.RESOURCE_URL,t)||"");if(Mc(t,"ResourceURL"))return Lp(ud(t));throw new xe(904,!1)}function Hm(t,r,o){return function Yf(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Bp:pf}(r,o)(t)}function mf(){const t=Yt();return t&&t[Ro].sanitizer}class as{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Pn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fd=new as("ENVIRONMENT_INITIALIZER"),gf=new as("INJECTOR",-1),oh=new as("INJECTOR_DEF_TYPES");class Qf{get(r,o=un){if(o===un){const a=new Error(`NullInjectorError: No provider for ${$e(r)}!`);throw a.name="NullInjectorError",a}return o}}function xl(...t){return{\u0275providers:Gp(0,t),\u0275fromNgModule:!0}}function Gp(t,...r){const o=[],a=new Set;let c;const p=I=>{o.push(I)};return To(r,I=>{const D=I;ah(D,p,[],a)&&(c||=[],c.push(D))}),void 0!==c&&_f(c,p),o}function _f(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];zu(c,p=>{r(p,a)})}}function ah(t,r,o,a){if(!(t=At(t)))return!1;let c=null,p=Ei(t);const I=!p&&yr(t);if(p||I){if(I&&!I.standalone)return!1;c=t}else{const k=t.ngModule;if(p=Ei(k),!p)return!1;c=k}const D=a.has(c);if(I){if(D)return!1;if(a.add(c),I.dependencies){const k="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const ee of k)ah(ee,r,o,a)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let ee;a.add(c);try{To(p.imports,de=>{ah(de,r,o,a)&&(ee||=[],ee.push(de))})}finally{}void 0!==ee&&_f(ee,r)}if(!D){const ee=Qo(c)||(()=>new c);r({provide:c,useFactory:ee,deps:en},c),r({provide:oh,useValue:c,multi:!0},c),r({provide:fd,useValue:()=>mt(c),multi:!0},c)}const k=p.providers;if(null!=k&&!D){const ee=t;zu(k,de=>{r(de,ee)})}}}return c!==t&&void 0!==t.providers}function zu(t,r){for(let o of t)St(o)&&(o=o.\u0275providers),Array.isArray(o)?zu(o,r):r(o)}const Lh=ce({provide:String,useValue:ce});function Xf(t){return null!==t&&"object"==typeof t&&Lh in t}function eu(t){return"function"==typeof t}const $u=new as("Set Injector scope."),vf={},l_={};let Jf;function ep(){return void 0===Jf&&(Jf=new Qf),Jf}class yu{}class tp extends yu{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f(r,I=>this.processProvider(I)),this.records.set(gf,lh(void 0,this)),c.has("environment")&&this.records.set(yu,lh(void 0,this));const p=this.records.get($u);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(oh.multi,en,An.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=le(this),a=or(void 0);try{return r()}finally{le(o),or(a)}}get(r,o=un,a=An.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Hr))return r[Hr](this);a=xn(a);const p=le(this),I=or(void 0);try{if(!(a&An.SkipSelf)){let k=this.records.get(r);if(void 0===k){const ee=function _(t){return"function"==typeof t||"object"==typeof t&&t instanceof as}(r)&&Sr(r);k=ee&&this.injectableDefInScope(ee)?lh(Vh(r),vf):null,this.records.set(r,k)}if(null!=k)return this.hydrate(r,k)}return(a&An.Self?ep():this.parent).get(r,o=a&An.Optional&&o===un?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[cr]=D[cr]||[]).unshift($e(r)),p)throw D;return function Mi(t,r,o,a){const c=t[cr];throw r[N]&&c.unshift(r[N]),t.message=function pi(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=$e(r);if(Array.isArray(r))c=r.map($e).join(" -> ");else if("object"==typeof r){let p=[];for(let I in r)if(r.hasOwnProperty(I)){let D=r[I];p.push(I+":"+("string"==typeof D?JSON.stringify(D):$e(D)))}c=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ge,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[cr]=null,t}(D,r,"R3InjectorError",this.source)}throw D}finally{or(I),le(p)}}resolveInjectorInitializers(){const r=le(this),o=or(void 0);try{const c=this.get(fd.multi,en,An.Self);for(const p of c)p()}finally{le(r),or(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push($e(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(r){let o=eu(r=At(r))?r:At(r&&r.provide);const a=function c_(t){return Xf(t)?lh(void 0,t.useValue):lh(np(t),vf)}(r);if(eu(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=lh(void 0,vf,!0),c.factory=()=>yn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===vf&&(o.value=l_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function u(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=At(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Vh(t){const r=Sr(t),o=null!==r?r.factory:Qo(t);if(null!==o)return o;if(t instanceof as)throw new xe(204,!1);if(t instanceof Function)return function Wm(t){const r=t.length;if(r>0)throw ga(r,"?"),new xe(204,!1);const o=function ii(t){return t&&(t[wi]||t[si])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new xe(204,!1)}function np(t,r,o){let a;if(eu(t)){const c=At(t);return Qo(c)||Vh(c)}if(Xf(t))a=()=>At(t.useValue);else if(function $m(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...yn(t.deps||[]));else if(function Ld(t){return!(!t||!t.useExisting)}(t))a=()=>mt(At(t.useExisting));else{const c=At(t&&(t.useClass||t.provide));if(!function y(t){return!!t.deps}(t))return Qo(c)||Vh(c);a=()=>new c(...yn(t.deps))}return a}function lh(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function f(t,r){for(const o of t)Array.isArray(o)?f(o,r):o&&St(o)?f(o.\u0275providers,r):r(o)}const C=new as("AppId",{providedIn:"root",factory:()=>X}),X="ng",me=new as("Platform Initializer"),Pe=new as("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Mt=new as("AnimationModuleType"),Cn=new as("CSP nonce",{providedIn:"root",factory:()=>function Rh(){if(void 0!==zf)return zf;if(typeof document<"u")return document;throw new xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ip=(t,r,o)=>null;function Vr(t,r,o=!1){return ip(t,r,o)}class ch{}class Ud{}class Km{resolveComponentFactory(r){throw function sp(t){const r=Error(`No component factory found for ${$e(t)}.`);return r.ngComponent=t,r}(r)}}let Bh=(()=>{class r{}return r.NULL=new Km,r})();function d_(){return yf(ss(),Yt())}function yf(t,r){return new bf(ho(t,r))}let bf=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=d_,r})();function qp(t){return t instanceof bf?t.nativeElement:t}class Kp{}let jv=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Hv(){const t=Yt(),o=wo(ss().index,t);return(ts(o)?o:t)[tr]}(),r})(),Xl=(()=>{var t;class r{}return(t=r).\u0275prov=Pn({token:t,providedIn:"root",factory:()=>null}),r})();class h_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Zm=new h_("16.2.4"),Ef={};function up(t,r=null,o=null,a){const c=wf(t,r,o,a);return c.resolveInjectorInitializers(),c}function wf(t,r=null,o=null,a,c=new Set){const p=[o||en,xl(t)];return a=a||("object"==typeof t?void 0:$e(t)),new tp(p,r||ep(),a||null,c)}let tu=(()=>{var t;class r{static create(a,c){if(Array.isArray(a))return up({name:""},c,a,"");{const p=a.name??"";return up({name:p},a.parent,a.providers,p)}}}return(t=r).THROW_IF_NOT_FOUND=un,t.NULL=new Qf,t.\u0275prov=Pn({token:t,providedIn:"any",factory:()=>mt(gf)}),t.__NG_ELEMENT_ID__=-1,r})();function Qp(t){return r=>{setTimeout(t,void 0,r)}}const pd=class uh extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,p=o||(()=>null),I=a;if(r&&"object"==typeof r){const k=r;c=k.next?.bind(k),p=k.error?.bind(k),I=k.complete?.bind(k)}this.__isAsync&&(p=Qp(p),c&&(c=Qp(c)),I&&(I=Qp(I)));const D=super.subscribe({next:c,error:p,complete:I});return r instanceof z.w0&&r.add(D),D}};function g_(...t){}class el{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pd(!1),this.onMicrotaskEmpty=new pd(!1),this.onStable=new pd(!1),this.onError=new pd(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function qv(){const t="function"==typeof _r.requestAnimationFrame;let r=_r[t?"requestAnimationFrame":"setTimeout"],o=_r[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function __(t){const r=()=>{!function Kv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_r,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xp(t),t.isCheckStableRunning=!0,Jm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,p,I,D)=>{if(function tg(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(D))return o.invokeTask(c,p,I,D);try{return v_(t),o.invokeTask(c,p,I,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&r(),y_(t)}},onInvoke:(o,a,c,p,I,D,k)=>{try{return v_(t),o.invoke(c,p,I,D,k)}finally{t.shouldCoalesceRunChangeDetection&&r(),y_(t)}},onHasTask:(o,a,c,p)=>{o.hasTask(c,p),a===c&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,Xp(t),Jm(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,c,p)=>(o.handleError(c,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!el.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(el.isInAngularZone())throw new xe(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const p=this._inner,I=p.scheduleEventTask("NgZoneEvent: "+c,r,If,g_,g_);try{return p.runTask(I,o,a)}finally{p.cancelTask(I)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const If={};function Jm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function v_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function y_(t){t._nesting--,Jm(t)}class Zv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pd,this.onMicrotaskEmpty=new pd,this.onStable=new pd,this.onError=new pd}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const b_=new as("",{providedIn:"root",factory:eg});function eg(){const t=Ht(el);let r=!0;const o=new ie.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ie.y(c=>{let p;t.runOutsideAngular(()=>{p=t.onStable.subscribe(()=>{el.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const I=t.onUnstable.subscribe(()=>{el.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{p.unsubscribe(),I.unsubscribe()}});return(0,b.T)(o,a.pipe((0,Le.B)()))}function kc(t){return t instanceof Function?t():t}let dp=(()=>{var t;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new xe(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=r).\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t}),r})();function Hh(t){for(;t;){t[dr]|=64;const r=ju(t);if(Oo(t)&&!r)return t;t=r}return null}function hp(t){return t.ngOriginalError}class hh{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&hp(r);for(;o&&hp(o);)o=hp(o);return o||null}}const I_=new as("",{providedIn:"root",factory:()=>!1});let fp=null;function O_(t,r){return t[r]??nm()}function P_(t,r){const o=nm();o.producerNode?.length&&(t[r]=fp,o.lView=t,fp=tm())}const Jv={...Ws,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hh(t.lView)},lView:null};function tm(){return Object.create(Jv)}function nm(){return fp??=tm(),fp}const Yr={};function rg(t){rm(di(),Yt(),Uo()+t,!1)}function rm(t,r,o,a){if(!a)if(3==(3&r[dr])){const p=t.preOrderCheckHooks;null!==p&&Bo(r,p,o)}else{const p=t.preOrderHooks;null!==p&&sc(r,p,0,o)}$i(o)}function Tf(t,r=An.Default){const o=Yt();return null===o?mt(t,r):du(ss(),o,At(t),r)}function im(){throw new Error("invalid")}function sm(t,r,o,a,c,p,I,D,k,ee,de){const ke=r.blueprint.slice();return ke[li]=c,ke[dr]=140|a,(null!==ee||t&&2048&t[dr])&&(ke[dr]|=2048),Ca(ke),ke[ci]=ke[Xs]=t,ke[ki]=o,ke[Ro]=I||t&&t[Ro],ke[tr]=D||t&&t[tr],ke[Hi]=k||t&&t[Hi]||null,ke[ds]=p,ke[oo]=function xh(){return Wl++}(),ke[Zo]=de,ke[ka]=ee,ke[zi]=2==r.type?t[zi]:ke,ke}function Df(t,r,o,a,c){let p=t.data[r];if(null===p)p=function ig(t,r,o,a,c){const p=za(),I=Jn(),k=t.data[r]=function L_(t,r,o,a,c,p){let I=r?r.injectorIndex:-1,D=0;return Vo()&&(D|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?p:p&&p.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=k),null!==p&&(I?null==p.child&&null!==k.parent&&(p.child=k):null===p.next&&(p.next=k,k.prev=p)),k}(t,r,o,a,c),function U(){return br.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=o,p.value=a,p.attrs=c;const I=function Ui(){const t=br.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();p.injectorIndex=null===I?-1:I.injectorIndex}return Xt(p,!0),p}function pp(t,r,o,a){if(0===o)return-1;const c=r.length;for(let p=0;p<o;p++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function k_(t,r,o,a,c){const p=O_(r,tl),I=Uo(),D=2&a;try{$i(-1),D&&r.length>Gr&&rm(t,r,Gr,!1),rs(D?2:0,c);const ee=D?p:null,de=qs(ee);try{null!==ee&&(ee.dirty=!1),o(a,c)}finally{Jo(ee,de)}}finally{D&&null===r[tl]&&P_(r,tl),$i(I),rs(D?3:1,c)}}function sg(t,r,o){if(Ol(r)){const a=vs(null);try{const p=r.directiveEnd;for(let I=r.directiveStart;I<p;I++){const D=t.data[I];D.contentQueries&&D.contentQueries(1,o[I],I)}}finally{vs(a)}}}function om(t,r,o){Ul()&&(function V_(t,r,o,a){const c=o.directiveStart,p=o.directiveEnd;vo(o)&&function B_(t,r,o){const a=ho(r,t),c=N_(o);let I=16;o.signals?I=4096:o.onPush&&(I=64);const D=vp(t,sm(t,c,null,I,a,r,null,t[Ro].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=D}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||El(o,r),va(a,r);const I=o.initialInputs;for(let D=c;D<p;D++){const k=t.data[D],ee=wl(r,t,D,o);va(ee,r),null!==I&&ly(0,D-c,ee,k,0,I),Gs(k)&&(wo(o.index,r)[ki]=wl(r,t,D,o))}}(t,r,o,ho(o,r)),64==(64&o.flags)&&_p(t,r,o))}function am(t,r,o=ho){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const I=a[p+1],D=-1===I?o(r,t):t[I];t[c++]=D}}}function N_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=og(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function og(t,r,o,a,c,p,I,D,k,ee,de){const ke=Gr+a,tt=ke+c,_t=function ey(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Yr);return o}(ke,tt),qt="function"==typeof ee?ee():ee;return _t[En]={type:t,blueprint:_t,template:o,queries:null,viewQuery:D,declTNode:r,data:_t.slice().fill(null,ke),bindingStartIndex:ke,expandoStartIndex:tt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:k,consts:qt,incompleteFirstPass:!1,ssrId:de}}let F_=t=>null;function zh(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const p=t[c];null===a?ug(o,r,c,p):a.hasOwnProperty(c)&&ug(o,r,a[c],p)}return o}function ug(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function nu(t,r,o,a,c,p,I,D){const k=ho(r,o);let de,ee=r.inputs;!D&&null!=ee&&(de=ee[a])?(hm(t,o,de,a,c),vo(r)&&function ry(t,r){const o=wo(r,t);16&o[dr]||(o[dr]|=64)}(o,r.index)):3&r.type&&(a=function ny(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=I?I(c,r.value||"",a):c,p.setProperty(k,a,c))}function gp(t,r,o,a){if(Ul()){const c=null===a?null:{"":-1},p=function pg(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let p=0;p<o.length;p++){const I=o[p];if(_e(r,I.selectors,!1))if(a||(a=[]),Gs(I))if(null!==I.findHostDirectiveDefs){const D=[];c=c||new Map,I.findHostDirectiveDefs(I,D,c),a.unshift(...D,I),um(t,r,D.length)}else a.unshift(I),um(t,r,0);else c=c||new Map,I.findHostDirectiveDefs?.(I,a,c),a.push(I)}return null===a?null:[a,c]}(t,o);let I,D;null===p?I=D=null:[I,D]=p,null!==I&&hg(t,r,o,I,c,D),c&&function Sf(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const p=o[r[c+1]];if(null==p)throw new xe(-301,!1);a.push(r[c],p)}}}(o,a,c)}o.mergedAttrs=nn(o.mergedAttrs,o.attrs)}function hg(t,r,o,a,c,p){for(let ee=0;ee<a.length;ee++)Gc(El(o,r),t,a[ee].type);!function oy(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let ee=0;ee<a.length;ee++){const de=a[ee];de.providersResolver&&de.providersResolver(de)}let I=!1,D=!1,k=pp(t,r,a.length,null);for(let ee=0;ee<a.length;ee++){const de=a[ee];o.mergedAttrs=nn(o.mergedAttrs,de.hostAttrs),ay(t,o,r,k,de),sy(k,de,c),null!==de.contentQueries&&(o.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(o.flags|=64);const ke=de.type.prototype;!I&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),I=!0),!D&&(ke.ngOnChanges||ke.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),D=!0),k++}!function lm(t,r,o){const c=r.directiveEnd,p=t.data,I=r.attrs,D=[];let k=null,ee=null;for(let de=r.directiveStart;de<c;de++){const ke=p[de],tt=o?o.get(ke):null,qt=tt?tt.outputs:null;k=zh(ke.inputs,de,k,tt?tt.inputs:null),ee=zh(ke.outputs,de,ee,qt);const bn=null===k||null===I||Ye(r)?null:cy(k,de,I);D.push(bn)}null!==k&&(k.hasOwnProperty("class")&&(r.flags|=8),k.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=D,r.inputs=k,r.outputs=ee}(t,o,p)}function _p(t,r,o){const a=o.directiveStart,c=o.directiveEnd,p=o.index,I=function he(){return br.lFrame.currentDirectiveIndex}();try{$i(p);for(let D=a;D<c;D++){const k=t.data[D],ee=r[D];Te(D),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&U_(k,ee)}}finally{$i(-1),Te(I)}}function U_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function um(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function sy(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Gs(r)&&(o[""]=t)}}function ay(t,r,o,a,c){t.data[a]=c;const p=c.factory||(c.factory=Qo(c.type)),I=new yc(p,Gs(c),Tf);t.blueprint[a]=I,o[a]=I,function fg(t,r,o,a,c){const p=c.hostBindings;if(p){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const D=~r.index;(function cm(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(I)!=D&&I.push(D),I.push(o,a,p)}}(t,r,a,pp(t,o,c.hostVars,Yr),c)}function md(t,r,o,a,c,p){const I=ho(t,r);!function dm(t,r,o,a,c,p,I){if(null==p)t.removeAttribute(r,c,o);else{const D=null==I?Oe(p):I(p,a||"",c);t.setAttribute(r,c,D,o)}}(r[tr],I,p,t.value,o,a,c)}function ly(t,r,o,a,c,p){const I=p[r];if(null!==I)for(let D=0;D<I.length;)j_(a,o,I[D++],I[D++],I[D++])}function j_(t,r,o,a,c){const p=vs(null);try{const I=t.inputTransforms;null!==I&&I.hasOwnProperty(a)&&(c=I[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{vs(p)}}function cy(t,r,o){let a=null,c=0;for(;c<o.length;){const p=o[c];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const I=t[p];for(let D=0;D<I.length;D+=2)if(I[D]===r){a.push(p,I[D+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function H_(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function mg(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const p=o[a+1];if(-1!==p){const I=t.data[p];Ut(o[a]),I.contentQueries(2,r[p],p)}}}function vp(t,r){return t[Ko]?t[_o][Wi]=r:t[Ko]=r,t[_o]=r,r}function yp(t,r,o){Ut(0);const a=vs(null);try{r(t,o)}finally{vs(a)}}function gg(t){return t[Ls]||(t[Ls]=[])}function _g(t){return t.cleanup||(t.cleanup=[])}function bp(t,r,o){return(null===t||Gs(t))&&(o=function Ll(t){for(;Array.isArray(t);){if("object"==typeof t[nl])return t;t=t[li]}return null}(o[r.index])),o[tr]}function ji(t,r){const o=t[Hi],a=o?o.get(hh,null):null;a&&a.handleError(r)}function hm(t,r,o,a,c){for(let p=0;p<o.length;){const I=o[p++],D=o[p++];j_(t.data[I],r[I],a,D,c)}}function Ep(t,r){const o=wo(r,t),a=o[En];!function z_(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[li];null!==c&&null===o[Zo]&&(o[Zo]=Vr(c,o[Hi])),Ao(a,o,o[ki])}function Ao(t,r,o){Bi(r);try{const a=t.viewQuery;null!==a&&yp(1,a,o);const c=t.template;null!==c&&k_(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mg(t,r),t.staticViewQueries&&yp(2,t.viewQuery,o);const p=t.components;null!==p&&function Al(t,r){for(let o=0;o<r.length;o++)Ep(t,r[o])}(r,p)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[dr]&=-5,Un()}}let qu=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,p){const I=typeof Zone>"u"?null:Zone.current,D=function Ze(t,r,o){const a=Object.create(gn);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=I=>{a.cleanupFn=I};return a.ref={notify:()=>pa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ki(a))return;a.hasRun=!0;const I=qs(a);try{a.cleanupFn(),a.cleanupFn=Lt,a.fn(c)}finally{Jo(a,I)}},cleanup:()=>a.cleanupFn()},a.ref}(a,de=>{this.all.has(de)&&this.queue.set(de,I)},p);let k;this.all.add(D),D.notify();const ee=()=>{D.cleanup(),k?.(),this.all.delete(D),this.queue.delete(D)};return k=c?.onDestroy(ee),{destroy:ee}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=Pn({token:t,providedIn:"root",factory:()=>new t}),r})();function fm(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,p=0;if(null!==r)for(let I=0;I<r.length;I++){const D=r[I];"number"==typeof D?p=D:1==p?c=lt(c,D):2==p&&(a=lt(a,D+": "+r[++I]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Af(t,r,o,a,c=!1){for(;null!==o;){const p=r[o.index];null!==p&&a.push(Ai(p)),Qr(p)&&$_(p,a);const I=o.type;if(8&I)Af(t,r,o.child,a);else if(32&I){const D=Ac(o,r);let k;for(;k=D();)a.push(k)}else if(16&I){const D=lf(r,o);if(Array.isArray(D))a.push(...D);else{const k=ju(r[zi]);Af(k[En],k,D,a,!0)}}o=c?o.projectionNext:o.next}return a}function $_(t,r){for(let o=Nr;o<t.length;o++){const a=t[o],c=a[En].firstChild;null!==c&&Af(a[En],a,c,r)}t[es]!==t[li]&&r.push(t[es])}function Mf(t,r,o,a=!0){const c=r[Ro],p=c.rendererFactory,I=c.afterRenderEventManager;p.begin?.(),I?.begin();try{G_(t,r,t.template,o)}catch(k){throw a&&ji(r,k),k}finally{p.end?.(),c.effectManager?.flush(),I?.end()}}function G_(t,r,o,a){const c=r[dr];if(256!=(256&c)){r[Ro].effectManager?.flush(),Bi(r);try{Ca(r),function Ot(t){return br.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&k_(t,r,o,2,a);const I=3==(3&c);if(I){const ee=t.preOrderCheckHooks;null!==ee&&Bo(r,ee,null)}else{const ee=t.preOrderHooks;null!==ee&&sc(r,ee,0,null),Su(r,0)}if(function go(t){for(let r=Rd(t);null!==r;r=Sh(r)){if(!r[Vs])continue;const o=r[ha];for(let a=0;a<o.length;a++){xu(o[a])}}}(r),W_(r,2),null!==t.contentQueries&&mg(t,r),I){const ee=t.contentCheckHooks;null!==ee&&Bo(r,ee)}else{const ee=t.contentHooks;null!==ee&&sc(r,ee,1),Su(r,1)}!function Bd(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=O_(r,Yo);try{for(let c=0;c<o.length;c++){const p=o[c];if(p<0)$i(~p);else{const I=p,D=o[++c],k=o[++c];Q(D,I),a.dirty=!1;const ee=qs(a);try{k(2,r[I])}finally{Jo(a,ee)}}}}finally{null===r[Yo]&&P_(r,Yo),$i(-1)}}(t,r);const D=t.components;null!==D&&ua(r,D,0);const k=t.viewQuery;if(null!==k&&yp(2,k,a),I){const ee=t.viewCheckHooks;null!==ee&&Bo(r,ee)}else{const ee=t.viewHooks;null!==ee&&sc(r,ee,2),Su(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[dr]&=-73,Ed(r)}finally{Un()}}}function W_(t,r){for(let o=Rd(t);null!==o;o=Sh(o))for(let a=Nr;a<o.length;a++)q_(o[a],r)}function Bb(t,r,o){q_(wo(r,t),o)}function q_(t,r){if(!function Fc(t){return 128==(128&t[dr])}(t))return;const o=t[En],a=t[dr];if(80&a&&0===r||1024&a||2===r)G_(o,t,o.template,t[ki]);else if(t[Fs]>0){W_(t,1);const c=o.components;null!==c&&ua(t,c,1)}}function ua(t,r,o){for(let a=0;a<r.length;a++)Bb(t,r[a],o)}class Rf{get rootNodes(){const r=this._lView,o=r[En];return Af(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(r){this._lView[ki]=r}get destroyed(){return 256==(256&this._lView[dr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[ci];if(Qr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(T(r,a),$l(o,a))}this._attachedToViewContainer=!1}Y(this._lView[En],this._lView)}onDestroy(r){!function Lc(t,r){if(256==(256&t[dr]))throw new xe(911,!1);null===t[Ea]&&(t[Ea]=[]),t[Ea].push(r)}(this._lView,r)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[dr]&=-129}reattach(){this._lView[dr]|=128}detectChanges(){Mf(this._lView[En],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kp(t,r){cf(t,r,r[tr],2,null,null)}(this._lView[En],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=r}}class hy extends Rf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Mf(r[En],r,r[ki],!1)}checkNoChanges(){}get context(){return null}}class K_ extends Bh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=yr(r);return new wp(o,this.ngModule)}}function yg(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class py{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=xn(a);const c=this.injector.get(r,Ef,a);return c!==Ef||o===Ef?c:this.parentInjector.get(r,o,a)}}class wp extends Ud{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=yg(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return yg(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Be(t){return t.map(Ie).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){let p=(c=c||this.ngModule)instanceof yu?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const I=p?new py(r,p):r,D=I.get(Kp,null);if(null===D)throw new xe(407,!1);const ke={rendererFactory:D,sanitizer:I.get(Xl,null),effectManager:I.get(qu,null),afterRenderEventManager:I.get(dp,null)},tt=D.createRenderer(null,this.componentDef),_t=this.componentDef.selectors[0][0]||"div",qt=a?function ag(t,r,o,a){const p=a.get(I_,!1)||o===zt.ShadowDom,I=t.selectRootElement(r,p);return function lg(t){F_(t)}(I),I}(tt,a,this.componentDef.encapsulation,I):Cl(tt,_t,function fy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(_t)),Dr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ln=null;null!==qt&&(ln=Vr(qt,I,!0));const fi=og(0,null,null,1,0,null,null,null,null,null,null),Li=sm(null,fi,null,Dr,null,null,ke,tt,I,null,ln);let Zs,Iu;Bi(Li);try{const tf=this.componentDef;let Tm,kb=null;tf.findHostDirectiveDefs?(Tm=[],kb=new Map,tf.findHostDirectiveDefs(tf,Tm,kb),Tm.push(tf)):Tm=[tf];const WT=function jb(t,r){const o=t[En],a=Gr;return t[a]=r,Df(o,a,2,"#host",null)}(Li,qt),qT=function gy(t,r,o,a,c,p,I){const D=c[En];!function _y(t,r,o,a){for(const c of t)r.mergedAttrs=nn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(fm(r,r.mergedAttrs,!0),null!==o&&jf(a,o,r))}(a,t,r,I);let k=null;null!==r&&(k=Vr(r,c[Hi]));const ee=p.rendererFactory.createRenderer(r,o);let de=16;o.signals?de=4096:o.onPush&&(de=64);const ke=sm(c,N_(o),null,de,c[t.index],t,p,ee,null,null,k);return D.firstCreatePass&&um(D,t,a.length-1),vp(c,ke),c[t.index]=ke}(WT,qt,tf,Tm,Li,ke,tt);Iu=Nc(fi,Gr),qt&&function Ip(t,r,o,a){if(a)cs(t,o,["ng-version",Zm.full]);else{const{attrs:c,classes:p}=function nt(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===c?""!==p&&r.push(p,t[++a]):8===c&&o.push(p);else{if(!$(c))break;c=p}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&cs(t,o,c),p&&p.length>0&&Wo(t,o,p.join(" "))}}(tt,tf,qt,a),void 0!==o&&function vy(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const p=o[c];a.push(null!=p?Array.from(p):null)}}(Iu,this.ngContentSelectors,o),Zs=function Z_(t,r,o,a,c,p){const I=ss(),D=c[En],k=ho(I,c);hg(D,c,I,o,null,a);for(let de=0;de<o.length;de++)va(wl(c,D,I.directiveStart+de,I),c);_p(D,c,I),k&&va(k,c);const ee=wl(c,D,I.directiveStart+I.componentOffset,I);if(t[ki]=c[ki]=ee,null!==p)for(const de of p)de(ee,r);return sg(D,I,t),ee}(qT,tf,Tm,kb,Li,[fh]),Ao(fi,Li,null)}finally{Un()}return new my(this.componentType,Zs,yf(Iu,Li),Li,Iu)}}class my extends ch{constructor(r,o,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new hy(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const p=this._rootLView;hm(p[En],p,c,r,o),this.previousInputValues.set(r,o),Hh(wo(this._tNode.index,p))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function fh(){const t=ss();Rs(Yt()[En],t)}function Y_(t){let r=function jd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if(Gs(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new xe(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const I=t;I.inputs=Gh(t.inputs),I.inputTransforms=Gh(t.inputTransforms),I.declaredInputs=Gh(t.declaredInputs),I.outputs=Gh(t.outputs);const D=c.hostBindings;D&&Q_(t,D);const k=c.viewQuery,ee=c.contentQueries;if(k&&yy(t,k),ee&&by(t,ee),Ce(t.inputs,c.inputs),Ce(t.declaredInputs,c.declaredInputs),Ce(t.outputs,c.outputs),null!==c.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),Ce(I.inputTransforms,c.inputTransforms)),Gs(c)&&c.data.animation){const de=t.data;de.animation=(de.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let I=0;I<p.length;I++){const D=p[I];D&&D.ngInherit&&D(t),D===Y_&&(o=!1)}}r=Object.getPrototypeOf(r)}!function $h(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=nn(c.hostAttrs,o=nn(o,c.hostAttrs))}}(a)}function Gh(t){return t===mn?{}:t===en?[]:t}function yy(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function by(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,p)=>{r(a,c,p),o(a,c,p)}:r}function Q_(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function nv(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Pf(t){return!!Hd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ku(t,r,o){return t[r]=o}function Ra(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Kh(t,r,o,a){const c=Ra(t,r,o);return Ra(t,r+1,a)||c}function mm(t,r,o,a){const c=Yt();return Ra(c,x(),r)&&(di(),md(rn(),c,t,r,o,a)),mm}function kf(t,r,o,a){return Ra(t,x(),o)?r+Oe(o)+a:Yr}function mv(t,r,o,a,c,p,I,D){const k=Yt(),ee=di(),de=t+Gr,ke=ee.firstCreatePass?function Ny(t,r,o,a,c,p,I,D,k){const ee=r.consts,de=Df(r,t,4,I||null,ta(ee,D));gp(r,o,de,ta(ee,k)),Rs(r,de);const ke=de.tView=og(2,de,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,ee,null);return null!==r.queries&&(r.queries.template(r,de),ke.queries=r.queries.embeddedTView(de)),de}(de,ee,k,r,o,a,c,p,I):ee.data[de];Xt(ke,!1);const tt=gv(ee,k,ke,t);bl()&&Ma(ee,k,tt,ke),va(tt,k),vp(k,k[de]=H_(tt,k,tt,ke)),Us(ke)&&om(ee,k,ke),null!=I&&am(k,ke,D)}let gv=function ef(t,r,o,a){return Ta(!0),r[tr].createComment("")};function _v(t){return function gl(t,r){return t[r]}(function Bl(){return br.lFrame.contextLView}(),Gr+t)}function Sg(t,r,o){const a=Yt();return Ra(a,x(),r)&&nu(di(),rn(),a,t,r,a[tr],o,!1),Sg}function Ag(t,r,o,a,c){const I=c?"class":"style";hm(t,o,r.inputs[I],I,a)}function Mg(t,r,o,a){const c=Yt(),p=di(),I=Gr+t,D=c[tr],k=p.firstCreatePass?function Ly(t,r,o,a,c,p){const I=r.consts,k=Df(r,t,2,a,ta(I,c));return gp(r,o,k,ta(I,p)),null!==k.attrs&&fm(k,k.attrs,!1),null!==k.mergedAttrs&&fm(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(I,p,c,r,o,a):p.data[I],ee=Vy(p,c,k,D,r,t);c[I]=ee;const de=Us(k);return Xt(k,!0),jf(D,ee,k),32!=(32&k.flags)&&bl()&&Ma(p,c,ee,k),0===function Vc(){return br.lFrame.elementDepthCount}()&&va(ee,c),function ou(){br.lFrame.elementDepthCount++}(),de&&(om(p,c,k),sg(p,k,c)),null!==a&&am(c,k),Mg}function Rg(){let t=ss();Jn()?Io():(t=t.parent,Xt(t,!1));const r=t;(function sl(t){return br.skipHydrationRootTNode===t})(r)&&function jc(){br.skipHydrationRootTNode=null}(),function nc(){br.lFrame.elementDepthCount--}();const o=di();return o.firstCreatePass&&(Rs(o,t),Ol(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function qd(t){return 0!=(8&t.flags)}(r)&&Ag(o,r,Yt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function uu(t){return 0!=(16&t.flags)}(r)&&Ag(o,r,Yt(),r.stylesWithoutHost,!1),Rg}function vv(t,r,o,a){return Mg(t,r,o,a),Rg(),vv}let Vy=(t,r,o,a,c,p)=>(Ta(!0),Cl(a,c,function na(){return br.lFrame.currentNamespace}()));function bv(){return Yt()}function kg(t){return!!t&&"function"==typeof t.then}function Ev(t){return!!t&&"function"==typeof t.subscribe}function Ng(t,r,o,a){const c=Yt(),p=di(),I=ss();return $y(p,c,c[tr],I,t,r,a),Ng}function Fg(t,r){const o=ss(),a=Yt(),c=di();return $y(c,a,bp(gt(c.data),o,a),o,t,r),Fg}function $y(t,r,o,a,c,p,I){const D=Us(a),ee=t.firstCreatePass&&_g(t),de=r[ki],ke=gg(r);let tt=!0;if(3&a.type||I){const bn=ho(a,r),jn=I?I(bn):bn,Dr=ke.length,ln=I?Li=>I(Ai(Li[a.index])):a.index;let fi=null;if(!I&&D&&(fi=function Wb(t,r,o,a){const c=t.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const I=c[p];if(I===o&&c[p+1]===a){const D=r[Ls],k=c[p+2];return D.length>k?D[k]:null}"string"==typeof I&&(p+=2)}return null}(t,r,c,a.index)),null!==fi)(fi.__ngLastListenerFn__||fi).__ngNextListenerFn__=p,fi.__ngLastListenerFn__=p,tt=!1;else{p=i(a,r,de,p,!1);const Li=o.listen(jn,c,p);ke.push(p,Li),ee&&ee.push(c,ln,Dr,Dr+1)}}else p=i(a,r,de,p,!1);const _t=a.outputs;let qt;if(tt&&null!==_t&&(qt=_t[c])){const bn=qt.length;if(bn)for(let jn=0;jn<bn;jn+=2){const Zs=r[qt[jn]][qt[jn+1]].subscribe(p),Iu=ke.length;ke.push(p,Zs),ee&&ee.push(c,a.index,Iu,-(Iu+1))}}}function Lg(t,r,o,a){try{return rs(6,r,o),!1!==o(a)}catch(c){return ji(t,c),!1}finally{rs(7,r,o)}}function i(t,r,o,a,c){return function p(I){if(I===Function)return a;Hh(t.componentOffset>-1?wo(t.index,r):r);let k=Lg(r,o,a,I),ee=p.__ngNextListenerFn__;for(;ee;)k=Lg(r,o,ee,I)&&k,ee=ee.__ngNextListenerFn__;return c&&!1===k&&I.preventDefault(),k}}function e(t=1){return function Ga(t){return(br.lFrame.contextLView=function gi(t,r){for(;t>0;)r=r[Xs],t--;return r}(t,br.lFrame.contextLView))[ki]}(t)}function n(t,r){let o=null;const a=function je(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?_e(t,p,!0):fe(a,p))return c}else o=c}return o}function s(t){const r=Yt()[zi][ds];if(!r.projection){const a=r.projection=ga(t?t.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const I=t?n(p,t):0;null!==I&&(c[I]?c[I].projectionNext=p:a[I]=p,c[I]=p),p=p.next}}}function l(t,r=0,o){const a=Yt(),c=di(),p=Df(c,Gr+t,16,null,o||null);null===p.projection&&(p.projection=r),Io(),(!a[Zo]||Vo())&&32!=(32&p.flags)&&function Zg(t,r,o){Bf(r[tr],0,r,o,it(t,o,r),ya(o.parent||r[ds],o,r))}(c,a,p)}function d(t,r,o){return v(t,"",r,"",o),d}function v(t,r,o,a,c){const p=Yt(),I=kf(p,r,o,a);return I!==Yr&&nu(di(),rn(),p,t,I,p[tr],c,!1),v}function wn(t,r){return t<<17|r<<2}function Dn(t){return t>>17&32767}function wr(t){return 2|t}function ai(t){return(131068&t)>>2}function ms(t,r){return-131069&t|r<<2}function Ml(t){return 1|t}function Ap(t,r,o,a,c){const p=t[o+1],I=null===r;let D=a?Dn(p):ai(p),k=!1;for(;0!==D&&(!1===k||I);){const de=t[D+1];Wy(t[D],r)&&(k=!0,t[D+1]=a?Ml(de):wr(de)),D=a?Dn(de):ai(de)}k&&(t[o+1]=a?wr(p):Ml(p))}function Wy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&fu(t,r)>=0}function qy(t,r){return function Gd(t,r,o,a){const c=Yt(),p=di(),I=function R(t){const r=br.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);p.firstUpdatePass&&function e0(t,r,o,a){const c=t.data;if(null===c[o+1]){const p=c[Uo()],I=function Jb(t,r){return r>=t.expandoStartIndex}(t,o);(function s0(t,r){return 0!=(t.flags&(r?8:16))})(p,a)&&null===r&&!I&&(r=!1),r=function $w(t,r,o,a){const c=gt(t);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Vg(o=Ky(null,t,r,o,a),r.attrs,a),p=null);else{const I=r.directiveStylingLast;if(-1===I||t[I]!==c)if(o=Ky(c,t,r,o,a),null===p){let k=function Gw(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==ai(a))return t[Dn(a)]}(t,r,a);void 0!==k&&Array.isArray(k)&&(k=Ky(null,t,r,k[1],a),k=Vg(k,r.attrs,a),function Ww(t,r,o,a){t[Dn(o?r.classBindings:r.styleBindings)]=a}(t,r,a,k))}else p=function qw(t,r,o){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=Vg(a,t[p].hostAttrs,o);return Vg(a,r.attrs,o)}(t,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),o}(c,p,r,a),function Gy(t,r,o,a,c,p){let I=p?r.classBindings:r.styleBindings,D=Dn(I),k=ai(I);t[a]=o;let de,ee=!1;if(Array.isArray(o)?(de=o[1],(null===de||fu(o,de)>0)&&(ee=!0)):de=o,c)if(0!==k){const tt=Dn(t[D+1]);t[a+1]=wn(tt,D),0!==tt&&(t[tt+1]=ms(t[tt+1],a)),t[D+1]=function bi(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=wn(D,0),0!==D&&(t[D+1]=ms(t[D+1],a)),D=a;else t[a+1]=wn(k,0),0===D?D=a:t[k+1]=ms(t[k+1],a),k=a;ee&&(t[a+1]=wr(t[a+1])),Ap(t,de,a,!0),Ap(t,de,a,!1),function wv(t,r,o,a,c){const p=c?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof r&&fu(p,r)>=0&&(o[a+1]=Ml(o[a+1]))}(r,de,t,a,p),I=wn(D,k),p?r.classBindings=I:r.styleBindings=I}(c,p,r,o,I,a)}}(p,t,I,a),r!==Yr&&Ra(c,I,r)&&function n0(t,r,o,a,c,p,I,D){if(!(3&r.type))return;const k=t.data,ee=k[D+1],de=function Mo(t){return 1==(1&t)}(ee)?r0(k,r,o,c,ai(ee),I):void 0;Cv(de)||(Cv(p)||function hi(t){return 2==(2&t)}(ee)&&(p=r0(k,null,o,c,D,I)),function Sm(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let p=-1===a.indexOf("-")?void 0:Za.DashCase;null==c?t.removeStyle(o,a,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=Za.Important),t.setStyle(o,a,c,p))}}(a,I,Vl(Uo(),o),c,p))}(p,p.data[Uo()],c,c[tr],t,c[I+1]=function Qw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=$e(ud(t)))),t}(r,o),a,I)}(t,r,null,!0),qy}function Ky(t,r,o,a,c){let p=null;const I=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<I&&(p=r[D],a=Vg(a,p.hostAttrs,c),p!==t);)D++;return null!==t&&(o.directiveStylingLast=D),a}function Vg(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const I=r[p];"number"==typeof I?c=I:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zo(t,I,!!o||r[++p]))}return void 0===t?null:t}function r0(t,r,o,a,c,p){const I=null===r;let D;for(;c>0;){const k=t[c],ee=Array.isArray(k),de=ee?k[1]:k,ke=null===de;let tt=o[c+1];tt===Yr&&(tt=ke?en:void 0);let _t=ke?Ru(tt,a):de===a?tt:void 0;if(ee&&!Cv(_t)&&(_t=Ru(k,a)),Cv(_t)&&(D=_t,I))return D;const qt=t[c+1];c=I?Dn(qt):ai(qt)}if(null!==r){let k=p?r.residualClasses:r.residualStyles;null!=k&&(D=Ru(k,a))}return D}function Cv(t){return void 0!==t}function o0(t,r=""){const o=Yt(),a=di(),c=t+Gr,p=a.firstCreatePass?Df(a,c,1,r,null):a.data[c],I=a0(a,o,p,r,t);o[c]=I,bl()&&Ma(a,o,I,p),Xt(p,!1)}let a0=(t,r,o,a,c)=>(Ta(!0),function Od(t,r){return t.createText(r)}(r[tr],a));function Zy(t){return xv("",t,""),Zy}function xv(t,r,o){const a=Yt(),c=kf(a,t,r,o);return c!==Yr&&function gd(t,r,o){const a=Vl(r,t);!function Kl(t,r,o){t.setValue(r,o)}(t[tr],a,o)}(a,Uo(),c),xv}function Yy(t,r,o){const a=Yt();return Ra(a,x(),r)&&nu(di(),rn(),a,t,r,a[tr],o,!0),Yy}function Qy(t,r,o){const a=Yt();if(Ra(a,x(),r)){const p=di(),I=rn();nu(p,I,a,t,r,bp(gt(p.data),I,a),o,!0)}return Qy}const Mp=void 0;var yI=["en",[["a","p"],["AM","PM"],Mp],[["AM","PM"],Mp,Mp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mp,"{1} 'at' {0}",Mp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vI(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let bm={};function Xy(t){const r=function bI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=T0(r);if(o)return o;const a=r.split("-")[0];if(o=T0(a),o)return o;if("en"===a)return yI;throw new xe(701,!1)}function x0(t){return Xy(t)[Em.PluralCase]}function T0(t){return t in bm||(bm[t]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[t]),bm[t]}var Em=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Em||{});const wm="en-US";let D0=wm;function tb(t,r,o,a,c){if(t=At(t),Array.isArray(t))for(let p=0;p<t.length;p++)tb(t[p],r,o,a,c);else{const p=di(),I=Yt(),D=ss();let k=eu(t)?t:At(t.provide);const ee=np(t),de=1048575&D.providerIndexes,ke=D.directiveStart,tt=D.providerIndexes>>20;if(eu(t)||!t.multi){const _t=new yc(ee,c,Tf),qt=rb(k,r,c?de:de+tt,ke);-1===qt?(Gc(El(D,I),p,k),nb(p,t,r.length),r.push(k),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(_t),I.push(_t)):(o[qt]=_t,I[qt]=_t)}else{const _t=rb(k,r,de+tt,ke),qt=rb(k,r,de,de+tt),jn=qt>=0&&o[qt];if(c&&!jn||!c&&!(_t>=0&&o[_t])){Gc(El(D,I),p,k);const Dr=function vC(t,r,o,a,c){const p=new yc(t,o,Tf);return p.multi=[],p.index=r,p.componentProviders=0,X0(p,c,a&&!o),p}(c?_C:gC,o.length,c,a,ee);!c&&jn&&(o[qt].providerFactory=Dr),nb(p,t,r.length,0),r.push(k),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(Dr),I.push(Dr)}else nb(p,t,_t>-1?_t:qt,X0(o[c?qt:_t],ee,!c&&a));!c&&a&&jn&&o[qt].componentProviders++}}}function nb(t,r,o,a){const c=eu(r),p=function Gm(t){return!!t.useClass}(r);if(c||p){const k=(p?At(r.useClass):r).prototype.ngOnDestroy;if(k){const ee=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const de=ee.indexOf(o);-1===de?ee.push(o,[a,k]):ee[de+1].push(a,k)}else ee.push(o,k)}}}function X0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function rb(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function gC(t,r,o,a){return ib(this.multi,[])}function _C(t,r,o,a){const c=this.multi;let p;if(this.providerFactory){const I=this.providerFactory.componentProviders,D=wl(o,o[En],this.providerFactory.index,a);p=D.slice(0,I),ib(c,p);for(let k=I;k<D.length;k++)p.push(D[k])}else p=[],ib(c,p);return p}function ib(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function J0(t,r=[]){return o=>{o.providersResolver=(a,c)=>function mC(t,r,o){const a=di();if(a.firstCreatePass){const c=Gs(t);tb(o,a.data,a.blueprint,c,!0),tb(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Rp{}class eE{}function yC(t,r){return new sb(t,r??null,[])}class sb extends Rp{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K_(this);const c=Kr(r);this._bootstrapComponents=kc(c.bootstrap),this._r3Injector=wf(r,o,[{provide:Rp,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver},...a],$e(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ob extends eE{constructor(r){super(),this.moduleType=r}create(r){return new sb(this.moduleType,r,[])}}class tE extends Rp{constructor(r){super(),this.componentFactoryResolver=new K_(this),this.instance=null;const o=new tp([...r.providers,{provide:Rp,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],r.parent||ep(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function nE(t,r,o=null){return new tE({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let EC=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Gp(0,a.type),p=c.length>0?nE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,p)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Pn({token:t,providedIn:"environment",factory:()=>new t(mt(yu))}),r})();function rE(t){t.getStandaloneInjector=r=>r.get(EC).getOrCreateStandaloneInjector(t)}function uE(t,r,o,a){return function hE(t,r,o,a,c,p){const I=r+o;return Ra(t,I,c)?Ku(t,I+1,p?a.call(p,c):a(c)):function $g(t,r){const o=t[r];return o===Yr?void 0:o}(t,I+1)}(Yt(),fo(),t,r,o,a)}function dE(t,r,o,a,c,p,I,D){const k=fo()+t,ee=Yt(),de=function pc(t,r,o,a,c,p){const I=Kh(t,r,o,a);return Kh(t,r+2,c,p)||I}(ee,k,o,a,c,p);return Ra(ee,k+4,I)||de?Ku(ee,k+5,D?r.call(D,o,a,c,p,I):r(o,a,c,p,I)):function qh(t,r){return t[r]}(ee,k+5)}function GC(){return this._results[Symbol.iterator]()}class lb{get changes(){return this._changes||(this._changes=new pd)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=lb.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=GC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Ti(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function gr(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],p=r[a];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qC(t,r,o,a=!0){const c=r[En];if(function B(t,r,o,a){const c=Nr+a,p=o.length;a>0&&(o[c-1][Wi]=r),a<p-Nr?(r[Wi]=o[c],Ho(o,Nr+a,r)):(o.push(r),r[Wi]=null),r[ci]=o;const I=r[Pa];null!==I&&o!==I&&function h(t,r){const o=t[ha];r[zi]!==r[ci][ci][zi]&&(t[Vs]=!0),null===o?t[ha]=[r]:o.push(r)}(I,r);const D=r[so];null!==D&&D.insertView(t),r[dr]|=128}(c,r,t,o),a){const p=kd(o,t),I=r[tr],D=po(I,t[es]);null!==D&&function Uf(t,r,o,a,c,p){a[li]=c,a[ds]=r,cf(t,a,o,1,c,p)}(c,t[ds],I,r,D,p)}}let Wg=(()=>{class r{}return r.__NG_ELEMENT_ID__=YC,r})();const KC=Wg,ZC=class extends KC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function WC(t,r,o,a){const c=r.tView,D=sm(t,c,o,4096&t[dr]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);D[Pa]=t[r.index];const ee=t[so];return null!==ee&&(D[so]=ee.createEmbeddedView(c)),Ao(c,D,o),D}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Rf(c)}};function YC(){return Mv(ss(),Yt())}function Mv(t,r){return 4&t.type?new ZC(r,t,yf(t,r)):null}let Ov=(()=>{class r{}return r.__NG_ELEMENT_ID__=nx,r})();function nx(){return IE(ss(),Yt())}const rx=Ov,EE=class extends rx{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return yf(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const r=oc(this._hostTNode,this._hostLView);if(Yi(r)){const o=eo(r,this._hostLView),a=ra(r);return new xo(o[En].data[a+8],o)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=wE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(r,o,a){let c,p;"number"==typeof a?c=a:null!=a&&(c=a.index,p=a.injector);const D=r.createEmbeddedViewImpl(o||{},p,null);return this.insertImpl(D,c,false),D}createComponent(r,o,a,c,p){const I=r&&!function Ts(t){return"function"==typeof t}(r);let D;if(I)D=o;else{const bn=o||{};D=bn.index,a=bn.injector,c=bn.projectableNodes,p=bn.environmentInjector||bn.ngModuleRef}const k=I?r:new wp(yr(r)),ee=a||this.parentInjector;if(!p&&null==k.ngModule){const jn=(I?ee:this.parentInjector).get(yu,null);jn&&(p=jn)}yr(k.componentType??{});const _t=k.create(ee,c,null,p);return this.insertImpl(_t.hostView,D,false),_t}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Cu(t){return Qr(t[ci])}(c)){const k=this.indexOf(r);if(-1!==k)this.detach(k);else{const ee=c[ci],de=new EE(ee,ee[ds],ee[ci]);de.detach(de.indexOf(r))}}const I=this._adjustIndex(o),D=this._lContainer;return qC(D,c,I,!a),r.attachToViewContainerRef(),Ho(cb(D),I,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=wE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=T(this._lContainer,o);a&&($l(cb(this._lContainer),o),Y(a[En],a))}detach(r){const o=this._adjustIndex(r,-1),a=T(this._lContainer,o);return a&&null!=$l(cb(this._lContainer),o)?new Rf(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function wE(t){return t[8]}function cb(t){return t[8]||(t[8]=[])}function IE(t,r){let o;const a=r[t.index];return Qr(a)?o=a:(o=H_(a,r,null,t),r[t.index]=o,vp(r,o)),CE(o,r,t,a),new EE(o,t,r)}let CE=function xE(t,r,o,a){if(t[es])return;let c;c=8&o.type?Ai(a):function ix(t,r){const o=t[tr],a=o.createComment(""),c=ho(r,t);return On(o,po(o,c),a,function So(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[es]=c};class ub{constructor(r){this.queryList=r,this.matches=null}clone(){return new ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class db{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let p=0;p<a;p++){const I=o.getByIndex(p);c.push(this.queries[I.indexInDeclarationView].clone())}return new db(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==kE(r,o).matches&&this.queries[o].setDirty()}}class TE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class hb{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new hb(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class fb{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new fb(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,o,ax(o,p)),this.matchTNodeWithReadOption(r,o,Cc(o,r,p,!1,!1))}else a===Wg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Cc(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===bf||c===Ov||c===Wg&&4&o.type)this.addMatch(o.index,-2);else{const p=Cc(o,r,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ax(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function cx(t,r,o,a){return-1===o?function lx(t,r){return 11&t.type?yf(t,r):4&t.type?Mv(t,r):null}(r,t):-2===o?function ux(t,r,o){return o===bf?yf(r,t):o===Wg?Mv(r,t):o===Ov?IE(r,t):void 0}(t,r,a):wl(t,t[En],o,r)}function DE(t,r,o,a){const c=r[so].queries[a];if(null===c.matches){const p=t.data,I=o.matches,D=[];for(let k=0;k<I.length;k+=2){const ee=I[k];D.push(ee<0?null:cx(r,p[ee],I[k+1],o.metadata.read))}c.matches=D}return c.matches}function pb(t,r,o,a){const c=t.queries.getByIndex(o),p=c.matches;if(null!==p){const I=DE(t,r,c,o);for(let D=0;D<p.length;D+=2){const k=p[D];if(k>0)a.push(I[D/2]);else{const ee=p[D+1],de=r[-k];for(let ke=Nr;ke<de.length;ke++){const tt=de[ke];tt[Pa]===tt[ci]&&pb(tt[En],tt,ee,a)}if(null!==de[ha]){const ke=de[ha];for(let tt=0;tt<ke.length;tt++){const _t=ke[tt];pb(_t[En],_t,ee,a)}}}}}return a}function SE(t){const r=Yt(),o=di(),a=hn();Ut(a+1);const c=kE(o,a);if(t.dirty&&function _l(t){return 4==(4&t[dr])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const p=c.crossesNgTemplate?pb(o,r,a,[]):DE(o,r,c,a);t.reset(p,qp),t.notifyOnChanges()}return!0}return!1}function AE(t,r,o){const a=di();a.firstCreatePass&&(PE(a,new TE(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),OE(a,Yt(),r)}function ME(t,r,o,a){const c=di();if(c.firstCreatePass){const p=ss();PE(c,new TE(r,o,a),p.index),function hx(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}OE(c,Yt(),o)}function RE(){return function dx(t,r){return t[so].queries[r].queryList}(Yt(),hn())}function OE(t,r,o){const a=new lb(4==(4&o));(function cg(t,r,o,a){const c=gg(r);c.push(o),t.firstCreatePass&&_g(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[so]&&(r[so]=new db),r[so].queries.push(new ub(a))}function PE(t,r,o){null===t.queries&&(t.queries=new hb),t.queries.track(new fb(r,o))}function kE(t,r){return t.queries.getByIndex(r)}function NE(t,r){return Mv(t,r)}function mb(t){return!!Kr(t)}const XE=new as("Application Initializer");let bb=(()=>{var t;class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Ht(XE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const p of this.appInits){const I=p();if(kg(I))a.push(I);else if(Ev(I)){const D=new Promise((k,ee)=>{I.subscribe({complete:k,error:ee})});a.push(D)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(p=>{this.reject(p)}),0===a.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),JE=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const kv=new as("LocaleId",{providedIn:"root",factory:()=>Ht(kv,An.Optional|An.SkipSelf)||function Px(){return typeof $localize<"u"&&$localize.locale||wm}()}),kx=new as("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ew=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Fx{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Lx=(()=>{var t;class r{compileModuleSync(a){return new ob(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),I=kc(Kr(a).declarations).reduce((D,k)=>{const ee=yr(k);return ee&&D.push(new wp(ee)),D},[]);return new Fx(c,I)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const iw=new as(""),sw=new as("");let Ib,rT=(()=>{var t;class r{constructor(a,c,p){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ib||(function iT(t){Ib=t}(p),p.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{el.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,p){let I=-1;c&&c>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==I),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:I,updateCb:p})}whenStable(a,c,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,p){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(mt(el),mt(ow),mt(sw))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac}),r})(),ow=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Ib?.findTestabilityInTree(this,a,c)??null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Vf=null;const aw=new as("AllowMultipleToken"),Cb=new as("PlatformDestroyListeners"),xb=new as("appBootstrapListener");class aT{constructor(r,o){this.name=r,this.token=o}}function uw(t,r,o=[]){const a=`Platform: ${r}`,c=new as(a);return(p=[])=>{let I=Tb();if(!I||I.injector.get(aw,!1)){const D=[...o,...p,{provide:c,useValue:!0}];t?t(D):function lT(t){if(Vf&&!Vf.get(aw,!1))throw new xe(400,!1);(function lw(){!function Ba(t){Ci=t}(()=>{throw new xe(600,!1)})})(),Vf=t;const r=t.get(hw);(function cw(t){t.get(me,null)?.forEach(o=>o())})(t)}(function dw(t=[],r){return tu.create({name:r,providers:[{provide:$u,useValue:"platform"},{provide:Cb,useValue:new Set([()=>Vf=null])},...t]})}(D,a))}return function uT(t){const r=Tb();if(!r)throw new xe(401,!1);return r}()}}function Tb(){return Vf?.get(hw)??null}let hw=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const p=function dT(t="zone.js",r){return"noop"===t?new Zv:"zone.js"===t?new el(r):t}(c?.ngZone,function fw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return p.run(()=>{const I=function bC(t,r,o){return new sb(t,r,o)}(a.moduleType,this.injector,function vw(t){return[{provide:el,useFactory:t},{provide:fd,multi:!0,useFactory:()=>{const r=Ht(fT,{optional:!0});return()=>r.initialize()}},{provide:_w,useFactory:hT},{provide:b_,useFactory:eg}]}(()=>p)),D=I.injector.get(hh,null);return p.runOutsideAngular(()=>{const k=p.onError.subscribe({next:ee=>{D.handleError(ee)}});I.onDestroy(()=>{Fv(this._modules,I),k.unsubscribe()})}),function pw(t,r,o){try{const a=o();return kg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(D,p,()=>{const k=I.injector.get(bb);return k.runInitializers(),k.donePromise.then(()=>(function S0(t){Ft(t,"Expected localeId to be defined"),"string"==typeof t&&(D0=t.toLowerCase().replace(/_/g,"-"))}(I.injector.get(kv,wm)||wm),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const p=mw({},c);return function sT(t,r,o){const a=new ob(o);return Promise.resolve(a)}(0,0,a).then(I=>this.bootstrapModuleFactory(I,p))}_moduleDoBootstrap(a){const c=a.injector.get(xm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>c.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new xe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Cb,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(mt(tu))},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function mw(t,r){return Array.isArray(r)?r.reduce(mw,t):{...t,...r}}let xm=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ht(_w),this.zoneIsStable=Ht(b_),this.componentTypes=[],this.components=[],this.isStable=Ht(ew).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,Se.of)(!1):this.zoneIsStable),(0,Fe.x)(),(0,Le.B)()),this._injector=Ht(yu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const p=a instanceof Ud;if(!this._injector.get(bb).done)throw!p&&Ds(a),new xe(405,!1);let D;D=p?a:this._injector.get(Bh).resolveComponentFactory(a),this.componentTypes.push(D.componentType);const k=function oT(t){return t.isBoundToModule}(D)?void 0:this._injector.get(Rp),de=D.create(tu.NULL,[],c||D.selector,k),ke=de.location.nativeElement,tt=de.injector.get(iw,null);return tt?.registerApplication(ke),de.onDestroy(()=>{this.detachView(de.hostView),Fv(this.components,de),tt?.unregisterApplication(ke)}),this._loadComponent(de),de}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Fv(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(xb,[]);c.push(...this._bootstrapListeners),c.forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Fv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new xe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function Fv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const _w=new as("",{providedIn:"root",factory:()=>Ht(hh).handleError.bind(void 0)});function hT(){const t=Ht(el),r=Ht(hh);return o=>t.runOutsideAngular(()=>r.handleError(o))}let fT=(()=>{var t;class r{constructor(){this.zone=Ht(el),this.applicationRef=Ht(xm)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Pn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function mT(){return!1}let gT=(()=>{class r{}return r.__NG_ELEMENT_ID__=_T,r})();function _T(t){return function vT(t,r,o){if(vo(t)&&!o){const a=wo(t.index,r);return new Rf(a,a)}return 47&t.type?new Rf(r[zi],r):null}(ss(),Yt(),16==(16&t))}class ww{constructor(){}supports(r){return Pf(r)}create(r){return new CT(r)}}const IT=(t,r)=>r;class CT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||IT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,p=null;for(;o||a;){const I=!a||o&&o.currentIndex<Cw(a,c,p)?o:a,D=Cw(I,c,p),k=I.currentIndex;if(I===a)c--,a=a._nextRemoved;else if(o=o._next,null==I.previousIndex)c++;else{p||(p=[]);const ee=D-c,de=k-c;if(ee!=de){for(let tt=0;tt<ee;tt++){const _t=tt<p.length?p[tt]:p[tt]=0,qt=_t+tt;de<=qt&&qt<ee&&(p[tt]=_t+1)}p[I.previousIndex]=de-ee}}D!==k&&r(I,D,k)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Pf(r))throw new xe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,I,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)p=r[D],I=this._trackByFn(D,p),null!==o&&Object.is(o.trackById,I)?(a&&(o=this._verifyReinsertion(o,p,I,D)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,I,D),a=!0),o=o._next}else c=0,function rv(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,D=>{I=this._trackByFn(c,D),null!==o&&Object.is(o.trackById,I)?(a&&(o=this._verifyReinsertion(o,D,I,c)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,I,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,p,c)):r=this._addAfter(new xT(o,a),p,c),r}_verifyReinsertion(r,o,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Iw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class xT{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Iw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new TT,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cw(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class xw{constructor(){}supports(r){return r instanceof Map||Hd(r)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Hd(r)))throw new xe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const p=c._prev,I=c._next;return p&&(p._next=I),I&&(I._prev=p),c._next=null,c._prev=null,c}const a=new ST(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class ST{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tw(){return new Rb([new ww])}let Rb=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const p=c.factories.slice();a=a.concat(p)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Tw()),deps:[[r,new $t,new Xe]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(null!=c)return c;throw new xe(901,!1)}}return(t=r).\u0275prov=Pn({token:t,providedIn:"root",factory:Tw}),r})();function Dw(){return new Ob([new xw])}let Ob=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(c){const p=c.factories.slice();a=a.concat(p)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Dw()),deps:[[r,new $t,new Xe]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new xe(901,!1)}}return(t=r).\u0275prov=Pn({token:t,providedIn:"root",factory:Dw}),r})();const RT=uw(null,"core",[]);let OT=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(mt(xm))},t.\u0275mod=vi({type:t}),t.\u0275inj=Wn({}),r})();function zT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GT(t){const r=yr(t);if(!r)return null;const o=new wp(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4097:(on,et,V)=>{V.d(et,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=V(534);(0,g.registerVersion)("firebase","9.23.0","app")},120:(on,et,V)=>{V.d(et,{Z:()=>g.Z});var g=V(3106);g.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(on,et,V)=>{V.r(et);var Ae,Fe,ce,Ce,$e,g=V(5861),z=V(3106),ie=V(6710),b=V(9058),Le=(V(534),V(7879),V(4537));function lt(){return window}class Oe extends ie.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(L)),super.onEvent(L)}initialized(){var L=this;return(0,g.Z)(function*(){yield L.initPromise})()}}function Qe(N){return($e=$e||(0,g.Z)(function*(L){const F=yield cn()._get(tn(L));return F&&(yield cn()._remove(tn(L))),F})).apply(this,arguments)}function pn(){const N=[];for(let F=0;F<20;F++){const le=Math.floor(62*Math.random());N.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return N.join("")}function cn(){return(0,ie.aC)(ie.b)}function tn(N){return(0,ie.aD)("authEvent",N.config.apiKey,N.name)}function hr(N){if(!N?.includes("?"))return{};const[L,...F]=N.split("?");return(0,b.zd)(F.join("?"))}const dt=class Hn{constructor(){this._redirectPersistence=ie.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(L){var F=this;return(0,g.Z)(function*(){const le=L._key();let ze=F.eventManagers.get(le);return ze||(ze=new Oe(L),F.eventManagers.set(le,ze),F.attachCallbackListeners(L,ze)),ze})()}_openPopup(L){(0,ie.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,F,le,ze){var mt=this;return(0,g.Z)(function*(){!function Kt(N){var L,F,le,ze,mt,an,Ht,xn,yn,qn;const ur=lt();(0,ie.aA)("function"==typeof(null===(L=ur?.universalLinks)||void 0===L?void 0:L.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ie.aA)(typeof(null===(F=ur?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ie.aA)("function"==typeof(null===(mt=null===(ze=null===(le=ur?.cordova)||void 0===le?void 0:le.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===mt?void 0:mt.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(xn=null===(Ht=null===(an=ur?.cordova)||void 0===an?void 0:an.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===xn?void 0:xn.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ie.aA)("function"==typeof(null===(qn=null===(yn=ur?.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===qn?void 0:qn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const an=yield mt._initialize(L);yield an.initialized(),an.resetRedirect(),(0,ie.aG)(),yield mt._originValidation(L);const Ht=function Ke(N,L,F=null){return{type:L,eventId:F,urlResponse:null,sessionId:pn(),postBody:null,tenantId:N.tenantId,error:(0,ie.az)(N,"no-auth-event")}}(L,le,ze);yield function Dt(N,L){return cn()._set(tn(N),L)}(L,Ht);const xn=yield function jt(N,L,F){return(Ae=Ae||(0,g.Z)(function*(le,ze,mt){var an;const{BuildInfo:Ht}=lt();(0,ie.as)(ze.sessionId,"AuthEvent did not contain a session ID");const xn=yield function xt(N){return(Ce=Ce||(0,g.Z)(function*(L){const F=function xe(N){if((0,ie.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const L=new ArrayBuffer(N.length),F=new Uint8Array(L);for(let le=0;le<N.length;le++)F[le]=N.charCodeAt(le);return F}(L),le=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(le)).map(mt=>mt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(ze.sessionId),yn={};return(0,ie.at)()?yn.ibi=Ht.packageName:(0,ie.au)()?yn.apn=Ht.packageName:(0,ie.av)(le,"operation-not-supported-in-this-environment"),Ht.displayName&&(yn.appDisplayName=Ht.displayName),yn.sessionId=xn,(0,ie.aw)(le,mt,ze.type,void 0,null!==(an=ze.eventId)&&void 0!==an?an:void 0,yn)})).apply(this,arguments)}(L,Ht,F),yn=yield function Rt(N){const{cordova:L}=lt();return new Promise(F=>{L.plugins.browsertab.isAvailable(le=>{let ze=null;le?L.plugins.browsertab.openUrl(N):ze=L.InAppBrowser.open(N,(0,ie.ay)()?"_blank":"_system","location=yes"),F(ze)})})}(xn);return function St(N,L,F){return(ce=ce||(0,g.Z)(function*(le,ze,mt){const{cordova:an}=lt();let Ht=()=>{};try{yield new Promise((xn,yn)=>{let qn=null;function ur(){var bt;xn();const ut=null===(bt=an.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof ut&&ut(),"function"==typeof mt?.close&&mt.close()}function Mi(){qn||(qn=window.setTimeout(()=>{yn((0,ie.az)(le,"redirect-cancelled-by-user"))},2e3))}function pi(){"visible"===document?.visibilityState&&Mi()}ze.addPassiveListener(ur),document.addEventListener("resume",Mi,!1),(0,ie.au)()&&document.addEventListener("visibilitychange",pi,!1),Ht=()=>{ze.removePassiveListener(ur),document.removeEventListener("resume",Mi,!1),document.removeEventListener("visibilitychange",pi,!1),qn&&window.clearTimeout(qn)}})}finally{Ht()}})).apply(this,arguments)}(L,an,yn)})()}_isIframeWebStorageSupported(L,F){throw new Error("Method not implemented.")}_originValidation(L){const F=L._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function At(N){return(Fe=Fe||(0,g.Z)(function*(L){const{BuildInfo:F}=lt(),le={};(0,ie.at)()?le.iosBundleId=F.packageName:(0,ie.au)()?le.androidPackageName=F.packageName:(0,ie.av)(L,"operation-not-supported-in-this-environment"),yield(0,ie.ax)(L,le)})).apply(this,arguments)}(L)),this.originValidationPromises[F]}attachCallbackListeners(L,F){var le,ze;const{universalLinks:mt,handleOpenURL:an,BuildInfo:Ht}=lt(),xn=setTimeout((0,g.Z)(function*(){yield Qe(L),F.onEvent(Et())}),500),yn=function(pi){return(le=le||(0,g.Z)(function*(bt){clearTimeout(xn);const ut=yield Qe(L);let zt=null;ut&&bt?.url&&(zt=function kt(N,L){var F,le;const ze=function Br(N){const L=hr(N),F=L.link?decodeURIComponent(L.link):void 0,le=hr(F).link,ze=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return hr(ze).link||ze||le||F||N}(L);if(ze.includes("/__/auth/callback")){const mt=hr(ze),an=mt.firebaseError?function rr(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(mt.firebaseError)):null,Ht=null===(le=null===(F=an?.code)||void 0===F?void 0:F.split("auth/"))||void 0===le?void 0:le[1],xn=Ht?(0,ie.az)(Ht):null;return xn?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:ze,postBody:null}}return null}(ut,bt.url)),F.onEvent(zt||Et())})).apply(this,arguments)};typeof mt<"u"&&"function"==typeof mt.subscribe&&mt.subscribe(null,yn);const qn=an,ur=`${Ht.packageName.toLowerCase()}://`;lt().handleOpenURL=function(Mi){return(ze=ze||(0,g.Z)(function*(pi){if(pi.toLowerCase().startsWith(ur)&&yn({url:pi}),"function"==typeof qn)try{qn(pi)}catch(bt){console.error(bt)}})).apply(this,arguments)}}};function Et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ie.az)("no-auth-event")}}var pt,It,at;function Sn(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function Pn(N=(0,b.z$)()){return!("file:"!==Sn()&&"ionic:"!==Sn()&&"capacitor:"!==Sn()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){try{const N=self.localStorage,L=ie.aL();if(N)return N.setItem(L,"1"),N.removeItem(L),!function Ln(N=(0,b.z$)()){return function Wn(){return(0,b.w1)()&&11===document?.documentMode}()||function Sr(N=(0,b.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,b.hl)()}catch{return ii()&&(0,b.hl)()}return!1}function ii(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ei(){return(function Nn(){return"http:"===Sn()||"https:"===Sn()}()||(0,b.ru)()||Pn())&&!function Ir(){return(0,b.b$)()||(0,b.UG)()}()&&fr()&&!ii()}function wi(){return Pn()&&typeof document<"u"}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},An=ie.aA,Vn="persistence";function or(N){return(It=It||(0,g.Z)(function*(L){yield L._initializationPromise;const F=jr(),le=ie.aD(Vn,L.config.apiKey,L.name);F&&F.setItem(le,L._getPersistence())})).apply(this,arguments)}function jr(){var N;try{return(null===(N=function si(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const _r=ie.aA;class mr{constructor(){this.browserResolver=ie.aC(ie.k),this.cordovaResolver=ie.aC(dt),this.underlyingResolver=null,this._redirectPersistence=ie.a,this._completeRedirectFn=ie.aE,this._overrideRedirectResult=ie.aF}_initialize(L){var F=this;return(0,g.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,F,le,ze){var mt=this;return(0,g.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(L,F,le,ze)})()}_openRedirect(L,F,le,ze){var mt=this;return(0,g.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(L,F,le,ze)})()}_isIframeWebStorageSupported(L,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,F)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,g.Z)(function*(){if(L.underlyingResolver)return;const F=yield function zr(){return(pt=pt||(0,g.Z)(function*(){return!!wi()&&new Promise(N=>{const L=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),N(!0)})})})).apply(this,arguments)}();L.underlyingResolver=F?L.cordovaResolver:L.browserResolver})()}}function ls(N){return N.unwrap()}function Vi(N){return Ii(N)}function Ii(N){const{_tokenResponse:L}=N instanceof b.ZR?N.customData:N;if(!L)return null;if(!(N instanceof b.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return ie.P.credentialFromResult(N);const F=L.providerId;if(!F||F===ie.p.PASSWORD)return null;let le;switch(F){case ie.p.GOOGLE:le=ie.V;break;case ie.p.FACEBOOK:le=ie.U;break;case ie.p.GITHUB:le=ie.W;break;case ie.p.TWITTER:le=ie.Z;break;default:const{oauthIdToken:ze,oauthAccessToken:mt,oauthTokenSecret:an,pendingToken:Ht,nonce:xn}=L;return mt||an||ze||Ht?Ht?F.startsWith("saml.")?ie.aO._create(F,Ht):ie.L._fromParams({providerId:F,signInMethod:F,pendingToken:Ht,idToken:ze,accessToken:mt}):new ie.X(F).credential({idToken:ze,accessToken:mt,rawNonce:xn}):null}return N instanceof b.ZR?le.credentialFromError(N):le.credentialFromResult(N)}function Ar(N,L){return L.catch(F=>{throw F instanceof b.ZR&&function xr(N,L){var F;const le=null===(F=L.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new We(N,ie.aq(N,L));else if(le){const ze=Ii(L),mt=L;ze&&(mt.credential=ze,mt.tenantId=le.tenantId||void 0,mt.email=le.email||void 0,mt.phoneNumber=le.phoneNumber||void 0)}}(N,F),F}).then(F=>{const ze=F.user;return{operationType:F.operationType,credential:Vi(F),additionalUserInfo:ie.ao(F),user:wt.getOrCreate(ze)}})}function vt(N,L){return(at=at||(0,g.Z)(function*(F,le){const ze=yield le;return{verificationId:ze.verificationId,confirm:mt=>Ar(F,ze.confirm(mt))}})).apply(this,arguments)}class We{constructor(L,F){this.resolver=F,this.auth=function ar(N){return N.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Ar(ls(this.auth),this.resolver.resolveSignIn(L))}}class wt{constructor(L){this._delegate=L,this.multiFactor=ie.ar(L)}static getOrCreate(L){return wt.USER_MAP.has(L)||wt.USER_MAP.set(L,new wt(L)),wt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,ie.a0(F._delegate,L))})()}linkWithPhoneNumber(L,F){var le=this;return(0,g.Z)(function*(){return vt(le.auth,ie.l(le._delegate,L,F))})()}linkWithPopup(L){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,ie.d(F._delegate,L,mr))})()}linkWithRedirect(L){var F=this;return(0,g.Z)(function*(){return yield or(ie.aH(F.auth)),ie.g(F._delegate,L,mr)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var F=this;return(0,g.Z)(function*(){return Ar(F.auth,ie.a1(F._delegate,L))})()}reauthenticateWithPhoneNumber(L,F){return vt(this.auth,ie.r(this._delegate,L,F))}reauthenticateWithPopup(L){return Ar(this.auth,ie.e(this._delegate,L,mr))}reauthenticateWithRedirect(L){var F=this;return(0,g.Z)(function*(){return yield or(ie.aH(F.auth)),ie.h(F._delegate,L,mr)})()}sendEmailVerification(L){return ie.ae(this._delegate,L)}unlink(L){var F=this;return(0,g.Z)(function*(){return yield ie.an(F._delegate,L),F})()}updateEmail(L){return ie.aj(this._delegate,L)}updatePassword(L){return ie.ak(this._delegate,L)}updatePhoneNumber(L){return ie.u(this._delegate,L)}updateProfile(L){return ie.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,F){return ie.af(this._delegate,L,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wt.USER_MAP=new WeakMap;const qe=ie.aA;let rt=(()=>{class N{constructor(F,le){if(this.app=F,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ze}=F.options;qe(ze,"invalid-api-key",{appName:F.name}),qe(ze,"invalid-api-key",{appName:F.name});const mt=typeof window<"u"?mr:void 0;this._delegate=le.initialize({options:{persistence:un(ze,F.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(ie.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,le){ie.I(this._delegate,F,le)}applyActionCode(F){return ie.a5(this._delegate,F)}checkActionCode(F){return ie.a6(this._delegate,F)}confirmPasswordReset(F,le){return ie.a4(this._delegate,F,le)}createUserWithEmailAndPassword(F,le){var ze=this;return(0,g.Z)(function*(){return Ar(ze._delegate,ie.a8(ze._delegate,F,le))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return ie.ad(this._delegate,F)}isSignInWithEmailLink(F){return ie.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,g.Z)(function*(){qe(Ei(),F._delegate,"operation-not-supported-in-this-environment");const le=yield ie.j(F._delegate,mr);return le?Ar(F._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function ot(N,L){(0,ie.aH)(N)._logFramework(L)}(this._delegate,F)}onAuthStateChanged(F,le,ze){const{next:mt,error:an,complete:Ht}=Nt(F,le,ze);return this._delegate.onAuthStateChanged(mt,an,Ht)}onIdTokenChanged(F,le,ze){const{next:mt,error:an,complete:Ht}=Nt(F,le,ze);return this._delegate.onIdTokenChanged(mt,an,Ht)}sendSignInLinkToEmail(F,le){return ie.aa(this._delegate,F,le)}sendPasswordResetEmail(F,le){return ie.a3(this._delegate,F,le||void 0)}setPersistence(F){var le=this;return(0,g.Z)(function*(){let ze;switch(function zn(N,L){An(Object.values(Cr).includes(L),N,"invalid-persistence-type"),(0,b.b$)()?An(L!==Cr.SESSION,N,"unsupported-persistence-type"):(0,b.UG)()?An(L===Cr.NONE,N,"unsupported-persistence-type"):ii()?An(L===Cr.NONE||L===Cr.LOCAL&&(0,b.hl)(),N,"unsupported-persistence-type"):An(L===Cr.NONE||fr(),N,"unsupported-persistence-type")}(le._delegate,F),F){case Cr.SESSION:ze=ie.a;break;case Cr.LOCAL:ze=(yield ie.aC(ie.i)._isAvailable())?ie.i:ie.b;break;case Cr.NONE:ze=ie.N;break;default:return ie.av("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(ze)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Ar(this._delegate,ie._(this._delegate))}signInWithCredential(F){return Ar(this._delegate,ie.$(this._delegate,F))}signInWithCustomToken(F){return Ar(this._delegate,ie.a2(this._delegate,F))}signInWithEmailAndPassword(F,le){return Ar(this._delegate,ie.a9(this._delegate,F,le))}signInWithEmailLink(F,le){return Ar(this._delegate,ie.ac(this._delegate,F,le))}signInWithPhoneNumber(F,le){return vt(this._delegate,ie.s(this._delegate,F,le))}signInWithPopup(F){var le=this;return(0,g.Z)(function*(){return qe(Ei(),le._delegate,"operation-not-supported-in-this-environment"),Ar(le._delegate,ie.c(le._delegate,F,mr))})()}signInWithRedirect(F){var le=this;return(0,g.Z)(function*(){return qe(Ei(),le._delegate,"operation-not-supported-in-this-environment"),yield or(le._delegate),ie.f(le._delegate,F,mr)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return ie.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=Cr,N})();function Nt(N,L,F){let le=N;"function"!=typeof N&&({next:le,error:L,complete:F}=N);const ze=le;return{next:an=>ze(an&&wt.getOrCreate(an)),error:L,complete:F}}function un(N,L){const F=function pr(N,L){const F=jr();if(!F)return[];const le=ie.aD(Vn,N,L);switch(F.getItem(le)){case Cr.NONE:return[ie.N];case Cr.LOCAL:return[ie.i,ie.a];case Cr.SESSION:return[ie.a];default:return[]}}(N,L);if(typeof self<"u"&&!F.includes(ie.i)&&F.push(ie.i),typeof window<"u")for(const le of[ie.b,ie.a])F.includes(le)||F.push(le);return F.includes(ie.N)||F.push(ie.N),F}class Gn{constructor(){this.providerId="phone",this._delegate=new ie.P(ls(z.Z.auth()))}static credential(L,F){return ie.P.credential(L,F)}verifyPhoneNumber(L,F){return this._delegate.verifyPhoneNumber(L,F)}unwrap(){return this._delegate}}Gn.PHONE_SIGN_IN_METHOD=ie.P.PHONE_SIGN_IN_METHOD,Gn.PROVIDER_ID=ie.P.PROVIDER_ID;const cr=ie.aA;class _i{constructor(L,F,le=z.Z.app()){var ze;cr(null===(ze=le.options)||void 0===ze?void 0:ze.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new ie.R(L,F,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function q(N){N.INTERNAL.registerComponent(new Le.wA("auth-compat",L=>{const F=L.getProvider("app-compat").getImmediate(),le=L.getProvider("auth");return new rt(F,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ie.A.EMAIL_SIGNIN,PASSWORD_RESET:ie.A.PASSWORD_RESET,RECOVER_EMAIL:ie.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ie.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ie.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ie.A.VERIFY_EMAIL}},EmailAuthProvider:ie.Q,FacebookAuthProvider:ie.U,GithubAuthProvider:ie.W,GoogleAuthProvider:ie.V,OAuthProvider:ie.X,SAMLAuthProvider:ie.Y,PhoneAuthProvider:Gn,PhoneMultiFactorGenerator:ie.m,RecaptchaVerifier:_i,TwitterAuthProvider:ie.Z,Auth:rt,AuthCredential:ie.J,Error:b.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},2296:(on,et,V)=>{V.d(et,{RK:()=>Hn,lW:()=>Dt,ot:()=>Et,zs:()=>Qe});var g=V(2831),z=V(5879),ie=V(4300),b=V(2495),ye=V(3680);const Se=["mat-button",""],Le=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ae=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ce=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",ht=["mat-icon-button",""],jt=["*"],Kt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xt=(0,ye.pj)((0,ye.Id)((0,ye.Kr)(class{constructor(ot){this._elementRef=ot}})));let xe=(()=>{var ot;class pt extends xt{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(at){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,at)}get disableRipple(){return this._disableRipple}set disableRipple(at){this._disableRipple=(0,b.Ig)(at),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(at){this._disabled=(0,b.Ig)(at),this._updateRippleDisabled()}constructor(at,Ft,Ct,Xn){super(at),this._platform=Ft,this._ngZone=Ct,this._animationMode=Xn,this._focusMonitor=(0,z.f3M)(ie.tE),this._rippleLoader=(0,z.f3M)(ye.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Sn=at.nativeElement.classList;for(const Nn of Kt)this._hasHostAttributes(Nn.selector)&&Nn.mdcClasses.forEach(Pn=>{Sn.add(Pn)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(at="program",Ft){at?this._focusMonitor.focusVia(this._elementRef.nativeElement,at,Ft):this._elementRef.nativeElement.focus(Ft)}_hasHostAttributes(...at){return at.some(Ft=>this._elementRef.nativeElement.hasAttribute(Ft))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(ot=pt).\u0275fac=function(at){z.$Z()},ot.\u0275dir=z.lG2({type:ot,features:[z.qOj]}),pt})(),Ke=(()=>{var ot;class pt extends xe{constructor(at,Ft,Ct,Xn){super(at,Ft,Ct,Xn),this._haltDisabledEvents=Sn=>{this.disabled&&(Sn.preventDefault(),Sn.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return(ot=pt).\u0275fac=function(at){z.$Z()},ot.\u0275dir=z.lG2({type:ot,features:[z.qOj]}),pt})(),Dt=(()=>{var ot;class pt extends xe{constructor(at,Ft,Ct,Xn){super(at,Ft,Ct,Xn)}}return(ot=pt).\u0275fac=function(at){return new(at||ot)(z.Y36(z.SBq),z.Y36(g.t4),z.Y36(z.R0b),z.Y36(z.QbO,8))},ot.\u0275cmp=z.Xpm({type:ot,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(at,Ft){2&at&&(z.uIk("disabled",Ft.disabled||null),z.ekj("_mat-animation-noopable","NoopAnimations"===Ft._animationMode)("mat-unthemed",!Ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[z.qOj],attrs:Se,ngContentSelectors:Ae,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,Ft){1&at&&(z.F$t(Le),z._UZ(0,"span",0),z.Hsn(1),z.TgZ(2,"span",1),z.Hsn(3,1),z.qZA(),z.Hsn(4,2),z._UZ(5,"span",2)(6,"span",3)),2&at&&z.ekj("mdc-button__ripple",!Ft._isFab)("mdc-fab__ripple",Ft._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),pt})(),Qe=(()=>{var ot;class pt extends Ke{constructor(at,Ft,Ct,Xn){super(at,Ft,Ct,Xn)}}return(ot=pt).\u0275fac=function(at){return new(at||ot)(z.Y36(z.SBq),z.Y36(g.t4),z.Y36(z.R0b),z.Y36(z.QbO,8))},ot.\u0275cmp=z.Xpm({type:ot,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(at,Ft){2&at&&(z.uIk("disabled",Ft.disabled||null)("tabindex",Ft.disabled?-1:Ft.tabIndex)("aria-disabled",Ft.disabled.toString()),z.ekj("_mat-animation-noopable","NoopAnimations"===Ft._animationMode)("mat-unthemed",!Ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[z.qOj],attrs:Se,ngContentSelectors:Ae,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,Ft){1&at&&(z.F$t(Le),z._UZ(0,"span",0),z.Hsn(1),z.TgZ(2,"span",1),z.Hsn(3,1),z.qZA(),z.Hsn(4,2),z._UZ(5,"span",2)(6,"span",3)),2&at&&z.ekj("mdc-button__ripple",!Ft._isFab)("mdc-fab__ripple",Ft._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',ce],encapsulation:2,changeDetection:0}),pt})(),Hn=(()=>{var ot;class pt extends xe{constructor(at,Ft,Ct,Xn){super(at,Ft,Ct,Xn),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(ot=pt).\u0275fac=function(at){return new(at||ot)(z.Y36(z.SBq),z.Y36(g.t4),z.Y36(z.R0b),z.Y36(z.QbO,8))},ot.\u0275cmp=z.Xpm({type:ot,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(at,Ft){2&at&&(z.uIk("disabled",Ft.disabled||null),z.ekj("_mat-animation-noopable","NoopAnimations"===Ft._animationMode)("mat-unthemed",!Ft.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[z.qOj],attrs:ht,ngContentSelectors:jt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(at,Ft){1&at&&(z.F$t(),z._UZ(0,"span",0),z.Hsn(1),z._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',ce],encapsulation:2,changeDetection:0}),pt})(),Et=(()=>{var ot;class pt{}return(ot=pt).\u0275fac=function(at){return new(at||ot)},ot.\u0275mod=z.oAB({type:ot}),ot.\u0275inj=z.cJS({imports:[ye.BQ,ye.si,ye.BQ]}),pt})()},3680:(on,et,V)=>{V.d(et,{rD:()=>Ct,BQ:()=>Ge,Fq:()=>_i,si:()=>Vn,pj:()=>kt,Kr:()=>pn,Id:()=>Qe,FD:()=>tn});var g=V(5879),z=V(4300),ie=V(9388),ye=V(6814),Se=V(2831),Le=V(2495);const xe=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function xt(){return!0}});let Ge=(()=>{var ge;class q{constructor(L,F,le){this._sanityChecks=F,this._document=le,this._hasDoneGlobalChecks=!1,L._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(L){return!(0,Se.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[L])}}return(ge=q).\u0275fac=function(L){return new(L||ge)(g.LFG(z.qm),g.LFG(xe,8),g.LFG(ye.K0))},ge.\u0275mod=g.oAB({type:ge}),ge.\u0275inj=g.cJS({imports:[ie.vT,ie.vT]}),q})();function Qe(ge){return class extends ge{get disabled(){return this._disabled}set disabled(q){this._disabled=(0,Le.Ig)(q)}constructor(...q){super(...q),this._disabled=!1}}}function kt(ge,q){return class extends ge{get color(){return this._color}set color(N){const L=N||this.defaultColor;L!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),L&&this._elementRef.nativeElement.classList.add(`mat-${L}`),this._color=L)}constructor(...N){super(...N),this.defaultColor=q,this.color=q}}}function pn(ge){return class extends ge{get disableRipple(){return this._disableRipple}set disableRipple(q){this._disableRipple=(0,Le.Ig)(q)}constructor(...q){super(...q),this._disableRipple=!1}}}function tn(ge){return class extends ge{updateErrorState(){const q=this.errorState,le=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);le!==q&&(this.errorState=le,this.stateChanges.next())}constructor(...q){super(...q),this.errorState=!1}}}let Ct=(()=>{var ge;class q{isErrorState(L,F){return!!(L&&L.invalid&&(L.touched||F&&F.submitted))}}return(ge=q).\u0275fac=function(L){return new(L||ge)},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),q})();class Ir{constructor(q,N,L,F=!1){this._renderer=q,this.element=N,this.config=L,this._animationForciblyDisabledThroughCss=F,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wn=(0,Se.i$)({passive:!0,capture:!0});class Sr{constructor(){this._events=new Map,this._delegateEventHandler=q=>{const N=(0,Se.sA)(q);N&&this._events.get(q.type)?.forEach((L,F)=>{(F===N||F.contains(N))&&L.forEach(le=>le.handleEvent(q))})}}addHandler(q,N,L,F){const le=this._events.get(N);if(le){const ze=le.get(L);ze?ze.add(F):le.set(L,new Set([F]))}else this._events.set(N,new Map([[L,new Set([F])]])),q.runOutsideAngular(()=>{document.addEventListener(N,this._delegateEventHandler,Wn)})}removeHandler(q,N,L){const F=this._events.get(q);if(!F)return;const le=F.get(N);le&&(le.delete(L),0===le.size&&F.delete(N),0===F.size&&(this._events.delete(q),document.removeEventListener(q,this._delegateEventHandler,Wn)))}}const Ln={enterDuration:225,exitDuration:150},ii=(0,Se.i$)({passive:!0,capture:!0}),Ei=["mousedown","touchstart"],wi=["mouseup","mouseleave","touchend","touchcancel"];class zr{constructor(q,N,L,F){this._target=q,this._ngZone=N,this._platform=F,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,F.isBrowser&&(this._containerElement=(0,Le.fI)(L))}fadeInRipple(q,N,L={}){const F=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),le={...Ln,...L.animation};L.centered&&(q=F.left+F.width/2,N=F.top+F.height/2);const ze=L.radius||function si(ge,q,N){const L=Math.max(Math.abs(ge-N.left),Math.abs(ge-N.right)),F=Math.max(Math.abs(q-N.top),Math.abs(q-N.bottom));return Math.sqrt(L*L+F*F)}(q,N,F),mt=q-F.left,an=N-F.top,Ht=le.enterDuration,xn=document.createElement("div");xn.classList.add("mat-ripple-element"),xn.style.left=mt-ze+"px",xn.style.top=an-ze+"px",xn.style.height=2*ze+"px",xn.style.width=2*ze+"px",null!=L.color&&(xn.style.backgroundColor=L.color),xn.style.transitionDuration=`${Ht}ms`,this._containerElement.appendChild(xn);const yn=window.getComputedStyle(xn),ur=yn.transitionDuration,Mi="none"===yn.transitionProperty||"0s"===ur||"0s, 0s"===ur||0===F.width&&0===F.height,pi=new Ir(this,xn,L,Mi);xn.style.transform="scale3d(1, 1, 1)",pi.state=0,L.persistent||(this._mostRecentTransientRipple=pi);let bt=null;return!Mi&&(Ht||le.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ut=()=>this._finishRippleTransition(pi),zt=()=>this._destroyRipple(pi);xn.addEventListener("transitionend",ut),xn.addEventListener("transitioncancel",zt),bt={onTransitionEnd:ut,onTransitionCancel:zt}}),this._activeRipples.set(pi,bt),(Mi||!Ht)&&this._finishRippleTransition(pi),pi}fadeOutRipple(q){if(2===q.state||3===q.state)return;const N=q.element,L={...Ln,...q.config.animation};N.style.transitionDuration=`${L.exitDuration}ms`,N.style.opacity="0",q.state=2,(q._animationForciblyDisabledThroughCss||!L.exitDuration)&&this._finishRippleTransition(q)}fadeOutAll(){this._getActiveRipples().forEach(q=>q.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(q=>{q.config.persistent||q.fadeOut()})}setupTriggerEvents(q){const N=(0,Le.fI)(q);!this._platform.isBrowser||!N||N===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=N,Ei.forEach(L=>{zr._eventManager.addHandler(this._ngZone,L,N,this)}))}handleEvent(q){"mousedown"===q.type?this._onMousedown(q):"touchstart"===q.type?this._onTouchStart(q):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wi.forEach(N=>{this._triggerElement.addEventListener(N,this,ii)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(q){0===q.state?this._startFadeOutTransition(q):2===q.state&&this._destroyRipple(q)}_startFadeOutTransition(q){const N=q===this._mostRecentTransientRipple,{persistent:L}=q.config;q.state=1,!L&&(!N||!this._isPointerDown)&&q.fadeOut()}_destroyRipple(q){const N=this._activeRipples.get(q)??null;this._activeRipples.delete(q),this._activeRipples.size||(this._containerRect=null),q===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),q.state=3,null!==N&&(q.element.removeEventListener("transitionend",N.onTransitionEnd),q.element.removeEventListener("transitioncancel",N.onTransitionCancel)),q.element.remove()}_onMousedown(q){const N=(0,z.X6)(q),L=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!N&&!L&&(this._isPointerDown=!0,this.fadeInRipple(q.clientX,q.clientY,this._target.rippleConfig))}_onTouchStart(q){if(!this._target.rippleDisabled&&!(0,z.yG)(q)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const N=q.changedTouches;if(N)for(let L=0;L<N.length;L++)this.fadeInRipple(N[L].clientX,N[L].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(q=>{!q.config.persistent&&(1===q.state||q.config.terminateOnPointerUp&&0===q.state)&&q.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const q=this._triggerElement;q&&(Ei.forEach(N=>zr._eventManager.removeHandler(N,q,this)),this._pointerUpEventsRegistered&&wi.forEach(N=>q.removeEventListener(N,this,ii)))}}zr._eventManager=new Sr;const Cr=new g.OlP("mat-ripple-global-options");let An=(()=>{var ge;class q{get disabled(){return this._disabled}set disabled(L){L&&this.fadeOutAllNonPersistent(),this._disabled=L,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(L){this._trigger=L,this._setupTriggerEventsIfEnabled()}constructor(L,F,le,ze,mt){this._elementRef=L,this._animationMode=mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ze||{},this._rippleRenderer=new zr(this,F,L,le)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(L,F=0,le){return"number"==typeof L?this._rippleRenderer.fadeInRipple(L,F,{...this.rippleConfig,...le}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...L})}}return(ge=q).\u0275fac=function(L){return new(L||ge)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(Se.t4),g.Y36(Cr,8),g.Y36(g.QbO,8))},ge.\u0275dir=g.lG2({type:ge,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(L,F){2&L&&g.ekj("mat-ripple-unbounded",F.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),q})(),Vn=(()=>{var ge;class q{}return(ge=q).\u0275fac=function(L){return new(L||ge)},ge.\u0275mod=g.oAB({type:ge}),ge.\u0275inj=g.cJS({imports:[Ge,Ge]}),q})();const qe={capture:!0},rt=["focus","click","mouseenter","touchstart"],Nt="mat-ripple-loader-uninitialized",un="mat-ripple-loader-class-name",Gn="mat-ripple-loader-centered",cr="mat-ripple-loader-disabled";let _i=(()=>{var ge;class q{constructor(){this._document=(0,g.f3M)(ye.K0,{optional:!0}),this._animationMode=(0,g.f3M)(g.QbO,{optional:!0}),this._globalRippleOptions=(0,g.f3M)(Cr,{optional:!0}),this._platform=(0,g.f3M)(Se.t4),this._ngZone=(0,g.f3M)(g.R0b),this._onInteraction=L=>{if(!(L.target instanceof HTMLElement))return;const le=L.target.closest(`[${Nt}]`);le&&this.createRipple(le)},this._ngZone.runOutsideAngular(()=>{for(const L of rt)this._document?.addEventListener(L,this._onInteraction,qe)})}ngOnDestroy(){for(const L of rt)this._document?.removeEventListener(L,this._onInteraction,qe)}configureRipple(L,F){L.setAttribute(Nt,""),(F.className||!L.hasAttribute(un))&&L.setAttribute(un,F.className||""),F.centered&&L.setAttribute(Gn,""),F.disabled&&L.setAttribute(cr,"")}getRipple(L){return L.matRipple?L.matRipple:this.createRipple(L)}setDisabled(L,F){const le=L.matRipple;le?le.disabled=F:F?L.setAttribute(cr,""):L.removeAttribute(cr)}createRipple(L){if(!this._document)return;L.querySelector(".mat-ripple")?.remove();const F=this._document.createElement("span");F.classList.add("mat-ripple",L.getAttribute(un)),L.append(F);const le=new An(new g.SBq(F),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return le._isInitialized=!0,le.trigger=L,le.centered=L.hasAttribute(Gn),le.disabled=L.hasAttribute(cr),this.attachRipple(L,le),le}attachRipple(L,F){L.removeAttribute(Nt),L.matRipple=F}}return(ge=q).\u0275fac=function(L){return new(L||ge)},ge.\u0275prov=g.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),q})()},1175:(on,et,V)=>{V.d(et,{Hw:()=>je,Ps:()=>ft});var g=V(5879),z=V(3680),ie=V(2495),b=V(6814),ye=V(2096),Se=V(8504),Le=V(9315),Ae=V(7394),Fe=V(9397),ce=V(7398),Ce=V(6306),$e=V(4716),lt=V(3020),ht=V(8180),jt=V(6328),At=V(2181);class Rt{}class Kt{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?"string"==typeof fe?this.lazyInit=()=>{this.headers=new Map,fe.split("\n").forEach(Ue=>{const Ie=Ue.indexOf(":");if(Ie>0){const Be=Ue.slice(0,Ie),nt=Be.toLowerCase(),Bt=Ue.slice(Ie+1).trim();this.maybeSetNormalizedName(Be,nt),this.headers.has(nt)?this.headers.get(nt).push(Bt):this.headers.set(nt,[Bt])}})}:typeof Headers<"u"&&fe instanceof Headers?(this.headers=new Map,fe.forEach((Ue,Ie)=>{this.setHeaderEntries(Ie,Ue)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(fe).forEach(([Ue,Ie])=>{this.setHeaderEntries(Ue,Ie)})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const Ue=this.headers.get(fe.toLowerCase());return Ue&&Ue.length>0?Ue[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,Ue){return this.clone({name:fe,value:Ue,op:"a"})}set(fe,Ue){return this.clone({name:fe,value:Ue,op:"s"})}delete(fe,Ue){return this.clone({name:fe,value:Ue,op:"d"})}maybeSetNormalizedName(fe,Ue){this.normalizedNames.has(Ue)||this.normalizedNames.set(Ue,fe)}init(){this.lazyInit&&(this.lazyInit instanceof Kt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(Ue=>{this.headers.set(Ue,fe.headers.get(Ue)),this.normalizedNames.set(Ue,fe.normalizedNames.get(Ue))})}clone(fe){const Ue=new Kt;return Ue.lazyInit=this.lazyInit&&this.lazyInit instanceof Kt?this.lazyInit:this,Ue.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),Ue}applyUpdate(fe){const Ue=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let Ie=fe.value;if("string"==typeof Ie&&(Ie=[Ie]),0===Ie.length)return;this.maybeSetNormalizedName(fe.name,Ue);const Be=("a"===fe.op?this.headers.get(Ue):void 0)||[];Be.push(...Ie),this.headers.set(Ue,Be);break;case"d":const nt=fe.value;if(nt){let Bt=this.headers.get(Ue);if(!Bt)return;Bt=Bt.filter(dn=>-1===nt.indexOf(dn)),0===Bt.length?(this.headers.delete(Ue),this.normalizedNames.delete(Ue)):this.headers.set(Ue,Bt)}else this.headers.delete(Ue),this.normalizedNames.delete(Ue)}}setHeaderEntries(fe,Ue){const Ie=(Array.isArray(Ue)?Ue:[Ue]).map(nt=>nt.toString()),Be=fe.toLowerCase();this.headers.set(Be,Ie),this.maybeSetNormalizedName(fe,Be)}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ue=>fe(this.normalizedNames.get(Ue),this.headers.get(Ue)))}}class xe{encodeKey(fe){return Dt(fe)}encodeValue(fe){return Dt(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const Oe=/%(\d[a-f0-9])/gi,Ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dt(Ee){return encodeURIComponent(Ee).replace(Oe,(fe,Ue)=>Ke[Ue]??fe)}function Qe(Ee){return`${Ee}`}class kt{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new xe,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ge(Ee,fe){const Ue=new Map;return Ee.length>0&&Ee.replace(/^\?/,"").split("&").forEach(Be=>{const nt=Be.indexOf("="),[Bt,dn]=-1==nt?[fe.decodeKey(Be),""]:[fe.decodeKey(Be.slice(0,nt)),fe.decodeValue(Be.slice(nt+1))],kn=Ue.get(Bt)||[];kn.push(dn),Ue.set(Bt,kn)}),Ue}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(Ue=>{const Ie=fe.fromObject[Ue],Be=Array.isArray(Ie)?Ie.map(Qe):[Qe(Ie)];this.map.set(Ue,Be)})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const Ue=this.map.get(fe);return Ue?Ue[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,Ue){return this.clone({param:fe,value:Ue,op:"a"})}appendAll(fe){const Ue=[];return Object.keys(fe).forEach(Ie=>{const Be=fe[Ie];Array.isArray(Be)?Be.forEach(nt=>{Ue.push({param:Ie,value:nt,op:"a"})}):Ue.push({param:Ie,value:Be,op:"a"})}),this.clone(Ue)}set(fe,Ue){return this.clone({param:fe,value:Ue,op:"s"})}delete(fe,Ue){return this.clone({param:fe,value:Ue,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const Ue=this.encoder.encodeKey(fe);return this.map.get(fe).map(Ie=>Ue+"="+this.encoder.encodeValue(Ie)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const Ue=new kt({encoder:this.encoder});return Ue.cloneFrom=this.cloneFrom||this,Ue.updates=(this.updates||[]).concat(fe),Ue}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const Ue=("a"===fe.op?this.map.get(fe.param):void 0)||[];Ue.push(Qe(fe.value)),this.map.set(fe.param,Ue);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let Ie=this.map.get(fe.param)||[];const Be=Ie.indexOf(Qe(fe.value));-1!==Be&&Ie.splice(Be,1),Ie.length>0?this.map.set(fe.param,Ie):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class cn{constructor(){this.map=new Map}set(fe,Ue){return this.map.set(fe,Ue),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function rr(Ee){return typeof ArrayBuffer<"u"&&Ee instanceof ArrayBuffer}function Br(Ee){return typeof Blob<"u"&&Ee instanceof Blob}function hr(Ee){return typeof FormData<"u"&&Ee instanceof FormData}class Hn{constructor(fe,Ue,Ie,Be){let nt;if(this.url=Ue,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function tn(Ee){switch(Ee){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Be?(this.body=void 0!==Ie?Ie:null,nt=Be):nt=Ie,nt&&(this.reportProgress=!!nt.reportProgress,this.withCredentials=!!nt.withCredentials,nt.responseType&&(this.responseType=nt.responseType),nt.headers&&(this.headers=nt.headers),nt.context&&(this.context=nt.context),nt.params&&(this.params=nt.params)),this.headers||(this.headers=new Kt),this.context||(this.context=new cn),this.params){const Bt=this.params.toString();if(0===Bt.length)this.urlWithParams=Ue;else{const dn=Ue.indexOf("?");this.urlWithParams=Ue+(-1===dn?"?":dn<Ue.length-1?"&":"")+Bt}}else this.params=new kt,this.urlWithParams=Ue}serializeBody(){return null===this.body?null:rr(this.body)||Br(this.body)||hr(this.body)||function Rr(Ee){return typeof URLSearchParams<"u"&&Ee instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hr(this.body)?null:Br(this.body)?this.body.type||null:rr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){const Ue=fe.method||this.method,Ie=fe.url||this.url,Be=fe.responseType||this.responseType,nt=void 0!==fe.body?fe.body:this.body,Bt=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,dn=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let kn=fe.headers||this.headers,kr=fe.params||this.params;const vi=fe.context??this.context;return void 0!==fe.setHeaders&&(kn=Object.keys(fe.setHeaders).reduce((qr,Qs)=>qr.set(Qs,fe.setHeaders[Qs]),kn)),fe.setParams&&(kr=Object.keys(fe.setParams).reduce((qr,Qs)=>qr.set(Qs,fe.setParams[Qs]),kr)),new Hn(Ue,Ie,nt,{params:kr,headers:kn,context:vi,reportProgress:dn,responseType:Be,withCredentials:Bt})}}var dt=function(Ee){return Ee[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee}(dt||{});class Et{constructor(fe,Ue=200,Ie="OK"){this.headers=fe.headers||new Kt,this.status=void 0!==fe.status?fe.status:Ue,this.statusText=fe.statusText||Ie,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class pt extends Et{constructor(fe={}){super(fe),this.type=dt.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new pt({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}function at(Ee,fe){return{body:fe,headers:Ee.headers,context:Ee.context,observe:Ee.observe,params:Ee.params,reportProgress:Ee.reportProgress,responseType:Ee.responseType,withCredentials:Ee.withCredentials}}let Ft=(()=>{var Ee;class fe{constructor(Ie){this.handler=Ie}request(Ie,Be,nt={}){let Bt;if(Ie instanceof Hn)Bt=Ie;else{let kr,vi;kr=nt.headers instanceof Kt?nt.headers:new Kt(nt.headers),nt.params&&(vi=nt.params instanceof kt?nt.params:new kt({fromObject:nt.params})),Bt=new Hn(Ie,Be,void 0!==nt.body?nt.body:null,{headers:kr,context:nt.context,params:vi,reportProgress:nt.reportProgress,responseType:nt.responseType||"json",withCredentials:nt.withCredentials})}const dn=(0,ye.of)(Bt).pipe((0,jt.b)(kr=>this.handler.handle(kr)));if(Ie instanceof Hn||"events"===nt.observe)return dn;const kn=dn.pipe((0,At.h)(kr=>kr instanceof pt));switch(nt.observe||"body"){case"body":switch(Bt.responseType){case"arraybuffer":return kn.pipe((0,ce.U)(kr=>{if(null!==kr.body&&!(kr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return kr.body}));case"blob":return kn.pipe((0,ce.U)(kr=>{if(null!==kr.body&&!(kr.body instanceof Blob))throw new Error("Response is not a Blob.");return kr.body}));case"text":return kn.pipe((0,ce.U)(kr=>{if(null!==kr.body&&"string"!=typeof kr.body)throw new Error("Response is not a string.");return kr.body}));default:return kn.pipe((0,ce.U)(kr=>kr.body))}case"response":return kn;default:throw new Error(`Unreachable: unhandled observe type ${nt.observe}}`)}}delete(Ie,Be={}){return this.request("DELETE",Ie,Be)}get(Ie,Be={}){return this.request("GET",Ie,Be)}head(Ie,Be={}){return this.request("HEAD",Ie,Be)}jsonp(Ie,Be){return this.request("JSONP",Ie,{params:(new kt).append(Be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,Be={}){return this.request("OPTIONS",Ie,Be)}patch(Ie,Be,nt={}){return this.request("PATCH",Ie,at(nt,Be))}post(Ie,Be,nt={}){return this.request("POST",Ie,at(nt,Be))}put(Ie,Be,nt={}){return this.request("PUT",Ie,at(nt,Be))}}return(Ee=fe).\u0275fac=function(Ie){return new(Ie||Ee)(g.LFG(Rt))},Ee.\u0275prov=g.Yz7({token:Ee,factory:Ee.\u0275fac}),fe})();var mn=V(6593);const en=["*"];let Mn;function Xr(Ee){return function ir(){if(void 0===Mn&&(Mn=null,typeof window<"u")){const Ee=window;void 0!==Ee.trustedTypes&&(Mn=Ee.trustedTypes.createPolicy("angular#components",{createHTML:fe=>fe}))}return Mn}()?.createHTML(Ee)||Ee}function mi(Ee){return Error(`Unable to find icon with the name "${Ee}"`)}function $r(Ee){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ee}".`)}function Hr(Ee){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ee}".`)}class Tr{constructor(fe,Ue,Ie){this.url=fe,this.svgText=Ue,this.options=Ie}}let cs=(()=>{var Ee;class fe{constructor(Ie,Be,nt,Bt){this._httpClient=Ie,this._sanitizer=Be,this._errorHandler=Bt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=nt}addSvgIcon(Ie,Be,nt){return this.addSvgIconInNamespace("",Ie,Be,nt)}addSvgIconLiteral(Ie,Be,nt){return this.addSvgIconLiteralInNamespace("",Ie,Be,nt)}addSvgIconInNamespace(Ie,Be,nt,Bt){return this._addSvgIconConfig(Ie,Be,new Tr(nt,null,Bt))}addSvgIconResolver(Ie){return this._resolvers.push(Ie),this}addSvgIconLiteralInNamespace(Ie,Be,nt,Bt){const dn=this._sanitizer.sanitize(g.q3G.HTML,nt);if(!dn)throw Hr(nt);const kn=Xr(dn);return this._addSvgIconConfig(Ie,Be,new Tr("",kn,Bt))}addSvgIconSet(Ie,Be){return this.addSvgIconSetInNamespace("",Ie,Be)}addSvgIconSetLiteral(Ie,Be){return this.addSvgIconSetLiteralInNamespace("",Ie,Be)}addSvgIconSetInNamespace(Ie,Be,nt){return this._addSvgIconSetConfig(Ie,new Tr(Be,null,nt))}addSvgIconSetLiteralInNamespace(Ie,Be,nt){const Bt=this._sanitizer.sanitize(g.q3G.HTML,Be);if(!Bt)throw Hr(Be);const dn=Xr(Bt);return this._addSvgIconSetConfig(Ie,new Tr("",dn,nt))}registerFontClassAlias(Ie,Be=Ie){return this._fontCssClassesByAlias.set(Ie,Be),this}classNameForFontAlias(Ie){return this._fontCssClassesByAlias.get(Ie)||Ie}setDefaultFontSetClass(...Ie){return this._defaultFontSetClass=Ie,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Ie){const Be=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,Ie);if(!Be)throw $r(Ie);const nt=this._cachedIconsByUrl.get(Be);return nt?(0,ye.of)(nn(nt)):this._loadSvgIconFromConfig(new Tr(Ie,null)).pipe((0,Fe.b)(Bt=>this._cachedIconsByUrl.set(Be,Bt)),(0,ce.U)(Bt=>nn(Bt)))}getNamedSvgIcon(Ie,Be=""){const nt=Jr(Be,Ie);let Bt=this._svgIconConfigs.get(nt);if(Bt)return this._getSvgFromConfig(Bt);if(Bt=this._getIconConfigFromResolvers(Be,Ie),Bt)return this._svgIconConfigs.set(nt,Bt),this._getSvgFromConfig(Bt);const dn=this._iconSetConfigs.get(Be);return dn?this._getSvgFromIconSetConfigs(Ie,dn):(0,Se._)(mi(nt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Ie){return Ie.svgText?(0,ye.of)(nn(this._svgElementFromConfig(Ie))):this._loadSvgIconFromConfig(Ie).pipe((0,ce.U)(Be=>nn(Be)))}_getSvgFromIconSetConfigs(Ie,Be){const nt=this._extractIconWithNameFromAnySet(Ie,Be);if(nt)return(0,ye.of)(nt);const Bt=Be.filter(dn=>!dn.svgText).map(dn=>this._loadSvgIconSetFromConfig(dn).pipe((0,Ce.K)(kn=>{const vi=`Loading icon set URL: ${this._sanitizer.sanitize(g.q3G.RESOURCE_URL,dn.url)} failed: ${kn.message}`;return this._errorHandler.handleError(new Error(vi)),(0,ye.of)(null)})));return(0,Le.D)(Bt).pipe((0,ce.U)(()=>{const dn=this._extractIconWithNameFromAnySet(Ie,Be);if(!dn)throw mi(Ie);return dn}))}_extractIconWithNameFromAnySet(Ie,Be){for(let nt=Be.length-1;nt>=0;nt--){const Bt=Be[nt];if(Bt.svgText&&Bt.svgText.toString().indexOf(Ie)>-1){const dn=this._svgElementFromConfig(Bt),kn=this._extractSvgIconFromSet(dn,Ie,Bt.options);if(kn)return kn}}return null}_loadSvgIconFromConfig(Ie){return this._fetchIcon(Ie).pipe((0,Fe.b)(Be=>Ie.svgText=Be),(0,ce.U)(()=>this._svgElementFromConfig(Ie)))}_loadSvgIconSetFromConfig(Ie){return Ie.svgText?(0,ye.of)(null):this._fetchIcon(Ie).pipe((0,Fe.b)(Be=>Ie.svgText=Be))}_extractSvgIconFromSet(Ie,Be,nt){const Bt=Ie.querySelector(`[id="${Be}"]`);if(!Bt)return null;const dn=Bt.cloneNode(!0);if(dn.removeAttribute("id"),"svg"===dn.nodeName.toLowerCase())return this._setSvgAttributes(dn,nt);if("symbol"===dn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(dn),nt);const kn=this._svgElementFromString(Xr("<svg></svg>"));return kn.appendChild(dn),this._setSvgAttributes(kn,nt)}_svgElementFromString(Ie){const Be=this._document.createElement("DIV");Be.innerHTML=Ie;const nt=Be.querySelector("svg");if(!nt)throw Error("<svg> tag not found");return nt}_toSvgElement(Ie){const Be=this._svgElementFromString(Xr("<svg></svg>")),nt=Ie.attributes;for(let Bt=0;Bt<nt.length;Bt++){const{name:dn,value:kn}=nt[Bt];"id"!==dn&&Be.setAttribute(dn,kn)}for(let Bt=0;Bt<Ie.childNodes.length;Bt++)Ie.childNodes[Bt].nodeType===this._document.ELEMENT_NODE&&Be.appendChild(Ie.childNodes[Bt].cloneNode(!0));return Be}_setSvgAttributes(Ie,Be){return Ie.setAttribute("fit",""),Ie.setAttribute("height","100%"),Ie.setAttribute("width","100%"),Ie.setAttribute("preserveAspectRatio","xMidYMid meet"),Ie.setAttribute("focusable","false"),Be&&Be.viewBox&&Ie.setAttribute("viewBox",Be.viewBox),Ie}_fetchIcon(Ie){const{url:Be,options:nt}=Ie,Bt=nt?.withCredentials??!1;if(!this._httpClient)throw function Qt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Be)throw Error(`Cannot fetch icon from URL "${Be}".`);const dn=this._sanitizer.sanitize(g.q3G.RESOURCE_URL,Be);if(!dn)throw $r(Be);const kn=this._inProgressUrlFetches.get(dn);if(kn)return kn;const kr=this._httpClient.get(dn,{responseType:"text",withCredentials:Bt}).pipe((0,ce.U)(vi=>Xr(vi)),(0,$e.x)(()=>this._inProgressUrlFetches.delete(dn)),(0,lt.B)());return this._inProgressUrlFetches.set(dn,kr),kr}_addSvgIconConfig(Ie,Be,nt){return this._svgIconConfigs.set(Jr(Ie,Be),nt),this}_addSvgIconSetConfig(Ie,Be){const nt=this._iconSetConfigs.get(Ie);return nt?nt.push(Be):this._iconSetConfigs.set(Ie,[Be]),this}_svgElementFromConfig(Ie){if(!Ie.svgElement){const Be=this._svgElementFromString(Ie.svgText);this._setSvgAttributes(Be,Ie.options),Ie.svgElement=Be}return Ie.svgElement}_getIconConfigFromResolvers(Ie,Be){for(let nt=0;nt<this._resolvers.length;nt++){const Bt=this._resolvers[nt](Be,Ie);if(Bt)return Ji(Bt)?new Tr(Bt.url,null,Bt.options):new Tr(Bt,null)}}}return(Ee=fe).\u0275fac=function(Ie){return new(Ie||Ee)(g.LFG(Ft,8),g.LFG(mn.H7),g.LFG(b.K0,8),g.LFG(g.qLn))},Ee.\u0275prov=g.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),fe})();function nn(Ee){return Ee.cloneNode(!0)}function Jr(Ee,fe){return Ee+":"+fe}function Ji(Ee){return!(!Ee.url||!Ee.options)}const bs=(0,z.pj)(class{constructor(Ee){this._elementRef=Ee}}),Ye=new g.OlP("MAT_ICON_DEFAULT_OPTIONS"),re=new g.OlP("mat-icon-location",{providedIn:"root",factory:function De(){const Ee=(0,g.f3M)(b.K0),fe=Ee?Ee.location:null;return{getPathname:()=>fe?fe.pathname+fe.search:""}}}),$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],oe=$.map(Ee=>`[${Ee}]`).join(", "),_e=/^url\(['"]?#(.*?)['"]?\)$/;let je=(()=>{var Ee;class fe extends bs{get inline(){return this._inline}set inline(Ie){this._inline=(0,ie.Ig)(Ie)}get svgIcon(){return this._svgIcon}set svgIcon(Ie){Ie!==this._svgIcon&&(Ie?this._updateSvgIcon(Ie):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Ie)}get fontSet(){return this._fontSet}set fontSet(Ie){const Be=this._cleanupFontValue(Ie);Be!==this._fontSet&&(this._fontSet=Be,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Ie){const Be=this._cleanupFontValue(Ie);Be!==this._fontIcon&&(this._fontIcon=Be,this._updateFontIconClasses())}constructor(Ie,Be,nt,Bt,dn,kn){super(Ie),this._iconRegistry=Be,this._location=Bt,this._errorHandler=dn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ae.w0.EMPTY,kn&&(kn.color&&(this.color=this.defaultColor=kn.color),kn.fontSet&&(this.fontSet=kn.fontSet)),nt||Ie.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Ie){if(!Ie)return["",""];const Be=Ie.split(":");switch(Be.length){case 1:return["",Be[0]];case 2:return Be;default:throw Error(`Invalid icon name: "${Ie}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Ie=this._elementsWithExternalReferences;if(Ie&&Ie.size){const Be=this._location.getPathname();Be!==this._previousPath&&(this._previousPath=Be,this._prependPathToReferences(Be))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Ie){this._clearSvgElement();const Be=this._location.getPathname();this._previousPath=Be,this._cacheChildrenWithExternalReferences(Ie),this._prependPathToReferences(Be),this._elementRef.nativeElement.appendChild(Ie)}_clearSvgElement(){const Ie=this._elementRef.nativeElement;let Be=Ie.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Be--;){const nt=Ie.childNodes[Be];(1!==nt.nodeType||"svg"===nt.nodeName.toLowerCase())&&nt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Ie=this._elementRef.nativeElement,Be=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(nt=>nt.length>0);this._previousFontSetClass.forEach(nt=>Ie.classList.remove(nt)),Be.forEach(nt=>Ie.classList.add(nt)),this._previousFontSetClass=Be,this.fontIcon!==this._previousFontIconClass&&!Be.includes("mat-ligature-font")&&(this._previousFontIconClass&&Ie.classList.remove(this._previousFontIconClass),this.fontIcon&&Ie.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Ie){return"string"==typeof Ie?Ie.trim().split(" ")[0]:Ie}_prependPathToReferences(Ie){const Be=this._elementsWithExternalReferences;Be&&Be.forEach((nt,Bt)=>{nt.forEach(dn=>{Bt.setAttribute(dn.name,`url('${Ie}#${dn.value}')`)})})}_cacheChildrenWithExternalReferences(Ie){const Be=Ie.querySelectorAll(oe),nt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Bt=0;Bt<Be.length;Bt++)$.forEach(dn=>{const kn=Be[Bt],kr=kn.getAttribute(dn),vi=kr?kr.match(_e):null;if(vi){let qr=nt.get(kn);qr||(qr=[],nt.set(kn,qr)),qr.push({name:dn,value:vi[1]})}})}_updateSvgIcon(Ie){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Ie){const[Be,nt]=this._splitIconName(Ie);Be&&(this._svgNamespace=Be),nt&&(this._svgName=nt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(nt,Be).pipe((0,ht.q)(1)).subscribe(Bt=>this._setSvgElement(Bt),Bt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Be}:${nt}! ${Bt.message}`))})}}}return(Ee=fe).\u0275fac=function(Ie){return new(Ie||Ee)(g.Y36(g.SBq),g.Y36(cs),g.$8M("aria-hidden"),g.Y36(re),g.Y36(g.qLn),g.Y36(Ye,8))},Ee.\u0275cmp=g.Xpm({type:Ee,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Ie,Be){2&Ie&&(g.uIk("data-mat-icon-type",Be._usingFontIcon()?"font":"svg")("data-mat-icon-name",Be._svgName||Be.fontIcon)("data-mat-icon-namespace",Be._svgNamespace||Be.fontSet)("fontIcon",Be._usingFontIcon()?Be.fontIcon:null),g.ekj("mat-icon-inline",Be.inline)("mat-icon-no-color","primary"!==Be.color&&"accent"!==Be.color&&"warn"!==Be.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[g.qOj],ngContentSelectors:en,decls:1,vars:0,template:function(Ie,Be){1&Ie&&(g.F$t(),g.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),fe})(),ft=(()=>{var Ee;class fe{}return(Ee=fe).\u0275fac=function(Ie){return new(Ie||Ee)},Ee.\u0275mod=g.oAB({type:Ee}),Ee.\u0275inj=g.cJS({imports:[z.BQ,z.BQ]}),fe})()},6593:(on,et,V)=>{V.d(et,{Dx:()=>zr,H7:()=>vt,b2:()=>Ln,q6:()=>Pn,se:()=>Qe});var g=V(5879),z=V(6814);class ie extends z.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class b extends ie{static makeCurrent(){(0,z.HT)(new b)}onAndCancel(N,L,F){return N.addEventListener(L,F),()=>{N.removeEventListener(L,F)}}dispatchEvent(N,L){N.dispatchEvent(L)}remove(N){N.parentNode&&N.parentNode.removeChild(N)}createElement(N,L){return(L=L||this.getDefaultDocument()).createElement(N)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(N){return N.nodeType===Node.ELEMENT_NODE}isShadowRoot(N){return N instanceof DocumentFragment}getGlobalEventTarget(N,L){return"window"===L?window:"document"===L?N:"body"===L?N.body:null}getBaseHref(N){const L=function Se(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==L?null:function Ae(q){Le=Le||document.createElement("a"),Le.setAttribute("href",q);const N=Le.pathname;return"/"===N.charAt(0)?N:`/${N}`}(L)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(N){return(0,z.Mx)(document.cookie,N)}}let Le,ye=null,ce=(()=>{var q;class N{build(){return new XMLHttpRequest}}return(q=N).\u0275fac=function(F){return new(F||q)},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();const Ce=new g.OlP("EventManagerPlugins");let $e=(()=>{var q;class N{constructor(F,le){this._zone=le,this._eventNameToPlugin=new Map,F.forEach(ze=>{ze.manager=this}),this._plugins=F.slice().reverse()}addEventListener(F,le,ze){return this._findPluginFor(le).addEventListener(F,le,ze)}getZone(){return this._zone}_findPluginFor(F){let le=this._eventNameToPlugin.get(F);if(le)return le;if(le=this._plugins.find(mt=>mt.supports(F)),!le)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(F,le),le}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(Ce),g.LFG(g.R0b))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();class lt{constructor(N){this._doc=N}}const ht="ng-app-id";let jt=(()=>{var q;class N{constructor(F,le,ze,mt={}){this.doc=F,this.appId=le,this.nonce=ze,this.platformId=mt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,z.PM)(mt),this.resetHostNodes()}addStyles(F){for(const le of F)1===this.changeUsageCount(le,1)&&this.onStyleAdded(le)}removeStyles(F){for(const le of F)this.changeUsageCount(le,-1)<=0&&this.onStyleRemoved(le)}ngOnDestroy(){const F=this.styleNodesInDOM;F&&(F.forEach(le=>le.remove()),F.clear());for(const le of this.getAllStyles())this.onStyleRemoved(le);this.resetHostNodes()}addHost(F){this.hostNodes.add(F);for(const le of this.getAllStyles())this.addStyleToHost(F,le)}removeHost(F){this.hostNodes.delete(F)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(F){for(const le of this.hostNodes)this.addStyleToHost(le,F)}onStyleRemoved(F){const le=this.styleRef;le.get(F)?.elements?.forEach(ze=>ze.remove()),le.delete(F)}collectServerRenderedStyles(){const F=this.doc.head?.querySelectorAll(`style[${ht}="${this.appId}"]`);if(F?.length){const le=new Map;return F.forEach(ze=>{null!=ze.textContent&&le.set(ze.textContent,ze)}),le}return null}changeUsageCount(F,le){const ze=this.styleRef;if(ze.has(F)){const mt=ze.get(F);return mt.usage+=le,mt.usage}return ze.set(F,{usage:le,elements:[]}),le}getStyleElement(F,le){const ze=this.styleNodesInDOM,mt=ze?.get(le);if(mt?.parentNode===F)return ze.delete(le),mt.removeAttribute(ht),mt;{const an=this.doc.createElement("style");return this.nonce&&an.setAttribute("nonce",this.nonce),an.textContent=le,this.platformIsServer&&an.setAttribute(ht,this.appId),an}}addStyleToHost(F,le){const ze=this.getStyleElement(F,le);F.appendChild(ze);const mt=this.styleRef,an=mt.get(le)?.elements;an?an.push(ze):mt.set(le,{elements:[ze],usage:1})}resetHostNodes(){const F=this.hostNodes;F.clear(),F.add(this.doc.head)}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(z.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rt=/%COMP%/g,Ge=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(q,N){return N.map(L=>L.replace(Rt,q))}let Qe=(()=>{var q;class N{constructor(F,le,ze,mt,an,Ht,xn,yn=null){this.eventManager=F,this.sharedStylesHost=le,this.appId=ze,this.removeStylesOnCompDestroy=mt,this.doc=an,this.platformId=Ht,this.ngZone=xn,this.nonce=yn,this.rendererByCompId=new Map,this.platformIsServer=(0,z.PM)(Ht),this.defaultRenderer=new kt(F,an,xn,this.platformIsServer)}createRenderer(F,le){if(!F||!le)return this.defaultRenderer;this.platformIsServer&&le.encapsulation===g.ifc.ShadowDom&&(le={...le,encapsulation:g.ifc.Emulated});const ze=this.getOrCreateRenderer(F,le);return ze instanceof hr?ze.applyToHost(F):ze instanceof Br&&ze.applyStyles(),ze}getOrCreateRenderer(F,le){const ze=this.rendererByCompId;let mt=ze.get(le.id);if(!mt){const an=this.doc,Ht=this.ngZone,xn=this.eventManager,yn=this.sharedStylesHost,qn=this.removeStylesOnCompDestroy,ur=this.platformIsServer;switch(le.encapsulation){case g.ifc.Emulated:mt=new hr(xn,yn,le,this.appId,qn,an,Ht,ur);break;case g.ifc.ShadowDom:return new rr(xn,yn,F,le,an,Ht,this.nonce,ur);default:mt=new Br(xn,yn,le,qn,an,Ht,ur)}ze.set(le.id,mt)}return mt}ngOnDestroy(){this.rendererByCompId.clear()}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG($e),g.LFG(jt),g.LFG(g.AFp),g.LFG(Ge),g.LFG(z.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();class kt{constructor(N,L,F,le){this.eventManager=N,this.doc=L,this.ngZone=F,this.platformIsServer=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(N,L){return L?this.doc.createElementNS(At[L]||L,N):this.doc.createElement(N)}createComment(N){return this.doc.createComment(N)}createText(N){return this.doc.createTextNode(N)}appendChild(N,L){(tn(N)?N.content:N).appendChild(L)}insertBefore(N,L,F){N&&(tn(N)?N.content:N).insertBefore(L,F)}removeChild(N,L){N&&N.removeChild(L)}selectRootElement(N,L){let F="string"==typeof N?this.doc.querySelector(N):N;if(!F)throw new g.vHH(-5104,!1);return L||(F.textContent=""),F}parentNode(N){return N.parentNode}nextSibling(N){return N.nextSibling}setAttribute(N,L,F,le){if(le){L=le+":"+L;const ze=At[le];ze?N.setAttributeNS(ze,L,F):N.setAttribute(L,F)}else N.setAttribute(L,F)}removeAttribute(N,L,F){if(F){const le=At[F];le?N.removeAttributeNS(le,L):N.removeAttribute(`${F}:${L}`)}else N.removeAttribute(L)}addClass(N,L){N.classList.add(L)}removeClass(N,L){N.classList.remove(L)}setStyle(N,L,F,le){le&(g.JOm.DashCase|g.JOm.Important)?N.style.setProperty(L,F,le&g.JOm.Important?"important":""):N.style[L]=F}removeStyle(N,L,F){F&g.JOm.DashCase?N.style.removeProperty(L):N.style[L]=""}setProperty(N,L,F){N[L]=F}setValue(N,L){N.nodeValue=L}listen(N,L,F){if("string"==typeof N&&!(N=(0,z.q)().getGlobalEventTarget(this.doc,N)))throw new Error(`Unsupported event target ${N} for event ${L}`);return this.eventManager.addEventListener(N,L,this.decoratePreventDefault(F))}decoratePreventDefault(N){return L=>{if("__ngUnwrap__"===L)return N;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>N(L)):N(L))&&L.preventDefault()}}}function tn(q){return"TEMPLATE"===q.tagName&&void 0!==q.content}class rr extends kt{constructor(N,L,F,le,ze,mt,an,Ht){super(N,ze,mt,Ht),this.sharedStylesHost=L,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xn=Dt(le.id,le.styles);for(const yn of xn){const qn=document.createElement("style");an&&qn.setAttribute("nonce",an),qn.textContent=yn,this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(N){return N===this.hostEl?this.shadowRoot:N}appendChild(N,L){return super.appendChild(this.nodeOrShadowRoot(N),L)}insertBefore(N,L,F){return super.insertBefore(this.nodeOrShadowRoot(N),L,F)}removeChild(N,L){return super.removeChild(this.nodeOrShadowRoot(N),L)}parentNode(N){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(N)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Br extends kt{constructor(N,L,F,le,ze,mt,an,Ht){super(N,ze,mt,an),this.sharedStylesHost=L,this.removeStylesOnCompDestroy=le,this.styles=Ht?Dt(Ht,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hr extends Br{constructor(N,L,F,le,ze,mt,an,Ht){const xn=le+"-"+F.id;super(N,L,F,ze,mt,an,Ht,xn),this.contentAttr=function Oe(q){return"_ngcontent-%COMP%".replace(Rt,q)}(xn),this.hostAttr=function Ke(q){return"_nghost-%COMP%".replace(Rt,q)}(xn)}applyToHost(N){this.applyStyles(),this.setAttribute(N,this.hostAttr,"")}createElement(N,L){const F=super.createElement(N,L);return super.setAttribute(F,this.contentAttr,""),F}}let Rr=(()=>{var q;class N extends lt{constructor(F){super(F)}supports(F){return!0}addEventListener(F,le,ze){return F.addEventListener(le,ze,!1),()=>this.removeEventListener(F,le,ze)}removeEventListener(F,le,ze){return F.removeEventListener(le,ze)}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(z.K0))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();const Hn=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:q=>q.altKey,control:q=>q.ctrlKey,meta:q=>q.metaKey,shift:q=>q.shiftKey};let ot=(()=>{var q;class N extends lt{constructor(F){super(F)}supports(F){return null!=N.parseEventName(F)}addEventListener(F,le,ze){const mt=N.parseEventName(le),an=N.eventCallback(mt.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,z.q)().onAndCancel(F,mt.domEventName,an))}static parseEventName(F){const le=F.toLowerCase().split("."),ze=le.shift();if(0===le.length||"keydown"!==ze&&"keyup"!==ze)return null;const mt=N._normalizeKey(le.pop());let an="",Ht=le.indexOf("code");if(Ht>-1&&(le.splice(Ht,1),an="code."),Hn.forEach(yn=>{const qn=le.indexOf(yn);qn>-1&&(le.splice(qn,1),an+=yn+".")}),an+=mt,0!=le.length||0===mt.length)return null;const xn={};return xn.domEventName=ze,xn.fullKey=an,xn}static matchEventFullKeyCode(F,le){let ze=dt[F.key]||F.key,mt="";return le.indexOf("code.")>-1&&(ze=F.code,mt="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),Hn.forEach(an=>{an!==ze&&(0,Et[an])(F)&&(mt+=an+".")}),mt+=ze,mt===le)}static eventCallback(F,le,ze){return mt=>{N.matchEventFullKeyCode(mt,F)&&ze.runGuarded(()=>le(mt))}}static _normalizeKey(F){return"esc"===F?"escape":F}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(z.K0))},q.\u0275prov=g.Yz7({token:q,factory:q.\u0275fac}),N})();const Pn=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:z.bD},{provide:g.g9A,useValue:function Ct(){b.makeCurrent()},multi:!0},{provide:z.K0,useFactory:function Sn(){return(0,g.RDi)(document),document},deps:[]}]),Ir=new g.OlP(""),Wn=[{provide:g.rWj,useClass:class Fe{addToWindow(N){g.dqk.getAngularTestability=(F,le=!0)=>{const ze=N.findTestabilityInTree(F,le);if(null==ze)throw new g.vHH(5103,!1);return ze},g.dqk.getAllAngularTestabilities=()=>N.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>N.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(F=>{const le=g.dqk.getAllAngularTestabilities();let ze=le.length,mt=!1;const an=function(Ht){mt=mt||Ht,ze--,0==ze&&F(mt)};le.forEach(Ht=>{Ht.whenStable(an)})})}findTestabilityInTree(N,L,F){return null==L?null:N.getTestability(L)??(F?(0,z.q)().isShadowRoot(L)?this.findTestabilityInTree(N,L.host,!0):this.findTestabilityInTree(N,L.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Sr=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Xn(){return new g.qLn},deps:[]},{provide:Ce,useClass:Rr,multi:!0,deps:[z.K0,g.R0b,g.Lbi]},{provide:Ce,useClass:ot,multi:!0,deps:[z.K0]},Qe,jt,$e,{provide:g.FYo,useExisting:Qe},{provide:z.JF,useClass:ce,deps:[]},[]];let Ln=(()=>{var q;class N{constructor(F){}static withServerTransition(F){return{ngModule:N,providers:[{provide:g.AFp,useValue:F.appId}]}}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(Ir,12))},q.\u0275mod=g.oAB({type:q}),q.\u0275inj=g.cJS({providers:[...Sr,...Wn],imports:[z.ez,g.hGG]}),N})(),zr=(()=>{var q;class N{constructor(F){this._doc=F}getTitle(){return this._doc.title}setTitle(F){this._doc.title=F||""}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(z.K0))},q.\u0275prov=g.Yz7({token:q,factory:function(F){let le=null;return le=F?new F:function wi(){return new zr((0,g.LFG)(z.K0))}(),le},providedIn:"root"}),N})();typeof window<"u"&&window;let vt=(()=>{var q;class N{}return(q=N).\u0275fac=function(F){return new(F||q)},q.\u0275prov=g.Yz7({token:q,factory:function(F){let le=null;return le=F?new(F||q):g.LFG(wt),le},providedIn:"root"}),N})(),wt=(()=>{var q;class N extends vt{constructor(F){super(),this._doc=F}sanitize(F,le){if(null==le)return null;switch(F){case g.q3G.NONE:return le;case g.q3G.HTML:return(0,g.qzn)(le,"HTML")?(0,g.z3N)(le):(0,g.EiD)(this._doc,String(le)).toString();case g.q3G.STYLE:return(0,g.qzn)(le,"Style")?(0,g.z3N)(le):le;case g.q3G.SCRIPT:if((0,g.qzn)(le,"Script"))return(0,g.z3N)(le);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(le,"URL")?(0,g.z3N)(le):(0,g.mCW)(String(le));case g.q3G.RESOURCE_URL:if((0,g.qzn)(le,"ResourceURL"))return(0,g.z3N)(le);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(F){return(0,g.JVY)(F)}bypassSecurityTrustStyle(F){return(0,g.L6k)(F)}bypassSecurityTrustScript(F){return(0,g.eBb)(F)}bypassSecurityTrustUrl(F){return(0,g.LAX)(F)}bypassSecurityTrustResourceUrl(F){return(0,g.pB0)(F)}}return(q=N).\u0275fac=function(F){return new(F||q)(g.LFG(z.K0))},q.\u0275prov=g.Yz7({token:q,factory:function(F){let le=null;return le=F?new F:function We(q){return new wt(q.get(z.K0))}(g.LFG(g.zs3)),le},providedIn:"root"}),N})()},9790:(on,et,V)=>{V.d(et,{gz:()=>us,F0:()=>is,rH:()=>Ll,Bz:()=>Cs,lC:()=>Wi});var g=V(5879),z=V(5592),ie=V(4674),ye=V(2459),Se=V(2096),Le=V(5619),Ae=V(2572),Fe=V(6973),ce=V(5211),Ce=V(4911),$e=V(8407),lt=V(8504),ht=V(6232),jt=V(7394),At=V(9360),Rt=V(8251);function St(){return(0,At.e)((x,R)=>{let U=null;x._refCount++;const P=(0,Rt.x)(R,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void(U=null);const Q=x._connection,he=U;U=null,Q&&(!he||Q===he)&&Q.unsubscribe(),R.unsubscribe()});x.subscribe(P),P.closed||(U=x.connect())})}class Kt extends z.y{constructor(R,U){super(),this.source=R,this.subjectFactory=U,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new jt.w0;const U=this.getSubject();R.add(this.source.subscribe((0,Rt.x)(U,void 0,()=>{this._teardown(),U.complete()},P=>{this._teardown(),U.error(P)},()=>this._teardown()))),R.closed&&(this._connection=null,R=jt.w0.EMPTY)}return R}refCount(){return St()(this)}}var xt=V(8645),xe=V(6814),Ge=V(7398),Oe=V(4664),Ke=V(8180),Dt=V(7921),Qe=V(2181),kt=V(1631),pn=V(1374),cn=V(6328),tn=V(9397),rr=V(6306),Br=V(6699),hr=V(3572);function Rr(x){return x<=0?()=>ht.E:(0,At.e)((R,U)=>{let P=[];R.subscribe((0,Rt.x)(U,Q=>{P.push(Q),x<P.length&&P.shift()},()=>{for(const Q of P)U.next(Q);U.complete()},void 0,()=>{P=null}))})}var Hn=V(3026),dt=V(2737),pt=V(4716),It=V(9773),at=V(7537),Ft=V(6593);const Ct="primary",Xn=Symbol("RouteTitle");class Sn{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const U=this.params[R];return Array.isArray(U)?U[0]:U}return null}getAll(R){if(this.has(R)){const U=this.params[R];return Array.isArray(U)?U:[U]}return[]}get keys(){return Object.keys(this.params)}}function Nn(x){return new Sn(x)}function Pn(x,R,U){const P=U.path.split("/");if(P.length>x.length||"full"===U.pathMatch&&(R.hasChildren()||P.length<x.length))return null;const Q={};for(let he=0;he<P.length;he++){const Te=P[he],gt=x[he];if(Te.startsWith(":"))Q[Te.substring(1)]=gt;else if(Te!==gt.path)return null}return{consumed:x.slice(0,P.length),posParams:Q}}function Wn(x,R){const U=x?Object.keys(x):void 0,P=R?Object.keys(R):void 0;if(!U||!P||U.length!=P.length)return!1;let Q;for(let he=0;he<U.length;he++)if(Q=U[he],!Sr(x[Q],R[Q]))return!1;return!0}function Sr(x,R){if(Array.isArray(x)&&Array.isArray(R)){if(x.length!==R.length)return!1;const U=[...x].sort(),P=[...R].sort();return U.every((Q,he)=>P[he]===Q)}return x===R}function Ln(x){return x.length>0?x[x.length-1]:null}function fr(x){return function b(x){return!!x&&(x instanceof z.y||(0,ie.m)(x.lift)&&(0,ie.m)(x.subscribe))}(x)?x:(0,g.QGY)(x)?(0,ye.D)(Promise.resolve(x)):(0,Se.of)(x)}const ii={exact:function si(x,R,U){if(!mr(x.segments,R.segments)||!zn(x.segments,R.segments,U)||x.numberOfChildren!==R.numberOfChildren)return!1;for(const P in R.children)if(!x.children[P]||!si(x.children[P],R.children[P],U))return!1;return!0},subset:An},Ei={exact:function zr(x,R){return Wn(x,R)},subset:function Cr(x,R){return Object.keys(R).length<=Object.keys(x).length&&Object.keys(R).every(U=>Sr(x[U],R[U]))},ignored:()=>!0};function wi(x,R,U){return ii[U.paths](x.root,R.root,U.matrixParams)&&Ei[U.queryParams](x.queryParams,R.queryParams)&&!("exact"===U.fragment&&x.fragment!==R.fragment)}function An(x,R,U){return Vn(x,R,R.segments,U)}function Vn(x,R,U,P){if(x.segments.length>U.length){const Q=x.segments.slice(0,U.length);return!(!mr(Q,U)||R.hasChildren()||!zn(Q,U,P))}if(x.segments.length===U.length){if(!mr(x.segments,U)||!zn(x.segments,U,P))return!1;for(const Q in R.children)if(!x.children[Q]||!An(x.children[Q],R.children[Q],P))return!1;return!0}{const Q=U.slice(0,x.segments.length),he=U.slice(x.segments.length);return!!(mr(x.segments,Q)&&zn(x.segments,Q,P)&&x.children[Ct])&&Vn(x.children[Ct],R,he,P)}}function zn(x,R,U){return R.every((P,Q)=>Ei[U](x[Q].parameters,P.parameters))}class or{constructor(R=new pr([],{}),U={},P=null){this.root=R,this.queryParams=U,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return xr.serialize(this)}}class pr{constructor(R,U){this.segments=R,this.children=U,this.parent=null,Object.values(U).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ii(this)}}class jr{constructor(R,U){this.path=R,this.parameters=U}get parameterMap(){return this._parameterMap||(this._parameterMap=Nn(this.parameters)),this._parameterMap}toString(){return un(this)}}function mr(x,R){return x.length===R.length&&x.every((U,P)=>U.path===R[P].path)}let ar=(()=>{var x;class R{}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return new Vi},providedIn:"root"}),R})();class Vi{parse(R){const U=new mt(R);return new or(U.parseRootSegment(),U.parseQueryParams(),U.parseFragment())}serialize(R){const U=`/${Ar(R.root,!0)}`,P=function cr(x){const R=Object.keys(x).map(U=>{const P=x[U];return Array.isArray(P)?P.map(Q=>`${We(U)}=${We(Q)}`).join("&"):`${We(U)}=${We(P)}`}).filter(U=>!!U);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${U}${P}${"string"==typeof R.fragment?`#${function wt(x){return encodeURI(x)}(R.fragment)}`:""}`}}const xr=new Vi;function Ii(x){return x.segments.map(R=>un(R)).join("/")}function Ar(x,R){if(!x.hasChildren())return Ii(x);if(R){const U=x.children[Ct]?Ar(x.children[Ct],!1):"",P=[];return Object.entries(x.children).forEach(([Q,he])=>{Q!==Ct&&P.push(`${Q}:${Ar(he,!1)}`)}),P.length>0?`${U}(${P.join("//")})`:U}{const U=function ls(x,R){let U=[];return Object.entries(x.children).forEach(([P,Q])=>{P===Ct&&(U=U.concat(R(Q,P)))}),Object.entries(x.children).forEach(([P,Q])=>{P!==Ct&&(U=U.concat(R(Q,P)))}),U}(x,(P,Q)=>Q===Ct?[Ar(x.children[Ct],!1)]:[`${Q}:${Ar(P,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Ct]?`${Ii(x)}/${U[0]}`:`${Ii(x)}/(${U.join("//")})`}}function vt(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function We(x){return vt(x).replace(/%3B/gi,";")}function qe(x){return vt(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(x){return decodeURIComponent(x)}function Nt(x){return rt(x.replace(/\+/g,"%20"))}function un(x){return`${qe(x.path)}${function Gn(x){return Object.keys(x).map(R=>`;${qe(R)}=${qe(x[R])}`).join("")}(x.parameters)}`}const _i=/^[^\/()?;#]+/;function ge(x){const R=x.match(_i);return R?R[0]:""}const q=/^[^\/()?;=#]+/,L=/^[^=?&#]+/,le=/^[^&#]+/;class mt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pr([],{}):new pr([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let U={};this.peekStartsWith("/(")&&(this.capture("/"),U=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(R.length>0||Object.keys(U).length>0)&&(P[Ct]=new pr(R,U)),P}parseSegment(){const R=ge(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(R),new jr(rt(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const U=function N(x){const R=x.match(q);return R?R[0]:""}(this.remaining);if(!U)return;this.capture(U);let P="";if(this.consumeOptional("=")){const Q=ge(this.remaining);Q&&(P=Q,this.capture(P))}R[rt(U)]=rt(P)}parseQueryParam(R){const U=function F(x){const R=x.match(L);return R?R[0]:""}(this.remaining);if(!U)return;this.capture(U);let P="";if(this.consumeOptional("=")){const Te=function ze(x){const R=x.match(le);return R?R[0]:""}(this.remaining);Te&&(P=Te,this.capture(P))}const Q=Nt(U),he=Nt(P);if(R.hasOwnProperty(Q)){let Te=R[Q];Array.isArray(Te)||(Te=[Te],R[Q]=Te),Te.push(he)}else R[Q]=he}parseParens(R){const U={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=ge(this.remaining),Q=this.remaining[P.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new g.vHH(4010,!1);let he;P.indexOf(":")>-1?(he=P.slice(0,P.indexOf(":")),this.capture(he),this.capture(":")):R&&(he=Ct);const Te=this.parseChildren();U[he]=1===Object.keys(Te).length?Te[Ct]:new pr([],Te),this.consumeOptional("//")}return U}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new g.vHH(4011,!1)}}function an(x){return x.segments.length>0?new pr([],{[Ct]:x}):x}function Ht(x){const R={};for(const P of Object.keys(x.children)){const he=Ht(x.children[P]);if(P===Ct&&0===he.segments.length&&he.hasChildren())for(const[Te,gt]of Object.entries(he.children))R[Te]=gt;else(he.segments.length>0||he.hasChildren())&&(R[P]=he)}return function xn(x){if(1===x.numberOfChildren&&x.children[Ct]){const R=x.children[Ct];return new pr(x.segments.concat(R.segments),R.children)}return x}(new pr(x.segments,R))}function yn(x){return x instanceof or}function ur(x){let R;const Q=an(function U(he){const Te={};for(const hn of he.children){const Ut=U(hn);Te[hn.outlet]=Ut}const gt=new pr(he.url,Te);return he===x&&(R=gt),gt}(x.root));return R??Q}function Mi(x,R,U,P){let Q=x;for(;Q.parent;)Q=Q.parent;if(0===R.length)return ut(Q,Q,Q,U,P);const he=function en(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new mn(!0,0,x);let R=0,U=!1;const P=x.reduce((Q,he,Te)=>{if("object"==typeof he&&null!=he){if(he.outlets){const gt={};return Object.entries(he.outlets).forEach(([hn,Ut])=>{gt[hn]="string"==typeof Ut?Ut.split("/"):Ut}),[...Q,{outlets:gt}]}if(he.segmentPath)return[...Q,he.segmentPath]}return"string"!=typeof he?[...Q,he]:0===Te?(he.split("/").forEach((gt,hn)=>{0==hn&&"."===gt||(0==hn&&""===gt?U=!0:".."===gt?R++:""!=gt&&Q.push(gt))}),Q):[...Q,he]},[]);return new mn(U,R,P)}(R);if(he.toRoot())return ut(Q,Q,new pr([],{}),U,P);const Te=function ir(x,R,U){if(x.isAbsolute)return new Mn(R,!0,0);if(!U)return new Mn(R,!1,NaN);if(null===U.parent)return new Mn(U,!0,0);const P=pi(x.commands[0])?0:1;return function Xr(x,R,U){let P=x,Q=R,he=U;for(;he>Q;){if(he-=Q,P=P.parent,!P)throw new g.vHH(4005,!1);Q=P.segments.length}return new Mn(P,!1,Q-he)}(U,U.segments.length-1+P,x.numberOfDoubleDots)}(he,Q,x),gt=Te.processChildren?$r(Te.segmentGroup,Te.index,he.commands):Qt(Te.segmentGroup,Te.index,he.commands);return ut(Q,Te.segmentGroup,gt,U,P)}function pi(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function bt(x){return"object"==typeof x&&null!=x&&x.outlets}function ut(x,R,U,P,Q){let Te,he={};P&&Object.entries(P).forEach(([hn,Ut])=>{he[hn]=Array.isArray(Ut)?Ut.map(er=>`${er}`):`${Ut}`}),Te=x===R?U:zt(x,R,U);const gt=an(Ht(Te));return new or(gt,he,Q)}function zt(x,R,U){const P={};return Object.entries(x.children).forEach(([Q,he])=>{P[Q]=he===R?U:zt(he,R,U)}),new pr(x.segments,P)}class mn{constructor(R,U,P){if(this.isAbsolute=R,this.numberOfDoubleDots=U,this.commands=P,R&&P.length>0&&pi(P[0]))throw new g.vHH(4003,!1);const Q=P.find(bt);if(Q&&Q!==Ln(P))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mn{constructor(R,U,P){this.segmentGroup=R,this.processChildren=U,this.index=P}}function Qt(x,R,U){if(x||(x=new pr([],{})),0===x.segments.length&&x.hasChildren())return $r(x,R,U);const P=function Hr(x,R,U){let P=0,Q=R;const he={match:!1,pathIndex:0,commandIndex:0};for(;Q<x.segments.length;){if(P>=U.length)return he;const Te=x.segments[Q],gt=U[P];if(bt(gt))break;const hn=`${gt}`,Ut=P<U.length-1?U[P+1]:null;if(Q>0&&void 0===hn)break;if(hn&&Ut&&"object"==typeof Ut&&void 0===Ut.outlets){if(!Ys(hn,Ut,Te))return he;P+=2}else{if(!Ys(hn,{},Te))return he;P++}Q++}return{match:!0,pathIndex:Q,commandIndex:P}}(x,R,U),Q=U.slice(P.commandIndex);if(P.match&&P.pathIndex<x.segments.length){const he=new pr(x.segments.slice(0,P.pathIndex),{});return he.children[Ct]=new pr(x.segments.slice(P.pathIndex),x.children),$r(he,0,Q)}return P.match&&0===Q.length?new pr(x.segments,{}):P.match&&!x.hasChildren()?Tr(x,R,U):P.match?$r(x,0,Q):Tr(x,R,U)}function $r(x,R,U){if(0===U.length)return new pr(x.segments,{});{const P=function mi(x){return bt(x[0])?x[0].outlets:{[Ct]:x}}(U),Q={};if(Object.keys(P).some(he=>he!==Ct)&&x.children[Ct]&&1===x.numberOfChildren&&0===x.children[Ct].segments.length){const he=$r(x.children[Ct],R,U);return new pr(x.segments,he.children)}return Object.entries(P).forEach(([he,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(Q[he]=Qt(x.children[he],R,Te))}),Object.entries(x.children).forEach(([he,Te])=>{void 0===P[he]&&(Q[he]=Te)}),new pr(x.segments,Q)}}function Tr(x,R,U){const P=x.segments.slice(0,R);let Q=0;for(;Q<U.length;){const he=U[Q];if(bt(he)){const hn=cs(he.outlets);return new pr(P,hn)}if(0===Q&&pi(U[0])){P.push(new jr(x.segments[R].path,gs(U[0]))),Q++;continue}const Te=bt(he)?he.outlets[Ct]:`${he}`,gt=Q<U.length-1?U[Q+1]:null;Te&&gt&&pi(gt)?(P.push(new jr(Te,gs(gt))),Q+=2):(P.push(new jr(Te,{})),Q++)}return new pr(P,{})}function cs(x){const R={};return Object.entries(x).forEach(([U,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(R[U]=Tr(new pr([],{}),0,P))}),R}function gs(x){const R={};return Object.entries(x).forEach(([U,P])=>R[U]=`${P}`),R}function Ys(x,R,U){return x==U.path&&Wn(R,U.parameters)}const nn="imperative";class Jr{constructor(R,U){this.id=R,this.url=U}}class Ji extends Jr{constructor(R,U,P="imperative",Q=null){super(R,U),this.type=0,this.navigationTrigger=P,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bs extends Jr{constructor(R,U,P){super(R,U),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ye extends Jr{constructor(R,U,P,Q){super(R,U),this.reason=P,this.code=Q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class re extends Jr{constructor(R,U,P,Q){super(R,U),this.reason=P,this.code=Q,this.type=16}}class De extends Jr{constructor(R,U,P,Q){super(R,U),this.error=P,this.target=Q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $ extends Jr{constructor(R,U,P,Q){super(R,U),this.urlAfterRedirects=P,this.state=Q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oe extends Jr{constructor(R,U,P,Q){super(R,U),this.urlAfterRedirects=P,this.state=Q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _e extends Jr{constructor(R,U,P,Q,he){super(R,U),this.urlAfterRedirects=P,this.state=Q,this.shouldActivate=he,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends Jr{constructor(R,U,P,Q){super(R,U),this.urlAfterRedirects=P,this.state=Q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends Jr{constructor(R,U,P,Q){super(R,U),this.urlAfterRedirects=P,this.state=Q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fe{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ie{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(R,U,P){this.routerEvent=R,this.position=U,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dn{}class kn{constructor(R){this.url=R}}class vi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qr,this.attachRef=null}}let qr=(()=>{var x;class R{constructor(){this.contexts=new Map}onChildOutletCreated(P,Q){const he=this.getOrCreateContext(P);he.outlet=Q,this.contexts.set(P,he)}onChildOutletDestroyed(P){const Q=this.getContext(P);Q&&(Q.outlet=null,Q.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let Q=this.getContext(P);return Q||(Q=new vi,this.contexts.set(P,Q)),Q}getContext(P){return this.contexts.get(P)||null}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();class Qs{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const U=this.pathFromRoot(R);return U.length>1?U[U.length-2]:null}children(R){const U=io(R,this._root);return U?U.children.map(P=>P.value):[]}firstChild(R){const U=io(R,this._root);return U&&U.children.length>0?U.children[0].value:null}siblings(R){const U=qo(R,this._root);return U.length<2?[]:U[U.length-2].children.map(Q=>Q.value).filter(Q=>Q!==R)}pathFromRoot(R){return qo(R,this._root).map(U=>U.value)}}function io(x,R){if(x===R.value)return R;for(const U of R.children){const P=io(x,U);if(P)return P}return null}function qo(x,R){if(x===R.value)return[R];for(const U of R.children){const P=qo(x,U);if(P.length)return P.unshift(R),P}return[]}class yr{constructor(R,U){this.value=R,this.children=U}toString(){return`TreeNode(${this.value})`}}function ei(x){const R={};return x&&x.children.forEach(U=>R[U.value.outlet]=U),R}class Di extends Qs{constructor(R,U){super(R),this.snapshot=U,li(this,R)}toString(){return this.snapshot.toString()}}function Ds(x,R){const U=function Kr(x,R){const Te=new Er([],{},{},"",{},Ct,R,null,{});return new Rl("",new yr(Te,[]))}(0,R),P=new Le.X([new jr("",{})]),Q=new Le.X({}),he=new Le.X({}),Te=new Le.X({}),gt=new Le.X(""),hn=new us(P,Q,Te,gt,he,Ct,R,U.root);return hn.snapshot=U.root,new Di(new yr(hn,[]),U)}class us{constructor(R,U,P,Q,he,Te,gt,hn){this.urlSubject=R,this.paramsSubject=U,this.queryParamsSubject=P,this.fragmentSubject=Q,this.dataSubject=he,this.outlet=Te,this.component=gt,this._futureSnapshot=hn,this.title=this.dataSubject?.pipe((0,Ge.U)(Ut=>Ut[Xn]))??(0,Se.of)(void 0),this.url=R,this.params=U,this.queryParams=P,this.fragment=Q,this.data=he}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(R=>Nn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(R=>Nn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ss(x,R="emptyOnly"){const U=x.pathFromRoot;let P=0;if("always"!==R)for(P=U.length-1;P>=1;){const Q=U[P],he=U[P-1];if(Q.routeConfig&&""===Q.routeConfig.path)P--;else{if(he.component)break;P--}}return function ba(x){return x.reduce((R,U)=>({params:{...R.params,...U.params},data:{...R.data,...U.data},resolve:{...U.data,...R.resolve,...U.routeConfig?.data,...U._resolvedData}}),{params:{},data:{},resolve:{}})}(U.slice(P))}class Er{get title(){return this.data?.[Xn]}constructor(R,U,P,Q,he,Te,gt,hn,Ut){this.url=R,this.params=U,this.queryParams=P,this.fragment=Q,this.data=he,this.outlet=Te,this.component=gt,this.routeConfig=hn,this._resolve=Ut}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rl extends Qs{constructor(R,U){super(U),this.url=R,li(this,U)}toString(){return En(this._root)}}function li(x,R){R.value._routerState=x,R.children.forEach(U=>li(x,U))}function En(x){const R=x.children.length>0?` { ${x.children.map(En).join(", ")} } `:"";return`${x.value}${R}`}function dr(x){if(x.snapshot){const R=x.snapshot,U=x._futureSnapshot;x.snapshot=U,Wn(R.queryParams,U.queryParams)||x.queryParamsSubject.next(U.queryParams),R.fragment!==U.fragment&&x.fragmentSubject.next(U.fragment),Wn(R.params,U.params)||x.paramsSubject.next(U.params),function Ir(x,R){if(x.length!==R.length)return!1;for(let U=0;U<x.length;++U)if(!Wn(x[U],R[U]))return!1;return!0}(R.url,U.url)||x.urlSubject.next(U.url),Wn(R.data,U.data)||x.dataSubject.next(U.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function ci(x,R){const U=Wn(x.params,R.params)&&function _r(x,R){return mr(x,R)&&x.every((U,P)=>Wn(U.parameters,R[P].parameters))}(x.url,R.url);return U&&!(!x.parent!=!R.parent)&&(!x.parent||ci(x.parent,R.parent))}let Wi=(()=>{var x;class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(qr),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ds,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(P){if(P.name){const{firstChange:Q,previousValue:he}=P.name;if(Q)return;this.isTrackedInParentContexts(he)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(he)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(P){return this.parentContexts.getContext(P)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const P=this.parentContexts.getContext(this.name);P?.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,Q){this.activated=P,this._activatedRoute=Q,this.location.insert(P.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,Q){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=P;const he=this.location,gt=P.snapshot.component,hn=this.parentContexts.getOrCreateContext(this.name).children,Ut=new Fs(P,hn,he.injector);this.activated=he.createComponent(gt,{index:he.length,injector:Ut,environmentInjector:Q??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275dir=g.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),R})();class Fs{constructor(R,U,P){this.route=R,this.childContexts=U,this.parent=P}get(R,U){return R===us?this.route:R===qr?this.childContexts:this.parent.get(R,U)}}const ds=new g.OlP("");let Ls=(()=>{var x;class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(P){this.unsubscribeFromRouteData(P),this.subscribeToRouteData(P)}unsubscribeFromRouteData(P){this.outletDataSubscriptions.get(P)?.unsubscribe(),this.outletDataSubscriptions.delete(P)}subscribeToRouteData(P){const{activatedRoute:Q}=P,he=(0,Ae.a)([Q.queryParams,Q.params,Q.data]).pipe((0,Oe.w)(([Te,gt,hn],Ut)=>(hn={...Te,...gt,...hn},0===Ut?(0,Se.of)(hn):Promise.resolve(hn)))).subscribe(Te=>{if(!P.isActivated||!P.activatedComponentRef||P.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(P);const gt=(0,g.qFp)(Q.component);if(gt)for(const{templateName:hn}of gt.inputs)P.activatedComponentRef.setInput(hn,Te[hn]);else this.unsubscribeFromRouteData(P)});this.outletDataSubscriptions.set(P,he)}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),R})();function Hi(x,R,U){if(U&&x.shouldReuseRoute(R.value,U.value.snapshot)){const P=U.value;P._futureSnapshot=R.value;const Q=function Ro(x,R,U){return R.children.map(P=>{for(const Q of U.children)if(x.shouldReuseRoute(P.value,Q.value.snapshot))return Hi(x,P,Q);return Hi(x,P)})}(x,R,U);return new yr(P,Q)}{if(x.shouldAttach(R.value)){const he=x.retrieve(R.value);if(null!==he){const Te=he.route;return Te.value._futureSnapshot=R.value,Te.children=R.children.map(gt=>Hi(x,gt)),Te}}const P=function tr(x){return new us(new Le.X(x.url),new Le.X(x.params),new Le.X(x.queryParams),new Le.X(x.fragment),new Le.X(x.data),x.outlet,x.component,x)}(R.value),Q=R.children.map(he=>Hi(x,he));return new yr(P,Q)}}const Ko="ngNavigationCancelingError";function _o(x,R){const{redirectTo:U,navigationBehaviorOptions:P}=yn(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,Q=Xs(!1,0,R);return Q.url=U,Q.navigationBehaviorOptions=P,Q}function Xs(x,R,U){const P=new Error("NavigationCancelingError: "+(x||""));return P[Ko]=!0,P.cancellationCode=R,U&&(P.url=U),P}function Pa(x){return x&&x[Ko]}let da=(()=>{var x;class R{}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275cmp=g.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(P,Q){1&P&&g._UZ(0,"router-outlet")},dependencies:[Wi],encapsulation:2}),R})();function nl(x){const R=x.children&&x.children.map(nl),U=R?{...x,children:R}:{...x};return!U.component&&!U.loadComponent&&(R||U.loadChildren)&&U.outlet&&U.outlet!==Ct&&(U.component=da),U}function Vs(x){return x.outlet||Ct}function _s(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let R=x.parent;R;R=R.parent){const U=R.routeConfig;if(U?._loadedInjector)return U._loadedInjector;if(U?._injector)return U._injector}return null}class Nr{constructor(R,U,P,Q,he){this.routeReuseStrategy=R,this.futureState=U,this.currState=P,this.forwardEvent=Q,this.inputBindingEnabled=he}activate(R){const U=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(U,P,R),dr(this.futureState.root),this.activateChildRoutes(U,P,R)}deactivateChildRoutes(R,U,P){const Q=ei(U);R.children.forEach(he=>{const Te=he.value.outlet;this.deactivateRoutes(he,Q[Te],P),delete Q[Te]}),Object.values(Q).forEach(he=>{this.deactivateRouteAndItsChildren(he,P)})}deactivateRoutes(R,U,P){const Q=R.value,he=U?U.value:null;if(Q===he)if(Q.component){const Te=P.getContext(Q.outlet);Te&&this.deactivateChildRoutes(R,U,Te.children)}else this.deactivateChildRoutes(R,U,P);else he&&this.deactivateRouteAndItsChildren(U,P)}deactivateRouteAndItsChildren(R,U){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,U):this.deactivateRouteAndOutlet(R,U)}detachAndStoreRouteSubtree(R,U){const P=U.getContext(R.value.outlet),Q=P&&R.value.component?P.children:U,he=ei(R);for(const Te of Object.keys(he))this.deactivateRouteAndItsChildren(he[Te],Q);if(P&&P.outlet){const Te=P.outlet.detach(),gt=P.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Te,route:R,contexts:gt})}}deactivateRouteAndOutlet(R,U){const P=U.getContext(R.value.outlet),Q=P&&R.value.component?P.children:U,he=ei(R);for(const Te of Object.keys(he))this.deactivateRouteAndItsChildren(he[Te],Q);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(R,U,P){const Q=ei(U);R.children.forEach(he=>{this.activateRoutes(he,Q[he.value.outlet],P),this.forwardEvent(new nt(he.value.snapshot))}),R.children.length&&this.forwardEvent(new Ie(R.value.snapshot))}activateRoutes(R,U,P){const Q=R.value,he=U?U.value:null;if(dr(Q),Q===he)if(Q.component){const Te=P.getOrCreateContext(Q.outlet);this.activateChildRoutes(R,U,Te.children)}else this.activateChildRoutes(R,U,P);else if(Q.component){const Te=P.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const gt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),Te.children.onOutletReAttached(gt.contexts),Te.attachRef=gt.componentRef,Te.route=gt.route.value,Te.outlet&&Te.outlet.attach(gt.componentRef,gt.route.value),dr(gt.route.value),this.activateChildRoutes(R,null,Te.children)}else{const gt=_s(Q.snapshot);Te.attachRef=null,Te.route=Q,Te.injector=gt,Te.outlet&&Te.outlet.activateWith(Q,Te.injector),this.activateChildRoutes(R,null,Te.children)}}else this.activateChildRoutes(R,null,P)}}class hl{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class ts{constructor(R,U){this.component=R,this.route=U}}function Qr(x,R,U){const P=x._root;return Us(P,R?R._root:null,U,[P.value])}function vo(x,R){const U=Symbol(),P=R.get(x,U);return P===U?"function"!=typeof x||(0,g.Z0I)(x)?R.get(x):x:P}function Us(x,R,U,P,Q={canDeactivateChecks:[],canActivateChecks:[]}){const he=ei(R);return x.children.forEach(Te=>{(function Gs(x,R,U,P,Q={canDeactivateChecks:[],canActivateChecks:[]}){const he=x.value,Te=R?R.value:null,gt=U?U.getContext(x.value.outlet):null;if(Te&&he.routeConfig===Te.routeConfig){const hn=function Oo(x,R,U){if("function"==typeof U)return U(x,R);switch(U){case"pathParamsChange":return!mr(x.url,R.url);case"pathParamsOrQueryParamsChange":return!mr(x.url,R.url)||!Wn(x.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ci(x,R)||!Wn(x.queryParams,R.queryParams);default:return!ci(x,R)}}(Te,he,he.routeConfig.runGuardsAndResolvers);hn?Q.canActivateChecks.push(new hl(P)):(he.data=Te.data,he._resolvedData=Te._resolvedData),Us(x,R,he.component?gt?gt.children:null:U,P,Q),hn&&gt&&gt.outlet&&gt.outlet.isActivated&&Q.canDeactivateChecks.push(new ts(gt.outlet.component,Te))}else Te&&yo(R,gt,Q),Q.canActivateChecks.push(new hl(P)),Us(x,null,he.component?gt?gt.children:null:U,P,Q)})(Te,he[Te.value.outlet],U,P.concat([Te.value]),Q),delete he[Te.value.outlet]}),Object.entries(he).forEach(([Te,gt])=>yo(gt,U.getContext(Te),Q)),Q}function yo(x,R,U){const P=ei(x),Q=x.value;Object.entries(P).forEach(([he,Te])=>{yo(Te,Q.component?R?R.children.getContext(he):null:R,U)}),U.canDeactivateChecks.push(new ts(Q.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,Q))}function wa(x){return"function"==typeof x}function Js(x){return x instanceof Fe.K||"EmptyError"===x?.name}const bo=Symbol("INITIAL_VALUE");function nr(){return(0,Oe.w)(x=>(0,Ae.a)(x.map(R=>R.pipe((0,Ke.q)(1),(0,Dt.O)(bo)))).pipe((0,Ge.U)(R=>{for(const U of R)if(!0!==U){if(U===bo)return bo;if(!1===U||U instanceof or)return U}return!0}),(0,Qe.h)(R=>R!==bo),(0,Ke.q)(1)))}function Qo(x){return(0,$e.z)((0,tn.b)(R=>{if(yn(R))throw _o(0,R)}),(0,Ge.U)(R=>!0===R))}class No{constructor(R){this.segmentGroup=R||null}}class Xo{constructor(R){this.urlTree=R}}function yi(x){return(0,lt._)(new No(x))}function js(x){return(0,lt._)(new Xo(x))}class _c{constructor(R,U){this.urlSerializer=R,this.urlTree=U}noMatchError(R){return new g.vHH(4002,!1)}lineralizeSegments(R,U){let P=[],Q=U.root;for(;;){if(P=P.concat(Q.segments),0===Q.numberOfChildren)return(0,Se.of)(P);if(Q.numberOfChildren>1||!Q.children[Ct])return(0,lt._)(new g.vHH(4e3,!1));Q=Q.children[Ct]}}applyRedirectCommands(R,U,P){return this.applyRedirectCreateUrlTree(U,this.urlSerializer.parse(U),R,P)}applyRedirectCreateUrlTree(R,U,P,Q){const he=this.createSegmentGroup(R,U.root,P,Q);return new or(he,this.createQueryParams(U.queryParams,this.urlTree.queryParams),U.fragment)}createQueryParams(R,U){const P={};return Object.entries(R).forEach(([Q,he])=>{if("string"==typeof he&&he.startsWith(":")){const gt=he.substring(1);P[Q]=U[gt]}else P[Q]=he}),P}createSegmentGroup(R,U,P,Q){const he=this.createSegments(R,U.segments,P,Q);let Te={};return Object.entries(U.children).forEach(([gt,hn])=>{Te[gt]=this.createSegmentGroup(R,hn,P,Q)}),new pr(he,Te)}createSegments(R,U,P,Q){return U.map(he=>he.path.startsWith(":")?this.findPosParam(R,he,Q):this.findOrReturn(he,P))}findPosParam(R,U,P){const Q=P[U.path.substring(1)];if(!Q)throw new g.vHH(4001,!1);return Q}findOrReturn(R,U){let P=0;for(const Q of U){if(Q.path===R.path)return U.splice(P),Q;P++}return R}}const Fa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function As(x,R,U,P,Q){const he=rl(x,R,U);return he.matched?(P=function so(x,R){return x.providers&&!x._injector&&(x._injector=(0,g.MMx)(x.providers,R,`Route: ${x.path}`)),x._injector??R}(R,P),function Bs(x,R,U,P){const Q=R.canMatch;if(!Q||0===Q.length)return(0,Se.of)(!0);const he=Q.map(Te=>{const gt=vo(Te,x);return fr(function ec(x){return x&&wa(x.canMatch)}(gt)?gt.canMatch(R,U):x.runInContext(()=>gt(R,U)))});return(0,Se.of)(he).pipe(nr(),Qo())}(P,R,U).pipe((0,Ge.U)(Te=>!0===Te?he:{...Fa}))):(0,Se.of)(he)}function rl(x,R,U){if(""===R.path)return"full"===R.pathMatch&&(x.hasChildren()||U.length>0)?{...Fa}:{matched:!0,consumedSegments:[],remainingSegments:U,parameters:{},positionalParamSegments:{}};const Q=(R.matcher||Pn)(U,x,R);if(!Q)return{...Fa};const he={};Object.entries(Q.posParams??{}).forEach(([gt,hn])=>{he[gt]=hn.path});const Te=Q.consumed.length>0?{...he,...Q.consumed[Q.consumed.length-1].parameters}:he;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:U.slice(Q.consumed.length),parameters:Te,positionalParamSegments:Q.posParams??{}}}function pa(x,R,U,P){return U.length>0&&function Ki(x,R,U){return U.some(P=>Mr(x,R,P)&&Vs(P)!==Ct)}(x,U,P)?{segmentGroup:new pr(R,Jo(P,new pr(U,x.children))),slicedSegments:[]}:0===U.length&&function il(x,R,U){return U.some(P=>Mr(x,R,P))}(x,U,P)?{segmentGroup:new pr(x.segments,qs(x,0,U,P,x.children)),slicedSegments:U}:{segmentGroup:new pr(x.segments,x.children),slicedSegments:U}}function qs(x,R,U,P,Q){const he={};for(const Te of P)if(Mr(x,U,Te)&&!Q[Vs(Te)]){const gt=new pr([],{});he[Vs(Te)]=gt}return{...Q,...he}}function Jo(x,R){const U={};U[Ct]=R;for(const P of x)if(""===P.path&&Vs(P)!==Ct){const Q=new pr([],{});U[Vs(P)]=Q}return U}function Mr(x,R,U){return(!(x.hasChildren()||R.length>0)||"full"!==U.pathMatch)&&""===U.path}class tc{constructor(R,U,P,Q,he,Te,gt){this.injector=R,this.configLoader=U,this.rootComponentType=P,this.config=Q,this.urlTree=he,this.paramsInheritanceStrategy=Te,this.urlSerializer=gt,this.allowRedirects=!0,this.applyRedirects=new _c(this.urlSerializer,this.urlTree)}noMatchError(R){return new g.vHH(4002,!1)}recognize(){const R=pa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ct).pipe((0,rr.K)(U=>{if(U instanceof Xo)return this.allowRedirects=!1,this.urlTree=U.urlTree,this.match(U.urlTree);throw U instanceof No?this.noMatchError(U):U}),(0,Ge.U)(U=>{const P=new Er([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,{}),Q=new yr(P,U),he=new Rl("",Q),Te=function qn(x,R,U=null,P=null){return Mi(ur(x),R,U,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,he.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(he._root),{state:he,tree:Te}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ct).pipe((0,rr.K)(P=>{throw P instanceof No?this.noMatchError(P):P}))}inheritParamsAndData(R){const U=R.value,P=Ss(U,this.paramsInheritanceStrategy);U.params=Object.freeze(P.params),U.data=Object.freeze(P.data),R.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(R,U,P,Q){return 0===P.segments.length&&P.hasChildren()?this.processChildren(R,U,P):this.processSegment(R,U,P,P.segments,Q,!0)}processChildren(R,U,P){const Q=[];for(const he of Object.keys(P.children))"primary"===he?Q.unshift(he):Q.push(he);return(0,ye.D)(Q).pipe((0,cn.b)(he=>{const Te=P.children[he],gt=function es(x,R){const U=x.filter(P=>Vs(P)===R);return U.push(...x.filter(P=>Vs(P)!==R)),U}(U,he);return this.processSegmentGroup(R,gt,Te,he)}),(0,Br.R)((he,Te)=>(he.push(...Te),he)),(0,hr.d)(null),function Et(x,R){const U=arguments.length>=2;return P=>P.pipe(x?(0,Qe.h)((Q,he)=>x(Q,he,P)):dt.y,Rr(1),U?(0,hr.d)(R):(0,Hn.T)(()=>new Fe.K))}(),(0,kt.z)(he=>{if(null===he)return yi(P);const Te=Hs(he);return function pl(x){x.sort((R,U)=>R.value.outlet===Ct?-1:U.value.outlet===Ct?1:R.value.outlet.localeCompare(U.value.outlet))}(Te),(0,Se.of)(Te)}))}processSegment(R,U,P,Q,he,Te){return(0,ye.D)(U).pipe((0,cn.b)(gt=>this.processSegmentAgainstRoute(gt._injector??R,U,gt,P,Q,he,Te).pipe((0,rr.K)(hn=>{if(hn instanceof No)return(0,Se.of)(null);throw hn}))),(0,pn.P)(gt=>!!gt),(0,rr.K)(gt=>{if(Js(gt))return function La(x,R,U){return 0===R.length&&!x.children[U]}(P,Q,he)?(0,Se.of)([]):yi(P);throw gt}))}processSegmentAgainstRoute(R,U,P,Q,he,Te,gt){return function Fl(x,R,U,P){return!!(Vs(x)===P||P!==Ct&&Mr(R,U,x))&&("**"===x.path||rl(R,x,U).matched)}(P,Q,he,Te)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(R,Q,P,he,Te,gt):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,Q,U,P,he,Te):yi(Q):yi(Q)}expandSegmentAgainstRouteUsingRedirect(R,U,P,Q,he,Te){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,P,Q,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(R,U,P,Q,he,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,U,P,Q){const he=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?js(he):this.applyRedirects.lineralizeSegments(P,he).pipe((0,kt.z)(Te=>{const gt=new pr(Te,{});return this.processSegment(R,U,gt,Te,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,U,P,Q,he,Te){const{matched:gt,consumedSegments:hn,remainingSegments:Ut,positionalParamSegments:er}=rl(U,Q,he);if(!gt)return yi(U);const Zr=this.applyRedirects.applyRedirectCommands(hn,Q.redirectTo,er);return Q.redirectTo.startsWith("/")?js(Zr):this.applyRedirects.lineralizeSegments(Q,Zr).pipe((0,kt.z)(Bi=>this.processSegment(R,P,U,Bi.concat(Ut),Te,!1)))}matchSegmentAgainstRoute(R,U,P,Q,he,Te){let gt;if("**"===P.path){const hn=Q.length>0?Ln(Q).parameters:{},Ut=new Er(Q,hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(P),Vs(P),P.component??P._loadedComponent??null,P,Eo(P));gt=(0,Se.of)({snapshot:Ut,consumedSegments:[],remainingSegments:[]}),U.children={}}else gt=As(U,P,Q,R).pipe((0,Ge.U)(({matched:hn,consumedSegments:Ut,remainingSegments:er,parameters:Zr})=>hn?{snapshot:new Er(Ut,Zr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(P),Vs(P),P.component??P._loadedComponent??null,P,Eo(P)),consumedSegments:Ut,remainingSegments:er}:null));return gt.pipe((0,Oe.w)(hn=>null===hn?yi(U):this.getChildConfig(R=P._injector??R,P,Q).pipe((0,Oe.w)(({routes:Ut})=>{const er=P._loadedInjector??R,{snapshot:Zr,consumedSegments:Bi,remainingSegments:Tn}=hn,{segmentGroup:Ms,slicedSegments:$a}=pa(U,Bi,Tn,Ut);if(0===$a.length&&Ms.hasChildren())return this.processChildren(er,Ut,Ms).pipe((0,Ge.U)(Un=>null===Un?null:[new yr(Zr,Un)]));if(0===Ut.length&&0===$a.length)return(0,Se.of)([new yr(Zr,[])]);const Ni=Vs(P)===he;return this.processSegment(er,Ut,Ms,$a,Ni?Ct:he,!0).pipe((0,Ge.U)(Un=>[new yr(Zr,Un)]))}))))}getChildConfig(R,U,P){return U.children?(0,Se.of)({routes:U.children,injector:R}):U.loadChildren?void 0!==U._loadedRoutes?(0,Se.of)({routes:U._loadedRoutes,injector:U._loadedInjector}):function ws(x,R,U,P){const Q=R.canLoad;if(void 0===Q||0===Q.length)return(0,Se.of)(!0);const he=Q.map(Te=>{const gt=vo(Te,x);return fr(function mc(x){return x&&wa(x.canLoad)}(gt)?gt.canLoad(R,U):x.runInContext(()=>gt(R,U)))});return(0,Se.of)(he).pipe(nr(),Qo())}(R,U,P).pipe((0,kt.z)(Q=>Q?this.configLoader.loadChildren(R,U).pipe((0,tn.b)(he=>{U._loadedRoutes=he.routes,U._loadedInjector=he.injector})):function Ws(x){return(0,lt._)(Xs(!1,3))}())):(0,Se.of)({routes:[],injector:R})}}function Va(x){const R=x.value.routeConfig;return R&&""===R.path}function Hs(x){const R=[],U=new Set;for(const P of x){if(!Va(P)){R.push(P);continue}const Q=R.find(he=>P.value.routeConfig===he.value.routeConfig);void 0!==Q?(Q.children.push(...P.children),U.add(Q)):R.push(P)}for(const P of U){const Q=Hs(P.children);R.push(new yr(P.value,Q))}return R.filter(P=>!U.has(P))}function lo(x){return x.data||{}}function Eo(x){return x.resolve||{}}function co(x){return"string"==typeof x.title||null===x.title}function Ha(x){return(0,Oe.w)(R=>{const U=x(R);return U?(0,ye.D)(U).pipe((0,Ge.U)(()=>R)):(0,Se.of)(R)})}const S=new g.OlP("ROUTES");let J=(()=>{var x;class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,Se.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const Q=fr(P.loadComponent()).pipe((0,Ge.U)(W),(0,tn.b)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=Te}),(0,pt.x)(()=>{this.componentLoaders.delete(P)})),he=new Kt(Q,()=>new xt.x).pipe(St());return this.componentLoaders.set(P,he),he}loadChildren(P,Q){if(this.childrenLoaders.get(Q))return this.childrenLoaders.get(Q);if(Q._loadedRoutes)return(0,Se.of)({routes:Q._loadedRoutes,injector:Q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Q);const Te=this.loadModuleFactoryOrRoutes(Q.loadChildren).pipe((0,Ge.U)(hn=>{this.onLoadEndListener&&this.onLoadEndListener(Q);let Ut,er;return Array.isArray(hn)?er=hn:(Ut=hn.create(P).injector,er=Ut.get(S,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:er.map(nl),injector:Ut}}),(0,pt.x)(()=>{this.childrenLoaders.delete(Q)})),gt=new Kt(Te,()=>new xt.x).pipe(St());return this.childrenLoaders.set(Q,gt),gt}loadModuleFactoryOrRoutes(P){return fr(P()).pipe((0,Ge.U)(W),(0,kt.z)(Q=>Q instanceof g.YKP||Array.isArray(Q)?(0,Se.of)(Q):(0,ye.D)(this.compiler.compileModuleAsync(Q))))}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();function W(x){return function Me(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let ve=(()=>{var x;class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xt.x,this.transitionAbortSubject=new xt.x,this.configLoader=(0,g.f3M)(J),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ar),this.rootContexts=(0,g.f3M)(qr),this.inputBindingEnabled=null!==(0,g.f3M)(ds,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=he=>this.events.next(new fe(he)),this.configLoader.onLoadStartListener=he=>this.events.next(new Ee(he))}complete(){this.transitions?.complete()}handleNavigationRequest(P){const Q=++this.navigationId;this.transitions?.next({...this.transitions.value,...P,id:Q})}setupNavigations(P,Q,he){return this.transitions=new Le.X({id:0,currentUrlTree:Q,currentRawUrl:Q,currentBrowserUrl:Q,extractedUrl:P.urlHandlingStrategy.extract(Q),urlAfterRedirects:P.urlHandlingStrategy.extract(Q),rawUrl:Q,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nn,restoredState:null,currentSnapshot:he.snapshot,targetSnapshot:null,currentRouterState:he,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Qe.h)(Te=>0!==Te.id),(0,Ge.U)(Te=>({...Te,extractedUrl:P.urlHandlingStrategy.extract(Te.rawUrl)})),(0,Oe.w)(Te=>{this.currentTransition=Te;let gt=!1,hn=!1;return(0,Se.of)(Te).pipe((0,tn.b)(Ut=>{this.currentNavigation={id:Ut.id,initialUrl:Ut.rawUrl,extractedUrl:Ut.extractedUrl,trigger:Ut.source,extras:Ut.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(Ut=>{const er=Ut.currentBrowserUrl.toString(),Zr=!P.navigated||Ut.extractedUrl.toString()!==er||er!==Ut.currentUrlTree.toString();if(!Zr&&"reload"!==(Ut.extras.onSameUrlNavigation??P.onSameUrlNavigation)){const Tn="";return this.events.next(new re(Ut.id,this.urlSerializer.serialize(Ut.rawUrl),Tn,0)),Ut.resolve(null),ht.E}if(P.urlHandlingStrategy.shouldProcessUrl(Ut.rawUrl))return(0,Se.of)(Ut).pipe((0,Oe.w)(Tn=>{const Ms=this.transitions?.getValue();return this.events.next(new Ji(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),Tn.source,Tn.restoredState)),Ms!==this.transitions?.getValue()?ht.E:Promise.resolve(Tn)}),function Ci(x,R,U,P,Q,he){return(0,kt.z)(Te=>function Zi(x,R,U,P,Q,he,Te="emptyOnly"){return new tc(x,R,U,P,Q,Te,he).recognize()}(x,R,U,P,Te.extractedUrl,Q,he).pipe((0,Ge.U)(({state:gt,tree:hn})=>({...Te,targetSnapshot:gt,urlAfterRedirects:hn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,P.config,this.urlSerializer,P.paramsInheritanceStrategy),(0,tn.b)(Tn=>{Te.targetSnapshot=Tn.targetSnapshot,Te.urlAfterRedirects=Tn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Tn.urlAfterRedirects};const Ms=new $(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Ms)}));if(Zr&&P.urlHandlingStrategy.shouldProcessUrl(Ut.currentRawUrl)){const{id:Tn,extractedUrl:Ms,source:$a,restoredState:Ni,extras:Un}=Ut,Ga=new Ji(Tn,this.urlSerializer.serialize(Ms),$a,Ni);this.events.next(Ga);const gi=Ds(0,this.rootComponentType).snapshot;return this.currentTransition=Te={...Ut,targetSnapshot:gi,urlAfterRedirects:Ms,extras:{...Un,skipLocationChange:!1,replaceUrl:!1}},(0,Se.of)(Te)}{const Tn="";return this.events.next(new re(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),Tn,1)),Ut.resolve(null),ht.E}}),(0,tn.b)(Ut=>{const er=new oe(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot);this.events.next(er)}),(0,Ge.U)(Ut=>(this.currentTransition=Te={...Ut,guards:Qr(Ut.targetSnapshot,Ut.currentSnapshot,this.rootContexts)},Te)),function Es(x,R){return(0,kt.z)(U=>{const{targetSnapshot:P,currentSnapshot:Q,guards:{canActivateChecks:he,canDeactivateChecks:Te}}=U;return 0===Te.length&&0===he.length?(0,Se.of)({...U,guardsResult:!0}):function fa(x,R,U,P){return(0,ye.D)(x).pipe((0,kt.z)(Q=>function ko(x,R,U,P,Q){const he=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!he||0===he.length)return(0,Se.of)(!0);const Te=he.map(gt=>{const hn=_s(R)??Q,Ut=vo(gt,hn);return fr(function gc(x){return x&&wa(x.canDeactivate)}(Ut)?Ut.canDeactivate(x,R,U,P):hn.runInContext(()=>Ut(x,R,U,P))).pipe((0,pn.P)())});return(0,Se.of)(Te).pipe(nr())}(Q.component,Q.route,U,R,P)),(0,pn.P)(Q=>!0!==Q,!0))}(Te,P,Q,x).pipe((0,kt.z)(gt=>gt&&function Jl(x){return"boolean"==typeof x}(gt)?function Po(x,R,U,P){return(0,ye.D)(R).pipe((0,cn.b)(Q=>(0,ce.z)(function Ia(x,R){return null!==x&&R&&R(new Ue(x)),(0,Se.of)(!0)}(Q.route.parent,P),function Na(x,R){return null!==x&&R&&R(new Be(x)),(0,Se.of)(!0)}(Q.route,P),function Nl(x,R,U){const P=R[R.length-1],he=R.slice(0,R.length-1).reverse().map(Te=>function Ol(x){const R=x.routeConfig?x.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:x,guards:R}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,Ce.P)(()=>{const gt=Te.guards.map(hn=>{const Ut=_s(Te.node)??U,er=vo(hn,Ut);return fr(function Pl(x){return x&&wa(x.canActivateChild)}(er)?er.canActivateChild(P,x):Ut.runInContext(()=>er(P,x))).pipe((0,pn.P)())});return(0,Se.of)(gt).pipe(nr())}));return(0,Se.of)(he).pipe(nr())}(x,Q.path,U),function fl(x,R,U){const P=R.routeConfig?R.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Se.of)(!0);const Q=P.map(he=>(0,Ce.P)(()=>{const Te=_s(R)??U,gt=vo(he,Te);return fr(function ao(x){return x&&wa(x.canActivate)}(gt)?gt.canActivate(R,x):Te.runInContext(()=>gt(R,x))).pipe((0,pn.P)())}));return(0,Se.of)(Q).pipe(nr())}(x,Q.route,U))),(0,pn.P)(Q=>!0!==Q,!0))}(P,he,x,R):(0,Se.of)(gt)),(0,Ge.U)(gt=>({...U,guardsResult:gt})))})}(this.environmentInjector,Ut=>this.events.next(Ut)),(0,tn.b)(Ut=>{if(Te.guardsResult=Ut.guardsResult,yn(Ut.guardsResult))throw _o(0,Ut.guardsResult);const er=new _e(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects),Ut.targetSnapshot,!!Ut.guardsResult);this.events.next(er)}),(0,Qe.h)(Ut=>!!Ut.guardsResult||(this.cancelNavigationTransition(Ut,"",3),!1)),Ha(Ut=>{if(Ut.guards.canActivateChecks.length)return(0,Se.of)(Ut).pipe((0,tn.b)(er=>{const Zr=new je(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Zr)}),(0,Oe.w)(er=>{let Zr=!1;return(0,Se.of)(er).pipe(function Ua(x,R){return(0,kt.z)(U=>{const{targetSnapshot:P,guards:{canActivateChecks:Q}}=U;if(!Q.length)return(0,Se.of)(U);let he=0;return(0,ye.D)(Q).pipe((0,cn.b)(Te=>function Ba(x,R,U,P){const Q=x.routeConfig,he=x._resolve;return void 0!==Q?.title&&!co(Q)&&(he[Xn]=Q.title),function ml(x,R,U,P){const Q=function hs(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===Q.length)return(0,Se.of)({});const he={};return(0,ye.D)(Q).pipe((0,kt.z)(Te=>function ja(x,R,U,P){const Q=_s(R)??P,he=vo(x,Q);return fr(he.resolve?he.resolve(R,U):Q.runInContext(()=>he(R,U)))}(x[Te],R,U,P).pipe((0,pn.P)(),(0,tn.b)(gt=>{he[Te]=gt}))),Rr(1),function ot(x){return(0,Ge.U)(()=>x)}(he),(0,rr.K)(Te=>Js(Te)?ht.E:(0,lt._)(Te)))}(he,x,R,P).pipe((0,Ge.U)(Te=>(x._resolvedData=Te,x.data=Ss(x,U).resolve,Q&&co(Q)&&(x.data[Xn]=Q.title),null)))}(Te.route,P,x,R)),(0,tn.b)(()=>he++),Rr(1),(0,kt.z)(Te=>he===Q.length?(0,Se.of)(U):ht.E))})}(P.paramsInheritanceStrategy,this.environmentInjector),(0,tn.b)({next:()=>Zr=!0,complete:()=>{Zr||this.cancelNavigationTransition(er,"",2)}}))}),(0,tn.b)(er=>{const Zr=new ft(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Zr)}))}),Ha(Ut=>{const er=Zr=>{const Bi=[];Zr.routeConfig?.loadComponent&&!Zr.routeConfig._loadedComponent&&Bi.push(this.configLoader.loadComponent(Zr.routeConfig).pipe((0,tn.b)(Tn=>{Zr.component=Tn}),(0,Ge.U)(()=>{})));for(const Tn of Zr.children)Bi.push(...er(Tn));return Bi};return(0,Ae.a)(er(Ut.targetSnapshot.root)).pipe((0,hr.d)(),(0,Ke.q)(1))}),Ha(()=>this.afterPreactivation()),(0,Ge.U)(Ut=>{const er=function ki(x,R,U){const P=Hi(x,R._root,U?U._root:void 0);return new Di(P,R)}(P.routeReuseStrategy,Ut.targetSnapshot,Ut.currentRouterState);return this.currentTransition=Te={...Ut,targetRouterState:er},Te}),(0,tn.b)(()=>{this.events.next(new dn)}),((x,R,U,P)=>(0,Ge.U)(Q=>(new Nr(R,Q.targetRouterState,Q.currentRouterState,U,P).activate(x),Q)))(this.rootContexts,P.routeReuseStrategy,Ut=>this.events.next(Ut),this.inputBindingEnabled),(0,Ke.q)(1),(0,tn.b)({next:Ut=>{gt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bs(Ut.id,this.urlSerializer.serialize(Ut.extractedUrl),this.urlSerializer.serialize(Ut.urlAfterRedirects))),P.titleStrategy?.updateTitle(Ut.targetRouterState.snapshot),Ut.resolve(!0)},complete:()=>{gt=!0}}),(0,It.R)(this.transitionAbortSubject.pipe((0,tn.b)(Ut=>{throw Ut}))),(0,pt.x)(()=>{gt||hn||this.cancelNavigationTransition(Te,"",1),this.currentNavigation?.id===Te.id&&(this.currentNavigation=null)}),(0,rr.K)(Ut=>{if(hn=!0,Pa(Ut))this.events.next(new Ye(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Ut.message,Ut.cancellationCode)),function zi(x){return Pa(x)&&yn(x.url)}(Ut)?this.events.next(new kn(Ut.url)):Te.resolve(!1);else{this.events.next(new De(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Ut,Te.targetSnapshot??void 0));try{Te.resolve(P.errorHandler(Ut))}catch(er){Te.reject(er)}}return ht.E}))}))}cancelNavigationTransition(P,Q,he){const Te=new Ye(P.id,this.urlSerializer.serialize(P.extractedUrl),Q,he);this.events.next(Te),P.resolve(!1)}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();function Ze(x){return x!==nn}let Lt=(()=>{var x;class R{buildTitle(P){let Q,he=P.root;for(;void 0!==he;)Q=this.getResolvedTitleForRoute(he)??Q,he=he.children.find(Te=>Te.outlet===Ct);return Q}getResolvedTitleForRoute(P){return P.data[Xn]}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return(0,g.f3M)(gn)},providedIn:"root"}),R})(),gn=(()=>{var x;class R extends Lt{constructor(P){super(),this.title=P}updateTitle(P){const Q=this.buildTitle(P);void 0!==Q&&this.title.setTitle(Q)}}return(x=R).\u0275fac=function(P){return new(P||x)(g.LFG(Ft.Dx))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})(),Fr=(()=>{var x;class R{}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return(0,g.f3M)(ui)},providedIn:"root"}),R})();class Wr{shouldDetach(R){return!1}store(R,U){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,U){return R.routeConfig===U.routeConfig}}let ui=(()=>{var x;class R extends Wr{}return(x=R).\u0275fac=function(){let U;return function(Q){return(U||(U=g.n5z(x)))(Q||x)}}(),x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();const Lr=new g.OlP("",{providedIn:"root",factory:()=>({})});let ns=(()=>{var x;class R{}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:function(){return(0,g.f3M)(Oi)},providedIn:"root"}),R})(),Oi=(()=>{var x;class R{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,Q){return P}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();var qi=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(qi||{});function Fo(x,R){x.events.pipe((0,Qe.h)(U=>U instanceof bs||U instanceof Ye||U instanceof De||U instanceof re),(0,Ge.U)(U=>U instanceof bs||U instanceof re?qi.COMPLETE:U instanceof Ye&&(0===U.code||1===U.code)?qi.REDIRECTING:qi.FAILED),(0,Qe.h)(U=>U!==qi.REDIRECTING),(0,Ke.q)(1)).subscribe(()=>{R()})}function ma(x){throw x}function ea(x,R,U){return R.parse("/")}const Lo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let is=(()=>{var x;class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this._events=new xt.x,this.options=(0,g.f3M)(Lr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||ma,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ea,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(ns),this.routeReuseStrategy=(0,g.f3M)(Fr),this.titleStrategy=(0,g.f3M)(Lt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(S,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(ve),this.urlSerializer=(0,g.f3M)(ar),this.location=(0,g.f3M)(xe.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ds,{optional:!0}),this.eventsSubscription=new jt.w0,this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ds(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(P=>{this.lastSuccessfulId=P.id,this.currentPageId=this.browserPageId},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const P=this.navigationTransitions.events.subscribe(Q=>{try{const{currentTransition:he}=this.navigationTransitions;if(null===he)return void(Ai(Q)&&this._events.next(Q));if(Q instanceof Ji)Ze(he.source)&&(this.browserUrlTree=he.extractedUrl);else if(Q instanceof re)this.rawUrlTree=he.rawUrl;else if(Q instanceof $){if("eager"===this.urlUpdateStrategy){if(!he.extras.skipLocationChange){const Te=this.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl);this.setBrowserUrl(Te,he)}this.browserUrlTree=he.urlAfterRedirects}}else if(Q instanceof dn)this.currentUrlTree=he.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl),this.routerState=he.targetRouterState,"deferred"===this.urlUpdateStrategy&&(he.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,he),this.browserUrlTree=he.urlAfterRedirects);else if(Q instanceof Ye)0!==Q.code&&1!==Q.code&&(this.navigated=!0),(3===Q.code||2===Q.code)&&this.restoreHistory(he);else if(Q instanceof kn){const Te=this.urlHandlingStrategy.merge(Q.url,he.currentRawUrl),gt={skipLocationChange:he.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ze(he.source)};this.scheduleNavigation(Te,nn,null,gt,{resolve:he.resolve,reject:he.reject,promise:he.promise})}Q instanceof De&&this.restoreHistory(he,!0),Q instanceof bs&&(this.navigated=!0),Ai(Q)&&this._events.next(Q)}catch(he){this.navigationTransitions.transitionAbortSubject.next(he)}});this.eventsSubscription.add(P)}resetRootComponentType(P){this.routerState.root.component=P,this.navigationTransitions.rootComponentType=P}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const P=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nn,P)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const Q="popstate"===P.type?"popstate":"hashchange";"popstate"===Q&&setTimeout(()=>{this.navigateToSyncWithBrowser(P.url,Q,P.state)},0)}))}navigateToSyncWithBrowser(P,Q,he){const Te={replaceUrl:!0},gt=he?.navigationId?he:null;if(he){const Ut={...he};delete Ut.navigationId,delete Ut.\u0275routerPageId,0!==Object.keys(Ut).length&&(Te.state=Ut)}const hn=this.parseUrl(P);this.scheduleNavigation(hn,Q,gt,Te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(P){this.config=P.map(nl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(P,Q={}){const{relativeTo:he,queryParams:Te,fragment:gt,queryParamsHandling:hn,preserveFragment:Ut}=Q,er=Ut?this.currentUrlTree.fragment:gt;let Bi,Zr=null;switch(hn){case"merge":Zr={...this.currentUrlTree.queryParams,...Te};break;case"preserve":Zr=this.currentUrlTree.queryParams;break;default:Zr=Te||null}null!==Zr&&(Zr=this.removeEmptyProps(Zr));try{Bi=ur(he?he.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof P[0]||!P[0].startsWith("/"))&&(P=[]),Bi=this.currentUrlTree.root}return Mi(Bi,P,Zr,er??null)}navigateByUrl(P,Q={skipLocationChange:!1}){const he=yn(P)?P:this.parseUrl(P),Te=this.urlHandlingStrategy.merge(he,this.rawUrlTree);return this.scheduleNavigation(Te,nn,null,Q)}navigate(P,Q={skipLocationChange:!1}){return function uo(x){for(let R=0;R<x.length;R++)if(null==x[R])throw new g.vHH(4008,!1)}(P),this.navigateByUrl(this.createUrlTree(P,Q),Q)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let Q;try{Q=this.urlSerializer.parse(P)}catch(he){Q=this.malformedUriErrorHandler(he,this.urlSerializer,P)}return Q}isActive(P,Q){let he;if(he=!0===Q?{...Lo}:!1===Q?{...rs}:Q,yn(P))return wi(this.currentUrlTree,P,he);const Te=this.parseUrl(P);return wi(this.currentUrlTree,Te,he)}removeEmptyProps(P){return Object.keys(P).reduce((Q,he)=>{const Te=P[he];return null!=Te&&(Q[he]=Te),Q},{})}scheduleNavigation(P,Q,he,Te,gt){if(this.disposed)return Promise.resolve(!1);let hn,Ut,er;gt?(hn=gt.resolve,Ut=gt.reject,er=gt.promise):er=new Promise((Bi,Tn)=>{hn=Bi,Ut=Tn});const Zr=this.pendingTasks.add();return Fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zr))}),this.navigationTransitions.handleNavigationRequest({source:Q,restoredState:he,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:P,extras:Te,resolve:hn,reject:Ut,promise:er,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),er.catch(Bi=>Promise.reject(Bi))}setBrowserUrl(P,Q){const he=this.urlSerializer.serialize(P);if(this.location.isCurrentPathEqualTo(he)||Q.extras.replaceUrl){const gt={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId)};this.location.replaceState(he,"",gt)}else{const Te={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId+1)};this.location.go(he,"",Te)}}restoreHistory(P,Q=!1){if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-this.browserPageId;0!==Te?this.location.historyGo(Te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Te&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Q&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(P,Q){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:Q}:{navigationId:P}}}return(x=R).\u0275fac=function(P){return new(P||x)},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();function Ai(x){return!(x instanceof dn||x instanceof kn)}let Ll=(()=>{var x;class R{constructor(P,Q,he,Te,gt,hn){this.router=P,this.route=Q,this.tabIndexAttribute=he,this.renderer=Te,this.el=gt,this.locationStrategy=hn,this.href=null,this.commands=null,this.onChanges=new xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ut=gt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ut||"area"===Ut,this.isAnchorElement?this.subscription=P.events.subscribe(er=>{er instanceof bs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(P){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",P)}ngOnChanges(P){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(P){null!=P?(this.commands=Array.isArray(P)?P:[P],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(P,Q,he,Te,gt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==P||Q||he||Te||gt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const P=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",P)}applyAttributeValue(P,Q){const he=this.renderer,Te=this.el.nativeElement;null!==Q?he.setAttribute(Te,P,Q):he.removeAttribute(Te,P)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(x=R).\u0275fac=function(P){return new(P||x)(g.Y36(is),g.Y36(us),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(xe.S$))},x.\u0275dir=g.lG2({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,Q){1&P&&g.NdJ("click",function(Te){return Q.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&P&&g.uIk("target",Q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),R})();class iu{}let wo=(()=>{var x;class R{constructor(P,Q,he,Te,gt){this.router=P,this.injector=he,this.preloadingStrategy=Te,this.loader=gt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Qe.h)(P=>P instanceof bs),(0,cn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,Q){const he=[];for(const Te of Q){Te.providers&&!Te._injector&&(Te._injector=(0,g.MMx)(Te.providers,P,`Route: ${Te.path}`));const gt=Te._injector??P,hn=Te._loadedInjector??gt;(Te.loadChildren&&!Te._loadedRoutes&&void 0===Te.canLoad||Te.loadComponent&&!Te._loadedComponent)&&he.push(this.preloadConfig(gt,Te)),(Te.children||Te._loadedRoutes)&&he.push(this.processRoutes(hn,Te.children??Te._loadedRoutes))}return(0,ye.D)(he).pipe((0,at.J)())}preloadConfig(P,Q){return this.preloadingStrategy.preload(Q,()=>{let he;he=Q.loadChildren&&void 0===Q.canLoad?this.loader.loadChildren(P,Q):(0,Se.of)(null);const Te=he.pipe((0,kt.z)(gt=>null===gt?(0,Se.of)(void 0):(Q._loadedRoutes=gt.routes,Q._loadedInjector=gt.injector,this.processRoutes(gt.injector??P,gt.routes))));if(Q.loadComponent&&!Q._loadedComponent){const gt=this.loader.loadComponent(Q);return(0,ye.D)([Te,gt]).pipe((0,at.J)())}return Te})}}return(x=R).\u0275fac=function(P){return new(P||x)(g.LFG(is),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(iu),g.LFG(J))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),R})();const _l=new g.OlP("");let Fc=(()=>{var x;class R{constructor(P,Q,he,Te,gt={}){this.urlSerializer=P,this.transitions=Q,this.viewportScroller=he,this.zone=Te,this.options=gt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},gt.scrollPositionRestoration=gt.scrollPositionRestoration||"disabled",gt.anchorScrolling=gt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof bs?(this.lastId=P.id,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.urlAfterRedirects).fragment)):P instanceof re&&0===P.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Bt&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,Q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Bt(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,Q))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(x=R).\u0275fac=function(P){g.$Z()},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac}),R})();function Ca(x,R){return{\u0275kind:x,\u0275providers:R}}function su(){const x=(0,g.f3M)(g.zs3);return R=>{const U=x.get(g.z2F);if(R!==U.components[0])return;const P=x.get(is),Q=x.get(br);1===x.get(yl)&&P.initialNavigation(),x.get(nc,null,g.XFs.Optional)?.setUpPreloading(),x.get(_l,null,g.XFs.Optional)?.init(),P.resetRootComponentType(U.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const br=new g.OlP("",{factory:()=>new xt.x}),yl=new g.OlP("",{providedIn:"root",factory:()=>1}),nc=new g.OlP("");function Ul(x){return Ca(0,[{provide:nc,useExisting:wo},{provide:iu,useExisting:x}])}const jc=new g.OlP("ROUTER_FORROOT_GUARD"),Yt=[xe.Ye,{provide:ar,useClass:Vi},is,qr,{provide:us,useFactory:function ta(x){return x.routerState.root},deps:[is]},J,[]];function di(){return new g.PXZ("Router",is)}let Cs=(()=>{var x;class R{constructor(P){}static forRoot(P,Q){return{ngModule:R,providers:[Yt,[],{provide:S,multi:!0,useValue:P},{provide:jc,useFactory:Ui,deps:[[is,new g.FiY,new g.tp0]]},{provide:Lr,useValue:Q||{}},Q?.useHash?{provide:xe.S$,useClass:xe.Do}:{provide:xe.S$,useClass:xe.b0},{provide:_l,useFactory:()=>{const x=(0,g.f3M)(xe.EM),R=(0,g.f3M)(g.R0b),U=(0,g.f3M)(Lr),P=(0,g.f3M)(ve),Q=(0,g.f3M)(ar);return U.scrollOffset&&x.setOffset(U.scrollOffset),new Fc(Q,P,x,R,U)}},Q?.preloadingStrategy?Ul(Q.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:di},Q?.initialNavigation?Xt(Q):[],Q?.bindToComponentInputs?Ca(8,[Ls,{provide:ds,useExisting:Ls}]).\u0275providers:[],[{provide:Jn,useFactory:su},{provide:g.tb,multi:!0,useExisting:Jn}]]}}static forChild(P){return{ngModule:R,providers:[{provide:S,multi:!0,useValue:P}]}}}return(x=R).\u0275fac=function(P){return new(P||x)(g.LFG(jc,8))},x.\u0275mod=g.oAB({type:x}),x.\u0275inj=g.cJS({}),R})();function Ui(x){return"guarded"}function Xt(x){return["disabled"===x.initialNavigation?Ca(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const R=(0,g.f3M)(is);return()=>{R.setUpLocationChangeListener()}}},{provide:yl,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Ca(2,[{provide:yl,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:R=>{const U=R.get(xe.V_,Promise.resolve());return()=>U.then(()=>new Promise(P=>{const Q=R.get(is),he=R.get(br);Fo(Q,()=>{P(!0)}),R.get(ve).afterPreactivation=()=>(P(!0),he.closed?(0,Se.of)(void 0):he),Q.initialNavigation()}))}}]).\u0275providers:[]]}const Jn=new g.OlP("")},3106:(on,et,V)=>{V.d(et,{Z:()=>jt});var g=V(9058),z=V(4537),ie=V(534),b=V(7879);class ye{constructor(Rt,St){this._delegate=Rt,this.firebase=St,(0,ie._addComponent)(Rt,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Rt){this._delegate.automaticDataCollectionEnabled=Rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Rt=>{this._delegate.checkDestroyed(),Rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(Rt,St=ie._DEFAULT_ENTRY_NAME){var Kt;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Rt);return!xt.isInitialized()&&"EXPLICIT"===(null===(Kt=xt.getComponent())||void 0===Kt?void 0:Kt.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:St})}_removeServiceInstance(Rt,St=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Rt).clearInstance(St)}_addComponent(Rt){(0,ie._addComponent)(this._delegate,Rt)}_addOrOverwriteComponent(Rt){(0,ie._addOrOverwriteComponent)(this._delegate,Rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Fe(){const At=function Ae(At){const Rt={},St={__esModule:!0,initializeApp:function xe(Dt,Qe={}){const kt=ie.initializeApp(Dt,Qe);if((0,g.r3)(Rt,kt.name))return Rt[kt.name];const pn=new At(kt,St);return Rt[kt.name]=pn,pn},app:xt,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Dt){const Qe=Dt.name,kt=Qe.replace("-compat","");if(ie._registerComponent(Dt)&&"PUBLIC"===Dt.type){const pn=(cn=xt())=>{if("function"!=typeof cn[kt])throw Le.create("invalid-app-argument",{appName:Qe});return cn[kt]()};void 0!==Dt.serviceProps&&(0,g.ZB)(pn,Dt.serviceProps),St[kt]=pn,At.prototype[kt]=function(...cn){return this._getService.bind(this,Qe).apply(this,Dt.multipleInstances?cn:[])}}return"PUBLIC"===Dt.type?St[kt]:null},removeApp:function Kt(Dt){delete Rt[Dt]},useAsService:function Ke(Dt,Qe){return"serverAuth"===Qe?null:Qe},modularAPIs:ie}};function xt(Dt){if(!(0,g.r3)(Rt,Dt=Dt||ie._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:Dt});return Rt[Dt]}return St.default=St,Object.defineProperty(St,"apps",{get:function Ge(){return Object.keys(Rt).map(Dt=>Rt[Dt])}}),xt.App=At,St}(ye);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function Rt(St){(0,g.ZB)(At,St)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),At}(),Ce=new b.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){Ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&Ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jt=ce;!function ht(At){(0,ie.registerVersion)("@firebase/app-compat","0.2.13",At)}()},534:(on,et,V)=>{V.r(et),V.d(et,{FirebaseError:()=>b.ZR,SDK_VERSION:()=>wt,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>mr,_addOrOverwriteComponent:()=>ls,_apps:()=>jr,_clearComponents:()=>Ii,_components:()=>_r,_getProvider:()=>Vi,_registerComponent:()=>ar,_removeServiceInstance:()=>xr,deleteApp:()=>un,getApp:()=>rt,getApps:()=>Nt,initializeApp:()=>qe,onLog:()=>cr,registerVersion:()=>Gn,setLogLevel:()=>_i});var g=V(5861),z=V(4537),ie=V(7879),b=V(9058);const ye=(bt,ut)=>ut.some(zt=>bt instanceof zt);let Se,Le;const ce=new WeakMap,Ce=new WeakMap,$e=new WeakMap,lt=new WeakMap,ht=new WeakMap;let Rt={get(bt,ut,zt){if(bt instanceof IDBTransaction){if("done"===ut)return Ce.get(bt);if("objectStoreNames"===ut)return bt.objectStoreNames||$e.get(bt);if("store"===ut)return zt.objectStoreNames[1]?void 0:zt.objectStore(zt.objectStoreNames[0])}return xe(bt[ut])},set:(bt,ut,zt)=>(bt[ut]=zt,!0),has:(bt,ut)=>bt instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in bt};function xt(bt){return"function"==typeof bt?function Kt(bt){return bt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(bt)?function(...ut){return bt.apply(Ge(this),ut),xe(ce.get(this))}:function(...ut){return xe(bt.apply(Ge(this),ut))}:function(ut,...zt){const mn=bt.call(Ge(this),ut,...zt);return $e.set(mn,ut.sort?ut.sort():[ut]),xe(mn)}}(bt):(bt instanceof IDBTransaction&&function At(bt){if(Ce.has(bt))return;const ut=new Promise((zt,mn)=>{const en=()=>{bt.removeEventListener("complete",Mn),bt.removeEventListener("error",ir),bt.removeEventListener("abort",ir)},Mn=()=>{zt(),en()},ir=()=>{mn(bt.error||new DOMException("AbortError","AbortError")),en()};bt.addEventListener("complete",Mn),bt.addEventListener("error",ir),bt.addEventListener("abort",ir)});Ce.set(bt,ut)}(bt),ye(bt,function Ae(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(bt,Rt):bt)}function xe(bt){if(bt instanceof IDBRequest)return function jt(bt){const ut=new Promise((zt,mn)=>{const en=()=>{bt.removeEventListener("success",Mn),bt.removeEventListener("error",ir)},Mn=()=>{zt(xe(bt.result)),en()},ir=()=>{mn(bt.error),en()};bt.addEventListener("success",Mn),bt.addEventListener("error",ir)});return ut.then(zt=>{zt instanceof IDBCursor&&ce.set(zt,bt)}).catch(()=>{}),ht.set(ut,bt),ut}(bt);if(lt.has(bt))return lt.get(bt);const ut=xt(bt);return ut!==bt&&(lt.set(bt,ut),ht.set(ut,bt)),ut}const Ge=bt=>ht.get(bt),Dt=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],kt=new Map;function pn(bt,ut){var zt;if(!(bt instanceof IDBDatabase)||ut in bt||"string"!=typeof ut)return;if(kt.get(ut))return kt.get(ut);const mn=ut.replace(/FromIndex$/,""),en=ut!==mn,Mn=Qe.includes(mn);if(!(mn in(en?IDBIndex:IDBObjectStore).prototype)||!Mn&&!Dt.includes(mn))return;const ir=function(mi){return(zt=zt||(0,g.Z)(function*(Qt,...$r){const Hr=this.transaction(Qt,Mn?"readwrite":"readonly");let Tr=Hr.store;return en&&(Tr=Tr.index($r.shift())),(yield Promise.all([Tr[mn](...$r),Mn&&Hr.done]))[0]})).apply(this,arguments)};return kt.set(ut,ir),ir}var cn,tn,rr;!function St(bt){Rt=bt(Rt)}(bt=>({...bt,get:(ut,zt,mn)=>pn(ut,zt)||bt.get(ut,zt,mn),has:(ut,zt)=>!!pn(ut,zt)||bt.has(ut,zt)}));class Br{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function hr(bt){const ut=bt.getComponent();return"VERSION"===ut?.type}(zt)){const mn=zt.getImmediate();return`${mn.library}/${mn.version}`}return null}).filter(zt=>zt).join(" ")}}const Rr="@firebase/app",dt=new ie.Yd("@firebase/app"),or="[DEFAULT]",pr={[Rr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jr=new Map,_r=new Map;function mr(bt,ut){try{bt.container.addComponent(ut)}catch(zt){dt.debug(`Component ${ut.name} failed to register with FirebaseApp ${bt.name}`,zt)}}function ls(bt,ut){bt.container.addOrOverwriteComponent(ut)}function ar(bt){const ut=bt.name;if(_r.has(ut))return dt.debug(`There were multiple attempts to register component ${ut}.`),!1;_r.set(ut,bt);for(const zt of jr.values())mr(zt,bt);return!0}function Vi(bt,ut){const zt=bt.container.getProvider("heartbeat").getImmediate({optional:!0});return zt&&zt.triggerHeartbeat(),bt.container.getProvider(ut)}function xr(bt,ut,zt=or){Vi(bt,ut).clearInstance(zt)}function Ii(){_r.clear()}const vt=new b.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class We{constructor(ut,zt,mn){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=mn,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}const wt="9.23.0";function qe(bt,ut={}){let zt=bt;"object"!=typeof ut&&(ut={name:ut});const mn=Object.assign({name:or,automaticDataCollectionEnabled:!1},ut),en=mn.name;if("string"!=typeof en||!en)throw vt.create("bad-app-name",{appName:String(en)});if(zt||(zt=(0,b.aH)()),!zt)throw vt.create("no-options");const Mn=jr.get(en);if(Mn){if((0,b.vZ)(zt,Mn.options)&&(0,b.vZ)(mn,Mn.config))return Mn;throw vt.create("duplicate-app",{appName:en})}const ir=new z.H0(en);for(const mi of _r.values())ir.addComponent(mi);const Xr=new We(zt,mn,ir);return jr.set(en,Xr),Xr}function rt(bt=or){const ut=jr.get(bt);if(!ut&&bt===or&&(0,b.aH)())return qe();if(!ut)throw vt.create("no-app",{appName:bt});return ut}function Nt(){return Array.from(jr.values())}function un(bt){return(cn=cn||(0,g.Z)(function*(ut){const zt=ut.name;jr.has(zt)&&(jr.delete(zt),yield Promise.all(ut.container.getProviders().map(mn=>mn.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function Gn(bt,ut,zt){var mn;let en=null!==(mn=pr[bt])&&void 0!==mn?mn:bt;zt&&(en+=`-${zt}`);const Mn=en.match(/\s|\//),ir=ut.match(/\s|\//);if(Mn||ir){const Xr=[`Unable to register library "${en}" with version "${ut}":`];return Mn&&Xr.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Mn&&ir&&Xr.push("and"),ir&&Xr.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void dt.warn(Xr.join(" "))}ar(new z.wA(`${en}-version`,()=>({library:en,version:ut}),"VERSION"))}function cr(bt,ut){if(null!==bt&&"function"!=typeof bt)throw vt.create("invalid-log-argument");(0,ie.Am)(bt,ut)}function _i(bt){(0,ie.Ub)(bt)}const ge="firebase-heartbeat-database",q=1,N="firebase-heartbeat-store";let L=null;function F(){return L||(L=function Oe(bt,ut,{blocked:zt,upgrade:mn,blocking:en,terminated:Mn}={}){const ir=indexedDB.open(bt,ut),Xr=xe(ir);return mn&&ir.addEventListener("upgradeneeded",mi=>{mn(xe(ir.result),mi.oldVersion,mi.newVersion,xe(ir.transaction),mi)}),zt&&ir.addEventListener("blocked",mi=>zt(mi.oldVersion,mi.newVersion,mi)),Xr.then(mi=>{Mn&&mi.addEventListener("close",()=>Mn()),en&&mi.addEventListener("versionchange",Qt=>en(Qt.oldVersion,Qt.newVersion,Qt))}).catch(()=>{}),Xr}(ge,q,{upgrade:(bt,ut)=>{0===ut&&bt.createObjectStore(N)}}).catch(bt=>{throw vt.create("idb-open",{originalErrorMessage:bt.message})})),L}function ze(bt,ut){return(rr=rr||(0,g.Z)(function*(zt,mn){try{const Mn=(yield F()).transaction(N,"readwrite");yield Mn.objectStore(N).put(mn,mt(zt)),yield Mn.done}catch(en){if(en instanceof b.ZR)dt.warn(en.message);else{const Mn=vt.create("idb-set",{originalErrorMessage:en?.message});dt.warn(Mn.message)}}})).apply(this,arguments)}function mt(bt){return`${bt.name}!${bt.options.appId}`}class xn{constructor(ut){this.container=ut,this._heartbeatsCache=null;const zt=this.container.getProvider("app").getImmediate();this._storage=new ur(zt),this._heartbeatsCachePromise=this._storage.read().then(mn=>(this._heartbeatsCache=mn,mn))}triggerHeartbeat(){var ut=this;return(0,g.Z)(function*(){const mn=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=yn();if(null===ut._heartbeatsCache&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==en&&!ut._heartbeatsCache.heartbeats.some(Mn=>Mn.date===en))return ut._heartbeatsCache.heartbeats.push({date:en,agent:mn}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(Mn=>{const ir=new Date(Mn.date).valueOf();return Date.now()-ir<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,g.Z)(function*(){if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null===ut._heartbeatsCache||0===ut._heartbeatsCache.heartbeats.length)return"";const zt=yn(),{heartbeatsToSend:mn,unsentEntries:en}=function qn(bt,ut=1024){const zt=[];let mn=bt.slice();for(const en of bt){const Mn=zt.find(ir=>ir.agent===en.agent);if(Mn){if(Mn.dates.push(en.date),Mi(zt)>ut){Mn.dates.pop();break}}else if(zt.push({agent:en.agent,dates:[en.date]}),Mi(zt)>ut){zt.pop();break}mn=mn.slice(1)}return{heartbeatsToSend:zt,unsentEntries:mn}}(ut._heartbeatsCache.heartbeats),Mn=(0,b.L)(JSON.stringify({version:2,heartbeats:mn}));return ut._heartbeatsCache.lastSentHeartbeatDate=zt,en.length>0?(ut._heartbeatsCache.heartbeats=en,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),Mn})()}}function yn(){return(new Date).toISOString().substring(0,10)}class ur{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,b.hl)()&&(0,b.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,g.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function le(bt){return(tn=tn||(0,g.Z)(function*(ut){try{return yield(yield F()).transaction(N).objectStore(N).get(mt(ut))}catch(zt){if(zt instanceof b.ZR)dt.warn(zt.message);else{const mn=vt.create("idb-get",{originalErrorMessage:zt?.message});dt.warn(mn.message)}}})).apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var zt=this;return(0,g.Z)(function*(){var mn;if(yield zt._canUseIndexedDBPromise){const Mn=yield zt.read();return ze(zt.app,{lastSentHeartbeatDate:null!==(mn=ut.lastSentHeartbeatDate)&&void 0!==mn?mn:Mn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var zt=this;return(0,g.Z)(function*(){var mn;if(yield zt._canUseIndexedDBPromise){const Mn=yield zt.read();return ze(zt.app,{lastSentHeartbeatDate:null!==(mn=ut.lastSentHeartbeatDate)&&void 0!==mn?mn:Mn.lastSentHeartbeatDate,heartbeats:[...Mn.heartbeats,...ut.heartbeats]})}})()}}function Mi(bt){return(0,b.L)(JSON.stringify({version:2,heartbeats:bt})).length}!function pi(bt){ar(new z.wA("platform-logger",ut=>new Br(ut),"PRIVATE")),ar(new z.wA("heartbeat",ut=>new xn(ut),"PRIVATE")),Gn(Rr,"0.9.13",bt),Gn(Rr,"0.9.13","esm2017"),Gn("fire-js","")}("")},4537:(on,et,V)=>{V.d(et,{H0:()=>Ae,wA:()=>ie});var g=V(5861),z=V(9058);class ie{constructor(ce,Ce,$e){this.name=ce,this.instanceFactory=Ce,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const b="[DEFAULT]";class ye{constructor(ce,Ce){this.name=ce,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const Ce=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(Ce)){const $e=new z.BH;if(this.instancesDeferred.set(Ce,$e),this.isInitialized(Ce)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:Ce});lt&&$e.resolve(lt)}catch{}}return this.instancesDeferred.get(Ce).promise}getImmediate(ce){var Ce;const $e=this.normalizeInstanceIdentifier(ce?.identifier),lt=null!==(Ce=ce?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(ht){if(lt)return null;throw ht}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Le(Fe){return"EAGER"===Fe.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:b})}catch{}for(const[Ce,$e]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(Ce);try{const ht=this.getOrInitializeService({instanceIdentifier:lt});$e.resolve(ht)}catch{}}}}clearInstance(ce=b){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,g.Z)(function*(){const Ce=Array.from(ce.instances.values());yield Promise.all([...Ce.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...Ce.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=b){return this.instances.has(ce)}getOptions(ce=b){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:Ce={}}=ce,$e=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:$e,options:Ce});for(const[ht,jt]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(ht)&&jt.resolve(lt);return lt}onInit(ce,Ce){var $e;const lt=this.normalizeInstanceIdentifier(Ce),ht=null!==($e=this.onInitCallbacks.get(lt))&&void 0!==$e?$e:new Set;ht.add(ce),this.onInitCallbacks.set(lt,ht);const jt=this.instances.get(lt);return jt&&ce(jt,lt),()=>{ht.delete(ce)}}invokeOnInitCallbacks(ce,Ce){const $e=this.onInitCallbacks.get(Ce);if($e)for(const lt of $e)try{lt(ce,Ce)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:Ce={}}){let $e=this.instances.get(ce);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=ce,Fe===b?void 0:Fe),options:Ce}),this.instances.set(ce,$e),this.instancesOptions.set(ce,Ce),this.invokeOnInitCallbacks($e,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,$e)}catch{}var Fe;return $e||null}normalizeInstanceIdentifier(ce=b){return this.component?this.component.multipleInstances?ce:b:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const Ce=this.getProvider(ce.name);if(Ce.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);Ce.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const Ce=new ye(ce,this);return this.providers.set(ce,Ce),Ce}getProviders(){return Array.from(this.providers.values())}}},7879:(on,et,V)=>{V.d(et,{Am:()=>Fe,Ub:()=>Ae,Yd:()=>Le,in:()=>z});const g=[];var z=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(z||{});const ie={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},b=z.INFO,ye={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Se=(ce,Ce,...$e)=>{if(Ce<ce.logLevel)return;const lt=(new Date).toISOString(),ht=ye[Ce];if(!ht)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`);console[ht](`[${lt}]  ${ce.name}:`,...$e)};class Le{constructor(Ce){this.name=Ce,this._logLevel=b,this._logHandler=Se,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in z))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel="string"==typeof Ce?ie[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if("function"!=typeof Ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Ce),this._logHandler(this,z.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Ce),this._logHandler(this,z.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Ce),this._logHandler(this,z.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Ce),this._logHandler(this,z.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Ce),this._logHandler(this,z.ERROR,...Ce)}}function Ae(ce){g.forEach(Ce=>{Ce.setLogLevel(ce)})}function Fe(ce,Ce){for(const $e of g){let lt=null;Ce&&Ce.level&&(lt=ie[Ce.level]),$e.userLogHandler=null===ce?null:(ht,jt,...At)=>{const Rt=At.map(St=>{if(null==St)return null;if("string"==typeof St)return St;if("number"==typeof St||"boolean"==typeof St)return St.toString();if(St instanceof Error)return St.message;try{return JSON.stringify(St)}catch{return null}}).filter(St=>St).join(" ");jt>=(lt??ht.logLevel)&&ce({level:z[jt].toLowerCase(),message:Rt,args:At,type:ht.name})}}}},5861:(on,et,V)=>{function g(ie,b,ye,Se,Le,Ae,Fe){try{var ce=ie[Ae](Fe),Ce=ce.value}catch($e){return void ye($e)}ce.done?b(Ce):Promise.resolve(Ce).then(Se,Le)}function z(ie){return function(){var b=this,ye=arguments;return new Promise(function(Se,Le){var Ae=ie.apply(b,ye);function Fe(Ce){g(Ae,Se,Le,Fe,ce,"next",Ce)}function ce(Ce){g(Ae,Se,Le,Fe,ce,"throw",Ce)}Fe(void 0)})}}V.d(et,{Z:()=>z})},7582:(on,et,V)=>{function b(dt,Et){var ot={};for(var pt in dt)Object.prototype.hasOwnProperty.call(dt,pt)&&Et.indexOf(pt)<0&&(ot[pt]=dt[pt]);if(null!=dt&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(pt=Object.getOwnPropertySymbols(dt);It<pt.length;It++)Et.indexOf(pt[It])<0&&Object.prototype.propertyIsEnumerable.call(dt,pt[It])&&(ot[pt[It]]=dt[pt[It]])}return ot}function $e(dt,Et,ot,pt){return new(ot||(ot=Promise))(function(at,Ft){function Ct(Nn){try{Sn(pt.next(Nn))}catch(Pn){Ft(Pn)}}function Xn(Nn){try{Sn(pt.throw(Nn))}catch(Pn){Ft(Pn)}}function Sn(Nn){Nn.done?at(Nn.value):function It(at){return at instanceof ot?at:new ot(function(Ft){Ft(at)})}(Nn.value).then(Ct,Xn)}Sn((pt=pt.apply(dt,Et||[])).next())})}function xe(dt){return this instanceof xe?(this.v=dt,this):new xe(dt)}function Ge(dt,Et,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,pt=ot.apply(dt,Et||[]),at=[];return It={},Ft("next"),Ft("throw"),Ft("return"),It[Symbol.asyncIterator]=function(){return this},It;function Ft(Ir){pt[Ir]&&(It[Ir]=function(Wn){return new Promise(function(Sr,Ln){at.push([Ir,Wn,Sr,Ln])>1||Ct(Ir,Wn)})})}function Ct(Ir,Wn){try{!function Xn(Ir){Ir.value instanceof xe?Promise.resolve(Ir.value.v).then(Sn,Nn):Pn(at[0][2],Ir)}(pt[Ir](Wn))}catch(Sr){Pn(at[0][3],Sr)}}function Sn(Ir){Ct("next",Ir)}function Nn(Ir){Ct("throw",Ir)}function Pn(Ir,Wn){Ir(Wn),at.shift(),at.length&&Ct(at[0][0],at[0][1])}}function Ke(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Et=dt[Symbol.asyncIterator];return Et?Et.call(dt):(dt=function At(dt){var Et="function"==typeof Symbol&&Symbol.iterator,ot=Et&&dt[Et],pt=0;if(ot)return ot.call(dt);if(dt&&"number"==typeof dt.length)return{next:function(){return dt&&pt>=dt.length&&(dt=void 0),{value:dt&&dt[pt++],done:!dt}}};throw new TypeError(Et?"Object is not iterable.":"Symbol.iterator is not defined.")}(dt),ot={},pt("next"),pt("throw"),pt("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function pt(at){ot[at]=dt[at]&&function(Ft){return new Promise(function(Ct,Xn){!function It(at,Ft,Ct,Xn){Promise.resolve(Xn).then(function(Sn){at({value:Sn,done:Ct})},Ft)}(Ct,Xn,(Ft=dt[at](Ft)).done,Ft.value)})}}}V.d(et,{FC:()=>Ge,KL:()=>Ke,_T:()=>b,mG:()=>$e,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},on=>{on(on.s=8642)}]);