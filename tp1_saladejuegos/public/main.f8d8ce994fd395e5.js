"use strict";(self.webpackChunktp1_saladejuegos=self.webpackChunktp1_saladejuegos||[]).push([[179],{2194:(pn,st,V)=>{V.d(st,{nm:()=>Yr});var he,ve,jt,kt,St,d=V(2793),b=(V(5879),V(8726),V(4097),V(5861)),ke=V(534),Ve=V(4537),Ae=V(9058),Fe=V(7879);const Ut=new Map,Re={activated:!1,tokenObservers:[]},Qe={initialized:!1,enabled:!1};function je($){return Ut.get($)||Object.assign({},Re)}function Pt(){return Qe}const et="https://content-firebaseappcheck.googleapis.com/v1",hn="exchangeDebugToken",cn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ei{constructor(ce,Ee,qe,bt,xe){if(this.operation=ce,this.retryPolicy=Ee,this.getWaitDuration=qe,this.lowerBound=bt,this.upperBound=xe,this.pending=null,this.nextErrorWaitInterval=bt,bt>xe)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ce){var Ee=this;return(0,b.Z)(function*(){Ee.stop();try{Ee.pending=new Ae.BH,yield function gr($){return new Promise(ce=>{setTimeout(ce,$)})}(Ee.getNextRun(ce)),Ee.pending.resolve(),yield Ee.pending.promise,Ee.pending=new Ae.BH,yield Ee.operation(),Ee.pending.resolve(),yield Ee.pending.promise,Ee.process(!0).catch(()=>{})}catch(qe){Ee.retryPolicy(qe)?Ee.process(!1).catch(()=>{}):Ee.stop()}})()}getNextRun(ce){if(ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ee=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ee}}}const zn=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ct($){if(!je($).activated)throw zn.create("use-before-activation",{appName:$.name})}function Mt($,ce){return(he=he||(0,b.Z)(function*({url:Ee,body:qe},bt){const xe={"Content-Type":"application/json"},ge=bt.getImmediate({optional:!0});if(ge){const Ln=yield ge.getHeartbeatsHeader();Ln&&(xe["X-Firebase-Client"]=Ln)}const $e={method:"POST",body:JSON.stringify(qe),headers:xe};let De,Ge;try{De=yield fetch(Ee,$e)}catch(Ln){throw zn.create("fetch-network-error",{originalErrorMessage:Ln?.message})}if(200!==De.status)throw zn.create("fetch-status-error",{httpStatus:De.status});try{Ge=yield De.json()}catch(Ln){throw zn.create("fetch-parse-error",{originalErrorMessage:Ln?.message})}const ot=Ge.ttl.match(/^([\d.]+)(s)$/);if(!ot||!ot[2]||isNaN(Number(ot[1])))throw zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ge.ttl}`});const Wt=1e3*Number(ot[1]),vn=Date.now();return{token:Ge.token,expireTimeMillis:vn+Wt,issuedAtTimeMillis:vn}})).apply(this,arguments)}function At($,ce){const{projectId:Ee,appId:qe,apiKey:bt}=$.options;return{url:`${et}/projects/${Ee}/apps/${qe}:${hn}?key=${bt}`,body:{debug_token:ce}}}const Xn="firebase-app-check-database",Mn=1,jn="firebase-app-check-store";let Zn=null;function gi($,ce){return(ve=ve||(0,b.Z)(function*(Ee,qe){const xe=(yield function Fn(){return Zn||(Zn=new Promise(($,ce)=>{try{const Ee=indexedDB.open(Xn,Mn);Ee.onsuccess=qe=>{$(qe.target.result)},Ee.onerror=qe=>{var bt;ce(zn.create("storage-open",{originalErrorMessage:null===(bt=qe.target.error)||void 0===bt?void 0:bt.message}))},Ee.onupgradeneeded=qe=>{0===qe.oldVersion&&qe.target.result.createObjectStore(jn,{keyPath:"compositeKey"})}}catch(Ee){ce(zn.create("storage-open",{originalErrorMessage:Ee?.message}))}}),Zn)}()).transaction(jn,"readwrite"),$e=xe.objectStore(jn).put({compositeKey:Ee,value:qe});return new Promise((De,Ge)=>{$e.onsuccess=ot=>{De()},xe.onerror=ot=>{var Wt;Ge(zn.create("storage-set",{originalErrorMessage:null===(Wt=ot.target.error)||void 0===Wt?void 0:Wt.message}))}})})).apply(this,arguments)}const fi=new Fe.Yd("@firebase/app-check");function kn($,ce){return(0,Ae.hl)()?function br($,ce){return gi(function Kr($){return`${$.options.appId}-${$.name}`}($),ce)}($,ce).catch(Ee=>{fi.warn(`Failed to write token to IndexedDB. Error: ${Ee}`)}):Promise.resolve()}function Yn(){return Pt().enabled}function fr(){return(jt=jt||(0,b.Z)(function*(){const $=Pt();if($.enabled&&$.token)return $.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zr={error:"UNKNOWN_ERROR"};function Er($){return Ae.US.encodeString(JSON.stringify($),!1)}function vr($){return(kt=kt||(0,b.Z)(function*(ce,Ee=!1){const qe=ce.app;Ct(qe);const bt=je(qe);let ge,xe=bt.token;if(xe&&!Et(xe)&&(bt.token=void 0,xe=void 0),!xe){const Ge=yield bt.cachedTokenPromise;Ge&&(Et(Ge)?xe=Ge:yield kn(qe,void 0))}if(!Ee&&xe&&Et(xe))return{token:xe.token};let De,$e=!1;if(Yn()){bt.exchangeTokenPromise||(bt.exchangeTokenPromise=Mt(At(qe,yield fr()),ce.heartbeatServiceProvider).finally(()=>{bt.exchangeTokenPromise=void 0}),$e=!0);const Ge=yield bt.exchangeTokenPromise;return yield kn(qe,Ge),bt.token=Ge,{token:Ge.token}}try{bt.exchangeTokenPromise||(bt.exchangeTokenPromise=bt.provider.getToken().finally(()=>{bt.exchangeTokenPromise=void 0}),$e=!0),xe=yield je(qe).exchangeTokenPromise}catch(Ge){"appCheck/throttled"===Ge.code?fi.warn(Ge.message):fi.error(Ge),ge=Ge}return xe?ge?De=Et(xe)?{token:xe.token,internalError:ge}:Ye(ge):(De={token:xe.token},bt.token=xe,yield kn(qe,xe)):De=Ye(ge),$e&&function wr($,ce){const Ee=je($).tokenObservers;for(const qe of Ee)try{"EXTERNAL"===qe.type&&null!=ce.error?qe.error(ce.error):qe.next(ce)}catch{}}(qe,De),De})).apply(this,arguments)}function Vi($,ce){const Ee=je($),qe=Ee.tokenObservers.filter(bt=>bt.next!==ce);0===qe.length&&Ee.tokenRefresher&&Ee.tokenRefresher.isRunning()&&Ee.tokenRefresher.stop(),Ee.tokenObservers=qe}function Mr($){const{app:ce}=$,Ee=je(ce);let qe=Ee.tokenRefresher;qe||(qe=function Mi($){const{app:ce}=$;return new ei((0,b.Z)(function*(){let qe;if(qe=je(ce).token?yield vr($,!0):yield vr($),qe.error)throw qe.error;if(qe.internalError)throw qe.internalError}),()=>!0,()=>{const Ee=je(ce);if(Ee.token){let qe=Ee.token.issuedAtTimeMillis+.5*(Ee.token.expireTimeMillis-Ee.token.issuedAtTimeMillis)+3e5;return qe=Math.min(qe,Ee.token.expireTimeMillis-3e5),Math.max(0,qe-Date.now())}return 0},cn.RETRIAL_MIN_WAIT,cn.RETRIAL_MAX_WAIT)}($),Ee.tokenRefresher=qe),!qe.isRunning()&&Ee.isTokenAutoRefreshEnabled&&qe.start()}function Et($){return $.expireTimeMillis-Date.now()>0}function Ye($){return{token:Er(Zr),error:$}}class Tt{constructor(ce,Ee){this.app=ce,this.heartbeatServiceProvider=Ee}_delete(){const{tokenObservers:ce}=je(this.app);for(const Ee of ce)Vi(this.app,Ee.next);return Promise.resolve()}}const _n="app-check-internal";!function an(){(0,ke._registerComponent)(new Ve.wA("app-check",$=>function Xe($,ce){return new Tt($,ce)}($.getProvider("app").getImmediate(),$.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($,ce,Ee)=>{$.getProvider(_n).initialize()})),(0,ke._registerComponent)(new Ve.wA(_n,$=>function ht($){return{getToken:ce=>vr($,ce),getLimitedUseToken:()=>function os($){return(St=St||(0,b.Z)(function*(ce){const Ee=ce.app;Ct(Ee);const{provider:qe}=je(Ee);if(Yn()){const bt=yield fr(),{token:xe}=yield Mt(At(Ee,bt),ce.heartbeatServiceProvider);return{token:xe}}{const{token:bt}=yield qe.getToken();return{token:bt}}})).apply(this,arguments)}($),addTokenListener:ce=>function ar($,ce,Ee,qe){const{app:bt}=$,xe=je(bt);if(xe.tokenObservers=[...xe.tokenObservers,{next:Ee,error:qe,type:ce}],xe.token&&Et(xe.token)){const $e=xe.token;Promise.resolve().then(()=>{Ee({token:$e.token}),Mr($)}).catch(()=>{})}xe.cachedTokenPromise.then(()=>Mr($))}($,"INTERNAL",ce),removeTokenListener:ce=>Vi($.app,ce)}}($.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ke.registerVersion)("@firebase/app-check","0.8.0")}();class Yr{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},8726:(pn,st,V)=>{V.d(st,{Ot:()=>Te,ZF:()=>St,hX:()=>lt,z6:()=>b});var d=V(4097),H=V(5879),ae=V(2793);class Te{constructor(Qe){return Qe}}class b{constructor(){return(0,d.C6)()}}const Ae=new H.OlP("angularfire2._apps"),Fe={provide:Te,useFactory:function Ve(Re){return Re&&1===Re.length?Re[0]:new Te((0,d.Mq)())},deps:[[new H.FiY,Ae]]},he={provide:b,deps:[[new H.FiY,Ae]]};function ve(Re){return(Qe,je)=>{const Je=Qe.runOutsideAngular(()=>Re(je));return new Te(Je)}}let Ke=(()=>{class Re{constructor(je){(0,d.KN)("angularfire",ae.q4.full,"core"),(0,d.KN)("angularfire",ae.q4.full,"app"),(0,d.KN)("angular",H.q4F.full,je.toString())}}return Re.\u0275fac=function(je){return new(je||Re)(H.LFG(H.Lbi))},Re.\u0275mod=H.oAB({type:Re}),Re.\u0275inj=H.cJS({providers:[Fe,he]}),Re})();function lt(Re,...Qe){return{ngModule:Ke,providers:[{provide:Ae,useFactory:ve(Re),multi:!0,deps:[H.R0b,H.zs3,ae.HU,...Qe]}]}}const St=(0,ae.u3)(d.ZF,!0)},6304:(pn,st,V)=>{V.d(st,{Dh:()=>Ve,GT:()=>b,cc:()=>lt,on:()=>Fe,pX:()=>Te,xv:()=>Ae});var d=V(5879),H=V(120);pn=V.hmd(pn);const ae=["ngOnDestroy"],Te=(St,Rt,Zt,Ut={})=>new Proxy(St,{get:(Re,Qe)=>Zt.runOutsideAngular(()=>{var je;if(St[Qe])return!(null===(je=Ut?.spy)||void 0===je)&&je.get&&Ut.spy.get(Qe,St[Qe]),St[Qe];if(ae.indexOf(Qe)>-1)return()=>{};const Je=Rt.toPromise().then(Pt=>{const et=Pt&&Pt[Qe];return"function"==typeof et?et.bind(Pt):et&&et.then?et.then(Ft=>Zt.run(()=>Ft)):Zt.run(()=>et)});return new Proxy(()=>{},{get:(Pt,et)=>Je[et],apply:(Pt,et,Ft)=>Je.then(yn=>{var hn;const cn=yn&&yn(...Ft);return!(null===(hn=Ut?.spy)||void 0===hn)&&hn.apply&&Ut.spy.apply(Qe,Ft,cn),cn})})})}),b=(St,Rt)=>{Rt.forEach(Zt=>{Object.getOwnPropertyNames(Zt.prototype||Zt).forEach(Ut=>{Object.defineProperty(St.prototype,Ut,Object.getOwnPropertyDescriptor(Zt.prototype||Zt,Ut))})})};class ke{constructor(Rt){return Rt}}const Ve=new d.OlP("angularfire2.app.options"),Ae=new d.OlP("angularfire2.app.name");function Fe(St,Rt,Zt){const Re="object"==typeof Zt&&Zt||{};Re.name=Re.name||"string"==typeof Zt&&Zt||"[DEFAULT]";const je=H.Z.apps.filter(Je=>Je&&Je.name===Re.name)[0]||Rt.runOutsideAngular(()=>H.Z.initializeApp(St,Re));try{JSON.stringify(St)!==JSON.stringify(je.options)&&he("error",`${je.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(je)}const he=(St,...Rt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[St](...Rt)};function lt(St,Rt,Zt,Ut,Re){const[,Qe,je]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===St)||[];if(Qe)return function mt(St,Rt){try{return St.toString()===Rt.toString()}catch{return St===Rt}}(Re,je)||(kt("error",`${Rt} was already initialized on the ${Zt} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),kt("warn",{is:Re,was:je})),Qe;{const Je=Ut();return globalThis.\u0275AngularfireInstanceCache.push([St,Je,Re]),Je}}const jt=!!pn.hot,kt=(St,...Rt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[St](...Rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(pn,st,V)=>{V.d(st,{q4:()=>Su,iC:()=>is,HU:()=>ea,vb:()=>Au,JM:()=>Qu,u3:()=>Ji});var d=V(5879),H=V(4097),ae=V(5861),Te=V(534),b=V(9058),ke=V(4537),Ve=V(7879);const Ae=(z,Y)=>Y.some(se=>z instanceof se);let Fe,he;const lt=new WeakMap,mt=new WeakMap,jt=new WeakMap,kt=new WeakMap,St=new WeakMap;let Ut={get(z,Y,se){if(z instanceof IDBTransaction){if("done"===Y)return mt.get(z);if("objectStoreNames"===Y)return z.objectStoreNames||jt.get(z);if("store"===Y)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return Je(z[Y])},set:(z,Y,se)=>(z[Y]=se,!0),has:(z,Y)=>z instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in z};function je(z){return"function"==typeof z?function Qe(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Y){return z.apply(Pt(this),Y),Je(lt.get(this))}:function(...Y){return Je(z.apply(Pt(this),Y))}:function(Y,...se){const Se=z.call(Pt(this),Y,...se);return jt.set(Se,Y.sort?Y.sort():[Y]),Je(Se)}}(z):(z instanceof IDBTransaction&&function Zt(z){if(mt.has(z))return;const Y=new Promise((se,Se)=>{const Ze=()=>{z.removeEventListener("complete",ft),z.removeEventListener("error",$t),z.removeEventListener("abort",$t)},ft=()=>{se(),Ze()},$t=()=>{Se(z.error||new DOMException("AbortError","AbortError")),Ze()};z.addEventListener("complete",ft),z.addEventListener("error",$t),z.addEventListener("abort",$t)});mt.set(z,Y)}(z),Ae(z,function ve(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,Ut):z)}function Je(z){if(z instanceof IDBRequest)return function Rt(z){const Y=new Promise((se,Se)=>{const Ze=()=>{z.removeEventListener("success",ft),z.removeEventListener("error",$t)},ft=()=>{se(Je(z.result)),Ze()},$t=()=>{Se(z.error),Ze()};z.addEventListener("success",ft),z.addEventListener("error",$t)});return Y.then(se=>{se instanceof IDBCursor&&lt.set(se,z)}).catch(()=>{}),St.set(Y,z),Y}(z);if(kt.has(z))return kt.get(z);const Y=je(z);return Y!==z&&(kt.set(z,Y),St.set(Y,z)),Y}const Pt=z=>St.get(z),yn=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],cn=new Map;function or(z,Y){var se;if(!(z instanceof IDBDatabase)||Y in z||"string"!=typeof Y)return;if(cn.get(Y))return cn.get(Y);const Se=Y.replace(/FromIndex$/,""),Ze=Y!==Se,ft=hn.includes(Se);if(!(Se in(Ze?IDBIndex:IDBObjectStore).prototype)||!ft&&!yn.includes(Se))return;const $t=function(Xt){return(se=se||(0,ae.Z)(function*(On,...Kn){const Jn=this.transaction(On,ft?"readwrite":"readonly");let si=Jn.store;return Ze&&(si=si.index(Kn.shift())),(yield Promise.all([si[Se](...Kn),ft&&Jn.done]))[0]})).apply(this,arguments)};return cn.set(Y,$t),$t}var ei,gr,Ur,zn,_t,Ct,ct,yt,Mt,ut,Ht,At,Xn,Mn,jn,Un;!function Re(z){Ut=z(Ut)}(z=>({...z,get:(Y,se,Se)=>or(Y,se)||z.get(Y,se,Se),has:(Y,se)=>!!or(Y,se)||z.has(Y,se)}));const kr="@firebase/installations",br="0.6.4",zr=1e4,ui=`w:${br}`,gi="FIS_v2",hi="https://firebaseinstallations.googleapis.com/v1",Kr=36e5,$n=new b.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Yn(z){return z instanceof b.ZR&&z.code.includes("request-failed")}function fr({projectId:z}){return`${hi}/projects/${z}/installations`}function _r(z){return{token:z.token,requestStatus:2,expiresIn:ar(z.expiresIn),creationTime:Date.now()}}function Zr(z,Y){return(ei=ei||(0,ae.Z)(function*(se,Se){const ft=(yield Se.json()).error;return $n.create("request-failed",{requestName:se,serverCode:ft.code,serverMessage:ft.message,serverStatus:ft.status})})).apply(this,arguments)}function Er({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function os(z){return(gr=gr||(0,ae.Z)(function*(Y){const se=yield Y();return se.status>=500&&se.status<600?Y():se})).apply(this,arguments)}function ar(z){return Number(z.replace("s","000"))}function Mi(z){return new Promise(Y=>{setTimeout(Y,z)})}const Et=/^[cdef][\w-]{21}$/,Ye="";function Tt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const se=function Xe(z){return function wr(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return Et.test(se)?se:Ye}catch{return Ye}}function ht(z){return`${z.appName}!${z.appId}`}const Bt=new Map;function gn(z,Y){const se=ht(z);_i(se,Y),function be(z,Y){const se=function k(){return!G&&"BroadcastChannel"in self&&(G=new BroadcastChannel("[Firebase] FID Change"),G.onmessage=z=>{_i(z.data.key,z.data.fid)}),G}();se&&se.postMessage({key:z,fid:Y}),function L(){0===Bt.size&&G&&(G.close(),G=null)}()}(se,Y)}function _i(z,Y){const se=Bt.get(z);if(se)for(const Se of se)Se(Y)}let G=null;const F="firebase-installations-database",de=1,We="firebase-installations-store";let vt=null;function on(){return vt||(vt=function et(z,Y,{blocked:se,upgrade:Se,blocking:Ze,terminated:ft}={}){const $t=indexedDB.open(z,Y),Yt=Je($t);return Se&&$t.addEventListener("upgradeneeded",Xt=>{Se(Je($t.result),Xt.oldVersion,Xt.newVersion,Je($t.transaction))}),se&&$t.addEventListener("blocked",()=>se()),Yt.then(Xt=>{ft&&Xt.addEventListener("close",()=>ft()),Ze&&Xt.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),Yt}(F,de,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(We)}})),vt}function qt(z,Y){return(zn=zn||(0,ae.Z)(function*(se,Se){const Ze=ht(se),$t=(yield on()).transaction(We,"readwrite"),Yt=$t.objectStore(We),Xt=yield Yt.get(Ze);return yield Yt.put(Se,Ze),yield $t.done,(!Xt||Xt.fid!==Se.fid)&&gn(se,Se.fid),Se})).apply(this,arguments)}function Sn(z){return(_t=_t||(0,ae.Z)(function*(Y){const se=ht(Y),Ze=(yield on()).transaction(We,"readwrite");yield Ze.objectStore(We).delete(se),yield Ze.done})).apply(this,arguments)}function In(z,Y){return(Ct=Ct||(0,ae.Z)(function*(se,Se){const Ze=ht(se),$t=(yield on()).transaction(We,"readwrite"),Yt=$t.objectStore(We),Xt=yield Yt.get(Ze),On=Se(Xt);return void 0===On?yield Yt.delete(Ze):yield Yt.put(On,Ze),yield $t.done,On&&(!Xt||Xt.fid!==On.fid)&&gn(se,On.fid),On})).apply(this,arguments)}function rr(z){return(ct=ct||(0,ae.Z)(function*(Y){let se;const Se=yield In(Y.appConfig,Ze=>{const ft=function Ir(z){return Kt(z||{fid:Tt(),registrationStatus:0})}(Ze),$t=function Fi(z,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject($n.create("app-offline"))};const se={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},Se=function pi(z,Y){return(yt=yt||(0,ae.Z)(function*(se,Se){try{const Ze=yield function Mr(z,Y){return(Ur=Ur||(0,ae.Z)(function*({appConfig:se,heartbeatServiceProvider:Se},{fid:Ze}){const ft=fr(se),$t=Er(se),Yt=Se.getImmediate({optional:!0});if(Yt){const Jn=yield Yt.getHeartbeatsHeader();Jn&&$t.append("x-firebase-client",Jn)}const On={method:"POST",headers:$t,body:JSON.stringify({fid:Ze,authVersion:gi,appId:se.appId,sdkVersion:ui})},Kn=yield os(()=>fetch(ft,On));if(Kn.ok){const Jn=yield Kn.json();return{fid:Jn.fid||Ze,registrationStatus:2,refreshToken:Jn.refreshToken,authToken:_r(Jn.authToken)}}throw yield Zr("Create Installation",Kn)})).apply(this,arguments)}(se,Se);return qt(se.appConfig,Ze)}catch(Ze){throw Yn(Ze)&&409===Ze.customData.serverCode?yield Sn(se.appConfig):yield qt(se.appConfig,{fid:Se.fid,registrationStatus:0}),Ze}})).apply(this,arguments)}(z,se);return{installationEntry:se,registrationPromise:Se}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:Dt(z)}:{installationEntry:Y}}(Y,ft);return se=$t.registrationPromise,$t.installationEntry});return Se.fid===Ye?{installationEntry:yield se}:{installationEntry:Se,registrationPromise:se}})).apply(this,arguments)}function Dt(z){return(Mt=Mt||(0,ae.Z)(function*(Y){let se=yield gt(Y.appConfig);for(;1===se.registrationStatus;)yield Mi(100),se=yield gt(Y.appConfig);if(0===se.registrationStatus){const{installationEntry:Se,registrationPromise:Ze}=yield rr(Y);return Ze||Se}return se})).apply(this,arguments)}function gt(z){return In(z,Y=>{if(!Y)throw $n.create("installation-not-found");return Kt(Y)})}function Kt(z){return function _n(z){return 1===z.registrationStatus&&z.registrationTime+zr<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function an(z,Y){return(ut=ut||(0,ae.Z)(function*({appConfig:se,heartbeatServiceProvider:Se},Ze){const ft=function Nn(z,{fid:Y}){return`${fr(z)}/${Y}/authTokens:generate`}(se,Ze),$t=function vr(z,{refreshToken:Y}){const se=Er(z);return se.append("Authorization",function Vi(z){return`${gi} ${z}`}(Y)),se}(se,Ze),Yt=Se.getImmediate({optional:!0});if(Yt){const Jn=yield Yt.getHeartbeatsHeader();Jn&&$t.append("x-firebase-client",Jn)}const On={method:"POST",headers:$t,body:JSON.stringify({installation:{sdkVersion:ui,appId:se.appId}})},Kn=yield os(()=>fetch(ft,On));if(Kn.ok)return _r(yield Kn.json());throw yield Zr("Generate Auth Token",Kn)})).apply(this,arguments)}function dr(z){return(Ht=Ht||(0,ae.Z)(function*(Y,se=!1){let Se;const Ze=yield In(Y.appConfig,$t=>{if(!ti($t))throw $n.create("not-registered");const Yt=$t.authToken;if(!se&&function Qr(z){return 2===z.requestStatus&&!function Tr(z){const Y=Date.now();return Y<z.creationTime||z.creationTime+z.expiresIn<Y+Kr}(z)}(Yt))return $t;if(1===Yt.requestStatus)return Se=function Yr(z,Y){return(At=At||(0,ae.Z)(function*(se,Se){let Ze=yield vi(se.appConfig);for(;1===Ze.authToken.requestStatus;)yield Mi(100),Ze=yield vi(se.appConfig);const ft=Ze.authToken;return 0===ft.requestStatus?dr(se,Se):ft})).apply(this,arguments)}(Y,se),$t;{if(!navigator.onLine)throw $n.create("app-offline");const Xt=function cs(z){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:Y})}($t);return Se=function nn(z,Y){return(Xn=Xn||(0,ae.Z)(function*(se,Se){try{const Ze=yield an(se,Se),ft=Object.assign(Object.assign({},Se),{authToken:Ze});return yield qt(se.appConfig,ft),Ze}catch(Ze){if(!Yn(Ze)||401!==Ze.customData.serverCode&&404!==Ze.customData.serverCode){const ft=Object.assign(Object.assign({},Se),{authToken:{requestStatus:0}});yield qt(se.appConfig,ft)}else yield Sn(se.appConfig);throw Ze}})).apply(this,arguments)}(Y,Xt),Xt}});return Se?yield Se:Ze.authToken})).apply(this,arguments)}function vi(z){return In(z,Y=>{if(!ti(Y))throw $n.create("not-registered");return function vs(z){return 1===z.requestStatus&&z.requestTime+zr<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function ti(z){return void 0!==z&&2===z.registrationStatus}function ce(z){return $n.create("missing-app-config-values",{valueName:z})}const Ee="installations",bt=z=>{const Y=z.getProvider("app").getImmediate(),se=function $(z){if(!z||!z.options)throw ce("App Configuration");if(!z.name)throw ce("App Name");const Y=["projectId","apiKey","appId"];for(const se of Y)if(!z.options[se])throw ce(se);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(Y);return{app:Y,appConfig:se,heartbeatServiceProvider:(0,Te._getProvider)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},xe=z=>{const Y=z.getProvider("app").getImmediate(),se=(0,Te._getProvider)(Y,Ee).getImmediate();return{getId:()=>function mo(z){return(Mn=Mn||(0,ae.Z)(function*(Y){const se=Y,{installationEntry:Se,registrationPromise:Ze}=yield rr(se);return Ze?Ze.catch(console.error):dr(se).catch(console.error),Se.fid})).apply(this,arguments)}(se),getToken:Ze=>function un(z){return(jn=jn||(0,ae.Z)(function*(Y,se=!1){const Se=Y;return yield function Xr(z){return(Un=Un||(0,ae.Z)(function*(Y){const{registrationPromise:se}=yield rr(Y);se&&(yield se)})).apply(this,arguments)}(Se),(yield dr(Se,se)).token})).apply(this,arguments)}(se,Ze)}};var ot;(function ge(){(0,Te._registerComponent)(new ke.wA(Ee,bt,"PUBLIC")),(0,Te._registerComponent)(new ke.wA("installations-internal",xe,"PRIVATE"))})(),(0,Te.registerVersion)(kr,br),(0,Te.registerVersion)(kr,br,"esm2017");const Wt="@firebase/remote-config",ri=new b.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zi{constructor(Y,se,Se,Ze){this.client=Y,this.storage=se,this.storageCache=Se,this.logger=Ze}isCachedDataFresh(Y,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-se,Ze=Se<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${Ze}.`),Ze}fetch(Y){var se=this;return(0,ae.Z)(function*(){const[Se,Ze]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(Ze&&se.isCachedDataFresh(Y.cacheMaxAgeMillis,Se))return Ze;Y.eTag=Ze&&Ze.eTag;const ft=yield se.client.fetch(Y),$t=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ft.status&&$t.push(se.storage.setLastSuccessfulFetchResponse(ft)),yield Promise.all($t),ft})()}}function Gs(z=navigator){return z.languages&&z.languages[0]||z.language}class ns{constructor(Y,se,Se,Ze,ft,$t){this.firebaseInstallations=Y,this.sdkVersion=se,this.namespace=Se,this.projectId=Ze,this.apiKey=ft,this.appId=$t}fetch(Y){var se=this;return(0,ae.Z)(function*(){const[Se,Ze]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),$t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},Xt={sdk_version:se.sdkVersion,app_instance_id:Se,app_instance_id_token:Ze,app_id:se.appId,language_code:Gs()},On={method:"POST",headers:Yt,body:JSON.stringify(Xt)},Kn=fetch($t,On),Jn=new Promise((Rr,Ni)=>{Y.signal.addEventListener(()=>{const ta=new Error("The operation was aborted.");ta.name="AbortError",Ni(ta)})});let si;try{yield Promise.race([Kn,Jn]),si=yield Kn}catch(Rr){let Ni="fetch-client-network";throw"AbortError"===Rr?.name&&(Ni="fetch-timeout"),ri.create(Ni,{originalErrorMessage:Rr?.message})}let Hs=si.status;const Hr=si.headers.get("ETag")||void 0;let zs,Ns;if(200===si.status){let Rr;try{Rr=yield si.json()}catch(Ni){throw ri.create("fetch-client-parse",{originalErrorMessage:Ni?.message})}zs=Rr.entries,Ns=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ns?Hs=500:"NO_CHANGE"===Ns?Hs=304:("NO_TEMPLATE"===Ns||"EMPTY_CONFIG"===Ns)&&(zs={}),304!==Hs&&200!==Hs)throw ri.create("fetch-status",{httpStatus:Hs});return{status:Hs,eTag:Hr,config:zs}})()}}class Ki{constructor(Y,se){this.client=Y,this.storage=se}fetch(Y){var se=this;return(0,ae.Z)(function*(){const Se=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(Y,Se)})()}attemptFetch(Y,{throttleEndTimeMillis:se,backoffCount:Se}){var Ze=this;return(0,ae.Z)(function*(){yield function Ws(z,Y){return new Promise((se,Se)=>{const Ze=Math.max(Y-Date.now(),0),ft=setTimeout(se,Ze);z.addEventListener(()=>{clearTimeout(ft),Se(ri.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,se);try{const ft=yield Ze.client.fetch(Y);return yield Ze.storage.deleteThrottleMetadata(),ft}catch(ft){if(!function Li(z){if(!(z instanceof b.ZR&&z.customData))return!1;const Y=Number(z.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(ft))throw ft;const $t={throttleEndTimeMillis:Date.now()+(0,b.$s)(Se),backoffCount:Se+1};return yield Ze.storage.setThrottleMetadata($t),Ze.attemptFetch(Y,$t)}})()}}class Do{constructor(Y,se,Se,Ze,ft){this.app=Y,this._client=se,this._storageCache=Se,this._storage=Ze,this._logger=ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function go(z,Y){const se=z.target.error||void 0;return ri.create(Y,{originalErrorMessage:se&&se?.message})}const Vs="app_namespace_store";class _o{constructor(Y,se,Se,Ze=function sa(){return new Promise((z,Y)=>{try{const se=indexedDB.open("firebase_remote_config",1);se.onerror=Se=>{Y(go(Se,"storage-open"))},se.onsuccess=Se=>{z(Se.target.result)},se.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(Vs,{keyPath:"compositeKey"})}}catch(se){Y(ri.create("storage-open",{originalErrorMessage:se?.message}))}})}()){this.appId=Y,this.appName=se,this.namespace=Se,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var se=this;return(0,ae.Z)(function*(){const Se=yield se.openDbPromise;return new Promise((Ze,ft)=>{const Yt=Se.transaction([Vs],"readonly").objectStore(Vs),Xt=se.createCompositeKey(Y);try{const On=Yt.get(Xt);On.onerror=Kn=>{ft(go(Kn,"storage-get"))},On.onsuccess=Kn=>{const Jn=Kn.target.result;Ze(Jn?Jn.value:void 0)}}catch(On){ft(ri.create("storage-get",{originalErrorMessage:On?.message}))}})})()}set(Y,se){var Se=this;return(0,ae.Z)(function*(){const Ze=yield Se.openDbPromise;return new Promise((ft,$t)=>{const Xt=Ze.transaction([Vs],"readwrite").objectStore(Vs),On=Se.createCompositeKey(Y);try{const Kn=Xt.put({compositeKey:On,value:se});Kn.onerror=Jn=>{$t(go(Jn,"storage-set"))},Kn.onsuccess=()=>{ft()}}catch(Kn){$t(ri.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete(Y){var se=this;return(0,ae.Z)(function*(){const Se=yield se.openDbPromise;return new Promise((Ze,ft)=>{const Yt=Se.transaction([Vs],"readwrite").objectStore(Vs),Xt=se.createCompositeKey(Y);try{const On=Yt.delete(Xt);On.onerror=Kn=>{ft(go(Kn,"storage-delete"))},On.onsuccess=()=>{Ze()}}catch(On){ft(ri.create("storage-delete",{originalErrorMessage:On?.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class va{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,ae.Z)(function*(){const se=Y.storage.getLastFetchStatus(),Se=Y.storage.getLastSuccessfulFetchTimestampMillis(),Ze=Y.storage.getActiveConfig(),ft=yield se;ft&&(Y.lastFetchStatus=ft);const $t=yield Se;$t&&(Y.lastSuccessfulFetchTimestampMillis=$t);const Yt=yield Ze;Yt&&(Y.activeConfig=Yt)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function So(){return(ot=ot||(0,ae.Z)(function*(){if(!(0,b.hl)())return!1;try{return yield(0,b.eu)()}catch{return!1}})).apply(this,arguments)}!function oa(){(0,Te._registerComponent)(new ke.wA("remote-config",function z(Y,{instanceIdentifier:se}){const Se=Y.getProvider("app").getImmediate(),Ze=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ri.create("registration-window");if(!(0,b.hl)())throw ri.create("indexed-db-unavailable");const{projectId:ft,apiKey:$t,appId:Yt}=Se.options;if(!ft)throw ri.create("registration-project-id");if(!$t)throw ri.create("registration-api-key");if(!Yt)throw ri.create("registration-app-id");const Xt=new _o(Yt,Se.name,se=se||"firebase"),On=new va(Xt),Kn=new Ve.Yd(Wt);Kn.logLevel=Ve.in.ERROR;const Jn=new ns(Ze,Te.SDK_VERSION,se,ft,$t,Yt),si=new Ki(Jn,Xt),Hs=new zi(si,Xt,On,Kn),Hr=new Do(Se,Hs,On,Xt,Kn);return function ts(z){const Y=(0,b.m9)(z);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(Hr),Hr},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(Wt,"0.4.4"),(0,Te.registerVersion)(Wt,"0.4.4","esm2017")}();const Ho=(z,Y)=>Y.some(se=>z instanceof se);let ao,Gr;const Ss=new WeakMap,rs=new WeakMap,ds=new WeakMap,Js=new WeakMap,Di=new WeakMap;let ps={get(z,Y,se){if(z instanceof IDBTransaction){if("done"===Y)return rs.get(z);if("objectStoreNames"===Y)return z.objectStoreNames||ds.get(z);if("store"===Y)return se.objectStoreNames[1]?void 0:se.objectStore(se.objectStoreNames[0])}return qs(z[Y])},set:(z,Y,se)=>(z[Y]=se,!0),has:(z,Y)=>z instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in z};function Ao(z){return"function"==typeof z?function ya(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ra(){return Gr||(Gr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...Y){return z.apply(As(this),Y),qs(Ss.get(this))}:function(...Y){return qs(z.apply(As(this),Y))}:function(Y,...se){const Se=z.call(As(this),Y,...se);return ds.set(Se,Y.sort?Y.sort():[Y]),qs(Se)}}(z):(z instanceof IDBTransaction&&function dl(z){if(rs.has(z))return;const Y=new Promise((se,Se)=>{const Ze=()=>{z.removeEventListener("complete",ft),z.removeEventListener("error",$t),z.removeEventListener("abort",$t)},ft=()=>{se(),Ze()},$t=()=>{Se(z.error||new DOMException("AbortError","AbortError")),Ze()};z.addEventListener("complete",ft),z.addEventListener("error",$t),z.addEventListener("abort",$t)});rs.set(z,Y)}(z),Ho(z,function Xs(){return ao||(ao=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,ps):z)}function qs(z){if(z instanceof IDBRequest)return function Wr(z){const Y=new Promise((se,Se)=>{const Ze=()=>{z.removeEventListener("success",ft),z.removeEventListener("error",$t)},ft=()=>{se(qs(z.result)),Ze()},$t=()=>{Se(z.error),Ze()};z.addEventListener("success",ft),z.addEventListener("error",$t)});return Y.then(se=>{se instanceof IDBCursor&&Ss.set(se,z)}).catch(()=>{}),Di.set(Y,z),Y}(z);if(Js.has(z))return Js.get(z);const Y=Ao(z);return Y!==z&&(Js.set(z,Y),Di.set(Y,z)),Y}const As=z=>Di.get(z);function vo(z,Y,{blocked:se,upgrade:Se,blocking:Ze,terminated:ft}={}){const $t=indexedDB.open(z,Y),Yt=qs($t);return Se&&$t.addEventListener("upgradeneeded",Xt=>{Se(qs($t.result),Xt.oldVersion,Xt.newVersion,qs($t.transaction))}),se&&$t.addEventListener("blocked",()=>se()),Yt.then(Xt=>{ft&&Xt.addEventListener("close",()=>ft()),Ze&&Xt.addEventListener("versionchange",()=>Ze())}).catch(()=>{}),Yt}function lo(z,{blocked:Y}={}){const se=indexedDB.deleteDatabase(z);return Y&&se.addEventListener("blocked",()=>Y()),qs(se).then(()=>{})}const Oa=["get","getKey","getAll","getAllKeys","count"],sl=["put","add","delete","clear"],Pa=new Map;function Ms(z,Y){var se;if(!(z instanceof IDBDatabase)||Y in z||"string"!=typeof Y)return;if(Pa.get(Y))return Pa.get(Y);const Se=Y.replace(/FromIndex$/,""),Ze=Y!==Se,ft=sl.includes(Se);if(!(Se in(Ze?IDBIndex:IDBObjectStore).prototype)||!ft&&!Oa.includes(Se))return;const $t=function(Xt){return(se=se||(0,ae.Z)(function*(On,...Kn){const Jn=this.transaction(On,ft?"readwrite":"readonly");let si=Jn.store;return Ze&&(si=si.index(Kn.shift())),(yield Promise.all([si[Se](...Kn),ft&&Jn.done]))[0]})).apply(this,arguments)};return Pa.set(Y,$t),$t}var ne,K,ye,ee,Ce,rn,er,Ei,as,ka,eo,aa,to,ba,hl,wl,bs,Xo,Es,yo;!function Jr(z){ps=z(ps)}(z=>({...z,get:(Y,se,Se)=>Ms(Y,se)||z.get(Y,se,Se),has:(Y,se)=>!!Ms(Y,se)||z.has(Y,se)}));const zo="/firebase-messaging-sw.js",Rs="/firebase-cloud-messaging-push-scope",co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bo="https://fcmregistrations.googleapis.com/v1",Fa="google.c.a.c_id",no="google.c.a.c_l",fl="google.c.a.ts";var Va=function(z){return z.PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",z}(Va||{});function ms(z){const Y=new Uint8Array(z);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ua(z){const se=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(se),Ze=new Uint8Array(Se.length);for(let ft=0;ft<Se.length;++ft)Ze[ft]=Se.charCodeAt(ft);return Ze}const jr="fcm_token_details_db",Ll=5,qa="fcm_token_object_Store",al="firebase-messaging-database",Ba=1,ro="firebase-messaging-store";let gs=null;function wo(){return gs||(gs=vo(al,Ba,{upgrade:(z,Y)=>{0===Y&&z.createObjectStore(ro)}})),gs}function $o(z){return(K=K||(0,ae.Z)(function*(Y){const se=Za(Y),Ze=yield(yield wo()).transaction(ro).objectStore(ro).get(se);if(Ze)return Ze;{const ft=yield function Yi(z){return(ne=ne||(0,ae.Z)(function*(Y){var se;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Yt=>Yt.name).includes(jr))return null;let Se=null;return(yield vo(jr,Ll,{upgrade:function($t,Yt,Xt,On){return(se=se||(0,ae.Z)(function*(Kn,Jn,si,Hs){var Hr;if(Jn<2||!Kn.objectStoreNames.contains(qa))return;const zs=Hs.objectStore(qa),Ns=yield zs.index("fcmSenderId").get(Y);if(yield zs.clear(),Ns)if(2===Jn){const Rr=Ns;if(!Rr.auth||!Rr.p256dh||!Rr.endpoint)return;Se={token:Rr.fcmToken,createTime:null!==(Hr=Rr.createTime)&&void 0!==Hr?Hr:Date.now(),subscriptionOptions:{auth:Rr.auth,p256dh:Rr.p256dh,endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:"string"==typeof Rr.vapidKey?Rr.vapidKey:ms(Rr.vapidKey)}}}else if(3===Jn){const Rr=Ns;Se={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:ms(Rr.auth),p256dh:ms(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:ms(Rr.vapidKey)}}}else if(4===Jn){const Rr=Ns;Se={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:ms(Rr.auth),p256dh:ms(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:ms(Rr.vapidKey)}}}})).apply(this,arguments)}})).close(),yield lo(jr),yield lo("fcm_vapid_details_db"),yield lo("undefined"),function ol(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:Y}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}(Se)?Se:null})).apply(this,arguments)}(Y.appConfig.senderId);if(ft)return yield Qi(Y,ft),ft}})).apply(this,arguments)}function Qi(z,Y){return(ye=ye||(0,ae.Z)(function*(se,Se){const Ze=Za(se),$t=(yield wo()).transaction(ro,"readwrite");return yield $t.objectStore(ro).put(Se,Ze),yield $t.done,Se})).apply(this,arguments)}function Za({appConfig:z}){return z.appId}const ws=new b.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mo(z,Y){return(Ce=Ce||(0,ae.Z)(function*(se,Se){const Ze=yield te(se),ft=Ne(Se),$t={method:"POST",headers:Ze,body:JSON.stringify(ft)};let Yt;try{Yt=yield(yield fetch(T(se.appConfig),$t)).json()}catch(Xt){throw ws.create("token-subscribe-failed",{errorInfo:Xt?.toString()})}if(Yt.error)throw ws.create("token-subscribe-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw ws.create("token-subscribe-no-token");return Yt.token})).apply(this,arguments)}function Ea(z,Y){return(er=er||(0,ae.Z)(function*(se,Se){const ft={method:"DELETE",headers:yield te(se)};try{const Yt=yield(yield fetch(`${T(se.appConfig)}/${Se}`,ft)).json();if(Yt.error)throw ws.create("token-unsubscribe-failed",{errorInfo:Yt.error.message})}catch($t){throw ws.create("token-unsubscribe-failed",{errorInfo:$t?.toString()})}})).apply(this,arguments)}function T({projectId:z}){return`${bo}/projects/${z}/registrations`}function te(z){return(Ei=Ei||(0,ae.Z)(function*({appConfig:Y,installations:se}){const Se=yield se.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Y.apiKey,"x-goog-firebase-installations-auth":`FIS ${Se}`})})).apply(this,arguments)}function Ne({p256dh:z,auth:Y,endpoint:se,vapidKey:Se}){const Ze={web:{endpoint:se,auth:Y,p256dh:z}};return Se!==co&&(Ze.web.applicationPubKey=Se),Ze}const q=6048e5;function we(z){return(as=as||(0,ae.Z)(function*(Y){const se=yield function Lr(z,Y){return(to=to||(0,ae.Z)(function*(se,Se){return(yield se.pushManager.getSubscription())||se.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ua(Se)})})).apply(this,arguments)}(Y.swRegistration,Y.vapidKey),Se={vapidKey:Y.vapidKey,swScope:Y.swRegistration.scope,endpoint:se.endpoint,auth:ms(se.getKey("auth")),p256dh:ms(se.getKey("p256dh"))},Ze=yield $o(Y.firebaseDependencies);if(Ze){if(function ni(z,Y){return Y.vapidKey===z.vapidKey&&Y.endpoint===z.endpoint&&Y.auth===z.auth&&Y.p256dh===z.p256dh}(Ze.subscriptionOptions,Se))return Date.now()>=Ze.createTime+q?function zt(z,Y){return(eo=eo||(0,ae.Z)(function*(se,Se){try{const Ze=yield function uo(z,Y){return(rn=rn||(0,ae.Z)(function*(se,Se){const Ze=yield te(se),ft=Ne(Se.subscriptionOptions),$t={method:"PATCH",headers:Ze,body:JSON.stringify(ft)};let Yt;try{Yt=yield(yield fetch(`${T(se.appConfig)}/${Se.token}`,$t)).json()}catch(Xt){throw ws.create("token-update-failed",{errorInfo:Xt?.toString()})}if(Yt.error)throw ws.create("token-update-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw ws.create("token-update-no-token");return Yt.token})).apply(this,arguments)}(se.firebaseDependencies,Se),ft=Object.assign(Object.assign({},Se),{token:Ze,createTime:Date.now()});return yield Qi(se.firebaseDependencies,ft),Ze}catch(Ze){throw yield function tt(z){return(ka=ka||(0,ae.Z)(function*(Y){const se=yield $o(Y.firebaseDependencies);se&&(yield Ea(Y.firebaseDependencies,se.token),yield function Ka(z){return(ee=ee||(0,ae.Z)(function*(Y){const se=Za(Y),Ze=(yield wo()).transaction(ro,"readwrite");yield Ze.objectStore(ro).delete(se),yield Ze.done})).apply(this,arguments)}(Y.firebaseDependencies));const Se=yield Y.swRegistration.pushManager.getSubscription();return!Se||Se.unsubscribe()})).apply(this,arguments)}(se),Ze}})).apply(this,arguments)}(Y,{token:Ze.token,createTime:Date.now(),subscriptionOptions:Se}):Ze.token;try{yield Ea(Y.firebaseDependencies,Ze.token)}catch(ft){console.warn(ft)}return En(Y.firebaseDependencies,Se)}return En(Y.firebaseDependencies,Se)})).apply(this,arguments)}function En(z,Y){return(aa=aa||(0,ae.Z)(function*(se,Se){const ft={token:yield Mo(se,Se),createTime:Date.now(),subscriptionOptions:Se};return yield Qi(se,ft),ft.token})).apply(this,arguments)}function di(z){const Y={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function qr(z,Y){if(!Y.notification)return;z.notification={};const se=Y.notification.title;se&&(z.notification.title=se);const Se=Y.notification.body;Se&&(z.notification.body=Se);const Ze=Y.notification.image;Ze&&(z.notification.image=Ze);const ft=Y.notification.icon;ft&&(z.notification.icon=ft)}(Y,z),function hs(z,Y){Y.data&&(z.data=Y.data)}(Y,z),function Bi(z,Y){var se,Se,Ze,ft,$t;if(!(Y.fcmOptions||null!==(se=Y.notification)&&void 0!==se&&se.click_action))return;z.fcmOptions={};const Yt=null!==(Ze=null===(Se=Y.fcmOptions)||void 0===Se?void 0:Se.link)&&void 0!==Ze?Ze:null===(ft=Y.notification)||void 0===ft?void 0:ft.click_action;Yt&&(z.fcmOptions.link=Yt);const Xt=null===($t=Y.fcmOptions)||void 0===$t?void 0:$t.analytics_label;Xt&&(z.fcmOptions.analyticsLabel=Xt)}(Y,z),Y}function Ro(z,Y){const se=[];for(let Se=0;Se<z.length;Se++)se.push(z.charAt(Se)),Se<Y.length&&se.push(Y.charAt(Se));return se.join("")}function la(z){return ws.create("missing-app-config-values",{valueName:z})}Ro("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ro("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jo{constructor(Y,se,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function ja(z){if(!z||!z.options)throw la("App Configuration Object");if(!z.name)throw la("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:se}=z;for(const Se of Y)if(!se[Se])throw la(Se);return{appName:z.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:Ze,installations:se,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function $i(z,Y){return(bs=bs||(0,ae.Z)(function*(se,Se){if(!navigator)throw ws.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ws.create("permission-blocked");return yield function Oo(z,Y){return(wl=wl||(0,ae.Z)(function*(se,Se){Se?se.vapidKey=Se:se.vapidKey||(se.vapidKey=co)})).apply(this,arguments)}(se,Se?.vapidKey),yield function ls(z,Y){return(hl=hl||(0,ae.Z)(function*(se,Se){if(!Se&&!se.swRegistration&&(yield function Os(z){return(ba=ba||(0,ae.Z)(function*(Y){try{Y.swRegistration=yield navigator.serviceWorker.register(zo,{scope:Rs}),Y.swRegistration.update().catch(()=>{})}catch(se){throw ws.create("failed-service-worker-registration",{browserErrorMessage:se?.message})}})).apply(this,arguments)}(se)),Se||!se.swRegistration){if(!(Se instanceof ServiceWorkerRegistration))throw ws.create("invalid-sw-registration");se.swRegistration=Se}})).apply(this,arguments)}(se,Se?.serviceWorkerRegistration),we(se)})).apply(this,arguments)}function Po(z,Y){return(Es=Es||(0,ae.Z)(function*(se,Se){const Ze=Se.data;if(!Ze.isFirebaseMessaging)return;se.onMessageHandler&&Ze.messageType===Va.PUSH_RECEIVED&&("function"==typeof se.onMessageHandler?se.onMessageHandler(di(Ze)):se.onMessageHandler.next(di(Ze)));const ft=Ze.data;(function fs(z){return"object"==typeof z&&!!z&&Fa in z})(ft)&&"1"===ft["google.c.a.e"]&&(yield function Il(z,Y,se){return(Xo=Xo||(0,ae.Z)(function*(Se,Ze,ft){const $t=function Vl(z){switch(z){case Va.NOTIFICATION_CLICKED:return"notification_open";case Va.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Ze);(yield Se.firebaseDependencies.analyticsProvider.get()).logEvent($t,{message_id:ft[Fa],message_name:ft[no],message_time:ft[fl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(se,Ze.messageType,ft))})).apply(this,arguments)}const lc="@firebase/messaging",Cl=z=>{const Y=new Jo(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>Po(Y,se)),Y},Go=z=>{const Y=z.getProvider("messaging").getImmediate();return{getToken:Se=>$i(Y,Se)}};function cc(){return(yo=yo||(0,ae.Z)(function*(){try{yield(0,b.eu)()}catch{return!1}return typeof window<"u"&&(0,b.hl)()&&(0,b.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Zl,Yl,Dr,Io,Tc,Dl,Dc,Sl,Sc;!function xl(){(0,Te._registerComponent)(new ke.wA("messaging",Cl,"PUBLIC")),(0,Te._registerComponent)(new ke.wA("messaging-internal",Go,"PRIVATE")),(0,Te.registerVersion)(lc,"0.12.4"),(0,Te.registerVersion)(lc,"0.12.4","esm2017")}();const tn="analytics",mi="firebase_id",ki="origin",Co=6e4,_s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qa="https://www.googletagmanager.com/gtag/js",Gi=new Ve.Yd("@firebase/analytics"),cr=new b.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ho(z){if(!z.startsWith(Qa)){const Y=cr.create("invalid-gtag-resource",{gtagURL:z});return Gi.warn(Y.message),""}return z}function Xl(z){return Promise.all(z.map(Y=>Y.catch(se=>se)))}const R=30,Me=new class me{constructor(Y={},se=1e3){this.throttleMetadata=Y,this.intervalMillis=se}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,se){this.throttleMetadata[Y]=se}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function wt(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function Gt(z){return(Io=Io||(0,ae.Z)(function*(Y,se=Me,Se){const{appId:Ze,apiKey:ft,measurementId:$t}=Y.options;if(!Ze)throw cr.create("no-app-id");if(!ft){if($t)return{measurementId:$t,appId:Ze};throw cr.create("no-api-key")}const Yt=se.getThrottleMetadata(Ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new Rn;return setTimeout((0,ae.Z)(function*(){Xt.abort()}),void 0!==Se?Se:Co),hr({appId:Ze,apiKey:ft,measurementId:$t},Yt,Xt,se)})).apply(this,arguments)}function hr(z,Y,se){return(Tc=Tc||(0,ae.Z)(function*(Se,{throttleEndTimeMillis:Ze,backoffCount:ft},$t,Yt=Me){var Xt;const{appId:On,measurementId:Kn}=Se;try{yield function li(z,Y){return new Promise((se,Se)=>{const Ze=Math.max(Y-Date.now(),0),ft=setTimeout(se,Ze);z.addEventListener(()=>{clearTimeout(ft),Se(cr.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}($t,Ze)}catch(Jn){if(Kn)return Gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${Jn?.message}]`),{appId:On,measurementId:Kn};throw Jn}try{const Jn=yield function bn(z){return(Dr=Dr||(0,ae.Z)(function*(Y){var se;const{appId:Se,apiKey:Ze}=Y,ft={method:"GET",headers:wt(Ze)},$t=_s.replace("{app-id}",Se),Yt=yield fetch($t,ft);if(200!==Yt.status&&304!==Yt.status){let Xt="";try{const On=yield Yt.json();null!==(se=On.error)&&void 0!==se&&se.message&&(Xt=On.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:Yt.status,responseMessage:Xt})}return Yt.json()})).apply(this,arguments)}(Se);return Yt.deleteThrottleMetadata(On),Jn}catch(Jn){const si=Jn;if(!function Xi(z){if(!(z instanceof b.ZR&&z.customData))return!1;const Y=Number(z.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(si)){if(Yt.deleteThrottleMetadata(On),Kn)return Gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kn} provided in the "measurementId" field in the local Firebase config. [${si?.message}]`),{appId:On,measurementId:Kn};throw Jn}const Hs=503===Number(null===(Xt=si?.customData)||void 0===Xt?void 0:Xt.httpStatus)?(0,b.$s)(ft,Yt.intervalMillis,R):(0,b.$s)(ft,Yt.intervalMillis),Hr={throttleEndTimeMillis:Date.now()+Hs,backoffCount:ft+1};return Yt.setThrottleMetadata(On,Hr),Gi.debug(`Calling attemptFetch again in ${Hs} millis`),hr(Se,Hr,$t,Yt)}})).apply(this,arguments)}class Rn{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let Us,Oi;function Al(z,Y,se,Se,Ze,ft,$t){return(Sl=Sl||(0,ae.Z)(function*(Yt,Xt,On,Kn,Jn,si,Hs){var Hr;const zs=Gt(Yt);zs.then(da=>{On[da.measurementId]=da.appId,Yt.options.measurementId&&da.measurementId!==Yt.options.measurementId&&Gi.warn(`The measurement ID in the local Firebase config (${Yt.options.measurementId}) does not match the measurement ID fetched from the server (${da.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(da=>Gi.error(da)),Xt.push(zs);const Ns=function Ac(){return(Dc=Dc||(0,ae.Z)(function*(){if(!(0,b.hl)())return Gi.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,b.eu)()}catch(z){return Gi.warn(cr.create("indexeddb-unavailable",{errorInfo:z?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(da=>{if(da)return Kn.getId()}),[Rr,Ni]=yield Promise.all([zs,Ns]);(function U(z){const Y=window.document.getElementsByTagName("script");for(const se of Object.values(Y))if(se.src&&se.src.includes(Qa)&&se.src.includes(z))return se;return null})(si)||function tr(z,Y){const se=function Gn(z,Y){let se;return window.trustedTypes&&(se=window.trustedTypes.createPolicy(z,Y)),se}("firebase-js-sdk-policy",{createScriptURL:ho}),Se=document.createElement("script"),Ze=`${Qa}?l=${z}&id=${Y}`;Se.src=se?se?.createScriptURL(Ze):Ze,Se.async=!0,document.head.appendChild(Se)}(si,Rr.measurementId),Oi&&(Jn("consent","default",Oi),function dn(z){Oi=z}(void 0)),Jn("js",new Date);const ta=null!==(Hr=Hs?.config)&&void 0!==Hr?Hr:{};return ta[ki]="firebase",ta.update=!0,null!=Ni&&(ta[mi]=Ni),Jn("config",Rr.measurementId,ta),Us&&(Jn("set",Us),function ua(z){Us=z}(void 0)),Rr.measurementId})).apply(this,arguments)}class Tu{constructor(Y){this.app=Y}_delete(){return delete Ca[this.app.options.appId],Promise.resolve()}}let Ca={},Jl=[];const Ml={};let Ps,Wo,Xa="dataLayer",ec=!1;function Ot(z,Y,se){!function Ha(){const z=[];if((0,b.ru)()&&z.push("This is a browser extension environment."),(0,b.zI)()||z.push("Cookies are not available."),z.length>0){const Y=z.map((Se,Ze)=>`(${Ze+1}) ${Se}`).join(" "),se=cr.create("invalid-analytics-context",{errorInfo:Y});Gi.warn(se.message)}}();const Se=z.options.appId;if(!Se)throw cr.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw cr.create("no-api-key");Gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ca[Se])throw cr.create("already-exists",{id:Se});if(!ec){!function No(z){let Y=[];Array.isArray(window[z])?Y=window[z]:window[z]=Y}(Xa);const{wrappedGtag:ft,gtagCore:$t}=function S(z,Y,se,Se,Ze){let ft=function(...$t){window[Se].push(arguments)};return window[Ze]&&"function"==typeof window[Ze]&&(ft=window[Ze]),window[Ze]=function w(z,Y,se,Se){var Ze;return function ft($t){return(Ze=Ze||(0,ae.Z)(function*(Yt,...Xt){try{if("event"===Yt){const[On,Kn]=Xt;yield function Lt(z,Y,se,Se,Ze){return(Yl=Yl||(0,ae.Z)(function*(ft,$t,Yt,Xt,On){try{let Kn=[];if(On&&On.send_to){let Jn=On.send_to;Array.isArray(Jn)||(Jn=[Jn]);const si=yield Xl(Yt);for(const Hs of Jn){const Hr=si.find(Ns=>Ns.measurementId===Hs),zs=Hr&&$t[Hr.appId];if(!zs){Kn=[];break}Kn.push(zs)}}0===Kn.length&&(Kn=Object.values($t)),yield Promise.all(Kn),ft("event",Xt,On||{})}catch(Kn){Gi.error(Kn)}})).apply(this,arguments)}(z,Y,se,On,Kn)}else if("config"===Yt){const[On,Kn]=Xt;yield function Dn(z,Y,se,Se,Ze,ft){return(Zl=Zl||(0,ae.Z)(function*($t,Yt,Xt,On,Kn,Jn){const si=On[Kn];try{if(si)yield Yt[si];else{const Hr=(yield Xl(Xt)).find(zs=>zs.measurementId===Kn);Hr&&(yield Yt[Hr.appId])}}catch(Hs){Gi.error(Hs)}$t("config",Kn,Jn)})).apply(this,arguments)}(z,Y,se,Se,On,Kn)}else if("consent"===Yt){const[On]=Xt;z("consent","update",On)}else if("get"===Yt){const[On,Kn,Jn]=Xt;z("get",On,Kn,Jn)}else if("set"===Yt){const[On]=Xt;z("set",On)}else z(Yt,...Xt)}catch(On){Gi.error(On)}})).apply(this,arguments)}}(ft,z,Y,se),{gtagCore:ft,wrappedGtag:window[Ze]}}(Ca,Jl,Ml,Xa,"gtag");Wo=ft,Ps=$t,ec=!0}return Ca[Se]=Al(z,Jl,Ml,Y,Ps,Xa,se),new Tu(z)}function tc(){return(Sc=Sc||(0,ae.Z)(function*(){if((0,b.ru)()||!(0,b.zI)()||!(0,b.hl)())return!1;try{return yield(0,b.eu)()}catch{return!1}})).apply(this,arguments)}const ks="@firebase/analytics";!function Rl(){(0,Te._registerComponent)(new ke.wA(tn,(Y,{options:se})=>Ot(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,Te._registerComponent)(new ke.wA("analytics-internal",function z(Y){try{const se=Y.getProvider(tn).getImmediate();return{logEvent:(Se,Ze,ft)=>function Zd(z,Y,se,Se){z=(0,b.m9)(z),function Ia(z,Y,se,Se,Ze){return(Dl=Dl||(0,ae.Z)(function*(ft,$t,Yt,Xt,On){if(On&&On.global)ft("event",Yt,Xt);else{const Kn=yield $t;ft("event",Yt,Object.assign(Object.assign({},Xt),{send_to:Kn}))}})).apply(this,arguments)}(Wo,Ca[z.app.options.appId],Y,se,Se).catch(Ze=>Gi.error(Ze))}(se,Se,Ze,ft)}}catch(se){throw cr.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,Te.registerVersion)(ks,"0.10.0"),(0,Te.registerVersion)(ks,"0.10.0","esm2017")}();var hc=V(1954),nc=V(2631);const cl=new class yd extends nc.v{}(class Fo extends hc.o{constructor(Y,se){super(Y,se),this.scheduler=Y,this.work=se}schedule(Y,se=0){return se>0?super.schedule(Y,se):(this.delay=se,this.state=Y,this.scheduler.flush(this),this)}execute(Y,se){return se>0||this.closed?super.execute(Y,se):this._execute(Y,se)}requestAsyncId(Y,se,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(Y,se,Se):(Y.flush(this),0)}});var qc=V(6321),xa=V(5592),Yu=V(9397),Ol=V(5137),Kc=V(3093);const Su=new d.GfV("7.6.1"),Hl="__angularfire_symbol__analyticsIsSupportedValue",Zc="__angularfire_symbol__analyticsIsSupported",kc="__angularfire_symbol__remoteConfigIsSupportedValue",fc="__angularfire_symbol__remoteConfigIsSupported",Nc="__angularfire_symbol__messagingIsSupportedValue",Yc="__angularfire_symbol__messagingIsSupported";function Qu(z,Y,se){if(Y){if(1===Y.length)return Y[0];const ft=Y.filter($t=>$t.app===se);if(1===ft.length)return ft[0]}return se.container.getProvider(z).getImmediate({optional:!0})}globalThis[Zc]||(globalThis[Zc]=tc().then(z=>globalThis[Hl]=z).catch(()=>globalThis[Hl]=!1)),globalThis[Yc]||(globalThis[Yc]=cc().then(z=>globalThis[Nc]=z).catch(()=>globalThis[Nc]=!1)),globalThis[fc]||(globalThis[fc]=So().then(z=>globalThis[kc]=z).catch(()=>globalThis[kc]=!1));const Au=(z,Y)=>{const se=Y?[Y]:(0,H.C6)(),Se=[];return se.forEach(Ze=>{Ze.container.getProvider(z).instances.forEach($t=>{Se.includes($t)||Se.push($t)})}),Se};function zl(){}class $l{constructor(Y,se=cl){this.zone=Y,this.delegate=se}now(){return this.delegate.now()}schedule(Y,se,Se){const Ze=this.zone;return this.delegate.schedule(function($t){Ze.runGuarded(()=>{Y.apply(this,[$t])})},se,Se)}}class Mu{constructor(Y){this.zone=Y,this.task=null}call(Y,se){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)),se.pipe((0,Yu.b)({next:Se,complete:Se,error:Se})).subscribe(Y).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ea=(()=>{class z{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=se.run(()=>new $l(Zone.current,qc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(se){return new(se||z)(d.LFG(d.R0b))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function gl(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function _l(z){return gl().ngZone.run(()=>z())}function is(z){return gl(),function Pl(z){return function(se){return(se=se.lift(new Mu(z.ngZone))).pipe((0,Ol.R)(z.outsideAngular),(0,Kc.Q)(z.insideAngular))}}(gl())(z)}const Ks=(z,Y)=>function(){const Se=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),_l(()=>z.apply(void 0,Se))},Ji=(z,Y)=>function(){let se;const Se=arguments;for(let ft=0;ft<arguments.length;ft++)"function"==typeof Se[ft]&&(Y&&(se||(se=_l(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)))),Se[ft]=Ks(Se[ft],se));const Ze=function js(z){return gl().ngZone.runOutsideAngular(()=>z())}(()=>z.apply(this,Se));if(!Y){if(Ze instanceof xa.y){const ft=gl();return Ze.pipe((0,Ol.R)(ft.outsideAngular),(0,Kc.Q)(ft.insideAngular))}return _l(()=>Ze)}return Ze instanceof xa.y?Ze.pipe(is):Ze instanceof Promise?_l(()=>new Promise((ft,$t)=>Ze.then(Yt=>_l(()=>ft(Yt)),Yt=>_l(()=>$t(Yt))))):"function"==typeof Ze&&se?function(){return setTimeout(()=>{se&&"scheduled"===se.state&&se.invoke()},10),Ze.apply(this,arguments)}:_l(()=>Ze)}},6710:(pn,st,V)=>{V.d(st,{$:()=>Qi,A:()=>Sn,D:()=>Ir,I:()=>ya,J:()=>lo,L:()=>eo,N:()=>yi,P:()=>Rc,Q:()=>Ti,R:()=>Xa,U:()=>bo,V:()=>Fa,W:()=>no,X:()=>co,Y:()=>Va,Z:()=>ms,_:()=>qa,a:()=>Co,a0:()=>Ka,a1:()=>Za,a2:()=>ws,a3:()=>te,a4:()=>Ne,a5:()=>q,a6:()=>we,a7:()=>tt,a8:()=>zt,a9:()=>En,aA:()=>nn,aB:()=>Yc,aC:()=>Fr,aD:()=>Cn,aE:()=>kc,aF:()=>cl,aG:()=>yd,aH:()=>Wr,aL:()=>Gi,aO:()=>La,aa:()=>Lr,ab:()=>ni,ac:()=>di,ad:()=>hs,ae:()=>Bi,af:()=>fs,ai:()=>ja,aj:()=>la,ak:()=>Jo,an:()=>Ba,ao:()=>xc,aq:()=>Yl,ar:()=>ko,as:()=>Qr,at:()=>lr,au:()=>Li,av:()=>an,aw:()=>si,ax:()=>pc,ay:()=>Do,az:()=>Nn,b:()=>mi,c:()=>Wc,d:()=>jh,e:()=>Zd,f:()=>xa,g:()=>Su,h:()=>Ol,i:()=>Xi,j:()=>Zc,k:()=>Ns,l:()=>ec,m:()=>ta,o:()=>Ou,p:()=>vt,r:()=>dc,s:()=>Wo,u:()=>Ot});var Ve,Ae,Fe,he,ve,Ke,lt,mt,jt,kt,St,Rt,Zt,Ut,Re,Qe,je,Je,Pt,et,Ft,yn,hn,cn,or,ei,gr,Ur,zn,_t,Ct,ct,yt,Mt,ut,Ht,At,Xn,Mn,jn,Un,Zn,Fn,kr,br,zr,ui,gi,hi,Kr,fi,Ar,kn,$n,Yn,fr,_r,Er,vr,os,ar,Vi,Mr,Mi,wr,Et,Ye,Tt,Xe,ht,Bt,gn,Hn,pr,_i,be,G,k,L,F,de,d=V(5861),H=V(9058),ae=V(534),Te=V(7582),b=V(7879),ke=V(4537);const vt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Sn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ir=function In(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Fi=function rr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pi=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gt=new b.Yd("@firebase/auth");function _n(W,...g){gt.logLevel<=b.in.ERROR&&gt.error(`Auth (${ae.SDK_VERSION}): ${W}`,...g)}function an(W,...g){throw vi(W,...g)}function Nn(W,...g){return vi(W,...g)}function dr(W,g,_){const D=Object.assign(Object.assign({},Fi()),{[g]:_});return new H.LL("auth","Firebase",D).create(g,{appName:W.name})}function Yr(W,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&an(W,"argument-error"),dr(W,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vi(W,...g){if("string"!=typeof W){const _=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=W.name),W._errorFactory.create(_,...D)}return pi.create(W,...g)}function nn(W,g,..._){if(!W)throw vi(g,..._)}function ti(W){const g="INTERNAL ASSERTION FAILED: "+W;throw _n(g),new Error(g)}function Qr(W,g){W||ti(g)}function Tr(){var W;return typeof self<"u"&&(null===(W=self.location)||void 0===W?void 0:W.href)||""}function cs(){return"http:"===vs()||"https:"===vs()}function vs(){var W;return typeof self<"u"&&(null===(W=self.location)||void 0===W?void 0:W.protocol)||null}class Xr{constructor(g,_){this.shortDelay=g,this.longDelay=_,Qr(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function mo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cs()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ui(W,g){Qr(W.emulator,"Emulator should always be set here");const{url:_}=W.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class us{static initialize(g,_,D){this.fetchImpl=g,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new Xr(3e4,6e4);function Pe(W,g){return W.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:W.tenantId}):g}function $(W,g,_,D){return(Ve=Ve||(0,d.Z)(function*(le,fe,Be,rt,Vt={}){return ce(le,Vt,(0,d.Z)(function*(){let Jt={},fn={};rt&&("GET"===fe?fn=rt:Jt={body:JSON.stringify(rt)});const mr=(0,H.xO)(Object.assign({key:le.config.apiKey},fn)).slice(1),wn=yield le._getAdditionalHeaders();return wn["Content-Type"]="application/json",le.languageCode&&(wn["X-Firebase-Locale"]=le.languageCode),us.fetch()(qe(le,le.config.apiHost,Be,mr),Object.assign({method:fe,headers:wn,referrerPolicy:"no-referrer"},Jt))}))})).apply(this,arguments)}function ce(W,g,_){return(Ae=Ae||(0,d.Z)(function*(D,le,fe){D._canInitEmulator=!1;const Be=Object.assign(Object.assign({},nt),le);try{const rt=new bt(D),Vt=yield Promise.race([fe(),rt.promise]);rt.clearNetworkTimeout();const Jt=yield Vt.json();if("needConfirmation"in Jt)throw xe(D,"account-exists-with-different-credential",Jt);if(Vt.ok&&!("errorMessage"in Jt))return Jt;{const fn=Vt.ok?Jt.errorMessage:Jt.error.message,[mr,wn]=fn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mr)throw xe(D,"credential-already-in-use",Jt);if("EMAIL_EXISTS"===mr)throw xe(D,"email-already-in-use",Jt);if("USER_DISABLED"===mr)throw xe(D,"user-disabled",Jt);const nr=Be[mr]||mr.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw dr(D,nr,wn);an(D,nr)}}catch(rt){if(rt instanceof H.ZR)throw rt;an(D,"network-request-failed",{message:String(rt)})}})).apply(this,arguments)}function Ee(W,g,_,D){return(Fe=Fe||(0,d.Z)(function*(le,fe,Be,rt,Vt={}){const Jt=yield $(le,fe,Be,rt,Vt);return"mfaPendingCredential"in Jt&&an(le,"multi-factor-auth-required",{_serverResponse:Jt}),Jt})).apply(this,arguments)}function qe(W,g,_,D){const le=`${g}${_}?${D}`;return W.config.emulator?Ui(W.config,le):`${W.config.apiScheme}://${le}`}class bt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Nn(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(W,g,_){const D={appName:W.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const le=Nn(W,g,D);return le.customData._tokenResponse=_,le}function Ge(W){if(W)try{const g=new Date(Number(W));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function vn(W){return 1e3*Number(W)}function Ln(W){const[g,_,D]=W.split(".");if(void 0===g||void 0===_||void 0===D)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const le=(0,H.tV)(_);return le?JSON.parse(le):(_n("Failed to decode base64 JWT payload"),null)}catch(le){return _n("Caught error parsing JWT payload as JSON",le?.toString()),null}}function xi(W,g){return(mt=mt||(0,d.Z)(function*(_,D,le=!1){if(le)return D;try{return yield D}catch(fe){throw fe instanceof H.ZR&&function ri({code:W}){return"auth/user-disabled"===W||"auth/user-token-expired"===W}(fe)&&_.auth.currentUser===_&&(yield _.auth.signOut()),fe}})).apply(this,arguments)}class Zs{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const le=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),D)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class $s{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ge(this.lastLoginAt),this.creationTime=Ge(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qo(W){return(jt=jt||(0,d.Z)(function*(g){var _;const D=g.auth,le=yield g.getIdToken(),fe=yield xi(g,function De(W,g){return(Ke=Ke||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:lookup",D)})).apply(this,arguments)}(D,{idToken:le}));nn(fe?.users.length,D,"internal-error");const Be=fe.users[0];g._notifyReloadListener(Be);const rt=null!==(_=Be.providerUserInfo)&&void 0!==_&&_.length?function Ri(W){return W.map(g=>{var{providerId:_}=g,D=(0,Te._T)(g,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(Be.providerUserInfo):[],Vt=function ii(W,g){return[...W.filter(D=>!g.some(le=>le.providerId===D.providerId)),...g]}(g.providerData,rt),mr=!!g.isAnonymous&&!(g.email&&Be.passwordHash||Vt?.length),wn={uid:Be.localId,displayName:Be.displayName||null,photoURL:Be.photoUrl||null,email:Be.email||null,emailVerified:Be.emailVerified||!1,phoneNumber:Be.phoneNumber||null,tenantId:Be.tenantId||null,providerData:Vt,metadata:new $s(Be.createdAt,Be.lastLoginAt),isAnonymous:mr};Object.assign(g,wn)})).apply(this,arguments)}class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){nn(g.idToken,"internal-error"),nn(typeof g.idToken<"u","internal-error"),nn(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Br(W){const g=Ln(W);return nn(g,"internal-error"),nn(typeof g.exp<"u","internal-error"),nn(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var D=this;return(0,d.Z)(function*(){return nn(!D.accessToken||D.refreshToken,g,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var D=this;return(0,d.Z)(function*(){const{accessToken:le,refreshToken:fe,expiresIn:Be}=yield function ys(W,g){return(St=St||(0,d.Z)(function*(_,D){const le=yield ce(_,{},(0,d.Z)(function*(){const fe=(0,H.xO)({grant_type:"refresh_token",refresh_token:D}).slice(1),{tokenApiHost:Be,apiKey:rt}=_.config,Vt=qe(_,Be,"/v1/token",`key=${rt}`),Jt=yield _._getAdditionalHeaders();return Jt["Content-Type"]="application/x-www-form-urlencoded",us.fetch()(Vt,{method:"POST",headers:Jt,body:fe})}));return{accessToken:le.access_token,expiresIn:le.expires_in,refreshToken:le.refresh_token}})).apply(this,arguments)}(g,_);D.updateTokensAndExpiration(le,fe,Number(Be))})()}updateTokensAndExpiration(g,_,D){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,_){const{refreshToken:D,accessToken:le,expirationTime:fe}=_,Be=new ai;return D&&(nn("string"==typeof D,"internal-error",{appName:g}),Be.refreshToken=D),le&&(nn("string"==typeof le,"internal-error",{appName:g}),Be.accessToken=le),fe&&(nn("number"==typeof fe,"internal-error",{appName:g}),Be.expirationTime=fe),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return ti("not implemented")}}function ts(W,g){nn("string"==typeof W||typeof W>"u","internal-error",{appName:g})}class Ys{constructor(g){var{uid:_,auth:D,stsTokenManager:le}=g,fe=(0,Te._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new $s(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const D=yield xi(_,_.stsTokenManager.getToken(_.auth,g));return nn(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(g){return function Wt(W){return(lt=lt||(0,d.Z)(function*(g,_=!1){const D=(0,H.m9)(g),le=yield D.getIdToken(_),fe=Ln(le);nn(fe&&fe.exp&&fe.auth_time&&fe.iat,D.auth,"internal-error");const Be="object"==typeof fe.firebase?fe.firebase:void 0,rt=Be?.sign_in_provider;return{claims:fe,token:le,authTime:Ge(vn(fe.auth_time)),issuedAtTime:Ge(vn(fe.iat)),expirationTime:Ge(vn(fe.exp)),signInProvider:rt||null,signInSecondFactor:Be?.sign_in_second_factor||null}})).apply(this,arguments)}(this,g)}reload(){return function Cr(W){return(kt=kt||(0,d.Z)(function*(g){const _=(0,H.m9)(g);yield Qo(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}(this)}_assign(g){this!==g&&(nn(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new Ys(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var D=this;return(0,d.Z)(function*(){let le=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),le=!0),_&&(yield Qo(D)),yield D.auth._persistUserIfCurrent(D),le&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield xi(g,function ge(W,g){return(he=he||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:delete",D)})).apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var D,le,fe,Be,rt,Vt,Jt,fn;const mr=null!==(D=_.displayName)&&void 0!==D?D:void 0,wn=null!==(le=_.email)&&void 0!==le?le:void 0,nr=null!==(fe=_.phoneNumber)&&void 0!==fe?fe:void 0,Fs=null!==(Be=_.photoURL)&&void 0!==Be?Be:void 0,yl=null!==(rt=_.tenantId)&&void 0!==rt?rt:void 0,Da=null!==(Vt=_._redirectEventId)&&void 0!==Vt?Vt:void 0,Lo=null!==(Jt=_.createdAt)&&void 0!==Jt?Jt:void 0,Vo=null!==(fn=_.lastLoginAt)&&void 0!==fn?fn:void 0,{uid:uu,emailVerified:Id,isAnonymous:Pu,providerData:ku,stsTokenManager:Ju}=_;nn(uu&&Ju,g,"internal-error");const ed=ai.fromJSON(this.name,Ju);nn("string"==typeof uu,g,"internal-error"),ts(mr,g.name),ts(wn,g.name),nn("boolean"==typeof Id,g,"internal-error"),nn("boolean"==typeof Pu,g,"internal-error"),ts(nr,g.name),ts(Fs,g.name),ts(yl,g.name),ts(Da,g.name),ts(Lo,g.name),ts(Vo,g.name);const ha=new Ys({uid:uu,auth:g,email:wn,emailVerified:Id,displayName:mr,isAnonymous:Pu,photoURL:Fs,phoneNumber:nr,tenantId:yl,stsTokenManager:ed,createdAt:Lo,lastLoginAt:Vo});return ku&&Array.isArray(ku)&&(ha.providerData=ku.map(Gl=>Object.assign({},Gl))),Da&&(ha._redirectEventId=Da),ha}static _fromIdTokenResponse(g,_,D=!1){return(0,d.Z)(function*(){const le=new ai;le.updateFromServerResponse(_);const fe=new Ys({uid:_.localId,auth:g,stsTokenManager:le,isAnonymous:D});return yield Qo(fe),fe})()}}const jo=new Map;function Fr(W){Qr(W instanceof Function,"Expected a class definition");let g=jo.get(W);return g?(Qr(g instanceof W,"Instance stored in cache mismatched with class"),g):(g=new W,jo.set(W,g),g)}const yi=(()=>{class W{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,D){var le=this;return(0,d.Z)(function*(){le.storage[_]=D})()}_get(_){var D=this;return(0,d.Z)(function*(){const le=D.storage[_];return void 0===le?null:le})()}_remove(_){var D=this;return(0,d.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return W.type="NONE",W})();function Cn(W,g,_){return`firebase:${W}:${g}:${_}`}class yr{constructor(g,_,D){this.persistence=g,this.auth=_,this.userKey=D;const{config:le,name:fe}=this.auth;this.fullUserKey=Cn(this.userKey,le.apiKey,fe),this.fullPersistenceKey=Cn("persistence",le.apiKey,fe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ys._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,D="authUser"){return(0,d.Z)(function*(){var le,fe;if(!_.length)return new yr(Fr(yi),g,D);const Be=(yield Promise.all(_.map(function(mr){return(le=le||(0,d.Z)(function*(wn){if(yield wn._isAvailable())return wn})).apply(this,arguments)}))).filter(mr=>mr);let rt=Be[0]||Fr(yi);const Vt=Cn(D,g.config.apiKey,g.name);let Jt=null;for(const mr of _)try{const wn=yield mr._get(Vt);if(wn){const nr=Ys._fromJSON(g,wn);mr!==rt&&(Jt=nr),rt=mr;break}}catch{}const fn=Be.filter(mr=>mr._shouldAllowMigration);return rt._shouldAllowMigration&&fn.length?(rt=fn[0],Jt&&(yield rt._set(Vt,Jt.toJSON())),yield Promise.all(_.map(function(mr){return(fe=fe||(0,d.Z)(function*(wn){if(wn!==rt)try{yield wn._remove(Vt)}catch{}})).apply(this,arguments)})),new yr(rt,g,D)):new yr(rt,g,D)})()}}function bi(W){const g=W.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ws(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(zi(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ki(g))return"Blackberry";if(To(g))return"Webos";if(Gs(g))return"Safari";if((g.includes("chrome/")||ns(g))&&!g.includes("edge/"))return"Chrome";if(Li(g))return"Android";{const D=W.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function zi(W=(0,H.z$)()){return/firefox\//i.test(W)}function Gs(W=(0,H.z$)()){const g=W.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ns(W=(0,H.z$)()){return/crios\//i.test(W)}function Ws(W=(0,H.z$)()){return/iemobile/i.test(W)}function Li(W=(0,H.z$)()){return/android/i.test(W)}function Ki(W=(0,H.z$)()){return/blackberry/i.test(W)}function To(W=(0,H.z$)()){return/webos/i.test(W)}function lr(W=(0,H.z$)()){return/iphone|ipad|ipod/i.test(W)||/macintosh/i.test(W)&&/mobile/i.test(W)}function Do(W=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(W)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(W)}function Zi(W=(0,H.z$)()){return lr(W)||Li(W)||To(W)||Ki(W)||/windows phone/i.test(W)||Ws(W)}function sa(W,g=[]){let _;switch(W){case"Browser":_=bi((0,H.z$)());break;case"Worker":_=`${bi((0,H.z$)())}-${W}`;break;default:_=W}const D=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${D}`}function va(W,g){return(Zt=Zt||(0,d.Z)(function*(_,D){return $(_,"GET","/v2/recaptchaConfig",Pe(_,D))})).apply(this,arguments)}function oa(W){return void 0!==W&&void 0!==W.getResponse}function Qs(W){return void 0!==W&&void 0!==W.enterprise}class So{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function ao(W){return new Promise((g,_)=>{const D=document.createElement("script");D.setAttribute("src",W),D.onload=g,D.onerror=le=>{const fe=Nn("internal-error");fe.customData=le,_(fe)},D.type="text/javascript",D.charset="UTF-8",function Ho(){var W,g;return null!==(g=null===(W=document.getElementsByTagName("head"))||void 0===W?void 0:W[0])&&void 0!==g?g:document}().appendChild(D)})}function Gr(W){return`__${W}${Math.floor(1e6*Math.random())}`}class rs{constructor(g){this.type="recaptcha-enterprise",this.auth=Wr(g)}verify(g="verify",_=!1){var D=this;return(0,d.Z)(function*(){var le;function Be(rt,Vt,Jt){const fn=window.grecaptcha;Qs(fn)?fn.enterprise.ready(()=>{fn.enterprise.execute(rt,{action:g}).then(mr=>{Vt(mr)}).catch(()=>{Vt("NO_RECAPTCHA")})}):Jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rt,Vt)=>{(function fe(rt){return(le=le||(0,d.Z)(function*(Vt){var Jt;if(!_){if(null==Vt.tenantId&&null!=Vt._agentRecaptchaConfig)return Vt._agentRecaptchaConfig.siteKey;if(null!=Vt.tenantId&&void 0!==Vt._tenantRecaptchaConfigs[Vt.tenantId])return Vt._tenantRecaptchaConfigs[Vt.tenantId].siteKey}return new Promise(function(fn,mr){return(Jt=Jt||(0,d.Z)(function*(wn,nr){va(Vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Fs=>{if(void 0!==Fs.recaptchaKey){const yl=new So(Fs);return null==Vt.tenantId?Vt._agentRecaptchaConfig=yl:Vt._tenantRecaptchaConfigs[Vt.tenantId]=yl,wn(yl.siteKey)}nr(new Error("recaptcha Enterprise site key undefined"))}).catch(Fs=>{nr(Fs)})})).apply(this,arguments)})})).apply(this,arguments)})(D.auth).then(Jt=>{if(!_&&Qs(window.grecaptcha))Be(Jt,rt,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));ao("https://www.google.com/recaptcha/enterprise.js?render="+Jt).then(()=>{Be(Jt,rt,Vt)}).catch(fn=>{Vt(fn)})}}).catch(Jt=>{Vt(Jt)})})})()}}function ds(W,g,_){return(Ut=Ut||(0,d.Z)(function*(D,le,fe,Be=!1){const rt=new rs(D);let Vt;try{Vt=yield rt.verify(fe)}catch{Vt=yield rt.verify(fe,!0)}const Jt=Object.assign({},le);return Object.assign(Jt,Be?{captchaResp:Vt}:{captchaResponse:Vt}),Object.assign(Jt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Jt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Jt})).apply(this,arguments)}class Js{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const D=fe=>new Promise((Be,rt)=>{try{Be(g(fe))}catch(Vt){rt(Vt)}});D.onAbort=_,this.queue.push(D);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const D=[];try{for(const le of _.queue)yield le(g),le.onAbort&&D.push(le.onAbort)}catch(le){D.reverse();for(const fe of D)try{fe()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:le?.message})}})()}}class Di{constructor(g,_,D,le){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=D,this.config=le,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dl(this),this.idTokenSubscription=new dl(this),this.beforeStateQueue=new Js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=le.sdkClientVersion}_initializeWithPersistence(g,_){var D=this;return _&&(this._popupRedirectResolver=Fr(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var le,fe;if(!D._deleted&&(D.persistenceManager=yield yr.create(D,g),!D._deleted)){if(null!==(le=D._popupRedirectResolver)&&void 0!==le&&le._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(fe=D.currentUser)||void 0===fe?void 0:fe.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var D;const le=yield _.assertedPersistence.getCurrentUser();let fe=le,Be=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const rt=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,Vt=fe?._redirectEventId,Jt=yield _.tryRedirectSignIn(g);(!rt||rt===Vt)&&Jt?.user&&(fe=Jt.user,Be=!0)}if(!fe)return _.directlySetCurrentUser(null);if(!fe._redirectEventId){if(Be)try{yield _.beforeStateQueue.runMiddleware(fe)}catch(rt){fe=le,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(rt))}return fe?_.reloadAndSetCurrentUserOrClear(fe):_.directlySetCurrentUser(null)}return nn(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===fe._redirectEventId?_.directlySetCurrentUser(fe):_.reloadAndSetCurrentUserOrClear(fe)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield Qo(g)}catch(D){if("auth/network-request-failed"!==D?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const W=navigator;return W.languages&&W.languages[0]||W.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const D=g?(0,H.m9)(g):null;return D&&nn(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(g,_=!1){var D=this;return(0,d.Z)(function*(){if(!D._deleted)return g&&nn(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,d.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Fr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const _=yield va(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new So(_);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new rs(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,_,D){return this.registerStateListener(this.authStateSubscription,g,_,D)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,D){return this.registerStateListener(this.idTokenSubscription,g,_,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var D=this;return(0,d.Z)(function*(){const le=yield D.getOrInitRedirectPersistenceManager(_);return null===g?le.removeCurrentUser():le.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const D=g&&Fr(g)||_._popupRedirectResolver;nn(D,_,"argument-error"),_.redirectPersistenceManager=yield yr.create(_,[Fr(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var D,le;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===g?_._currentUser:(null===(le=_.redirectUser)||void 0===le?void 0:le._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,D,le){if(this._deleted)return()=>{};const fe="function"==typeof _?_:_.next.bind(_),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return nn(Be,this,"internal-error"),Be.then(()=>fe(this.currentUser)),"function"==typeof _?g.addObserver(_,D,le):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=sa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const le=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();le&&(D["X-Firebase-Client"]=le);const fe=yield g._getAppCheckToken();return fe&&(D["X-Firebase-AppCheck"]=fe),D})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var _;const D=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return D?.error&&function Kt(W,...g){gt.logLevel<=b.in.WARN&&gt.warn(`Auth (${ae.SDK_VERSION}): ${W}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Wr(W){return(0,H.m9)(W)}class dl{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ya(W,g,_){const D=Wr(W);nn(D._canInitEmulator,D,"emulator-config-failed"),nn(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const le=!!_?.disableWarnings,fe=Ao(g),{host:Be,port:rt}=function qs(W){const g=Ao(W),_=/(\/\/)?([^?#/]+)/.exec(W.substr(g.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(D);if(le){const fe=le[1];return{host:fe,port:As(D.substr(fe.length+1))}}{const[fe,Be]=D.split(":");return{host:fe,port:As(Be)}}}(g);D.config.emulator={url:`${fe}//${Be}${null===rt?"":`:${rt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Be,port:rt,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function vo(){function W(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",W):W())}()}function Ao(W){const g=W.indexOf(":");return g<0?"":W.substr(0,g+1)}function As(W){if(!W)return null;const g=Number(W);return isNaN(g)?null:g}class lo{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ti("not implemented")}_getIdTokenResponse(g){return ti("not implemented")}_linkToIdToken(g,_){return ti("not implemented")}_getReauthenticationResolver(g){return ti("not implemented")}}function Oa(W,g){return(Re=Re||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:resetPassword",Pe(_,D))})).apply(this,arguments)}function sl(W,g){return(Qe=Qe||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:update",D)})).apply(this,arguments)}function Ms(W,g){return(Je=Je||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithPassword",Pe(_,D))})).apply(this,arguments)}function ne(W,g){return(Pt=Pt||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:sendOobCode",Pe(_,D))})).apply(this,arguments)}function ye(W,g){return(Ft=Ft||(0,d.Z)(function*(_,D){return ne(_,D)})).apply(this,arguments)}function ee(W,g){return(yn=yn||(0,d.Z)(function*(_,D){return ne(_,D)})).apply(this,arguments)}class Ei extends lo{constructor(g,_,D,le=null){super("password",D),this._email=g,this._password=_,this._tenantId=le}static _fromEmailAndPassword(g,_){return new Ei(g,_,"password")}static _fromEmailAndCode(g,_,D=null){return new Ei(g,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){var D;switch(_.signInMethod){case"password":const fe={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const Be=yield ds(g,fe,"signInWithPassword");return Ms(g,Be)}var le;return Ms(g,fe).catch(function(Be){return(le=le||(0,d.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Vt=yield ds(g,fe,"signInWithPassword");return Ms(g,Vt)}return Promise.reject(rt)})).apply(this,arguments)});case"emailLink":return function rn(W,g){return(cn=cn||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithEmailLink",Pe(_,D))})).apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:an(g,"internal-error")}})()}_linkToIdToken(g,_){var D=this;return(0,d.Z)(function*(){switch(D.signInMethod){case"password":return sl(g,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function er(W,g){return(or=or||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithEmailLink",Pe(_,D))})).apply(this,arguments)}(g,{idToken:_,email:D._email,oobCode:D._password});default:an(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function as(W,g){return(ei=ei||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithIdp",Pe(_,D))})).apply(this,arguments)}class eo extends lo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new eo(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):an("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:le}=_,fe=(0,Te._T)(_,["providerId","signInMethod"]);if(!D||!le)return null;const Be=new eo(D,le);return Be.idToken=fe.idToken||void 0,Be.accessToken=fe.accessToken||void 0,Be.secret=fe.secret,Be.nonce=fe.nonce,Be.pendingToken=fe.pendingToken||null,Be}_getIdTokenResponse(g){return as(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,as(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,as(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,H.xO)(_)}return g}}const hl={USER_NOT_FOUND:"user-not-found"};class bs extends lo{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new bs({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new bs({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function to(W,g){return(Ur=Ur||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithPhoneNumber",Pe(_,D))})).apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ba(W,g){return(zn=zn||(0,d.Z)(function*(_,D){const le=yield Ee(_,"POST","/v1/accounts:signInWithPhoneNumber",Pe(_,D));if(le.temporaryProof)throw xe(_,"account-exists-with-different-credential",le);return le})).apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function wl(W,g){return(_t=_t||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithPhoneNumber",Pe(_,Object.assign(Object.assign({},D),{operation:"REAUTH"})),hl)})).apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:D,verificationCode:le}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:D,code:le}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:D,phoneNumber:le,temporaryProof:fe}=g;return D||_||le||fe?new bs({verificationId:_,verificationCode:D,phoneNumber:le,temporaryProof:fe}):null}}class yo{constructor(g){var _,D,le,fe,Be,rt;const Vt=(0,H.zd)((0,H.pd)(g)),Jt=null!==(_=Vt.apiKey)&&void 0!==_?_:null,fn=null!==(D=Vt.oobCode)&&void 0!==D?D:null,mr=function Xo(W){switch(W){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=Vt.mode)&&void 0!==le?le:null);nn(Jt&&fn&&mr,"argument-error"),this.apiKey=Jt,this.operation=mr,this.code=fn,this.continueUrl=null!==(fe=Vt.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(Be=Vt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(rt=Vt.tenantId)&&void 0!==rt?rt:null}static parseLink(g){const _=function Es(W){const g=(0,H.zd)((0,H.pd)(W)).link,_=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(W)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||_||g||W}(g);try{return new yo(_)}catch{return null}}}let Ti=(()=>{class W{constructor(){this.providerId=W.PROVIDER_ID}static credential(_,D){return Ei._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const le=yo.parseLink(D);return nn(le,"argument-error"),Ei._fromEmailAndCode(_,le.code,le.tenantId)}}return W.PROVIDER_ID="password",W.EMAIL_PASSWORD_SIGN_IN_METHOD="password",W.EMAIL_LINK_SIGN_IN_METHOD="emailLink",W})();class zo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Rs extends zo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class co extends Rs{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return nn("providerId"in _&&"signInMethod"in _,"argument-error"),eo._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return nn(g.idToken||g.accessToken,"argument-error"),eo._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return co.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return co.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:le,pendingToken:fe,nonce:Be,providerId:rt}=g;if(!D&&!le&&!_&&!fe||!rt)return null;try{return new co(rt)._credential({idToken:_,accessToken:D,nonce:Be,pendingToken:fe})}catch{return null}}}let bo=(()=>{class W extends Rs{constructor(){super("facebook.com")}static credential(_){return eo._fromParams({providerId:W.PROVIDER_ID,signInMethod:W.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return W.credentialFromTaggedObject(_)}static credentialFromError(_){return W.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return W.credential(_.oauthAccessToken)}catch{return null}}}return W.FACEBOOK_SIGN_IN_METHOD="facebook.com",W.PROVIDER_ID="facebook.com",W})(),Fa=(()=>{class W extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return eo._fromParams({providerId:W.PROVIDER_ID,signInMethod:W.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return W.credentialFromTaggedObject(_)}static credentialFromError(_){return W.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:le}=_;if(!D&&!le)return null;try{return W.credential(D,le)}catch{return null}}}return W.GOOGLE_SIGN_IN_METHOD="google.com",W.PROVIDER_ID="google.com",W})(),no=(()=>{class W extends Rs{constructor(){super("github.com")}static credential(_){return eo._fromParams({providerId:W.PROVIDER_ID,signInMethod:W.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return W.credentialFromTaggedObject(_)}static credentialFromError(_){return W.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return W.credential(_.oauthAccessToken)}catch{return null}}}return W.GITHUB_SIGN_IN_METHOD="github.com",W.PROVIDER_ID="github.com",W})();class La extends lo{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return as(g,this.buildRequest())}_linkToIdToken(g,_){const D=this.buildRequest();return D.idToken=_,as(g,D)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,as(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:le,pendingToken:fe}=_;return D&&le&&fe&&D===le?new La(D,fe):null}static _create(g,_){return new La(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Va extends zo{constructor(g){nn(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Va.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Va.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=La.fromJSON(g);return nn(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:D}=g;if(!_||!D)return null;try{return La._create(D,_)}catch{return null}}}let ms=(()=>{class W extends Rs{constructor(){super("twitter.com")}static credential(_,D){return eo._fromParams({providerId:W.PROVIDER_ID,signInMethod:W.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return W.credentialFromTaggedObject(_)}static credentialFromError(_){return W.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:le}=_;if(!D||!le)return null;try{return W.credential(D,le)}catch{return null}}}return W.TWITTER_SIGN_IN_METHOD="twitter.com",W.PROVIDER_ID="twitter.com",W})();function Ua(W,g){return(Ct=Ct||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signUp",Pe(_,D))})).apply(this,arguments)}class jr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,D,le=!1){return(0,d.Z)(function*(){const fe=yield Ys._fromIdTokenResponse(g,D,le),Be=Ll(D);return new jr({user:fe,providerId:Be,_tokenResponse:D,operationType:_})})()}static _forOperation(g,_,D){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const le=Ll(D);return new jr({user:g,providerId:le,_tokenResponse:D,operationType:_})})()}}function Ll(W){return W.providerId?W.providerId:"phoneNumber"in W?"phone":null}function qa(W){return(ct=ct||(0,d.Z)(function*(g){var _;const D=Wr(g);if(yield D._initializationPromise,null!==(_=D.currentUser)&&void 0!==_&&_.isAnonymous)return new jr({user:D.currentUser,providerId:null,operationType:"signIn"});const le=yield Ua(D,{returnSecureToken:!0}),fe=yield jr._fromIdTokenResponse(D,"signIn",le,!0);return yield D._updateCurrentUser(fe.user),fe})).apply(this,arguments)}class Yi extends H.ZR{constructor(g,_,D,le){var fe;super(_.code,_.message),this.operationType=D,this.user=le,Object.setPrototypeOf(this,Yi.prototype),this.customData={appName:g.name,tenantId:null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,_,D,le){return new Yi(g,_,D,le)}}function ol(W,g,_,D){return("reauthenticate"===g?_._getReauthenticationResolver(W):_._getIdTokenResponse(W)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?Yi._fromErrorAndOperation(W,fe,g,D):fe})}function al(W){return new Set(W.map(({providerId:g})=>g).filter(g=>!!g))}function Ba(W,g){return(yt=yt||(0,d.Z)(function*(_,D){const le=(0,H.m9)(_);yield gs(!0,le,D);const{providerUserInfo:fe}=yield function $e(W,g){return(ve=ve||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:update",D)})).apply(this,arguments)}(le.auth,{idToken:yield le.getIdToken(),deleteProvider:[D]}),Be=al(fe||[]);return le.providerData=le.providerData.filter(rt=>Be.has(rt.providerId)),Be.has("phone")||(le.phoneNumber=null),yield le.auth._persistUserIfCurrent(le),le})).apply(this,arguments)}function ro(W,g){return(Mt=Mt||(0,d.Z)(function*(_,D,le=!1){const fe=yield xi(_,D._linkToIdToken(_.auth,yield _.getIdToken()),le);return jr._forOperation(_,"link",fe)})).apply(this,arguments)}function gs(W,g,_){return(ut=ut||(0,d.Z)(function*(D,le,fe){yield Qo(le);const rt=!1===D?"provider-already-linked":"no-such-provider";nn(al(le.providerData).has(fe)===D,le.auth,rt)})).apply(this,arguments)}function wo(W,g){return(Ht=Ht||(0,d.Z)(function*(_,D,le=!1){const{auth:fe}=_,Be="reauthenticate";try{const rt=yield xi(_,ol(fe,Be,D,_),le);nn(rt.idToken,fe,"internal-error");const Vt=Ln(rt.idToken);nn(Vt,fe,"internal-error");const{sub:Jt}=Vt;return nn(_.uid===Jt,fe,"user-mismatch"),jr._forOperation(_,Be,rt)}catch(rt){throw"auth/user-not-found"===rt?.code&&an(fe,"user-mismatch"),rt}})).apply(this,arguments)}function $o(W,g){return(At=At||(0,d.Z)(function*(_,D,le=!1){const Be=yield ol(_,"signIn",D),rt=yield jr._fromIdTokenResponse(_,"signIn",Be);return le||(yield _._updateCurrentUser(rt.user)),rt})).apply(this,arguments)}function Qi(W,g){return(Xn=Xn||(0,d.Z)(function*(_,D){return $o(Wr(_),D)})).apply(this,arguments)}function Ka(W,g){return(Mn=Mn||(0,d.Z)(function*(_,D){const le=(0,H.m9)(_);return yield gs(!1,le,D.providerId),ro(le,D)})).apply(this,arguments)}function Za(W,g){return(jn=jn||(0,d.Z)(function*(_,D){return wo((0,H.m9)(_),D)})).apply(this,arguments)}function ws(W,g){return(Zn=Zn||(0,d.Z)(function*(_,D){const le=Wr(_),fe=yield function pl(W,g){return(Un=Un||(0,d.Z)(function*(_,D){return Ee(_,"POST","/v1/accounts:signInWithCustomToken",Pe(_,D))})).apply(this,arguments)}(le,{token:D,returnSecureToken:!0}),Be=yield jr._fromIdTokenResponse(le,"signIn",fe);return yield le._updateCurrentUser(Be.user),Be})).apply(this,arguments)}class Mo{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?uo._fromServerResponse(g,_):"totpInfo"in _?Ea._fromServerResponse(g,_):an(g,"internal-error")}}class uo extends Mo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new uo(_)}}class Ea extends Mo{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Ea(_)}}function T(W,g,_){var D;nn((null===(D=_.url)||void 0===D?void 0:D.length)>0,W,"invalid-continue-uri"),nn(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,W,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(nn(_.iOS.bundleId.length>0,W,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(nn(_.android.packageName.length>0,W,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function te(W,g,_){return(Fn=Fn||(0,d.Z)(function*(D,le,fe){var Be;const rt=Wr(D),Vt={requestType:"PASSWORD_RESET",email:le,clientType:"CLIENT_TYPE_WEB"};if(null!==(Be=rt._getRecaptchaConfig())&&void 0!==Be&&Be.emailPasswordEnabled){const fn=yield ds(rt,Vt,"getOobCode",!0);fe&&T(rt,fn,fe),yield ye(rt,fn)}else{var Jt;fe&&T(rt,Vt,fe),yield ye(rt,Vt).catch(function(fn){return(Jt=Jt||(0,d.Z)(function*(mr){if("auth/missing-recaptcha-token"!==mr.code)return Promise.reject(mr);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const wn=yield ds(rt,Vt,"getOobCode",!0);fe&&T(rt,wn,fe),yield ye(rt,wn)}})).apply(this,arguments)})}})).apply(this,arguments)}function Ne(W,g,_){return(kr=kr||(0,d.Z)(function*(D,le,fe){yield Oa((0,H.m9)(D),{oobCode:le,newPassword:fe})})).apply(this,arguments)}function q(W,g){return(br=br||(0,d.Z)(function*(_,D){yield function Pa(W,g){return(je=je||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:update",Pe(_,D))})).apply(this,arguments)}((0,H.m9)(_),{oobCode:D})})).apply(this,arguments)}function we(W,g){return(zr=zr||(0,d.Z)(function*(_,D){const le=(0,H.m9)(_),fe=yield Oa(le,{oobCode:D}),Be=fe.requestType;switch(nn(Be,le,"internal-error"),Be){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nn(fe.newEmail,le,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nn(fe.mfaInfo,le,"internal-error");default:nn(fe.email,le,"internal-error")}let rt=null;return fe.mfaInfo&&(rt=Mo._fromServerResponse(Wr(le),fe.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===fe.requestType?fe.newEmail:fe.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===fe.requestType?fe.email:fe.newEmail)||null,multiFactorInfo:rt},operation:Be}})).apply(this,arguments)}function tt(W,g){return(ui=ui||(0,d.Z)(function*(_,D){const{data:le}=yield we((0,H.m9)(_),D);return le.email})).apply(this,arguments)}function zt(W,g,_){return(gi=gi||(0,d.Z)(function*(D,le,fe){var Be;const rt=Wr(D),Vt={returnSecureToken:!0,email:le,password:fe,clientType:"CLIENT_TYPE_WEB"};let Jt;if(null!==(Be=rt._getRecaptchaConfig())&&void 0!==Be&&Be.emailPasswordEnabled){const nr=yield ds(rt,Vt,"signUpPassword");Jt=Ua(rt,nr)}else{var fn;Jt=Ua(rt,Vt).catch(function(nr){return(fn=fn||(0,d.Z)(function*(Fs){if("auth/missing-recaptcha-token"===Fs.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const yl=yield ds(rt,Vt,"signUpPassword");return Ua(rt,yl)}return Promise.reject(Fs)})).apply(this,arguments)})}const mr=yield Jt.catch(nr=>Promise.reject(nr)),wn=yield jr._fromIdTokenResponse(rt,"signIn",mr);return yield rt._updateCurrentUser(wn.user),wn})).apply(this,arguments)}function En(W,g,_){return Qi((0,H.m9)(W),Ti.credential(g,_))}function Lr(W,g,_){return(hi=hi||(0,d.Z)(function*(D,le,fe){var Be;const rt=Wr(D),Vt={requestType:"EMAIL_SIGNIN",email:le,clientType:"CLIENT_TYPE_WEB"};function Jt(mr,wn){nn(wn.handleCodeInApp,rt,"argument-error"),wn&&T(rt,mr,wn)}if(null!==(Be=rt._getRecaptchaConfig())&&void 0!==Be&&Be.emailPasswordEnabled){const mr=yield ds(rt,Vt,"getOobCode",!0);Jt(mr,fe),yield ee(rt,mr)}else{var fn;Jt(Vt,fe),yield ee(rt,Vt).catch(function(mr){return(fn=fn||(0,d.Z)(function*(wn){if("auth/missing-recaptcha-token"!==wn.code)return Promise.reject(wn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nr=yield ds(rt,Vt,"getOobCode",!0);Jt(nr,fe),yield ee(rt,nr)}})).apply(this,arguments)})}})).apply(this,arguments)}function ni(W,g){const _=yo.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}function di(W,g,_){return(Kr=Kr||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D),rt=Ti.credentialWithLink(le,fe||Tr());return nn(rt._tenantId===(Be.tenantId||null),Be,"tenant-id-mismatch"),Qi(Be,rt)})).apply(this,arguments)}function hs(W,g){return(Ar=Ar||(0,d.Z)(function*(_,D){const fe={identifier:D,continueUri:cs()?Tr():"http://localhost"},{signinMethods:Be}=yield function qr(W,g){return(fi=fi||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:createAuthUri",Pe(_,D))})).apply(this,arguments)}((0,H.m9)(_),fe);return Be||[]})).apply(this,arguments)}function Bi(W,g){return(kn=kn||(0,d.Z)(function*(_,D){const le=(0,H.m9)(_),Be={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};D&&T(le.auth,Be,D);const{email:rt}=yield function K(W,g){return(et=et||(0,d.Z)(function*(_,D){return ne(_,D)})).apply(this,arguments)}(le.auth,Be);rt!==_.email&&(yield _.reload())})).apply(this,arguments)}function fs(W,g,_){return($n=$n||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D),Vt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:le};fe&&T(Be.auth,Vt,fe);const{email:Jt}=yield function Ce(W,g){return(hn=hn||(0,d.Z)(function*(_,D){return ne(_,D)})).apply(this,arguments)}(Be.auth,Vt);Jt!==D.email&&(yield D.reload())})).apply(this,arguments)}function ja(W,g){return(fr=fr||(0,d.Z)(function*(_,{displayName:D,photoURL:le}){if(void 0===D&&void 0===le)return;const fe=(0,H.m9)(_),rt={idToken:yield fe.getIdToken(),displayName:D,photoUrl:le,returnSecureToken:!0},Vt=yield xi(fe,function Ro(W,g){return(Yn=Yn||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:update",D)})).apply(this,arguments)}(fe.auth,rt));fe.displayName=Vt.displayName||null,fe.photoURL=Vt.photoUrl||null;const Jt=fe.providerData.find(({providerId:fn})=>"password"===fn);Jt&&(Jt.displayName=fe.displayName,Jt.photoURL=fe.photoURL),yield fe._updateTokensIfNecessary(Vt)})).apply(this,arguments)}function la(W,g){return Os((0,H.m9)(W),g,null)}function Jo(W,g){return Os((0,H.m9)(W),null,g)}function Os(W,g,_){return(_r=_r||(0,d.Z)(function*(D,le,fe){const{auth:Be}=D,Vt={idToken:yield D.getIdToken(),returnSecureToken:!0};le&&(Vt.email=le),fe&&(Vt.password=fe);const Jt=yield xi(D,sl(Be,Vt));yield D._updateTokensIfNecessary(Jt,!0)})).apply(this,arguments)}class Oo{constructor(g,_,D={}){this.isNewUser=g,this.providerId=_,this.profile=D}}class $i extends Oo{constructor(g,_,D,le){super(g,_,D),this.username=le}}class Il extends Oo{constructor(g,_){super(g,"facebook.com",_)}}class Vl extends $i{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Po extends Oo{constructor(g,_){super(g,"google.com",_)}}class lc extends $i{constructor(g,_,D){super(g,"twitter.com",_,D)}}function xc(W){const{user:g,_tokenResponse:_}=W;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ls(W){var g,_;if(!W)return null;const{providerId:D}=W,le=W.rawUserInfo?JSON.parse(W.rawUserInfo):{},fe=W.isNewUser||"identitytoolkit#SignupNewUserResponse"===W.kind;if(!D&&W?.idToken){const Be=null===(_=null===(g=Ln(W.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Be)return new Oo(fe,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!D)return null;switch(D){case"facebook.com":return new Il(fe,le);case"github.com":return new Vl(fe,le);case"google.com":return new Po(fe,le);case"twitter.com":return new lc(fe,le,W.screenName||null);case"custom":case"anonymous":return new Oo(fe,null);default:return new Oo(fe,D,le)}}(_)}class Tl{constructor(g,_,D){this.type=g,this.credential=_,this.auth=D}static _fromIdtoken(g,_){return new Tl("enroll",g,_)}static _fromMfaPendingCredential(g){return new Tl("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,D;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Tl._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return Tl._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Zl{constructor(g,_,D){this.session=g,this.hints=_,this.signInResolver=D}static _fromError(g,_){var D;const le=Wr(g),fe=_.customData._serverResponse,Be=(fe.mfaInfo||[]).map(Vt=>Mo._fromServerResponse(le,Vt));nn(fe.mfaPendingCredential,le,"internal-error");const rt=Tl._fromMfaPendingCredential(fe.mfaPendingCredential);return new Zl(rt,Be,function(Vt){return(D=D||(0,d.Z)(function*(Jt){const fn=yield Jt._process(le,rt);delete fe.mfaInfo,delete fe.mfaPendingCredential;const mr=Object.assign(Object.assign({},fe),{idToken:fn.idToken,refreshToken:fn.refreshToken});switch(_.operationType){case"signIn":const wn=yield jr._fromIdTokenResponse(le,_.operationType,mr);return yield le._updateCurrentUser(wn.user),wn;case"reauthenticate":return nn(_.user,le,"internal-error"),jr._forOperation(_.user,_.operationType,mr);default:an(le,"internal-error")}})).apply(this,arguments)})}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}function Yl(W,g){var _;const D=(0,H.m9)(W),le=g;return nn(g.customData.operationType,D,"argument-error"),nn(null===(_=le.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),Zl._fromError(D,le)}class Ul{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>Mo._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Ul(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Tl._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var D=this;return(0,d.Z)(function*(){const le=g,fe=yield D.getSession(),Be=yield xi(D.user,le._process(D.user.auth,fe,_));return yield D.user._updateTokensIfNecessary(Be),D.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const D="string"==typeof g?g:g.uid,le=yield _.user.getIdToken();try{const fe=yield xi(_.user,function uc(W,g){return $(W,"POST","/v2/accounts/mfaEnrollment:withdraw",Pe(W,g))}(_.user.auth,{idToken:le,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Be})=>Be!==D),yield _.user._updateTokensIfNecessary(fe),yield _.user.reload()}catch(fe){throw fe}})()}}const Bl=new WeakMap;function ko(W){const g=(0,H.m9)(W);return Bl.has(g)||Bl.set(g,Ul._fromUser(g)),Bl.get(g)}const ml="__sak";class Dc{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ml,"1"),this.storage.removeItem(ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const mi=(()=>{class W extends Dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sl(){const W=(0,H.z$)();return Gs(W)||lr(W)}()&&function oo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const le=this.storage.getItem(D),fe=this.localCache[D];le!==fe&&_(D,fe,le)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((rt,Vt,Jt)=>{this.notifyListeners(rt,Jt)});const le=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(le);if(_.newValue!==rt)null!==_.newValue?this.storage.setItem(le,_.newValue):this.storage.removeItem(le);else if(this.localCache[le]===_.newValue&&!D)return}const fe=()=>{const rt=this.storage.getItem(le);!D&&this.localCache[le]===rt||this.notifyListeners(le,rt)},Be=this.storage.getItem(le);!function Vs(){return(0,H.w1)()&&10===document.documentMode}()||Be===_.newValue||_.newValue===_.oldValue?fe():setTimeout(fe,10)}notifyListeners(_,D){this.localCache[_]=D;const le=this.listeners[_];if(le)for(const fe of Array.from(le))fe(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var le=()=>super._set,fe=this;return(0,d.Z)(function*(){yield le().call(fe,_,D),fe.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,le=this;return(0,d.Z)(function*(){const fe=yield D().call(le,_);return le.localCache[_]=JSON.stringify(fe),fe})()}_remove(_){var D=()=>super._remove,le=this;return(0,d.Z)(function*(){yield D().call(le,_),delete le.localCache[_]})()}}return W.type="LOCAL",W})(),Co=(()=>{class W extends Dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return W.type="SESSION",W})();let Qa=(()=>{class W{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(fe=>fe.isListeningto(_));if(D)return D;const le=new W(_);return this.receivers.push(le),le}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,d.Z)(function*(){var le;const fe=_,{eventId:Be,eventType:rt,data:Vt}=fe.data,Jt=D.handlersMap[rt];if(!Jt?.size)return;fe.ports[0].postMessage({status:"ack",eventId:Be,eventType:rt});const fn=Array.from(Jt).map(function(wn){return(le=le||(0,d.Z)(function*(nr){return nr(fe.origin,Vt)})).apply(this,arguments)}),mr=yield function _s(W){var g;return Promise.all(W.map(function(_){return(g=g||(0,d.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(le){return{fulfilled:!1,reason:le}}})).apply(this,arguments)}))}(fn);fe.ports[0].postMessage({status:"done",eventId:Be,eventType:rt,response:mr})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return W.receivers=[],W})();function Gi(W="",g=10){let _="";for(let D=0;D<g;D++)_+=Math.floor(10*Math.random());return W+_}class sn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,D=50){var le=this;return(0,d.Z)(function*(){const fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let Be,rt;return new Promise((Vt,Jt)=>{const fn=Gi("",20);fe.port1.start();const mr=setTimeout(()=>{Jt(new Error("unsupported_event"))},D);rt={messageChannel:fe,onMessage(wn){const nr=wn;if(nr.data.eventId===fn)switch(nr.data.status){case"ack":clearTimeout(mr),Be=setTimeout(()=>{Jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Vt(nr.data.response);break;default:clearTimeout(mr),clearTimeout(Be),Jt(new Error("invalid_response"))}}},le.handlers.add(rt),fe.port1.addEventListener("message",rt.onMessage),le.target.postMessage({eventType:g,eventId:fn,data:_},[fe.port2])}).finally(()=>{rt&&le.removeMessageHandler(rt)})})()}}function cr(){return window}function Xl(){return typeof cr().WorkerGlobalScope<"u"&&"function"==typeof cr().importScripts}const Dn="firebaseLocalStorageDb",w="firebaseLocalStorage",S="fbase_key";class U{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function R(W,g){return W.transaction([w],g?"readwrite":"readonly").objectStore(w)}function me(){const W=indexedDB.open(Dn,1);return new Promise((g,_)=>{W.addEventListener("error",()=>{_(W.error)}),W.addEventListener("upgradeneeded",()=>{const D=W.result;try{D.createObjectStore(w,{keyPath:S})}catch(le){_(le)}}),W.addEventListener("success",(0,d.Z)(function*(){const D=W.result;D.objectStoreNames.contains(w)?g(D):(D.close(),yield function Q(){const W=indexedDB.deleteDatabase(Dn);return new U(W).toPromise()}(),g(yield me()))}))})}function Me(W,g,_){return(vr=vr||(0,d.Z)(function*(D,le,fe){const Be=R(D,!0).put({[S]:le,value:fe});return new U(Be).toPromise()})).apply(this,arguments)}function bn(W,g){const _=R(W,!0).delete(g);return new U(_).toPromise()}const Xi=(()=>{class W{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield me()),_.db})()}_withRetries(_){var D=this;return(0,d.Z)(function*(){let le=0;for(;;)try{const fe=yield D._openDb();return yield _(fe)}catch(fe){if(le++>3)throw fe;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return Xl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){var D,le;_.receiver=Qa._getInstance(function No(){return Xl()?self:null}()),_.receiver._subscribe("keyChanged",function(fe,Be){return(D=D||(0,d.Z)(function*(rt,Vt){return{keyProcessed:(yield _._poll()).includes(Vt.key)}})).apply(this,arguments)}),_.receiver._subscribe("ping",function(fe,Be){return(le=le||(0,d.Z)(function*(rt,Vt){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var D,le;if(_.activeServiceWorker=yield function Gn(){return(Er=Er||(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new sn(_.activeServiceWorker);const fe=yield _.sender._send("ping",{},800);fe&&null!==(D=fe[0])&&void 0!==D&&D.fulfilled&&null!==(le=fe[0])&&void 0!==le&&le.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,d.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function tr(){var W;return(null===(W=navigator?.serviceWorker)||void 0===W?void 0:W.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield me();return yield Me(_,ml,"1"),yield bn(_,ml),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,d.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var le=this;return(0,d.Z)(function*(){return le._withPendingWrite((0,d.Z)(function*(){return yield le._withRetries(fe=>Me(fe,_,D)),le.localCache[_]=D,le.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,d.Z)(function*(){const le=yield D._withRetries(fe=>function wt(W,g){return(os=os||(0,d.Z)(function*(_,D){const le=R(_,!1).get(D),fe=yield new U(le).toPromise();return void 0===fe?null:fe.value})).apply(this,arguments)}(fe,_));return D.localCache[_]=le,le})()}_remove(_){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(le=>bn(le,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const D=yield _._withRetries(Be=>{const rt=R(Be,!1).getAll();return new U(rt).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const le=[],fe=new Set;for(const{fbase_key:Be,value:rt}of D)fe.add(Be),JSON.stringify(_.localCache[Be])!==JSON.stringify(rt)&&(_.notifyListeners(Be,rt),le.push(Be));for(const Be of Object.keys(_.localCache))_.localCache[Be]&&!fe.has(Be)&&(_.notifyListeners(Be,null),le.push(Be));return le})()}notifyListeners(_,D){this.localCache[_]=D;const le=this.listeners[_];if(le)for(const fe of Array.from(le))fe(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return W.type="LOCAL",W})(),ll=1e12;class Si{constructor(g){this.auth=g,this.counter=ll,this._widgets=new Map}render(g,_){const D=this.counter;return this._widgets.set(D,new ca(g,this.auth.name,_||{})),this.counter++,D}reset(g){var _;const D=g||ll;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ll))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var D;return null===(D=_._widgets.get(g||ll))||void 0===D||D.execute(),""})()}}class ca{constructor(g,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof g?document.getElementById(g):g;nn(le,"argument-error",{appName:_}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oi(W){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<W;D++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dn=Gr("rcb"),ua=new Xr(3e4,6e4);class Al{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=cr().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return nn(function Tu(W){return W.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(W)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&oa(cr().grecaptcha)?Promise.resolve(cr().grecaptcha):new Promise((D,le)=>{const fe=cr().setTimeout(()=>{le(Nn(g,"network-request-failed"))},ua.get());cr()[dn]=()=>{cr().clearTimeout(fe),delete cr()[dn];const rt=cr().grecaptcha;if(!rt||!oa(rt))return void le(Nn(g,"internal-error"));const Vt=rt.render;rt.render=(Jt,fn)=>{const mr=Vt(Jt,fn);return this.counter++,mr},this.hostLanguage=_,D(rt)},ao(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:dn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(fe),le(Nn(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=cr().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ca{load(g){return(0,d.Z)(function*(){return new Si(g)})()}clearedOneInstance(){}}const Jl="recaptcha",Ml={theme:"light",type:"image"};class Xa{constructor(g,_=Object.assign({},Ml),D){this.parameters=_,this.type=Jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wr(D),this.isInvisible="invisible"===this.parameters.size,nn(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof g?document.getElementById(g):g;nn(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ca:new Al,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(_)||new Promise(fe=>{const Be=rt=>{rt&&(g.tokenChangeListeners.delete(Be),fe(rt))};g.tokenChangeListeners.add(Be),g.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){nn(!this.parameters.sitekey,this.auth,"argument-error"),nn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nn(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof g)g(_);else if("string"==typeof g){const D=cr()[g];"function"==typeof D&&D(_)}}}assertNotDestroyed(){nn(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){nn(cs()&&!Xl(),g.auth,"internal-error"),yield function Mc(){let W=null;return new Promise(g=>{"complete"!==document.readyState?(W=()=>g(),window.addEventListener("load",W)):g()}).catch(g=>{throw W&&window.removeEventListener("load",W),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function _o(W){return(Rt=Rt||(0,d.Z)(function*(g){return(yield $(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}(g.auth);nn(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return nn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ps{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=bs._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Wo(W,g,_){return(ar=ar||(0,d.Z)(function*(D,le,fe){const Be=Wr(D),rt=yield Ha(Be,le,(0,H.m9)(fe));return new Ps(rt,Vt=>Qi(Be,Vt))})).apply(this,arguments)}function ec(W,g,_){return(Vi=Vi||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D);yield gs(!1,Be,"phone");const rt=yield Ha(Be.auth,le,(0,H.m9)(fe));return new Ps(rt,Vt=>Ka(Be,Vt))})).apply(this,arguments)}function dc(W,g,_){return(Mr=Mr||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D),rt=yield Ha(Be.auth,le,(0,H.m9)(fe));return new Ps(rt,Vt=>Za(Be,Vt))})).apply(this,arguments)}function Ha(W,g,_){return(Mi=Mi||(0,d.Z)(function*(D,le,fe){var Be;const rt=yield fe.verify();try{let Vt;if(nn("string"==typeof rt,D,"argument-error"),nn(fe.type===Jl,D,"argument-error"),Vt="string"==typeof le?{phoneNumber:le}:le,"session"in Vt){const Jt=Vt.session;if("phoneNumber"in Vt)return nn("enroll"===Jt.type,D,"internal-error"),(yield function Dr(W,g){return $(W,"POST","/v2/accounts/mfaEnrollment:start",Pe(W,g))}(D,{idToken:Jt.credential,phoneEnrollmentInfo:{phoneNumber:Vt.phoneNumber,recaptchaToken:rt}})).phoneSessionInfo.sessionInfo;{nn("signin"===Jt.type,D,"internal-error");const fn=(null===(Be=Vt.multiFactorHint)||void 0===Be?void 0:Be.uid)||Vt.multiFactorUid;return nn(fn,D,"missing-multi-factor-info"),(yield function Rn(W,g){return $(W,"POST","/v2/accounts/mfaSignIn:start",Pe(W,g))}(D,{mfaPendingCredential:Jt.credential,mfaEnrollmentId:fn,phoneSignInInfo:{recaptchaToken:rt}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Jt}=yield function aa(W,g){return(gr=gr||(0,d.Z)(function*(_,D){return $(_,"POST","/v1/accounts:sendVerificationCode",Pe(_,D))})).apply(this,arguments)}(D,{phoneNumber:Vt.phoneNumber,recaptchaToken:rt});return Jt}}finally{fe._reset()}})).apply(this,arguments)}function Ot(W,g){return(wr=wr||(0,d.Z)(function*(_,D){yield ro((0,H.m9)(_),D)})).apply(this,arguments)}let Rc=(()=>{class W{constructor(_){this.providerId=W.PROVIDER_ID,this.auth=Wr(_)}verifyPhoneNumber(_,D){return Ha(this.auth,_,(0,H.m9)(D))}static credential(_,D){return bs._fromVerification(_,D)}static credentialFromResult(_){return W.credentialFromTaggedObject(_)}static credentialFromError(_){return W.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:le}=_;return D&&le?bs._fromTokenResponse(D,le):null}}return W.PROVIDER_ID="phone",W.PHONE_SIGN_IN_METHOD="phone",W})();function Bs(W,g){return g?Fr(g):(nn(W._popupRedirectResolver,W,"argument-error"),W._popupRedirectResolver)}class tc extends lo{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return as(g,this._buildIdpRequest())}_linkToIdToken(g,_){return as(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return as(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Oc(W){return $o(W.auth,new tc(W),W.bypassAuthState)}function jl(W){const{auth:g,user:_}=W;return nn(_,g,"internal-error"),wo(_,new tc(W),W.bypassAuthState)}function Zu(W){return(Et=Et||(0,d.Z)(function*(g){const{auth:_,user:D}=g;return nn(D,_,"internal-error"),ro(D,new tc(g),g.bypassAuthState)})).apply(this,arguments)}class Pc{constructor(g,_,D,le,fe=!1){this.auth=g,this.resolver=D,this.user=le,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var _,g=this;return new Promise(function(D,le){return(_=_||(0,d.Z)(function*(fe,Be){g.pendingPromise={resolve:fe,reject:Be};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(rt){g.reject(rt)}})).apply(this,arguments)})}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:D,sessionId:le,postBody:fe,tenantId:Be,error:rt,type:Vt}=g;if(rt)return void _.reject(rt);const Jt={auth:_.auth,requestUri:D,sessionId:le,tenantId:Be||void 0,postBody:fe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Vt)(Jt))}catch(fn){_.reject(fn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Oc;case"linkViaPopup":case"linkViaRedirect":return Zu;case"reauthViaPopup":case"reauthViaRedirect":return jl;default:an(this.auth,"internal-error")}}resolve(g){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vd=new Xr(2e3,1e4);function Wc(W,g,_){return(Ye=Ye||(0,d.Z)(function*(D,le,fe){const Be=Wr(D);Yr(D,le,zo);const rt=Bs(Be,fe);return new ks(Be,"signInViaPopup",le,rt).executeNotNull()})).apply(this,arguments)}function Zd(W,g,_){return(Tt=Tt||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D);Yr(Be.auth,le,zo);const rt=Bs(Be.auth,fe);return new ks(Be.auth,"reauthViaPopup",le,rt,Be).executeNotNull()})).apply(this,arguments)}function jh(W,g,_){return(Xe=Xe||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D);Yr(Be.auth,le,zo);const rt=Bs(Be.auth,fe);return new ks(Be.auth,"linkViaPopup",le,rt,Be).executeNotNull()})).apply(this,arguments)}let ks=(()=>{class W extends Pc{constructor(_,D,le,fe,Be){super(_,D,fe,Be),this.provider=le,this.authWindow=null,this.pollId=null,W.currentPopupAction&&W.currentPopupAction.cancel(),W.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const D=yield _.execute();return nn(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,d.Z)(function*(){Qr(1===_.filter.length,"Popup operations only handle one event");const D=Gi();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(le=>{_.reject(le)}),_.resolver._isIframeWebStorageSupported(_.auth,le=>{le||_.reject(Nn(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,W.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,le;this.pollId=null!==(le=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==le&&le.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,vd.get())};_()}}return W.currentPopupAction=null,W})();const Ja="pendingRedirect",Rl=new Map;class hc extends Pc{constructor(g,_,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let D=Rl.get(_.auth._key());if(!D){try{const fe=(yield function Fo(W,g){return(ht=ht||(0,d.Z)(function*(_,D){const le=qc(D),fe=Du(_);if(!(yield fe._isAvailable()))return!1;const Be="true"===(yield fe._get(le));return yield fe._remove(le),Be})).apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;D=()=>Promise.resolve(fe)}catch(le){D=()=>Promise.reject(le)}Rl.set(_.auth._key(),D)}return _.bypassAuthState||Rl.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,D=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(D,g);if("unknown"!==g.type){if(g.eventId){const le=yield D.auth._redirectUserForId(g.eventId);if(le)return D.user=le,_().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function nc(W,g){return(Bt=Bt||(0,d.Z)(function*(_,D){return Du(_)._set(qc(D),"true")})).apply(this,arguments)}function yd(){Rl.clear()}function cl(W,g){Rl.set(W._key(),g)}function Du(W){return Fr(W._redirectPersistence)}function qc(W){return Cn(Ja,W.config.apiKey,W.name)}function xa(W,g,_){return function Yu(W,g,_){return(gn=gn||(0,d.Z)(function*(D,le,fe){const Be=Wr(D);Yr(D,le,zo),yield Be._initializationPromise;const rt=Bs(Be,fe);return yield nc(rt,Be),rt._openRedirect(Be,le,"signInViaRedirect")})).apply(this,arguments)}(W,g,_)}function Ol(W,g,_){return function Kc(W,g,_){return(Hn=Hn||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D);Yr(Be.auth,le,zo),yield Be.auth._initializationPromise;const rt=Bs(Be.auth,fe);yield nc(rt,Be.auth);const Vt=yield fc(Be);return rt._openRedirect(Be.auth,le,"reauthViaRedirect",Vt)})).apply(this,arguments)}(W,g,_)}function Su(W,g,_){return function Hl(W,g,_){return(pr=pr||(0,d.Z)(function*(D,le,fe){const Be=(0,H.m9)(D);Yr(Be.auth,le,zo),yield Be.auth._initializationPromise;const rt=Bs(Be.auth,fe);yield gs(!1,Be,le.providerId),yield nc(rt,Be.auth);const Vt=yield fc(Be);return rt._openRedirect(Be.auth,le,"linkViaRedirect",Vt)})).apply(this,arguments)}(W,g,_)}function Zc(W,g){return(_i=_i||(0,d.Z)(function*(_,D){return yield Wr(_)._initializationPromise,kc(_,D,!1)})).apply(this,arguments)}function kc(W,g){return(be=be||(0,d.Z)(function*(_,D,le=!1){const fe=Wr(_),Be=Bs(fe,D),Vt=yield new hc(fe,Be,le).execute();return Vt&&!le&&(delete Vt.user._redirectEventId,yield fe._persistUserIfCurrent(Vt.user),yield fe._setRedirectUser(null,D)),Vt})).apply(this,arguments)}function fc(W){return(G=G||(0,d.Z)(function*(g){const _=Gi(`${g.uid}:::`);return g._redirectEventId=_,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),_})).apply(this,arguments)}class Yc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(_=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function lu(W){switch(W.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bd(W);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var D;if(g.error&&!bd(g)){const le=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Nn(this.auth,le))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const D=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(g))}saveEventToCache(g){this.cachedEventUids.add(Fc(g)),this.lastProcessedEventTime=Date.now()}}function Fc(W){return[W.type,W.eventId,W.sessionId,W.tenantId].filter(g=>g).join("-")}function bd({type:W,error:g}){return"unknown"===W&&"auth/no-auth-event"===g?.code}function pc(W){return(k=k||(0,d.Z)(function*(g,_={}){return $(g,"GET","/v1/projects",_)})).apply(this,arguments)}const Qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Au=/^https?/;function $l(W){const g=Tr(),{protocol:_,hostname:D}=new URL(g);if(W.startsWith("chrome-extension://")){const Be=new URL(W);return""===Be.hostname&&""===D?"chrome-extension:"===_&&W.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Be.hostname===D}if(!Au.test(_))return!1;if(Qu.test(W))return D===W;const le=W.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(D)}const Mu=new Xr(3e4,6e4);function ea(){const W=cr().___jsl;if(W?.H)for(const g of Object.keys(W.H))if(W.H[g].r=W.H[g].r||[],W.H[g].L=W.H[g].L||[],W.H[g].r=[...W.H[g].L],W.CP)for(let _=0;_<W.CP.length;_++)W.CP[_]=null}let js=null;const rc=new Xr(5e3,15e3),Pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ks=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ji(W){const g=W.config;nn(g.authDomain,W,"auth-domain-config-required");const _=g.emulator?Ui(g,"emulator/auth/iframe"):`https://${W.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:W.name,v:ae.SDK_VERSION},le=Ks.get(W.config.apiHost);le&&(D.eid=le);const fe=W._getFrameworks();return fe.length&&(D.fw=fe.join(",")),`${_}?${(0,H.xO)(D).slice(1)}`}const Y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $t{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const On="__/auth/handler",Kn="emulator/auth/handler",Jn=encodeURIComponent("fac");function si(W,g,_,D,le,fe){return(de=de||(0,d.Z)(function*(Be,rt,Vt,Jt,fn,mr){nn(Be.config.authDomain,Be,"auth-domain-config-required"),nn(Be.config.apiKey,Be,"invalid-api-key");const wn={apiKey:Be.config.apiKey,appName:Be.name,authType:Vt,redirectUrl:Jt,v:ae.SDK_VERSION,eventId:fn};if(rt instanceof zo){rt.setDefaultLanguage(Be.languageCode),wn.providerId=rt.providerId||"",(0,H.xb)(rt.getCustomParameters())||(wn.customParameters=JSON.stringify(rt.getCustomParameters()));for(const[Da,Lo]of Object.entries(mr||{}))wn[Da]=Lo}if(rt instanceof Rs){const Da=rt.getScopes().filter(Lo=>""!==Lo);Da.length>0&&(wn.scopes=Da.join(","))}Be.tenantId&&(wn.tid=Be.tenantId);const nr=wn;for(const Da of Object.keys(nr))void 0===nr[Da]&&delete nr[Da];const Fs=yield Be._getAppCheckToken(),yl=Fs?`#${Jn}=${encodeURIComponent(Fs)}`:"";return`${function Hs({config:W}){return W.emulator?Ui(W,Kn):`https://${W.authDomain}/${On}`}(Be)}?${(0,H.xO)(nr).slice(1)}${yl}`})).apply(this,arguments)}const Hr="webStorageSupport",Ns=class zs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Co,this._completeRedirectFn=kc,this._overrideRedirectResult=cl}_openPopup(g,_,D,le){var fe=this;return(0,d.Z)(function*(){var Be;Qr(null===(Be=fe.eventManagers[g._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const rt=yield si(g,_,D,Tr(),le);return function Yt(W,g,_,D=500,le=600){const fe=Math.max((window.screen.availHeight-le)/2,0).toString(),Be=Math.max((window.screen.availWidth-D)/2,0).toString();let rt="";const Vt=Object.assign(Object.assign({},Y),{width:D.toString(),height:le.toString(),top:fe,left:Be}),Jt=(0,H.z$)().toLowerCase();_&&(rt=ns(Jt)?"_blank":_),zi(Jt)&&(g=g||"http://localhost",Vt.scrollbars="yes");const fn=Object.entries(Vt).reduce((wn,[nr,Fs])=>`${wn}${nr}=${Fs},`,"");if(function go(W=(0,H.z$)()){var g;return lr(W)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Jt)&&"_self"!==rt)return function Xt(W,g){const _=document.createElement("a");_.href=W,_.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(g||"",rt),new $t(null);const mr=window.open(g||"",rt,fn);nn(mr,W,"popup-blocked");try{mr.focus()}catch{}return new $t(mr)}(g,rt,Gi())})()}_openRedirect(g,_,D,le){var fe=this;return(0,d.Z)(function*(){return yield fe._originValidation(g),function ho(W){cr().location.href=W}(yield si(g,_,D,Tr(),le)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:le,promise:fe}=this.eventManagers[_];return le?Promise.resolve(le):(Qr(fe,"If manager is not set, promise should be"),fe)}const D=this.initAndGetManager(g);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const D=yield function z(W){return(F=F||(0,d.Z)(function*(g){const _=yield function _l(W){return js=js||function gl(W){return new Promise((g,_)=>{var D,le,fe;function Be(){ea(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ea(),_(Nn(W,"network-request-failed"))},timeout:Mu.get()})}if(null!==(le=null===(D=cr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==le&&le.Iframe)g(gapi.iframes.getContext());else{if(null===(fe=cr().gapi)||void 0===fe||!fe.load){const rt=Gr("iframefcb");return cr()[rt]=()=>{gapi.load?Be():_(Nn(W,"network-request-failed"))},ao(`https://apis.google.com/js/api.js?onload=${rt}`).catch(Vt=>_(Vt))}Be()}}).catch(g=>{throw js=null,g})}(W),js}(g),D=cr().gapi;return nn(D,g,"internal-error"),_.open({where:document.body,url:Ji(g),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pl,dontclear:!0},le=>{var fe;return new Promise(function(Be,rt){return(fe=fe||(0,d.Z)(function*(Vt,Jt){yield le.restyle({setHideOnLeave:!1});const fn=Nn(g,"network-request-failed"),mr=cr().setTimeout(()=>{Jt(fn)},rc.get());function wn(){cr().clearTimeout(mr),Vt(le)}le.ping(wn).then(wn,()=>{Jt(fn)})})).apply(this,arguments)})})})).apply(this,arguments)}(g),le=new Yc(g);return D.register("authEvent",fe=>(nn(fe?.authEvent,g,"invalid-auth-event"),{status:le.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:le},_.iframes[g._key()]=D,le})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Hr,{type:Hr},le=>{var fe;const Be=null===(fe=le?.[0])||void 0===fe?void 0:fe[Hr];void 0!==Be&&_(!!Be),an(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zl(W){return(L=L||(0,d.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:_}=yield pc(g);for(const D of _)try{if($l(D))return}catch{}an(g,"unauthorized-domain")})).apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Zi()||Gs()||lr()}};class Rr{constructor(g){this.factorId=g}_process(g,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,D);case"signin":return this._finalizeSignIn(g,_.credential);default:return ti("unexpected MultiFactorSessionType")}}}class Ni extends Rr{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ni(g)}_finalizeEnroll(g,_,D){return function Io(W,g){return $(W,"POST","/v2/accounts/mfaEnrollment:finalize",Pe(W,g))}(g,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Us(W,g){return $(W,"POST","/v2/accounts/mfaSignIn:finalize",Pe(W,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ta=(()=>{class W{constructor(){}static assertion(_){return Ni._fromCredential(_)}}return W.FACTOR_ID="phone",W})();var Xc="@firebase/auth";class Ed{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wd=(0,H.Pz)("authIdTokenMaxAge")||300;let ic=null;const Xu=W=>{var g;return function(_){return(g=g||(0,d.Z)(function*(D){const le=D&&(yield D.getIdTokenResult()),fe=le&&((new Date).getTime()-Date.parse(le.issuedAtTime))/1e3;if(fe&&fe>wd)return;const Be=le?.token;ic!==Be&&(ic=Be,yield fetch(W,{method:Be?"POST":"DELETE",headers:Be?{Authorization:`Bearer ${Be}`}:{}}))})).apply(this,arguments)}};function Ou(W=(0,ae.getApp)()){const g=(0,ae._getProvider)(W,"auth");if(g.isInitialized())return g.getImmediate();const _=function ps(W,g){const _=(0,ae._getProvider)(W,"auth");if(_.isInitialized()){const le=_.getImmediate(),fe=_.getOptions();if((0,H.vZ)(fe,g??{}))return le;an(le,"already-initialized")}return _.initialize({options:g})}(W,{popupRedirectResolver:Ns,persistence:[Xi,mi,Co]}),D=(0,H.Pz)("authTokenSyncURL");if(D){const fe=Xu(D);(function cc(W,g,_){(0,H.m9)(W).beforeAuthStateChanged(g,_)})(_,fe,()=>fe(_.currentUser)),function xl(W,g,_,D){(0,H.m9)(W).onIdTokenChanged(g,_,D)}(_,Be=>fe(Be))}const le=(0,H.q4)("auth");return le&&ya(_,`http://${le}`),_}!function cu(W){(0,ae._registerComponent)(new ke.wA("auth",(g,{options:_})=>{const D=g.getProvider("app").getImmediate(),le=g.getProvider("heartbeat"),fe=g.getProvider("app-check-internal"),{apiKey:Be,authDomain:rt}=D.options;nn(Be&&!Be.includes(":"),"invalid-api-key",{appName:D.name});const Vt={apiKey:Be,authDomain:rt,clientPlatform:W,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sa(W)},Jt=new Di(D,le,fe,Vt);return function Jr(W,g){const _=g?.persistence||[],D=(Array.isArray(_)?_:[_]).map(Fr);g?.errorMap&&W._updateErrorMap(g.errorMap),W._initializeWithPersistence(D,g?.popupRedirectResolver)}(Jt,_),Jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,D)=>{g.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ke.wA("auth-internal",g=>{const _=Wr(g.getProvider("auth").getImmediate());return new Ed(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Xc,"0.23.2",function Ta(W){switch(W){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(W)),(0,ae.registerVersion)(Xc,"0.23.2","esm2017")}("Browser")},8162:(pn,st,V)=>{V.d(st,{u7:()=>Bm,Jj:()=>fd,IX:()=>w_,my:()=>Zo,xU:()=>su,Lz:()=>zu,WA:()=>w,F8:()=>Vd,$q:()=>Mf,W:()=>Wd,EK:()=>ji,PU:()=>Ym,l7:()=>Hr,Ky:()=>dn,Xb:()=>Oi,Cf:()=>es,K9:()=>No,Me:()=>Ze,yq:()=>ho,Wi:()=>oy,ET:()=>Ry,Ab:()=>Xm,vr:()=>Q_,Fc:()=>cy,hJ:()=>ay,B$:()=>Dp,at:()=>y_,oe:()=>My,AK:()=>Y_,TF:()=>dy,JU:()=>Rh,ST:()=>ly,fH:()=>C_,Ix:()=>Cf,Wu:()=>Ey,Lx:()=>zb,qY:()=>_a,GL:()=>qd,QT:()=>Hm,kl:()=>Op,Xk:()=>$b,PL:()=>Dy,UQ:()=>Sy,zN:()=>zm,ad:()=>I_,nP:()=>Jm,b9:()=>F_,vh:()=>L_,Pb:()=>hy,L$:()=>fy,cf:()=>G_,sc:()=>W_,Xo:()=>N_,IO:()=>Lh,iE:()=>Oh,Eo:()=>b_,i3:()=>Uy,Bt:()=>Qm,pl:()=>Ay,Ub:()=>Gi,qK:()=>Ty,TQ:()=>by,e0:()=>Vm,r7:()=>$_,Mx:()=>uy,ar:()=>Vh});var Ae,d=V(5861),H=V(534),ae=V(4537),Te=V(7879),b=V(9058),ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={},Fe=Fe||{},he=ke||self;function ve(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ke(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var mt="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function kt(i,e,n){return i.call.apply(i.bind,arguments)}function St(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Rt(i,e,n){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:St).apply(null,arguments)}function Zt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ut(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,u){for(var m=Array(arguments.length-2),M=2;M<arguments.length;M++)m[M-2]=arguments[M];return e.prototype[l].apply(s,m)}}function Re(){this.s=this.s,this.o=this.o}Re.prototype.s=!1,Re.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(i){Object.prototype.hasOwnProperty.call(i,mt)&&i[mt]||(i[mt]=++jt)}(this)},Re.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const je=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Je(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function Pt(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ve(s)){const l=i.length||0,u=s.length||0;i.length=l+u;for(let m=0;m<u;m++)i[l+m]=s[m]}else i.push(s)}}function et(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var Ft=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch{}return i}();function yn(i){return/^[\s\xa0]*$/.test(i)}function hn(){var i=he.navigator;return i&&(i=i.userAgent)?i:""}function cn(i){return-1!=hn().indexOf(i)}function or(i){return or[" "](i),i}or[" "]=function(){};var Mt,i,gr=cn("Opera"),Ur=cn("Trident")||cn("MSIE"),zn=cn("Edge"),_t=zn||Ur,Ct=cn("Gecko")&&!(-1!=hn().toLowerCase().indexOf("webkit")&&!cn("Edge"))&&!(cn("Trident")||cn("MSIE"))&&!cn("Edge"),ct=-1!=hn().toLowerCase().indexOf("webkit")&&!cn("Edge");function yt(){var i=he.document;return i?i.documentMode:void 0}e:{var ut="",Ht=(i=hn(),Ct?/rv:([^\);]+)(\)|;)/.exec(i):zn?/Edge\/([\d\.]+)/.exec(i):Ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ct?/WebKit\/(\S+)/.exec(i):gr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ht&&(ut=Ht?Ht[1]:""),Ur){var At=yt();if(null!=At&&At>parseFloat(ut)){Mt=String(At);break e}}Mt=ut}var jn=he.document&&Ur&&(yt()||parseInt(Mt,10))||void 0;function Un(i,e){if(et.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ct){e:{try{or(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Zn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Un.$.h.call(this)}}Ut(Un,et);var Zn={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Fn="closure_listenable_"+(1e6*Math.random()|0),kr=0;function br(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++kr,this.fa=this.ia=!1}function zr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ui(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function hi(i){const e={};for(const n in i)e[n]=i[n];return e}const Kr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fi(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let u=0;u<Kr.length;u++)n=Kr[u],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Ar(i){this.src=i,this.g={},this.h=0}function kn(i,e){var n=e.type;if(n in i.g){var u,s=i.g[n],l=je(s,e);(u=0<=l)&&Array.prototype.splice.call(s,l,1),u&&(zr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function $n(i,e,n,s){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==s)return l}return-1}Ar.prototype.add=function(i,e,n,s,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var m=$n(i,e,s,l);return-1<m?(e=i[m],n||(e.ia=!1)):((e=new br(e,this.src,u,!!s,l)).ia=n,i.push(e)),e};var Yn="closure_lm_"+(1e6*Math.random()|0),fr={};function _r(i,e,n,s,l){if(s&&s.once)return vr(i,e,n,s,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)_r(i,e[u],n,s,l);return null}return n=Et(n),i&&i[Fn]?i.O(e,n,Ke(s)?!!s.capture:!!s,l):Zr(i,e,n,!1,s,l)}function Zr(i,e,n,s,l,u){if(!e)throw Error("Invalid event type");var m=Ke(l)?!!l.capture:!!l,M=Mi(i);if(M||(i[Yn]=M=new Ar(i)),(n=M.add(e,n,s,m,u)).proxy)return n;if(s=function Er(){const e=Mr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Ft||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Vi(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function vr(i,e,n,s,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)vr(i,e[u],n,s,l);return null}return n=Et(n),i&&i[Fn]?i.P(e,n,Ke(s)?!!s.capture:!!s,l):Zr(i,e,n,!0,s,l)}function os(i,e,n,s,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)os(i,e[u],n,s,l);else s=Ke(s)?!!s.capture:!!s,n=Et(n),i&&i[Fn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=$n(u=i.g[e],n,s,l))&&(zr(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=Mi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=$n(e,n,s,l)),(n=-1<i?e[i]:null)&&ar(n))}function ar(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Fn])kn(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Vi(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Mi(e))?(kn(n,i),0==n.h&&(n.src=null,e[Yn]=null)):zr(i)}}}function Vi(i){return i in fr?fr[i]:fr[i]="on"+i}function Mr(i,e){if(i.fa)i=!0;else{e=new Un(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ar(i),i=n.call(s,e)}return i}function Mi(i){return(i=i[Yn])instanceof Ar?i:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(i){return"function"==typeof i?i:(i[wr]||(i[wr]=function(e){return i.handleEvent(e)}),i[wr])}function Ye(){Re.call(this),this.i=new Ar(this),this.S=this,this.J=null}function Tt(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new et(e,i);else if(e instanceof et)e.target=e.target||i;else{var l=e;fi(e=new et(s,i),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var m=e.g=n[u];l=Xe(m,s,!0,e)&&l}if(l=Xe(m=e.g=i,s,!0,e)&&l,l=Xe(m,s,!1,e)&&l,n)for(u=0;u<n.length;u++)l=Xe(m=e.g=n[u],s,!1,e)&&l}function Xe(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.fa&&m.capture==n){var M=m.listener,j=m.la||m.src;m.ia&&kn(i.i,m),l=!1!==M.call(j,s)&&l}}return l&&!s.defaultPrevented}Ut(Ye,Re),Ye.prototype[Fn]=!0,Ye.prototype.removeEventListener=function(i,e,n,s){os(this,i,e,n,s)},Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)zr(n[s]);delete i.g[e],i.h--}}this.J=null},Ye.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Ye.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var ht=he.JSON.stringify;function gn(){var i=F;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var pr=new class Bt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _i,i=>i.reset());class _i{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function be(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function G(i){he.setTimeout(()=>{throw i},0)}let k,L=!1,F=new class Hn{constructor(){this.h=this.g=null}add(e,n){const s=pr.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},de=()=>{const i=he.Promise.resolve(void 0);k=()=>{i.then(We)}};var We=()=>{for(var i;i=gn();){try{i.h.call(i.g)}catch(n){G(n)}var e=pr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}L=!1};function vt(i,e){Ye.call(this),this.h=i||1,this.g=e||he,this.j=Rt(this.qb,this),this.l=Date.now()}function on(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function qt(i,e,n){if("function"==typeof i)n&&(i=Rt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Rt(i.handleEvent,i)}return 2147483647<Number(e)?-1:he.setTimeout(i,e||0)}function Sn(i){i.g=qt(()=>{i.g=null,i.i&&(i.i=!1,Sn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ut(vt,Ye),(Ae=vt.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(on(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){vt.$.N.call(this),on(this),delete this.g};class In extends Re{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(i){Re.call(this),this.h=i,this.g={}}Ut(rr,Re);var Ir=[];function Fi(i,e,n,s){Array.isArray(n)||(n&&(Ir[0]=n.toString()),n=Ir);for(var l=0;l<n.length;l++){var u=_r(e,n[l],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function pi(i){ui(i.g,function(e,n){this.g.hasOwnProperty(n)&&ar(e)},i),i.g={}}function Dt(){this.g=!0}function _n(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<l.length;m++)l[m]=""}}}return ht(n)}catch{return e}}(i,n)+(s?" "+s:"")})}rr.prototype.N=function(){rr.$.N.call(this),pi(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dt.prototype.Ea=function(){this.g=!1},Dt.prototype.info=function(){};var dr={},Yr=null;function vi(){return Yr=Yr||new Ye}function nn(i){et.call(this,dr.Ta,i)}function ti(i){const e=vi();Tt(e,new nn(e))}function Qr(i,e){et.call(this,dr.STAT_EVENT,i),this.stat=e}function Tr(i){const e=vi();Tt(e,new Qr(e,i))}function cs(i,e){et.call(this,dr.Ua,i),this.size=e}function vs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){i()},e)}dr.Ta="serverreachability",Ut(nn,et),dr.STAT_EVENT="statevent",Ut(Qr,et),dr.Ua="timingevent",Ut(cs,et);var mo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},un={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xr(){}function us(){}Xr.prototype.h=null;var $,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oe(){et.call(this,"d")}function Pe(){et.call(this,"c")}function ce(){}function Ee(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new rr(this),this.P=bt,this.V=new vt(i=_t?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}Ut(oe,et),Ut(Pe,et),Ut(ce,Xr),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},$=new ce;var bt=45e3,xe={},ge={};function $e(i,e,n){i.L=1,i.v=Ma(ai(e)),i.s=n,i.S=!0,De(i,null)}function De(i,e){i.G=Date.now(),vn(i),i.A=ai(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),Do(n.i,"t",s),i.C=0,n=i.l.J,i.h=new qe,i.g=co(i.l,n?e:null,!i.s),0<i.O&&(i.M=new In(Rt(i.Pa,i,i.g),i.O)),Fi(i.U,i.g,"readystatechange",i.nb),e=i.I?hi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ti(),function gt(i,e,n,s,l,u){i.info(function(){if(i.g)if(u)for(var m="",M=u.split("&"),j=0;j<M.length;j++){var ie=M[j].split("=");if(1<ie.length){var _e=ie[0];ie=ie[1];var Le=_e.split("_");m=2<=Le.length&&"type"==Le[1]?m+(_e+"=")+ie+"&":m+(_e+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Ge(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ot(i,e,n){let l,s=!0;for(;!i.J&&i.C<n.length;){if(l=Wt(i,n),l==ge){4==e&&(i.o=4,Tr(14),s=!1),_n(i.j,i.m,null,"[Incomplete Response]");break}if(l==xe){i.o=4,Tr(15),_n(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}_n(i.j,i.m,l,null),Zs(i,l)}Ge(i)&&l!=ge&&l!=xe&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Tr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bs(e),e.M=!0,Tr(11))):(_n(i.j,i.m,n,"[Invalid Chunked Response]"),ri(i),xi(i))}function Wt(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?ge:(n=Number(e.substring(n,s)),isNaN(n)?xe:(s+=1)+n>e.length?ge:(e=e.slice(s,s+n),i.C=s+n,e))}function vn(i){i.Y=Date.now()+i.P,Ln(i,i.P)}function Ln(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=vs(Rt(i.lb,i),e)}function Br(i){i.B&&(he.clearTimeout(i.B),i.B=null)}function xi(i){0==i.l.H||i.J||yo(i.l,i)}function ri(i){Br(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,on(i.V),pi(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Zs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||oa(n.i,i)))if(!i.K&&oa(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Es(n),Ei(n)}wl(n),Tr(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=vs(Rt(n.ib,n),6e3));if(1>=va(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ti(n,11)}else if((i.K||n.g==i)&&Es(n),!yn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let ie=l[e];if(n.V=ie[0],ie=ie[1],2==n.H)if("c"==ie[0]){n.K=ie[1],n.pa=ie[2];const _e=ie[3];null!=_e&&(n.ra=_e,n.l.info("VER="+n.ra));const Le=ie[4];null!=Le&&(n.Ga=Le,n.l.info("SVER="+n.Ga));const pt=ie[5];null!=pt&&"number"==typeof pt&&0<pt&&(n.L=s=1.5*pt,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const xt=i.g;if(xt){const ln=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ln){var u=s.i;u.g||-1==ln.indexOf("spdy")&&-1==ln.indexOf("quic")&&-1==ln.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Qs(u,u.h),u.h=null))}if(s.F){const Tn=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(s.Da=Tn,Fr(s.I,s.F,Tn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var m=i;if((s=n).wa=Rs(s,s.J?s.pa:null,s.Y),m.K){So(s.i,m);var M=m,j=s.L;j&&M.setTimeout(j),M.B&&(Br(M),vn(M)),s.g=m}else hl(s);0<n.j.length&&ka(n)}else"stop"!=ie[0]&&"close"!=ie[0]||Ti(n,7);else 3==n.H&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Ti(n,7):er(n):"noop"!=ie[0]&&n.h&&n.h.Aa(ie),n.A=0)}ti()}catch{}}function Cr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ve(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Qo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ve(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function $s(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ve(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,u=0;u<l;u++)e.call(void 0,s[u],n&&n[u],i)}(Ae=Ee.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==Ms(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const _e=Ms(this.g);var e=this.g.Ia();if(this.g.da(),!(3>_e)&&(3!=_e||_t||this.g&&(this.h.h||this.g.ja()||ne(this.g)))){this.J||4!=_e||7==e||ti(),Br(this);var n=this.g.da();this.ca=n;t:if(Ge(this)){var s=ne(this.g);i="";var l=s.length,u=4==Ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),xi(this);var m="";break t}this.h.i=new he.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:u&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==n,function Kt(i,e,n,s,l,u,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.W,_e,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,j=this.g;if((M=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yn(M)){var ie=M;break t}}ie=null}if(!(n=ie)){this.i=!1,this.o=3,Tr(12),ri(this),xi(this);break e}_n(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,n)}this.S?(ot(this,_e,m),_t&&this.i&&3==_e&&(Fi(this.U,this.V,"tick",this.mb),this.V.start())):(_n(this.j,this.m,m,null),Zs(this,m)),4==_e&&ri(this),this.i&&!this.J&&(4==_e?yo(this.l,this):(this.i=!1,vn(this)))}else(function K(i){const e={};i=(i.g&&2<=Ms(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(yn(i[s]))continue;var n=be(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[l]||[];e[l]=u,u.push(n)}!function gi(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<m.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),ri(this),xi(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=Ms(this.g),e=this.g.ja();this.C<e.length&&(Br(this),ot(this,i,e),this.i&&4!=i&&vn(this))}},Ae.cancel=function(){this.J=!0,ri(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function an(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ti(),Tr(17)),ri(this),this.o=2,xi(this)):Ln(this,this.Y-i)};var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ys(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ys){this.h=i.h,ts(this,i.j),this.s=i.s,this.g=i.g,Ys(this,i.m),this.l=i.l;var e=i.i,n=new Li;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jo(this,n),this.o=i.o}else i&&(e=String(i).match(ii))?(this.h=!1,ts(this,e[1]||"",!0),this.s=yi(e[2]||""),this.g=yi(e[3]||"",!0),Ys(this,e[4]),this.l=yi(e[5]||"",!0),jo(this,e[6]||"",!0),this.o=yi(e[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}function ai(i){return new ys(i)}function ts(i,e,n){i.j=n?yi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ys(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function jo(i,e,n){e instanceof Li?(i.i=e,function Vs(i,e){e&&!i.j&&(Ki(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(To(this,s),Do(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Cn(e,ns)),i.i=new Li(e,i.h))}function Fr(i,e,n){i.i.set(e,n)}function Ma(i){return Fr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function yi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Cn(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,yr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function yr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ys.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Cn(e,bi,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Cn(e,bi,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Cn(n,"/"==n.charAt(0)?Gs:zi,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Cn(n,Ws)),i.join("")};var bi=/[#\/\?@]/g,zi=/[#\?:]/g,Gs=/[#\?]/g,ns=/[#\?@]/g,Ws=/#/g;function Li(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ki(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ri(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var u=i[n].substring(0,s);l=i[n].substring(s+1)}else u=i[n];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function To(i,e){Ki(i),e=go(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function lr(i,e){return Ki(i),e=go(i,e),i.g.has(e)}function Do(i,e,n){To(i,e),0<n.length&&(i.i=null,i.g.set(go(i,e),Je(n)),i.h+=n.length)}function go(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function oo(i){this.l=i||sa,i=he.PerformanceNavigationTiming?0<(i=he.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=Li.prototype).add=function(i,e){Ki(this),this.i=null,i=go(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){Ki(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},Ae.ta=function(){Ki(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let u=0;u<l.length;u++)n.push(e[s])}return n},Ae.Z=function(i){Ki(this);let e=[];if("string"==typeof i)lr(this,i)&&(e=e.concat(this.g.get(go(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return Ki(this),this.i=null,lr(this,i=go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const u=encodeURIComponent(String(s)),m=this.Z(s);for(s=0;s<m.length;s++){var l=u;""!==m[s]&&(l+="="+encodeURIComponent(String(m[s]))),i.push(l)}}return this.i=i.join("&")};var sa=10;function _o(i){return!!i.h||!!i.g&&i.g.size>=i.j}function va(i){return i.h?1:i.g?i.g.size:0}function oa(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qs(i,e){i.g?i.g.add(e):i.h=e}function So(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ho(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Je(i.i)}oo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ao=class{stringify(i){return he.JSON.stringify(i,void 0)}parse(i){return he.JSON.parse(i,void 0)}};function Gr(){this.g=new ao}function Xs(i,e,n){const s=n||"";try{Cr(i,function(l,u){let m=l;Ke(l)&&(m=ht(l)),e.push(s+u+"="+encodeURIComponent(m))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Ss(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function rs(i){this.l=i.fc||null,this.j=i.ob||!1}function ds(i,e){Ye.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(rs,Xr),rs.prototype.g=function(){return new ds(this.l,this.j)},rs.prototype.i=function(i){return function(){return i}}({}),Ut(ds,Ye);var Js=0;function Di(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Wr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,dl(i)}function dl(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=ds.prototype).open=function(i,e){if(this.readyState!=Js)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,dl(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wr(this)),this.readyState=Js},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Di(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Wr(this):dl(this),3==this.readyState&&Di(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,Wr(this))},Ae.Ya=function(i){this.g&&(this.response=i,Wr(this))},Ae.ka=function(){this.g&&Wr(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ps=he.JSON.parse;function Jr(i){Ye.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ya,this.L=this.M=!1}Ut(Jr,Ye);var ya="",Ao=/^https?$/i,qs=["POST","PUT"];function vo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,lo(i),sl(i)}function lo(i){i.F||(i.F=!0,Tt(i,"complete"),Tt(i,"error"))}function Oa(i){if(i.h&&typeof Fe<"u"&&(!i.C[1]||4!=Ms(i)||2!=i.da()))if(i.v&&4==Ms(i))qt(i.La,0,i);else if(Tt(i,"readystatechange"),4==Ms(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===m){var l=String(i.I).match(ii)[1]||null;!l&&he.self&&he.self.location&&(l=he.self.location.protocol.slice(0,-1)),s=!Ao.test(l?l.toLowerCase():"")}n=s}if(n)Tt(i,"complete"),Tt(i,"success");else{i.m=6;try{var u=2<Ms(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",lo(i)}}finally{sl(i)}}}function sl(i,e){if(i.g){Pa(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Tt(i,"ready");try{n.onreadystatechange=s}catch{}}}function Pa(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(he.clearTimeout(i.A),i.A=null)}function Ms(i){return i.g?i.g.readyState:0}function ne(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case ya:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ye(i){let e="";return ui(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function ee(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ye(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Fr(i,e,n))}function Ce(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function rn(i){this.Ga=0,this.j=[],this.l=new Dt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ce("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ce("baseRetryDelayMs",5e3,i),this.hb=Ce("retryDelaySeedMs",1e4,i),this.eb=Ce("forwardChannelMaxRetries",2,i),this.xa=Ce("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new oo(i&&i.concurrentRequestLimit),this.Ja=new Gr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function er(i){if(as(i),3==i.H){var e=i.W++,n=ai(i.I);if(Fr(n,"SID",i.K),Fr(n,"RID",e),Fr(n,"TYPE","terminate"),to(i,n),(e=new Ee(i,i.l,e)).L=2,e.v=Ma(ai(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&he.Image&&((new Image).src=e.v,n=!0),n||(e.g=co(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vn(e)}zo(i)}function Ei(i){i.g&&(bs(i),i.g.cancel(),i.g=null)}function as(i){Ei(i),i.u&&(he.clearTimeout(i.u),i.u=null),Es(i),i.i.cancel(),i.m&&("number"==typeof i.m&&he.clearTimeout(i.m),i.m=null)}function ka(i){if(!_o(i.i)&&!i.m){i.m=!0;var e=i.Na;k||de(),L||(k(),L=!0),F.add(e,i),i.C=0}}function aa(i,e){var n;n=e?e.m:i.W++;const s=ai(i.I);Fr(s,"SID",i.K),Fr(s,"RID",n),Fr(s,"AID",i.V),to(i,s),i.o&&i.s&&ee(s,i.o,i.s),n=new Ee(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ba(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Qs(i.i,n),$e(n,s,e)}function to(i,e){i.na&&ui(i.na,function(n,s){Fr(e,s,n)}),i.h&&Cr({},function(n,s){Fr(e,s,n)})}function ba(i,e,n){n=Math.min(i.j.length,n);var s=i.h?Rt(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const m=["count="+n];-1==u?0<n?(u=l[0].g,m.push("ofs="+u)):u=0:m.push("ofs="+u);let M=!0;for(let j=0;j<n;j++){let ie=l[j].g;const _e=l[j].map;if(ie-=u,0>ie)u=Math.max(0,l[j].g-100),M=!1;else try{Xs(_e,m,"req"+ie+"_")}catch{s&&s(_e)}}if(M){s=m.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function hl(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;k||de(),L||(k(),L=!0),F.add(e,i),i.A=0}}function wl(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=vs(Rt(i.Ma,i),Na(i,i.A)),i.A++,0))}function bs(i){null!=i.B&&(he.clearTimeout(i.B),i.B=null)}function Xo(i){i.g=new Ee(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=ai(i.wa);Fr(e,"RID","rpc"),Fr(e,"SID",i.K),Fr(e,"AID",i.V),Fr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Fr(e,"TO",i.qa),Fr(e,"TYPE","xmlhttp"),to(i,e),i.o&&i.s&&ee(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Ma(ai(e)),n.s=null,n.S=!0,De(n,i)}function Es(i){null!=i.v&&(he.clearTimeout(i.v),i.v=null)}function yo(i,e){var n=null;if(i.g==e){Es(i),bs(i),i.g=null;var s=2}else{if(!oa(i.i,e))return;n=e.F,So(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Tt(s=vi(),new cs(s,n)),ka(i)}else hl(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function eo(i,e){return!(va(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=vs(Rt(i.Na,i,e),Na(i,i.C)),i.C++,0)))}(i,e)||2==s&&wl(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Ti(i,5);break;case 4:Ti(i,10);break;case 3:Ti(i,6);break;default:Ti(i,2)}}function Na(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Ti(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=Rt(i.pb,i);n||(n=new ys("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||ts(n,"https"),Ma(n)),function Ra(i,e){const n=new Dt;if(he.Image){const s=new Image;s.onload=Zt(Ss,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Zt(Ss,n,s,"TestLoadImage: error",!1,e),s.onabort=Zt(Ss,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Zt(Ss,n,s,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Tr(2);i.H=0,i.h&&i.h.za(e),zo(i),as(i)}function zo(i){if(i.H=0,i.ma=[],i.h){const e=Ho(i.i);(0!=e.length||0!=i.j.length)&&(Pt(i.ma,e),Pt(i.ma,i.j),i.i.i.length=0,Je(i.j),i.j.length=0),i.h.ya()}}function Rs(i,e,n){var s=n instanceof ys?ai(n):new ys(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Ys(s,s.m);else{var l=he.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new ys(null);s&&ts(u,s),e&&(u.g=e),l&&Ys(u,l),n&&(u.l=n),s=u}return e=i.Da,(n=i.F)&&e&&Fr(s,n,e),Fr(s,"VER",i.ra),to(i,s),s}function co(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(n&&i.Ha&&!i.va?new rs({ob:!0}):i.va)).Oa(i.J),e}function bo(){}function Fa(){if(Ur&&!(10<=Number(jn)))throw Error("Environmental error: no available transport.")}function no(i,e){Ye.call(this),this.g=new rn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!yn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Eo(this)}function fl(i){oe.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function La(){Pe.call(this),this.status=1}function Eo(i){this.g=i}function ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ua(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=i.g[3],m=(e=i.g[0])+(u^(n=i.g[1])&((l=i.g[2])^u))+s[0]+3614090360&4294967295;m=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=n+(m<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^n&(l^u))+s[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(n^u&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=n+(e^l&(u^e))+s[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^u&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=u+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^n&(u^e))+s[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=n+(u^e&(l^u))+s[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(n^l^u)+s[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(n^l^u)+s[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^n)+s[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=n+(l^u^e)+s[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(n|~u))+s[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~u))+s[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(n|~u))+s[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~n))+s[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=n+(u^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((u=(e=n+((m=e+(l^(n|~u))+s[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=u+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=u+((m=l+(e^(u|~n))+s[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function jr(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var u=0|i[l];s&&u==e||(n[l]=u,s=!1)}this.g=n}(Ae=Jr.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$.g(),this.C=function Ui(i){return i.h||(i.h=i.i())}(this.u?this.u:$),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void vo(this,u)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const u of s.keys())n.set(u,s.get(u))}s=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),l=he.FormData&&i instanceof he.FormData,!(0<=je(qs,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,m]of n)this.g.setRequestHeader(u,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pa(this),0<this.B&&((this.L=function As(i){return Ur&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=qt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){vo(this,u)}},Ae.ua=function(){typeof Fe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tt(this,"complete"),Tt(this,"abort"),sl(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sl(this,!0)),Jr.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?Oa(this):this.kb())},Ae.kb=function(){Oa(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<Ms(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ps(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=rn.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Ee(this,this.l,i);let u=this.s;if(this.U&&(u?(u=hi(u),fi(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ba(this,l,e),Fr(n=ai(this.I),"RID",i),Fr(n,"CVER",22),this.F&&Fr(n,"X-HTTP-Session-Id",this.F),to(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(ye(u)))+"&"+e:this.o&&ee(n,this.o,u)),Qs(this.i,l),this.bb&&Fr(n,"TYPE","init"),this.P?(Fr(n,"$req",e),Fr(n,"SID","null"),l.aa=!0,$e(l,n,null)):$e(l,n,e),this.H=2}}else 3==this.H&&(i?aa(this,i):0==this.j.length||_o(this.i)||aa(this))},Ae.Ma=function(){if(this.u=null,Xo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=vs(Rt(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),Ei(this),Xo(this))},Ae.ib=function(){null!=this.v&&(this.v=null,Ei(this),wl(this),Tr(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=bo.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},Fa.prototype.g=function(i,e){return new no(i,e)},Ut(no,Ye),no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Tr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Rs(i,null,i.Y),ka(i)},no.prototype.close=function(){er(this.g)},no.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ht(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ka(e)},no.prototype.N=function(){this.g.h=null,delete this.j,er(this.g),delete this.g,no.$.N.call(this)},Ut(fl,oe),Ut(La,Pe),Ut(Eo,bo),Eo.prototype.Ba=function(){Tt(this.g,"a")},Eo.prototype.Aa=function(i){Tt(this.g,new fl(i))},Eo.prototype.za=function(i){Tt(this.g,new La)},Eo.prototype.ya=function(){Tt(this.g,"b")},Ut(ms,function Va(){this.blockSize=-1}),ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ms.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=n;)Ua(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(s[l++]=i.charCodeAt(u++),l==this.blockSize){Ua(this,s),l=0;break}}else for(;u<e;)if(s[l++]=i[u++],l==this.blockSize){Ua(this,s),l=0;break}}this.h=l,this.i+=e},ms.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Ll={};function qa(i){return-128<=i&&128>i?function ei(i,e){var n=Ll;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new jr([0|e],0>e?-1:0)}):new jr([0|i],0>i?-1:0)}function Yi(i){if(isNaN(i)||!isFinite(i))return Ba;if(0>i)return Qi(Yi(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=al;return new jr(e,0)}var al=4294967296,Ba=qa(0),ro=qa(1),gs=qa(16777216);function wo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function $o(i){return-1==i.h}function Qi(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new jr(n,~i.h).add(ro)}function Ka(i,e){return i.add(Qi(e))}function Za(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function pl(i,e){this.g=i,this.h=e}function ws(i,e){if(wo(e))throw Error("division by zero");if(wo(i))return new pl(Ba,Ba);if($o(i))return e=ws(Qi(i),e),new pl(Qi(e.g),Qi(e.h));if($o(e))return e=ws(i,Qi(e)),new pl(Qi(e.g),e.h);if(30<i.g.length){if($o(i)||$o(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ro,s=e;0>=s.X(i);)n=Mo(n),s=Mo(s);var l=uo(n,1),u=uo(s,1);for(s=uo(s,2),n=uo(n,2);!wo(s);){var m=u.add(s);0>=m.X(i)&&(l=l.add(n),u=m),s=uo(s,1),n=uo(n,1)}return e=Ka(i,l.R(e)),new pl(l,e)}for(l=Ba;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),m=(u=Yi(n)).R(e);$o(m)||0<m.X(i);)m=(u=Yi(n-=s)).R(e);wo(u)&&(u=ro),l=l.add(u),i=Ka(i,m)}return new pl(l,i)}function Mo(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new jr(n,i.h)}function uo(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],u=0;u<s;u++)l[u]=0<e?i.D(u+n)>>>e|i.D(u+n+1)<<32-e:i.D(u+n);return new jr(l,i.h)}(Ae=jr.prototype).ea=function(){if($o(this))return-Qi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:al+s)*e,e*=al}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(wo(this))return"0";if($o(this))return"-"+Qi(this).toString(i);for(var e=Yi(Math.pow(i,6)),n=this,s="";;){var l=ws(n,e).g,u=((0<(n=Ka(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(wo(n=l))return u+s;for(;6>u.length;)u="0"+u;s=u+s}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return $o(i=Ka(this,i))?-1:wo(i)?0:1},Ae.abs=function(){return $o(this)?Qi(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var u=s+(65535&this.D(l))+(65535&i.D(l)),m=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=m>>>16,n[l]=(m&=65535)<<16|(u&=65535)}return new jr(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(wo(this)||wo(i))return Ba;if($o(this))return $o(i)?Qi(this).R(Qi(i)):Qi(Qi(this).R(i));if($o(i))return Qi(this.R(Qi(i)));if(0>this.X(gs)&&0>i.X(gs))return Yi(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var u=this.D(s)>>>16,m=65535&this.D(s),M=i.D(l)>>>16,j=65535&i.D(l);n[2*s+2*l]+=m*j,Za(n,2*s+2*l),n[2*s+2*l+1]+=u*j,Za(n,2*s+2*l+1),n[2*s+2*l+1]+=m*M,Za(n,2*s+2*l+1),n[2*s+2*l+2]+=u*M,Za(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new jr(n,0)},Ae.gb=function(i){return ws(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new jr(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new jr(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new jr(n,this.h^i.h)},Fa.prototype.createWebChannel=Fa.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,un.COMPLETE="complete",us.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",Ye.prototype.listen=Ye.prototype.O,Jr.prototype.listenOnce=Jr.prototype.P,Jr.prototype.getLastError=Jr.prototype.Sa,Jr.prototype.getLastErrorCode=Jr.prototype.Ia,Jr.prototype.getStatus=Jr.prototype.da,Jr.prototype.getResponseJson=Jr.prototype.Wa,Jr.prototype.getResponseText=Jr.prototype.ja,Jr.prototype.send=Jr.prototype.ha,Jr.prototype.setWithCredentials=Jr.prototype.Oa,ms.prototype.digest=ms.prototype.l,ms.prototype.reset=ms.prototype.reset,ms.prototype.update=ms.prototype.j,jr.prototype.add=jr.prototype.add,jr.prototype.multiply=jr.prototype.R,jr.prototype.modulo=jr.prototype.gb,jr.prototype.compare=jr.prototype.X,jr.prototype.toNumber=jr.prototype.ea,jr.prototype.toString=jr.prototype.toString,jr.prototype.getBits=jr.prototype.D,jr.fromNumber=Yi,jr.fromString=function ol(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Qi(ol(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yi(Math.pow(e,8)),s=Ba,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),m=parseInt(i.substring(l,l+u),e);8>u?(u=Yi(Math.pow(e,u)),s=s.R(u).add(Yi(m))):s=(s=s.R(n)).add(Yi(m))}return s};var di,qr,hs,Bi,fs,ja,la,Jo,Os,ls,Oo,$i,Il,Vl,Po,lc,xc,Cl,Go,xl,cc,Gc,Ya,wa,au,xu,Tl,Zl,Yl,Dr,Io,Tc,Dl,uc,Ul,Bl,ko,ml,Dc,Sl,Sc,Ql,tn,Ea=Ve.createWebChannelTransport=function(){return new Fa},T=Ve.getStatEventTarget=function(){return vi()},te=Ve.ErrorCode=mo,Ne=Ve.EventType=un,q=Ve.Event=dr,we=Ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tt=Ve.FetchXmlHttpFactory=rs,zt=Ve.WebChannel=us,En=Ve.XhrIo=Jr,Lr=Ve.Md5=ms,ni=Ve.Integer=jr;const mi="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Co="9.23.0";const _s=new Te.Yd("@firebase/firestore");function Qa(){return _s.logLevel}function Gi(i){_s.setLogLevel(i)}function sn(i,...e){if(_s.logLevel<=Te.in.DEBUG){const n=e.map(Xl);_s.debug(`Firestore (${Co}): ${i}`,...n)}}function cr(i,...e){if(_s.logLevel<=Te.in.ERROR){const n=e.map(Xl);_s.error(`Firestore (${Co}): ${i}`,...n)}}function ho(i,...e){if(_s.logLevel<=Te.in.WARN){const n=e.map(Xl);_s.warn(`Firestore (${Co}): ${i}`,...n)}}function Xl(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Gn(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw cr(e),new Error(e)}function tr(i,e){i||Gn()}function No(i,e){i||Gn()}function Dn(i,e){return i}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class w extends b.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class S{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class U{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ki.UNAUTHENTICATED))}shutdown(){}}class Q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class me{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const u=ie=>this.i!==l?(l=this.i,n(ie)):Promise.resolve();let m=new S;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new S,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const ie=m;e.enqueueRetryable((0,d.Z)(function*(){yield ie.promise,yield u(s.currentUser)}))},j=ie=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(ie=>j(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?j(ie):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new S)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tr("string"==typeof s.accessToken),new U(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tr(null===e||"string"==typeof e),new ki(e)}}class Me{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wt{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Me(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gt{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=u=>{null!=u.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.T;return this.T=u.token,sn("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const l=u=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr("string"==typeof n.token),this.T=n.token,new bn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function li(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Xi{static A(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=li(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return s}}function Rn(i,e){return i<e?-1:i>e?1:0}function Us(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function Ia(i){return i+"\0"}class ji{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new w(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new w(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new w(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ji(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wn(e)}static min(){return new Wn(new ji(0,0))}static max(){return new Wn(new ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(e,n,s){void 0===n?n=0:n>e.length&&Gn(),void 0===s?s=e.length-n:s>e.length-n&&Gn(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=e.get(l),m=n.get(l);if(u<m)return-1;if(u>m)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Si extends ll{construct(e,n,s){return new Si(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new w(Lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Si(n)}static emptyPath(){return new Si([])}}const ca=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends ll{construct(e,n,s){return new Oi(e,n,s)}static isValidIdentifier(e){return ca.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oi(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(0===s.length)throw new w(Lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let m=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new w(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new w(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=j,l+=2}else"`"===M?(m=!m,l++):"."!==M||m?(s+=M,l++):(u(),l++)}if(u(),m)throw new w(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oi(n)}static emptyPath(){return new Oi([])}}class dn{constructor(e){this.path=e}static fromPath(e){return new dn(Si.fromString(e))}static fromName(e){return new dn(Si.fromString(e).popFirst(5))}static empty(){return new dn(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Si.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dn(new Si(e.slice()))}}class ua{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Ac(i){return i.fields.find(e=>2===e.kind)}function Al(i){return i.fields.filter(e=>2!==e.kind)}ua.UNKNOWN_ID=-1;class Ca{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ml{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ml(0,Ps.min())}}function Xa(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Wn.fromTimestamp(1e9===s?new ji(n+1,0):new ji(n,s));return new Ps(l,dn.empty(),e)}function Mc(i){return new Ps(i.readTime,i.key,-1)}class Ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ps(Wn.min(),dn.empty(),-1)}static max(){return new Ps(Wn.max(),dn.empty(),-1)}}function Wo(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=dn.comparator(i.documentKey,e.documentKey),0!==n?n:Rn(i.largestBatchId,e.largestBatchId))}const ec="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ha(i){return(di=di||(0,d.Z)(function*(e){if(e.code!==Lt.FAILED_PRECONDITION||e.message!==ec)throw e;sn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ot((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ot?n:Ot.resolve(n)}catch(n){return Ot.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ot.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ot.reject(n)}static resolve(e){return new Ot((n,s)=>{n(e)})}static reject(e){return new Ot((n,s)=>{s(e)})}static waitFor(e){return new Ot((n,s)=>{let l=0,u=0,m=!1;e.forEach(M=>{++l,M.next(()=>{++u,m&&u===l&&n()},j=>s(j))}),m=!0,u===l&&n()})}static or(e){let n=Ot.resolve(!1);for(const s of e)n=n.next(l=>l?Ot.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(e,n){return new Ot((s,l)=>{const u=e.length,m=new Array(u);let M=0;for(let j=0;j<u;j++){const ie=j;n(e[ie]).next(_e=>{m[ie]=_e,++M,M===u&&s(m)},_e=>l(_e))}})}static doWhile(e,n){return new Ot((s,l)=>{const u=()=>{!0===e()?n().next(()=>{u()},l):s()};u()})}}class Rc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new S,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Oc(e,n.error)):this.v.resolve()},this.transaction.onerror=s=>{const l=Wc(s.target.error);this.v.reject(new Oc(e,l))}}static open(e,n,s,l){try{return new Rc(n,e.transaction(l,s))}catch(u){throw new Oc(n,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Zu(n)}}class Bs{constructor(e,n,s){this.name=e,this.version=n,this.V=s,12.2===Bs.S((0,b.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sn("SimpleDb","Removing database:",e),Pc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,b.hl)())return!1;if(Bs.C())return!0;const e=(0,b.z$)(),n=Bs.S(e),s=0<n&&n<10,l=Bs.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var n=this;return(0,d.Z)(function*(){return n.db||(sn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=m=>{s(m.target.result)},u.onblocked=()=>{l(new Oc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const M=m.target.error;l("VersionError"===M.name?new w(Lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new w(Lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Oc(e,M))},u.onupgradeneeded=m=>{sn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',m.oldVersion),n.V.O(m.target.result,u.transaction,m.oldVersion,n.version).next(()=>{sn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=s=>n.F(s)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var u=this;return(0,d.Z)(function*(){const m="readonly"===n;let M=0;for(;;){++M;try{u.db=yield u.$(e);const j=Rc.open(u.db,e,m?"readonly":"readwrite",s),ie=l(j).next(_e=>(j.P(),_e)).catch(_e=>(j.abort(_e),Ot.reject(_e))).toPromise();return ie.catch(()=>{}),yield j.R,ie}catch(j){const ie=j,_e="FirebaseError"!==ie.name&&M<3;if(sn("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",_e),u.close(),!_e)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tc{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Pc(this.L.delete())}}class Oc extends w{constructor(e,n){super(Lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jl(i){return"IndexedDbTransactionError"===i.name}class Zu{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(sn("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Pc(s)}add(e){return sn("SimpleDb","ADD",this.store.name,e,e),Pc(this.store.add(e))}get(e){return Pc(this.store.get(e)).next(n=>(void 0===n&&(n=null),sn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return sn("SimpleDb","DELETE",this.store.name,e),Pc(this.store.delete(e))}count(){return sn("SimpleDb","COUNT",this.store.name),Pc(this.store.count())}j(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),u=[];return this.W(l,(m,M)=>{u.push(M)}).next(()=>u)}{const l=this.store.getAll(s.range);return new Ot((u,m)=>{l.onerror=M=>{m(M.target.error)},l.onsuccess=M=>{u(M.target.result)}})}}H(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Ot((l,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}J(e,n){sn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.Y=!1;const l=this.cursor(s);return this.W(l,(u,m,M)=>M.delete())}X(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.W(l,n)}Z(e){const n=this.cursor({});return new Ot((s,l)=>{n.onerror=u=>{const m=Wc(u.target.error);l(m)},n.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(M=>{M?m.continue():s()}):s()}})}W(e,n){const s=[];return new Ot((l,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const M=m.target.result;if(!M)return void l();const j=new tc(M),ie=n(M.primaryKey,M.value,j);if(ie instanceof Ot){const _e=ie.catch(Le=>(j.done(),Ot.reject(Le)));s.push(_e)}j.isDone?l():null===j.K?M.continue():M.continue(j.K)}}).next(()=>Ot.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pc(i){return new Ot((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Wc(s.target.error);n(l)}})}let vd=!1;function Wc(i){const e=Bs.S((0,b.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new w("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vd||(vd=!0,setTimeout(()=>{throw s},0)),s}}return i}class Zd{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;sn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){n.task=null;try{sn("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(s){jl(s)?sn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Ha(s)}yield n.et(6e4)}))}}class jh{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,d.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.st(s,e))})()}st(e,n){const s=new Set;let l=n,u=!0;return Ot.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return sn("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,l).next(M=>{l-=M,s.add(m)});u=!1})).next(()=>n-l)}it(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(l,u)).next(M=>(sn("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,n,M))).next(()=>m.size)}))}rt(e,n){let s=e;return n.changes.forEach((l,u)=>{const m=Mc(u);Wo(m,s)>0&&(s=m)}),new Ps(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ks=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>s.writeSequenceNumber(l))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Ja(i){return null==i}function Rl(i){return 0===i&&1/i==-1/0}function hc(i){return"number"==typeof i&&Number.isInteger(i)&&!Rl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Fo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=yd(e)),e=nc(i.get(n),e);return yd(e)}function nc(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function yd(i){return i+"\x01\x01"}function cl(i){const e=i.length;if(tr(e>=2),2===e)return tr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Si.emptyPath();const n=e-2,s=[];let l="";for(let u=0;u<e;){const m=i.indexOf("\x01",u);switch((m<0||m>n)&&Gn(),i.charAt(m+1)){case"\x01":const M=i.substring(u,m);let j;0===l.length?j=M:(l+=M,j=l,l=""),s.push(j);break;case"\x10":l+=i.substring(u,m),l+="\0";break;case"\x11":l+=i.substring(u,m+1);break;default:Gn()}u=m+2}return new Si(s)}const Du=["userId","batchId"];function qc(i,e){return[i,Fo(e)]}function xa(i,e,n){return[i,Fo(e),n]}const Yu={},Ol=["prefixPath","collectionGroup","readTime","documentId"],Kc=["prefixPath","collectionGroup","documentId"],Su=["collectionGroup","readTime","prefixPath","documentId"],Hl=["canonicalId","targetId"],Zc=["targetId","path"],kc=["path","targetId"],fc=["collectionId","parent"],Nc=["indexId","uid"],Yc=["uid","sequenceNumber"],Fc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bd=["indexId","uid","orderedDocumentKey"],lu=["userId","collectionPath","documentId"],pc=["userId","collectionPath","largestBatchId"],Qu=["userId","collectionGroup","largestBatchId"],Au=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zl=[...Au,"documentOverlays"],$l=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mu=$l,ea=[...Mu,"indexConfiguration","indexState","indexEntries"];class gl extends dc{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function js(i,e){const n=Dn(i);return Bs.M(n.ht,e)}function _l(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function rc(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ru(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class is{constructor(e,n){this.comparator=e,this.root=n||Ks.EMPTY}insert(e,n){return new is(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(e){return new is(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ks{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Ks.RED,this.left=l??Ks.EMPTY,this.right=u??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Ks(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Ks.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gn();const e=this.left.check();if(e!==this.right.check())throw Gn();return e+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw Gn()}get value(){throw Gn()}get color(){throw Gn()}get left(){throw Gn()}get right(){throw Gn()}copy(i,e,n,s,l){return this}insert(i,e,n){return new Ks(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ji{constructor(e){this.comparator=e,this.data=new is(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z(this.data.getIterator())}getIteratorFrom(e){return new z(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ji(this.comparator);return n.data=e,n}}class z{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Y(i){return i.hasNext()?i.getNext():void 0}class se{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new se([])}unionWith(e){let n=new Ji(Oi.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new se(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class Se extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function Ze(){return typeof atob<"u"}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Se("Invalid base64 string: "+l):l}}(e);return new ft(n)}static fromUint8Array(e){const n=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const $t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yt(i){if(tr(!!i),"string"==typeof i){let e=0;const n=$t.exec(i);if(tr(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(i.seconds),nanos:Xt(i.nanos)}}function Xt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function On(i){return"string"==typeof i?ft.fromBase64String(i):ft.fromUint8Array(i)}function Kn(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jn(i){const e=i.mapValue.fields.__previous_value__;return Kn(e)?Jn(e):e}function si(i){const e=Yt(i.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}class Hs{constructor(e,n,s,l,u,m,M,j,ie){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=M,this.longPollingOptions=j,this.useFetchStreams=ie}}class Hr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hr&&e.projectId===this.projectId&&e.database===this.database}}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ns={nullValue:"NULL_VALUE"};function Rr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kn(i)?4:Xu(i)?9007199254740991:10:Gn()}function Ni(i,e){if(i===e)return!0;const n=Rr(i);if(n!==Rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return si(i).isEqual(si(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=Yt(s.timestampValue),m=Yt(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,On(i.bytesValue).isEqual(On(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Xt(s.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Xt(s.integerValue)===Xt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Xt(s.doubleValue),m=Xt(l.doubleValue);return u===m?Rl(u)===Rl(m):isNaN(u)&&isNaN(m)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(s,l){const u=s.mapValue.fields||{},m=l.mapValue.fields||{};if(_l(u)!==_l(m))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===m[M]||!Ni(u[M],m[M])))return!1;return!0}(i,e);default:return Gn()}var l}function ta(i,e){return void 0!==(i.values||[]).find(n=>Ni(n,e))}function da(i,e){if(i===e)return 0;const n=Rr(i),s=Rr(e);if(n!==s)return Rn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rn(i.booleanValue,e.booleanValue);case 2:return function(l,u){const m=Xt(l.integerValue||l.doubleValue),M=Xt(u.integerValue||u.doubleValue);return m<M?-1:m>M?1:m===M?0:isNaN(m)?isNaN(M)?0:-1:1}(i,e);case 3:return Lc(i.timestampValue,e.timestampValue);case 4:return Lc(si(i),si(e));case 5:return Rn(i.stringValue,e.stringValue);case 6:return function(l,u){const m=On(l),M=On(u);return m.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),M=u.split("/");for(let j=0;j<m.length&&j<M.length;j++){const ie=Rn(m[j],M[j]);if(0!==ie)return ie}return Rn(m.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,u){const m=Rn(Xt(l.latitude),Xt(u.latitude));return 0!==m?m:Rn(Xt(l.longitude),Xt(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,u){const m=l.values||[],M=u.values||[];for(let j=0;j<m.length&&j<M.length;++j){const ie=da(m[j],M[j]);if(ie)return ie}return Rn(m.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===zs.mapValue&&u===zs.mapValue)return 0;if(l===zs.mapValue)return 1;if(u===zs.mapValue)return-1;const m=l.fields||{},M=Object.keys(m),j=u.fields||{},ie=Object.keys(j);M.sort(),ie.sort();for(let _e=0;_e<M.length&&_e<ie.length;++_e){const Le=Rn(M[_e],ie[_e]);if(0!==Le)return Le;const pt=da(m[M[_e]],j[ie[_e]]);if(0!==pt)return pt}return Rn(M.length,ie.length)}(i.mapValue,e.mapValue);default:throw Gn()}}function Lc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Rn(i,e);const n=Yt(i),s=Yt(e),l=Rn(n.seconds,s.seconds);return 0!==l?l:Rn(n.nanos,s.nanos)}function vl(i){return Qc(i)}function Qc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=Yt(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?On(i.bytesValue).toBase64():"referenceValue"in i?dn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",u=!0;for(const m of s.values||[])u?u=!1:l+=",",l+=Qc(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let u="{",m=!0;for(const M of l)m?m=!1:u+=",",u+=`${M}:${Qc(s.fields[M])}`;return u+"}"}(i.mapValue):Gn();var e}function mc(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ed(i){return!!i&&"integerValue"in i}function Ta(i){return!!i&&"arrayValue"in i}function cu(i){return!!i&&"nullValue"in i}function Jc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wd(i){return!!i&&"mapValue"in i}function ic(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return rc(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ic(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Xu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ou(i){return"nullValue"in i?Ns:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?mc(Hr.empty(),dn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Gn()}function W(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?mc(Hr.empty(),dn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?zs:Gn()}function g(i,e){const n=da(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function _(i,e){const n=da(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class D{constructor(e){this.value=e}static empty(){return new D({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=Oi.emptyPath(),s={},l=[];e.forEach((m,M)=>{if(!n.isImmediateParentOf(M)){const j=this.getFieldsMap(n);this.applyChanges(j,s,l),s={},l=[],n=M.popLast()}m?s[M.lastSegment()]=ic(m):l.push(M.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];wd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){rc(n,(l,u)=>e[l]=u);for(const l of s)delete e[l]}clone(){return new D(ic(this.value))}}function le(i){const e=[];return rc(i.fields,(n,s)=>{const l=new Oi([n]);if(wd(s)){const u=le(s.mapValue).fields;if(0===u.length)e.push(l);else for(const m of u)e.push(l.child(m))}else e.push(l)}),new se(e)}class fe{constructor(e,n,s,l,u,m,M){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=m,this.documentState=M}static newInvalidDocument(e){return new fe(e,0,Wn.min(),Wn.min(),Wn.min(),D.empty(),0)}static newFoundDocument(e,n,s,l){return new fe(e,1,n,Wn.min(),s,l,0)}static newNoDocument(e,n){return new fe(e,2,n,Wn.min(),Wn.min(),D.empty(),0)}static newUnknownDocument(e,n){return new fe(e,3,n,Wn.min(),Wn.min(),D.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=D.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=D.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Be{constructor(e,n){this.position=e,this.inclusive=n}}function rt(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const u=e[l],m=i.position[l];if(s=u.field.isKeyField()?dn.comparator(dn.fromName(m.referenceValue),n.key):da(m,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return s}function Vt(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ni(i.position[n],e.position[n]))return!1;return!0}class Jt{constructor(e,n="asc"){this.field=e,this.dir=n}}function fn(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class mr{}class wn extends mr{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new ku(e,n,s):"array-contains"===n?new Gl(e,s):"in"===n?new Nu(e,s):"not-in"===n?new Yd(e,s):"array-contains-any"===n?new jp(e,s):new wn(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Ju(e,s):new ed(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(da(n,this.value)):null!==n&&Rr(this.value)===Rr(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends mr{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new nr(e,n)}matches(e){return Fs(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Fs(i){return"and"===i.op}function yl(i){return"or"===i.op}function Da(i){return Lo(i)&&Fs(i)}function Lo(i){for(const e of i.filters)if(e instanceof nr)return!1;return!0}function Vo(i){if(i instanceof wn)return i.field.canonicalString()+i.op.toString()+vl(i.value);if(Da(i))return i.filters.map(e=>Vo(e)).join(",");{const e=i.filters.map(n=>Vo(n)).join(",");return`${i.op}(${e})`}}function uu(i,e){return i instanceof wn?(n=i,(s=e)instanceof wn&&n.op===s.op&&n.field.isEqual(s.field)&&Ni(n.value,s.value)):i instanceof nr?function(n,s){return s instanceof nr&&n.op===s.op&&n.filters.length===s.filters.length&&n.filters.reduce((l,u,m)=>l&&uu(u,s.filters[m]),!0)}(i,e):void Gn();var n,s}function Id(i,e){const n=i.filters.concat(e);return nr.create(n,i.op)}function Pu(i){return i instanceof wn?`${(e=i).field.canonicalString()} ${e.op} ${vl(e.value)}`:i instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(Pu).join(" ,")+"}"}(i):"Filter";var e}class ku extends wn{constructor(e,n,s){super(e,n,s),this.key=dn.fromName(s.referenceValue)}matches(e){const n=dn.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ju extends wn{constructor(e,n){super(e,"in",n),this.keys=ha(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ed extends wn{constructor(e,n){super(e,"not-in",n),this.keys=ha(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ha(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>dn.fromName(s.referenceValue))}class Gl extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ta(n)&&ta(n.arrayValue,this.value)}}class Nu extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ta(this.value.arrayValue,n)}}class Yd extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ta(this.value.arrayValue,n)}}class jp extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ta(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}class Hh{constructor(e,n=null,s=[],l=[],u=null,m=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=m,this.endAt=M,this.dt=null}}function Qd(i,e=null,n=[],s=[],l=null,u=null,m=null){return new Hh(i,e,n,s,l,u,m)}function Vc(i){const e=Dn(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Vo(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Ja(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vl(s)).join(",")),e.dt=n}return e.dt}function td(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!fn(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vt(i.startAt,e.startAt)&&Vt(i.endAt,e.endAt)}function nd(i){return dn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function rd(i,e){return i.filters.filter(n=>n instanceof wn&&n.field.isEqual(e))}function id(i,e,n){let s=Ns,l=!0;for(const u of rd(i,e)){let m=Ns,M=!0;switch(u.op){case"<":case"<=":m=Ou(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,M=!1;break;case"!=":case"not-in":m=Ns}g({value:s,inclusive:l},{value:m,inclusive:M})<0&&(s=m,l=M)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=n.position[u];g({value:s,inclusive:l},{value:m,inclusive:n.inclusive})<0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}function zh(i,e,n){let s=zs,l=!0;for(const u of rd(i,e)){let m=zs,M=!0;switch(u.op){case">=":case">":m=W(u.value),M=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,M=!1;break;case"!=":case"not-in":m=zs}_({value:s,inclusive:l},{value:m,inclusive:M})>0&&(s=m,l=M)}if(null!==n)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=n.position[u];_({value:s,inclusive:l},{value:m,inclusive:n.inclusive})>0&&(s=m,l=n.inclusive);break}return{value:s,inclusive:l}}class gc{constructor(e,n=null,s=[],l=[],u=null,m="F",M=null,j=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=m,this.startAt=M,this.endAt=j,this.wt=null,this._t=null}}function Xd(i,e,n,s,l,u,m,M){return new gc(i,e,n,s,l,u,m,M)}function sd(i){return new gc(i)}function Jd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function eh(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Cd(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function O(i){return null!==i.collectionGroup}function v(i){const e=Dn(i);if(null===e.wt){e.wt=[];const n=Cd(e),s=eh(e);if(null!==n&&null===s)n.isKeyField()||e.wt.push(new Jt(n)),e.wt.push(new Jt(Oi.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jt(Oi.keyField(),u))}}}return e.wt}function C(i){const e=Dn(i);if(!e._t)if("F"===e.limitType)e._t=Qd(e.path,e.collectionGroup,v(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of v(e))n.push(new Jt(u.field,"desc"===u.dir?"asc":"desc"));const s=e.endAt?new Be(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Be(e.startAt.position,e.startAt.inclusive):null;e._t=Qd(e.path,e.collectionGroup,n,e.filters,e.limit,s,l)}return e._t}function E(i,e){e.getFirstInequalityField(),Cd(i);const n=i.filters.concat([e]);return new gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function N(i,e,n){return new gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function J(i,e){return td(C(i),C(e))&&i.limitType===e.limitType}function Oe(i){return`${Vc(C(i))}|lt:${i.limitType}`}function He(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Pu(s)).join(", ")}]`),Ja(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>{return`${(l=s).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vl(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vl(s)).join(",")),`Target(${n})`}(C(i))}; limitType=${i.limitType})`}function it(i,e){return e.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):dn.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,s){for(const l of v(n))if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((n=i).startAt&&!function(l,u,m){const M=rt(l,u,m);return l.inclusive?M<=0:M<0}(n.startAt,v(n),s)||n.endAt&&!function(l,u,m){const M=rt(l,u,m);return l.inclusive?M>=0:M>0}(n.endAt,v(n),s)));var n,s}function Nt(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vn(i){return(e,n)=>{let s=!1;for(const l of v(i)){const u=An(l,e,n);if(0!==u)return u;s=s||l.field.isKeyField()}return 0}}function An(i,e,n){const s=i.field.isKeyField()?dn.comparator(e.key,n.key):function(l,u,m){const M=u.data.field(l),j=m.data.field(l);return null!==M&&null!==j?da(M,j):Gn()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Gn()}}class Nr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,u]of s)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,(n,s)=>{for(const[l,u]of s)e(l,u)})}isEmpty(){return Ru(this.inner)}size(){return this.innerSize}}const oi=new is(dn.comparator);function Qn(){return oi}const $r=new is(dn.comparator);function Pi(...i){let e=$r;for(const n of i)e=e.insert(n.key,n);return e}function xo(i){let e=$r;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Is(){return Ls()}function Sa(){return Ls()}function Ls(){return new Nr(i=>i.toString(),(i,e)=>i.isEqual(e))}const fa=new is(dn.comparator),io=new Ji(dn.comparator);function Sr(...i){let e=io;for(const n of i)e=e.add(n);return e}const fo=new Ji(Rn);function Aa(){return fo}function el(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function na(i){return{integerValue:""+i}}function Uo(i,e){return hc(e)?na(e):el(i,e)}class za{constructor(){this._=void 0}}function Uc(i,e,n){return i instanceof sr?function(s,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Kn(l)&&(l=Jn(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(n,e):i instanceof Or?Hi(i,e):i instanceof so?kl(i,e):function(s,l){const u=ir(s,l),m=vc(u)+vc(s.gt);return Ed(u)&&Ed(s.gt)?na(m):el(s.serializer,m)}(i,e)}function _c(i,e,n){return i instanceof Or?Hi(i,e):i instanceof so?kl(i,e):n}function ir(i,e){return i instanceof ra?Ed(n=e)||(s=n)&&"doubleValue"in s?e:{integerValue:0}:null;var s,n}class sr extends za{}class Or extends za{constructor(e){super(),this.elements=e}}function Hi(i,e){const n=Cs(e);for(const s of i.elements)n.some(l=>Ni(l,s))||n.push(s);return{arrayValue:{values:n}}}class so extends za{constructor(e){super(),this.elements=e}}function kl(i,e){let n=Cs(e);for(const s of i.elements)n=n.filter(l=>!Ni(l,s));return{arrayValue:{values:n}}}class ra extends za{constructor(e,n){super(),this.serializer=e,this.gt=n}}function vc(i){return Xt(i.integerValue||i.doubleValue)}function Cs(i){return Ta(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wl{constructor(e,n){this.field=e,this.transform=n}}class qo{constructor(e,n){this.version=e,this.transformResults=n}}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yc{}function du(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new od(i.key,ss.none()):new hu(i.key,i.data,ss.none());{const n=i.data,s=D.empty();let l=new Ji(Oi.comparator);for(let u of e.fields)if(!l.has(u)){let m=n.field(u);null===m&&u.length>1&&(u=u.popLast(),m=n.field(u)),null===m?s.delete(u):s.set(u,m),l=l.add(u)}return new sc(i.key,s,new se(l.toArray()),ss.none())}}function $h(i,e,n){i instanceof hu?function(s,l,u){const m=s.value.clone(),M=Nf(s.fieldTransforms,l,u.transformResults);m.setAll(M),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,n):i instanceof sc?function(s,l,u){if(!tl(s.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Nf(s.fieldTransforms,l,u.transformResults),M=l.data;M.setAll(Wh(s)),M.setAll(m),l.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Bc(i,e,n,s){return i instanceof hu?function(l,u,m,M){if(!tl(l.precondition,u))return m;const j=l.value.clone(),ie=Hp(l.fieldTransforms,M,u);return j.setAll(ie),u.convertToFoundDocument(u.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof sc?function(l,u,m,M){if(!tl(l.precondition,u))return m;const j=Hp(l.fieldTransforms,M,u),ie=u.data;return ie.setAll(Wh(l)),ie.setAll(j),u.convertToFoundDocument(u.version,ie).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_e=>_e.field))}(i,e,n,s):(m=n,tl(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function nh(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),u=ir(s.transform,l||null);null!=u&&(null===n&&(n=D.empty()),n.set(s.field,u))}return n||null}function Gh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===s||n&&s&&Us(n,s,(l,u)=>function th(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(n=i.transform)instanceof Or&&s instanceof Or||n instanceof so&&s instanceof so?Us(n.elements,s.elements,Ni):n instanceof ra&&s instanceof ra?Ni(n.gt,s.gt):n instanceof sr&&s instanceof sr);var n,s}(l,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,s}class hu extends yc{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sc extends yc{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Nf(i,e,n){const s=new Map;tr(i.length===n.length);for(let l=0;l<n.length;l++){const u=i[l],m=u.transform,M=e.data.field(u.field);s.set(u.field,_c(m,M,n[l]))}return s}function Hp(i,e,n){const s=new Map;for(const l of i){const u=l.transform,m=n.data.field(l.field);s.set(l.field,Uc(u,m,e))}return s}class od extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B extends yc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&$h(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Sa();return this.mutations.forEach(l=>{const u=e.get(l.key),m=u.overlayedDocument;let M=this.applyToLocalView(m,u.mutatedFields);M=n.has(l.key)?null:M;const j=du(m,M);null!==j&&s.set(l.key,j),m.isValidDocument()||m.convertToNoDocument(Wn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Sr())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>Gh(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>Gh(n,s))}}class p{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){tr(e.mutations.length===s.length);let l=fa;const u=e.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,s[m].version);return new p(e,n,s,l)}}class I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ue{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ie,ze;function dt(i){switch(i){default:return Gn();case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0}}function en(i){if(void 0===i)return cr("GRPC error has no .code"),Lt.UNKNOWN;switch(i){case Ie.OK:return Lt.OK;case Ie.CANCELLED:return Lt.CANCELLED;case Ie.UNKNOWN:return Lt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Lt.INTERNAL;case Ie.UNAVAILABLE:return Lt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Lt.NOT_FOUND;case Ie.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case Ie.ABORTED:return Lt.ABORTED;case Ie.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case Ie.DATA_LOSS:return Lt.DATA_LOSS;default:return Gn()}}(ze=Ie||(Ie={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";class Bn{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ur}static getOrCreateInstance(){return null===ur&&(ur=new Bn),ur}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ur=null;function xr(){return new TextEncoder}const Wi=new ni([4294967295,4294967295],0);function pa(i){const e=xr().encode(i),n=new Lr;return n.update(e),new Uint8Array(n.digest())}function Ko(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ni([n,s],0),new ni([l,u],0)]}class ia{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $a(`Invalid padding: ${n}`);if(s<0)throw new $a(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new $a(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new $a(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ni.fromNumber(this.It)}Et(e,n,s){let l=e.add(n.multiply(ni.fromNumber(s)));return 1===l.compare(Wi)&&(l=new ni([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=pa(e),[s,l]=Ko(n);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);if(!this.At(m))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new ia(u,l,n);return s.forEach(M=>m.insert(M)),m}insert(e){if(0===this.It)return;const n=pa(e),[s,l]=Ko(n);for(let u=0;u<this.hashCount;u++){const m=this.Et(s,l,u);this.Rt(m)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oc{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new oc(Wn.min(),l,new is(Rn),Qn(),Sr())}}class nl{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nl(s,n,Sr(),Sr(),Sr())}}class xs{constructor(e,n,s,l){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=l}}class ma{constructor(e,n){this.targetId=e,this.Vt=n}}class rl{constructor(e,n,s=ft.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class eu{constructor(){this.St=0,this.Dt=xd(),this.Ct=ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Sr(),n=Sr(),s=Sr();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Gn()}}),new nl(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=xd()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ff{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qn(),this.zt=ad(),this.Wt=new is(Rn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:Gn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,l)=>{this.te(l)&&n(l)})}ne(e){var n;const s=e.targetId,l=e.Vt.count,u=this.se(s);if(u){const m=u.target;if(nd(m))if(0===l){const M=new dn(m.path);this.Yt(s,M,fe.newNoDocument(M,Wn.min()))}else tr(1===l);else{const M=this.ie(s);if(M!==l){const j=this.re(e,M);0!==j&&(this.ee(s),this.Wt=this.Wt.insert(s,2===j?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Bn.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(ie,_e,Le){var pt,xt,ln,Tn,Pn,Ii;const Ai={localCacheCount:_e,existenceFilterCount:Le.count},Pr=Le.unchangedNames;return Pr&&(Ai.bloomFilter={applied:0===ie,hashCount:null!==(pt=Pr?.hashCount)&&void 0!==pt?pt:0,bitmapLength:null!==(Tn=null===(ln=null===(xt=Pr?.bits)||void 0===xt?void 0:xt.bitmap)||void 0===ln?void 0:ln.length)&&void 0!==Tn?Tn:0,padding:null!==(Ii=null===(Pn=Pr?.bits)||void 0===Pn?void 0:Pn.padding)&&void 0!==Ii?Ii:0}),Ai}(j,M,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:l}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:m=0},hashCount:M=0}=s;let j,ie;try{j=On(u).toUint8Array()}catch(_e){if(_e instanceof Se)return ho("Decoding the base64 bloom filter in existence filter failed ("+_e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _e}try{ie=new ia(j,m,M)}catch(_e){return ho(_e instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",_e),1}return 0===ie.It?1:l!==n-this.oe(e.targetId,ie)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let l=0;return s.forEach(u=>{const m=this.Gt.ue(),M=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;n.vt(M)||(this.Yt(e,u,null),l++)}),l}ce(e){const n=new Map;this.Qt.forEach((u,m)=>{const M=this.se(m);if(M){if(u.current&&nd(M.target)){const j=new dn(M.target.path);null!==this.jt.get(j)||this.ae(m,j)||this.Yt(m,j,fe.newNoDocument(j,e))}u.Mt&&(n.set(m,u.Ot()),u.Ft())}});let s=Sr();this.zt.forEach((u,m)=>{let M=!0;m.forEachWhile(j=>{const ie=this.se(j);return!ie||"TargetPurposeLimboResolution"===ie.purpose||(M=!1,!1)}),M&&(s=s.add(u))}),this.jt.forEach((u,m)=>m.setReadTime(e));const l=new oc(e,n,this.Wt,this.jt,s);return this.jt=Qn(),this.zt=ad(),this.Wt=new is(Rn),l}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,n)?l.Bt(n,1):l.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new eu,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ji(Rn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||sn("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eu),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function ad(){return new is(dn.comparator)}function xd(){return new is(dn.comparator)}const hg={asc:"ASCENDING",desc:"DESCENDING"},zp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qh={and:"AND",or:"OR"};class gv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lf(i,e){return i.useProto3Json||Ja(e)?e:{value:e}}function rh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _v(i,e){return rh(i,e.toTimestamp())}function ga(i){return tr(!!i),Wn.fromTimestamp(function(e){const n=Yt(e);return new ji(n.seconds,n.nanos)}(i))}function Vf(i,e){return(n=i,new Si(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Kh(i){const e=Si.fromString(i);return tr(Eg(e)),e}function Td(i,e){return Vf(i.databaseId,e.path)}function ql(i,e){const n=Kh(e);if(n.get(1)!==i.databaseId.projectId)throw new w(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new w(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new dn(mg(n))}function $p(i,e){return Vf(i.databaseId,e)}function pg(i){const e=Kh(i);return 4===e.length?Si.emptyPath():mg(e)}function Uf(i){return new Si(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function mg(i){return tr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Bf(i,e,n){return{name:Td(i,e),fields:n.value.mapValue.fields}}function gg(i,e,n){const s=ql(i,e.name),l=ga(e.updateTime),u=e.createTime?ga(e.createTime):Wn.min(),m=new D({mapValue:{fields:e.fields}}),M=fe.newFoundDocument(s,l,u,m);return n&&M.setHasCommittedMutations(),n?M.setHasCommittedMutations():M}function Dd(i,e){let n;if(e instanceof hu)n={update:Bf(i,e.key,e.value)};else if(e instanceof od)n={delete:Td(i,e.key)};else if(e instanceof sc)n={update:Bf(i,e.key,e.data),updateMask:Ev(e.fieldMask)};else{if(!(e instanceof B))return Gn();n={verify:Td(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const m=u.transform;if(m instanceof sr)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Or)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof so)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ra)return{fieldPath:u.field.canonicalString(),increment:m.gt};throw Gn()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:_v(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Gn()),n;var l}function Hf(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?ss.updateTime(ga(l.updateTime)):void 0!==l.exists?ss.exists(l.exists):ss.none():ss.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(u,m){let M=null;"setToServerValue"in m?(tr("REQUEST_TIME"===m.setToServerValue),M=new sr):"appendMissingElements"in m?M=new Or(m.appendMissingElements.values||[]):"removeAllFromArray"in m?M=new so(m.removeAllFromArray.values||[]):"increment"in m?M=new ra(u,m.increment):Gn();const j=Oi.fromServerFormat(m.fieldPath);return new Wl(j,M)}(i,l)):[];var l;if(e.update){const l=ql(i,e.update.name),u=new D({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new se((e.updateMask.fieldPaths||[]).map(ie=>Oi.fromServerFormat(ie)));return new sc(l,u,m,n,s)}return new hu(l,u,n,s)}if(e.delete){const l=ql(i,e.delete);return new od(l,n)}if(e.verify){const l=ql(i,e.verify);return new B(l,n)}return Gn()}function Gp(i,e){return{documents:[$p(i,e.path)]}}function Fu(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=$p(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$p(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(j){if(0!==j.length)return bg(nr.create(j,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(j){if(0!==j.length)return j.map(ie=>{return{field:bc((_e=ie).field),direction:yv(_e.dir)};var _e})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Lf(i,e.limit);var M,j;return null!==m&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),n}function vg(i){let e=pg(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){tr(1===s);const _e=n.from[0];_e.allDescendants?l=_e.collectionId:e=e.child(_e.collectionId)}let u=[];n.where&&(u=function(_e){const Le=yg(_e);return Le instanceof nr&&Da(Le)?Le.getFilters():[Le]}(n.where));let m=[];n.orderBy&&(m=n.orderBy.map(_e=>{return new Jt(sh((Le=_e).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Le.direction));var Le}));let M=null;n.limit&&(M=function(_e){let Le;return Le="object"==typeof _e?_e.value:_e,Ja(Le)?null:Le}(n.limit));let j=null;var _e;n.startAt&&(j=new Be((_e=n.startAt).values||[],!!_e.before));let ie=null;return n.endAt&&(ie=function(_e){return new Be(_e.values||[],!_e.before)}(n.endAt)),Xd(e,l,m,u,M,"F",j,ie)}function yg(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=sh(e.unaryFilter.field);return wn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=sh(e.unaryFilter.field);return wn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sh(e.unaryFilter.field);return wn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sh(e.unaryFilter.field);return wn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Gn()}}(i):void 0!==i.fieldFilter?wn.create(sh((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return nr.create(e.compositeFilter.filters.map(n=>yg(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Gn()}}(e.compositeFilter.op))}(i):Gn();var e}function yv(i){return hg[i]}function bv(i){return zp[i]}function Lu(i){return qh[i]}function bc(i){return{fieldPath:i.canonicalString()}}function sh(i){return Oi.fromServerFormat(i.fieldPath)}function bg(i){return i instanceof wn?function(e){if("=="===e.op){if(Jc(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NAN"}};if(cu(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jc(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NAN"}};if(cu(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(e.field),op:bv(e.op),value:e.value}}}(i):i instanceof nr?function(e){const n=e.getFilters().map(s=>bg(s));return 1===n.length?n[0]:{compositeFilter:{op:Lu(e.op),filters:n}}}(i):Gn()}function Ev(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Eg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Vu{constructor(e,n,s,l,u=Wn.min(),m=Wn.min(),M=ft.EMPTY_BYTE_STRING,j=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=M,this.expectedCount=j}withSequenceNumber(e){return new Vu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wg{constructor(e){this.fe=e}}function Cg(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Td(l=i.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:rh(l,u.version.toTimestamp()),createTime:rh(l,u.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Sd(e.version)};else{if(!e.isUnknownDocument())return Gn();s.unknownDocument={path:n.path.toArray(),version:Sd(e.version)}}var l,u;return s}function zf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Sd(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ad(i){const e=new ji(i.seconds,i.nanoseconds);return Wn.fromTimestamp(e)}function fu(i,e){const n=(e.baseMutations||[]).map(u=>Hf(i.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const s=e.mutations.map(u=>Hf(i.fe,u)),l=ji.fromMillis(e.localWriteTimeMs);return new h(e.batchId,l,n,s)}function Ec(i){const e=Ad(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Ad(i.lastLimboFreeSnapshotVersion):Wn.min();let s;var l;return void 0!==i.query.documents?(tr(1===(l=i.query).documents.length),s=C(sd(pg(l.documents[0])))):s=C(vg(i.query)),new Vu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,ft.fromBase64String(i.resumeToken))}function oh(i,e){const n=Sd(e.snapshotVersion),s=Sd(e.lastLimboFreeSnapshotVersion);let l;l=nd(e.target)?Gp(i.fe,e.target):Fu(i.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function $f(i){const e=vg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?N(e,e.limit,"L"):e}function Gf(i,e){return new I(e.largestBatchId,Hf(i.fe,e.overlayMutation))}function Wp(i,e){const n=e.path.lastSegment();return[i,Fo(e.path.popLast()),n]}function wv(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:Sd(s.readTime),documentKey:Fo(s.documentKey.path),largestBatchId:s.largestBatchId}}class Rb{getBundleMetadata(e,n){return Iv(e).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Ad(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return Iv(e).put({bundleId:(s=n).id,createTime:Sd(ga(s.createTime)),version:s.version});var s}getNamedQuery(e,n){return Wf(e).get(n).next(s=>{if(s)return{name:(l=s).name,query:$f(l.bundledQuery),readTime:Ad(l.readTime)};var l})}saveNamedQuery(e,n){return Wf(e).put({name:(s=n).name,readTime:Sd(ga(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Iv(i){return js(i,"bundles")}function Wf(i){return js(i,"namedQueries")}class ah{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new ah(e,n.uid||"")}getOverlay(e,n){return qf(e).get(Wp(this.userId,n)).next(s=>s?Gf(this.serializer,s):null)}getOverlays(e,n){const s=Is();return Ot.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((u,m)=>{const M=new I(n,m);l.push(this.we(e,M))}),Ot.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(m=>l.add(Fo(m.getCollectionPath())));const u=[];return l.forEach(m=>{const M=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);u.push(qf(e).J("collectionPathOverlayIndex",M))}),Ot.waitFor(u)}getOverlaysForCollection(e,n,s){const l=Is(),u=Fo(n),m=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return qf(e).j("collectionPathOverlayIndex",m).next(M=>{for(const j of M){const ie=Gf(this.serializer,j);l.set(ie.getKey(),ie)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const u=Is();let m;const M=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return qf(e).X({index:"collectionGroupOverlayIndex",range:M},(j,ie,_e)=>{const Le=Gf(this.serializer,ie);u.size()<l||Le.largestBatchId===m?(u.set(Le.getKey(),Le),m=Le.largestBatchId):_e.done()}).next(()=>u)}we(e,n){return qf(e).put(function(s,l,u){const[m,M,j]=Wp(l,u.mutation.key);return{userId:l,collectionPath:M,documentId:j,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Dd(s.fe,u.mutation)}}(this.serializer,this.userId,n))}}function qf(i){return js(i,"documentOverlays")}class lh{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Xt(e.integerValue));else if("doubleValue"in e){const s=Xt(e.doubleValue);isNaN(s)?this.ye(n,13):(this.ye(n,15),Rl(s)?n.pe(0):n.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(n,20),"string"==typeof s?n.Ie(s):(n.Ie(`${s.seconds||""}`),n.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(On(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(n,45),n.pe(s.latitude||0),n.pe(s.longitude||0)}else"mapValue"in e?Xu(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Gn()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const s=e.fields||{};this.ye(n,55);for(const l of Object.keys(s))this.Te(l,n),this.me(s[l],n)}Pe(e,n){const s=e.values||[];this.ye(n,50);for(const l of s)this.me(l,n)}ve(e,n){this.ye(n,37),dn.fromName(e).path.forEach(s=>{this.ye(n,60),this.be(s,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function xg(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Tg(i){const e=64-function(n){let s=0;for(let l=0;l<8;++l){const u=xg(255&n[l]);if(s+=u,8!==u)break}return s}(i);return Math.ceil(e/8)}lh.Ve=new lh;class Cv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.De(s.value),s=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ne(s.value),s=n.next();this.ke()}Me(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const l=n.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const l=n.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const n=this.Fe(e),s=Tg(n);this.Be(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Le(e){const n=this.Fe(e),s=Tg(n);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class xv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Tv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ch{constructor(){this.je=new Cv,this.ze=new xv(this.je),this.We=new Tv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new pu(this.indexId,this.documentKey,this.arrayValue,s)}}function Uu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Kf(i.arrayValue,e.arrayValue),0!==n?n:(n=Kf(i.directionalValue,e.directionalValue),0!==n?n:dn.comparator(i.documentKey,e.documentKey)))}function Kf(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class Dv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const s=n;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){tr(e.collectionGroup===this.collectionId);const n=Ac(e);if(void 0!==n&&!this.en(n))return!1;const s=Al(e);let l=new Set,u=0,m=0;for(;u<s.length&&this.en(s[u]);++u)l=l.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const M=s[u];if(!this.nn(this.Ze,M)||!this.sn(this.Ye[m++],M))return!1}++u}for(;u<s.length;++u)if(m>=this.Ye.length||!this.sn(this.Ye[m++],s[u]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function ld(i){var e,n;if(tr(i instanceof wn||i instanceof nr),i instanceof wn){if(i instanceof Nu){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>wn.create(i.field,"==",u)))||[];return nr.create(l,"or")}return i}const s=i.filters.map(l=>ld(l));return nr.create(s,i.op)}function Sv(i){if(0===i.getFilters().length)return[];const e=Zp(ld(i));return tr(Kp(e)),qp(e)||Zh(e)?[e]:e.getFilters()}function qp(i){return i instanceof wn}function Zh(i){return i instanceof nr&&Da(i)}function Kp(i){return qp(i)||Zh(i)||function(e){if(e instanceof nr&&yl(e)){for(const n of e.getFilters())if(!qp(n)&&!Zh(n))return!1;return!0}return!1}(i)}function Zp(i){if(tr(i instanceof wn||i instanceof nr),i instanceof wn)return i;if(1===i.filters.length)return Zp(i.filters[0]);const e=i.filters.map(s=>Zp(s));let n=nr.create(e,i.op);return n=Zf(n),Kp(n)?n:(tr(n instanceof nr),tr(Fs(n)),tr(n.filters.length>1),n.filters.reduce((s,l)=>Yp(s,l)))}function Yp(i,e){let n;return tr(i instanceof wn||i instanceof nr),tr(e instanceof wn||e instanceof nr),n=i instanceof wn?e instanceof wn?nr.create([i,e],"and"):Dg(i,e):e instanceof wn?Dg(e,i):function(s,l){if(tr(s.filters.length>0&&l.filters.length>0),Fs(s)&&Fs(l))return Id(s,l.getFilters());const u=yl(s)?s:l,m=yl(s)?l:s,M=u.filters.map(j=>Yp(j,m));return nr.create(M,"or")}(i,e),Zf(n)}function Dg(i,e){if(Fs(e))return Id(e,i.getFilters());{const n=e.filters.map(s=>Yp(i,s));return nr.create(n,"or")}}function Zf(i){if(tr(i instanceof wn||i instanceof nr),i instanceof wn)return i;const e=i.getFilters();if(1===e.length)return Zf(e[0]);if(Lo(i))return i;const n=e.map(l=>Zf(l)),s=[];return n.forEach(l=>{l instanceof wn?s.push(l):l instanceof nr&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:nr.create(s,i.op)}class Sg{constructor(){this.rn=new Ag}addToCollectionParentIndex(e,n){return this.rn.add(n),Ot.resolve()}getCollectionParents(e,n){return Ot.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ot.resolve()}deleteFieldIndex(e,n){return Ot.resolve()}getDocumentsMatchingTarget(e,n){return Ot.resolve(null)}getIndexType(e,n){return Ot.resolve(0)}getFieldIndexes(e,n){return Ot.resolve([])}getNextCollectionGroupToUpdate(e){return Ot.resolve(null)}getMinOffset(e,n){return Ot.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return Ot.resolve(Ps.min())}updateCollectionGroup(e,n,s){return Ot.resolve()}updateIndexEntries(e,n){return Ot.resolve()}}class Ag{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ji(Si.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ji(Si.comparator)).toArray()}}const Qp=new Uint8Array(0);class Yh{constructor(e,n){this.user=e,this.databaseId=n,this.on=new Ag,this.un=new Nr(s=>Vc(s),(s,l)=>td(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const u={collectionId:s,parent:Fo(l)};return Ts(e).put(u)}return Ot.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Ia(n),""],!1,!0);return Ts(e).j(l).next(u=>{for(const m of u){if(m.collectionId!==n)break;s.push(cl(m.parent))}return s})}addFieldIndex(e,n){const s=Qh(e),l={indexId:(m=n).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var m;delete l.indexId;const u=s.add(l);if(n.indexState){const m=uh(e);return u.next(M=>{m.put(wv(M,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const s=Qh(e),l=uh(e),u=Bu(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const s=Bu(e);let l=!0;const u=new Map;return Ot.forEach(this.cn(n),m=>this.an(e,m).next(M=>{l&&(l=!!M),u.set(m,M)})).next(()=>{if(l){let m=Sr();const M=[];return Ot.forEach(u,(j,ie)=>{var _e;sn("IndexedDbIndexManager",`Using index ${_e=j,`id=${_e.indexId}|cg=${_e.collectionGroup}|f=${_e.fields.map(Pr=>`${Pr.fieldPath}:${Pr.kind}`).join(",")}`} to execute ${Vc(n)}`);const Le=function(Pr,wi){const Ds=Ac(wi);if(void 0===Ds)return null;for(const Yo of rd(Pr,Ds.fieldPath))switch(Yo.op){case"array-contains-any":return Yo.value.arrayValue.values||[];case"array-contains":return[Yo.value]}return null}(ie,j),pt=function(Pr,wi){const Ds=new Map;for(const Yo of Al(wi))for(const El of rd(Pr,Yo.fieldPath))switch(El.op){case"==":case"in":Ds.set(Yo.fieldPath.canonicalString(),El.value);break;case"not-in":case"!=":return Ds.set(Yo.fieldPath.canonicalString(),El.value),Array.from(Ds.values())}return null}(ie,j),xt=function(Pr,wi){const Ds=[];let Yo=!0;for(const El of Al(wi)){const Cu=0===El.kind?id(Pr,El.fieldPath,Pr.startAt):zh(Pr,El.fieldPath,Pr.startAt);Ds.push(Cu.value),Yo&&(Yo=Cu.inclusive)}return new Be(Ds,Yo)}(ie,j),ln=function(Pr,wi){const Ds=[];let Yo=!0;for(const El of Al(wi)){const Cu=0===El.kind?zh(Pr,El.fieldPath,Pr.endAt):id(Pr,El.fieldPath,Pr.endAt);Ds.push(Cu.value),Yo&&(Yo=Cu.inclusive)}return new Be(Ds,Yo)}(ie,j),Tn=this.hn(j,ie,xt),Pn=this.hn(j,ie,ln),Ii=this.ln(j,ie,pt),Ai=this.fn(j.indexId,Le,Tn,xt.inclusive,Pn,ln.inclusive,Ii);return Ot.forEach(Ai,Pr=>s.H(Pr,n.limit).next(wi=>{wi.forEach(Ds=>{const Yo=dn.fromSegments(Ds.documentKey);m.has(Yo)||(m=m.add(Yo),M.push(Yo))})}))}).next(()=>M)}return Ot.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Sv(nr.create(e.filters,"and")).map(s=>Qd(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,s,l,u,m,M){const j=(null!=n?n.length:1)*Math.max(s.length,u.length),ie=j/(null!=n?n.length:1),_e=[];for(let Le=0;Le<j;++Le){const pt=n?this.dn(n[Le/ie]):Qp,xt=this.wn(e,pt,s[Le%ie],l),ln=this._n(e,pt,u[Le%ie],m),Tn=M.map(Pn=>this.wn(e,pt,Pn,!0));_e.push(...this.createRange(xt,ln,Tn))}return _e}wn(e,n,s,l){const u=new pu(e,dn.empty(),n,s);return l?u:u.Je()}_n(e,n,s,l){const u=new pu(e,dn.empty(),n,s);return l?u.Je():u}an(e,n){const s=new Dv(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let m=null;for(const M of u)s.tn(M)&&(!m||M.fields.length>m.fields.length)&&(m=M);return m})}getIndexType(e,n){let s=2;const l=this.cn(n);return Ot.forEach(l,u=>this.an(e,u).next(m=>{m?0!==s&&m.fields.length<function(M){let j=new Ji(Oi.comparator),ie=!1;for(const _e of M.filters)for(const Le of _e.getFlattenedFilters())Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?ie=!0:j=j.add(Le.field));for(const _e of M.orderBy)_e.field.isKeyField()||(j=j.add(_e.field));return j.size+(ie?1:0)}(u)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}mn(e,n){const s=new ch;for(const l of Al(e)){const u=n.data.field(l.fieldPath);if(null==u)return null;const m=s.He(l.kind);lh.Ve._e(u,m)}return s.Qe()}dn(e){const n=new ch;return lh.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const s=new ch;return lh.Ve._e(mc(this.databaseId,n),s.He(function(l){const u=Al(l);return 0===u.length?0:u[u.length-1].kind}(e))),s.Qe()}ln(e,n,s){if(null===s)return[];let l=[];l.push(new ch);let u=0;for(const m of Al(e)){const M=s[u++];for(const j of l)if(this.yn(n,m.fieldPath)&&Ta(M))l=this.pn(l,m,M);else{const ie=j.He(m.kind);lh.Ve._e(M,ie)}}return this.In(l)}hn(e,n,s){return this.ln(e,n,s.position)}In(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Qe();return n}pn(e,n,s){const l=[...e],u=[];for(const m of s.arrayValue.values||[])for(const M of l){const j=new ch;j.seed(M.Qe()),lh.Ve._e(m,j.He(n.kind)),u.push(j)}return u}yn(e,n){return!!e.filters.find(s=>s instanceof wn&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Qh(e),l=uh(e);return(n?s.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.j()).next(u=>{const m=[];return Ot.forEach(u,M=>l.get([M.indexId,this.uid]).next(j=>{m.push(function(ie,_e){const Le=_e?new Ml(_e.sequenceNumber,new Ps(Ad(_e.readTime),new dn(cl(_e.documentKey)),_e.largestBatchId)):Ml.empty(),pt=ie.fields.map(([xt,ln])=>new Ca(Oi.fromServerFormat(xt),ln));return new ua(ie.indexId,ie.collectionGroup,pt,Le)}(M,j))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const u=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:Rn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Qh(e),u=uh(e);return this.Tn(e).next(m=>l.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>Ot.forEach(M,j=>u.put(wv(j.indexId,this.user,m,s)))))}updateIndexEntries(e,n){const s=new Map;return Ot.forEach(n,(l,u)=>{const m=s.get(l.collectionGroup);return(m?Ot.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(s.set(l.collectionGroup,M),Ot.forEach(M,j=>this.En(e,l,j).next(ie=>{const _e=this.An(u,j);return ie.isEqual(_e)?Ot.resolve():this.vn(e,u,j,ie,_e)}))))})}Rn(e,n,s,l){return Bu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(s,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,s,l){return Bu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(s,n.key),n.key.path.toArray()])}En(e,n,s){const l=Bu(e);let u=new Ji(Uu);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,n)])},(m,M)=>{u=u.add(new pu(s.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>u)}An(e,n){let s=new Ji(Uu);const l=this.mn(n,e);if(null==l)return s;const u=Ac(n);if(null!=u){const m=e.data.field(u.fieldPath);if(Ta(m))for(const M of m.arrayValue.values||[])s=s.add(new pu(n.indexId,e.key,this.dn(M),l))}else s=s.add(new pu(n.indexId,e.key,Qp,l));return s}vn(e,n,s,l,u){sn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const m=[];return function(M,j,ie,_e,Le){const pt=M.getIterator(),xt=j.getIterator();let ln=Y(pt),Tn=Y(xt);for(;ln||Tn;){let Pn=!1,Ii=!1;if(ln&&Tn){const Ai=ie(ln,Tn);Ai<0?Ii=!0:Ai>0&&(Pn=!0)}else null!=ln?Ii=!0:Pn=!0;Pn?(_e(Tn),Tn=Y(xt)):Ii?(Le(ln),ln=Y(pt)):(ln=Y(pt),Tn=Y(xt))}}(l,u,Uu,M=>{m.push(this.Rn(e,n,s,M))},M=>{m.push(this.Pn(e,n,s,M))}),Ot.waitFor(m)}Tn(e){let n=1;return uh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((m,M)=>Uu(m,M)).filter((m,M,j)=>!M||0!==Uu(m,j[M-1]));const l=[];l.push(e);for(const m of s){const M=Uu(m,e),j=Uu(m,n);if(0===M)l[0]=e.Je();else if(M>0&&j<0)l.push(m),l.push(m.Je());else if(j>0)break}l.push(n);const u=[];for(let m=0;m<l.length;m+=2){if(this.bn(l[m],l[m+1]))return[];u.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,Qp,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,Qp,[]]))}return u}bn(e,n){return Uu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Yf)}getMinOffset(e,n){return Ot.mapArray(this.cn(n),s=>this.an(e,s).next(l=>l||Gn())).next(Yf)}}function Ts(i){return js(i,"collectionParents")}function Bu(i){return js(i,"indexEntries")}function Qh(i){return js(i,"indexConfiguration")}function uh(i){return js(i,"indexState")}function Yf(i){tr(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Wo(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Ps(e.readTime,e.documentKey,n)}const Xp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Nl{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Nl(e,Nl.DEFAULT_COLLECTION_PERCENTILE,Nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jp(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),u=[],m=IDBKeyRange.only(n.batchId);let M=0;const j=s.X({range:m},(_e,Le,pt)=>(M++,pt.delete()));u.push(j.next(()=>{tr(1===M)}));const ie=[];for(const _e of n.mutations){const Le=xa(e,_e.key.path,n.batchId);u.push(l.delete(Le)),ie.push(_e.key)}return Ot.waitFor(u).next(()=>ie)}function Xh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Gn();e=i.noDocument}return JSON.stringify(e).length}Nl.DEFAULT_COLLECTION_PERCENTILE=10,Nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nl.DEFAULT=new Nl(41943040,Nl.DEFAULT_COLLECTION_PERCENTILE,Nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nl.DISABLED=new Nl(-1,0,0);class Md{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Vn={}}static de(e,n,s,l){tr(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Md(u,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mu(e).X({index:"userMutationsIndex",range:s},(l,u,m)=>{n=!1,m.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const u=dh(e),m=mu(e);return m.add({}).next(M=>{tr("number"==typeof M);const j=new h(M,n,s,l),ie=function(pt,xt,ln){const Tn=ln.baseMutations.map(Ii=>Dd(pt.fe,Ii)),Pn=ln.mutations.map(Ii=>Dd(pt.fe,Ii));return{userId:xt,batchId:ln.batchId,localWriteTimeMs:ln.localWriteTime.toMillis(),baseMutations:Tn,mutations:Pn}}(this.serializer,this.userId,j),_e=[];let Le=new Ji((pt,xt)=>Rn(pt.canonicalString(),xt.canonicalString()));for(const pt of l){const xt=xa(this.userId,pt.key.path,M);Le=Le.add(pt.key.path.popLast()),_e.push(m.put(ie)),_e.push(u.put(xt,Yu))}return Le.forEach(pt=>{_e.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.Vn[M]=j.keys()}),Ot.waitFor(_e).next(()=>j)})}lookupMutationBatch(e,n){return mu(e).get(n).next(s=>s?(tr(s.userId===this.userId),fu(this.serializer,s)):null)}Sn(e,n){return this.Vn[n]?Ot.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Vn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return mu(e).X({index:"userMutationsIndex",range:l},(m,M,j)=>{M.userId===this.userId&&(tr(M.batchId>=s),u=fu(this.serializer,M)),j.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return mu(e).X({index:"userMutationsIndex",range:n,reverse:!0},(l,u,m)=>{s=u.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mu(e).j("userMutationsIndex",n).next(s=>s.map(l=>fu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=qc(this.userId,n.path),l=IDBKeyRange.lowerBound(s),u=[];return dh(e).X({range:l},(m,M,j)=>{const[ie,_e,Le]=m,pt=cl(_e);if(ie===this.userId&&n.path.isEqual(pt))return mu(e).get(Le).next(xt=>{if(!xt)throw Gn();tr(xt.userId===this.userId),u.push(fu(this.serializer,xt))});j.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ji(Rn);const l=[];return n.forEach(u=>{const m=qc(this.userId,u.path),M=IDBKeyRange.lowerBound(m),j=dh(e).X({range:M},(ie,_e,Le)=>{const[pt,xt,ln]=ie,Tn=cl(xt);pt===this.userId&&u.path.isEqual(Tn)?s=s.add(ln):Le.done()});l.push(j)}),Ot.waitFor(l).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,u=qc(this.userId,s),m=IDBKeyRange.lowerBound(u);let M=new Ji(Rn);return dh(e).X({range:m},(j,ie,_e)=>{const[Le,pt,xt]=j,ln=cl(pt);Le===this.userId&&s.isPrefixOf(ln)?ln.length===l&&(M=M.add(xt)):_e.done()}).next(()=>this.Dn(e,M))}Dn(e,n){const s=[],l=[];return n.forEach(u=>{l.push(mu(e).get(u).next(m=>{if(null===m)throw Gn();tr(m.userId===this.userId),s.push(fu(this.serializer,m))}))}),Ot.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return Jp(e.ht,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Ot.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ot.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return dh(e).X({range:s},(u,m,M)=>{if(u[0]===this.userId){const j=cl(u[1]);l.push(j)}else M.done()}).next(()=>{tr(0===l.length)})})}containsKey(e,n){return Av(e,this.userId,n)}xn(e){return Qf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Av(i,e,n){const s=qc(e,n.path),l=s[1],u=IDBKeyRange.lowerBound(s);let m=!1;return dh(i).X({range:u,Y:!0},(M,j,ie)=>{const[_e,Le,pt]=M;_e===e&&Le===l&&(m=!0),ie.done()}).next(()=>m)}function mu(i){return js(i,"mutations")}function dh(i){return js(i,"documentMutations")}function Qf(i){return js(i,"mutationQueues")}class cd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cd(0)}static Mn(){return new cd(-1)}}class Mg{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const s=new cd(n.highestTargetId);return n.highestTargetId=s.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Wn.fromTimestamp(new ji(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.$n(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.On(e,l)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(n,s),this.On(e,s))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>jc(e).delete(n.targetId)).next(()=>this.$n(e)).next(s=>(tr(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,n,s){let l=0;const u=[];return jc(e).X((m,M)=>{const j=Ec(M);j.sequenceNumber<=n&&null===s.get(j.targetId)&&(l++,u.push(this.removeTargetData(e,j)))}).next(()=>Ot.waitFor(u)).next(()=>l)}forEachTarget(e,n){return jc(e).X((s,l)=>{const u=Ec(l);n(u)})}$n(e){return Rg(e).get("targetGlobalKey").next(n=>(tr(null!==n),n))}On(e,n){return Rg(e).put("targetGlobalKey",n)}Fn(e,n){return jc(e).put(oh(this.serializer,n))}Bn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Vc(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return jc(e).X({range:l,index:"queryTargetsIndex"},(m,M,j)=>{const ie=Ec(M);td(n,ie.target)&&(u=ie,j.done())}).next(()=>u)}addMatchingKeys(e,n,s){const l=[],u=gu(e);return n.forEach(m=>{const M=Fo(m.path);l.push(u.put({targetId:s,path:M})),l.push(this.referenceDelegate.addReference(e,s,m))}),Ot.waitFor(l)}removeMatchingKeys(e,n,s){const l=gu(e);return Ot.forEach(n,u=>{const m=Fo(u.path);return Ot.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(e,s,u)])})}removeMatchingKeysForTargetId(e,n){const s=gu(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=gu(e);let u=Sr();return l.X({range:s,Y:!0},(m,M,j)=>{const ie=cl(m[1]),_e=new dn(ie);u=u.add(_e)}).next(()=>u)}containsKey(e,n){const s=Fo(n.path),l=IDBKeyRange.bound([s],[Ia(s)],!1,!0);let u=0;return gu(e).X({index:"documentTargetsIndex",Y:!0,range:l},([m,M],j,ie)=>{0!==m&&(u++,ie.done())}).next(()=>u>0)}le(e,n){return jc(e).get(n).next(s=>s?Ec(s):null)}}function jc(i){return js(i,"targets")}function Rg(i){return js(i,"targetGlobal")}function gu(i){return js(i,"targetDocuments")}function Jh([i,e],[n,s]){const l=Rn(i,n);return 0===l?Rn(e,s):l}class Mv{constructor(e){this.Ln=e,this.buffer=new Ji(Jh),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jh(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xf{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;sn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){jl(s)?sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ha(s)}yield n.Qn(3e5)}))}}class Jf{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Ot.resolve(ks.ct);const s=new Mv(n);return this.jn.forEachTarget(e,l=>s.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>s.Kn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(Xp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xp):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let s,l,u,m,M,j,ie;const _e=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Le=>(Le>this.params.maximumSequenceNumbersToCollect?(sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Le}`),l=this.params.maximumSequenceNumbersToCollect):l=Le,m=Date.now(),this.nthSequenceNumber(e,l))).next(Le=>(s=Le,M=Date.now(),this.removeTargets(e,s,n))).next(Le=>(u=Le,j=Date.now(),this.removeOrphanedDocuments(e,s))).next(Le=>(ie=Date.now(),Qa()<=Te.in.DEBUG&&sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-_e}ms\n\tDetermined least recently used ${l} in `+(M-m)+`ms\n\tRemoved ${u} targets in `+(j-M)+`ms\n\tRemoved ${Le} documents in `+(ie-j)+`ms\nTotal Duration: ${ie-_e}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:Le})))}}class ep{constructor(e,n){this.db=e,this.garbageCollector=function tu(i,e){return new Jf(i,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Jn(e){let n=0;return this.Wn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(s,l)=>n(l))}addReference(e,n,s){return hh(e,s)}removeReference(e,n,s){return hh(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return hh(e,n)}Xn(e,n){return function(s,l){let u=!1;return Qf(s).Z(m=>Av(s,m,l).next(M=>(M&&(u=!0),Ot.resolve(!M)))).next(()=>u)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(m,M)=>{if(M<=n){const j=this.Xn(e,m).next(ie=>{if(!ie)return u++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Wn.min()),gu(e).delete([0,Fo(m.path)])))});l.push(j)}}).next(()=>Ot.waitFor(l)).next(()=>s.apply(e)).next(()=>u)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return hh(e,n)}Yn(e,n){const s=gu(e);let l,u=ks.ct;return s.X({index:"documentTargetsIndex"},([m,M],{path:j,sequenceNumber:ie})=>{0===m?(u!==ks.ct&&n(new dn(cl(l)),u),u=ie,l=j):u=ks.ct}).next(()=>{u!==ks.ct&&n(new dn(cl(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hh(i,e){return gu(i).put((s=i.currentSequenceNumber,{targetId:0,path:Fo(e.path),sequenceNumber:s}));var s}class Og{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Ot.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Rd(e).put(s)}removeEntry(e,n,s){return Rd(e).delete(function(l,u){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],zf(u),m[m.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Zn(e,s)))}getEntry(e,n){let s=fe.newInvalidDocument(n);return Rd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ef(n))},(l,u)=>{s=this.ts(n,u)}).next(()=>s)}es(e,n){let s={size:0,document:fe.newInvalidDocument(n)};return Rd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ef(n))},(l,u)=>{s={document:this.ts(n,u),size:Xh(u)}}).next(()=>s)}getEntries(e,n){let s=Qn();return this.ns(e,n,(l,u)=>{const m=this.ts(l,u);s=s.insert(l,m)}).next(()=>s)}ss(e,n){let s=Qn(),l=new is(dn.comparator);return this.ns(e,n,(u,m)=>{const M=this.ts(u,m);s=s.insert(u,M),l=l.insert(u,Xh(m))}).next(()=>({documents:s,rs:l}))}ns(e,n,s){if(n.isEmpty())return Ot.resolve();let l=new Ji(tm);n.forEach(j=>l=l.add(j));const u=IDBKeyRange.bound(ef(l.first()),ef(l.last())),m=l.getIterator();let M=m.getNext();return Rd(e).X({index:"documentKeyIndex",range:u},(j,ie,_e)=>{const Le=dn.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;M&&tm(M,Le)<0;)s(M,null),M=m.getNext();M&&M.isEqual(Le)&&(s(M,ie),M=m.hasNext()?m.getNext():null),M?_e.G(ef(M)):_e.done()}).next(()=>{for(;M;)s(M,null),M=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,n,s,l){const u=n.path,m=[u.popLast().toArray(),u.lastSegment(),zf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rd(e).j(IDBKeyRange.bound(m,M,!0)).next(j=>{let ie=Qn();for(const _e of j){const Le=this.ts(dn.fromSegments(_e.prefixPath.concat(_e.collectionGroup,_e.documentId)),_e);Le.isFoundDocument()&&(it(n,Le)||l.has(Le.key))&&(ie=ie.insert(Le.key,Le))}return ie})}getAllFromCollectionGroup(e,n,s,l){let u=Qn();const m=tp(n,s),M=tp(n,Ps.max());return Rd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,M,!0)},(j,ie,_e)=>{const Le=this.ts(dn.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);u=u.insert(Le.key,Le),u.size===l&&_e.done()}).next(()=>u)}newChangeBuffer(e){return new fh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Pg(e).get("remoteDocumentGlobalKey").next(n=>(tr(!!n),n))}Zn(e,n){return Pg(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const s=function Ig(i,e){let n;if(e.document)n=gg(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=dn.fromSegments(e.noDocument.path),l=Ad(e.noDocument.readTime);n=fe.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Gn();{const s=dn.fromSegments(e.unknownDocument.path),l=Ad(e.unknownDocument.version);n=fe.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(s){const l=new ji(s[0],s[1]);return Wn.fromTimestamp(l)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(Wn.min()))return s}return fe.newInvalidDocument(e)}}function em(i){return new Rv(i)}class fh extends Og{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Nr(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Ji((u,m)=>Rn(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const M=this.us.get(u);if(n.push(this.os.removeEntry(e,u,M.readTime)),m.isValidDocument()){const j=Cg(this.os.serializer,m);l=l.add(u.path.popLast());const ie=Xh(j);s+=ie-M.size,n.push(this.os.addEntry(e,u,j))}else if(s-=M.size,this.trackRemovals){const j=Cg(this.os.serializer,m.convertToNoDocument(Wn.min()));n.push(this.os.addEntry(e,u,j))}}),l.forEach(u=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.os.updateMetadata(e,s)),Ot.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(s=>(this.us.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:s,rs:l})=>(l.forEach((u,m)=>{this.us.set(u,{size:m,readTime:s.get(u).readTime})}),s))}}function Pg(i){return js(i,"remoteDocumentGlobal")}function Rd(i){return js(i,"remoteDocumentsV14")}function ef(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tp(i,e){const n=e.documentKey.path.toArray();return[i,zf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tm(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<s.length-2;++u)if(l=Rn(n[u],s[u]),l)return l;return l=Rn(n.length,s.length),l||(l=Rn(n[n.length-2],s[s.length-2]),l||Rn(n[n.length-1],s[s.length-1]))}class Ov{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nm{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Bc(s.mutation,l,se.empty(),ji.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Sr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Sr()){const l=Is();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(u=>{let m=Pi();return u.forEach((M,j)=>{m=m.insert(M,j.overlayedDocument)}),m}))}getOverlayedDocuments(e,n){const s=Is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Sr()))}populateOverlays(e,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((m,M)=>{n.set(m,M)})})}computeViews(e,n,s,l){let u=Qn();const m=Ls(),M=Ls();return n.forEach((j,ie)=>{const _e=s.get(ie.key);l.has(ie.key)&&(void 0===_e||_e.mutation instanceof sc)?u=u.insert(ie.key,ie):void 0!==_e?(m.set(ie.key,_e.mutation.getFieldMask()),Bc(_e.mutation,ie,_e.mutation.getFieldMask(),ji.now())):m.set(ie.key,se.empty())}),this.recalculateAndSaveOverlays(e,u).next(j=>(j.forEach((ie,_e)=>m.set(ie,_e)),n.forEach((ie,_e)=>{var Le;return M.set(ie,new Ov(_e,null!==(Le=m.get(ie))&&void 0!==Le?Le:null))}),M))}recalculateAndSaveOverlays(e,n){const s=Ls();let l=new is((m,M)=>m-M),u=Sr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(m=>{for(const M of m)M.keys().forEach(j=>{const ie=n.get(j);if(null===ie)return;let _e=s.get(j)||se.empty();_e=M.applyToLocalView(ie,_e),s.set(j,_e);const Le=(l.get(M.batchId)||Sr()).add(j);l=l.insert(M.batchId,Le)})}).next(()=>{const m=[],M=l.getReverseIterator();for(;M.hasNext();){const j=M.getNext(),ie=j.key,_e=j.value,Le=Sa();_e.forEach(pt=>{if(!u.has(pt)){const xt=du(n.get(pt),s.get(pt));null!==xt&&Le.set(pt,xt),u=u.add(pt)}}),m.push(this.documentOverlayCache.saveOverlays(e,ie,Le))}return Ot.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return dn.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):O(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s);var l}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):Ot.resolve(Is());let M=-1,j=u;return m.next(ie=>Ot.forEach(ie,(_e,Le)=>(M<Le.largestBatchId&&(M=Le.largestBatchId),u.get(_e)?Ot.resolve():this.remoteDocumentCache.getEntry(e,_e).next(pt=>{j=j.insert(_e,pt)}))).next(()=>this.populateOverlays(e,ie,u)).next(()=>this.computeViews(e,j,ie,Sr())).next(_e=>({batchId:M,changes:xo(_e)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dn(n)).next(s=>{let l=Pi();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const l=n.collectionGroup;let u=Pi();return this.indexManager.getCollectionParents(e,l).next(m=>Ot.forEach(m,M=>{const j=(ie=n,_e=M.child(l),new gc(_e,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,_e;return this.getDocumentsMatchingCollectionQuery(e,j,s).next(ie=>{ie.forEach((_e,Le)=>{u=u.insert(_e,Le)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l))).next(u=>{l.forEach((M,j)=>{const ie=j.getKey();null===u.get(ie)&&(u=u.insert(ie,fe.newInvalidDocument(ie)))});let m=Pi();return u.forEach((M,j)=>{const ie=l.get(M);void 0!==ie&&Bc(ie.mutation,j,se.empty(),ji.now()),it(n,j)&&(m=m.insert(M,j))}),m})}}class rm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ot.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:ga(s.createTime)}),Ot.resolve()}getNamedQuery(e,n){return Ot.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(s=n).name,query:$f(s.bundledQuery),readTime:ga(s.readTime)}),Ot.resolve();var s}}class Ob{constructor(){this.overlays=new is(dn.comparator),this.ls=new Map}getOverlay(e,n){return Ot.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Is();return Ot.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&s.set(l,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,u)=>{this.we(e,n,u)}),Ot.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.ls.get(s);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),Ot.resolve()}getOverlaysForCollection(e,n,s){const l=Is(),u=n.length+1,m=new dn(n.child("")),M=this.overlays.getIteratorFrom(m);for(;M.hasNext();){const j=M.getNext().value,ie=j.getKey();if(!n.isPrefixOf(ie.path))break;ie.path.length===u&&j.largestBatchId>s&&l.set(j.getKey(),j)}return Ot.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new is((ie,_e)=>ie-_e);const m=this.overlays.getIterator();for(;m.hasNext();){const ie=m.getNext().value;if(ie.getKey().getCollectionGroup()===n&&ie.largestBatchId>s){let _e=u.get(ie.largestBatchId);null===_e&&(_e=Is(),u=u.insert(ie.largestBatchId,_e)),_e.set(ie.getKey(),ie)}}const M=Is(),j=u.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((ie,_e)=>M.set(ie,_e)),!(M.size()>=l)););return Ot.resolve(M)}we(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.ls.get(l.largestBatchId).delete(s.key);this.ls.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new I(n,s));let u=this.ls.get(n);void 0===u&&(u=Sr(),this.ls.set(n,u)),this.ls.set(n,u.add(s.key))}}class im{constructor(){this.fs=new Ji(ul.ds),this.ws=new Ji(ul._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new ul(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new ul(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new dn(new Si([])),s=new ul(n,e),l=new ul(n,e+1),u=[];return this.ws.forEachInRange([s,l],m=>{this.ys(m),u.push(m.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new dn(new Si([])),s=new ul(n,e),l=new ul(n,e+1);let u=Sr();return this.ws.forEachInRange([s,l],m=>{u=u.add(m.key)}),u}containsKey(e){const n=new ul(e,0),s=this.fs.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ul{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return dn.comparator(e.key,n.key)||Rn(e.As,n.As)}static _s(e,n){return Rn(e.As,n.As)||dn.comparator(e.key,n.key)}}class Pv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ji(ul.ds)}checkEmpty(e){return Ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const u=this.vs;this.vs++;const m=new h(u,n,s,l);this.mutationQueue.push(m);for(const M of l)this.Rs=this.Rs.add(new ul(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Ot.resolve(m)}lookupMutationBatch(e,n){return Ot.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.bs(n+1),u=l<0?0:l;return Ot.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ul(n,0),l=new ul(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,l],m=>{const M=this.Ps(m.As);u.push(M)}),Ot.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ji(Rn);return n.forEach(l=>{const u=new ul(l,0),m=new ul(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,m],M=>{s=s.add(M.As)})}),Ot.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;dn.isDocumentKey(u)||(u=u.child(""));const m=new ul(new dn(u),0);let M=new Ji(Rn);return this.Rs.forEachWhile(j=>{const ie=j.key.path;return!!s.isPrefixOf(ie)&&(ie.length===l&&(M=M.add(j.As)),!0)},m),Ot.resolve(this.Vs(M))}Vs(e){const n=[];return e.forEach(s=>{const l=this.Ps(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){tr(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ot.forEach(n.mutations,l=>{const u=new ul(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new ul(n,0),l=this.Rs.firstAfterOrEqual(s);return Ot.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Ot.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Pb{constructor(e){this.Ds=e,this.docs=new is(dn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,m=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Ot.resolve(s?s.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(e,n){let s=Qn();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():fe.newInvalidDocument(l))}),Ot.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=Qn();const m=n.path,M=new dn(m.child("")),j=this.docs.getIteratorFrom(M);for(;j.hasNext();){const{key:ie,value:{document:_e}}=j.getNext();if(!m.isPrefixOf(ie.path))break;ie.path.length>m.length+1||Wo(Mc(_e),s)<=0||(l.has(_e.key)||it(n,_e))&&(u=u.insert(_e.key,_e.mutableCopy()))}return Ot.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Gn()}Cs(e,n){return Ot.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kb(this)}getSize(e){return Ot.resolve(this.size)}}class kb extends Og{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.os.addEntry(e,l)):this.os.removeEntry(s)}),Ot.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class np{constructor(e){this.persistence=e,this.xs=new Nr(n=>Vc(n),td),this.lastRemoteSnapshotVersion=Wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new im,this.targetCount=0,this.Ms=cd.kn()}forEachTarget(e,n){return this.xs.forEach((s,l)=>n(l)),Ot.resolve()}getLastRemoteSnapshotVersion(e){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ot.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),Ot.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new cd(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ot.resolve()}updateTargetData(e,n){return this.Fn(n),Ot.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.xs.forEach((m,M)=>{M.sequenceNumber<=n&&null===s.get(M.targetId)&&(this.xs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),Ot.waitFor(u).next(()=>l)}getTargetCount(e){return Ot.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return Ot.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),Ot.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(m=>{u.push(l.markPotentiallyOrphaned(e,m))}),Ot.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ot.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return Ot.resolve(s)}containsKey(e,n){return Ot.resolve(this.ks.containsKey(n))}}class sm{constructor(e,n){this.$s={},this.overlays={},this.Os=new ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new np(this),this.indexManager=new Sg,this.remoteDocumentCache=new Pb(s=>this.referenceDelegate.Ls(s)),this.serializer=new wg(n),this.qs=new rm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ob,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new Pv(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){sn("MemoryPersistence","Starting transaction:",e);const l=new om(this.Os.next());return this.referenceDelegate.Us(),s(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,n){return Ot.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class om extends dc{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Qs=new im,this.js=null}static zs(e){return new ph(e)}get Ws(){if(this.js)return this.js;throw Gn()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),Ot.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),Ot.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ot.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(l=>this.Ws.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.Ws,s=>{const l=dn.fromPath(s);return this.Hs(e,l).next(u=>{u||n.removeEntry(l,Wn.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ot.or([()=>Ot.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class am{constructor(e){this.serializer=e}O(e,n,s,l){const u=new Rc("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Du,{unique:!0}),M.createObjectStore("documentMutations"),rp(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=Ot.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),rp(e)),m=m.next(()=>function(M){const j=M.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ie)}(u))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(M,j){return j.store("mutations").j().next(ie=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Du,{unique:!0});const _e=j.store("mutations"),Le=ie.map(pt=>_e.put(pt));return Ot.waitFor(Le)})}(e,u))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(m=m.next(()=>this.Ys(u))),s<6&&l>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),s<7&&l>=7&&(m=m.next(()=>this.Zs(u))),s<8&&l>=8&&(m=m.next(()=>this.ti(e,u))),s<9&&l>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(m=m.next(()=>this.ei(u))),s<11&&l>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(m=m.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:lu});j.createIndex("collectionPathOverlayIndex",pc,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Qu,{unique:!1})}(e)})),s<13&&l>=13&&(m=m.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:Ol});j.createIndex("documentKeyIndex",Kc),j.createIndex("collectionGroupIndex",Su)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(m=m.next(()=>this.si(e,u))),s<15&&l>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Nc}).createIndex("sequenceNumberIndex",Yc,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Fc}).createIndex("documentKeyIndex",bd,{unique:!1})}(e))),m}Xs(e){let n=0;return e.store("remoteDocuments").X((s,l)=>{n+=Xh(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.j().next(l=>Ot.forEach(l,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",m).next(M=>Ot.forEach(M,j=>{tr(j.userId===u.userId);const ie=fu(this.serializer,j);return Jp(e,u.userId,ie).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return s.X((m,M)=>{const j=new Si(m),ie=[0,Fo(j)];u.push(n.get(ie).next(_e=>_e?Ot.resolve():n.put({targetId:0,path:Fo(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Ot.waitFor(u))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:fc});const s=n.store("collectionParents"),l=new Ag,u=m=>{if(l.add(m)){const M=m.lastSegment(),j=m.popLast();return s.put({collectionId:M,parent:Fo(j)})}};return n.store("remoteDocuments").X({Y:!0},(m,M)=>{const j=new Si(m);return u(j.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([m,M,j],ie)=>{const _e=cl(M);return u(_e.popLast())}))}ei(e){const n=e.store("targets");return n.X((s,l)=>{const u=Ec(l),m=oh(this.serializer,u);return n.put(m)})}ni(e,n){const s=n.store("remoteDocuments"),l=[];return s.X((u,m)=>{const M=n.store("remoteDocumentsV14"),j=(ie=m,ie.document?new dn(Si.fromString(ie.document.name).popFirst(5)):ie.noDocument?dn.fromSegments(ie.noDocument.path):ie.unknownDocument?dn.fromSegments(ie.unknownDocument.path):Gn()).path.toArray();var ie;const _e={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};l.push(M.put(_e))}).next(()=>Ot.waitFor(l))}si(e,n){const s=n.store("mutations"),l=em(this.serializer),u=new sm(ph.zs,this.serializer.fe);return s.j().next(m=>{const M=new Map;return m.forEach(j=>{var ie;let _e=null!==(ie=M.get(j.userId))&&void 0!==ie?ie:Sr();fu(this.serializer,j).keys().forEach(Le=>_e=_e.add(Le)),M.set(j.userId,_e)}),Ot.forEach(M,(j,ie)=>{const _e=new ki(ie),Le=ah.de(this.serializer,_e),pt=u.getIndexManager(_e),xt=Md.de(_e,this.serializer,pt,u.referenceDelegate);return new nm(l,xt,Le,pt).recalculateAndSaveOverlaysForDocumentKeys(new gl(n,ks.ct),j).next()})})}}function rp(i){i.createObjectStore("targetDocuments",{keyPath:Zc}).createIndex("documentTargetsIndex",kc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hl,{unique:!0}),i.createObjectStore("targetGlobal")}const Od="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mh{constructor(e,n,s,l,u,m,M,j,ie,_e,Le=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.ii=u,this.window=m,this.document=M,this.ri=ie,this.oi=_e,this.ui=Le,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=pt=>Promise.resolve(),!mh.D())throw new w(Lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ep(this,l),this.di=n+"main",this.serializer=new wg(j),this.wi=new Bs(this.di,this.ui,new am(this.serializer)),this.Bs=new Mg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=em(this.serializer),this.qs=new Rb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===_e&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new w(Lt.FAILED_PRECONDITION,Od);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ks(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var s,n=this;return this.fi=function(l){return(s=s||(0,d.Z)(function*(u){if(n.started)return e(u)})).apply(this,arguments)},e(this.isPrimary)}setDatabaseDeletedListener(e){var n;this.wi.B(function(s){return(n=n||(0,d.Z)(function*(l){null===l.newVersion&&(yield e())})).apply(this,arguments)})}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,d.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(jl(e))return sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return _u(e).get("owner").next(n=>Ot.resolve(this.Ri(n)))}Pi(e){return gh(e).delete(this.clientId)}bi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=js(s,"clientMetadata");return l.j().next(u=>{const m=e.Si(u,18e5),M=u.filter(j=>-1===m.indexOf(j));return Ot.forEach(M,j=>l.delete(j.clientId)).next(()=>M)})}).catch(()=>[]);if(e._i)for(const s of n)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ot.resolve(!0):_u(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new w(Lt.FAILED_PRECONDITION,Od);return!1}}return!(!this.networkEnabled||!this.inForeground)||gh(e).j().next(s=>void 0===this.Si(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&sn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new gl(n,ks.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(s=>this.Vi(s.updateTimeMs,n)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gh(e).j().next(n=>this.Si(n,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Md.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Yh(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ah.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,s){sn("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",u=15===(m=this.ui)?ea:14===m?Mu:13===m?$l:12===m?zl:11===m?Au:void Gn();var m;let M;return this.wi.runTransaction(e,l,u,j=>(M=new gl(j,this.Os?this.Os.next():ks.ct),"readwrite-primary"===n?this.Ti(M).next(ie=>!!ie||this.Ei(M)).next(ie=>{if(!ie)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new w(Lt.FAILED_PRECONDITION,ec);return s(M)}).next(ie=>this.vi(M).next(()=>ie)):this.Oi(M).next(()=>s(M)))).then(j=>(M.raiseOnCommittedEvent(),j))}Oi(e){return _u(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new w(Lt.FAILED_PRECONDITION,Od)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _u(e).put("owner",n)}static D(){return Bs.D()}Ai(e){const n=_u(e);return n.get("owner").next(s=>this.Ri(s)?(sn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ot.resolve())}Vi(e,n){const s=Date.now();return!(e<s-n||e>s&&(cr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,b.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const s=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return sn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return cr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _u(i){return js(i,"owner")}function gh(i){return js(i,"clientMetadata")}function tf(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class _h{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=l}static Li(e,n){let s=Sr(),l=Sr();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _h(e,n.fromCache,s,l)}}class kv{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,l){return this.Ki(e,n).next(u=>u||this.Gi(e,n,l,s)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(Jd(n))return Ot.resolve(null);let s=C(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=N(n,null,"F"),s=C(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const m=Sr(...u);return this.Ui.getDocuments(e,m).next(M=>this.indexManager.getMinOffset(e,s).next(j=>{const ie=this.ji(n,M);return this.zi(n,ie,m,j.readTime)?this.Ki(e,N(n,null,"F")):this.Wi(e,ie,n,j)}))})))}Gi(e,n,s,l){return Jd(n)||l.isEqual(Wn.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(u=>{const m=this.ji(n,u);return this.zi(n,m,s,l)?this.Qi(e,n):(Qa()<=Te.in.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),He(n)),this.Wi(e,m,n,Xa(l,-1)))})}ji(e,n){let s=new Ji(Vn(e));return n.forEach((l,u)=>{it(e,u)&&(s=s.add(u))}),s}zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,n){return Qa()<=Te.in.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",He(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ps.min())}Wi(e,n,s,l){return this.Ui.getDocumentsMatchingQuery(e,s,l).next(u=>(n.forEach(m=>{u=u.insert(m.key,m)}),u))}}class lm{constructor(e,n,s,l){this.persistence=e,this.Hi=n,this.serializer=l,this.Ji=new is(Rn),this.Yi=new Nr(u=>Vc(u),td),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function vh(i,e,n,s){return new lm(i,e,n,s)}function kg(i,e){return(qr=qr||(0,d.Z)(function*(n,s){const l=Dn(n);return yield l.persistence.runTransaction("Handle user change","readonly",u=>{let m;return l.mutationQueue.getAllMutationBatches(u).next(M=>(m=M,l.tr(s),l.mutationQueue.getAllMutationBatches(u))).next(M=>{const j=[],ie=[];let _e=Sr();for(const Le of m){j.push(Le.batchId);for(const pt of Le.mutations)_e=_e.add(pt.key)}for(const Le of M){ie.push(Le.batchId);for(const pt of Le.mutations)_e=_e.add(pt.key)}return l.localDocuments.getDocuments(u,_e).next(Le=>({er:Le,removedBatchIds:j,addedBatchIds:ie}))})})})).apply(this,arguments)}function Fg(i){const e=Dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ip(i,e,n){let s=Sr(),l=Sr();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let m=Qn();return n.forEach((M,j)=>{const ie=u.get(M);j.isFoundDocument()!==ie.isFoundDocument()&&(l=l.add(M)),j.isNoDocument()&&j.version.isEqual(Wn.min())?(e.removeEntry(M,j.readTime),m=m.insert(M,j)):!ie.isValidDocument()||j.version.compareTo(ie.version)>0||0===j.version.compareTo(ie.version)&&ie.hasPendingWrites?(e.addEntry(j),m=m.insert(M,j)):sn("LocalStore","Ignoring outdated watch update for ",M,". Current version:",ie.version," Watch version:",j.version)}),{nr:m,sr:l}})}function Lg(i,e){const n=Dn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function yh(i,e){const n=Dn(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Bs.getTargetData(s,e).next(u=>u?(l=u,Ot.resolve(l)):n.Bs.allocateTargetId(s).next(m=>(l=new Vu(e,m,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ji.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}function bh(i,e,n){return(hs=hs||(0,d.Z)(function*(s,l,u){const m=Dn(s),M=m.Ji.get(l),j=u?"readwrite":"readwrite-primary";try{u||(yield m.persistence.runTransaction("Release target",j,ie=>m.persistence.referenceDelegate.removeTarget(ie,M)))}catch(ie){if(!jl(ie))throw ie;sn("LocalStore",`Failed to update sequence numbers for target ${l}: ${ie}`)}m.Ji=m.Ji.remove(l),m.Yi.delete(M.target)})).apply(this,arguments)}function cm(i,e,n){const s=Dn(i);let l=Wn.min(),u=Sr();return s.persistence.runTransaction("Execute query","readonly",m=>function(M,j,ie){const _e=Dn(M),Le=_e.Yi.get(ie);return void 0!==Le?Ot.resolve(_e.Ji.get(Le)):_e.Bs.getTargetData(j,ie)}(s,m,C(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(m,M.targetId).next(j=>{u=j})}).next(()=>s.Hi.getDocumentsMatchingQuery(m,e,n?l:Wn.min(),n?u:Sr())).next(M=>(sp(s,Nt(e),M),{documents:M,ir:u})))}function Vg(i,e){const n=Dn(i),s=Dn(n.Bs),l=n.Ji.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>s.le(u,e).next(m=>m?m.target:null))}function nf(i,e){const n=Dn(i),s=n.Xi.get(e)||Wn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.Zi.getAllFromCollectionGroup(l,e,Xa(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(sp(n,e,l),l))}function sp(i,e,n){let s=i.Xi.get(e)||Wn.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Xi.set(e,s)}function Ug(i,e){return(fs=fs||(0,d.Z)(function*(n,s,l=Sr()){const u=yield yh(n,C($f(s.bundledQuery))),m=Dn(n);return m.persistence.runTransaction("Save named query","readwrite",M=>{const j=ga(s.readTime);if(u.snapshotVersion.compareTo(j)>=0)return m.qs.saveNamedQuery(M,s);const ie=u.withResumeToken(ft.EMPTY_BYTE_STRING,j);return m.Ji=m.Ji.insert(ie.targetId,ie),m.Bs.updateTargetData(M,ie).next(()=>m.Bs.removeMatchingKeysForTargetId(M,u.targetId)).next(()=>m.Bs.addMatchingKeys(M,l,u.targetId)).next(()=>m.qs.saveNamedQuery(M,s))})})).apply(this,arguments)}function op(i,e){return`firestore_clients_${i}_${e}`}function rf(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function um(i,e){return`firestore_targets_${i}_${e}`}class sf{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static ar(e,n,s){const l=JSON.parse(s);let u,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(u=new w(l.error.code,l.error.message))),m?new sf(e,n,l.state,u):(cr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class af{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static ar(e,n){const s=JSON.parse(n);let l,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new w(s.error.code,s.error.message))),u?new af(e,s.state,l):(cr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,u=Aa();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=hc(s.activeTargetIds[m]),u=u.add(s.activeTargetIds[m]);return l?new lf(e,u):(cr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Bg{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Bg(n.clientId,n.onlineState):(cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dm{constructor(){this.activeTargetIds=Aa()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pd{constructor(e,n,s,l,u){this.window=e,this.ii=n,this.persistenceKey=s,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new is(Rn),this.started=!1,this.yr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=op(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new dm),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const n=yield e.syncEngine.$i();for(const l of n){if(l===e.wr)continue;const u=e.getItem(op(e.persistenceKey,l));if(u){const m=lf.ar(l,u);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const l=e.br(s);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,s){this.Dr(e,n,s),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(um(this.persistenceKey,e));if(s){const l=af.ar(e,s);l&&(n=l.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(um(this.persistenceKey,e))}updateQueryState(e,n,s){this.kr(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Cr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return sn("SharedClientState","READ",e,n),n}setItem(e,n){sn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const s=e;if(s.storageArea===this.storage){if(sn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,d.Z)(function*(){if(n.started){if(null!==s.key)if(n.Tr.test(s.key)){if(null==s.newValue){const l=n.Or(s.key);return n.Fr(l,null)}{const l=n.Br(s.key,s.newValue);if(l)return n.Fr(l.clientId,l)}}else if(n.Er.test(s.key)){if(null!==s.newValue){const l=n.Lr(s.key,s.newValue);if(l)return n.qr(l)}}else if(n.Ar.test(s.key)){if(null!==s.newValue){const l=n.Ur(s.key,s.newValue);if(l)return n.Kr(l)}}else if(s.key===n.vr){if(null!==s.newValue){const l=n.br(s.newValue);if(l)return n.Vr(l)}}else if(s.key===n.Ir){const l=function(u){let m=ks.ct;if(null!=u)try{const M=JSON.parse(u);tr("number"==typeof M),m=M}catch(M){cr("SharedClientState","Failed to read sequence number from WebStorage",M)}return m}(s.newValue);l!==ks.ct&&n.sequenceNumberHandler(l)}else if(s.key===n.Rr){const l=n.Gr(s.newValue);yield Promise.all(l.map(u=>n.syncEngine.Qr(u)))}}else n.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,s){const l=new sf(this.currentUser,e,n,s),u=rf(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const n=rf(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,s){const l=um(this.persistenceKey,e),u=new af(e,n,s);this.setItem(l,u.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const s=this.Or(e);return lf.ar(s,n)}Lr(e,n){const s=this.Er.exec(e),l=Number(s[1]);return sf.ar(new ki(void 0!==s[2]?s[2]:null),l,n)}Ur(e,n){const s=this.Ar.exec(e),l=Number(s[1]);return af.ar(l,n)}br(e){return Bg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,d.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const s=n?this.gr.insert(e,n):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(s),m=[],M=[];return u.forEach(j=>{l.has(j)||m.push(j)}),l.forEach(j=>{u.has(j)||M.push(j)}),this.syncEngine.Wr(m,M).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Aa();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class jg{constructor(){this.Hr=new dm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Eh{Yr(e){}shutdown(){}}class wh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ap=null;function lp(){return null===ap?ap=268435456+Math.round(2147483648*Math.random()):ap++,"0x"+ap.toString(16)}const Lv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Fl="WebChannelConnection";class Hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,l,u){const m=lp(),M=this.To(e,n);sn("RestConnection",`Sending RPC '${e}' ${m}:`,M,s);const j={};return this.Eo(j,l,u),this.Ao(e,M,j,s).then(ie=>(sn("RestConnection",`Received RPC '${e}' ${m}: `,ie),ie),ie=>{throw ho("RestConnection",`RPC '${e}' ${m} failed with error: `,ie,"url: ",M,"request:",s),ie})}vo(e,n,s,l,u,m){return this.Io(e,n,s,l,u)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),s&&s.headers.forEach((l,u)=>e[u]=l)}To(e,n){return`${this.mo}/v1/${n}:${Lv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,l){const u=lp();return new Promise((m,M)=>{const j=new En;j.setWithCredentials(!0),j.listenOnce(Ne.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case te.NO_ERROR:const _e=j.getResponseJson();sn(Fl,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_e)),m(_e);break;case te.TIMEOUT:sn(Fl,`RPC '${e}' ${u} timed out`),M(new w(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case te.HTTP_ERROR:const Le=j.getStatus();if(sn(Fl,`RPC '${e}' ${u} failed with status:`,Le,"response text:",j.getResponseText()),Le>0){let pt=j.getResponseJson();Array.isArray(pt)&&(pt=pt[0]);const xt=pt?.error;if(xt&&xt.status&&xt.message){const ln=function(Tn){const Pn=Tn.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(Pn)>=0?Pn:Lt.UNKNOWN}(xt.status);M(new w(ln,xt.message))}else M(new w(Lt.UNKNOWN,"Server responded with status "+j.getStatus()))}else M(new w(Lt.UNAVAILABLE,"Connection failed."));break;default:Gn()}}finally{sn(Fl,`RPC '${e}' ${u} completed.`)}});const ie=JSON.stringify(l);sn(Fl,`RPC '${e}' ${u} sending request:`,l),j.send(n,"POST",ie,s,15)})}Ro(e,n,s){const l=lp(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Ea(),M=T(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ie=this.longPollingOptions.timeoutSeconds;void 0!==ie&&(j.longPollingTimeout=Math.round(1e3*ie)),this.useFetchStreams&&(j.xmlHttpFactory=new tt({})),this.Eo(j.initMessageHeaders,n,s),j.encodeInitMessageHeaders=!0;const _e=u.join("");sn(Fl,`Creating RPC '${e}' stream ${l}: ${_e}`,j);const Le=m.createWebChannel(_e,j);let pt=!1,xt=!1;const ln=new Vv({ro:Pn=>{xt?sn(Fl,`Not sending because RPC '${e}' stream ${l} is closed:`,Pn):(pt||(sn(Fl,`Opening RPC '${e}' stream ${l} transport.`),Le.open(),pt=!0),sn(Fl,`RPC '${e}' stream ${l} sending:`,Pn),Le.send(Pn))},oo:()=>Le.close()}),Tn=(Pn,Ii,Ai)=>{Pn.listen(Ii,Pr=>{try{Ai(Pr)}catch(wi){setTimeout(()=>{throw wi},0)}})};return Tn(Le,zt.EventType.OPEN,()=>{xt||sn(Fl,`RPC '${e}' stream ${l} transport opened.`)}),Tn(Le,zt.EventType.CLOSE,()=>{xt||(xt=!0,sn(Fl,`RPC '${e}' stream ${l} transport closed`),ln.wo())}),Tn(Le,zt.EventType.ERROR,Pn=>{xt||(xt=!0,ho(Fl,`RPC '${e}' stream ${l} transport errored:`,Pn),ln.wo(new w(Lt.UNAVAILABLE,"The operation could not be completed")))}),Tn(Le,zt.EventType.MESSAGE,Pn=>{var Ii;if(!xt){const Ai=Pn.data[0];tr(!!Ai);const wi=Ai.error||(null===(Ii=Ai[0])||void 0===Ii?void 0:Ii.error);if(wi){sn(Fl,`RPC '${e}' stream ${l} received error:`,wi);const Ds=wi.status;let Yo=function(Cu){const md=Ie[Cu];if(void 0!==md)return en(md)}(Ds),El=wi.message;void 0===Yo&&(Yo=Lt.INTERNAL,El="Unknown error status: "+Ds+" with message "+wi.message),xt=!0,ln.wo(new w(Yo,El)),Le.close()}else sn(Fl,`RPC '${e}' stream ${l} received:`,Ai),ln._o(Ai)}}),Tn(M,q.STAT_EVENT,Pn=>{Pn.stat===we.PROXY?sn(Fl,`RPC '${e}' stream ${l} detected buffering proxy`):Pn.stat===we.NOPROXY&&sn(Fl,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{ln.fo()},0),ln}}function hm(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}function cp(i){return new gv(i,!0)}class cf{constructor(e,n,s=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),l=Math.max(0,n-s);l>0&&sn("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class fm{constructor(e,n,s,l,u,m,M,j){this.ii=e,this.$o=s,this.Oo=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=M,this.listener=j,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cf(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,d.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,d.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var s=this;return(0,d.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():n&&n.code===Lt.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):n&&n.code===Lt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Fo===n&&this.Zo(s,l)},s=>{e(()=>{const l=new w(Lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(l)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{s(()=>this.tu(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,d.Z)(function*(){e.state=0,e.start()}))}tu(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uv extends fm{constructor(e,n,s,l,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,m),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function jf(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Gn(),l=e.targetChange.targetIds||[],u=function(j,ie){return j.useProto3Json?(tr(void 0===ie||"string"==typeof ie),ft.fromBase64String(ie||"")):(tr(void 0===ie||ie instanceof Uint8Array),ft.fromUint8Array(ie||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,M=m&&function(j){const ie=void 0===j.code?Lt.UNKNOWN:en(j.code);return new w(ie,j.message||"")}(m);n=new rl(s,l,u,M||null)}else if("documentChange"in e){const s=e.documentChange,l=ql(i,s.document.name),u=ga(s.document.updateTime),m=s.document.createTime?ga(s.document.createTime):Wn.min(),M=new D({mapValue:{fields:s.document.fields}}),j=fe.newFoundDocument(l,u,m,M);n=new xs(s.targetIds||[],s.removedTargetIds||[],j.key,j)}else if("documentDelete"in e){const s=e.documentDelete,l=ql(i,s.document),u=s.readTime?ga(s.readTime):Wn.min(),m=fe.newNoDocument(l,u);n=new xs([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=ql(i,s.document);n=new xs([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Gn();{const s=e.filter,{count:l=0,unchangedNames:u}=s,m=new ue(l,u);n=new ma(s.targetId,m)}}var j;return n}(this.serializer,e),s=function(l){if(!("targetChange"in l))return Wn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Wn.min():u.readTime?ga(u.readTime):Wn.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Uf(this.serializer),n.addTarget=function(l,u){let m;const M=u.target;if(m=nd(M)?{documents:Gp(l,M)}:{query:Fu(l,M)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=fg(l,u.resumeToken);const j=Lf(l,u.expectedCount);null!==j&&(m.expectedCount=j)}else if(u.snapshotVersion.compareTo(Wn.min())>0){m.readTime=rh(l,u.snapshotVersion.toTimestamp());const j=Lf(l,u.expectedCount);null!==j&&(m.expectedCount=j)}return m}(this.serializer,e);const s=function vv(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gn()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Uf(this.serializer),n.removeTarget=e,this.Wo(n)}}class Bv extends fm{constructor(e,n,s,l,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,m),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function _g(i,e){return i&&i.length>0?(tr(void 0!==e),i.map(n=>function(s,l){let u=ga(s.updateTime?s.updateTime:l);return u.isEqual(Wn.min())&&(u=ga(l)),new qo(u,s.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=ga(e.commitTime);return this.listener.cu(s,n)}return tr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Uf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Dd(this.serializer,s))};this.Wo(n)}}class zg extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new w(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,n,s,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new w(Lt.UNKNOWN,l.toString())})}vo(e,n,s,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.vo(e,n,s,u,m,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new w(Lt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class $g{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cr(n),this.mu=!1):sn("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hv{constructor(e,n,s,l,u){var m=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(M=>{s.enqueueAndForget((0,d.Z)(function*(){var j;ud(m)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield function(ie){return(j=j||(0,d.Z)(function*(_e){const Le=Dn(_e);Le.vu.add(4),yield df(Le),Le.bu.set("Unknown"),Le.vu.delete(4),yield uf(Le)})).apply(this,arguments)}(m))}))}),this.bu=new $g(s,l)}}function uf(i){return(ja=ja||(0,d.Z)(function*(e){if(ud(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function df(i){return(la=la||(0,d.Z)(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function hf(i,e){const n=Dn(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Gg(n)?pm(n):Th(n).Ko()&&wc(n,e))}function Ch(i,e){const n=Dn(i),s=Th(n);n.Au.delete(e),s.Ko()&&up(n,e),0===n.Au.size&&(s.Ko()?s.jo():ud(n)&&n.bu.set("Unknown"))}function wc(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Th(i).su(e)}function up(i,e){i.Vu.qt(e),Th(i).iu(e)}function pm(i){i.Vu=new Ff({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Th(i).start(),i.bu.gu()}function Gg(i){return ud(i)&&!Th(i).Uo()&&i.Au.size>0}function ud(i){return 0===Dn(i).vu.size}function dp(i){i.Vu=void 0}function vu(i){return(Jo=Jo||(0,d.Z)(function*(e){e.Au.forEach((n,s)=>{wc(e,n)})})).apply(this,arguments)}function Wg(i,e){return(Os=Os||(0,d.Z)(function*(n,s){dp(n),Gg(n)?(n.bu.Iu(s),pm(n)):n.bu.set("Unknown")})).apply(this,arguments)}function zv(i,e,n){return(ls=ls||(0,d.Z)(function*(s,l,u){if(s.bu.set("Online"),l instanceof rl&&2===l.state&&l.cause)try{var m;yield function(M,j){return(m=m||(0,d.Z)(function*(ie,_e){const Le=_e.cause;for(const pt of _e.targetIds)ie.Au.has(pt)&&(yield ie.remoteSyncer.rejectListen(pt,Le),ie.Au.delete(pt),ie.Vu.removeTarget(pt))})).apply(this,arguments)}(s,l)}catch(M){sn("RemoteStore","Failed to remove targets %s: %s ",l.targetIds.join(","),M),yield mm(s,M)}else if(l instanceof xs?s.Vu.Ht(l):l instanceof ma?s.Vu.ne(l):s.Vu.Xt(l),!u.isEqual(Wn.min()))try{const M=yield Fg(s.localStore);u.compareTo(M)>=0&&(yield function(j,ie){const _e=j.Vu.ce(ie);return _e.targetChanges.forEach((Le,pt)=>{if(Le.resumeToken.approximateByteSize()>0){const xt=j.Au.get(pt);xt&&j.Au.set(pt,xt.withResumeToken(Le.resumeToken,ie))}}),_e.targetMismatches.forEach((Le,pt)=>{const xt=j.Au.get(Le);if(!xt)return;j.Au.set(Le,xt.withResumeToken(ft.EMPTY_BYTE_STRING,xt.snapshotVersion)),up(j,Le);const ln=new Vu(xt.target,Le,pt,xt.sequenceNumber);wc(j,ln)}),j.remoteSyncer.applyRemoteEvent(_e)}(s,u))}catch(M){sn("RemoteStore","Failed to raise snapshot:",M),yield mm(s,M)}})).apply(this,arguments)}function mm(i,e,n){return(Oo=Oo||(0,d.Z)(function*(s,l,u){if(!jl(l))throw l;s.vu.add(1),yield df(s),s.bu.set("Offline"),u||(u=()=>Fg(s.localStore)),s.asyncQueue.enqueueRetryable((0,d.Z)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield u(),s.vu.delete(1),yield uf(s)}))})).apply(this,arguments)}function il(i,e){return e().catch(n=>mm(i,n,e))}function xh(i){return($i=$i||(0,d.Z)(function*(e){const n=Dn(e),s=dd(n);let l=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;for(;gm(n);)try{const u=yield Lg(n.localStore,l);if(null===u){0===n.Eu.length&&s.jo();break}l=u.batchId,$v(n,u)}catch(u){yield mm(n,u)}qg(n)&&hp(n)})).apply(this,arguments)}function gm(i){return ud(i)&&i.Eu.length<10}function $v(i,e){i.Eu.push(e);const n=dd(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function qg(i){return ud(i)&&!dd(i).Uo()&&i.Eu.length>0}function hp(i){dd(i).start()}function Kg(i){return(Il=Il||(0,d.Z)(function*(e){dd(e).hu()})).apply(this,arguments)}function Zg(i){return(Vl=Vl||(0,d.Z)(function*(e){const n=dd(e);for(const s of e.Eu)n.uu(s.mutations)})).apply(this,arguments)}function Gv(i,e,n){return(Po=Po||(0,d.Z)(function*(s,l,u){const m=s.Eu.shift(),M=p.from(m,l,u);yield il(s,()=>s.remoteSyncer.applySuccessfulWrite(M)),yield xh(s)})).apply(this,arguments)}function Yg(i,e){return(lc=lc||(0,d.Z)(function*(n,s){var l;s&&dd(n).ou&&(yield function(u,m){return(l=l||(0,d.Z)(function*(M,j){if(dt(ie=j.code)&&ie!==Lt.ABORTED){const _e=M.Eu.shift();dd(M).Qo(),yield il(M,()=>M.remoteSyncer.rejectFailedWrite(_e.batchId,j)),yield xh(M)}var ie})).apply(this,arguments)}(n,s)),qg(n)&&hp(n)})).apply(this,arguments)}function _m(i,e){return(xc=xc||(0,d.Z)(function*(n,s){const l=Dn(n);l.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const u=ud(l);l.vu.add(3),yield df(l),u&&l.bu.set("Unknown"),yield l.remoteSyncer.handleCredentialChange(s),l.vu.delete(3),yield uf(l)})).apply(this,arguments)}function vm(i,e){return(Cl=Cl||(0,d.Z)(function*(n,s){const l=Dn(n);s?(l.vu.delete(2),yield uf(l)):s||(l.vu.add(2),yield df(l),l.bu.set("Unknown"))})).apply(this,arguments)}function Th(i){var e;return i.Su||(i.Su=function(n,s,l){const u=Dn(n);return u.fu(),new Uv(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{uo:vu.bind(null,i),ao:Wg.bind(null,i),nu:zv.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,d.Z)(function*(s){s?(i.Su.Qo(),Gg(i)?pm(i):i.bu.set("Unknown")):(yield i.Su.stop(),dp(i))})).apply(this,arguments)})),i.Su}function dd(i){var e;return i.Du||(i.Du=function(n,s,l){const u=Dn(n);return u.fu(),new Bv(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{uo:Kg.bind(null,i),ao:Yg.bind(null,i),au:Zg.bind(null,i),cu:Gv.bind(null,i)}),i.Ru.push(function(n){return(e=e||(0,d.Z)(function*(s){s?(i.Du.Qo(),yield xh(i)):(yield i.Du.stop(),i.Eu.length>0&&(sn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})).apply(this,arguments)})),i.Du}class fp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,n,s,l,u){const m=Date.now()+s,M=new fp(e,n,m,l,u);return M.start(s),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(Lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nu(i,e){if(cr("AsyncQueue",`${e}: ${i}`),jl(i))return new w(Lt.UNAVAILABLE,`${e}: ${i}`);throw i}class ac{constructor(e){this.comparator=e?(n,s)=>e(n,s)||dn.comparator(n.key,s.key):(n,s)=>dn.comparator(n.key,s.key),this.keyedMap=Pi(),this.sortedSet=new is(this.comparator)}static emptySet(e){return new ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new ac;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class kd{constructor(){this.Cu=new is(dn.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(n):1===e.type&&2===s.type?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Gn():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Dh{constructor(e,n,s,l,u,m,M,j,ie){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=M,this.excludesMetadataChanges=j,this.hasCachedResults=ie}static fromInitialDocuments(e,n,s,l,u){const m=[];return n.forEach(M=>{m.push({type:0,doc:M})}),new Dh(e,n,ac.emptySet(n),m,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Wv{constructor(){this.Nu=void 0,this.listeners=[]}}class Qg{constructor(){this.queries=new Nr(e=>Oe(e),J),this.onlineState="Unknown",this.ku=new Set}}function ff(i,e){return(Go=Go||(0,d.Z)(function*(n,s){const l=Dn(n),u=s.query;let m=!1,M=l.queries.get(u);if(M||(m=!0,M=new Wv),m)try{M.Nu=yield l.onListen(u)}catch(j){const ie=nu(j,`Initialization of query '${He(s.query)}' failed`);return void s.onError(ie)}l.queries.set(u,M),M.listeners.push(s),s.Mu(l.onlineState),M.Nu&&s.$u(M.Nu)&&pf(l)})).apply(this,arguments)}function Nd(i,e){return(xl=xl||(0,d.Z)(function*(n,s){const l=Dn(n),u=s.query;let m=!1;const M=l.queries.get(u);if(M){const j=M.listeners.indexOf(s);j>=0&&(M.listeners.splice(j,1),m=0===M.listeners.length)}if(m)return l.queries.delete(u),l.onUnlisten(u)})).apply(this,arguments)}function Xg(i,e){const n=Dn(i);let s=!1;for(const l of e){const m=n.queries.get(l.query);if(m){for(const M of m.listeners)M.$u(l)&&(s=!0);m.Nu=l}}s&&pf(n)}function Nb(i,e,n){const s=Dn(i),l=s.queries.get(e);if(l)for(const u of l.listeners)u.onError(n);s.queries.delete(e)}function pf(i){i.ku.forEach(e=>{e.next()})}class hd{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Dh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class pp{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class ym{constructor(e){this.serializer=e}rr(e){return ql(this.serializer,e)}ur(e){return e.metadata.exists?gg(this.serializer,e.document,!1):fe.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ga(e)}}class Jg{constructor(e,n,s){this.ju=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=e_(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const s=Si.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,s=new ym(this.serializer);for(const l of e)if(l.metadata.queries){const u=s.rr(l.metadata.name);for(const m of l.metadata.queries){const M=(n.get(m)||Sr()).add(u);n.set(m,M)}}return n}complete(){var e=this;return(0,d.Z)(function*(){const n=yield function Fv(i,e,n,s){return(Bi=Bi||(0,d.Z)(function*(l,u,m,M){const j=Dn(l);let ie=Sr(),_e=Qn();for(const xt of m){const ln=u.rr(xt.metadata.name);xt.document&&(ie=ie.add(ln));const Tn=u.ur(xt);Tn.setReadTime(u.cr(xt.metadata.readTime)),_e=_e.insert(ln,Tn)}const Le=j.Zi.newChangeBuffer({trackRemovals:!0}),pt=yield yh(j,(xt=M,C(sd(Si.fromString(`__bundle__/docs/${xt}`)))));var xt;return j.persistence.runTransaction("Apply bundle documents","readwrite",xt=>ip(xt,Le,_e).next(ln=>(Le.apply(xt),ln)).next(ln=>j.Bs.removeMatchingKeysForTargetId(xt,pt.targetId).next(()=>j.Bs.addMatchingKeys(xt,ie,pt.targetId)).next(()=>j.localDocuments.getLocalViewOfDocuments(xt,ln.nr,ln.sr)).next(()=>ln.nr)))})).apply(this,arguments)}(e.localStore,new ym(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const l of e.queries)yield Ug(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function e_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class t_{constructor(e){this.key=e}}class n_{constructor(e){this.key=e}}class r_{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Sr(),this.mutatedKeys=Sr(),this.tc=Vn(e),this.ec=new ac(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new kd,l=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,m=l,M=!1;const j="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,ie="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((_e,Le)=>{const pt=l.get(_e),xt=it(this.query,Le)?Le:null,ln=!!pt&&this.mutatedKeys.has(pt.key),Tn=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let Pn=!1;pt&&xt?pt.data.isEqual(xt.data)?ln!==Tn&&(s.track({type:3,doc:xt}),Pn=!0):this.rc(pt,xt)||(s.track({type:2,doc:xt}),Pn=!0,(j&&this.tc(xt,j)>0||ie&&this.tc(xt,ie)<0)&&(M=!0)):!pt&&xt?(s.track({type:0,doc:xt}),Pn=!0):pt&&!xt&&(s.track({type:1,doc:pt}),Pn=!0,(j||ie)&&(M=!0)),Pn&&(xt?(m=m.add(xt),u=Tn?u.add(_e):u.delete(_e)):(m=m.delete(_e),u=u.delete(_e)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const _e="F"===this.query.limitType?m.last():m.first();m=m.delete(_e.key),u=u.delete(_e.key),s.track({type:1,doc:_e})}return{ec:m,ic:s,zi:M,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((ie,_e)=>function(Le,pt){const xt=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gn()}};return xt(Le)-xt(pt)}(ie.type,_e.type)||this.tc(ie.doc,_e.doc)),this.oc(s);const m=n?this.uc():[],M=0===this.Zu.size&&this.current?1:0,j=M!==this.Xu;return this.Xu=M,0!==u.length||j?{snapshot:new Dh(this.query,e.ec,l,u,e.mutatedKeys,0===M,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kd,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Sr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new n_(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new t_(s))}),n}hc(e){this.Yu=e.ir,this.Zu=Sr();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Dh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class i_{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Fb{constructor(e){this.key=e,this.fc=!1}}class qv{constructor(e,n,s,l,u,m){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new Nr(M=>Oe(M),J),this._c=new Map,this.mc=new Set,this.gc=new is(dn.comparator),this.yc=new Map,this.Ic=new im,this.Tc={},this.Ec=new Map,this.Ac=cd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Lb(i,e){return(cc=cc||(0,d.Z)(function*(n,s){const l=Cm(n);let u,m;const M=l.wc.get(s);if(M)u=M.targetId,l.sharedClientState.addLocalQueryTarget(u),m=M.view.lc();else{const j=yield yh(l.localStore,C(s)),ie=l.sharedClientState.addLocalQueryTarget(j.targetId);u=j.targetId,m=yield s_(l,s,u,"current"===ie,j.resumeToken),l.isPrimaryClient&&hf(l.remoteStore,j)}return m})).apply(this,arguments)}function s_(i,e,n,s,l){return(Gc=Gc||(0,d.Z)(function*(u,m,M,j,ie){u.Rc=(Pn,Ii,Ai)=>{var Pr;return function(wi,Ds,Yo,El){return(Pr=Pr||(0,d.Z)(function*(Cu,md,jy,X_){let Rf=md.view.sc(jy);Rf.zi&&(Rf=yield cm(Cu.localStore,md.query,!1).then(({documents:J_})=>md.view.sc(J_,Rf)));const Hy=X_&&X_.targetChanges.get(md.targetId),Wa=md.view.applyChanges(Rf,Cu.isPrimaryClient,Hy);return _p(Cu,md.targetId,Wa.cc),Wa.snapshot})).apply(this,arguments)}(u,Pn,Ii,Ai)};const _e=yield cm(u.localStore,m,!0),Le=new r_(m,_e.ir),pt=Le.sc(_e.documents),xt=nl.createSynthesizedTargetChangeForCurrentChange(M,j&&"Offline"!==u.onlineState,ie),ln=Le.applyChanges(pt,u.isPrimaryClient,xt);_p(u,M,ln.cc);const Tn=new i_(m,M,Le);return u.wc.set(m,Tn),u._c.has(M)?u._c.get(M).push(m):u._c.set(M,[m]),ln.snapshot})).apply(this,arguments)}function o_(i,e){return(Ya=Ya||(0,d.Z)(function*(n,s){const l=Dn(n),u=l.wc.get(s),m=l._c.get(u.targetId);if(m.length>1)return l._c.set(u.targetId,m.filter(M=>!J(M,s))),void l.wc.delete(s);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(u.targetId),l.sharedClientState.isActiveQueryTarget(u.targetId)||(yield bh(l.localStore,u.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(u.targetId),Ch(l.remoteStore,u.targetId),ci(l,u.targetId)}).catch(Ha))):(ci(l,u.targetId),yield bh(l.localStore,u.targetId,!0))})).apply(this,arguments)}function Kv(i,e){return(au=au||(0,d.Z)(function*(n,s){const l=Dn(n);try{const u=yield function Nv(i,e){const n=Dn(i),s=e.snapshotVersion;let l=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=n.Zi.newChangeBuffer({trackRemovals:!0});l=n.Ji;const M=[];e.targetChanges.forEach((_e,Le)=>{const pt=l.get(Le);if(!pt)return;M.push(n.Bs.removeMatchingKeys(u,_e.removedDocuments,Le).next(()=>n.Bs.addMatchingKeys(u,_e.addedDocuments,Le)));let xt=pt.withSequenceNumber(u.currentSequenceNumber);var ln,Tn,Pn;null!==e.targetMismatches.get(Le)?xt=xt.withResumeToken(ft.EMPTY_BYTE_STRING,Wn.min()).withLastLimboFreeSnapshotVersion(Wn.min()):_e.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(_e.resumeToken,s)),l=l.insert(Le,xt),Tn=xt,Pn=_e,(0===(ln=pt).resumeToken.approximateByteSize()||Tn.snapshotVersion.toMicroseconds()-ln.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&M.push(n.Bs.updateTargetData(u,xt))});let j=Qn(),ie=Sr();if(e.documentUpdates.forEach(_e=>{e.resolvedLimboDocuments.has(_e)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(u,_e))}),M.push(ip(u,m,e.documentUpdates).next(_e=>{j=_e.nr,ie=_e.sr})),!s.isEqual(Wn.min())){const _e=n.Bs.getLastRemoteSnapshotVersion(u).next(Le=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));M.push(_e)}return Ot.waitFor(M).next(()=>m.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,j,ie)).next(()=>j)}).then(u=>(n.Ji=l,u))}(l.localStore,s);s.targetChanges.forEach((m,M)=>{const j=l.yc.get(M);j&&(tr(m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size<=1),m.addedDocuments.size>0?j.fc=!0:m.modifiedDocuments.size>0?tr(j.fc):m.removedDocuments.size>0&&(tr(j.fc),j.fc=!1))}),yield Hu(l,u,s)}catch(u){yield Ha(u)}})).apply(this,arguments)}function mf(i,e,n){const s=Dn(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.wc.forEach((u,m)=>{const M=m.view.Mu(e);M.snapshot&&l.push(M.snapshot)}),function(u,m){const M=Dn(u);M.onlineState=m;let j=!1;M.queries.forEach((ie,_e)=>{for(const Le of _e.listeners)Le.Mu(m)&&(j=!0)}),j&&pf(M)}(s.eventManager,e),l.length&&s.dc.nu(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Vb(i,e,n){return(xu=xu||(0,d.Z)(function*(s,l,u){const m=Dn(s);m.sharedClientState.updateQueryState(l,"rejected",u);const M=m.yc.get(l),j=M&&M.key;if(j){let ie=new is(dn.comparator);ie=ie.insert(j,fe.newNoDocument(j,Wn.min()));const _e=Sr().add(j),Le=new oc(Wn.min(),new Map,new is(Rn),ie,_e);yield Kv(m,Le),m.gc=m.gc.remove(j),m.yc.delete(l),vp(m)}else yield bh(m.localStore,l,!1).then(()=>ci(m,l,u)).catch(Ha)})).apply(this,arguments)}function l_(i,e){return(Tl=Tl||(0,d.Z)(function*(n,s){const l=Dn(n),u=s.batch.batchId;try{const m=yield function Ng(i,e){const n=Dn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),u=n.Zi.newChangeBuffer({trackRemovals:!0});return function(m,M,j,ie){const _e=j.batch,Le=_e.keys();let pt=Ot.resolve();return Le.forEach(xt=>{pt=pt.next(()=>ie.getEntry(M,xt)).next(ln=>{const Tn=j.docVersions.get(xt);tr(null!==Tn),ln.version.compareTo(Tn)<0&&(_e.applyToRemoteDocument(ln,j),ln.isValidDocument()&&(ln.setReadTime(j.commitVersion),ie.addEntry(ln)))})}),pt.next(()=>m.mutationQueue.removeMutationBatch(M,_e))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let M=Sr();for(let j=0;j<m.mutationResults.length;++j)m.mutationResults[j].transformResults.length>0&&(M=M.add(m.batch.mutations[j].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(l.localStore,s);gp(l,u,null),mp(l,u),l.sharedClientState.updateMutationState(u,"acknowledged"),yield Hu(l,m)}catch(m){yield Ha(m)}})).apply(this,arguments)}function c_(i,e,n){return(Zl=Zl||(0,d.Z)(function*(s,l,u){const m=Dn(s);try{const M=yield function(j,ie){const _e=Dn(j);return _e.persistence.runTransaction("Reject batch","readwrite-primary",Le=>{let pt;return _e.mutationQueue.lookupMutationBatch(Le,ie).next(xt=>(tr(null!==xt),pt=xt.keys(),_e.mutationQueue.removeMutationBatch(Le,xt))).next(()=>_e.mutationQueue.performConsistencyCheck(Le)).next(()=>_e.documentOverlayCache.removeOverlaysForBatchId(Le,pt,ie)).next(()=>_e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Le,pt)).next(()=>_e.localDocuments.getDocuments(Le,pt))})}(m.localStore,l);gp(m,l,u),mp(m,l),m.sharedClientState.updateMutationState(l,"rejected",u),yield Hu(m,M)}catch(M){yield Ha(M)}})).apply(this,arguments)}function mp(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function gp(i,e,n){const s=Dn(i);let l=s.Tc[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Tc[s.currentUser.toKey()]=l}}function ci(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i._c.get(e))i.wc.delete(s),n&&i.dc.Pc(s,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(s=>{i.Ic.containsKey(s)||bm(i,s)})}function bm(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(Ch(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),vp(i))}function _p(i,e,n){for(const s of n)s instanceof t_?(i.Ic.addReference(s.key,e),Sh(i,s)):s instanceof n_?(sn("SyncEngine","Document no longer in limbo: "+s.key),i.Ic.removeReference(s.key,e),i.Ic.containsKey(s.key)||bm(i,s.key)):Gn()}function Sh(i,e){const n=e.key,s=n.path.canonicalString();i.gc.get(n)||i.mc.has(s)||(sn("SyncEngine","New document in limbo: "+n),i.mc.add(s),vp(i))}function vp(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new dn(Si.fromString(e)),s=i.Ac.next();i.yc.set(s,new Fb(n)),i.gc=i.gc.insert(n,s),hf(i.remoteStore,new Vu(C(sd(n.path)),s,"TargetPurposeLimboResolution",ks.ct))}}function Hu(i,e,n){return(Dr=Dr||(0,d.Z)(function*(s,l,u){var m;const M=Dn(s),j=[],ie=[],_e=[];M.wc.isEmpty()||(M.wc.forEach((Le,pt)=>{_e.push(M.Rc(pt,l,u).then(xt=>{if((xt||u)&&M.isPrimaryClient&&M.sharedClientState.updateQueryState(pt.targetId,xt?.fromCache?"not-current":"current"),xt){j.push(xt);const ln=_h.Li(pt.targetId,xt);ie.push(ln)}}))}),yield Promise.all(_e),M.dc.nu(j),yield function(Le,pt){return(m=m||(0,d.Z)(function*(xt,ln){const Tn=Dn(xt);try{yield Tn.persistence.runTransaction("notifyLocalViewChanges","readwrite",Pn=>Ot.forEach(ln,Ii=>Ot.forEach(Ii.Fi,Ai=>Tn.persistence.referenceDelegate.addReference(Pn,Ii.targetId,Ai)).next(()=>Ot.forEach(Ii.Bi,Ai=>Tn.persistence.referenceDelegate.removeReference(Pn,Ii.targetId,Ai)))))}catch(Pn){if(!jl(Pn))throw Pn;sn("LocalStore","Failed to update sequence numbers: "+Pn)}for(const Pn of ln){const Ii=Pn.targetId;if(!Pn.fromCache){const Ai=Tn.Ji.get(Ii),wi=Ai.withLastLimboFreeSnapshotVersion(Ai.snapshotVersion);Tn.Ji=Tn.Ji.insert(Ii,wi)}}})).apply(this,arguments)}(M.localStore,ie))})).apply(this,arguments)}function yp(i,e){return(Io=Io||(0,d.Z)(function*(n,s){const l=Dn(n);if(!l.currentUser.isEqual(s)){sn("SyncEngine","User change. New user:",s.toKey());const u=yield kg(l.localStore,s);l.currentUser=s,(m=l).Ec.forEach(j=>{j.forEach(ie=>{ie.reject(new w(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.Ec.clear(),l.sharedClientState.handleUserChange(s,u.removedBatchIds,u.addedBatchIds),yield Hu(l,u.er)}var m})).apply(this,arguments)}function Ah(i,e){const n=Dn(i),s=n.yc.get(e);if(s&&s.fc)return Sr().add(s.key);{let l=Sr();const u=n._c.get(e);if(!u)return l;for(const m of u){const M=n.wc.get(m);l=l.unionWith(M.view.nc)}return l}}function Em(i,e){return(Tc=Tc||(0,d.Z)(function*(n,s){const l=Dn(n),u=yield cm(l.localStore,s.query,!0),m=s.view.hc(u);return l.isPrimaryClient&&_p(l,s.targetId,m.cc),m})).apply(this,arguments)}function gf(i,e){return(Dl=Dl||(0,d.Z)(function*(n,s){const l=Dn(n);return nf(l.localStore,s).then(u=>Hu(l,u))})).apply(this,arguments)}function u_(i,e,n,s){return(uc=uc||(0,d.Z)(function*(l,u,m,M){const j=Dn(l),ie=yield function(_e,Le){const pt=Dn(_e),xt=Dn(pt.mutationQueue);return pt.persistence.runTransaction("Lookup mutation documents","readonly",ln=>xt.Sn(ln,Le).next(Tn=>Tn?pt.localDocuments.getDocuments(ln,Tn):Ot.resolve(null)))}(j.localStore,u);var Le;null!==ie?("pending"===m?yield xh(j.remoteStore):"acknowledged"===m||"rejected"===m?(gp(j,u,M||null),mp(j,u),Le=u,Dn(Dn(j.localStore).mutationQueue).Cn(Le)):Gn(),yield Hu(j,ie)):sn("SyncEngine","Cannot apply mutation batch with id: "+u)})).apply(this,arguments)}function bp(i,e,n){return(Bl=Bl||(0,d.Z)(function*(s,l,u){const m=Dn(s),M=[],j=[];for(const ie of l){let _e;const Le=m._c.get(ie);if(Le&&0!==Le.length){_e=yield yh(m.localStore,C(Le[0]));for(const pt of Le){const xt=m.wc.get(pt),ln=yield Em(m,xt);ln.snapshot&&j.push(ln.snapshot)}}else{const pt=yield Vg(m.localStore,ie);_e=yield yh(m.localStore,pt),yield s_(m,Ep(pt),ie,!1,_e.resumeToken)}M.push(_e)}return m.dc.nu(j),M})).apply(this,arguments)}function Ep(i){return Xd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function d_(i){const e=Dn(i);return Dn(Dn(e.localStore).persistence).$i()}function Im(i,e,n,s){return(ko=ko||(0,d.Z)(function*(l,u,m,M){const j=Dn(l);if(j.vc)return void sn("SyncEngine","Ignoring unexpected query state notification.");const ie=j._c.get(u);if(ie&&ie.length>0)switch(m){case"current":case"not-current":{const _e=yield nf(j.localStore,Nt(ie[0])),Le=oc.createSynthesizedRemoteEventForCurrentChange(u,"current"===m,ft.EMPTY_BYTE_STRING);yield Hu(j,_e,Le);break}case"rejected":yield bh(j.localStore,u,!0),ci(j,u,M);break;default:Gn()}})).apply(this,arguments)}function Yv(i,e,n){return(ml=ml||(0,d.Z)(function*(s,l,u){const m=Cm(s);if(m.vc){for(const M of l){if(m._c.has(M)){sn("SyncEngine","Adding an already active target "+M);continue}const j=yield Vg(m.localStore,M),ie=yield yh(m.localStore,j);yield s_(m,Ep(j),ie.targetId,!1,ie.resumeToken),hf(m.remoteStore,ie)}for(const M of u)m._c.has(M)&&(yield bh(m.localStore,M,!1).then(()=>{Ch(m.remoteStore,M),ci(m,M)}).catch(Ha))}})).apply(this,arguments)}function Cm(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ah.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vb.bind(null,e),e.dc.nu=Xg.bind(null,e.eventManager),e.dc.Pc=Nb.bind(null,e.eventManager),e}function xm(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c_.bind(null,e),e}class _f{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,d.Z)(function*(){n.serializer=cp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vh(this.persistence,new kv,e.initialUser,this.serializer)}createPersistence(e){return new sm(ph.zs,this.serializer)}createSharedClientState(e){return new jg}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tm extends _f{constructor(e,n,s){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,d.Z)(function*(){yield n().call(s,e),yield s.Vc.initialize(s,e),yield xm(s.Vc.syncEngine),yield xh(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vh(this.persistence,new kv,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Xf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new jh(n,this.persistence);return new Zd(e.asyncQueue,s)}createPersistence(e){const n=tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Nl.withCacheSize(this.cacheSizeBytes):Nl.DEFAULT;return new mh(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,hm(),Ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new jg}}class f_ extends Tm{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,d.Z)(function*(){var l;yield n().call(s,e);const u=s.Vc.syncEngine;s.sharedClientState instanceof Pd&&(s.sharedClientState.syncEngine={jr:u_.bind(null,u),zr:Im.bind(null,u),Wr:Yv.bind(null,u),$i:d_.bind(null,u),Qr:gf.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(m){return(l=l||(0,d.Z)(function*(M){yield function wm(i,e){return(Ul=Ul||(0,d.Z)(function*(n,s){const l=Dn(n);if(Cm(l),xm(l),!0===s&&!0!==l.vc){const u=l.sharedClientState.getAllActiveQueryTargets(),m=yield bp(l,u.toArray());l.vc=!0,yield vm(l.remoteStore,!0);for(const M of m)hf(l.remoteStore,M)}else if(!1===s&&!1!==l.vc){const u=[];let m=Promise.resolve();l._c.forEach((M,j)=>{l.sharedClientState.isLocalQueryTarget(j)?u.push(j):m=m.then(()=>(ci(l,j),bh(l.localStore,j,!0))),Ch(l.remoteStore,j)}),yield m,yield bp(l,u),function(M){const j=Dn(M);j.yc.forEach((ie,_e)=>{Ch(j.remoteStore,_e)}),j.Ic.Ts(),j.yc=new Map,j.gc=new is(dn.comparator)}(l),l.vc=!1,yield vm(l.remoteStore,!1)}})).apply(this,arguments)}(s.Vc.syncEngine,M),s.gcScheduler&&(M&&!s.gcScheduler.started?s.gcScheduler.start():M||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(M&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():M||s.indexBackfillerScheduler.stop())})).apply(this,arguments)})})()}createSharedClientState(e){const n=hm();if(!Pd.D(n))throw new w(Lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pd(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Fd{initialize(e,n){var s=this;return(0,d.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>mf(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=yp.bind(null,s.syncEngine),yield vm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qg}createDatastore(e){const n=cp(e.databaseInfo.databaseId),s=new Hg(e.databaseInfo);return new zg(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,l=e.asyncQueue,u=M=>mf(this.syncEngine,M,0),m=wh.D()?new wh:new Eh,new Hv(n,s,l,u,m);var n,s,l,u,m}createSyncEngine(e,n){return function(s,l,u,m,M,j,ie){const _e=new qv(s,l,u,m,M,j);return ie&&(_e.vc=!0),_e}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||(0,d.Z)(function*(s){const l=Dn(s);sn("RemoteStore","RemoteStore shutting down."),l.vu.add(5),yield df(l),l.Pu.shutdown(),l.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}function Dm(i,e=10240){let n=0;return{read:()=>(0,d.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Xv{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new S,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,d.Z)(function*(){const n=yield e.kc();if(null===n)return null;const s=e.xc.decode(n),l=Number(s);isNaN(l)&&e.Mc(`length string (${s}) is not valid number`);const u=yield e.$c(l);return new pp(JSON.parse(u),n.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,d.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}$c(e){var n=this;return(0,d.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const s=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,d.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class Ic{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,d.Z)(function*(){var s;if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new w(Lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const l=yield function(u,m){return(s=s||(0,d.Z)(function*(M,j){const ie=Dn(M),_e=Uf(ie.serializer)+"/documents",Le={documents:j.map(Tn=>Td(ie.serializer,Tn))},pt=yield ie.vo("BatchGetDocuments",_e,Le,j.length),xt=new Map;pt.forEach(Tn=>{const Pn=function ih(i,e){return"found"in e?function(n,s){tr(!!s.found);const l=ql(n,s.found.name),u=ga(s.found.updateTime),m=s.found.createTime?ga(s.found.createTime):Wn.min(),M=new D({mapValue:{fields:s.found.fields}});return fe.newFoundDocument(l,u,m,M)}(i,e):"missing"in e?function(n,s){tr(!!s.missing),tr(!!s.readTime);const l=ql(n,s.missing),u=ga(s.readTime);return fe.newNoDocument(l,u)}(i,e):Gn()}(ie.serializer,Tn);xt.set(Pn.key.toString(),Pn)});const ln=[];return j.forEach(Tn=>{const Pn=xt.get(Tn.toString());tr(!!Pn),ln.push(Pn)}),ln})).apply(this,arguments)}(n.datastore,e);return l.forEach(u=>n.recordVersion(u)),l})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){var n;if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const s=e.readVersions;e.mutations.forEach(l=>{s.delete(l.key.toString())}),s.forEach((l,u)=>{const m=dn.fromPath(u);e.mutations.push(new B(m,e.precondition(m)))}),yield function(l,u){return(n=n||(0,d.Z)(function*(m,M){const j=Dn(m),ie=Uf(j.serializer)+"/documents",_e={writes:M.map(Le=>Dd(j.serializer,Le))};yield j.Io("Commit",ie,_e)})).apply(this,arguments)}(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Gn();n=Wn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new w(Lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Wn.min())?ss.exists(!1):ss.updateTime(n):ss.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Wn.min()))throw new w(Lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ss.updateTime(n)}return ss.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jv{constructor(e,n,s,l,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.Bc=s.maxAttempts,this.qo=new cf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,d.Z)(function*(){const n=new Ic(e.datastore),s=e.qc(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const n=this.updateFunction(e);return!Ja(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!dt(n)}return!1}}class ey{constructor(e,n,s,l){var m,u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=ki.UNAUTHENTICATED,this.clientId=Xi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(M){return(m=m||(0,d.Z)(function*(j){sn("FirestoreClient","Received user=",j.uid),yield u.authCredentialListener(j),u.user=j})).apply(this,arguments)}),this.appCheckCredentials.start(s,M=>(sn("FirestoreClient","Received new app check token=",M),this.appCheckCredentialListener(M,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=nu(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Sm(i,e){return(Dc=Dc||(0,d.Z)(function*(n,s){var l;n.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const u=yield n.getConfiguration();yield s.initialize(u);let m=u.initialUser;n.setCredentialChangeListener(function(M){return(l=l||(0,d.Z)(function*(j){m.isEqual(j)||(yield kg(s.localStore,j),m=j)})).apply(this,arguments)}),s.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=s})).apply(this,arguments)}function vf(i,e){return(Sl=Sl||(0,d.Z)(function*(n,s){n.asyncQueue.verifyOperationInProgress();const l=yield Mm(n);sn("FirestoreClient","Initializing OnlineComponentProvider");const u=yield n.getConfiguration();yield s.initialize(l,u),n.setCredentialChangeListener(m=>_m(s.remoteStore,m)),n.setAppCheckTokenChangeListener((m,M)=>_m(s.remoteStore,M)),n._onlineComponents=s})).apply(this,arguments)}function Am(i){return"FirebaseError"===i.name?i.code===Lt.FAILED_PRECONDITION||i.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Mm(i){return(Sc=Sc||(0,d.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sm(e,e._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!Am(s))throw s;ho("Error using user provided cache. Falling back to memory cache: "+s),yield Sm(e,new _f)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield Sm(e,new _f);return e._offlineComponents})).apply(this,arguments)}function Ip(i){return(Ql=Ql||(0,d.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield vf(e,e._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield vf(e,new Fd))),e._onlineComponents})).apply(this,arguments)}function p_(i){return Mm(i).then(e=>e.persistence)}function yf(i){return Mm(i).then(e=>e.localStore)}function m_(i){return Ip(i).then(e=>e.remoteStore)}function Rm(i){return Ip(i).then(e=>e.syncEngine)}function Mh(i){return(tn=tn||(0,d.Z)(function*(e){const n=yield Ip(e),s=n.eventManager;return s.onListen=Lb.bind(null,n.syncEngine),s.onUnlisten=o_.bind(null,n.syncEngine),s})).apply(this,arguments)}function g_(i,e,n={}){const s=new S;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(l,u,m,M,j){const ie=new wp({next:Le=>{u.enqueueAndForget(()=>Nd(l,_e));const pt=Le.docs.has(m);!pt&&Le.fromCache?j.reject(new w(Lt.UNAVAILABLE,"Failed to get document because the client is offline.")):pt&&Le.fromCache&&M&&"server"===M.source?j.reject(new w(Lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),_e=new hd(sd(m.path),ie,{includeMetadataChanges:!0,Ku:!0});return ff(l,_e)}(yield Mh(i),i.asyncQueue,e,n,s)})),s.promise}function xp(i,e,n={}){const s=new S;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(l,u,m,M,j){const ie=new wp({next:Le=>{u.enqueueAndForget(()=>Nd(l,_e)),Le.fromCache&&"server"===M.source?j.reject(new w(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),_e=new hd(m,ie,{includeMetadataChanges:!0,Ku:!0});return ff(l,_e)}(yield Mh(i),i.asyncQueue,e,n,s)})),s.promise}function Om(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const bf=new Map;function Ef(i,e,n){if(!n)throw new w(Lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oy(i,e,n,s){if(!0===e&&!0===s)throw new w(Lt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Pm(i){if(!dn.isDocumentKey(i))throw new w(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function km(i){if(dn.isDocumentKey(i))throw new w(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Gn()}function es(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new w(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(i);throw new w(Lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Tp(i,e){if(e<=0)throw new w(Lt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class bu{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new w(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new w(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Om(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new w(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new w(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new w(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new w(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bu(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new R;switch(n.type){case"firstParty":return new wt(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new w(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bf.get(e);n&&(sn("ComponentProvider","Removing Datastore"),bf.delete(e),n.terminate())}(this),Promise.resolve()}}function y_(i,e,n,s={}){var l;const u=(i=es(i,If))._getSettings(),m=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),s.mockUserToken){let M,j;if("string"==typeof s.mockUserToken)M=s.mockUserToken,j=ki.MOCK_USER;else{M=(0,b.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const ie=s.mockUserToken.sub||s.mockUserToken.user_id;if(!ie)throw new w(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new ki(ie)}i._authCredentials=new Q(new U(M,j))}}class Zo{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class bl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class ru extends bl{constructor(e,n,s){super(e,n,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new dn(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function ay(i,e,...n){if(i=(0,b.m9)(i),Ef("collection","path",e),i instanceof If){const s=Si.fromString(e,...n);return km(s),new ru(i,null,s)}{if(!(i instanceof Zo||i instanceof ru))throw new w(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Si.fromString(e,...n));return km(s),new ru(i.firestore,null,s)}}function Dp(i,e){if(i=es(i,If),Ef("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new w(Lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bl(i,null,(n=e,new gc(Si.emptyPath(),n)));var n}function Rh(i,e,...n){if(i=(0,b.m9)(i),1===arguments.length&&(e=Xi.A()),Ef("doc","path",e),i instanceof If){const s=Si.fromString(e,...n);return Pm(s),new Zo(i,null,new dn(s))}{if(!(i instanceof Zo||i instanceof ru))throw new w(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Si.fromString(e,...n));return Pm(s),new Zo(i.firestore,i instanceof ru?i.converter:null,new dn(s))}}function b_(i,e){return i=(0,b.m9)(i),e=(0,b.m9)(e),(i instanceof Zo||i instanceof ru)&&(e instanceof Zo||e instanceof ru)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Oh(i,e){return i=(0,b.m9)(i),e=(0,b.m9)(e),i instanceof bl&&e instanceof bl&&i.firestore===e.firestore&&J(i._query,e._query)&&i.converter===e.converter}class Ub{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cf(this,"async_queue_retry"),this.Xc=()=>{const n=Ih();n&&sn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ih();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new S;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,d.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!jl(n))throw n;sn("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const l=fp.createAndSchedule(this,e,n,s,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&Gn()}verifyOperationInProgress(){}sa(){var e=this;return(0,d.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Nm(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class E_{constructor(){this._progressObserver={},this._taskCompletionResolver=new S,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const w_=-1;class Bo extends If{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new Ub,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ph(this),this._firestoreClient.terminate()}}function I_(i,e){const n="object"==typeof i?i:(0,H.getApp)(),s="string"==typeof i?i:e||"(default)",l=(0,H._getProvider)(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=(0,b.P0)("firestore");u&&y_(l,...u)}return l}function _a(i){return i._firestoreClient||Ph(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ph(i){var e,n,s;const l=i._freezeSettings(),u=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Hs(i._databaseId,M,i._persistenceKey,(ie=l).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,Om(ie.experimentalLongPollingOptions),ie.useFetchStreams));var M,ie;i._firestoreClient=new ey(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(n=l.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.cache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function ly(i,e){x_(i=es(i,Bo));const n=_a(i);if(n._uninitializedComponentsProvider)throw new w(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Fd;return Fm(n,l,new Tm(l,s.cacheSizeBytes,e?.forceOwnership))}function C_(i){x_(i=es(i,Bo));const e=_a(i);if(e._uninitializedComponentsProvider)throw new w(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");ho("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new Fd;return Fm(e,s,new f_(s,n.cacheSizeBytes))}function Fm(i,e,n){const s=new S;return i.asyncQueue.enqueue((0,d.Z)(function*(){try{yield Sm(i,n),yield vf(i,e),s.resolve()}catch(l){const u=l;if(!Am(u))throw u;ho("Error enabling indexeddb cache. Falling back to memory cache: "+u),s.reject(u)}})).then(()=>s.promise)}function cy(i){if(i._initialized&&!i._terminated)throw new w(Lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new S;return i._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{var n;yield function(s){return(n=n||(0,d.Z)(function*(l){if(!Bs.D())return Promise.resolve();const u=l+"main";yield Bs.delete(u)})).apply(this,arguments)}(tf(i._databaseId,i._persistenceKey)),e.resolve()}catch(s){e.reject(s)}})),e.promise}function uy(i){return function(e){const n=new S;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Zv(i,e){return(Yl=Yl||(0,d.Z)(function*(n,s){const l=Dn(n);ud(l.remoteStore)||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(M){const j=Dn(M);return j.persistence.runTransaction("Get highest unacknowledged batch id","readonly",ie=>j.mutationQueue.getHighestUnacknowledgedBatchId(ie))}(l.localStore);if(-1===u)return void s.resolve();const m=l.Ec.get(u)||[];m.push(s),l.Ec.set(u,m)}catch(u){const m=nu(u,"Initialization of waitForPendingWrites() operation failed");s.reject(m)}})).apply(this,arguments)}(yield Rm(e),n)})),n.promise}(_a(i=es(i,Bo)))}function Cf(i){return function ty(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield p_(i),n=yield m_(i);return e.setNetworkEnabled(!0),function(s){const l=Dn(s);return l.vu.delete(0),uf(l)}(n)}))}(_a(i=es(i,Bo)))}function dy(i){return function ny(i){return i.asyncQueue.enqueue((0,d.Z)(function*(){var e;const n=yield p_(i),s=yield m_(i);return n.setNetworkEnabled(!1),function(l){return(e=e||(0,d.Z)(function*(u){const m=Dn(u);m.vu.add(0),yield df(m),m.bu.set("Offline")})).apply(this,arguments)}(s)}))}(_a(i=es(i,Bo)))}function hy(i,e){const n=_a(i=es(i,Bo)),s=new E_;return function __(i,e,n,s){const l=function(u,m){let M;return M="string"==typeof u?xr().encode(u):u,j=function(j,ie){if(j instanceof Uint8Array)return Dm(j,void 0);if(j instanceof ArrayBuffer)return Dm(new Uint8Array(j),void 0);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Xv(j,m);var j}(n,cp(e));i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function h_(i,e,n){var s;const l=Dn(i);(function(u,m,M){return(s=s||(0,d.Z)(function*(j,ie,_e){try{const Le=yield ie.getMetadata();if(yield function(Tn,Pn){const Ii=Dn(Tn),Ai=ga(Pn.createTime);return Ii.persistence.runTransaction("hasNewerBundle","readonly",Pr=>Ii.qs.getBundleMetadata(Pr,Pn.id)).then(Pr=>!!Pr&&Pr.createTime.compareTo(Ai)>=0)}(j.localStore,Le))return yield ie.close(),_e._completeWith({taskState:"Success",documentsLoaded:(Tn=Le).totalDocuments,bytesLoaded:Tn.totalBytes,totalDocuments:Tn.totalDocuments,totalBytes:Tn.totalBytes}),Promise.resolve(new Set);_e._updateProgress(e_(Le));const pt=new Jg(Le,j.localStore,ie.serializer);let xt=yield ie.bc();for(;xt;){const Tn=yield pt.zu(xt);Tn&&_e._updateProgress(Tn),xt=yield ie.bc()}const ln=yield pt.complete();return yield Hu(j,ln.Ju,void 0),yield function(Tn,Pn){const Ii=Dn(Tn);return Ii.persistence.runTransaction("Save bundle","readwrite",Ai=>Ii.qs.saveBundleMetadata(Ai,Pn))}(j.localStore,Le),_e._completeWith(ln.progress),Promise.resolve(ln.Hu)}catch(Le){return ho("SyncEngine",`Loading bundle failed with ${Le}`),_e._failWith(Le),Promise.resolve(new Set)}var Tn})).apply(this,arguments)})(l,e,n).then(u=>{l.sharedClientState.notifyBundleLoaded(u)})}(yield Rm(i),l,s)}))}(n,i._databaseId,e,s),s}function fy(i,e){return function sy(i,e){return i.asyncQueue.enqueue((0,d.Z)(function*(){return function(n,s){const l=Dn(n);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,s))}(yield yf(i),e)}))}(_a(i=es(i,Bo)),e).then(n=>n?new bl(i,null,n.query):null)}function x_(i){if(i._initialized||i._terminated)throw new w(Lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(ft.fromBase64String(e))}catch(n){throw new w(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fd(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new w(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._methodName=e}}class Vd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new w(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new w(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}}const my=/^__.*__$/;class gy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new sc(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class D_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new sc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gn()}}class Sp{constructor(e,n,s,l,u,m){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.fa(e),l}da(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.aa({path:s,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(S_(this.ca)&&my.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class _y{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cp(e)}ya(e,n,s,l=!1){return new Sp({ca:e,methodName:n,ga:s,path:Oi.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(i){const e=i._freezeSettings(),n=cp(i._databaseId);return new _y(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Tf(i,e,n,s,l,u={}){const m=i.ya(u.merge||u.mergeFields?2:0,e,n,l);Bd("Data must be an object, but it was:",m,s);const M=k_(s,m);let j,ie;if(u.merge)j=new se(m.fieldMask),ie=m.fieldTransforms;else if(u.mergeFields){const _e=[];for(const Le of u.mergeFields){const pt=Ga(e,Le,n);if(!m.contains(pt))throw new w(Lt.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);Ap(_e,pt)||_e.push(pt)}j=new se(_e),ie=m.fieldTransforms.filter(Le=>j.covers(Le.field))}else j=null,ie=m.fieldTransforms;return new gy(new D(M),j,ie)}class kh extends Ld{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kh}}function A_(i,e,n){return new Sp({ca:3,ga:e.settings.ga,methodName:i._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class M_ extends Ld{_toFieldTransform(e){return new Wl(e.path,new sr)}isEqual(e){return e instanceof M_}}class R_ extends Ld{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=A_(this,e,!0),s=this.pa.map(u=>$u(u,n)),l=new Or(s);return new Wl(e.path,l)}isEqual(e){return this===e}}class O_ extends Ld{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=A_(this,e,!0),s=this.pa.map(u=>$u(u,n)),l=new so(s);return new Wl(e.path,l)}isEqual(e){return this===e}}class Hb extends Ld{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new ra(e.serializer,Uo(e.serializer,this.Ia));return new Wl(e.path,n)}isEqual(e){return this===e}}function Nh(i,e,n,s){const l=i.ya(1,e,n);Bd("Data must be an object, but it was:",l,s);const u=[],m=D.empty();rc(s,(j,ie)=>{const _e=Hd(e,j,n);ie=(0,b.m9)(ie);const Le=l.da(_e);if(ie instanceof kh)u.push(_e);else{const pt=$u(ie,Le);null!=pt&&(u.push(_e),m.set(_e,pt))}});const M=new se(u);return new D_(m,M,l.fieldTransforms)}function Lm(i,e,n,s,l,u){const m=i.ya(1,e,n),M=[Ga(e,s,n)],j=[l];if(u.length%2!=0)throw new w(Lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<u.length;pt+=2)M.push(Ga(e,u[pt])),j.push(u[pt+1]);const ie=[],_e=D.empty();for(let pt=M.length-1;pt>=0;--pt)if(!Ap(ie,M[pt])){const xt=M[pt];let ln=j[pt];ln=(0,b.m9)(ln);const Tn=m.da(xt);if(ln instanceof kh)ie.push(xt);else{const Pn=$u(ln,Tn);null!=Pn&&(ie.push(xt),_e.set(xt,Pn))}}const Le=new se(ie);return new D_(_e,Le,m.fieldTransforms)}function P_(i,e,n,s=!1){return $u(n,i.ya(s?4:3,e))}function $u(i,e){if(iu(i=(0,b.m9)(i)))return Bd("Unsupported field value:",e,i),k_(i,e);if(i instanceof Ld)return function(n,s){if(!S_(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,s){const l=[];let u=0;for(const m of n){let M=$u(m,s.wa(u));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),u++}return{arrayValue:{values:l}}}(i,e)}return function(n,s){if(null===(n=(0,b.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Uo(s.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=ji.fromDate(n);return{timestampValue:rh(s.serializer,l)}}if(n instanceof ji){const l=new ji(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rh(s.serializer,l)}}if(n instanceof Vd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fd)return{bytesValue:fg(s.serializer,n._byteString)};if(n instanceof Zo){const l=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vf(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${wf(n)}`)}(i,e)}function k_(i,e){const n={};return Ru(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(i,(s,l)=>{const u=$u(l,e.ha(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function iu(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ji||i instanceof Vd||i instanceof fd||i instanceof Zo||i instanceof Ld)}function Bd(i,e,n){if(!iu(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=wf(n);throw e._a("an object"===s?i+" a custom object":i+" "+s)}var s}function Ga(i,e,n){if((e=(0,b.m9)(e))instanceof zu)return e._internalPath;if("string"==typeof e)return Hd(i,e);throw Kl("Field path arguments must be of type string or ",i,!1,void 0,n)}const jd=new RegExp("[~\\*/\\[\\]]");function Hd(i,e,n){if(e.search(jd)>=0)throw Kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zu(...e.split("."))._internalPath}catch{throw Kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kl(i,e,n,s,l){const u=s&&!s.isEmpty(),m=void 0!==l;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let j="";return(u||m)&&(j+=" (found",u&&(j+=` in field ${s}`),m&&(j+=` in document ${l}`),j+=")"),new w(Lt.INVALID_ARGUMENT,M+i+j)}function Ap(i,e){return i.some(n=>n.isEqual(e))}class Eu{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fh extends Eu{data(){return super.data()}}function Gu(i,e){return"string"==typeof e?Hd(i,e):e instanceof zu?e._internalPath:e._delegate._internalPath}function zd(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new w(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pd{}class wu extends pd{}function Lh(i,e,...n){let s=[];e instanceof pd&&s.push(e),s=s.concat(n),function(l){const u=l.filter(M=>M instanceof $d).length,m=l.filter(M=>M instanceof Iu).length;if(u>1||u>0&&m>0)throw new w(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Iu extends wu{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Iu(e,n,s)}_apply(e){const n=this._parse(e);return Iy(e._query,n),new bl(e.firestore,e.converter,E(e._query,n))}_parse(e){const n=Ud(e.firestore);return function(l,u,m,M,j,ie,_e){let Le;if(j.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new w(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){U_(_e,ie);const pt=[];for(const xt of _e)pt.push(wy(M,l,xt));Le={arrayValue:{values:pt}}}else Le=wy(M,l,_e)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||U_(_e,ie),Le=P_(m,"where",_e,"in"===ie||"not-in"===ie);return wn.create(j,ie,Le)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vh(i,e,n){const s=e,l=Gu("where",i);return Iu._create(l,s,n)}class $d extends pd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $d(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(s,l){let u=s;const m=l.getFlattenedFilters();for(const M of m)Iy(u,M),u=E(u,M)}(e._query,n),new bl(e.firestore,e.converter,E(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mp extends wu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mp(e,n)}_apply(e){const n=function(s,l,u){if(null!==s.startAt)throw new w(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new w(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Jt(l,u);return function(M,j){if(null===eh(M)){const ie=Cd(M);null!==ie&&B_(0,ie,j.field)}}(s,m),m}(e._query,this._field,this._direction);return new bl(e.firestore,e.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new gc(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function N_(i,e="asc"){const n=e,s=Gu("orderBy",i);return Mp._create(s,n)}class Df extends wu{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Df(e,n,s)}_apply(e){return new bl(e.firestore,e.converter,N(e._query,this._limit,this._limitType))}}function F_(i){return Tp("limit",i),Df._create("limit",i,"F")}function L_(i){return Tp("limitToLast",i),Df._create("limitToLast",i,"L")}class Sf extends wu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Sf(e,n,s)}_apply(e){const n=V_(e,this.type,this._docOrFields,this._inclusive);return new bl(e.firestore,e.converter,(l=n,new gc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}function Vm(...i){return Sf._create("startAt",i,!0)}function by(...i){return Sf._create("startAfter",i,!1)}class Um extends wu{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Um(e,n,s)}_apply(e){const n=V_(e,this.type,this._docOrFields,this._inclusive);return new bl(e.firestore,e.converter,(l=n,new gc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function zb(...i){return Um._create("endBefore",i,!1)}function Ey(...i){return Um._create("endAt",i,!0)}function V_(i,e,n,s){if(n[0]=(0,b.m9)(n[0]),n[0]instanceof Eu)return function(l,u,m,M,j){if(!M)throw new w(Lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const ie=[];for(const _e of v(l))if(_e.field.isKeyField())ie.push(mc(u,M.key));else{const Le=M.data.field(_e.field);if(Kn(Le))throw new w(Lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_e.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const pt=_e.field.canonicalString();throw new w(Lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pt}' (used as the orderBy) does not exist.`)}ie.push(Le)}return new Be(ie,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=Ud(i.firestore);return function(u,m,M,j,ie,_e){const Le=u.explicitOrderBy;if(ie.length>Le.length)throw new w(Lt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pt=[];for(let xt=0;xt<ie.length;xt++){const ln=ie[xt];if(Le[xt].field.isKeyField()){if("string"!=typeof ln)throw new w(Lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof ln}`);if(!O(u)&&-1!==ln.indexOf("/"))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${ln}' contains a slash.`);const Tn=u.path.child(Si.fromString(ln));if(!dn.isDocumentKey(Tn))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Tn}' is not because it contains an odd number of segments.`);const Pn=new dn(Tn);pt.push(mc(m,Pn))}else{const Tn=P_(M,j,ln);pt.push(Tn)}}return new Be(pt,_e)}(i._query,i.firestore._databaseId,l,e,n,s)}}function wy(i,e,n){if("string"==typeof(n=(0,b.m9)(n))){if(""===n)throw new w(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O(e)&&-1!==n.indexOf("/"))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Si.fromString(n));if(!dn.isDocumentKey(s))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mc(i,new dn(s))}if(n instanceof Zo)return mc(i,n._key);throw new w(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function U_(i,e){if(!Array.isArray(i)||0===i.length)throw new w(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iy(i,e){if(e.isInequality()){const s=Cd(i),l=e.field;if(null!==s&&!s.isEqual(l))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${l.toString()}'`);const u=eh(i);null!==u&&B_(0,l,u)}const n=function(s,l){for(const u of s)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new w(Lt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function B_(i,e,n){if(!n.isEqual(e))throw new w(Lt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Bm{convertValue(e,n="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(On(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Gn()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rc(e,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertGeoPoint(e){return new Vd(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jn(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(si(e));default:return null}}convertTimestamp(e){const n=Yt(e);return new ji(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Si.fromString(e);tr(Eg(s));const l=new Hr(s.get(1),s.get(3)),u=new dn(s.popFirst(5));return l.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Uh(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Af extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,n)}}class Gd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends Eu{constructor(e,n,s,l,u,m){super(e,n,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mf extends su{data(e={}){return super.data(e)}}class Wd{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Gd(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mf(this._firestore,this._userDataWriter,s.key,s,new Gd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new w(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Mf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Gd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const M=new Mf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Gd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let j=-1,ie=-1;return 0!==m.type&&(j=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),ie=u.indexOf(m.doc.key)),{type:xy(m.type),doc:M,oldIndex:j,newIndex:ie}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gn()}}function Ty(i,e){return i instanceof su&&e instanceof su?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Wd&&e instanceof Wd&&i._firestore===e._firestore&&Oh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Hm(i){i=es(i,Zo);const e=es(i.firestore,Bo);return g_(_a(e),i._key).then(n=>$m(e,i,n))}class ou extends Bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,n)}}function Op(i){i=es(i,Zo);const e=es(i.firestore,Bo),n=_a(e),s=new ou(e);return function ry(i,e){const n=new S;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){var s;return function(l,u,m){return(s=s||(0,d.Z)(function*(M,j,ie){try{const _e=yield function(Le,pt){const xt=Dn(Le);return xt.persistence.runTransaction("read document","readonly",ln=>xt.localDocuments.getDocument(ln,pt))}(M,j);_e.isFoundDocument()?ie.resolve(_e):_e.isNoDocument()?ie.resolve(null):ie.reject(new w(Lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_e){const Le=nu(_e,`Failed to get document '${j} from cache`);ie.reject(Le)}})).apply(this,arguments)}(yield yf(i),e,n)})),n.promise}(n,i._key).then(l=>new su(e,s,i._key,l,new Gd(null!==l&&l.hasLocalMutations,!0),i.converter))}function $b(i){i=es(i,Zo);const e=es(i.firestore,Bo);return g_(_a(e),i._key,{source:"server"}).then(n=>$m(e,i,n))}function Dy(i){i=es(i,bl);const e=es(i.firestore,Bo),n=_a(e),s=new ou(e);return zd(i._query),xp(n,i._query).then(l=>new Wd(e,s,i,l))}function Sy(i){i=es(i,bl);const e=es(i.firestore,Bo),n=_a(e),s=new ou(e);return function yu(i,e){const n=new S;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){var s;return function(l,u,m){return(s=s||(0,d.Z)(function*(M,j,ie){try{const _e=yield cm(M,j,!0),Le=new r_(j,_e.ir),pt=Le.sc(_e.documents),xt=Le.applyChanges(pt,!1);ie.resolve(xt.snapshot)}catch(_e){const Le=nu(_e,`Failed to execute query '${j} against cache`);ie.reject(Le)}})).apply(this,arguments)}(yield yf(i),e,n)})),n.promise}(n,i._query).then(l=>new Wd(e,s,i,l))}function zm(i){i=es(i,bl);const e=es(i.firestore,Bo),n=_a(e),s=new ou(e);return xp(n,i._query,{source:"server"}).then(l=>new Wd(e,s,i,l))}function Ay(i,e,n){i=es(i,Zo);const s=es(i.firestore,Bo),l=Uh(i.converter,e,n);return qd(s,[Tf(Ud(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,ss.none())])}function $_(i,e,n,...s){i=es(i,Zo);const l=es(i.firestore,Bo),u=Ud(l);let m;return m="string"==typeof(e=(0,b.m9)(e))||e instanceof zu?Lm(u,"updateDoc",i._key,e,n,s):Nh(u,"updateDoc",i._key,e),qd(l,[m.toMutation(i._key,ss.exists(!0))])}function My(i){return qd(es(i.firestore,Bo),[new od(i._key,ss.none())])}function Ry(i,e){const n=es(i.firestore,Bo),s=Rh(i),l=Uh(i.converter,e);return qd(n,[Tf(Ud(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,ss.exists(!1))]).then(()=>s)}function G_(i,...e){var n,s,l;i=(0,b.m9)(i);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Nm(e[m])||(u=e[m],m++);const M={includeMetadataChanges:u.includeMetadataChanges};if(Nm(e[m])){const Le=e[m];e[m]=null===(n=Le.next)||void 0===n?void 0:n.bind(Le),e[m+1]=null===(s=Le.error)||void 0===s?void 0:s.bind(Le),e[m+2]=null===(l=Le.complete)||void 0===l?void 0:l.bind(Le)}let j,ie,_e;if(i instanceof Zo)ie=es(i.firestore,Bo),_e=sd(i._key.path),j={next:Le=>{e[m]&&e[m]($m(ie,i,Le))},error:e[m+1],complete:e[m+2]};else{const Le=es(i,bl);ie=es(Le.firestore,Bo),_e=Le._query;const pt=new ou(ie);j={next:xt=>{e[m]&&e[m](new Wd(ie,pt,Le,xt))},error:e[m+1],complete:e[m+2]},zd(i._query)}return function(Le,pt,xt,ln){const Tn=new wp(ln),Pn=new hd(pt,Tn,xt);return Le.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return ff(yield Mh(Le),Pn)})),()=>{Tn.Dc(),Le.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Nd(yield Mh(Le),Pn)}))}}(_a(ie),_e,M,j)}function W_(i,e){return function iy(i,e){const n=new wp(e);return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield Mh(i),l=n,Dn(s).ku.add(l),void l.next();var s,l})),()=>{n.Dc(),i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return s=yield Mh(i),l=n,void Dn(s).ku.delete(l);var s,l}))}}(_a(i=es(i,Bo)),Nm(e)?e:{next:e})}function qd(i,e){return function(n,s){const l=new S;return n.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function a_(i,e,n){return(wa=wa||(0,d.Z)(function*(s,l,u){const m=xm(s);try{const M=yield function(j,ie){const _e=Dn(j),Le=ji.now(),pt=ie.reduce((Tn,Pn)=>Tn.add(Pn.key),Sr());let xt,ln;return _e.persistence.runTransaction("Locally write mutations","readwrite",Tn=>{let Pn=Qn(),Ii=Sr();return _e.Zi.getEntries(Tn,pt).next(Ai=>{Pn=Ai,Pn.forEach((Pr,wi)=>{wi.isValidDocument()||(Ii=Ii.add(Pr))})}).next(()=>_e.localDocuments.getOverlayedDocuments(Tn,Pn)).next(Ai=>{xt=Ai;const Pr=[];for(const wi of ie){const Ds=nh(wi,xt.get(wi.key).overlayedDocument);null!=Ds&&Pr.push(new sc(wi.key,Ds,le(Ds.value.mapValue),ss.exists(!0)))}return _e.mutationQueue.addMutationBatch(Tn,Le,Pr,ie)}).next(Ai=>{ln=Ai;const Pr=Ai.applyToLocalDocumentSet(xt,Ii);return _e.documentOverlayCache.saveOverlays(Tn,Ai.batchId,Pr)})}).then(()=>({batchId:ln.batchId,changes:xo(xt)}))}(m.localStore,l);m.sharedClientState.addPendingMutation(M.batchId),function(j,ie,_e){let Le=j.Tc[j.currentUser.toKey()];Le||(Le=new is(Rn)),Le=Le.insert(ie,_e),j.Tc[j.currentUser.toKey()]=Le}(m,M.batchId,u),yield Hu(m,M.changes),yield xh(m.remoteStore)}catch(M){const j=nu(M,"Failed to persist write");u.reject(j)}})).apply(this,arguments)}(yield Rm(n),s,l)})),l.promise}(_a(i),e)}function $m(i,e,n){const s=n.docs.get(e._key),l=new ou(i);return new su(i,l,e._key,s,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}const Zm={maxAttempts:5};class Ym{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ud(e)}set(e,n,s){this._verifyNotCommitted();const l=Wu(e,this._firestore),u=Uh(l.converter,n,s),m=Tf(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,ss.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const u=Wu(e,this._firestore);let m;return m="string"==typeof(n=(0,b.m9)(n))||n instanceof zu?Lm(this._dataReader,"WriteBatch.update",u._key,n,s,l):Nh(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(m.toMutation(u._key,ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wu(e,this._firestore);return this._mutations=this._mutations.concat(new od(n._key,ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new w(Lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wu(i,e){if((i=(0,b.m9)(i)).firestore!==e)throw new w(Lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Vy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ud(e)}get(e){const n=Wu(e,this._firestore),s=new Af(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Gn();const u=l[0];if(u.isFoundDocument())return new Eu(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Eu(this._firestore,s,n._key,null,n.converter);throw Gn()})}set(e,n,s){const l=Wu(e,this._firestore),u=Uh(l.converter,n,s),m=Tf(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,s);return this._transaction.set(l._key,m),this}update(e,n,s,...l){const u=Wu(e,this._firestore);let m;return m="string"==typeof(n=(0,b.m9)(n))||n instanceof zu?Lm(this._dataReader,"Transaction.update",u._key,n,s,l):Nh(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,m),this}delete(e){const n=Wu(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wu(e,this._firestore),s=new ou(this._firestore);return super.get(e).then(l=>new su(this._firestore,s,n._key,l._document,new Gd(!1,!1),n.converter))}}function Uy(i,e,n){i=es(i,Bo);const s=Object.assign(Object.assign({},Zm),n);return function(l){if(l.maxAttempts<1)throw new w(Lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,u,m){const M=new S;return l.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const j=yield function Cp(i){return Ip(i).then(e=>e.datastore)}(l);new Jv(l.asyncQueue,j,m,u,M).run()})),M.promise}(_a(i),l=>e(new Vy(i,l)),s)}function Y_(){return new kh("deleteField")}function Qm(){return new M_("serverTimestamp")}function Q_(...i){return new R_("arrayUnion",i)}function Xm(...i){return new O_("arrayRemove",i)}function Jm(i){return new Hb("increment",i)}!function(i,e=!0){Co=H.SDK_VERSION,(0,H._registerComponent)(new ae.wA("firestore",(n,{instanceIdentifier:s,options:l})=>{const u=n.getProvider("app").getImmediate(),m=new Bo(new me(n.getProvider("auth-internal")),new Gt(n.getProvider("app-check-internal")),function(M,j){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new w(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hr(M.options.projectId,j)}(u,s),u);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),(0,H.registerVersion)(mi,"3.13.0",i),(0,H.registerVersion)(mi,"3.13.0","esm2017")}()},9058:(pn,st,V)=>{V.d(st,{$s:()=>gn,BH:()=>je,G6:()=>zn,L:()=>Fe,LL:()=>ut,P0:()=>Ut,Pz:()=>Qe,Sg:()=>Je,UG:()=>Ft,US:()=>ke,ZB:()=>Ke,ZR:()=>Mt,aH:()=>Re,b$:()=>cn,eu:()=>Ct,hl:()=>_t,jU:()=>yn,m9:()=>_i,ne:()=>fr,pd:()=>$n,q4:()=>Zt,r3:()=>br,ru:()=>hn,tV:()=>he,uI:()=>et,vZ:()=>hi,w1:()=>ei,xO:()=>Ar,xb:()=>ui,z$:()=>Pt,zI:()=>ct,zd:()=>kn});const Te=function(be){const G=[];let k=0;for(let L=0;L<be.length;L++){let F=be.charCodeAt(L);F<128?G[k++]=F:F<2048?(G[k++]=F>>6|192,G[k++]=63&F|128):55296==(64512&F)&&L+1<be.length&&56320==(64512&be.charCodeAt(L+1))?(F=65536+((1023&F)<<10)+(1023&be.charCodeAt(++L)),G[k++]=F>>18|240,G[k++]=F>>12&63|128,G[k++]=F>>6&63|128,G[k++]=63&F|128):(G[k++]=F>>12|224,G[k++]=F>>6&63|128,G[k++]=63&F|128)}return G},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,G){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let F=0;F<be.length;F+=3){const de=be[F],We=F+1<be.length,vt=We?be[F+1]:0,on=F+2<be.length,qt=on?be[F+2]:0;let rr=(15&vt)<<2|qt>>6,Ir=63&qt;on||(Ir=64,We||(rr=64)),L.push(k[de>>2],k[(3&de)<<4|vt>>4],k[rr],k[Ir])}return L.join("")},encodeString(be,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(be):this.encodeByteArray(Te(be),G)},decodeString(be,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(be):function(be){const G=[];let k=0,L=0;for(;k<be.length;){const F=be[k++];if(F<128)G[L++]=String.fromCharCode(F);else if(F>191&&F<224){const de=be[k++];G[L++]=String.fromCharCode((31&F)<<6|63&de)}else if(F>239&&F<365){const on=((7&F)<<18|(63&be[k++])<<12|(63&be[k++])<<6|63&be[k++])-65536;G[L++]=String.fromCharCode(55296+(on>>10)),G[L++]=String.fromCharCode(56320+(1023&on))}else{const de=be[k++],We=be[k++];G[L++]=String.fromCharCode((15&F)<<12|(63&de)<<6|63&We)}}return G.join("")}(this.decodeStringToByteArray(be,G))},decodeStringToByteArray(be,G){this.init_();const k=G?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let F=0;F<be.length;){const de=k[be.charAt(F++)],vt=F<be.length?k[be.charAt(F)]:0;++F;const qt=F<be.length?k[be.charAt(F)]:64;++F;const In=F<be.length?k[be.charAt(F)]:64;if(++F,null==de||null==vt||null==qt||null==In)throw new Ve;L.push(de<<2|vt>>4),64!==qt&&(L.push(vt<<4&240|qt>>2),64!==In&&L.push(qt<<6&192|In))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function(be){return function(be){const G=Te(be);return ke.encodeByteArray(G,!0)}(be).replace(/\./g,"")},he=function(be){try{return ke.decodeString(be,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Ke(be,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return G}for(const k in G)!G.hasOwnProperty(k)||!lt(k)||(be[k]=Ke(be[k],G[k]));return be}function lt(be){return"__proto__"!==be}const Rt=()=>{try{return function mt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=be&&he(be[1]);return G&&JSON.parse(G)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},Zt=be=>{var G,k;return null===(k=null===(G=Rt())||void 0===G?void 0:G.emulatorHosts)||void 0===k?void 0:k[be]},Ut=be=>{const G=Zt(be);if(!G)return;const k=G.lastIndexOf(":");if(k<=0||k+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const L=parseInt(G.substring(k+1),10);return"["===G[0]?[G.substring(1,k-1),L]:[G.substring(0,k),L]},Re=()=>{var be;return null===(be=Rt())||void 0===be?void 0:be.config},Qe=be=>{var G;return null===(G=Rt())||void 0===G?void 0:G[`_${be}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,k)=>{this.resolve=G,this.reject=k})}wrapCallback(G){return(k,L)=>{k?this.reject(k):this.resolve(L),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(k):G(k,L))}}}function Je(be,G){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=G||"demo-project",F=be.iat||0,de=be.sub||be.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:F,exp:F+3600,auth_time:F,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},be);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(We)),""].join(".")}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function Ft(){var be;const G=null===(be=Rt())||void 0===be?void 0:be.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yn(){return"object"==typeof self&&self.self===self}function hn(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ei(){const be=Pt();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function zn(){return!Ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){try{return"object"==typeof indexedDB}catch{return!1}}function Ct(){return new Promise((be,G)=>{try{let k=!0;const L="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(L);F.onsuccess=()=>{F.result.close(),k||self.indexedDB.deleteDatabase(L),be(!0)},F.onupgradeneeded=()=>{k=!1},F.onerror=()=>{var de;G((null===(de=F.error)||void 0===de?void 0:de.message)||"")}}catch(k){G(k)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mt extends Error{constructor(G,k,L){super(k),this.code=G,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(G,k,L){this.service=G,this.serviceName=k,this.errors=L}create(G,...k){const L=k[0]||{},F=`${this.service}/${G}`,de=this.errors[G],We=de?function Ht(be,G){return be.replace(At,(k,L)=>{const F=G[L];return null!=F?String(F):`<${L}?>`})}(de,L):"Error";return new Mt(F,`${this.serviceName}: ${We} (${F}).`,L)}}const At=/\{\$([^}]+)}/g;function br(be,G){return Object.prototype.hasOwnProperty.call(be,G)}function ui(be){for(const G in be)if(Object.prototype.hasOwnProperty.call(be,G))return!1;return!0}function hi(be,G){if(be===G)return!0;const k=Object.keys(be),L=Object.keys(G);for(const F of k){if(!L.includes(F))return!1;const de=be[F],We=G[F];if(Kr(de)&&Kr(We)){if(!hi(de,We))return!1}else if(de!==We)return!1}for(const F of L)if(!k.includes(F))return!1;return!0}function Kr(be){return null!==be&&"object"==typeof be}function Ar(be){const G=[];for(const[k,L]of Object.entries(be))Array.isArray(L)?L.forEach(F=>{G.push(encodeURIComponent(k)+"="+encodeURIComponent(F))}):G.push(encodeURIComponent(k)+"="+encodeURIComponent(L));return G.length?"&"+G.join("&"):""}function kn(be){const G={};return be.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[F,de]=L.split("=");G[decodeURIComponent(F)]=decodeURIComponent(de)}}),G}function $n(be){const G=be.indexOf("?");if(!G)return"";const k=be.indexOf("#",G);return be.substring(G,k>0?k:void 0)}function fr(be,G){const k=new _r(be,G);return k.subscribe.bind(k)}class _r{constructor(G,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{G(this)}).catch(L=>{this.error(L)})}next(G){this.forEachObserver(k=>{k.next(G)})}error(G){this.forEachObserver(k=>{k.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,k,L){let F;if(void 0===G&&void 0===k&&void 0===L)throw new Error("Missing Observer.");F=function Er(be,G){if("object"!=typeof be||null===be)return!1;for(const k of G)if(k in be&&"function"==typeof be[k])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:k,complete:L},void 0===F.next&&(F.next=vr),void 0===F.error&&(F.error=vr),void 0===F.complete&&(F.complete=vr);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),de}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,G)}sendOne(G,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{k(this.observers[G])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Tt=1e3,Xe=2,ht=144e5,Bt=.5;function gn(be,G=Tt,k=Xe){const L=G*Math.pow(k,be),F=Math.round(Bt*L*(Math.random()-.5)*2);return Math.min(ht,L+F)}function _i(be){return be&&be._delegate?be._delegate:be}},2333:(pn,st,V)=>{V.d(st,{F:()=>ae});var d=V(5879),H=V(9790);let ae=(()=>{var Te;class b{constructor(Ve){this.router=Ve}setElementInLocalstorage(Ve,Ae){return localStorage.setItem(Ve,JSON.stringify(Ae))}getElementFromLocalStorage(Ve){return JSON.parse(localStorage.getItem(Ve))}routerLink(Ve){return this.router.navigateByUrl(Ve)}}return(Te=b).\u0275fac=function(Ve){return new(Ve||Te)(d.LFG(H.F0))},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),b})()},6999:(pn,st,V)=>{V.d(st,{O:()=>od});var Ve,Ae,Fe,Ke,mt,jt,kt,St,Rt,Zt,Ut,Ur,Ht,Xn,Mn,Zr,Er,Vi,Mr,Mi,ht,pr,F,We,vt,on,qt,d=V(5861),H=V(9058),ae=V(534),Te=V(7879),b=V(7582),ke=V(4537);const Nn=function _n(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dr=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vi=new Te.Yd("@firebase/auth");function ti(B,...h){vi.logLevel<=Te.in.ERROR&&vi.error(`Auth (${ae.SDK_VERSION}): ${B}`,...h)}function Qr(B,...h){throw mo(B,...h)}function Tr(B,...h){return mo(B,...h)}function mo(B,...h){if("string"!=typeof B){const p=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=B.name),B._errorFactory.create(p,...I)}return dr.create(B,...h)}function un(B,h,...p){if(!B)throw mo(h,...p)}function Xr(B){const h="INTERNAL ASSERTION FAILED: "+B;throw ti(h),new Error(h)}function Ui(B,h){B||Xr(h)}function us(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.href)||""}function oe(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.protocol)||null}class ce{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ui(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nt(){return"http:"===oe()||"https:"===oe()}()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ee(B,h){Ui(B.emulator,"Emulator should always be set here");const{url:p}=B.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class qe{static initialize(h,p,I){this.fetchImpl=h,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new ce(3e4,6e4);function ge(B,h){return B.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:B.tenantId}):h}function $e(B,h,p,I){return(Ve=Ve||(0,d.Z)(function*(X,ue,Ie,ze,dt={}){return De(X,dt,(0,d.Z)(function*(){let en={},Bn={};ze&&("GET"===ue?Bn=ze:en={body:JSON.stringify(ze)});const ur=(0,H.xO)(Object.assign({key:X.config.apiKey},Bn)).slice(1),xr=yield X._getAdditionalHeaders();return xr["Content-Type"]="application/json",X.languageCode&&(xr["X-Firebase-Locale"]=X.languageCode),qe.fetch()(ot(X,X.config.apiHost,Ie,ur),Object.assign({method:ue,headers:xr,referrerPolicy:"no-referrer"},en))}))})).apply(this,arguments)}function De(B,h,p){return(Ae=Ae||(0,d.Z)(function*(I,X,ue){I._canInitEmulator=!1;const Ie=Object.assign(Object.assign({},bt),X);try{const ze=new Wt(I),dt=yield Promise.race([ue(),ze.promise]);ze.clearNetworkTimeout();const en=yield dt.json();if("needConfirmation"in en)throw vn(I,"account-exists-with-different-credential",en);if(dt.ok&&!("errorMessage"in en))return en;{const Bn=dt.ok?en.errorMessage:en.error.message,[ur,xr]=Bn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ur)throw vn(I,"credential-already-in-use",en);if("EMAIL_EXISTS"===ur)throw vn(I,"email-already-in-use",en);if("USER_DISABLED"===ur)throw vn(I,"user-disabled",en);const Wi=Ie[ur]||ur.toLowerCase().replace(/[_\s]+/g,"-");if(xr)throw function cs(B,h,p){const I=Object.assign(Object.assign({},Nn()),{[h]:p});return new H.LL("auth","Firebase",I).create(h,{appName:B.name})}(I,Wi,xr);Qr(I,Wi)}}catch(ze){if(ze instanceof H.ZR)throw ze;Qr(I,"network-request-failed",{message:String(ze)})}})).apply(this,arguments)}function ot(B,h,p,I){const X=`${h}${p}?${I}`;return B.config.emulator?Ee(B.config,X):`${B.config.apiScheme}://${X}`}class Wt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Tr(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(B,h,p){const I={appName:B.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const X=Tr(B,h,I);return X.customData._tokenResponse=p,X}function $s(B){if(B)try{const h=new Date(Number(B));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ii(B){return 1e3*Number(B)}function Ri(B){const[h,p,I]=B.split(".");if(void 0===h||void 0===p||void 0===I)return ti("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,H.tV)(p);return X?JSON.parse(X):(ti("Failed to decode base64 JWT payload"),null)}catch(X){return ti("Caught error parsing JWT payload as JSON",X?.toString()),null}}function ai(B,h){return(kt=kt||(0,d.Z)(function*(p,I,X=!1){if(X)return I;try{return yield I}catch(ue){throw ue instanceof H.ZR&&function ts({code:B}){return"auth/user-disabled"===B||"auth/user-token-expired"===B}(ue)&&p.auth.currentUser===p&&(yield p.auth.signOut()),ue}})).apply(this,arguments)}class Ys{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const X=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),I)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class jo{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=$s(this.lastLoginAt),this.creationTime=$s(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fr(B){return(St=St||(0,d.Z)(function*(h){var p;const I=h.auth,X=yield h.getIdToken(),ue=yield ai(h,function Zs(B,h){return(mt=mt||(0,d.Z)(function*(p,I){return $e(p,"POST","/v1/accounts:lookup",I)})).apply(this,arguments)}(I,{idToken:X}));un(ue?.users.length,I,"internal-error");const Ie=ue.users[0];h._notifyReloadListener(Ie);const ze=null!==(p=Ie.providerUserInfo)&&void 0!==p&&p.length?function Cn(B){return B.map(h=>{var{providerId:p}=h,I=(0,b._T)(h,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(Ie.providerUserInfo):[],dt=function yi(B,h){return[...B.filter(I=>!h.some(X=>X.providerId===I.providerId)),...h]}(h.providerData,ze),ur=!!h.isAnonymous&&!(h.email&&Ie.passwordHash||dt?.length),xr={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:dt,metadata:new jo(Ie.createdAt,Ie.lastLoginAt),isAnonymous:ur};Object.assign(h,xr)})).apply(this,arguments)}class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){un(h.idToken,"internal-error"),un(typeof h.idToken<"u","internal-error"),un(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function ys(B){const h=Ri(B);return un(h,"internal-error"),un(typeof h.exp<"u","internal-error"),un(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var I=this;return(0,d.Z)(function*(){return un(!I.accessToken||I.refreshToken,h,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var I=this;return(0,d.Z)(function*(){const{accessToken:X,refreshToken:ue,expiresIn:Ie}=yield function yr(B,h){return(Zt=Zt||(0,d.Z)(function*(p,I){const X=yield De(p,{},(0,d.Z)(function*(){const ue=(0,H.xO)({grant_type:"refresh_token",refresh_token:I}).slice(1),{tokenApiHost:Ie,apiKey:ze}=p.config,dt=ot(p,Ie,"/v1/token",`key=${ze}`),en=yield p._getAdditionalHeaders();return en["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(dt,{method:"POST",headers:en,body:ue})}));return{accessToken:X.access_token,expiresIn:X.expires_in,refreshToken:X.refresh_token}})).apply(this,arguments)}(h,p);I.updateTokensAndExpiration(X,ue,Number(Ie))})()}updateTokensAndExpiration(h,p,I){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,p){const{refreshToken:I,accessToken:X,expirationTime:ue}=p,Ie=new bi;return I&&(un("string"==typeof I,"internal-error",{appName:h}),Ie.refreshToken=I),X&&(un("string"==typeof X,"internal-error",{appName:h}),Ie.accessToken=X),ue&&(un("number"==typeof ue,"internal-error",{appName:h}),Ie.expirationTime=ue),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return Xr("not implemented")}}function zi(B,h){un("string"==typeof B||typeof B>"u","internal-error",{appName:h})}class Gs{constructor(h){var{uid:p,auth:I,stsTokenManager:X}=h,ue=(0,b._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new jo(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const I=yield ai(p,p.stsTokenManager.getToken(p.auth,h));return un(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(h){return function Cr(B){return(jt=jt||(0,d.Z)(function*(h,p=!1){const I=(0,H.m9)(h),X=yield I.getIdToken(p),ue=Ri(X);un(ue&&ue.exp&&ue.auth_time&&ue.iat,I.auth,"internal-error");const Ie="object"==typeof ue.firebase?ue.firebase:void 0,ze=Ie?.sign_in_provider;return{claims:ue,token:X,authTime:$s(ii(ue.auth_time)),issuedAtTime:$s(ii(ue.iat)),expirationTime:$s(ii(ue.exp)),signInProvider:ze||null,signInSecondFactor:Ie?.sign_in_second_factor||null}})).apply(this,arguments)}(this,h)}reload(){return function Ma(B){return(Rt=Rt||(0,d.Z)(function*(h){const p=(0,H.m9)(h);yield Fr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}(this)}_assign(h){this!==h&&(un(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Gs(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){un(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var I=this;return(0,d.Z)(function*(){let X=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),X=!0),p&&(yield Fr(I)),yield I.auth._persistUserIfCurrent(I),X&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,d.Z)(function*(){const p=yield h.getIdToken();return yield ai(h,function xi(B,h){return(Ke=Ke||(0,d.Z)(function*(p,I){return $e(p,"POST","/v1/accounts:delete",I)})).apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var I,X,ue,Ie,ze,dt,en,Bn;const ur=null!==(I=p.displayName)&&void 0!==I?I:void 0,xr=null!==(X=p.email)&&void 0!==X?X:void 0,Wi=null!==(ue=p.phoneNumber)&&void 0!==ue?ue:void 0,pa=null!==(Ie=p.photoURL)&&void 0!==Ie?Ie:void 0,Ko=null!==(ze=p.tenantId)&&void 0!==ze?ze:void 0,ia=null!==(dt=p._redirectEventId)&&void 0!==dt?dt:void 0,$a=null!==(en=p.createdAt)&&void 0!==en?en:void 0,oc=null!==(Bn=p.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:nl,emailVerified:xs,isAnonymous:ma,providerData:rl,stsTokenManager:eu}=p;un(nl&&eu,h,"internal-error");const Ff=bi.fromJSON(this.name,eu);un("string"==typeof nl,h,"internal-error"),zi(ur,h.name),zi(xr,h.name),un("boolean"==typeof xs,h,"internal-error"),un("boolean"==typeof ma,h,"internal-error"),zi(Wi,h.name),zi(pa,h.name),zi(Ko,h.name),zi(ia,h.name),zi($a,h.name),zi(oc,h.name);const ad=new Gs({uid:nl,auth:h,email:xr,emailVerified:xs,displayName:ur,isAnonymous:ma,photoURL:pa,phoneNumber:Wi,tenantId:Ko,stsTokenManager:Ff,createdAt:$a,lastLoginAt:oc});return rl&&Array.isArray(rl)&&(ad.providerData=rl.map(xd=>Object.assign({},xd))),ia&&(ad._redirectEventId=ia),ad}static _fromIdTokenResponse(h,p,I=!1){return(0,d.Z)(function*(){const X=new bi;X.updateFromServerResponse(p);const ue=new Gs({uid:p.localId,auth:h,stsTokenManager:X,isAnonymous:I});return yield Fr(ue),ue})()}}const ns=new Map;function Ws(B){Ui(B instanceof Function,"Expected a class definition");let h=ns.get(B);return h?(Ui(h instanceof B,"Instance stored in cache mismatched with class"),h):(h=new B,ns.set(B,h),h)}const Ki=(()=>{class B{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,I){var X=this;return(0,d.Z)(function*(){X.storage[p]=I})()}_get(p){var I=this;return(0,d.Z)(function*(){const X=I.storage[p];return void 0===X?null:X})()}_remove(p){var I=this;return(0,d.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return B.type="NONE",B})();function To(B,h,p){return`firebase:${B}:${h}:${p}`}class lr{constructor(h,p,I){this.persistence=h,this.auth=p,this.userKey=I;const{config:X,name:ue}=this.auth;this.fullUserKey=To(this.userKey,X.apiKey,ue),this.fullPersistenceKey=To("persistence",X.apiKey,ue),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Gs._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,I="authUser"){return(0,d.Z)(function*(){var X,ue;if(!p.length)return new lr(Ws(Ki),h,I);const Ie=(yield Promise.all(p.map(function(ur){return(X=X||(0,d.Z)(function*(xr){if(yield xr._isAvailable())return xr})).apply(this,arguments)}))).filter(ur=>ur);let ze=Ie[0]||Ws(Ki);const dt=To(I,h.config.apiKey,h.name);let en=null;for(const ur of p)try{const xr=yield ur._get(dt);if(xr){const Wi=Gs._fromJSON(h,xr);ur!==ze&&(en=Wi),ze=ur;break}}catch{}const Bn=Ie.filter(ur=>ur._shouldAllowMigration);return ze._shouldAllowMigration&&Bn.length?(ze=Bn[0],en&&(yield ze._set(dt,en.toJSON())),yield Promise.all(p.map(function(ur){return(ue=ue||(0,d.Z)(function*(xr){if(xr!==ze)try{yield xr._remove(dt)}catch{}})).apply(this,arguments)})),new lr(ze,h,I)):new lr(ze,h,I)})()}}function Do(B){const h=B.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(oo(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(go(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(_o(h))return"Blackberry";if(va(h))return"Webos";if(Vs(h))return"Safari";if((h.includes("chrome/")||Zi(h))&&!h.includes("edge/"))return"Chrome";if(sa(h))return"Android";{const I=B.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function go(B=(0,H.z$)()){return/firefox\//i.test(B)}function Vs(B=(0,H.z$)()){const h=B.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Zi(B=(0,H.z$)()){return/crios\//i.test(B)}function oo(B=(0,H.z$)()){return/iemobile/i.test(B)}function sa(B=(0,H.z$)()){return/android/i.test(B)}function _o(B=(0,H.z$)()){return/blackberry/i.test(B)}function va(B=(0,H.z$)()){return/webos/i.test(B)}function oa(B=(0,H.z$)()){return/iphone|ipad|ipod/i.test(B)||/macintosh/i.test(B)&&/mobile/i.test(B)}function ao(B=(0,H.z$)()){return oa(B)||sa(B)||va(B)||_o(B)||/windows phone/i.test(B)||oo(B)}function Xs(B,h=[]){let p;switch(B){case"Browser":p=Do((0,H.z$)());break;case"Worker":p=`${Do((0,H.z$)())}-${B}`;break;default:p=B}const I=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${I}`}class Ra{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const I=ue=>new Promise((Ie,ze)=>{try{Ie(h(ue))}catch(dt){ze(dt)}});I.onAbort=p,this.queue.push(I);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,d.Z)(function*(){if(p.auth.currentUser===h)return;const I=[];try{for(const X of p.queue)yield X(h),X.onAbort&&I.push(X.onAbort)}catch(X){I.reverse();for(const ue of I)try{ue()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:X?.message})}})()}}class ds{constructor(h){var p,I,X,ue;const Ie=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ie.minPasswordLength)&&void 0!==p?p:6,Ie.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ie.maxPasswordLength),void 0!==Ie.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ie.containsLowercaseCharacter),void 0!==Ie.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ie.containsUppercaseCharacter),void 0!==Ie.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ie.containsNumericCharacter),void 0!==Ie.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ie.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(ue=h.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,I,X,ue,Ie,ze;const dt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,dt),this.validatePasswordCharacterOptions(h,dt),dt.isValid&&(dt.isValid=null===(p=dt.meetsMinPasswordLength)||void 0===p||p),dt.isValid&&(dt.isValid=null===(I=dt.meetsMaxPasswordLength)||void 0===I||I),dt.isValid&&(dt.isValid=null===(X=dt.containsLowercaseLetter)||void 0===X||X),dt.isValid&&(dt.isValid=null===(ue=dt.containsUppercaseLetter)||void 0===ue||ue),dt.isValid&&(dt.isValid=null===(Ie=dt.containsNumericCharacter)||void 0===Ie||Ie),dt.isValid&&(dt.isValid=null===(ze=dt.containsNonAlphanumericCharacter)||void 0===ze||ze),dt}validatePasswordLengthOptions(h,p){const I=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;I&&(p.meetsMinPasswordLength=h.length>=I),X&&(p.meetsMaxPasswordLength=h.length<=X)}validatePasswordCharacterOptions(h,p){let I;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let X=0;X<h.length;X++)I=h.charAt(X),this.updatePasswordCharacterOptionsStatuses(p,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,p,I,X,ue){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ue))}}class Js{constructor(h,p,I,X){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.beforeStateQueue=new Ra(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(h,p){var I=this;return p&&(this._popupRedirectResolver=Ws(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var X,ue;if(!I._deleted&&(I.persistenceManager=yield lr.create(I,h),!I._deleted)){if(null!==(X=I._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(ue=I.currentUser)||void 0===ue?void 0:ue.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var I;const X=yield p.assertedPersistence.getCurrentUser();let ue=X,Ie=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ze=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,dt=ue?._redirectEventId,en=yield p.tryRedirectSignIn(h);(!ze||ze===dt)&&en?.user&&(ue=en.user,Ie=!0)}if(!ue)return p.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ie)try{yield p.beforeStateQueue.runMiddleware(ue)}catch(ze){ue=X,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ze))}return ue?p.reloadAndSetCurrentUserOrClear(ue):p.directlySetCurrentUser(null)}return un(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ue._redirectEventId?p.directlySetCurrentUser(ue):p.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield Fr(h)}catch(I){if("auth/network-request-failed"!==I?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function $(){if(typeof navigator>"u")return null;const B=navigator;return B.languages&&B.languages[0]||B.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){const I=h?(0,H.m9)(h):null;return I&&un(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(h,p=!1){var I=this;return(0,d.Z)(function*(){if(!I._deleted)return h&&un(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,d.Z)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(Ws(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,d.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const I=p._getPasswordPolicyInternal();return I.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.Z)(function*(){const p=yield function Ss(B){return(Ut=Ut||(0,d.Z)(function*(h,p={}){return $e(h,"GET","/v2/passwordPolicy",ge(h,p))})).apply(this,arguments)}(h),I=new ds(p);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new H.LL("auth","Firebase",h())}onAuthStateChanged(h,p,I){return this.registerStateListener(this.authStateSubscription,h,p,I)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,I){return this.registerStateListener(this.idTokenSubscription,h,p,I)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var I=this;return(0,d.Z)(function*(){const X=yield I.getOrInitRedirectPersistenceManager(p);return null===h?X.removeCurrentUser():X.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const I=h&&Ws(h)||p._popupRedirectResolver;un(I,p,"argument-error"),p.redirectPersistenceManager=yield lr.create(p,[Ws(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var I,X;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===h?p._currentUser:(null===(X=p.redirectUser)||void 0===X?void 0:X._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,I,X){if(this._deleted)return()=>{};const ue="function"==typeof p?p:p.next.bind(p);let Ie=!1;const ze=this._isInitialized?Promise.resolve():this._initializationPromise;if(un(ze,this,"internal-error"),ze.then(()=>{Ie||ue(this.currentUser)}),"function"==typeof p){const dt=h.addObserver(p,I,X);return()=>{Ie=!0,dt()}}{const dt=h.addObserver(p);return()=>{Ie=!0,dt()}}}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return un(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var p;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const X=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();X&&(I["X-Firebase-Client"]=X);const ue=yield h._getAppCheckToken();return ue&&(I["X-Firebase-AppCheck"]=ue),I})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var p;const I=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return I?.error&&function nn(B,...h){vi.logLevel<=Te.in.WARN&&vi.warn(`Auth (${ae.SDK_VERSION}): ${B}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Di(B){return(0,H.m9)(B)}class Wr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,H.ne)(p=>this.observer=p)}get next(){return un(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jr(B){return`__${B}${Math.floor(1e6*Math.random())}`}function Ms(B){const h=B.indexOf(":");return h<0?"":B.substr(0,h+1)}function K(B){if(!B)return null;const h=Number(B);return isNaN(h)?null:h}class ee{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Xr("not implemented")}_getIdTokenResponse(h){return Xr("not implemented")}_linkToIdToken(h,p){return Xr("not implemented")}_getReauthenticationResolver(h){return Xr("not implemented")}}function bs(B,h){return(Ur=Ur||(0,d.Z)(function*(p,I){return function Ge(B,h,p,I){return(Fe=Fe||(0,d.Z)(function*(X,ue,Ie,ze,dt={}){const en=yield $e(X,ue,Ie,ze,dt);return"mfaPendingCredential"in en&&Qr(X,"multi-factor-auth-required",{_serverResponse:en}),en})).apply(this,arguments)}(p,"POST","/v1/accounts:signInWithIdp",ge(p,I))})).apply(this,arguments)}class Eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Va extends Eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class gs{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,I,X=!1){return(0,d.Z)(function*(){const ue=yield Gs._fromIdTokenResponse(h,I,X),Ie=wo(I);return new gs({user:ue,providerId:Ie,_tokenResponse:I,operationType:p})})()}static _forOperation(h,p,I){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(I,!0);const X=wo(I);return new gs({user:h,providerId:X,_tokenResponse:I,operationType:p})})()}}function wo(B){return B.providerId?B.providerId:"phoneNumber"in B?"phone":null}class Qi extends H.ZR{constructor(h,p,I,X){var ue;super(p.code,p.message),this.operationType=I,this.user=X,Object.setPrototypeOf(this,Qi.prototype),this.customData={appName:h.name,tenantId:null!==(ue=h.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,p,I,X){return new Qi(h,p,I,X)}}function Ka(B,h,p,I){return("reauthenticate"===h?p._getReauthenticationResolver(B):p._getIdTokenResponse(B)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Qi._fromErrorAndOperation(B,ue,h,I):ue})}const Qa="__sak";class Gi{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Qa,"1"),this.storage.removeItem(Qa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gn=(()=>{class B extends Gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sn(){const B=(0,H.z$)();return Vs(B)||oa(B)}()&&function Gr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const X=this.storage.getItem(I),ue=this.localCache[I];X!==ue&&p(I,ue,X)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((ze,dt,en)=>{this.notifyListeners(ze,en)});const X=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(X);if(p.newValue!==ze)null!==p.newValue?this.storage.setItem(X,p.newValue):this.storage.removeItem(X);else if(this.localCache[X]===p.newValue&&!I)return}const ue=()=>{const ze=this.storage.getItem(X);!I&&this.localCache[X]===ze||this.notifyListeners(X,ze)},Ie=this.storage.getItem(X);!function Ho(){return(0,H.w1)()&&10===document.documentMode}()||Ie===p.newValue||p.newValue===p.oldValue?ue():setTimeout(ue,10)}notifyListeners(p,I){this.localCache[p]=I;const X=this.listeners[p];if(X)for(const ue of Array.from(X))ue(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var X=()=>super._set,ue=this;return(0,d.Z)(function*(){yield X().call(ue,p,I),ue.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,X=this;return(0,d.Z)(function*(){const ue=yield I().call(X,p);return X.localCache[p]=JSON.stringify(ue),ue})()}_remove(p){var I=()=>super._remove,X=this;return(0,d.Z)(function*(){yield I().call(X,p),delete X.localCache[p]})()}}return B.type="LOCAL",B})(),No=(()=>{class B extends Gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return B.type="SESSION",B})();let Lt=(()=>{class B{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(ue=>ue.isListeningto(p));if(I)return I;const X=new B(p);return this.receivers.push(X),X}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,d.Z)(function*(){var X;const ue=p,{eventId:Ie,eventType:ze,data:dt}=ue.data,en=I.handlersMap[ze];if(!en?.size)return;ue.ports[0].postMessage({status:"ack",eventId:Ie,eventType:ze});const Bn=Array.from(en).map(function(xr){return(X=X||(0,d.Z)(function*(Wi){return Wi(ue.origin,dt)})).apply(this,arguments)}),ur=yield function Dn(B){var h;return Promise.all(B.map(function(p){return(h=h||(0,d.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(X){return{fulfilled:!1,reason:X}}})).apply(this,arguments)}))}(Bn);ue.ports[0].postMessage({status:"done",eventId:Ie,eventType:ze,response:ur})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return B.receivers=[],B})();function w(B="",h=10){let p="";for(let I=0;I<h;I++)p+=Math.floor(10*Math.random());return B+p}class S{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,I=50){var X=this;return(0,d.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ie,ze;return new Promise((dt,en)=>{const Bn=w("",20);ue.port1.start();const ur=setTimeout(()=>{en(new Error("unsupported_event"))},I);ze={messageChannel:ue,onMessage(xr){const Wi=xr;if(Wi.data.eventId===Bn)switch(Wi.data.status){case"ack":clearTimeout(ur),Ie=setTimeout(()=>{en(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),dt(Wi.data.response);break;default:clearTimeout(ur),clearTimeout(Ie),en(new Error("invalid_response"))}}},X.handlers.add(ze),ue.port1.addEventListener("message",ze.onMessage),X.target.postMessage({eventType:h,eventId:Bn,data:p},[ue.port2])}).finally(()=>{ze&&X.removeMessageHandler(ze)})})()}}function U(){return window}function Q(){return typeof U().WorkerGlobalScope<"u"&&"function"==typeof U().importScripts}const bn="firebaseLocalStorageDb",hr="firebaseLocalStorage",li="fbase_key";class Xi{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Rn(B,h){return B.transaction([hr],h?"readwrite":"readonly").objectStore(hr)}function Ia(){const B=indexedDB.open(bn,1);return new Promise((h,p)=>{B.addEventListener("error",()=>{p(B.error)}),B.addEventListener("upgradeneeded",()=>{const I=B.result;try{I.createObjectStore(hr,{keyPath:li})}catch(X){p(X)}}),B.addEventListener("success",(0,d.Z)(function*(){const I=B.result;I.objectStoreNames.contains(hr)?h(I):(I.close(),yield function Us(){const B=indexedDB.deleteDatabase(bn);return new Xi(B).toPromise()}(),h(yield Ia()))}))})}function ji(B,h,p){return(Mr=Mr||(0,d.Z)(function*(I,X,ue){const Ie=Rn(I,!0).put({[li]:X,value:ue});return new Xi(Ie).toPromise()})).apply(this,arguments)}function ll(B,h){const p=Rn(B,!0).delete(h);return new Xi(p).toPromise()}const dn=(()=>{class B{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield Ia()),p.db})()}_withRetries(p){var I=this;return(0,d.Z)(function*(){let X=0;for(;;)try{const ue=yield I._openDb();return yield p(ue)}catch(ue){if(X++>3)throw ue;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return Q()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){var I,X;p.receiver=Lt._getInstance(function wt(){return Q()?self:null}()),p.receiver._subscribe("keyChanged",function(ue,Ie){return(I=I||(0,d.Z)(function*(ze,dt){return{keyProcessed:(yield p._poll()).includes(dt.key)}})).apply(this,arguments)}),p.receiver._subscribe("ping",function(ue,Ie){return(X=X||(0,d.Z)(function*(ze,dt){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var I,X;if(p.activeServiceWorker=yield function me(){return(Vi=Vi||(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new S(p.activeServiceWorker);const ue=yield p.sender._send("ping",{},800);ue&&null!==(I=ue[0])&&void 0!==I&&I.fulfilled&&null!==(X=ue[0])&&void 0!==X&&X.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,d.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Me(){var B;return(null===(B=navigator?.serviceWorker)||void 0===B?void 0:B.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ia();return yield ji(p,Qa,"1"),yield ll(p,Qa),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,d.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var X=this;return(0,d.Z)(function*(){return X._withPendingWrite((0,d.Z)(function*(){return yield X._withRetries(ue=>ji(ue,p,I)),X.localCache[p]=I,X.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,d.Z)(function*(){const X=yield I._withRetries(ue=>function Wn(B,h){return(Mi=Mi||(0,d.Z)(function*(p,I){const X=Rn(p,!1).get(I),ue=yield new Xi(X).toPromise();return void 0===ue?null:ue.value})).apply(this,arguments)}(ue,p));return I.localCache[p]=X,X})()}_remove(p){var I=this;return(0,d.Z)(function*(){return I._withPendingWrite((0,d.Z)(function*(){return yield I._withRetries(X=>ll(X,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const I=yield p._withRetries(Ie=>{const ze=Rn(Ie,!1).getAll();return new Xi(ze).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const X=[],ue=new Set;for(const{fbase_key:Ie,value:ze}of I)ue.add(Ie),JSON.stringify(p.localCache[Ie])!==JSON.stringify(ze)&&(p.notifyListeners(Ie,ze),X.push(Ie));for(const Ie of Object.keys(p.localCache))p.localCache[Ie]&&!ue.has(Ie)&&(p.notifyListeners(Ie,null),X.push(Ie));return X})()}notifyListeners(p,I){this.localCache[p]=I;const X=this.listeners[p];if(X)for(const ue of Array.from(X))ue(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return B.type="LOCAL",B})();Jr("rcb"),new ce(3e4,6e4);class Ja extends ee{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return bs(h,this._buildIdpRequest())}_linkToIdToken(h,p){return bs(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return bs(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Rl(B){return function Ea(B,h){return(Mn=Mn||(0,d.Z)(function*(p,I,X=!1){const Ie=yield Ka(p,"signIn",I),ze=yield gs._fromIdTokenResponse(p,"signIn",Ie);return X||(yield p._updateCurrentUser(ze.user)),ze})).apply(this,arguments)}(B.auth,new Ja(B),B.bypassAuthState)}function hc(B){const{auth:h,user:p}=B;return un(p,h,"internal-error"),function uo(B,h){return(Xn=Xn||(0,d.Z)(function*(p,I,X=!1){const{auth:ue}=p,Ie="reauthenticate";try{const ze=yield ai(p,Ka(ue,Ie,I,p),X);un(ze.idToken,ue,"internal-error");const dt=Ri(ze.idToken);un(dt,ue,"internal-error");const{sub:en}=dt;return un(p.uid===en,ue,"user-mismatch"),gs._forOperation(p,Ie,ze)}catch(ze){throw"auth/user-not-found"===ze?.code&&Qr(ue,"user-mismatch"),ze}})).apply(this,arguments)}(p,new Ja(B),B.bypassAuthState)}function Fo(B){return(ht=ht||(0,d.Z)(function*(h){const{auth:p,user:I}=h;return un(I,p,"internal-error"),function ws(B,h){return(Ht=Ht||(0,d.Z)(function*(p,I,X=!1){const ue=yield ai(p,I._linkToIdToken(p.auth,yield p.getIdToken()),X);return gs._forOperation(p,"link",ue)})).apply(this,arguments)}(I,new Ja(h),h.bypassAuthState)})).apply(this,arguments)}class nc{constructor(h,p,I,X,ue=!1){this.auth=h,this.resolver=I,this.user=X,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var p,h=this;return new Promise(function(I,X){return(p=p||(0,d.Z)(function*(ue,Ie){h.pendingPromise={resolve:ue,reject:Ie};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ze){h.reject(ze)}})).apply(this,arguments)})}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:I,sessionId:X,postBody:ue,tenantId:Ie,error:ze,type:dt}=h;if(ze)return void p.reject(ze);const en={auth:p.auth,requestUri:I,sessionId:X,tenantId:Ie||void 0,postBody:ue||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(dt)(en))}catch(Bn){p.reject(Bn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Rl;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return hc;default:Qr(this.auth,"internal-error")}}resolve(h){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ce(2e3,1e4);const Yu="pendingRedirect",Ol=new Map;class Kc extends nc{constructor(h,p,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let I=Ol.get(p.auth._key());if(!I){try{const ue=(yield function Su(B,h){return(pr=pr||(0,d.Z)(function*(p,I){const X=function Nc(B){return To(Yu,B.config.apiKey,B.name)}(I),ue=function fc(B){return Ws(B._redirectPersistence)}(p);if(!(yield ue._isAvailable()))return!1;const Ie="true"===(yield ue._get(X));return yield ue._remove(X),Ie})).apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;I=()=>Promise.resolve(ue)}catch(X){I=()=>Promise.reject(X)}Ol.set(p.auth._key(),I)}return p.bypassAuthState||Ol.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,I=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(I,h);if("unknown"!==h.type){if(h.eventId){const X=yield I.auth._redirectUserForId(h.eventId);if(X)return I.user=X,p().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function kc(B,h){Ol.set(B._key(),h)}function zl(B,h){return(F=F||(0,d.Z)(function*(p,I,X=!1){const ue=Di(p),Ie=function ks(B,h){return h?Ws(h):(un(B._popupRedirectResolver,B,"argument-error"),B._popupRedirectResolver)}(ue,I),dt=yield new Kc(ue,Ie,X).execute();return dt&&!X&&(delete dt.user._redirectEventId,yield ue._persistUserIfCurrent(dt.user),yield ue._setRedirectUser(null,I)),dt})).apply(this,arguments)}class ea{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(p=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function _l(B){switch(B.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(B);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var I;if(h.error&&!js(h)){const X=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Tr(this.auth,X))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const I=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gl(h))}saveEventToCache(h){this.cachedEventUids.add(gl(h)),this.lastProcessedEventTime=Date.now()}}function gl(B){return[B.type,B.eventId,B.sessionId,B.tenantId].filter(h=>h).join("-")}function js({type:B,error:h}){return"unknown"===B&&"auth/no-auth-event"===h?.code}const Ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,is=/^https?/;function Ks(B){const h=us(),{protocol:p,hostname:I}=new URL(h);if(B.startsWith("chrome-extension://")){const Ie=new URL(B);return""===Ie.hostname&&""===I?"chrome-extension:"===p&&B.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ie.hostname===I}if(!is.test(p))return!1;if(Ru.test(B))return I===B;const X=B.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(I)}const Ji=new ce(3e4,6e4);function z(){const B=U().___jsl;if(B?.H)for(const h of Object.keys(B.H))if(B.H[h].r=B.H[h].r||[],B.H[h].L=B.H[h].L||[],B.H[h].r=[...B.H[h].L],B.CP)for(let p=0;p<B.CP.length;p++)B.CP[p]=null}let se=null;function Se(B){return se=se||function Y(B){return new Promise((h,p)=>{var I,X,ue;function Ie(){z(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{z(),p(Tr(B,"network-request-failed"))},timeout:Ji.get()})}if(null!==(X=null===(I=U().gapi)||void 0===I?void 0:I.iframes)&&void 0!==X&&X.Iframe)h(gapi.iframes.getContext());else{if(null===(ue=U().gapi)||void 0===ue||!ue.load){const ze=Jr("iframefcb");return U()[ze]=()=>{gapi.load?Ie():p(Tr(B,"network-request-failed"))},function ps(B){return new Promise((h,p)=>{const I=document.createElement("script");I.setAttribute("src",B),I.onload=h,I.onerror=X=>{const ue=Tr("internal-error");ue.customData=X,p(ue)},I.type="text/javascript",I.charset="UTF-8",function dl(){var B,h;return null!==(h=null===(B=document.getElementsByTagName("head"))||void 0===B?void 0:B[0])&&void 0!==h?h:document}().appendChild(I)})}(`https://apis.google.com/js/api.js?onload=${ze}`).catch(dt=>p(dt))}Ie()}}).catch(h=>{throw se=null,h})}(B),se}const Ze=new ce(5e3,15e3),Yt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function On(B){const h=B.config;un(h.authDomain,B,"auth-domain-config-required");const p=h.emulator?Ee(h,"emulator/auth/iframe"):`https://${B.config.authDomain}/__/auth/iframe`,I={apiKey:h.apiKey,appName:B.name,v:ae.SDK_VERSION},X=Xt.get(B.config.apiHost);X&&(I.eid=X);const ue=B._getFrameworks();return ue.length&&(I.fw=ue.join(",")),`${p}?${(0,H.xO)(I).slice(1)}`}const Jn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ns{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lc=encodeURIComponent("fac");function vl(B,h,p,I,X,ue){return(qt=qt||(0,d.Z)(function*(Ie,ze,dt,en,Bn,ur){un(Ie.config.authDomain,Ie,"auth-domain-config-required"),un(Ie.config.apiKey,Ie,"invalid-api-key");const xr={apiKey:Ie.config.apiKey,appName:Ie.name,authType:dt,redirectUrl:en,v:ae.SDK_VERSION,eventId:Bn};if(ze instanceof Eo){ze.setDefaultLanguage(Ie.languageCode),xr.providerId=ze.providerId||"",(0,H.xb)(ze.getCustomParameters())||(xr.customParameters=JSON.stringify(ze.getCustomParameters()));for(const[ia,$a]of Object.entries(ur||{}))xr[ia]=$a}if(ze instanceof Va){const ia=ze.getScopes().filter($a=>""!==$a);ia.length>0&&(xr.scopes=ia.join(","))}Ie.tenantId&&(xr.tid=Ie.tenantId);const Wi=xr;for(const ia of Object.keys(Wi))void 0===Wi[ia]&&delete Wi[ia];const pa=yield Ie._getAppCheckToken(),Ko=pa?`#${Lc}=${encodeURIComponent(pa)}`:"";return`${function Qc({config:B}){return B.emulator?Ee(B,"emulator/auth/handler"):`https://${B.authDomain}/__/auth/handler`}(Ie)}?${(0,H.xO)(Wi).slice(1)}${Ko}`})).apply(this,arguments)}const Xc="webStorageSupport",Ed=class mc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=No,this._completeRedirectFn=zl,this._overrideRedirectResult=kc}_openPopup(h,p,I,X){var ue=this;return(0,d.Z)(function*(){var Ie;Ui(null===(Ie=ue.eventManagers[h._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const ze=yield vl(h,p,I,us(),X);return function Rr(B,h,p,I=500,X=600){const ue=Math.max((window.screen.availHeight-X)/2,0).toString(),Ie=Math.max((window.screen.availWidth-I)/2,0).toString();let ze="";const dt=Object.assign(Object.assign({},Jn),{width:I.toString(),height:X.toString(),top:ue,left:Ie}),en=(0,H.z$)().toLowerCase();p&&(ze=Zi(en)?"_blank":p),go(en)&&(h=h||"http://localhost",dt.scrollbars="yes");const Bn=Object.entries(dt).reduce((xr,[Wi,pa])=>`${xr}${Wi}=${pa},`,"");if(function So(B=(0,H.z$)()){var h;return oa(B)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(en)&&"_self"!==ze)return function Ni(B,h){const p=document.createElement("a");p.href=B,p.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(h||"",ze),new Ns(null);const ur=window.open(h||"",ze,Bn);un(ur,B,"popup-blocked");try{ur.focus()}catch{}return new Ns(ur)}(h,ze,w())})()}_openRedirect(h,p,I,X){var ue=this;return(0,d.Z)(function*(){return yield ue._originValidation(h),function R(B){U().location.href=B}(yield vl(h,p,I,us(),X)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:X,promise:ue}=this.eventManagers[p];return X?Promise.resolve(X):(Ui(ue,"If manager is not set, promise should be"),ue)}const I=this.initAndGetManager(h);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const I=yield function Kn(B){return(on=on||(0,d.Z)(function*(h){const p=yield Se(h),I=U().gapi;return un(I,h,"internal-error"),p.open({where:document.body,url:On(h),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yt,dontclear:!0},X=>{var ue;return new Promise(function(Ie,ze){return(ue=ue||(0,d.Z)(function*(dt,en){yield X.restyle({setHideOnLeave:!1});const Bn=Tr(h,"network-request-failed"),ur=U().setTimeout(()=>{en(Bn)},Ze.get());function xr(){U().clearTimeout(ur),dt(X)}X.ping(xr).then(xr,()=>{en(Bn)})})).apply(this,arguments)})})})).apply(this,arguments)}(h),X=new ea(h);return I.register("authEvent",ue=>(un(ue?.authEvent,h,"invalid-auth-event"),{status:X.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:X},p.iframes[h._key()]=I,X})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Xc,{type:Xc},X=>{var ue;const Ie=null===(ue=X?.[0])||void 0===ue?void 0:ue[Xc];void 0!==Ie&&p(!!Ie),Qr(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Pl(B){return(vt=vt||(0,d.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:p}=yield function rc(B){return(We=We||(0,d.Z)(function*(h,p={}){return $e(h,"GET","/v1/projects",p)})).apply(this,arguments)}(h);for(const I of p)try{if(Ks(I))return}catch{}Qr(h,"unauthorized-domain")})).apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ao()||Vs()||oa()}};var W="@firebase/auth",g="1.3.0";class _{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){un(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Be=(0,H.Pz)("authIdTokenMaxAge")||300;let rt=null;const Vt=B=>{var h;return function(p){return(h=h||(0,d.Z)(function*(I){const X=I&&(yield I.getIdTokenResult()),ue=X&&((new Date).getTime()-Date.parse(X.issuedAtTime))/1e3;if(ue&&ue>Be)return;const Ie=X?.token;rt!==Ie&&(rt=Ie,yield fetch(B,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))})).apply(this,arguments)}};function Jt(B=(0,ae.getApp)()){const h=(0,ae._getProvider)(B,"auth");if(h.isInitialized())return h.getImmediate();const p=function Oa(B,h){const p=(0,ae._getProvider)(B,"auth");if(p.isInitialized()){const X=p.getImmediate(),ue=p.getOptions();if((0,H.vZ)(ue,h??{}))return X;Qr(X,"already-initialized")}return p.initialize({options:h})}(B,{popupRedirectResolver:Ed,persistence:[dn,Gn,No]}),I=(0,H.Pz)("authTokenSyncURL");if(I){const ue=Vt(I);(function Io(B,h,p){(0,H.m9)(B).beforeAuthStateChanged(h,p)})(p,ue,()=>ue(p.currentUser)),function Dr(B,h,p,I){(0,H.m9)(B).onIdTokenChanged(h,p,I)}(p,Ie=>ue(Ie))}const X=(0,H.q4)("auth");return X&&function Pa(B,h,p){const I=Di(B);un(I._canInitEmulator,I,"emulator-config-failed"),un(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const X=!!p?.disableWarnings,ue=Ms(h),{host:Ie,port:ze}=function ne(B){const h=Ms(B),p=/(\/\/)?([^?#/]+)/.exec(B.substr(h.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(I);if(X){const ue=X[1];return{host:ue,port:K(I.substr(ue.length+1))}}{const[ue,Ie]=I.split(":");return{host:ue,port:K(Ie)}}}(h);I.config.emulator={url:`${ue}//${Ie}${null===ze?"":`:${ze}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ie,port:ze,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function ye(){function B(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",B):B())}()}(p,`http://${X}`),p}!function le(B){(0,ae._registerComponent)(new ke.wA("auth",(h,{options:p})=>{const I=h.getProvider("app").getImmediate(),X=h.getProvider("heartbeat"),ue=h.getProvider("app-check-internal"),{apiKey:Ie,authDomain:ze}=I.options;un(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:I.name});const dt={apiKey:Ie,authDomain:ze,clientPlatform:B,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xs(B)},en=new Js(I,X,ue,dt);return function sl(B,h){const p=h?.persistence||[],I=(Array.isArray(p)?p:[p]).map(Ws);h?.errorMap&&B._updateErrorMap(h.errorMap),B._initializeWithPersistence(I,h?.popupRedirectResolver)}(en,p),en},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,I)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ke.wA("auth-internal",h=>{const p=Di(h.getProvider("auth").getImmediate());return new _(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(W,g,function D(B){switch(B){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(B)),(0,ae.registerVersion)(W,g,"esm2017")}("Browser");var fn=V(5879),mr=V(8645),wn=V(2096),nr=V(5592),Fs=V(2459),yl=V(3019),Da=V(3093),Lo=V(4664),Vo=V(7398),uu=V(940),Id=V(1374),Pu=V(4674);function ku(B,h){return(0,Pu.m)(h)?(0,Lo.w)(()=>B,h):(0,Lo.w)(()=>B)}var Ju=V(5137),ed=V(2181),ha=V(2793),Gl=V(6304),Nu=V(6814),Yd=V(2194);V(120);const Qd=new fn.OlP("angularfire2.auth.use-emulator"),Vc=new fn.OlP("angularfire2.auth.settings"),td=new fn.OlP("angularfire2.auth.tenant-id"),nd=new fn.OlP("angularfire2.auth.langugage-code"),rd=new fn.OlP("angularfire2.auth.use-device-language"),id=new fn.OlP("angularfire.auth.persistence"),zh=(B,h,p,I,X,ue,Ie,ze)=>(0,Gl.cc)(`${B.name}.auth`,"AngularFireAuth",B.name,()=>{const dt=h.runOutsideAngular(()=>B.auth());if(p&&dt.useEmulator(...p),I&&(dt.tenantId=I),dt.languageCode=X,ue&&dt.useDeviceLanguage(),Ie)for(const[en,Bn]of Object.entries(Ie))dt.settings[en]=Bn;return ze&&dt.setPersistence(ze),dt},[p,I,X,ue,Ie,ze]);let gc=(()=>{class B{constructor(p,I,X,ue,Ie,ze,dt,en,Bn,ur,xr,Wi){const pa=new mr.x,Ko=(0,wn.of)(void 0).pipe((0,Da.Q)(Ie.outsideAngular),(0,Lo.w)(()=>ue.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,8661)))),(0,Vo.U)(()=>(0,Gl.on)(p,ue,I)),(0,Vo.U)(ia=>zh(ia,ue,ze,en,Bn,ur,dt,xr)),(0,uu.d)({bufferSize:1,refCount:!1}));if((0,Nu.PM)(X))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,wn.of)(null);else{Ko.pipe((0,Id.P)()).subscribe();const $a=Ko.pipe((0,Lo.w)(xs=>xs.getRedirectResult().then(ma=>ma,()=>null)),ha.iC,(0,uu.d)({bufferSize:1,refCount:!1})),oc=Ko.pipe((0,Lo.w)(xs=>new nr.y(ma=>({unsubscribe:ue.runOutsideAngular(()=>xs.onAuthStateChanged(rl=>ma.next(rl),rl=>ma.error(rl),()=>ma.complete()))})))),nl=Ko.pipe((0,Lo.w)(xs=>new nr.y(ma=>({unsubscribe:ue.runOutsideAngular(()=>xs.onIdTokenChanged(rl=>ma.next(rl),rl=>ma.error(rl),()=>ma.complete()))}))));this.authState=$a.pipe(ku(oc),(0,Ju.R)(Ie.outsideAngular),(0,Da.Q)(Ie.insideAngular)),this.user=$a.pipe(ku(nl),(0,Ju.R)(Ie.outsideAngular),(0,Da.Q)(Ie.insideAngular)),this.idToken=this.user.pipe((0,Lo.w)(xs=>xs?(0,Fs.D)(xs.getIdToken()):(0,wn.of)(null))),this.idTokenResult=this.user.pipe((0,Lo.w)(xs=>xs?(0,Fs.D)(xs.getIdTokenResult()):(0,wn.of)(null))),this.credential=(0,yl.T)($a,pa,this.authState.pipe((0,ed.h)(xs=>!xs))).pipe((0,Vo.U)(xs=>xs?.user?xs:null),(0,Ju.R)(Ie.outsideAngular),(0,Da.Q)(Ie.insideAngular))}return(0,Gl.pX)(this,Ko,ue,{spy:{apply:(ia,$a,oc)=>{(ia.startsWith("signIn")||ia.startsWith("createUser"))&&oc.then(nl=>pa.next(nl))}}})}}return B.\u0275fac=function(p){return new(p||B)(fn.LFG(Gl.Dh),fn.LFG(Gl.xv,8),fn.LFG(fn.Lbi),fn.LFG(fn.R0b),fn.LFG(ha.HU),fn.LFG(Qd,8),fn.LFG(Vc,8),fn.LFG(td,8),fn.LFG(nd,8),fn.LFG(rd,8),fn.LFG(id,8),fn.LFG(Yd.nm,8))},B.\u0275prov=fn.Yz7({token:B,factory:B.\u0275fac,providedIn:"any"}),B})();var sd=V(6321),Jd=V(7921),eh=V(9360),Cd=V(8251);function O(){return(0,eh.e)((B,h)=>{let p,I=!1;B.subscribe((0,Cd.x)(h,X=>{const ue=p;p=X,I&&h.next([ue,X]),I=!0}))})}var v=V(6699),C=V(3997),N=(V(8661),V(3106)),J=V(8162);function it(B,h){if(void 0===h)return{merge:!1};if(void 0!==h.mergeFields&&void 0!==h.merge)throw new J.WA("invalid-argument",`Invalid options passed to function ${B}(): You cannot specify both "merge" and "mergeFields".`);return h}function Nt(){if(typeof Uint8Array>"u")throw new J.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Vn(){if(!(0,J.Me)())throw new J.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class An{constructor(h){this._delegate=h}static fromBase64String(h){return Vn(),new An(J.Jj.fromBase64String(h))}static fromUint8Array(h){return Nt(),new An(J.Jj.fromUint8Array(h))}toBase64(){return Vn(),this._delegate.toBase64()}toUint8Array(){return Nt(),this._delegate.toUint8Array()}isEqual(h){return this._delegate.isEqual(h._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nr(B){return function oi(B,h){if("object"!=typeof B||null===B)return!1;const p=B;for(const I of h)if(I in p&&"function"==typeof p[I])return!0;return!1}(B,["next","error","complete"])}class Qn{enableIndexedDbPersistence(h,p){return(0,J.ST)(h._delegate,{forceOwnership:p})}enableMultiTabIndexedDbPersistence(h){return(0,J.fH)(h._delegate)}clearIndexedDbPersistence(h){return(0,J.Fc)(h._delegate)}}class $r{constructor(h,p,I){this._delegate=p,this._persistenceProvider=I,this.INTERNAL={delete:()=>this.terminate()},h instanceof J.l7||(this._appCompat=h)}get _databaseId(){return this._delegate._databaseId}settings(h){const p=this._delegate._getSettings();!h.merge&&p.host!==h.host&&(0,J.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),h.merge&&delete(h=Object.assign(Object.assign({},p),h)).merge,this._delegate._setSettings(h)}useEmulator(h,p,I={}){(0,J.at)(this._delegate,h,p,I)}enableNetwork(){return(0,J.Ix)(this._delegate)}disableNetwork(){return(0,J.TF)(this._delegate)}enablePersistence(h){let p=!1,I=!1;return h&&(p=!!h.synchronizeTabs,I=!!h.experimentalForceOwningTab,(0,J.Wi)("synchronizeTabs",p,"experimentalForceOwningTab",I)),p?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,I)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,J.Mx)(this._delegate)}onSnapshotsInSync(h){return(0,J.sc)(this._delegate,h)}get app(){if(!this._appCompat)throw new J.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(h){try{return new Uc(this,(0,J.hJ)(this._delegate,h))}catch(p){throw io(p,"collection()","Firestore.collection()")}}doc(h){try{return new fa(this,(0,J.JU)(this._delegate,h))}catch(p){throw io(p,"doc()","Firestore.doc()")}}collectionGroup(h){try{return new na(this,(0,J.B$)(this._delegate,h))}catch(p){throw io(p,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(h){return(0,J.i3)(this._delegate,p=>h(new Is(this,p)))}batch(){return(0,J.qY)(this._delegate),new Sa(new J.PU(this._delegate,h=>(0,J.GL)(this._delegate,h)))}loadBundle(h){return(0,J.Pb)(this._delegate,h)}namedQuery(h){return(0,J.L$)(this._delegate,h).then(p=>p?new na(this,p):null)}}class Pi extends J.u7{constructor(h){super(),this.firestore=h}convertBytes(h){return new An(new J.Jj(h))}convertReference(h){const p=this.convertDocumentKey(h,this.firestore._databaseId);return fa.forKey(p,this.firestore,null)}}class Is{constructor(h,p){this._firestore=h,this._delegate=p,this._userDataWriter=new Pi(h)}get(h){const p=_c(h);return this._delegate.get(p).then(I=>new Aa(this._firestore,new J.xU(this._firestore._delegate,this._userDataWriter,I._key,I._document,I.metadata,p.converter)))}set(h,p,I){const X=_c(h);return I?(it("Transaction.set",I),this._delegate.set(X,p,I)):this._delegate.set(X,p),this}update(h,p,I,...X){const ue=_c(h);return 2===arguments.length?this._delegate.update(ue,p):this._delegate.update(ue,p,I,...X),this}delete(h){const p=_c(h);return this._delegate.delete(p),this}}class Sa{constructor(h){this._delegate=h}set(h,p,I){const X=_c(h);return I?(it("WriteBatch.set",I),this._delegate.set(X,p,I)):this._delegate.set(X,p),this}update(h,p,I,...X){const ue=_c(h);return 2===arguments.length?this._delegate.update(ue,p):this._delegate.update(ue,p,I,...X),this}delete(h){const p=_c(h);return this._delegate.delete(p),this}commit(){return this._delegate.commit()}}class Ls{constructor(h,p,I){this._firestore=h,this._userDataWriter=p,this._delegate=I}fromFirestore(h,p){const I=new J.$q(this._firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,null);return this._delegate.fromFirestore(new el(this._firestore,I),p??{})}toFirestore(h,p){return p?this._delegate.toFirestore(h,p):this._delegate.toFirestore(h)}static getInstance(h,p){const I=Ls.INSTANCES;let X=I.get(h);X||(X=new WeakMap,I.set(h,X));let ue=X.get(p);return ue||(ue=new Ls(h,new Pi(h),p),X.set(p,ue)),ue}}Ls.INSTANCES=new WeakMap;class fa{constructor(h,p){this.firestore=h,this._delegate=p,this._userDataWriter=new Pi(h)}static forPath(h,p,I){if(h.length%2!=0)throw new J.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${h.canonicalString()} has ${h.length}`);return new fa(p,new J.my(p._delegate,I,new J.Ky(h)))}static forKey(h,p,I){return new fa(p,new J.my(p._delegate,I,h))}get id(){return this._delegate.id}get parent(){return new Uc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(h){try{return new Uc(this.firestore,(0,J.hJ)(this._delegate,h))}catch(p){throw io(p,"collection()","DocumentReference.collection()")}}isEqual(h){return(h=(0,H.m9)(h))instanceof J.my&&(0,J.Eo)(this._delegate,h)}set(h,p){p=it("DocumentReference.set",p);try{return p?(0,J.pl)(this._delegate,h,p):(0,J.pl)(this._delegate,h)}catch(I){throw io(I,"setDoc()","DocumentReference.set()")}}update(h,p,...I){try{return 1===arguments.length?(0,J.r7)(this._delegate,h):(0,J.r7)(this._delegate,h,p,...I)}catch(X){throw io(X,"updateDoc()","DocumentReference.update()")}}delete(){return(0,J.oe)(this._delegate)}onSnapshot(...h){const p=Sr(h),I=fo(h,X=>new Aa(this.firestore,new J.xU(this.firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,this._delegate.converter)));return(0,J.cf)(this._delegate,p,I)}get(h){let p;return p="cache"===h?.source?(0,J.kl)(this._delegate):"server"===h?.source?(0,J.Xk)(this._delegate):(0,J.QT)(this._delegate),p.then(I=>new Aa(this.firestore,new J.xU(this.firestore._delegate,this._userDataWriter,I._key,I._document,I.metadata,this._delegate.converter)))}withConverter(h){return new fa(this.firestore,this._delegate.withConverter(h?Ls.getInstance(this.firestore,h):null))}}function io(B,h,p){return B.message=B.message.replace(h,p),B}function Sr(B){for(const h of B)if("object"==typeof h&&!Nr(h))return h;return{}}function fo(B,h){var p,I;let X;return X=Nr(B[0])?B[0]:Nr(B[1])?B[1]:"function"==typeof B[0]?{next:B[0],error:B[1],complete:B[2]}:{next:B[1],error:B[2],complete:B[3]},{next:ue=>{X.next&&X.next(h(ue))},error:null===(p=X.error)||void 0===p?void 0:p.bind(X),complete:null===(I=X.complete)||void 0===I?void 0:I.bind(X)}}class Aa{constructor(h,p){this._firestore=h,this._delegate=p}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(h){return this._delegate.data(h)}get(h,p){return this._delegate.get(h,p)}isEqual(h){return(0,J.qK)(this._delegate,h._delegate)}}class el extends Aa{data(h){const p=this._delegate.data(h);return(0,J.K9)(void 0!==p,"Document in a QueryDocumentSnapshot should exist"),p}}class na{constructor(h,p){this.firestore=h,this._delegate=p,this._userDataWriter=new Pi(h)}where(h,p,I){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.ar)(h,p,I)))}catch(X){throw io(X,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(h,p){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.Xo)(h,p)))}catch(I){throw io(I,/(orderBy|where)\(\)/,"Query.$1()")}}limit(h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.b9)(h)))}catch(p){throw io(p,"limit()","Query.limit()")}}limitToLast(h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.vh)(h)))}catch(p){throw io(p,"limitToLast()","Query.limitToLast()")}}startAt(...h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.e0)(...h)))}catch(p){throw io(p,"startAt()","Query.startAt()")}}startAfter(...h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.TQ)(...h)))}catch(p){throw io(p,"startAfter()","Query.startAfter()")}}endBefore(...h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.Lx)(...h)))}catch(p){throw io(p,"endBefore()","Query.endBefore()")}}endAt(...h){try{return new na(this.firestore,(0,J.IO)(this._delegate,(0,J.Wu)(...h)))}catch(p){throw io(p,"endAt()","Query.endAt()")}}isEqual(h){return(0,J.iE)(this._delegate,h._delegate)}get(h){let p;return p="cache"===h?.source?(0,J.UQ)(this._delegate):"server"===h?.source?(0,J.zN)(this._delegate):(0,J.PL)(this._delegate),p.then(I=>new za(this.firestore,new J.W(this.firestore._delegate,this._userDataWriter,this._delegate,I._snapshot)))}onSnapshot(...h){const p=Sr(h),I=fo(h,X=>new za(this.firestore,new J.W(this.firestore._delegate,this._userDataWriter,this._delegate,X._snapshot)));return(0,J.cf)(this._delegate,p,I)}withConverter(h){return new na(this.firestore,this._delegate.withConverter(h?Ls.getInstance(this.firestore,h):null))}}class Uo{constructor(h,p){this._firestore=h,this._delegate=p}get type(){return this._delegate.type}get doc(){return new el(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class za{constructor(h,p){this._firestore=h,this._delegate=p}get query(){return new na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(h=>new el(this._firestore,h))}docChanges(h){return this._delegate.docChanges(h).map(p=>new Uo(this._firestore,p))}forEach(h,p){this._delegate.forEach(I=>{h.call(p,new el(this._firestore,I))})}isEqual(h){return(0,J.qK)(this._delegate,h._delegate)}}class Uc extends na{constructor(h,p){super(h,p),this.firestore=h,this._delegate=p}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const h=this._delegate.parent;return h?new fa(this.firestore,h):null}doc(h){try{return new fa(this.firestore,void 0===h?(0,J.JU)(this._delegate):(0,J.JU)(this._delegate,h))}catch(p){throw io(p,"doc()","CollectionReference.doc()")}}add(h){return(0,J.ET)(this._delegate,h).then(p=>new fa(this.firestore,p))}isEqual(h){return(0,J.Eo)(this._delegate,h._delegate)}withConverter(h){return new Uc(this.firestore,this._delegate.withConverter(h?Ls.getInstance(this.firestore,h):null))}}function _c(B){return(0,J.Cf)(B,J.my)}class ir{constructor(...h){this._delegate=new J.Lz(...h)}static documentId(){return new ir(J.Xb.keyField().canonicalString())}isEqual(h){return(h=(0,H.m9)(h))instanceof J.Lz&&this._delegate._internalPath.isEqual(h._internalPath)}}class sr{constructor(h){this._delegate=h}static serverTimestamp(){const h=(0,J.Bt)();return h._methodName="FieldValue.serverTimestamp",new sr(h)}static delete(){const h=(0,J.AK)();return h._methodName="FieldValue.delete",new sr(h)}static arrayUnion(...h){const p=(0,J.vr)(...h);return p._methodName="FieldValue.arrayUnion",new sr(p)}static arrayRemove(...h){const p=(0,J.Ab)(...h);return p._methodName="FieldValue.arrayRemove",new sr(p)}static increment(h){const p=(0,J.nP)(h);return p._methodName="FieldValue.increment",new sr(p)}isEqual(h){return this._delegate.isEqual(h._delegate)}}const Or={Firestore:$r,GeoPoint:J.F8,Timestamp:J.EK,Blob:An,Transaction:Is,WriteBatch:Sa,DocumentReference:fa,DocumentSnapshot:Aa,Query:na,QueryDocumentSnapshot:el,QuerySnapshot:za,CollectionReference:Uc,FieldPath:ir,FieldValue:sr,setLogLevel:function xo(B){(0,J.Ub)(B)},CACHE_SIZE_UNLIMITED:J.IX};function ra(B,h){return function kl(B,h=sd.z){return new nr.y(p=>{let I;return null!=h?h.schedule(()=>{I=B.onSnapshot({includeMetadataChanges:!0},p)}):I=B.onSnapshot({includeMetadataChanges:!0},p),()=>{I?.()}})}(B,h)}function Cs(B,h){return ra(B,h).pipe((0,Vo.U)(p=>({payload:p,type:"query"})))}function Wl(B,h){return Cs(B,h).pipe((0,Jd.O)(void 0),O(),(0,Vo.U)(([p,I])=>{const X=I.payload.docChanges(),ue=X.map(Ie=>({type:Ie.type,payload:Ie}));return p&&JSON.stringify(p.payload.metadata)!==JSON.stringify(I.payload.metadata)&&I.payload.docs.forEach((Ie,ze)=>{const dt=X.find(Bn=>Bn.doc.ref.isEqual(Ie.ref)),en=p?.payload.docs.find(Bn=>Bn.ref.isEqual(Ie.ref));dt&&JSON.stringify(dt.doc.metadata)===JSON.stringify(Ie.metadata)||!dt&&en&&JSON.stringify(en.metadata)===JSON.stringify(Ie.metadata)||ue.push({type:"modified",payload:{oldIndex:ze,newIndex:ze,type:"modified",doc:Ie}})}),ue}))}function th(B,h,p){return Wl(B,p).pipe((0,v.R)((I,X)=>function qo(B,h,p){return h.forEach(I=>{p.indexOf(I.type)>-1&&(B=function tl(B,h){switch(h.type){case"added":if(!B[h.newIndex]||!B[h.newIndex].doc.ref.isEqual(h.doc.ref))return ss(B,h.newIndex,0,h);break;case"modified":if(null==B[h.oldIndex]||B[h.oldIndex].doc.ref.isEqual(h.doc.ref)){if(h.oldIndex!==h.newIndex){const p=B.slice();return p.splice(h.oldIndex,1),p.splice(h.newIndex,0,h),p}return ss(B,h.newIndex,1,h)}break;case"removed":if(B[h.oldIndex]&&B[h.oldIndex].doc.ref.isEqual(h.doc.ref))return ss(B,h.oldIndex,1)}return B}(B,I))}),B}(I,X.map(ue=>ue.payload),h),[]),(0,C.x)(),(0,Vo.U)(I=>I.map(X=>({type:X.type,payload:X}))))}function ss(B,h,p,...I){const X=B.slice();return X.splice(h,p,...I),X}function yc(B){return(!B||0===B.length)&&(B=["added","removed","modified"]),B}!function so(B){(function Hi(B,h){B.INTERNAL.registerComponent(new ke.wA("firestore-compat",p=>{const I=p.getProvider("app-compat").getImmediate(),X=p.getProvider("firestore").getImmediate();return h(I,X)},"PUBLIC").setServiceProps(Object.assign({},Or)))})(B,(h,p)=>new $r(h,p,new Qn)),B.registerVersion("@firebase/firestore-compat","0.3.12")}(N.Z);class du{constructor(h,p,I){this.ref=h,this.query=p,this.afs=I}stateChanges(h){let p=Wl(this.query,this.afs.schedulers.outsideAngular);return h&&h.length>0&&(p=p.pipe((0,Vo.U)(I=>I.filter(X=>h.indexOf(X.type)>-1)))),p.pipe((0,Jd.O)(void 0),O(),(0,ed.h)(([I,X])=>X.length>0||!I),(0,Vo.U)(([I,X])=>X),ha.iC)}auditTrail(h){return this.stateChanges(h).pipe((0,v.R)((p,I)=>[...p,...I],[]))}snapshotChanges(h){const p=yc(h);return th(this.query,p,this.afs.schedulers.outsideAngular).pipe(ha.iC)}valueChanges(h={}){return Cs(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vo.U)(p=>p.payload.docs.map(I=>h.idField?Object.assign(Object.assign({},I.data()),{[h.idField]:I.id}):I.data())),ha.iC)}get(h){return(0,Fs.D)(this.query.get(h)).pipe(ha.iC)}add(h){return this.ref.add(h)}doc(h){return new $h(this.ref.doc(h),this.afs)}}class $h{constructor(h,p){this.ref=h,this.afs=p}set(h,p){return this.ref.set(h,p)}update(h){return this.ref.update(h)}delete(){return this.ref.delete()}collection(h,p){const I=this.ref.collection(h),{ref:X,query:ue}=Wh(I,p);return new du(X,ue,this.afs)}snapshotChanges(){return function vc(B,h){return ra(B,h).pipe((0,Jd.O)(void 0),O(),(0,Vo.U)(([p,I])=>I.exists?p?.exists?{payload:I,type:"modified"}:{payload:I,type:"added"}:{payload:I,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ha.iC)}valueChanges(h={}){return this.snapshotChanges().pipe((0,Vo.U)(({payload:p})=>h.idField?Object.assign(Object.assign({},p.data()),{[h.idField]:p.id}):p.data()))}get(h){return(0,Fs.D)(this.ref.get(h)).pipe(ha.iC)}}class Bc{constructor(h,p){this.query=h,this.afs=p}stateChanges(h){return h&&0!==h.length?Wl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vo.U)(p=>p.filter(I=>h.indexOf(I.type)>-1)),(0,ed.h)(p=>p.length>0),ha.iC):Wl(this.query,this.afs.schedulers.outsideAngular).pipe(ha.iC)}auditTrail(h){return this.stateChanges(h).pipe((0,v.R)((p,I)=>[...p,...I],[]))}snapshotChanges(h){const p=yc(h);return th(this.query,p,this.afs.schedulers.outsideAngular).pipe(ha.iC)}valueChanges(h={}){return Cs(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vo.U)(I=>I.payload.docs.map(X=>h.idField?Object.assign({[h.idField]:X.id},X.data()):X.data())),ha.iC)}get(h){return(0,Fs.D)(this.query.get(h)).pipe(ha.iC)}}const nh=new fn.OlP("angularfire2.enableFirestorePersistence"),Gh=new fn.OlP("angularfire2.firestore.persistenceSettings"),hu=new fn.OlP("angularfire2.firestore.settings"),sc=new fn.OlP("angularfire2.firestore.use-emulator");function Wh(B,h=(p=>p)){return{query:h(B),ref:B}}let Nf=(()=>{class B{constructor(p,I,X,ue,Ie,ze,dt,en,Bn,ur,xr,Wi,pa,Ko,ia,$a,oc){this.schedulers=dt;const nl=(0,Gl.on)(p,ze,I),xs=Bn;ur&&zh(nl,ze,xr,pa,Ko,ia,Wi,$a),[this.firestore,this.persistenceEnabled$]=(0,Gl.cc)(`${nl.name}.firestore`,"AngularFirestore",nl.name,()=>{const ma=ze.runOutsideAngular(()=>nl.firestore());if(ue&&ma.settings(ue),xs&&ma.useEmulator(...xs),X&&!(0,Nu.PM)(Ie)){const rl=()=>{try{return(0,Fs.D)(ma.enablePersistence(en||void 0).then(()=>!0,()=>!1))}catch(eu){return typeof console<"u"&&console.warn(eu),(0,wn.of)(!1)}};return[ma,ze.runOutsideAngular(rl)]}return[ma,(0,wn.of)(!1)]},[ue,xs,X])}collection(p,I){let X;X="string"==typeof p?this.firestore.collection(p):p;const{ref:ue,query:Ie}=Wh(X,I),ze=this.schedulers.ngZone.run(()=>ue);return new du(ze,Ie,this)}collectionGroup(p,I){const X=I||(Ie=>Ie),ue=this.firestore.collectionGroup(p);return new Bc(X(ue),this)}doc(p){let I;I="string"==typeof p?this.firestore.doc(p):p;const X=this.schedulers.ngZone.run(()=>I);return new $h(X,this)}createId(){return this.firestore.collection("_").doc().id}}return B.\u0275fac=function(p){return new(p||B)(fn.LFG(Gl.Dh),fn.LFG(Gl.xv,8),fn.LFG(nh,8),fn.LFG(hu,8),fn.LFG(fn.Lbi),fn.LFG(fn.R0b),fn.LFG(ha.HU),fn.LFG(Gh,8),fn.LFG(sc,8),fn.LFG(gc,8),fn.LFG(Qd,8),fn.LFG(Vc,8),fn.LFG(td,8),fn.LFG(nd,8),fn.LFG(rd,8),fn.LFG(id,8),fn.LFG(Yd.nm,8))},B.\u0275prov=fn.Yz7({token:B,factory:B.\u0275fac,providedIn:"any"}),B})(),od=(()=>{var B;class h{constructor(I,X){this.auth=I,this.db=X}login(I){return this.auth.signInWithEmailAndPassword(I.email,I.password)}signinUp(I){return this.auth.createUserWithEmailAndPassword(I.email,I.password)}updateUser(I){return function Po(B,h){return(Er=Er||(0,d.Z)(function*(p,{displayName:I,photoURL:X}){if(void 0===I&&void 0===X)return;const ue=(0,H.m9)(p),ze={idToken:yield ue.getIdToken(),displayName:I,photoUrl:X,returnSecureToken:!0},dt=yield ai(ue,function Vl(B,h){return(Zr=Zr||(0,d.Z)(function*(p,I){return $e(p,"POST","/v1/accounts:update",I)})).apply(this,arguments)}(ue.auth,ze));ue.displayName=dt.displayName||null,ue.photoURL=dt.photoUrl||null;const en=ue.providerData.find(({providerId:Bn})=>"password"===Bn);en&&(en.displayName=ue.displayName,en.photoURL=ue.photoURL),yield ue._updateTokensIfNecessary(dt)})).apply(this,arguments)}(Jt().currentUser,I)}logout(){return this.auth.signOut()}saveLog(I){let X=new Date;const ue=X.toLocaleDateString()+"-"+X.toLocaleTimeString();this.db.collection("users").doc().set({email:I,fecha_ingreso:ue})}saveMessages(I){this.db.collection("messages").doc().set({uid:I.uid,user:I.user,text:I.text,date:I.date})}loadMessages(){return this.db.collection("messages",I=>I.orderBy("date","asc")).get()}getUserLogged(){return this.auth.authState}}return(B=h).\u0275fac=function(I){return new(I||B)(fn.LFG(gc),fn.LFG(Nf))},B.\u0275prov=fn.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),h})()},517:(pn,st,V)=>{var d=V(6593),H=V(9790),ae=V(5861),Te=V(6223),b=V(5879),ke=V(6999),Ve=V(2333),Ae=V(8645),Fe=V(6814),he=V(2296),ve=V(6825),Ke=V(8484),lt=V(2831),mt=V(8180),jt=V(9773),kt=V(4300),St=V(719),Rt=V(9451),Zt=V(3680);function Ut(O,v){if(1&O){const C=b.EpF();b.TgZ(0,"div",2)(1,"button",3),b.NdJ("click",function(){b.CHM(C);const N=b.oxw();return b.KtG(N.action())}),b._uU(2),b.qZA()()}if(2&O){const C=b.oxw();b.xp6(2),b.hij(" ",C.data.action," ")}}const Re=["label"];function Qe(O,v){}const je=Math.pow(2,31)-1;class Je{constructor(v,C){this._overlayRef=C,this._afterDismissed=new Ae.x,this._afterOpened=new Ae.x,this._onAction=new Ae.x,this._dismissedByAction=!1,this.containerInstance=v,v._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(v){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(v,je))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Pt=new b.OlP("MatSnackBarData");class et{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Ft=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),v})(),yn=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),v})(),hn=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),v})(),cn=(()=>{var O;class v{constructor(E,N){this.snackBarRef=E,this.data=N}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(Je),b.Y36(Pt))},O.\u0275cmp=b.Xpm({type:O,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(E,N){1&E&&(b.TgZ(0,"div",0),b._uU(1),b.qZA(),b.YNc(2,Ut,3,1,"div",1)),2&E&&(b.xp6(1),b.hij(" ",N.data.message,"\n"),b.xp6(1),b.Q6J("ngIf",N.hasAction))},dependencies:[Fe.O5,he.lW,Ft,yn,hn],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),v})();const or={snackBarState:(0,ve.X$)("state",[(0,ve.SB)("void, hidden",(0,ve.oB)({transform:"scale(0.8)",opacity:0})),(0,ve.SB)("visible",(0,ve.oB)({transform:"scale(1)",opacity:1})),(0,ve.eR)("* => visible",(0,ve.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ve.eR)("* => void, * => hidden",(0,ve.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ve.oB)({opacity:0})))])};let ei=0,gr=(()=>{var O;class v extends Ke.en{constructor(E,N,J,Oe,He){super(),this._ngZone=E,this._elementRef=N,this._changeDetectorRef=J,this._platform=Oe,this.snackBarConfig=He,this._document=(0,b.f3M)(Fe.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ae.x,this._onExit=new Ae.x,this._onEnter=new Ae.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+ei++,this.attachDomPortal=it=>{this._assertNotAttached();const Nt=this._portalOutlet.attachDomPortal(it);return this._afterPortalAttached(),Nt},this._live="assertive"!==He.politeness||He.announcementMessage?"off"===He.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(E){this._assertNotAttached();const N=this._portalOutlet.attachComponentPortal(E);return this._afterPortalAttached(),N}attachTemplatePortal(E){this._assertNotAttached();const N=this._portalOutlet.attachTemplatePortal(E);return this._afterPortalAttached(),N}onAnimationEnd(E){const{fromState:N,toState:J}=E;if(("void"===J&&"void"!==N||"hidden"===J)&&this._completeExit(),"visible"===J){const Oe=this._onEnter;this._ngZone.run(()=>{Oe.next(),Oe.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,mt.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const E=this._elementRef.nativeElement,N=this.snackBarConfig.panelClass;N&&(Array.isArray(N)?N.forEach(J=>E.classList.add(J)):E.classList.add(N)),this._exposeToModals()}_exposeToModals(){const E=this._liveElementId,N=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let J=0;J<N.length;J++){const Oe=N[J],He=Oe.getAttribute("aria-owns");this._trackedModals.add(Oe),He?-1===He.indexOf(E)&&Oe.setAttribute("aria-owns",He+" "+E):Oe.setAttribute("aria-owns",E)}}_clearFromModals(){this._trackedModals.forEach(E=>{const N=E.getAttribute("aria-owns");if(N){const J=N.replace(this._liveElementId,"").trim();J.length>0?E.setAttribute("aria-owns",J):E.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const E=this._elementRef.nativeElement.querySelector("[aria-hidden]"),N=this._elementRef.nativeElement.querySelector("[aria-live]");if(E&&N){let J=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&E.contains(document.activeElement)&&(J=document.activeElement),E.removeAttribute("aria-hidden"),N.appendChild(E),J?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.R0b),b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(lt.t4),b.Y36(et))},O.\u0275dir=b.lG2({type:O,viewQuery:function(E,N){if(1&E&&b.Gf(Ke.Pl,7),2&E){let J;b.iGM(J=b.CRH())&&(N._portalOutlet=J.first)}},features:[b.qOj]}),v})(),Ur=(()=>{var O;class v extends gr{_afterPortalAttached(){super._afterPortalAttached();const E=this._label.nativeElement,N="mdc-snackbar__label";E.classList.toggle(N,!E.querySelector(`.${N}`))}}return(O=v).\u0275fac=function(){let C;return function(N){return(C||(C=b.n5z(O)))(N||O)}}(),O.\u0275cmp=b.Xpm({type:O,selectors:[["mat-snack-bar-container"]],viewQuery:function(E,N){if(1&E&&b.Gf(Re,7),2&E){let J;b.iGM(J=b.CRH())&&(N._label=J.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(E,N){1&E&&b.WFA("@state.done",function(Oe){return N.onAnimationEnd(Oe)}),2&E&&b.d8E("@state",N._animationState)},features:[b.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(E,N){1&E&&(b.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),b.YNc(4,Qe,0,0,"ng-template",4),b.qZA(),b._UZ(5,"div"),b.qZA()()),2&E&&(b.xp6(5),b.uIk("aria-live",N._live)("role",N._role)("id",N._liveElementId))},dependencies:[Ke.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[or.snackBarState]}}),v})(),zn=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({imports:[Rt.U8,Ke.eL,Fe.ez,he.ot,Zt.BQ,Zt.BQ]}),v})();const Ct=new b.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function _t(){return new et}});let ct=(()=>{var O;class v{get _openedSnackBarRef(){const E=this._parentSnackBar;return E?E._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(E){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=E:this._snackBarRefAtThisLevel=E}constructor(E,N,J,Oe,He,it){this._overlay=E,this._live=N,this._injector=J,this._breakpointObserver=Oe,this._parentSnackBar=He,this._defaultConfig=it,this._snackBarRefAtThisLevel=null}openFromComponent(E,N){return this._attach(E,N)}openFromTemplate(E,N){return this._attach(E,N)}open(E,N="",J){const Oe={...this._defaultConfig,...J};return Oe.data={message:E,action:N},Oe.announcementMessage===E&&(Oe.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,Oe)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(E,N){const Oe=b.zs3.create({parent:N&&N.viewContainerRef&&N.viewContainerRef.injector||this._injector,providers:[{provide:et,useValue:N}]}),He=new Ke.C5(this.snackBarContainerComponent,N.viewContainerRef,Oe),it=E.attach(He);return it.instance.snackBarConfig=N,it.instance}_attach(E,N){const J={...new et,...this._defaultConfig,...N},Oe=this._createOverlay(J),He=this._attachSnackBarContainer(Oe,J),it=new Je(He,Oe);if(E instanceof b.Rgc){const Nt=new Ke.UE(E,null,{$implicit:J.data,snackBarRef:it});it.instance=He.attachTemplatePortal(Nt)}else{const Nt=this._createInjector(J,it),Vn=new Ke.C5(E,void 0,Nt),An=He.attachComponentPortal(Vn);it.instance=An.instance}return this._breakpointObserver.observe(St.u3.HandsetPortrait).pipe((0,jt.R)(Oe.detachments())).subscribe(Nt=>{Oe.overlayElement.classList.toggle(this.handsetCssClass,Nt.matches)}),J.announcementMessage&&He._onAnnounce.subscribe(()=>{this._live.announce(J.announcementMessage,J.politeness)}),this._animateSnackBar(it,J),this._openedSnackBarRef=it,this._openedSnackBarRef}_animateSnackBar(E,N){E.afterDismissed().subscribe(()=>{this._openedSnackBarRef==E&&(this._openedSnackBarRef=null),N.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{E.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):E.containerInstance.enter(),N.duration&&N.duration>0&&E.afterOpened().subscribe(()=>E._dismissAfter(N.duration))}_createOverlay(E){const N=new Rt.X_;N.direction=E.direction;let J=this._overlay.position().global();const Oe="rtl"===E.direction,He="left"===E.horizontalPosition||"start"===E.horizontalPosition&&!Oe||"end"===E.horizontalPosition&&Oe,it=!He&&"center"!==E.horizontalPosition;return He?J.left("0"):it?J.right("0"):J.centerHorizontally(),"top"===E.verticalPosition?J.top("0"):J.bottom("0"),N.positionStrategy=J,this._overlay.create(N)}_createInjector(E,N){return b.zs3.create({parent:E&&E.viewContainerRef&&E.viewContainerRef.injector||this._injector,providers:[{provide:Je,useValue:N},{provide:Pt,useValue:E.data}]})}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(Rt.aV),b.LFG(kt.Kd),b.LFG(b.zs3),b.LFG(St.Yg),b.LFG(O,12),b.LFG(Ct))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),v})(),yt=(()=>{var O;class v extends ct{constructor(E,N,J,Oe,He,it){super(E,N,J,Oe,He,it),this.simpleSnackBarComponent=cn,this.snackBarContainerComponent=Ur,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(Rt.aV),b.LFG(kt.Kd),b.LFG(b.zs3),b.LFG(St.Yg),b.LFG(O,12),b.LFG(Ct))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:zn}),v})();var Mt=V(9388),ut=V(7394),Ht=V(3019),At=V(5592),Xn=V(2181),Mn=V(940);class Un{constructor(v){this._box=v,this._destroyed=new Ae.x,this._resizeSubject=new Ae.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(C=>this._resizeSubject.next(C)))}observe(v){return this._elementObservables.has(v)||this._elementObservables.set(v,new At.y(C=>{const E=this._resizeSubject.subscribe(C);return this._resizeObserver?.observe(v,{box:this._box}),()=>{this._resizeObserver?.unobserve(v),E.unsubscribe(),this._elementObservables.delete(v)}}).pipe((0,Xn.h)(C=>C.some(E=>E.target===v)),(0,Mn.d)({bufferSize:1,refCount:!0}),(0,jt.R)(this._destroyed))),this._elementObservables.get(v)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Zn=(()=>{var O;class v{constructor(){this._observers=new Map,this._ngZone=(0,b.f3M)(b.R0b)}ngOnDestroy(){for(const[,E]of this._observers)E.destroy();this._observers.clear()}observe(E,N){const J=N?.box||"content-box";return this._observers.has(J)||this._observers.set(J,new Un(J)),this._observers.get(J).observe(E)}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),v})();var Fn=V(2495),kr=V(7131);const br=["notch"],zr=["matFormFieldNotchedOutline",""],ui=["*"],gi=["textField"],hi=["iconPrefixContainer"],Kr=["textPrefixContainer"];function fi(O,v){1&O&&b._UZ(0,"span",19)}function Ar(O,v){if(1&O&&(b.TgZ(0,"label",17),b.Hsn(1,1),b.YNc(2,fi,1,0,"span",18),b.qZA()),2&O){const C=b.oxw(2);b.Q6J("floating",C._shouldLabelFloat())("monitorResize",C._hasOutline())("id",C._labelId),b.uIk("for",C._control.id),b.xp6(2),b.Q6J("ngIf",!C.hideRequiredMarker&&C._control.required)}}function kn(O,v){if(1&O&&b.YNc(0,Ar,3,5,"label",16),2&O){const C=b.oxw();b.Q6J("ngIf",C._hasFloatingLabel())}}function $n(O,v){1&O&&b._UZ(0,"div",20)}function Yn(O,v){}function fr(O,v){if(1&O&&b.YNc(0,Yn,0,0,"ng-template",22),2&O){b.oxw(2);const C=b.MAs(1);b.Q6J("ngTemplateOutlet",C)}}function _r(O,v){if(1&O&&(b.TgZ(0,"div",21),b.YNc(1,fr,1,1,"ng-template",9),b.qZA()),2&O){const C=b.oxw();b.Q6J("matFormFieldNotchedOutlineOpen",C._shouldLabelFloat()),b.xp6(1),b.Q6J("ngIf",!C._forceDisplayInfixLabel())}}function Zr(O,v){1&O&&(b.TgZ(0,"div",23,24),b.Hsn(2,2),b.qZA())}function Er(O,v){1&O&&(b.TgZ(0,"div",25,26),b.Hsn(2,3),b.qZA())}function vr(O,v){}function os(O,v){if(1&O&&b.YNc(0,vr,0,0,"ng-template",22),2&O){b.oxw();const C=b.MAs(1);b.Q6J("ngTemplateOutlet",C)}}function ar(O,v){1&O&&(b.TgZ(0,"div",27),b.Hsn(1,4),b.qZA())}function Vi(O,v){1&O&&(b.TgZ(0,"div",28),b.Hsn(1,5),b.qZA())}function Mr(O,v){1&O&&b._UZ(0,"div",29)}function Mi(O,v){if(1&O&&(b.TgZ(0,"div",30),b.Hsn(1,6),b.qZA()),2&O){const C=b.oxw();b.Q6J("@transitionMessages",C._subscriptAnimationState)}}function wr(O,v){if(1&O&&(b.TgZ(0,"mat-hint",34),b._uU(1),b.qZA()),2&O){const C=b.oxw(2);b.Q6J("id",C._hintLabelId),b.xp6(1),b.Oqu(C.hintLabel)}}function Et(O,v){if(1&O&&(b.TgZ(0,"div",31),b.YNc(1,wr,2,2,"mat-hint",32),b.Hsn(2,7),b._UZ(3,"div",33),b.Hsn(4,8),b.qZA()),2&O){const C=b.oxw();b.Q6J("@transitionMessages",C._subscriptAnimationState),b.xp6(1),b.Q6J("ngIf",C.hintLabel)}}const Ye=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tt=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Xe=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["mat-label"]]}),v})(),ht=0;const Bt=new b.OlP("MatError");let gn=(()=>{var O;class v{constructor(E,N){this.id="mat-mdc-error-"+ht++,E||N.nativeElement.setAttribute("aria-live","polite")}}return(O=v).\u0275fac=function(E){return new(E||O)(b.$8M("aria-live"),b.Y36(b.SBq))},O.\u0275dir=b.lG2({type:O,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(E,N){2&E&&b.Ikx("id",N.id)},inputs:{id:"id"},features:[b._Bn([{provide:Bt,useExisting:O}])]}),v})(),Hn=0,pr=(()=>{var O;class v{constructor(){this.align="start",this.id="mat-mdc-hint-"+Hn++}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(E,N){2&E&&(b.Ikx("id",N.id),b.uIk("align",null),b.ekj("mat-mdc-form-field-hint-end","end"===N.align))},inputs:{align:"align",id:"id"}}),v})();const _i=new b.OlP("MatPrefix"),G=new b.OlP("MatSuffix");let k=(()=>{var O;class v{constructor(){this._isText=!1}set _isTextSelector(E){this._isText=!0}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[b._Bn([{provide:G,useExisting:O}])]}),v})();const L=new b.OlP("FloatingLabelParent");let F=(()=>{var O;class v{get floating(){return this._floating}set floating(E){this._floating=E,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(E){this._monitorResize=E,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(E){this._elementRef=E,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,b.f3M)(Zn),this._ngZone=(0,b.f3M)(b.R0b),this._parent=(0,b.f3M)(L),this._resizeSubscription=new ut.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function de(O){if(null!==O.offsetParent)return O.scrollWidth;const C=O.cloneNode(!0);C.style.setProperty("position","absolute"),C.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(C);const E=C.scrollWidth;return C.remove(),E}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.SBq))},O.\u0275dir=b.lG2({type:O,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(E,N){2&E&&b.ekj("mdc-floating-label--float-above",N.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),v})();const We="mdc-line-ripple--active",vt="mdc-line-ripple--deactivating";let on=(()=>{var O;class v{constructor(E,N){this._elementRef=E,this._handleTransitionEnd=J=>{const Oe=this._elementRef.nativeElement.classList,He=Oe.contains(vt);"opacity"===J.propertyName&&He&&Oe.remove(We,vt)},N.runOutsideAngular(()=>{E.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const E=this._elementRef.nativeElement.classList;E.remove(vt),E.add(We)}deactivate(){this._elementRef.nativeElement.classList.add(vt)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.SBq),b.Y36(b.R0b))},O.\u0275dir=b.lG2({type:O,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),v})(),qt=(()=>{var O;class v{constructor(E,N){this._elementRef=E,this._ngZone=N,this.open=!1}ngAfterViewInit(){const E=this._elementRef.nativeElement.querySelector(".mdc-floating-label");E?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(E.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>E.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(E){this._notch.nativeElement.style.width=this.open&&E?`calc(${E}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.SBq),b.Y36(b.R0b))},O.\u0275cmp=b.Xpm({type:O,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(E,N){if(1&E&&b.Gf(br,5),2&E){let J;b.iGM(J=b.CRH())&&(N._notch=J.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(E,N){2&E&&b.ekj("mdc-notched-outline--notched",N.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:zr,ngContentSelectors:ui,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(E,N){1&E&&(b.F$t(),b._UZ(0,"div",0),b.TgZ(1,"div",1,2),b.Hsn(3),b.qZA(),b._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),v})();const Sn={transitionMessages:(0,ve.X$)("transitionMessages",[(0,ve.SB)("enter",(0,ve.oB)({opacity:1,transform:"translateY(0%)"})),(0,ve.eR)("void => enter",[(0,ve.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ve.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let In=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275dir=b.lG2({type:O}),v})();const pi=new b.OlP("MatFormField"),Dt=new b.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gt=0,dr=(()=>{var O;class v{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(E){this._hideRequiredMarker=(0,Fn.Ig)(E)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(E){E!==this._floatLabel&&(this._floatLabel=E,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(E){const N=this._appearance;this._appearance=E||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==N&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(E){this._subscriptSizing=E||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(E){this._hintLabel=E,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(E){this._explicitFormFieldControl=E}constructor(E,N,J,Oe,He,it,Nt,Vn){this._elementRef=E,this._changeDetectorRef=N,this._ngZone=J,this._dir=Oe,this._platform=He,this._defaults=it,this._animationMode=Nt,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gt++,this._hintLabelId="mat-mdc-hint-"+gt++,this._subscriptAnimationState="",this._destroyed=new Ae.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,it&&(it.appearance&&(this.appearance=it.appearance),this._hideRequiredMarker=!!it?.hideRequiredMarker,it.color&&(this.color=it.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const E=this._control;E.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${E.controlType}`),E.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),E.ngControl&&E.ngControl.valueChanges&&E.ngControl.valueChanges.pipe((0,jt.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(E=>!E._isText),this._hasTextPrefix=!!this._prefixChildren.find(E=>E._isText),this._hasIconSuffix=!!this._suffixChildren.find(E=>!E._isText),this._hasTextSuffix=!!this._suffixChildren.find(E=>E._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ht.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jt.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,jt.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(E){const N=this._control?this._control.ngControl:null;return N&&N[E]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let E=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&E.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const N=this._hintChildren?this._hintChildren.find(Oe=>"start"===Oe.align):null,J=this._hintChildren?this._hintChildren.find(Oe=>"end"===Oe.align):null;N?E.push(N.id):this._hintLabel&&E.push(this._hintLabelId),J&&E.push(J.id)}else this._errorChildren&&E.push(...this._errorChildren.map(N=>N.id));this._control.setDescribedByIds(E)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const E=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(E.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const N=this._iconPrefixContainer?.nativeElement,J=this._textPrefixContainer?.nativeElement,Oe=N?.getBoundingClientRect().width??0,He=J?.getBoundingClientRect().width??0;E.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Oe+He}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const E=this._elementRef.nativeElement;if(E.getRootNode){const N=E.getRootNode();return N&&N!==E}return document.documentElement.contains(E)}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.SBq),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(Mt.Is),b.Y36(lt.t4),b.Y36(Dt,8),b.Y36(b.QbO,8),b.Y36(Fe.K0))},O.\u0275cmp=b.Xpm({type:O,selectors:[["mat-form-field"]],contentQueries:function(E,N,J){if(1&E&&(b.Suo(J,Xe,5),b.Suo(J,Xe,7),b.Suo(J,In,5),b.Suo(J,_i,5),b.Suo(J,G,5),b.Suo(J,Bt,5),b.Suo(J,pr,5)),2&E){let Oe;b.iGM(Oe=b.CRH())&&(N._labelChildNonStatic=Oe.first),b.iGM(Oe=b.CRH())&&(N._labelChildStatic=Oe.first),b.iGM(Oe=b.CRH())&&(N._formFieldControl=Oe.first),b.iGM(Oe=b.CRH())&&(N._prefixChildren=Oe),b.iGM(Oe=b.CRH())&&(N._suffixChildren=Oe),b.iGM(Oe=b.CRH())&&(N._errorChildren=Oe),b.iGM(Oe=b.CRH())&&(N._hintChildren=Oe)}},viewQuery:function(E,N){if(1&E&&(b.Gf(gi,5),b.Gf(hi,5),b.Gf(Kr,5),b.Gf(F,5),b.Gf(qt,5),b.Gf(on,5)),2&E){let J;b.iGM(J=b.CRH())&&(N._textField=J.first),b.iGM(J=b.CRH())&&(N._iconPrefixContainer=J.first),b.iGM(J=b.CRH())&&(N._textPrefixContainer=J.first),b.iGM(J=b.CRH())&&(N._floatingLabel=J.first),b.iGM(J=b.CRH())&&(N._notchedOutline=J.first),b.iGM(J=b.CRH())&&(N._lineRipple=J.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(E,N){2&E&&b.ekj("mat-mdc-form-field-label-always-float",N._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",N._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",N._hasIconSuffix)("mat-form-field-invalid",N._control.errorState)("mat-form-field-disabled",N._control.disabled)("mat-form-field-autofilled",N._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===N._animationMode)("mat-form-field-appearance-fill","fill"==N.appearance)("mat-form-field-appearance-outline","outline"==N.appearance)("mat-form-field-hide-placeholder",N._hasFloatingLabel()&&!N._shouldLabelFloat())("mat-focused",N._control.focused)("mat-primary","accent"!==N.color&&"warn"!==N.color)("mat-accent","accent"===N.color)("mat-warn","warn"===N.color)("ng-untouched",N._shouldForward("untouched"))("ng-touched",N._shouldForward("touched"))("ng-pristine",N._shouldForward("pristine"))("ng-dirty",N._shouldForward("dirty"))("ng-valid",N._shouldForward("valid"))("ng-invalid",N._shouldForward("invalid"))("ng-pending",N._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[b._Bn([{provide:pi,useExisting:O},{provide:L,useExisting:O}])],ngContentSelectors:Tt,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(E,N){1&E&&(b.F$t(Ye),b.YNc(0,kn,1,1,"ng-template",null,0,b.W1O),b.TgZ(2,"div",1,2),b.NdJ("click",function(Oe){return N._control.onContainerClick(Oe)}),b.YNc(4,$n,1,0,"div",3),b.TgZ(5,"div",4),b.YNc(6,_r,2,2,"div",5),b.YNc(7,Zr,3,0,"div",6),b.YNc(8,Er,3,0,"div",7),b.TgZ(9,"div",8),b.YNc(10,os,1,1,"ng-template",9),b.Hsn(11),b.qZA(),b.YNc(12,ar,2,0,"div",10),b.YNc(13,Vi,2,0,"div",11),b.qZA(),b.YNc(14,Mr,1,0,"div",12),b.qZA(),b.TgZ(15,"div",13),b.YNc(16,Mi,2,1,"div",14),b.YNc(17,Et,5,2,"div",15),b.qZA()),2&E&&(b.xp6(2),b.ekj("mdc-text-field--filled",!N._hasOutline())("mdc-text-field--outlined",N._hasOutline())("mdc-text-field--no-label",!N._hasFloatingLabel())("mdc-text-field--disabled",N._control.disabled)("mdc-text-field--invalid",N._control.errorState),b.xp6(2),b.Q6J("ngIf",!N._hasOutline()&&!N._control.disabled),b.xp6(2),b.Q6J("ngIf",N._hasOutline()),b.xp6(1),b.Q6J("ngIf",N._hasIconPrefix),b.xp6(1),b.Q6J("ngIf",N._hasTextPrefix),b.xp6(2),b.Q6J("ngIf",!N._hasOutline()||N._forceDisplayInfixLabel()),b.xp6(2),b.Q6J("ngIf",N._hasTextSuffix),b.xp6(1),b.Q6J("ngIf",N._hasIconSuffix),b.xp6(1),b.Q6J("ngIf",!N._hasOutline()),b.xp6(1),b.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===N.subscriptSizing),b.Q6J("ngSwitch",N._getDisplayedMessages()),b.xp6(1),b.Q6J("ngSwitchCase","error"),b.xp6(1),b.Q6J("ngSwitchCase","hint"))},dependencies:[Fe.O5,Fe.tP,Fe.RF,Fe.n9,pr,F,qt,on],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Sn.transitionMessages]},changeDetection:0}),v})(),Yr=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({imports:[Zt.BQ,Fe.ez,kr.Q8,Zt.BQ]}),v})();var vi=V(6232);const nn=(0,lt.i$)({passive:!0});let ti=(()=>{var O;class v{constructor(E,N){this._platform=E,this._ngZone=N,this._monitoredElements=new Map}monitor(E){if(!this._platform.isBrowser)return vi.E;const N=(0,Fn.fI)(E),J=this._monitoredElements.get(N);if(J)return J.subject;const Oe=new Ae.x,He="cdk-text-field-autofilled",it=Nt=>{"cdk-text-field-autofill-start"!==Nt.animationName||N.classList.contains(He)?"cdk-text-field-autofill-end"===Nt.animationName&&N.classList.contains(He)&&(N.classList.remove(He),this._ngZone.run(()=>Oe.next({target:Nt.target,isAutofilled:!1}))):(N.classList.add(He),this._ngZone.run(()=>Oe.next({target:Nt.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{N.addEventListener("animationstart",it,nn),N.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(N,{subject:Oe,unlisten:()=>{N.removeEventListener("animationstart",it,nn)}}),Oe}stopMonitoring(E){const N=(0,Fn.fI)(E),J=this._monitoredElements.get(N);J&&(J.unlisten(),J.subject.complete(),N.classList.remove("cdk-text-field-autofill-monitored"),N.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(N))}ngOnDestroy(){this._monitoredElements.forEach((E,N)=>this.stopMonitoring(N))}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(lt.t4),b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),v})(),cs=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({}),v})();const mo=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),un=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Xr=0;const Ui=(0,Zt.FD)(class{constructor(O,v,C,E){this._defaultErrorStateMatcher=O,this._parentForm=v,this._parentFormGroup=C,this.ngControl=E,this.stateChanges=new Ae.x}});let us=(()=>{var O;class v extends Ui{get disabled(){return this._disabled}set disabled(E){this._disabled=(0,Fn.Ig)(E),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(E){this._id=E||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Te.kI.required)??!1}set required(E){this._required=(0,Fn.Ig)(E)}get type(){return this._type}set type(E){this._type=E||"text",this._validateType(),!this._isTextarea&&(0,lt.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(E){E!==this.value&&(this._inputValueAccessor.value=E,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(E){this._readonly=(0,Fn.Ig)(E)}constructor(E,N,J,Oe,He,it,Nt,Vn,An,Nr){super(it,Oe,He,J),this._elementRef=E,this._platform=N,this._autofillMonitor=Vn,this._formField=Nr,this._uid="mat-input-"+Xr++,this.focused=!1,this.stateChanges=new Ae.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($r=>(0,lt.qK)().has($r)),this._iOSKeyupListener=$r=>{const Pi=$r.target;!Pi.value&&0===Pi.selectionStart&&0===Pi.selectionEnd&&(Pi.setSelectionRange(1,1),Pi.setSelectionRange(0,0))};const oi=this._elementRef.nativeElement,Qn=oi.nodeName.toLowerCase();this._inputValueAccessor=Nt||oi,this._previousNativeValue=this.value,this.id=this.id,N.IOS&&An.runOutsideAngular(()=>{E.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Qn,this._isTextarea="textarea"===Qn,this._isInFormField=!!Nr,this._isNativeSelect&&(this.controlType=oi.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(E=>{this.autofilled=E.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(E){this._elementRef.nativeElement.focus(E)}_focusChanged(E){E!==this.focused&&(this.focused=E,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const E=this._elementRef.nativeElement.value;this._previousNativeValue!==E&&(this._previousNativeValue=E,this.stateChanges.next())}_dirtyCheckPlaceholder(){const E=this._getPlaceholder();if(E!==this._previousPlaceholder){const N=this._elementRef.nativeElement;this._previousPlaceholder=E,E?N.setAttribute("placeholder",E):N.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){un.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let E=this._elementRef.nativeElement.validity;return E&&E.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const E=this._elementRef.nativeElement,N=E.options[0];return this.focused||E.multiple||!this.empty||!!(E.selectedIndex>-1&&N&&N.label)}return this.focused||!this.empty}setDescribedByIds(E){E.length?this._elementRef.nativeElement.setAttribute("aria-describedby",E.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const E=this._elementRef.nativeElement;return this._isNativeSelect&&(E.multiple||E.size>1)}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(b.SBq),b.Y36(lt.t4),b.Y36(Te.a5,10),b.Y36(Te.F,8),b.Y36(Te.sg,8),b.Y36(Zt.rD),b.Y36(mo,10),b.Y36(ti),b.Y36(b.R0b),b.Y36(pi,8))},O.\u0275dir=b.lG2({type:O,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(E,N){1&E&&b.NdJ("focus",function(){return N._focusChanged(!0)})("blur",function(){return N._focusChanged(!1)})("input",function(){return N._onInput()}),2&E&&(b.Ikx("id",N.id)("disabled",N.disabled)("required",N.required),b.uIk("name",N.name||null)("readonly",N.readonly&&!N._isNativeSelect||null)("aria-invalid",N.empty&&N.required?null:N.errorState)("aria-required",N.required)("id",N.id),b.ekj("mat-input-server",N._isServer)("mat-mdc-form-field-textarea-control",N._isInFormField&&N._isTextarea)("mat-mdc-form-field-input-control",N._isInFormField)("mdc-text-field__input",N._isInFormField)("mat-mdc-native-select-inline",N._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:In,useExisting:O}]),b.qOj,b.TTD]}),v})(),nt=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({imports:[Zt.BQ,Yr,Yr,cs,Zt.BQ]}),v})();var oe=V(1175);function Pe(O,v){1&O&&(b.TgZ(0,"div",1),b._UZ(1,"div",2),b.TgZ(2,"p",3),b._uU(3,"Cargado..."),b.qZA()())}let $=(()=>{var O;class v{constructor(){}ngOnInit(){}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-spinner"]],inputs:{showSpinner:"showSpinner",class:"class"},decls:1,vars:1,consts:[["class","pl spinner-container",4,"ngIf"],[1,"pl","spinner-container"],[1,"square-7"],[1,"loading"]],template:function(E,N){1&E&&b.YNc(0,Pe,4,0,"div",0),2&E&&b.Q6J("ngIf",N.showSpinner)},dependencies:[Fe.O5],styles:[".spinner-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:99;background-color:#00000075}.square-7[_ngcontent-%COMP%]{width:55px;aspect-ratio:1;--g1:conic-gradient(from 90deg at 3px 3px ,#0000 90deg,#7c1ca4 0);--g2:conic-gradient(from -90deg at 22px 22px,#0000 90deg,#7c1ca4 0);background:var(--g1),var(--g1),var(--g1),var(--g2),var(--g2),var(--g2);background-size:25px 25px;background-repeat:no-repeat;animation:_ngcontent-%COMP%_s7 1.5s infinite;z-index:100}@keyframes _ngcontent-%COMP%_s7{0%{background-position:0 0,0 100%,100% 100%}25%{background-position:100% 0,0 100%,100% 100%}50%{background-position:100% 0,0 0,100% 100%}75%{background-position:100% 0,0 0,0 100%}to{background-position:100% 100%,0 0,0 100%}}.loading[_ngcontent-%COMP%]{padding-top:5px;color:#ccc}"]}),v})();function ce(O,v){if(1&O&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&O){const C=b.oxw();b.xp6(1),b.Oqu(C.getErrorMessageEmail())}}function Ee(O,v){if(1&O&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&O){const C=b.oxw();b.xp6(1),b.Oqu(C.getErrorMessagePassword())}}function bt(O,v){if(1&O&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&O){const C=b.oxw();b.xp6(1),b.Oqu(C.getErrorMessageName())}}function xe(O,v){if(1&O&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&O){const C=b.oxw();b.xp6(1),b.Oqu(C.getErrorMessageEmail())}}function ge(O,v){if(1&O&&(b.TgZ(0,"mat-error"),b._uU(1),b.qZA()),2&O){const C=b.oxw();b.xp6(1),b.Oqu(C.getErrorMessagePassword())}}const ot=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{var O;class v{constructor(E,N,J,Oe){this.router=E,this.firebaseSvc=N,this.utilsSvc=J,this.snackBar=Oe,this.hide=!0,this.loading=!1,this.alert="",this.form=new Te.cw({email:new Te.NI("",[Te.kI.required,Te.kI.email]),password:new Te.NI("",[Te.kI.required,Te.kI.minLength(6)])})}getErrorMessageEmail(){let E="";return this.form.controls.email.hasError("required")&&(E="Campo requerido"),this.form.controls.email.hasError("email")&&(E="Email no valido"),E}getErrorMessagePassword(){let E="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(E="Campo requerido"),E}submit(){var E=this;if(this.form.valid){var N;this.loading=!0;const J=new Date;J.toLocaleDateString(),J.toLocaleTimeString(),this.firebaseSvc.login(this.form.value).then(function(He){return(N=N||(0,ae.Z)(function*(it){let Nt={uid:it.user.uid,name:it.user.displayName,email:it.user.email};E.firebaseSvc.saveLog(it.user.email),E.utilsSvc.setElementInLocalstorage("user",Nt),E.utilsSvc.routerLink("home"),E.router.navigate(["home"],{queryParams:Nt}),E.form.reset()})).apply(this,arguments)},He=>{this.loading=!1,"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."===He.message&&(this.alert="Contrase\xf1a incorrecta vuelva a intentar"),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===He.message&&(this.alert="Usuario incorrecto vuelva a intentar");let it=this.snackBar.open(this.alert,"cerrar",{duration:3e3});it.onAction().subscribe(()=>{it.dismiss()})})}}getRegistrar(){this.router.navigate(["registro"])}getQuienSoy(){this.router.navigate(["quiensoy"])}autoComplete(){this.form.setValue({email:"test@mail.com",password:"123456"})}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(H.F0),b.Y36(ke.O),b.Y36(Ve.F),b.Y36(yt))},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-login"]],decls:34,vars:9,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form"],["appearance","outline",1,"focused"],[1,"label"],["matInput","","required","",1,"input",3,"formControl"],["matSuffix",""],[4,"ngIf"],["appearance","outline"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],[1,"container-buttons"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(E,N){1&E&&(b._UZ(0,"app-spinner",0),b.TgZ(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"h1",3),b._uU(4,"Bienvenido a la sala de juegos"),b.qZA(),b.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label",6),b._uU(8,"Ingresa tu email"),b.qZA(),b._UZ(9,"input",7),b.TgZ(10,"mat-icon",8),b._uU(11,"sentiment_very_satisfied"),b.qZA(),b.YNc(12,ce,2,1,"mat-error",9),b.qZA(),b.TgZ(13,"mat-form-field",10)(14,"mat-label",6),b._uU(15,"Ingresa tu contrase\xf1a"),b.qZA(),b._UZ(16,"input",11),b.TgZ(17,"button",12),b.NdJ("click",function(){return N.hide=!N.hide}),b.TgZ(18,"mat-icon"),b._uU(19),b.qZA()(),b.YNc(20,Ee,2,1,"mat-error",9),b.qZA()(),b.TgZ(21,"div",13)(22,"a",14),b.NdJ("click",function(){return N.submit()}),b._uU(23,"Entrar"),b.qZA(),b.TgZ(24,"a",14),b.NdJ("click",function(){return N.autoComplete()}),b._uU(25,"Auto Completar"),b.qZA()(),b.TgZ(26,"div",15)(27,"p",16),b._uU(28," No tenes cuenta? "),b.TgZ(29,"a",17),b.NdJ("click",function(){return N.getRegistrar()}),b._uU(30,"Registrate"),b.qZA()(),b.TgZ(31,"a",17),b.NdJ("click",function(){return N.getQuienSoy()}),b._uU(32,"Quien soy?"),b.qZA()()(),b._UZ(33,"router-outlet")),2&E&&(b.Q6J("showSpinner",N.loading),b.xp6(9),b.Q6J("formControl",N.form.controls.email),b.xp6(3),b.Q6J("ngIf",N.form.controls.email.invalid),b.xp6(4),b.Q6J("type",N.hide?"password":"text")("formControl",N.form.controls.password),b.xp6(1),b.uIk("aria-label","Hide password")("aria-pressed",N.hide),b.xp6(2),b.Oqu(N.hide?"visibility_off":"visibility"),b.xp6(1),b.Q6J("ngIf",N.form.controls.password.invalid))},dependencies:[Fe.O5,H.lC,Te.Fj,Te.JJ,Te.Q7,dr,Xe,gn,k,us,he.zs,he.RK,oe.Hw,Te.oH,$],styles:[".container-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center}.my-button[_ngcontent-%COMP%]{margin-bottom:20px}"]}),v})()},{path:"home",loadChildren:()=>V.e(36).then(V.bind(V,1036)).then(O=>O.HomeModule)},{path:"registro",component:(()=>{var O;class v{constructor(E,N,J,Oe,He){this.router=E,this.firebaseSvc=N,this.utilsSvc=J,this.formBuilder=Oe,this.snackBar=He,this.hide=!0,this.nombre="",this.loading=!1,this.alert="",this.form=new Te.cw({name:new Te.NI("",[Te.kI.required,Te.kI.minLength(3)]),email:new Te.NI("",[Te.kI.required,Te.kI.email]),password:new Te.NI("",[Te.kI.required,Te.kI.minLength(6)])})}getErrorMessageName(){let E="Debe tener al menos 3 caracteres";return this.form.controls.name.hasError("required")&&(E="Campo requerido"),E}getErrorMessageEmail(){let E="";return this.form.controls.email.hasError("required")&&(E="Campo requerido"),this.form.controls.email.hasError("email")&&(E="Email no valido"),console.log(this.form.controls.name.hasError),E}getErrorMessagePassword(){let E="Debe tener al menos 6 caracteres";return this.form.controls.password.hasError("required")&&(E="Campo requerido"),E}submit(){var E=this;if(this.form.valid){var N;const J=this.nombre;this.loading=!0,this.firebaseSvc.signinUp(this.form.value).then(function(Oe){return(N=N||(0,ae.Z)(function*(He){yield E.firebaseSvc.updateUser({displayName:J});let it={uid:He.user.uid,name:He.user.displayName,email:He.user.email};E.utilsSvc.setElementInLocalstorage("user",it),E.utilsSvc.routerLink("home"),E.router.navigate(["home"],{queryParams:it}),E.form.reset()})).apply(this,arguments)},Oe=>{this.loading=!1,"Firebase: The email address is already in use by another account. (auth/email-already-in-use)."===Oe.message&&(this.alert="Usuario ya registrado."),"Firebase: There is no user record corresponding to this identifier. The user may have been deleted. (auth/user-not-found)."===Oe.message&&(this.alert="Usuario incorrecto vuelva a intentar");let He=this.snackBar.open(this.alert,"cerrar",{duration:3e3,panelClass:["custom-style"]});He.onAction().subscribe(()=>{He.dismiss()})})}}getLogin(){this.utilsSvc.routerLink("login")}getQuienSoy(){this.utilsSvc.routerLink("quiensoy")}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(H.F0),b.Y36(ke.O),b.Y36(Ve.F),b.Y36(Te.qu),b.Y36(yt))},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-registro"]],decls:37,vars:13,consts:[[3,"showSpinner"],[1,"container-form"],["src","../../../assets/consola.png","alt","",1,"icon"],[1,"title"],[1,"form",3,"formGroup","keyup.enter"],["appearance","outline"],[1,"label"],["matInput","","type","text","required","",1,"input",3,"ngModel","formControl","ngModelChange"],["matSuffix",""],[4,"ngIf"],["matInput","","required","",1,"input",3,"formControl"],["matInput","","required","",1,"input",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","",1,"my-button",3,"click"],[1,"container-links"],[1,"text"],[1,"link",3,"click"]],template:function(E,N){1&E&&(b._UZ(0,"app-spinner",0),b.TgZ(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"h1",3),b._uU(4,"Bienvenido a la sala de juegos"),b.qZA(),b.TgZ(5,"form",4),b.NdJ("keyup.enter",function(){return N.submit()}),b.TgZ(6,"mat-form-field",5)(7,"mat-label",6),b._uU(8,"Ingresa tu nombre"),b.qZA(),b.TgZ(9,"input",7),b.NdJ("ngModelChange",function(Oe){return N.nombre=Oe}),b.qZA(),b.TgZ(10,"mat-icon",8),b._uU(11,"sentiment_very_satisfied"),b.qZA(),b.YNc(12,bt,2,1,"mat-error",9),b.qZA(),b.TgZ(13,"mat-form-field",5)(14,"mat-label",6),b._uU(15,"Ingresa tu email"),b.qZA(),b._UZ(16,"input",10),b.TgZ(17,"mat-icon",8),b._uU(18,"sentiment_very_satisfied"),b.qZA(),b.YNc(19,xe,2,1,"mat-error",9),b.qZA(),b.TgZ(20,"mat-form-field",5)(21,"mat-label",6),b._uU(22,"Ingresa tu contrase\xf1a"),b.qZA(),b._UZ(23,"input",11),b.TgZ(24,"button",12),b.NdJ("click",function(){return N.hide=!N.hide}),b.TgZ(25,"mat-icon"),b._uU(26),b.qZA()(),b.YNc(27,ge,2,1,"mat-error",9),b.qZA()(),b.TgZ(28,"a",13),b.NdJ("click",function(){return N.submit()}),b._uU(29,"Registrarse"),b.qZA(),b.TgZ(30,"div",14)(31,"p",15),b._uU(32," Tenes cuenta? "),b.TgZ(33,"a",16),b.NdJ("click",function(){return N.getLogin()}),b._uU(34,"Entrar"),b.qZA()(),b.TgZ(35,"a",16),b.NdJ("click",function(){return N.getQuienSoy()}),b._uU(36,"Quien soy?"),b.qZA()()()),2&E&&(b.Q6J("showSpinner",N.loading),b.xp6(5),b.Q6J("formGroup",N.form),b.xp6(4),b.Q6J("ngModel",N.nombre)("formControl",N.form.controls.name),b.xp6(3),b.Q6J("ngIf",N.form.controls.name.invalid),b.xp6(4),b.Q6J("formControl",N.form.controls.email),b.xp6(3),b.Q6J("ngIf",N.form.controls.email.invalid),b.xp6(4),b.Q6J("type",N.hide?"password":"text")("formControl",N.form.controls.password),b.xp6(1),b.uIk("aria-label","Hide password")("aria-pressed",N.hide),b.xp6(2),b.Oqu(N.hide?"visibility_off":"visibility"),b.xp6(1),b.Q6J("ngIf",N.form.controls.password.invalid))},dependencies:[Fe.O5,Te._Y,Te.Fj,Te.JJ,Te.JL,Te.Q7,dr,Xe,gn,k,us,he.zs,he.RK,oe.Hw,Te.oH,Te.sg,$],styles:[".container-form[_ngcontent-%COMP%]{position:absolute;top:3rem;bottom:0;left:0;right:0}mat-form-field[_ngcontent-%COMP%]{padding:8px}"]}),v})()},{path:"quiensoy",component:(()=>{var O;class v{constructor(E){this.router=E}getRegistrar(){this.router.navigate(["registro"])}getLogin(){this.router.navigate(["login"])}}return(O=v).\u0275fac=function(E){return new(E||O)(b.Y36(H.F0))},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-quien-soy"]],decls:53,vars:0,consts:[[1,"container-form"],[1,"title"],[1,"form"],[1,"container","mt-5"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-5","container-img"],["src","../../../assets/perfil.png","alt","Imagen de perfil",1,"photo"],[1,"col-md-6"],[1,"card-title","text-name"],[1,"name"],[1,"game"],[1,"container-buttons"],[1,"div1"],["mat-raised-button","",1,"my-button",3,"click"],[1,"div2"]],template:function(E,N){1&E&&(b.TgZ(0,"div",0)(1,"h1",1),b._uU(2,"Hello there!"),b.qZA(),b.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),b._UZ(9,"img",8),b.qZA(),b.TgZ(10,"div",9)(11,"h3",10),b._uU(12,"Mi nombre es "),b.TgZ(13,"span",11),b._uU(14,"Juan Sueldo "),b.qZA()(),b.TgZ(15,"ul")(16,"li")(17,"p"),b._uU(18,"Edad: 34 a\xf1os"),b.qZA()(),b.TgZ(19,"li")(20,"p"),b._uU(21,"Ocupaci\xf3n: Estudiante y Programador"),b.qZA()(),b.TgZ(22,"li")(23,"p"),b._uU(24,"Curso: 4\xbaB"),b.qZA()(),b.TgZ(25,"li"),b._UZ(26,"p"),b.qZA()()()()()()(),b.TgZ(27,"h3",12),b._uU(28,"Juego Extra Reglas:"),b.qZA(),b.TgZ(29,"div",4)(30,"ul")(31,"li")(32,"p"),b._uU(33,"Cada jugador contar\xe1 con 5 cartas que ser\xe1n asignadas de manera aleatoria"),b.qZA()(),b.TgZ(34,"li")(35,"p"),b._uU(36," Cada jugador cuenta con una barra de vida, El jugador que logre debilitar primero al oponente ganar\xe1 la partida "),b.qZA()(),b.TgZ(37,"li")(38,"p"),b._uU(39,"Para ello debe utilizar las cartas de su mazo para atacar al contrincante"),b.qZA()(),b.TgZ(40,"li")(41,"p"),b._uU(42,"El jugador que logre debilitar primero al oponente ganar\xe1 la partida"),b.qZA()(),b.TgZ(43,"li")(44,"p"),b._uU(45,"Si ambos jugadores se quedan sin cartas, ganar\xe1 el jugador que tenga mayor puntos de vida"),b.qZA()()()()(),b.TgZ(46,"div",13)(47,"div",14)(48,"a",15),b.NdJ("click",function(){return N.getLogin()}),b._uU(49,"Entrar"),b.qZA()(),b.TgZ(50,"div",16)(51,"a",15),b.NdJ("click",function(){return N.getRegistrar()}),b._uU(52,"Registrarse"),b.qZA()()()())},dependencies:[he.zs],styles:[".container[_ngcontent-%COMP%]{width:50%}.container-img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin-left:40px;overflow:hidden;position:relative;border:1px solid #cccccc;background-color:#36081f}.card[_ngcontent-%COMP%]{background-color:#6b59ac}.name[_ngcontent-%COMP%]{color:#36081f;font-weight:500}.photo[_ngcontent-%COMP%]{width:100%;height:auto;transform:translate(4%,-20%)}.p[_ngcontent-%COMP%]{text-align:left}.text-name[_ngcontent-%COMP%], .game[_ngcontent-%COMP%]{color:#ccc;text-shadow:4px -3px 5px rgba(0,0,0,.6)}.container-form[_ngcontent-%COMP%]{position:absolute;inset:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;text-align:left}p[_ngcontent-%COMP%]{color:#ccc;font-size:1em}.container-buttons[_ngcontent-%COMP%]{margin-top:40px;display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(1,1fr);grid-column-gap:0px;grid-row-gap:25px}.div1[_ngcontent-%COMP%]{grid-area:1/1/1/4}.div2[_ngcontent-%COMP%]{grid-area:1/3/1/6}"]}),v})()},{path:"**",component:(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-not-found"]],decls:10,vars:0,consts:[[1,"notFound"],[1,"text"],["routerLink","/login",1,"yes"]],template:function(E,N){1&E&&(b.TgZ(0,"section",0)(1,"div",1)(2,"h1"),b._uU(3,"404"),b.qZA(),b.TgZ(4,"h3"),b._uU(5,"P\xe1gina no encontrada"),b.qZA(),b.TgZ(6,"h3"),b._uU(7,"BACK TO HOME?"),b.qZA(),b.TgZ(8,"a",2),b._uU(9,"Si"),b.qZA()()())},dependencies:[H.rH]}),v})()}];let Wt=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({imports:[H.Bz.forRoot(ot),H.Bz]}),v})(),vn=(()=>{var O;class v{constructor(){this.title="tp1_saladejuegos"}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275cmp=b.Xpm({type:O,selectors:[["app-root"]],decls:1,vars:0,template:function(E,N){1&E&&b._UZ(0,"router-outlet")},dependencies:[H.lC]}),v})();function Br(O){return new b.vHH(3e3,!1)}function Qs(O){switch(O.length){case 0:return new ve.ZN;case 1:return O[0];default:return new ve.ZE(O)}}function So(O,v,C=new Map,E=new Map){const N=[],J=[];let Oe=-1,He=null;if(v.forEach(it=>{const Nt=it.get("offset"),Vn=Nt==Oe,An=Vn&&He||new Map;it.forEach((Nr,oi)=>{let Qn=oi,$r=Nr;if("offset"!==oi)switch(Qn=O.normalizePropertyName(Qn,N),$r){case ve.k1:$r=C.get(oi);break;case ve.l3:$r=E.get(oi);break;default:$r=O.normalizeStyleValue(oi,Qn,$r,N)}An.set(Qn,$r)}),Vn||J.push(An),He=An,Oe=Nt}),N.length)throw function Li(O){return new b.vHH(3502,!1)}();return J}function Ho(O,v,C,E){switch(v){case"start":O.onStart(()=>E(C&&ao(C,"start",O)));break;case"done":O.onDone(()=>E(C&&ao(C,"done",O)));break;case"destroy":O.onDestroy(()=>E(C&&ao(C,"destroy",O)))}}function ao(O,v,C){const J=Gr(O.element,O.triggerName,O.fromState,O.toState,v||O.phaseName,C.totalTime??O.totalTime,!!C.disabled),Oe=O._data;return null!=Oe&&(J._data=Oe),J}function Gr(O,v,C,E,N="",J=0,Oe){return{element:O,triggerName:v,fromState:C,toState:E,phaseName:N,totalTime:J,disabled:!!Oe}}function Xs(O,v,C){let E=O.get(v);return E||O.set(v,E=C),E}function Ra(O){const v=O.indexOf(":");return[O.substring(1,v),O.slice(v+1)]}const Ss=(()=>typeof document>"u"?null:document.documentElement)();function rs(O){const v=O.parentNode||O.host||null;return v===Ss?null:v}let Js=null,Di=!1;function Jr(O,v){for(;v;){if(v===O)return!0;v=rs(v)}return!1}function ya(O,v,C){if(C)return Array.from(O.querySelectorAll(v));const E=O.querySelector(v);return E?[E]:[]}let qs=(()=>{var O;class v{validateStyleProperty(E){return function Wr(O){Js||(Js=function ps(){return typeof document<"u"?document.body:null}()||{},Di=!!Js.style&&"WebkitAppearance"in Js.style);let v=!0;return Js.style&&!function ds(O){return"ebkit"==O.substring(1,6)}(O)&&(v=O in Js.style,!v&&Di&&(v="Webkit"+O.charAt(0).toUpperCase()+O.slice(1)in Js.style)),v}(E)}matchesElement(E,N){return!1}containsElement(E,N){return Jr(E,N)}getParentElement(E){return rs(E)}query(E,N,J){return ya(E,N,J)}computeStyle(E,N,J){return J||""}animate(E,N,J,Oe,He,it=[],Nt){return new ve.ZN(J,Oe)}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),v})(),As=(()=>{class v{}return v.NOOP=new qs,v})();const vo=1e3,sl="ng-enter",Pa="ng-leave",Ms="ng-trigger",ne=".ng-trigger",K="ng-animating",ye=".ng-animating";function ee(O){if("number"==typeof O)return O;const v=O.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Ce(parseFloat(v[1]),v[2])}function Ce(O,v){return"s"===v?O*vo:O}function rn(O,v,C){return O.hasOwnProperty("duration")?O:function er(O,v,C){let N,J=0,Oe="";if("string"==typeof O){const He=O.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===He)return v.push(Br()),{duration:0,delay:0,easing:""};N=Ce(parseFloat(He[1]),He[2]);const it=He[3];null!=it&&(J=Ce(parseFloat(it),He[4]));const Nt=He[5];Nt&&(Oe=Nt)}else N=O;if(!C){let He=!1,it=v.length;N<0&&(v.push(function xi(){return new b.vHH(3100,!1)}()),He=!0),J<0&&(v.push(function ri(){return new b.vHH(3101,!1)}()),He=!0),He&&v.splice(it,0,Br())}return{duration:N,delay:J,easing:Oe}}(O,v,C)}function Ei(O,v={}){return Object.keys(O).forEach(C=>{v[C]=O[C]}),v}function as(O){const v=new Map;return Object.keys(O).forEach(C=>{v.set(C,O[C])}),v}function aa(O,v=new Map,C){if(C)for(let[E,N]of C)v.set(E,N);for(let[E,N]of O)v.set(E,N);return v}function to(O,v,C){v.forEach((E,N)=>{const J=Ti(N);C&&!C.has(N)&&C.set(N,O.style[J]),O.style[J]=E})}function ba(O,v){v.forEach((C,E)=>{const N=Ti(E);O.style[N]=""})}function hl(O){return Array.isArray(O)?1==O.length?O[0]:(0,ve.vP)(O):O}const bs=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xo(O){let v=[];if("string"==typeof O){let C;for(;C=bs.exec(O);)v.push(C[1]);bs.lastIndex=0}return v}function Es(O,v,C){const E=O.toString(),N=E.replace(bs,(J,Oe)=>{let He=v[Oe];return null==He&&(C.push(function $s(O){return new b.vHH(3003,!1)}()),He=""),He.toString()});return N==E?O:N}function yo(O){const v=[];let C=O.next();for(;!C.done;)v.push(C.value),C=O.next();return v}const Na=/-+([a-z0-9])/g;function Ti(O){return O.replace(Na,(...v)=>v[1].toUpperCase())}function bo(O,v,C){switch(v.type){case 7:return O.visitTrigger(v,C);case 0:return O.visitState(v,C);case 1:return O.visitTransition(v,C);case 2:return O.visitSequence(v,C);case 3:return O.visitGroup(v,C);case 4:return O.visitAnimate(v,C);case 5:return O.visitKeyframes(v,C);case 6:return O.visitStyle(v,C);case 8:return O.visitReference(v,C);case 9:return O.visitAnimateChild(v,C);case 10:return O.visitAnimateRef(v,C);case 11:return O.visitQuery(v,C);case 12:return O.visitStagger(v,C);default:throw function Qo(O){return new b.vHH(3004,!1)}()}}function Fa(O,v){return window.getComputedStyle(O)[v]}const Ua="*";function jr(O,v){const C=[];return"string"==typeof O?O.split(/\s*,\s*/).forEach(E=>function Ll(O,v,C){if(":"==O[0]){const it=function qa(O,v){switch(O){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(C,E)=>parseFloat(E)>parseFloat(C);case":decrement":return(C,E)=>parseFloat(E)<parseFloat(C);default:return v.push(function zi(O){return new b.vHH(3016,!1)}()),"* => *"}}(O,C);if("function"==typeof it)return void v.push(it);O=it}const E=O.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==E||E.length<4)return C.push(function bi(O){return new b.vHH(3015,!1)}()),v;const N=E[1],J=E[2],Oe=E[3];v.push(al(N,Oe));"<"==J[0]&&!(N==Ua&&Oe==Ua)&&v.push(al(Oe,N))}(E,C,v)):C.push(O),C}const Yi=new Set(["true","1"]),ol=new Set(["false","0"]);function al(O,v){const C=Yi.has(O)||ol.has(O),E=Yi.has(v)||ol.has(v);return(N,J)=>{let Oe=O==Ua||O==N,He=v==Ua||v==J;return!Oe&&C&&"boolean"==typeof N&&(Oe=N?Yi.has(O):ol.has(O)),!He&&E&&"boolean"==typeof J&&(He=J?Yi.has(v):ol.has(v)),Oe&&He}}const ro=new RegExp("s*:selfs*,?","g");function gs(O,v,C,E){return new $o(O).build(v,C,E)}class $o{constructor(v){this._driver=v}build(v,C,E){const N=new Za(C);return this._resetContextStyleTimingState(N),bo(this,hl(v),N)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,C){let E=C.queryCount=0,N=C.depCount=0;const J=[],Oe=[];return"@"==v.name.charAt(0)&&C.errors.push(function ii(){return new b.vHH(3006,!1)}()),v.definitions.forEach(He=>{if(this._resetContextStyleTimingState(C),0==He.type){const it=He,Nt=it.name;Nt.toString().split(/\s*,\s*/).forEach(Vn=>{it.name=Vn,J.push(this.visitState(it,C))}),it.name=Nt}else if(1==He.type){const it=this.visitTransition(He,C);E+=it.queryCount,N+=it.depCount,Oe.push(it)}else C.errors.push(function Ri(){return new b.vHH(3007,!1)}())}),{type:7,name:v.name,states:J,transitions:Oe,queryCount:E,depCount:N,options:null}}visitState(v,C){const E=this.visitStyle(v.styles,C),N=v.options&&v.options.params||null;if(E.containsDynamicStyles){const J=new Set,Oe=N||{};E.styles.forEach(He=>{He instanceof Map&&He.forEach(it=>{Xo(it).forEach(Nt=>{Oe.hasOwnProperty(Nt)||J.add(Nt)})})}),J.size&&(yo(J.values()),C.errors.push(function ys(O,v){return new b.vHH(3008,!1)}()))}return{type:0,name:v.name,style:E,options:N?{params:N}:null}}visitTransition(v,C){C.queryCount=0,C.depCount=0;const E=bo(this,hl(v.animation),C);return{type:1,matchers:jr(v.expr,C.errors),animation:E,queryCount:C.queryCount,depCount:C.depCount,options:Mo(v.options)}}visitSequence(v,C){return{type:2,steps:v.steps.map(E=>bo(this,E,C)),options:Mo(v.options)}}visitGroup(v,C){const E=C.currentTime;let N=0;const J=v.steps.map(Oe=>{C.currentTime=E;const He=bo(this,Oe,C);return N=Math.max(N,C.currentTime),He});return C.currentTime=N,{type:3,steps:J,options:Mo(v.options)}}visitAnimate(v,C){const E=function ws(O,v){if(O.hasOwnProperty("duration"))return O;if("number"==typeof O)return uo(rn(O,v).duration,0,"");const C=O;if(C.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=uo(0,0,"");return J.dynamic=!0,J.strValue=C,J}const N=rn(C,v);return uo(N.duration,N.delay,N.easing)}(v.timings,C.errors);C.currentAnimateTimings=E;let N,J=v.styles?v.styles:(0,ve.oB)({});if(5==J.type)N=this.visitKeyframes(J,C);else{let Oe=v.styles,He=!1;if(!Oe){He=!0;const Nt={};E.easing&&(Nt.easing=E.easing),Oe=(0,ve.oB)(Nt)}C.currentTime+=E.duration+E.delay;const it=this.visitStyle(Oe,C);it.isEmptyStep=He,N=it}return C.currentAnimateTimings=null,{type:4,timings:E,style:N,options:null}}visitStyle(v,C){const E=this._makeStyleAst(v,C);return this._validateStyleAst(E,C),E}_makeStyleAst(v,C){const E=[],N=Array.isArray(v.styles)?v.styles:[v.styles];for(let He of N)"string"==typeof He?He===ve.l3?E.push(He):C.errors.push(new b.vHH(3002,!1)):E.push(as(He));let J=!1,Oe=null;return E.forEach(He=>{if(He instanceof Map&&(He.has("easing")&&(Oe=He.get("easing"),He.delete("easing")),!J))for(let it of He.values())if(it.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:E,easing:Oe,offset:v.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(v,C){const E=C.currentAnimateTimings;let N=C.currentTime,J=C.currentTime;E&&J>0&&(J-=E.duration+E.delay),v.styles.forEach(Oe=>{"string"!=typeof Oe&&Oe.forEach((He,it)=>{const Nt=C.collectedStyles.get(C.currentQuerySelector),Vn=Nt.get(it);let An=!0;Vn&&(J!=N&&J>=Vn.startTime&&N<=Vn.endTime&&(C.errors.push(function Ys(O,v,C,E,N){return new b.vHH(3010,!1)}()),An=!1),J=Vn.startTime),An&&Nt.set(it,{startTime:J,endTime:N}),C.options&&function wl(O,v,C){const E=v.params||{},N=Xo(O);N.length&&N.forEach(J=>{E.hasOwnProperty(J)||C.push(function Zs(O){return new b.vHH(3001,!1)}())})}(He,C.options,C.errors)})})}visitKeyframes(v,C){const E={type:5,styles:[],options:null};if(!C.currentAnimateTimings)return C.errors.push(function jo(){return new b.vHH(3011,!1)}()),E;let J=0;const Oe=[];let He=!1,it=!1,Nt=0;const Vn=v.steps.map(xo=>{const Is=this._makeStyleAst(xo,C);let Sa=null!=Is.offset?Is.offset:function pl(O){if("string"==typeof O)return null;let v=null;if(Array.isArray(O))O.forEach(C=>{if(C instanceof Map&&C.has("offset")){const E=C;v=parseFloat(E.get("offset")),E.delete("offset")}});else if(O instanceof Map&&O.has("offset")){const C=O;v=parseFloat(C.get("offset")),C.delete("offset")}return v}(Is.styles),Ls=0;return null!=Sa&&(J++,Ls=Is.offset=Sa),it=it||Ls<0||Ls>1,He=He||Ls<Nt,Nt=Ls,Oe.push(Ls),Is});it&&C.errors.push(function Fr(){return new b.vHH(3012,!1)}()),He&&C.errors.push(function Ma(){return new b.vHH(3200,!1)}());const An=v.steps.length;let Nr=0;J>0&&J<An?C.errors.push(function yi(){return new b.vHH(3202,!1)}()):0==J&&(Nr=1/(An-1));const oi=An-1,Qn=C.currentTime,$r=C.currentAnimateTimings,Pi=$r.duration;return Vn.forEach((xo,Is)=>{const Sa=Nr>0?Is==oi?1:Nr*Is:Oe[Is],Ls=Sa*Pi;C.currentTime=Qn+$r.delay+Ls,$r.duration=Ls,this._validateStyleAst(xo,C),xo.offset=Sa,E.styles.push(xo)}),E}visitReference(v,C){return{type:8,animation:bo(this,hl(v.animation),C),options:Mo(v.options)}}visitAnimateChild(v,C){return C.depCount++,{type:9,options:Mo(v.options)}}visitAnimateRef(v,C){return{type:10,animation:this.visitReference(v.animation,C),options:Mo(v.options)}}visitQuery(v,C){const E=C.currentQuerySelector,N=v.options||{};C.queryCount++,C.currentQuery=v;const[J,Oe]=function Qi(O){const v=!!O.split(/\s*,\s*/).find(C=>":self"==C);return v&&(O=O.replace(ro,"")),O=O.replace(/@\*/g,ne).replace(/@\w+/g,C=>ne+"-"+C.slice(1)).replace(/:animating/g,ye),[O,v]}(v.selector);C.currentQuerySelector=E.length?E+" "+J:J,Xs(C.collectedStyles,C.currentQuerySelector,new Map);const He=bo(this,hl(v.animation),C);return C.currentQuery=null,C.currentQuerySelector=E,{type:11,selector:J,limit:N.limit||0,optional:!!N.optional,includeSelf:Oe,animation:He,originalSelector:v.selector,options:Mo(v.options)}}visitStagger(v,C){C.currentQuery||C.errors.push(function Cn(){return new b.vHH(3013,!1)}());const E="full"===v.timings?{duration:0,delay:0,easing:"full"}:rn(v.timings,C.errors,!0);return{type:12,animation:bo(this,hl(v.animation),C),timings:E,options:null}}}class Za{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mo(O){return O?(O=Ei(O)).params&&(O.params=function Ka(O){return O?Ei(O):null}(O.params)):O={},O}function uo(O,v,C){return{duration:O,delay:v,easing:C}}function Ea(O,v,C,E,N,J,Oe=null,He=!1){return{type:1,element:O,keyframes:v,preStyleProps:C,postStyleProps:E,duration:N,delay:J,totalTime:N+J,easing:Oe,subTimeline:He}}class T{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,C){let E=this._map.get(v);E||this._map.set(v,E=[]),E.push(...C)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const q=new RegExp(":enter","g"),tt=new RegExp(":leave","g");function zt(O,v,C,E,N,J=new Map,Oe=new Map,He,it,Nt=[]){return(new En).buildKeyframes(O,v,C,E,N,J,Oe,He,it,Nt)}class En{buildKeyframes(v,C,E,N,J,Oe,He,it,Nt,Vn=[]){Nt=Nt||new T;const An=new ni(v,C,Nt,N,J,Vn,[]);An.options=it;const Nr=it.delay?ee(it.delay):0;An.currentTimeline.delayNextStep(Nr),An.currentTimeline.setStyles([Oe],null,An.errors,it),bo(this,E,An);const oi=An.timelines.filter(Qn=>Qn.containsAnimation());if(oi.length&&He.size){let Qn;for(let $r=oi.length-1;$r>=0;$r--){const Pi=oi[$r];if(Pi.element===C){Qn=Pi;break}}Qn&&!Qn.allowOnlyTimelineStyles()&&Qn.setStyles([He],null,An.errors,it)}return oi.length?oi.map(Qn=>Qn.buildKeyframes()):[Ea(C,[],[],[],0,Nr,"",!1)]}visitTrigger(v,C){}visitState(v,C){}visitTransition(v,C){}visitAnimateChild(v,C){const E=C.subInstructions.get(C.element);if(E){const N=C.createSubContext(v.options),J=C.currentTimeline.currentTime,Oe=this._visitSubInstructions(E,N,N.options);J!=Oe&&C.transformIntoNewTimeline(Oe)}C.previousNode=v}visitAnimateRef(v,C){const E=C.createSubContext(v.options);E.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],C,E),this.visitReference(v.animation,E),C.transformIntoNewTimeline(E.currentTimeline.currentTime),C.previousNode=v}_applyAnimationRefDelays(v,C,E){for(const N of v){const J=N?.delay;if(J){const Oe="number"==typeof J?J:ee(Es(J,N?.params??{},C.errors));E.delayNextStep(Oe)}}}_visitSubInstructions(v,C,E){let J=C.currentTimeline.currentTime;const Oe=null!=E.duration?ee(E.duration):null,He=null!=E.delay?ee(E.delay):null;return 0!==Oe&&v.forEach(it=>{const Nt=C.appendInstructionToTimeline(it,Oe,He);J=Math.max(J,Nt.duration+Nt.delay)}),J}visitReference(v,C){C.updateOptions(v.options,!0),bo(this,v.animation,C),C.previousNode=v}visitSequence(v,C){const E=C.subContextCount;let N=C;const J=v.options;if(J&&(J.params||J.delay)&&(N=C.createSubContext(J),N.transformIntoNewTimeline(),null!=J.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Lr);const Oe=ee(J.delay);N.delayNextStep(Oe)}v.steps.length&&(v.steps.forEach(Oe=>bo(this,Oe,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>E&&N.transformIntoNewTimeline()),C.previousNode=v}visitGroup(v,C){const E=[];let N=C.currentTimeline.currentTime;const J=v.options&&v.options.delay?ee(v.options.delay):0;v.steps.forEach(Oe=>{const He=C.createSubContext(v.options);J&&He.delayNextStep(J),bo(this,Oe,He),N=Math.max(N,He.currentTimeline.currentTime),E.push(He.currentTimeline)}),E.forEach(Oe=>C.currentTimeline.mergeTimelineCollectedStyles(Oe)),C.transformIntoNewTimeline(N),C.previousNode=v}_visitTiming(v,C){if(v.dynamic){const E=v.strValue;return rn(C.params?Es(E,C.params,C.errors):E,C.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,C){const E=C.currentAnimateTimings=this._visitTiming(v.timings,C),N=C.currentTimeline;E.delay&&(C.incrementTime(E.delay),N.snapshotCurrentStyles());const J=v.style;5==J.type?this.visitKeyframes(J,C):(C.incrementTime(E.duration),this.visitStyle(J,C),N.applyStylesToKeyframe()),C.currentAnimateTimings=null,C.previousNode=v}visitStyle(v,C){const E=C.currentTimeline,N=C.currentAnimateTimings;!N&&E.hasCurrentStyleProperties()&&E.forwardFrame();const J=N&&N.easing||v.easing;v.isEmptyStep?E.applyEmptyStep(J):E.setStyles(v.styles,J,C.errors,C.options),C.previousNode=v}visitKeyframes(v,C){const E=C.currentAnimateTimings,N=C.currentTimeline.duration,J=E.duration,He=C.createSubContext().currentTimeline;He.easing=E.easing,v.styles.forEach(it=>{He.forwardTime((it.offset||0)*J),He.setStyles(it.styles,it.easing,C.errors,C.options),He.applyStylesToKeyframe()}),C.currentTimeline.mergeTimelineCollectedStyles(He),C.transformIntoNewTimeline(N+J),C.previousNode=v}visitQuery(v,C){const E=C.currentTimeline.currentTime,N=v.options||{},J=N.delay?ee(N.delay):0;J&&(6===C.previousNode.type||0==E&&C.currentTimeline.hasCurrentStyleProperties())&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Lr);let Oe=E;const He=C.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!N.optional,C.errors);C.currentQueryTotal=He.length;let it=null;He.forEach((Nt,Vn)=>{C.currentQueryIndex=Vn;const An=C.createSubContext(v.options,Nt);J&&An.delayNextStep(J),Nt===C.element&&(it=An.currentTimeline),bo(this,v.animation,An),An.currentTimeline.applyStylesToKeyframe(),Oe=Math.max(Oe,An.currentTimeline.currentTime)}),C.currentQueryIndex=0,C.currentQueryTotal=0,C.transformIntoNewTimeline(Oe),it&&(C.currentTimeline.mergeTimelineCollectedStyles(it),C.currentTimeline.snapshotCurrentStyles()),C.previousNode=v}visitStagger(v,C){const E=C.parentContext,N=C.currentTimeline,J=v.timings,Oe=Math.abs(J.duration),He=Oe*(C.currentQueryTotal-1);let it=Oe*C.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":it=He-it;break;case"full":it=E.currentStaggerTime}const Vn=C.currentTimeline;it&&Vn.delayNextStep(it);const An=Vn.currentTime;bo(this,v.animation,C),C.previousNode=v,E.currentStaggerTime=N.currentTime-An+(N.startTime-E.currentTimeline.startTime)}}const Lr={};class ni{constructor(v,C,E,N,J,Oe,He,it){this._driver=v,this.element=C,this.subInstructions=E,this._enterClassName=N,this._leaveClassName=J,this.errors=Oe,this.timelines=He,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=it||new di(this._driver,C,0),He.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,C){if(!v)return;const E=v;let N=this.options;null!=E.duration&&(N.duration=ee(E.duration)),null!=E.delay&&(N.delay=ee(E.delay));const J=E.params;if(J){let Oe=N.params;Oe||(Oe=this.options.params={}),Object.keys(J).forEach(He=>{(!C||!Oe.hasOwnProperty(He))&&(Oe[He]=Es(J[He],Oe,this.errors))})}}_copyOptions(){const v={};if(this.options){const C=this.options.params;if(C){const E=v.params={};Object.keys(C).forEach(N=>{E[N]=C[N]})}}return v}createSubContext(v=null,C,E){const N=C||this.element,J=new ni(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,E||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(v),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(v){return this.previousNode=Lr,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,C,E){const N={duration:C??v.duration,delay:this.currentTimeline.currentTime+(E??0)+v.delay,easing:""},J=new qr(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,N,v.stretchStartingKeyframe);return this.timelines.push(J),N}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,C,E,N,J,Oe){let He=[];if(N&&He.push(this.element),v.length>0){v=(v=v.replace(q,"."+this._enterClassName)).replace(tt,"."+this._leaveClassName);let Nt=this._driver.query(this.element,v,1!=E);0!==E&&(Nt=E<0?Nt.slice(Nt.length+E,Nt.length):Nt.slice(0,E)),He.push(...Nt)}return!J&&0==He.length&&Oe.push(function yr(O){return new b.vHH(3014,!1)}()),He}}class di{constructor(v,C,E,N){this._driver=v,this.element=C,this.startTime=E,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(C),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(C,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const C=1===this._keyframes.size&&this._pendingStyles.size;this.duration||C?(this.forwardTime(this.currentTime+v),C&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,C){return this.applyStylesToKeyframe(),new di(this._driver,v,C||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,C){this._localTimelineStyles.set(v,C),this._globalTimelineStyles.set(v,C),this._styleSummary.set(v,{time:this.currentTime,value:C})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[C,E]of this._globalTimelineStyles)this._backFill.set(C,E||ve.l3),this._currentKeyframe.set(C,ve.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,C,E,N){C&&this._previousKeyframe.set("easing",C);const J=N&&N.params||{},Oe=function Bi(O,v){const C=new Map;let E;return O.forEach(N=>{if("*"===N){E=E||v.keys();for(let J of E)C.set(J,ve.l3)}else aa(N,C)}),C}(v,this._globalTimelineStyles);for(let[He,it]of Oe){const Nt=Es(it,J,E);this._pendingStyles.set(He,Nt),this._localTimelineStyles.has(He)||this._backFill.set(He,this._globalTimelineStyles.get(He)??ve.l3),this._updateStyle(He,Nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,C)=>{this._currentKeyframe.set(C,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,C)=>{this._currentKeyframe.has(C)||this._currentKeyframe.set(C,v)}))}snapshotCurrentStyles(){for(let[v,C]of this._localTimelineStyles)this._pendingStyles.set(v,C),this._updateStyle(v,C)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let C in this._currentKeyframe)v.push(C);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((C,E)=>{const N=this._styleSummary.get(E);(!N||C.time>N.time)&&this._updateStyle(E,C.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,C=new Set,E=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((He,it)=>{const Nt=aa(He,new Map,this._backFill);Nt.forEach((Vn,An)=>{Vn===ve.k1?v.add(An):Vn===ve.l3&&C.add(An)}),E||Nt.set("offset",it/this.duration),N.push(Nt)});const J=v.size?yo(v.values()):[],Oe=C.size?yo(C.values()):[];if(E){const He=N[0],it=new Map(He);He.set("offset",0),it.set("offset",1),N=[He,it]}return Ea(this.element,N,J,Oe,this.duration,this.startTime,this.easing,!1)}}class qr extends di{constructor(v,C,E,N,J,Oe,He=!1){super(v,C,Oe.delay),this.keyframes=E,this.preStyleProps=N,this.postStyleProps=J,this._stretchStartingKeyframe=He,this.timings={duration:Oe.duration,delay:Oe.delay,easing:Oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:C,duration:E,easing:N}=this.timings;if(this._stretchStartingKeyframe&&C){const J=[],Oe=E+C,He=C/Oe,it=aa(v[0]);it.set("offset",0),J.push(it);const Nt=aa(v[0]);Nt.set("offset",hs(He)),J.push(Nt);const Vn=v.length-1;for(let An=1;An<=Vn;An++){let Nr=aa(v[An]);const oi=Nr.get("offset");Nr.set("offset",hs((C+oi*E)/Oe)),J.push(Nr)}E=Oe,C=0,N="",v=J}return Ea(this.element,v,this.preStyleProps,this.postStyleProps,E,C,N,!0)}}function hs(O,v=3){const C=Math.pow(10,v-1);return Math.round(O*C)/C}class Ro{}const la=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jo extends Ro{normalizePropertyName(v,C){return Ti(v)}normalizeStyleValue(v,C,E,N){let J="";const Oe=E.toString().trim();if(la.has(C)&&0!==E&&"0"!==E)if("number"==typeof E)J="px";else{const He=E.match(/^[+-]?[\d\.]+([a-z]*)$/);He&&0==He[1].length&&N.push(function Cr(O,v){return new b.vHH(3005,!1)}())}return Oe+J}}function Os(O,v,C,E,N,J,Oe,He,it,Nt,Vn,An,Nr){return{type:0,element:O,triggerName:v,isRemovalTransition:N,fromState:C,fromStyles:J,toState:E,toStyles:Oe,timelines:He,queriedElements:it,preStyleProps:Nt,postStyleProps:Vn,totalTime:An,errors:Nr}}const ls={};class Oo{constructor(v,C,E){this._triggerName=v,this.ast=C,this._stateStyles=E}match(v,C,E,N){return function Il(O,v,C,E,N){return O.some(J=>J(v,C,E,N))}(this.ast.matchers,v,C,E,N)}buildStyles(v,C,E){let N=this._stateStyles.get("*");return void 0!==v&&(N=this._stateStyles.get(v?.toString())||N),N?N.buildStyles(C,E):new Map}build(v,C,E,N,J,Oe,He,it,Nt,Vn){const An=[],Nr=this.ast.options&&this.ast.options.params||ls,Qn=this.buildStyles(E,He&&He.params||ls,An),$r=it&&it.params||ls,Pi=this.buildStyles(N,$r,An),xo=new Set,Is=new Map,Sa=new Map,Ls="void"===N,fa={params:Vl($r,Nr),delay:this.ast.options?.delay},io=Vn?[]:zt(v,C,this.ast.animation,J,Oe,Qn,Pi,fa,Nt,An);let Sr=0;if(io.forEach(Aa=>{Sr=Math.max(Aa.duration+Aa.delay,Sr)}),An.length)return Os(C,this._triggerName,E,N,Ls,Qn,Pi,[],[],Is,Sa,Sr,An);io.forEach(Aa=>{const el=Aa.element,na=Xs(Is,el,new Set);Aa.preStyleProps.forEach(za=>na.add(za));const Uo=Xs(Sa,el,new Set);Aa.postStyleProps.forEach(za=>Uo.add(za)),el!==C&&xo.add(el)});const fo=yo(xo.values());return Os(C,this._triggerName,E,N,Ls,Qn,Pi,io,fo,Is,Sa,Sr)}}function Vl(O,v){const C=Ei(v);for(const E in O)O.hasOwnProperty(E)&&null!=O[E]&&(C[E]=O[E]);return C}class Po{constructor(v,C,E){this.styles=v,this.defaultParams=C,this.normalizer=E}buildStyles(v,C){const E=new Map,N=Ei(this.defaultParams);return Object.keys(v).forEach(J=>{const Oe=v[J];null!==Oe&&(N[J]=Oe)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((Oe,He)=>{Oe&&(Oe=Es(Oe,N,C));const it=this.normalizer.normalizePropertyName(He,C);Oe=this.normalizer.normalizeStyleValue(He,it,Oe,C),E.set(He,Oe)})}),E}}class xc{constructor(v,C,E){this.name=v,this.ast=C,this._normalizer=E,this.transitionFactories=[],this.states=new Map,C.states.forEach(N=>{this.states.set(N.name,new Po(N.style,N.options&&N.options.params||{},E))}),Go(this.states,"true","1"),Go(this.states,"false","0"),C.transitions.forEach(N=>{this.transitionFactories.push(new Oo(v,N,this.states))}),this.fallbackTransition=function Cl(O,v,C){return new Oo(O,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Oe,He)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,C,E,N){return this.transitionFactories.find(Oe=>Oe.match(v,C,E,N))||null}matchStyles(v,C,E){return this.fallbackTransition.buildStyles(v,C,E)}}function Go(O,v,C){O.has(v)?O.has(C)||O.set(C,O.get(v)):O.has(C)&&O.set(v,O.get(C))}const xl=new T;class cc{constructor(v,C,E){this.bodyNode=v,this._driver=C,this._normalizer=E,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,C){const E=[],J=gs(this._driver,C,E,[]);if(E.length)throw function Ki(O){return new b.vHH(3503,!1)}();this._animations.set(v,J)}_buildPlayer(v,C,E){const N=v.element,J=So(this._normalizer,v.keyframes,C,E);return this._driver.animate(N,J,v.duration,v.delay,v.easing,[],!0)}create(v,C,E={}){const N=[],J=this._animations.get(v);let Oe;const He=new Map;if(J?(Oe=zt(this._driver,C,J,sl,Pa,new Map,new Map,E,xl,N),Oe.forEach(Vn=>{const An=Xs(He,Vn.element,new Map);Vn.postStyleProps.forEach(Nr=>An.set(Nr,null))})):(N.push(function To(){return new b.vHH(3300,!1)}()),Oe=[]),N.length)throw function lr(O){return new b.vHH(3504,!1)}();He.forEach((Vn,An)=>{Vn.forEach((Nr,oi)=>{Vn.set(oi,this._driver.computeStyle(An,oi,ve.l3))})});const Nt=Qs(Oe.map(Vn=>{const An=He.get(Vn.element);return this._buildPlayer(Vn,new Map,An)}));return this._playersById.set(v,Nt),Nt.onDestroy(()=>this.destroy(v)),this.players.push(Nt),Nt}destroy(v){const C=this._getPlayer(v);C.destroy(),this._playersById.delete(v);const E=this.players.indexOf(C);E>=0&&this.players.splice(E,1)}_getPlayer(v){const C=this._playersById.get(v);if(!C)throw function Do(O){return new b.vHH(3301,!1)}();return C}listen(v,C,E,N){const J=Gr(C,"","","");return Ho(this._getPlayer(v),E,J,N),()=>{}}command(v,C,E,N){if("register"==E)return void this.register(v,N[0]);if("create"==E)return void this.create(v,C,N[0]||{});const J=this._getPlayer(v);switch(E){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(v)}}}const Gc="ng-animate-queued",wa="ng-animate-disabled",Zl=[],Yl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Io="__ng_removed";class Tc{get params(){return this.options.params}constructor(v,C=""){this.namespaceId=C;const E=v&&v.hasOwnProperty("value");if(this.value=function Dc(O){return O??null}(E?v.value:v),E){const J=Ei(v);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const C=v.params;if(C){const E=this.options.params;Object.keys(C).forEach(N=>{null==E[N]&&(E[N]=C[N])})}}}const Dl="void",uc=new Tc(Dl);class Ul{constructor(v,C,E){this.id=v,this.hostElement=C,this._engine=E,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,ki(C,this._hostClassName)}listen(v,C,E,N){if(!this._triggers.has(C))throw function go(O,v){return new b.vHH(3302,!1)}();if(null==E||0==E.length)throw function Vs(O){return new b.vHH(3303,!1)}();if(!function Sc(O){return"start"==O||"done"==O}(E))throw function Zi(O,v){return new b.vHH(3400,!1)}();const J=Xs(this._elementListeners,v,[]),Oe={name:C,phase:E,callback:N};J.push(Oe);const He=Xs(this._engine.statesByElement,v,new Map);return He.has(C)||(ki(v,Ms),ki(v,Ms+"-"+C),He.set(C,uc)),()=>{this._engine.afterFlush(()=>{const it=J.indexOf(Oe);it>=0&&J.splice(it,1),this._triggers.has(C)||He.delete(C)})}}register(v,C){return!this._triggers.has(v)&&(this._triggers.set(v,C),!0)}_getTrigger(v){const C=this._triggers.get(v);if(!C)throw function oo(O){return new b.vHH(3401,!1)}();return C}trigger(v,C,E,N=!0){const J=this._getTrigger(C),Oe=new ko(this.id,C,v);let He=this._engine.statesByElement.get(v);He||(ki(v,Ms),ki(v,Ms+"-"+C),this._engine.statesByElement.set(v,He=new Map));let it=He.get(C);const Nt=new Tc(E,this.id);if(!(E&&E.hasOwnProperty("value"))&&it&&Nt.absorbOptions(it.options),He.set(C,Nt),it||(it=uc),Nt.value!==Dl&&it.value===Nt.value){if(!function sn(O,v){const C=Object.keys(O),E=Object.keys(v);if(C.length!=E.length)return!1;for(let N=0;N<C.length;N++){const J=C[N];if(!v.hasOwnProperty(J)||O[J]!==v[J])return!1}return!0}(it.params,Nt.params)){const $r=[],Pi=J.matchStyles(it.value,it.params,$r),xo=J.matchStyles(Nt.value,Nt.params,$r);$r.length?this._engine.reportError($r):this._engine.afterFlush(()=>{ba(v,Pi),to(v,xo)})}return}const Nr=Xs(this._engine.playersByElement,v,[]);Nr.forEach($r=>{$r.namespaceId==this.id&&$r.triggerName==C&&$r.queued&&$r.destroy()});let oi=J.matchTransition(it.value,Nt.value,v,Nt.params),Qn=!1;if(!oi){if(!N)return;oi=J.fallbackTransition,Qn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:C,transition:oi,fromState:it,toState:Nt,player:Oe,isFallbackTransition:Qn}),Qn||(ki(v,Gc),Oe.onStart(()=>{Co(v,Gc)})),Oe.onDone(()=>{let $r=this.players.indexOf(Oe);$r>=0&&this.players.splice($r,1);const Pi=this._engine.playersByElement.get(v);if(Pi){let xo=Pi.indexOf(Oe);xo>=0&&Pi.splice(xo,1)}}),this.players.push(Oe),Nr.push(Oe),Oe}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(C=>C.delete(v)),this._elementListeners.forEach((C,E)=>{this._elementListeners.set(E,C.filter(N=>N.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const C=this._engine.playersByElement.get(v);C&&(C.forEach(E=>E.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,C){const E=this._engine.driver.query(v,ne,!0);E.forEach(N=>{if(N[Io])return;const J=this._engine.fetchNamespacesByElement(N);J.size?J.forEach(Oe=>Oe.triggerLeaveAnimation(N,C,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>E.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(v,C,E,N){const J=this._engine.statesByElement.get(v),Oe=new Map;if(J){const He=[];if(J.forEach((it,Nt)=>{if(Oe.set(Nt,it.value),this._triggers.has(Nt)){const Vn=this.trigger(v,Nt,Dl,N);Vn&&He.push(Vn)}}),He.length)return this._engine.markElementAsRemoved(this.id,v,!0,C,Oe),E&&Qs(He).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const C=this._elementListeners.get(v),E=this._engine.statesByElement.get(v);if(C&&E){const N=new Set;C.forEach(J=>{const Oe=J.name;if(N.has(Oe))return;N.add(Oe);const it=this._triggers.get(Oe).fallbackTransition,Nt=E.get(Oe)||uc,Vn=new Tc(Dl),An=new ko(this.id,Oe,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:Oe,transition:it,fromState:Nt,toState:Vn,player:An,isFallbackTransition:!0})})}}removeNode(v,C){const E=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,C),this.triggerLeaveAnimation(v,C,!0))return;let N=!1;if(E.totalAnimations){const J=E.players.length?E.playersByQueriedElement.get(v):[];if(J&&J.length)N=!0;else{let Oe=v;for(;Oe=Oe.parentNode;)if(E.statesByElement.get(Oe)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(v),N)E.markElementAsRemoved(this.id,v,!1,C);else{const J=v[Io];(!J||J===Yl)&&(E.afterFlush(()=>this.clearElementCache(v)),E.destroyInnerAnimations(v),E._onRemovalComplete(v,C))}}insertNode(v,C){ki(v,this._hostClassName)}drainQueuedTransitions(v){const C=[];return this._queue.forEach(E=>{const N=E.player;if(N.destroyed)return;const J=E.element,Oe=this._elementListeners.get(J);Oe&&Oe.forEach(He=>{if(He.name==E.triggerName){const it=Gr(J,E.triggerName,E.fromState.value,E.toState.value);it._data=v,Ho(E.player,He.phase,it,He.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):C.push(E)}),this._queue=[],C.sort((E,N)=>{const J=E.transition.ast.depCount,Oe=N.transition.ast.depCount;return 0==J||0==Oe?J-Oe:this._engine.driver.containsElement(E.element,N.element)?1:-1})}destroy(v){this.players.forEach(C=>C.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class Bl{_onRemovalComplete(v,C){this.onRemovalComplete(v,C)}constructor(v,C,E){this.bodyNode=v,this.driver=C,this._normalizer=E,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,J)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(C=>{C.players.forEach(E=>{E.queued&&v.push(E)})}),v}createNamespace(v,C){const E=new Ul(v,C,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,C)?this._balanceNamespaceList(E,C):(this.newHostElements.set(C,E),this.collectEnterElement(C)),this._namespaceLookup[v]=E}_balanceNamespaceList(v,C){const E=this._namespaceList,N=this.namespacesByHostElement;if(E.length-1>=0){let Oe=!1,He=this.driver.getParentElement(C);for(;He;){const it=N.get(He);if(it){const Nt=E.indexOf(it);E.splice(Nt+1,0,v),Oe=!0;break}He=this.driver.getParentElement(He)}Oe||E.unshift(v)}else E.push(v);return N.set(C,v),v}register(v,C){let E=this._namespaceLookup[v];return E||(E=this.createNamespace(v,C)),E}registerTrigger(v,C,E){let N=this._namespaceLookup[v];N&&N.register(C,E)&&this.totalAnimations++}destroy(v,C){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const E=this._fetchNamespace(v);this.namespacesByHostElement.delete(E.hostElement);const N=this._namespaceList.indexOf(E);N>=0&&this._namespaceList.splice(N,1),E.destroy(C),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const C=new Set,E=this.statesByElement.get(v);if(E)for(let N of E.values())if(N.namespaceId){const J=this._fetchNamespace(N.namespaceId);J&&C.add(J)}return C}trigger(v,C,E,N){if(Sl(C)){const J=this._fetchNamespace(v);if(J)return J.trigger(C,E,N),!0}return!1}insertNode(v,C,E,N){if(!Sl(C))return;const J=C[Io];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const Oe=this.collectedLeaveElements.indexOf(C);Oe>=0&&this.collectedLeaveElements.splice(Oe,1)}if(v){const Oe=this._fetchNamespace(v);Oe&&Oe.insertNode(C,E)}N&&this.collectEnterElement(C)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,C){C?this.disabledNodes.has(v)||(this.disabledNodes.add(v),ki(v,wa)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Co(v,wa))}removeNode(v,C,E){if(Sl(C)){const N=v?this._fetchNamespace(v):null;N?N.removeNode(C,E):this.markElementAsRemoved(v,C,!1,E);const J=this.namespacesByHostElement.get(C);J&&J.id!==v&&J.removeNode(C,E)}else this._onRemovalComplete(C,E)}markElementAsRemoved(v,C,E,N,J){this.collectedLeaveElements.push(C),C[Io]={namespaceId:v,setForRemoval:N,hasAnimation:E,removedBeforeQueried:!1,previousTriggersValues:J}}listen(v,C,E,N,J){return Sl(C)?this._fetchNamespace(v).listen(C,E,N,J):()=>{}}_buildInstruction(v,C,E,N,J){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,E,N,v.fromState.options,v.toState.options,C,J)}destroyInnerAnimations(v){let C=this.driver.query(v,ne,!0);C.forEach(E=>this.destroyActiveAnimationsForElement(E)),0!=this.playersByQueriedElement.size&&(C=this.driver.query(v,ye,!0),C.forEach(E=>this.finishActiveQueriedAnimationOnElement(E)))}destroyActiveAnimationsForElement(v){const C=this.playersByElement.get(v);C&&C.forEach(E=>{E.queued?E.markedForDestroy=!0:E.destroy()})}finishActiveQueriedAnimationOnElement(v){const C=this.playersByQueriedElement.get(v);C&&C.forEach(E=>E.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Qs(this.players).onDone(()=>v());v()})}processLeaveNode(v){const C=v[Io];if(C&&C.setForRemoval){if(v[Io]=Yl,C.namespaceId){this.destroyInnerAnimations(v);const E=this._fetchNamespace(C.namespaceId);E&&E.clearElementCache(v)}this._onRemovalComplete(v,C.setForRemoval)}v.classList?.contains(wa)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(v=-1){let C=[];if(this.newHostElements.size&&(this.newHostElements.forEach((E,N)=>this._balanceNamespaceList(E,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let E=0;E<this.collectedEnterElements.length;E++)ki(this.collectedEnterElements[E],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const E=[];try{C=this._flushAnimations(E,v)}finally{for(let N=0;N<E.length;N++)E[N]()}}else for(let E=0;E<this.collectedLeaveElements.length;E++)this.processLeaveNode(this.collectedLeaveElements[E]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(E=>E()),this._flushFns=[],this._whenQuietFns.length){const E=this._whenQuietFns;this._whenQuietFns=[],C.length?Qs(C).onDone(()=>{E.forEach(N=>N())}):E.forEach(N=>N())}}reportError(v){throw function sa(O){return new b.vHH(3402,!1)}()}_flushAnimations(v,C){const E=new T,N=[],J=new Map,Oe=[],He=new Map,it=new Map,Nt=new Map,Vn=new Set;this.disabledNodes.forEach(ir=>{Vn.add(ir);const sr=this.driver.query(ir,".ng-animate-queued",!0);for(let Or=0;Or<sr.length;Or++)Vn.add(sr[Or])});const An=this.bodyNode,Nr=Array.from(this.statesByElement.keys()),oi=mi(Nr,this.collectedEnterElements),Qn=new Map;let $r=0;oi.forEach((ir,sr)=>{const Or=sl+$r++;Qn.set(sr,Or),ir.forEach(Hi=>ki(Hi,Or))});const Pi=[],xo=new Set,Is=new Set;for(let ir=0;ir<this.collectedLeaveElements.length;ir++){const sr=this.collectedLeaveElements[ir],Or=sr[Io];Or&&Or.setForRemoval&&(Pi.push(sr),xo.add(sr),Or.hasAnimation?this.driver.query(sr,".ng-star-inserted",!0).forEach(Hi=>xo.add(Hi)):Is.add(sr))}const Sa=new Map,Ls=mi(Nr,Array.from(xo));Ls.forEach((ir,sr)=>{const Or=Pa+$r++;Sa.set(sr,Or),ir.forEach(Hi=>ki(Hi,Or))}),v.push(()=>{oi.forEach((ir,sr)=>{const Or=Qn.get(sr);ir.forEach(Hi=>Co(Hi,Or))}),Ls.forEach((ir,sr)=>{const Or=Sa.get(sr);ir.forEach(Hi=>Co(Hi,Or))}),Pi.forEach(ir=>{this.processLeaveNode(ir)})});const fa=[],io=[];for(let ir=this._namespaceList.length-1;ir>=0;ir--)this._namespaceList[ir].drainQueuedTransitions(C).forEach(Or=>{const Hi=Or.player,so=Or.element;if(fa.push(Hi),this.collectedEnterElements.length){const qo=so[Io];if(qo&&qo.setForMove){if(qo.previousTriggersValues&&qo.previousTriggersValues.has(Or.triggerName)){const ss=qo.previousTriggersValues.get(Or.triggerName),tl=this.statesByElement.get(Or.element);if(tl&&tl.has(Or.triggerName)){const yc=tl.get(Or.triggerName);yc.value=ss,tl.set(Or.triggerName,yc)}}return void Hi.destroy()}}const kl=!An||!this.driver.containsElement(An,so),ra=Sa.get(so),vc=Qn.get(so),Cs=this._buildInstruction(Or,E,vc,ra,kl);if(Cs.errors&&Cs.errors.length)return void io.push(Cs);if(kl)return Hi.onStart(()=>ba(so,Cs.fromStyles)),Hi.onDestroy(()=>to(so,Cs.toStyles)),void N.push(Hi);if(Or.isFallbackTransition)return Hi.onStart(()=>ba(so,Cs.fromStyles)),Hi.onDestroy(()=>to(so,Cs.toStyles)),void N.push(Hi);const Wl=[];Cs.timelines.forEach(qo=>{qo.stretchStartingKeyframe=!0,this.disabledNodes.has(qo.element)||Wl.push(qo)}),Cs.timelines=Wl,E.append(so,Cs.timelines),Oe.push({instruction:Cs,player:Hi,element:so}),Cs.queriedElements.forEach(qo=>Xs(He,qo,[]).push(Hi)),Cs.preStyleProps.forEach((qo,ss)=>{if(qo.size){let tl=it.get(ss);tl||it.set(ss,tl=new Set),qo.forEach((yc,du)=>tl.add(du))}}),Cs.postStyleProps.forEach((qo,ss)=>{let tl=Nt.get(ss);tl||Nt.set(ss,tl=new Set),qo.forEach((yc,du)=>tl.add(du))})});if(io.length){const ir=[];io.forEach(sr=>{ir.push(function va(O,v){return new b.vHH(3505,!1)}())}),fa.forEach(sr=>sr.destroy()),this.reportError(ir)}const Sr=new Map,fo=new Map;Oe.forEach(ir=>{const sr=ir.element;E.has(sr)&&(fo.set(sr,sr),this._beforeAnimationBuild(ir.player.namespaceId,ir.instruction,Sr))}),N.forEach(ir=>{const sr=ir.element;this._getPreviousPlayers(sr,!1,ir.namespaceId,ir.triggerName,null).forEach(Hi=>{Xs(Sr,sr,[]).push(Hi),Hi.destroy()})});const Aa=Pi.filter(ir=>cr(ir,it,Nt)),el=new Map;tn(el,this.driver,Is,Nt,ve.l3).forEach(ir=>{cr(ir,it,Nt)&&Aa.push(ir)});const Uo=new Map;oi.forEach((ir,sr)=>{tn(Uo,this.driver,new Set(ir),it,ve.k1)}),Aa.forEach(ir=>{const sr=el.get(ir),Or=Uo.get(ir);el.set(ir,new Map([...sr?.entries()??[],...Or?.entries()??[]]))});const za=[],Uc=[],_c={};Oe.forEach(ir=>{const{element:sr,player:Or,instruction:Hi}=ir;if(E.has(sr)){if(Vn.has(sr))return Or.onDestroy(()=>to(sr,Hi.toStyles)),Or.disabled=!0,Or.overrideTotalTime(Hi.totalTime),void N.push(Or);let so=_c;if(fo.size>1){let ra=sr;const vc=[];for(;ra=ra.parentNode;){const Cs=fo.get(ra);if(Cs){so=Cs;break}vc.push(ra)}vc.forEach(Cs=>fo.set(Cs,so))}const kl=this._buildAnimation(Or.namespaceId,Hi,Sr,J,Uo,el);if(Or.setRealPlayer(kl),so===_c)za.push(Or);else{const ra=this.playersByElement.get(so);ra&&ra.length&&(Or.parentPlayer=Qs(ra)),N.push(Or)}}else ba(sr,Hi.fromStyles),Or.onDestroy(()=>to(sr,Hi.toStyles)),Uc.push(Or),Vn.has(sr)&&N.push(Or)}),Uc.forEach(ir=>{const sr=J.get(ir.element);if(sr&&sr.length){const Or=Qs(sr);ir.setRealPlayer(Or)}}),N.forEach(ir=>{ir.parentPlayer?ir.syncPlayerEvents(ir.parentPlayer):ir.destroy()});for(let ir=0;ir<Pi.length;ir++){const sr=Pi[ir],Or=sr[Io];if(Co(sr,Pa),Or&&Or.hasAnimation)continue;let Hi=[];if(He.size){let kl=He.get(sr);kl&&kl.length&&Hi.push(...kl);let ra=this.driver.query(sr,ye,!0);for(let vc=0;vc<ra.length;vc++){let Cs=He.get(ra[vc]);Cs&&Cs.length&&Hi.push(...Cs)}}const so=Hi.filter(kl=>!kl.destroyed);so.length?_s(this,sr,so):this.processLeaveNode(sr)}return Pi.length=0,za.forEach(ir=>{this.players.push(ir),ir.onDone(()=>{ir.destroy();const sr=this.players.indexOf(ir);this.players.splice(sr,1)}),ir.play()}),za}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,C,E,N,J){let Oe=[];if(C){const He=this.playersByQueriedElement.get(v);He&&(Oe=He)}else{const He=this.playersByElement.get(v);if(He){const it=!J||J==Dl;He.forEach(Nt=>{Nt.queued||!it&&Nt.triggerName!=N||Oe.push(Nt)})}}return(E||N)&&(Oe=Oe.filter(He=>!(E&&E!=He.namespaceId||N&&N!=He.triggerName))),Oe}_beforeAnimationBuild(v,C,E){const J=C.element,Oe=C.isRemovalTransition?void 0:v,He=C.isRemovalTransition?void 0:C.triggerName;for(const it of C.timelines){const Nt=it.element,Vn=Nt!==J,An=Xs(E,Nt,[]);this._getPreviousPlayers(Nt,Vn,Oe,He,C.toState).forEach(oi=>{const Qn=oi.getRealPlayer();Qn.beforeDestroy&&Qn.beforeDestroy(),oi.destroy(),An.push(oi)})}ba(J,C.fromStyles)}_buildAnimation(v,C,E,N,J,Oe){const He=C.triggerName,it=C.element,Nt=[],Vn=new Set,An=new Set,Nr=C.timelines.map(Qn=>{const $r=Qn.element;Vn.add($r);const Pi=$r[Io];if(Pi&&Pi.removedBeforeQueried)return new ve.ZN(Qn.duration,Qn.delay);const xo=$r!==it,Is=function Qa(O){const v=[];return Gi(O,v),v}((E.get($r)||Zl).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===$r),Sa=J.get($r),Ls=Oe.get($r),fa=So(this._normalizer,Qn.keyframes,Sa,Ls),io=this._buildPlayer(Qn,fa,Is);if(Qn.subTimeline&&N&&An.add($r),xo){const Sr=new ko(v,He,$r);Sr.setRealPlayer(io),Nt.push(Sr)}return io});Nt.forEach(Qn=>{Xs(this.playersByQueriedElement,Qn.element,[]).push(Qn),Qn.onDone(()=>function ml(O,v,C){let E=O.get(v);if(E){if(E.length){const N=E.indexOf(C);E.splice(N,1)}0==E.length&&O.delete(v)}return E}(this.playersByQueriedElement,Qn.element,Qn))}),Vn.forEach(Qn=>ki(Qn,K));const oi=Qs(Nr);return oi.onDestroy(()=>{Vn.forEach(Qn=>Co(Qn,K)),to(it,C.toStyles)}),An.forEach(Qn=>{Xs(N,Qn,[]).push(oi)}),oi}_buildPlayer(v,C,E){return C.length>0?this.driver.animate(v.element,C,v.duration,v.delay,v.easing,E):new ve.ZN(v.duration,v.delay)}}class ko{constructor(v,C,E){this.namespaceId=v,this.triggerName=C,this.element=E,this._player=new ve.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((C,E)=>{C.forEach(N=>Ho(v,E,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const C=this._player;C.triggerCallback&&v.onStart(()=>C.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,C){Xs(this._queuedCallbacks,v,[]).push(C)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const C=this._player;C.triggerCallback&&C.triggerCallback(v)}}function Sl(O){return O&&1===O.nodeType}function Ql(O,v){const C=O.style.display;return O.style.display=v??"none",C}function tn(O,v,C,E,N){const J=[];C.forEach(it=>J.push(Ql(it)));const Oe=[];E.forEach((it,Nt)=>{const Vn=new Map;it.forEach(An=>{const Nr=v.computeStyle(Nt,An,N);Vn.set(An,Nr),(!Nr||0==Nr.length)&&(Nt[Io]=Dr,Oe.push(Nt))}),O.set(Nt,Vn)});let He=0;return C.forEach(it=>Ql(it,J[He++])),Oe}function mi(O,v){const C=new Map;if(O.forEach(He=>C.set(He,[])),0==v.length)return C;const N=new Set(v),J=new Map;function Oe(He){if(!He)return 1;let it=J.get(He);if(it)return it;const Nt=He.parentNode;return it=C.has(Nt)?Nt:N.has(Nt)?1:Oe(Nt),J.set(He,it),it}return v.forEach(He=>{const it=Oe(He);1!==it&&C.get(it).push(He)}),C}function ki(O,v){O.classList?.add(v)}function Co(O,v){O.classList?.remove(v)}function _s(O,v,C){Qs(C).onDone(()=>O.processLeaveNode(v))}function Gi(O,v){for(let C=0;C<O.length;C++){const E=O[C];E instanceof ve.ZE?Gi(E.players,v):v.push(E)}}function cr(O,v,C){const E=C.get(O);if(!E)return!1;let N=v.get(O);return N?E.forEach(J=>N.add(J)):v.set(O,E),C.delete(O),!0}class ho{constructor(v,C,E){this.bodyNode=v,this._driver=C,this._normalizer=E,this._triggerCache={},this.onRemovalComplete=(N,J)=>{},this._transitionEngine=new Bl(v,C,E),this._timelineEngine=new cc(v,C,E),this._transitionEngine.onRemovalComplete=(N,J)=>this.onRemovalComplete(N,J)}registerTrigger(v,C,E,N,J){const Oe=v+"-"+N;let He=this._triggerCache[Oe];if(!He){const it=[],Vn=gs(this._driver,J,it,[]);if(it.length)throw function Ws(O,v){return new b.vHH(3404,!1)}();He=function lc(O,v,C){return new xc(O,v,C)}(N,Vn,this._normalizer),this._triggerCache[Oe]=He}this._transitionEngine.registerTrigger(C,N,He)}register(v,C){this._transitionEngine.register(v,C)}destroy(v,C){this._transitionEngine.destroy(v,C)}onInsert(v,C,E,N){this._transitionEngine.insertNode(v,C,E,N)}onRemove(v,C,E){this._transitionEngine.removeNode(v,C,E)}disableAnimations(v,C){this._transitionEngine.markElementAsDisabled(v,C)}process(v,C,E,N){if("@"==E.charAt(0)){const[J,Oe]=Ra(E);this._timelineEngine.command(J,C,Oe,N)}else this._transitionEngine.trigger(v,C,E,N)}listen(v,C,E,N,J){if("@"==E.charAt(0)){const[Oe,He]=Ra(E);return this._timelineEngine.listen(Oe,C,He,J)}return this._transitionEngine.listen(v,C,E,N,J)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let Gn=(()=>{class v{constructor(E,N,J){this._element=E,this._startStyles=N,this._endStyles=J,this._state=0;let Oe=v.initialStylesByElement.get(E);Oe||v.initialStylesByElement.set(E,Oe=new Map),this._initialStyles=Oe}start(){this._state<1&&(this._startStyles&&to(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(to(this._element,this._initialStyles),this._endStyles&&(to(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(ba(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ba(this._element,this._endStyles),this._endStyles=null),to(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function tr(O){let v=null;return O.forEach((C,E)=>{(function No(O){return"display"===O||"position"===O})(E)&&(v=v||new Map,v.set(E,C))}),v}class Dn{constructor(v,C,E,N){this.element=v,this.keyframes=C,this.options=E,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=E.duration,this._delay=E.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const C=[];return v.forEach(E=>{C.push(Object.fromEntries(E))}),C}_triggerWebAnimation(v,C,E){return v.animate(this._convertKeyframesToObject(C),E)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((E,N)=>{"offset"!==N&&v.set(N,this._finished?E:Fa(this.element,N))}),this.currentSnapshot=v}triggerCallback(v){const C="start"===v?this._onStartFns:this._onDoneFns;C.forEach(E=>E()),C.length=0}}class Lt{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,C){return!1}containsElement(v,C){return Jr(v,C)}getParentElement(v){return rs(v)}query(v,C,E){return ya(v,C,E)}computeStyle(v,C,E){return window.getComputedStyle(v)[C]}animate(v,C,E,N,J,Oe=[]){const it={duration:E,delay:N,fill:0==N?"both":"forwards"};J&&(it.easing=J);const Nt=new Map,Vn=Oe.filter(oi=>oi instanceof Dn);(function Rs(O,v){return 0===O||0===v})(E,N)&&Vn.forEach(oi=>{oi.currentSnapshot.forEach((Qn,$r)=>Nt.set($r,Qn))});let An=function ka(O){return O.length?O[0]instanceof Map?O:O.map(v=>as(v)):[]}(C).map(oi=>aa(oi));An=function co(O,v,C){if(C.size&&v.length){let E=v[0],N=[];if(C.forEach((J,Oe)=>{E.has(Oe)||N.push(Oe),E.set(Oe,J)}),N.length)for(let J=1;J<v.length;J++){let Oe=v[J];N.forEach(He=>Oe.set(He,Fa(O,He)))}}return v}(v,An,Nt);const Nr=function Xl(O,v){let C=null,E=null;return Array.isArray(v)&&v.length?(C=tr(v[0]),v.length>1&&(E=tr(v[v.length-1]))):v instanceof Map&&(C=tr(v)),C||E?new Gn(O,C,E):null}(v,An);return new Dn(v,An,it,Nr)}}let w=(()=>{var O;class v extends ve._j{constructor(E,N){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(N.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(E){const N=this._nextAnimationId.toString();this._nextAnimationId++;const J=Array.isArray(E)?(0,ve.vP)(E):E;return R(this._renderer,null,N,"register",[J]),new S(N,this._renderer)}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(b.FYo),b.LFG(Fe.K0))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),v})();class S extends ve.LC{constructor(v,C){super(),this._id=v,this._renderer=C}create(v,C){return new U(this._id,v,C||{},this._renderer)}}class U{constructor(v,C,E,N){this.id=v,this.element=C,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",E)}_listen(v,C){return this._renderer.listen(this.element,`@@${this.id}:${v}`,C)}_command(v,...C){return R(this._renderer,this.element,this.id,v,C)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function R(O,v,C,E,N){return O.setProperty(v,`@@${C}:${E}`,N)}const Q="@",me="@.disabled";let Me=(()=>{var O;class v{constructor(E,N,J){this.delegate=E,this.engine=N,this._zone=J,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,N.onRemovalComplete=(Oe,He)=>{const it=He?.parentNode(Oe);it&&He.removeChild(it,Oe)}}createRenderer(E,N){const Oe=this.delegate.createRenderer(E,N);if(!(E&&N&&N.data&&N.data.animation)){let An=this._rendererCache.get(Oe);return An||(An=new wt("",Oe,this.engine,()=>this._rendererCache.delete(Oe)),this._rendererCache.set(Oe,An)),An}const He=N.id,it=N.id+"-"+this._currentId;this._currentId++,this.engine.register(it,E);const Nt=An=>{Array.isArray(An)?An.forEach(Nt):this.engine.registerTrigger(He,it,E,An.name,An)};return N.data.animation.forEach(Nt),new bn(this,it,Oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,N,J){E>=0&&E<this._microtaskId?this._zone.run(()=>N(J)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Oe=>{const[He,it]=Oe;He(it)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,J]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(b.FYo),b.LFG(ho),b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),v})();class wt{constructor(v,C,E,N){this.namespaceId=v,this.delegate=C,this.engine=E,this._onDestroy=N}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,C){return this.delegate.createElement(v,C)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,C){this.delegate.appendChild(v,C),this.engine.onInsert(this.namespaceId,C,v,!1)}insertBefore(v,C,E,N=!0){this.delegate.insertBefore(v,C,E),this.engine.onInsert(this.namespaceId,C,v,N)}removeChild(v,C,E){this.engine.onRemove(this.namespaceId,C,this.delegate)}selectRootElement(v,C){return this.delegate.selectRootElement(v,C)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,C,E,N){this.delegate.setAttribute(v,C,E,N)}removeAttribute(v,C,E){this.delegate.removeAttribute(v,C,E)}addClass(v,C){this.delegate.addClass(v,C)}removeClass(v,C){this.delegate.removeClass(v,C)}setStyle(v,C,E,N){this.delegate.setStyle(v,C,E,N)}removeStyle(v,C,E){this.delegate.removeStyle(v,C,E)}setProperty(v,C,E){C.charAt(0)==Q&&C==me?this.disableAnimations(v,!!E):this.delegate.setProperty(v,C,E)}setValue(v,C){this.delegate.setValue(v,C)}listen(v,C,E){return this.delegate.listen(v,C,E)}disableAnimations(v,C){this.engine.disableAnimations(v,C)}}class bn extends wt{constructor(v,C,E,N,J){super(C,E,N,J),this.factory=v,this.namespaceId=C}setProperty(v,C,E){C.charAt(0)==Q?"."==C.charAt(1)&&C==me?this.disableAnimations(v,E=void 0===E||!!E):this.engine.process(this.namespaceId,v,C.slice(1),E):this.delegate.setProperty(v,C,E)}listen(v,C,E){if(C.charAt(0)==Q){const N=function Gt(O){switch(O){case"body":return document.body;case"document":return document;case"window":return window;default:return O}}(v);let J=C.slice(1),Oe="";return J.charAt(0)!=Q&&([J,Oe]=function hr(O){const v=O.indexOf(".");return[O.substring(0,v),O.slice(v+1)]}(J)),this.engine.listen(this.namespaceId,N,J,Oe,He=>{this.factory.scheduleListenerCallback(He._data||-1,E,He)})}return this.delegate.listen(v,C,E)}}const Us=[{provide:ve._j,useClass:w},{provide:Ro,useFactory:function Xi(){return new Jo}},{provide:ho,useClass:(()=>{var O;class v extends ho{constructor(E,N,J,Oe){super(E.body,N,J)}ngOnDestroy(){this.flush()}}return(O=v).\u0275fac=function(E){return new(E||O)(b.LFG(Fe.K0),b.LFG(As),b.LFG(Ro),b.LFG(b.z2F))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac}),v})()},{provide:b.FYo,useFactory:function Rn(O,v,C){return new Me(O,v,C)},deps:[d.se,ho,b.R0b]}],Ia=[{provide:As,useFactory:()=>new Lt},{provide:b.QbO,useValue:"BrowserAnimations"},...Us],ji=[{provide:As,useClass:qs},{provide:b.QbO,useValue:"NoopAnimations"},...Us];let Wn=(()=>{var O;class v{static withConfig(E){return{ngModule:v,providers:E.disableAnimations?ji:Ia}}}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({providers:Ia,imports:[d.b2]}),v})();var Oi=V(8726);const dn={firebase:{projectId:"laboivtp1",appId:"1:939944236212:web:c9e26a986d9427d33933e1",storageBucket:"laboivtp1.appspot.com",apiKey:"AIzaSyBmUJDHqgAR54TXTgpWfqVuPqRASSMQthA",authDomain:"laboivtp1.firebaseapp.com",messagingSenderId:"939944236212"}};var ua=V(2793),Ac=V(4097),Al=V(2194),Tu=V(6710);V(9058),V(534),V(7879),V(4537);class Ps{constructor(v){return v}}class Wo{constructor(){return(0,ua.vb)("auth")}}const dc=new b.OlP("angularfire2.auth-instances");function Ot(O){return(v,C)=>{const E=v.runOutsideAngular(()=>O(C));return new Ps(E)}}const Rc={provide:Wo,deps:[[new b.FiY,dc]]},Bs={provide:Ps,useFactory:function Ha(O,v){const C=(0,ua.JM)("auth",O,v);return C&&new Ps(C)},deps:[[new b.FiY,dc],Oi.Ot]};let tc=(()=>{class O{constructor(){(0,Ac.KN)("angularfire",ua.q4.full,"auth")}}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({providers:[Bs,Rc]}),O})();function Oc(O,...v){return{ngModule:tc,providers:[{provide:dc,useFactory:Ot(O),multi:!0,deps:[b.R0b,b.zs3,ua.HU,Oi.z6,[new b.FiY,Al.nm],...v]}]}}const nc=(0,ua.u3)(Tu.o,!0);var Yt=V(8162);class Xt{constructor(v){return v}}const On="firestore",si=new b.OlP("angularfire2.firestore-instances");function Hr(O){return(v,C)=>{const E=v.runOutsideAngular(()=>O(C));return new Xt(E)}}const zs={provide:class Kn{constructor(){return(0,ua.vb)(On)}},deps:[[new b.FiY,si]]},Ns={provide:Xt,useFactory:function Hs(O,v){const C=(0,ua.JM)(On,O,v);return C&&new Xt(C)},deps:[[new b.FiY,si],Oi.Ot]};let Rr=(()=>{class O{constructor(){(0,Ac.KN)("angularfire",ua.q4.full,"fst")}}return O.\u0275fac=function(C){return new(C||O)},O.\u0275mod=b.oAB({type:O}),O.\u0275inj=b.cJS({providers:[Ns,zs]}),O})();function Ni(O,...v){return{ngModule:Rr,providers:[{provide:si,useFactory:Hr(O),multi:!0,deps:[b.R0b,b.zs3,ua.HU,Oi.z6,[new b.FiY,Wo],[new b.FiY,Al.nm],...v]}]}}const Lo=(0,ua.u3)(Yt.ad,!0);var eh=V(6304);let Cd=(()=>{var O;class v{}return(O=v).\u0275fac=function(E){return new(E||O)},O.\u0275mod=b.oAB({type:O,bootstrap:[vn]}),O.\u0275inj=b.cJS({providers:[{provide:eh.Dh,useValue:dn.firebase}],imports:[d.b2,Wt,Te.u5,Wn,Yr,nt,he.ot,oe.Ps,Te.UX,zn,(0,Oi.hX)(()=>(0,Oi.ZF)(dn.firebase)),Oc(()=>nc()),Ni(()=>Lo())]}),v})();d.q6().bootstrapModule(Cd).catch(O=>console.error(O))},5619:(pn,st,V)=>{V.d(st,{X:()=>H});var d=V(8645);class H extends d.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const b=super._subscribe(Te);return!b.closed&&Te.next(this._value),b}getValue(){const{hasError:Te,thrownError:b,_value:ke}=this;if(Te)throw b;return this._throwIfClosed(),ke}next(Te){super.next(this._value=Te)}}},5592:(pn,st,V)=>{V.d(st,{y:()=>Ae});var d=V(305),H=V(7394),ae=V(4850),Te=V(8407),b=V(2653),ke=V(4674),Ve=V(1441);let Ae=(()=>{class Ke{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const jt=new Ke;return jt.source=this,jt.operator=mt,jt}subscribe(mt,jt,kt){const St=function ve(Ke){return Ke&&Ke instanceof d.Lv||function he(Ke){return Ke&&(0,ke.m)(Ke.next)&&(0,ke.m)(Ke.error)&&(0,ke.m)(Ke.complete)}(Ke)&&(0,H.Nn)(Ke)}(mt)?mt:new d.Hp(mt,jt,kt);return(0,Ve.x)(()=>{const{operator:Rt,source:Zt}=this;St.add(Rt?Rt.call(St,Zt):Zt?this._subscribe(St):this._trySubscribe(St))}),St}_trySubscribe(mt){try{return this._subscribe(mt)}catch(jt){mt.error(jt)}}forEach(mt,jt){return new(jt=Fe(jt))((kt,St)=>{const Rt=new d.Hp({next:Zt=>{try{mt(Zt)}catch(Ut){St(Ut),Rt.unsubscribe()}},error:St,complete:kt});this.subscribe(Rt)})}_subscribe(mt){var jt;return null===(jt=this.source)||void 0===jt?void 0:jt.subscribe(mt)}[ae.L](){return this}pipe(...mt){return(0,Te.U)(mt)(this)}toPromise(mt){return new(mt=Fe(mt))((jt,kt)=>{let St;this.subscribe(Rt=>St=Rt,Rt=>kt(Rt),()=>jt(St))})}}return Ke.create=lt=>new Ke(lt),Ke})();function Fe(Ke){var lt;return null!==(lt=Ke??b.config.Promise)&&void 0!==lt?lt:Promise}},8645:(pn,st,V)=>{V.d(st,{x:()=>Ve});var d=V(5592),H=V(7394);const Te=(0,V(2306).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=V(9039),ke=V(1441);let Ve=(()=>{class Fe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Ke=new Ae(this,this);return Ke.operator=ve,Ke}_throwIfClosed(){if(this.closed)throw new Te}next(ve){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ke of this.currentObservers)Ke.next(ve)}})}error(ve){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Ke}=this;for(;Ke.length;)Ke.shift().error(ve)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Ke,isStopped:lt,observers:mt}=this;return Ke||lt?H.Lc:(this.currentObservers=null,mt.push(ve),new H.w0(()=>{this.currentObservers=null,(0,b.P)(mt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Ke,thrownError:lt,isStopped:mt}=this;Ke?ve.error(lt):mt&&ve.complete()}asObservable(){const ve=new d.y;return ve.source=this,ve}}return Fe.create=(he,ve)=>new Ae(he,ve),Fe})();class Ae extends Ve{constructor(he,ve){super(),this.destination=he,this.source=ve}next(he){var ve,Ke;null===(Ke=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Ke||Ke.call(ve,he)}error(he){var ve,Ke;null===(Ke=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Ke||Ke.call(ve,he)}complete(){var he,ve;null===(ve=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ve||ve.call(he)}_subscribe(he){var ve,Ke;return null!==(Ke=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(he))&&void 0!==Ke?Ke:H.Lc}}},305:(pn,st,V)=>{V.d(st,{Hp:()=>kt,Lv:()=>Ke});var d=V(4674),H=V(7394),ae=V(2653),Te=V(3894),b=V(2420);const ke=Fe("C",void 0,void 0);function Fe(Re,Qe,je){return{kind:Re,value:Qe,error:je}}var he=V(7599),ve=V(1441);class Ke extends H.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,H.Nn)(Qe)&&Qe.add(this)):this.destination=Ut}static create(Qe,je,Je){return new kt(Qe,je,Je)}next(Qe){this.isStopped?Zt(function Ae(Re){return Fe("N",Re,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?Zt(function Ve(Re){return Fe("E",void 0,Re)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?Zt(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function mt(Re,Qe){return lt.call(Re,Qe)}class jt{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:je}=this;if(je.next)try{je.next(Qe)}catch(Je){St(Je)}}error(Qe){const{partialObserver:je}=this;if(je.error)try{je.error(Qe)}catch(Je){St(Je)}else St(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(je){St(je)}}}class kt extends Ke{constructor(Qe,je,Je){let Pt;if(super(),(0,d.m)(Qe)||!Qe)Pt={next:Qe??void 0,error:je??void 0,complete:Je??void 0};else{let et;this&&ae.config.useDeprecatedNextContext?(et=Object.create(Qe),et.unsubscribe=()=>this.unsubscribe(),Pt={next:Qe.next&&mt(Qe.next,et),error:Qe.error&&mt(Qe.error,et),complete:Qe.complete&&mt(Qe.complete,et)}):Pt=Qe}this.destination=new jt(Pt)}}function St(Re){ae.config.useDeprecatedSynchronousErrorHandling?(0,ve.O)(Re):(0,Te.h)(Re)}function Zt(Re,Qe){const{onStoppedNotification:je}=ae.config;je&&he.z.setTimeout(()=>je(Re,Qe))}const Ut={closed:!0,next:b.Z,error:function Rt(Re){throw Re},complete:b.Z}},7394:(pn,st,V)=>{V.d(st,{Lc:()=>ke,w0:()=>b,Nn:()=>Ve});var d=V(4674);const ae=(0,V(2306).d)(Fe=>function(ve){Fe(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Ke,lt)=>`${lt+1}) ${Ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Te=V(9039);class b{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const mt of ve)mt.remove(this);else ve.remove(this);const{initialTeardown:Ke}=this;if((0,d.m)(Ke))try{Ke()}catch(mt){he=mt instanceof ae?mt.errors:[mt]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const mt of lt)try{Ae(mt)}catch(jt){he=he??[],jt instanceof ae?he=[...he,...jt.errors]:he.push(jt)}}if(he)throw new ae(he)}}add(he){var ve;if(he&&he!==this)if(this.closed)Ae(he);else{if(he instanceof b){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(he)}}_hasParent(he){const{_parentage:ve}=this;return ve===he||Array.isArray(ve)&&ve.includes(he)}_addParent(he){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(he),ve):ve?[ve,he]:he}_removeParent(he){const{_parentage:ve}=this;ve===he?this._parentage=null:Array.isArray(ve)&&(0,Te.P)(ve,he)}remove(he){const{_finalizers:ve}=this;ve&&(0,Te.P)(ve,he),he instanceof b&&he._removeParent(this)}}b.EMPTY=(()=>{const Fe=new b;return Fe.closed=!0,Fe})();const ke=b.EMPTY;function Ve(Fe){return Fe instanceof b||Fe&&"closed"in Fe&&(0,d.m)(Fe.remove)&&(0,d.m)(Fe.add)&&(0,d.m)(Fe.unsubscribe)}function Ae(Fe){(0,d.m)(Fe)?Fe():Fe.unsubscribe()}},2653:(pn,st,V)=>{V.d(st,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(pn,st,V)=>{V.d(st,{a:()=>he});var d=V(5592),H=V(7453),ae=V(2459),Te=V(2737),b=V(7400),ke=V(9940),Ve=V(2714),Ae=V(8251),Fe=V(7103);function he(...lt){const mt=(0,ke.yG)(lt),jt=(0,ke.jO)(lt),{args:kt,keys:St}=(0,H.D)(lt);if(0===kt.length)return(0,ae.D)([],mt);const Rt=new d.y(function ve(lt,mt,jt=Te.y){return kt=>{Ke(mt,()=>{const{length:St}=lt,Rt=new Array(St);let Zt=St,Ut=St;for(let Re=0;Re<St;Re++)Ke(mt,()=>{const Qe=(0,ae.D)(lt[Re],mt);let je=!1;Qe.subscribe((0,Ae.x)(kt,Je=>{Rt[Re]=Je,je||(je=!0,Ut--),Ut||kt.next(jt(Rt.slice()))},()=>{--Zt||kt.complete()}))},kt)},kt)}}(kt,mt,St?Zt=>(0,Ve.n)(St,Zt):Te.y));return jt?Rt.pipe((0,b.Z)(jt)):Rt}function Ke(lt,mt,jt){lt?(0,Fe.f)(jt,lt,mt):mt()}},5211:(pn,st,V)=>{V.d(st,{z:()=>b});var d=V(7537),ae=V(9940),Te=V(2459);function b(...ke){return function H(){return(0,d.J)(1)}()((0,Te.D)(ke,(0,ae.yG)(ke)))}},4911:(pn,st,V)=>{V.d(st,{P:()=>ae});var d=V(5592),H=V(4829);function ae(Te){return new d.y(b=>{(0,H.Xf)(Te()).subscribe(b)})}},6232:(pn,st,V)=>{V.d(st,{E:()=>H});const H=new(V(5592).y)(b=>b.complete())},9315:(pn,st,V)=>{V.d(st,{D:()=>Ae});var d=V(5592),H=V(7453),ae=V(4829),Te=V(9940),b=V(8251),ke=V(7400),Ve=V(2714);function Ae(...Fe){const he=(0,Te.jO)(Fe),{args:ve,keys:Ke}=(0,H.D)(Fe),lt=new d.y(mt=>{const{length:jt}=ve;if(!jt)return void mt.complete();const kt=new Array(jt);let St=jt,Rt=jt;for(let Zt=0;Zt<jt;Zt++){let Ut=!1;(0,ae.Xf)(ve[Zt]).subscribe((0,b.x)(mt,Re=>{Ut||(Ut=!0,Rt--),kt[Zt]=Re},()=>St--,void 0,()=>{(!St||!Ut)&&(Rt||mt.next(Ke?(0,Ve.n)(Ke,kt):kt),mt.complete())}))}});return he?lt.pipe((0,ke.Z)(he)):lt}},2459:(pn,st,V)=>{V.d(st,{D:()=>Qe});var d=V(4829),H=V(3093),ae=V(5137),ke=V(5592),Ae=V(4971),Fe=V(4674),he=V(7103);function Ke(je,Je){if(!je)throw new Error("Iterable cannot be null");return new ke.y(Pt=>{(0,he.f)(Pt,Je,()=>{const et=je[Symbol.asyncIterator]();(0,he.f)(Pt,Je,()=>{et.next().then(Ft=>{Ft.done?Pt.complete():Pt.next(Ft.value)})},0,!0)})})}var lt=V(8382),mt=V(4026),jt=V(4266),kt=V(3664),St=V(5726),Rt=V(9853),Zt=V(541);function Qe(je,Je){return Je?function Re(je,Je){if(null!=je){if((0,lt.c)(je))return function Te(je,Je){return(0,d.Xf)(je).pipe((0,ae.R)(Je),(0,H.Q)(Je))}(je,Je);if((0,jt.z)(je))return function Ve(je,Je){return new ke.y(Pt=>{let et=0;return Je.schedule(function(){et===je.length?Pt.complete():(Pt.next(je[et++]),Pt.closed||this.schedule())})})}(je,Je);if((0,mt.t)(je))return function b(je,Je){return(0,d.Xf)(je).pipe((0,ae.R)(Je),(0,H.Q)(Je))}(je,Je);if((0,St.D)(je))return Ke(je,Je);if((0,kt.T)(je))return function ve(je,Je){return new ke.y(Pt=>{let et;return(0,he.f)(Pt,Je,()=>{et=je[Ae.h](),(0,he.f)(Pt,Je,()=>{let Ft,yn;try{({value:Ft,done:yn}=et.next())}catch(hn){return void Pt.error(hn)}yn?Pt.complete():Pt.next(Ft)},0,!0)}),()=>(0,Fe.m)(et?.return)&&et.return()})}(je,Je);if((0,Zt.L)(je))return function Ut(je,Je){return Ke((0,Zt.Q)(je),Je)}(je,Je)}throw(0,Rt.z)(je)}(je,Je):(0,d.Xf)(je)}},4829:(pn,st,V)=>{V.d(st,{Xf:()=>lt});var d=V(7582),H=V(4266),ae=V(4026),Te=V(5592),b=V(8382),ke=V(5726),Ve=V(9853),Ae=V(3664),Fe=V(541),he=V(4674),ve=V(3894),Ke=V(4850);function lt(Re){if(Re instanceof Te.y)return Re;if(null!=Re){if((0,b.c)(Re))return function mt(Re){return new Te.y(Qe=>{const je=Re[Ke.L]();if((0,he.m)(je.subscribe))return je.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,H.z)(Re))return function jt(Re){return new Te.y(Qe=>{for(let je=0;je<Re.length&&!Qe.closed;je++)Qe.next(Re[je]);Qe.complete()})}(Re);if((0,ae.t)(Re))return function kt(Re){return new Te.y(Qe=>{Re.then(je=>{Qe.closed||(Qe.next(je),Qe.complete())},je=>Qe.error(je)).then(null,ve.h)})}(Re);if((0,ke.D)(Re))return Rt(Re);if((0,Ae.T)(Re))return function St(Re){return new Te.y(Qe=>{for(const je of Re)if(Qe.next(je),Qe.closed)return;Qe.complete()})}(Re);if((0,Fe.L)(Re))return function Zt(Re){return Rt((0,Fe.Q)(Re))}(Re)}throw(0,Ve.z)(Re)}function Rt(Re){return new Te.y(Qe=>{(function Ut(Re,Qe){var je,Je,Pt,et;return(0,d.mG)(this,void 0,void 0,function*(){try{for(je=(0,d.KL)(Re);!(Je=yield je.next()).done;)if(Qe.next(Je.value),Qe.closed)return}catch(Ft){Pt={error:Ft}}finally{try{Je&&!Je.done&&(et=je.return)&&(yield et.call(je))}finally{if(Pt)throw Pt.error}}Qe.complete()})})(Re,Qe).catch(je=>Qe.error(je))})}},3019:(pn,st,V)=>{V.d(st,{T:()=>ke});var d=V(7537),H=V(4829),ae=V(6232),Te=V(9940),b=V(2459);function ke(...Ve){const Ae=(0,Te.yG)(Ve),Fe=(0,Te._6)(Ve,1/0),he=Ve;return he.length?1===he.length?(0,H.Xf)(he[0]):(0,d.J)(Fe)((0,b.D)(he,Ae)):ae.E}},2096:(pn,st,V)=>{V.d(st,{of:()=>ae});var d=V(9940),H=V(2459);function ae(...Te){const b=(0,d.yG)(Te);return(0,H.D)(Te,b)}},8504:(pn,st,V)=>{V.d(st,{_:()=>ae});var d=V(5592),H=V(4674);function ae(Te,b){const ke=(0,H.m)(Te)?Te:()=>Te,Ve=Ae=>Ae.error(ke());return new d.y(b?Ae=>b.schedule(Ve,0,Ae):Ve)}},8251:(pn,st,V)=>{V.d(st,{x:()=>H});var d=V(305);function H(Te,b,ke,Ve,Ae){return new ae(Te,b,ke,Ve,Ae)}class ae extends d.Lv{constructor(b,ke,Ve,Ae,Fe,he){super(b),this.onFinalize=Fe,this.shouldUnsubscribe=he,this._next=ke?function(ve){try{ke(ve)}catch(Ke){b.error(Ke)}}:super._next,this._error=Ae?function(ve){try{Ae(ve)}catch(Ke){b.error(Ke)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ve){b.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},6306:(pn,st,V)=>{V.d(st,{K:()=>Te});var d=V(4829),H=V(8251),ae=V(9360);function Te(b){return(0,ae.e)((ke,Ve)=>{let he,Ae=null,Fe=!1;Ae=ke.subscribe((0,H.x)(Ve,void 0,void 0,ve=>{he=(0,d.Xf)(b(ve,Te(b)(ke))),Ae?(Ae.unsubscribe(),Ae=null,he.subscribe(Ve)):Fe=!0})),Fe&&(Ae.unsubscribe(),Ae=null,he.subscribe(Ve))})}},6328:(pn,st,V)=>{V.d(st,{b:()=>ae});var d=V(1631),H=V(4674);function ae(Te,b){return(0,H.m)(b)?(0,d.z)(Te,b,1):(0,d.z)(Te,1)}},3572:(pn,st,V)=>{V.d(st,{d:()=>ae});var d=V(9360),H=V(8251);function ae(Te){return(0,d.e)((b,ke)=>{let Ve=!1;b.subscribe((0,H.x)(ke,Ae=>{Ve=!0,ke.next(Ae)},()=>{Ve||ke.next(Te),ke.complete()}))})}},3997:(pn,st,V)=>{V.d(st,{x:()=>Te});var d=V(2737),H=V(9360),ae=V(8251);function Te(ke,Ve=d.y){return ke=ke??b,(0,H.e)((Ae,Fe)=>{let he,ve=!0;Ae.subscribe((0,ae.x)(Fe,Ke=>{const lt=Ve(Ke);(ve||!ke(he,lt))&&(ve=!1,he=lt,Fe.next(Ke))}))})}function b(ke,Ve){return ke===Ve}},2181:(pn,st,V)=>{V.d(st,{h:()=>ae});var d=V(9360),H=V(8251);function ae(Te,b){return(0,d.e)((ke,Ve)=>{let Ae=0;ke.subscribe((0,H.x)(Ve,Fe=>Te.call(b,Fe,Ae++)&&Ve.next(Fe)))})}},4716:(pn,st,V)=>{V.d(st,{x:()=>H});var d=V(9360);function H(ae){return(0,d.e)((Te,b)=>{try{Te.subscribe(b)}finally{b.add(ae)}})}},1374:(pn,st,V)=>{V.d(st,{P:()=>Ve});var d=V(6973),H=V(2181),ae=V(8180),Te=V(3572),b=V(3026),ke=V(2737);function Ve(Ae,Fe){const he=arguments.length>=2;return ve=>ve.pipe(Ae?(0,H.h)((Ke,lt)=>Ae(Ke,lt,ve)):ke.y,(0,ae.q)(1),he?(0,Te.d)(Fe):(0,b.T)(()=>new d.K))}},7398:(pn,st,V)=>{V.d(st,{U:()=>ae});var d=V(9360),H=V(8251);function ae(Te,b){return(0,d.e)((ke,Ve)=>{let Ae=0;ke.subscribe((0,H.x)(Ve,Fe=>{Ve.next(Te.call(b,Fe,Ae++))}))})}},7537:(pn,st,V)=>{V.d(st,{J:()=>ae});var d=V(1631),H=V(2737);function ae(Te=1/0){return(0,d.z)(H.y,Te)}},1631:(pn,st,V)=>{V.d(st,{z:()=>Ae});var d=V(7398),H=V(4829),ae=V(9360),Te=V(7103),b=V(8251),Ve=V(4674);function Ae(Fe,he,ve=1/0){return(0,Ve.m)(he)?Ae((Ke,lt)=>(0,d.U)((mt,jt)=>he(Ke,mt,lt,jt))((0,H.Xf)(Fe(Ke,lt))),ve):("number"==typeof he&&(ve=he),(0,ae.e)((Ke,lt)=>function ke(Fe,he,ve,Ke,lt,mt,jt,kt){const St=[];let Rt=0,Zt=0,Ut=!1;const Re=()=>{Ut&&!St.length&&!Rt&&he.complete()},Qe=Je=>Rt<Ke?je(Je):St.push(Je),je=Je=>{mt&&he.next(Je),Rt++;let Pt=!1;(0,H.Xf)(ve(Je,Zt++)).subscribe((0,b.x)(he,et=>{lt?.(et),mt?Qe(et):he.next(et)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(Rt--;St.length&&Rt<Ke;){const et=St.shift();jt?(0,Te.f)(he,jt,()=>je(et)):je(et)}Re()}catch(et){he.error(et)}}))};return Fe.subscribe((0,b.x)(he,Qe,()=>{Ut=!0,Re()})),()=>{kt?.()}}(Ke,lt,Fe,ve)))}},3093:(pn,st,V)=>{V.d(st,{Q:()=>Te});var d=V(7103),H=V(9360),ae=V(8251);function Te(b,ke=0){return(0,H.e)((Ve,Ae)=>{Ve.subscribe((0,ae.x)(Ae,Fe=>(0,d.f)(Ae,b,()=>Ae.next(Fe),ke),()=>(0,d.f)(Ae,b,()=>Ae.complete(),ke),Fe=>(0,d.f)(Ae,b,()=>Ae.error(Fe),ke)))})}},6699:(pn,st,V)=>{V.d(st,{R:()=>Te});var d=V(9360),H=V(8251);function Te(b,ke){return(0,d.e)(function ae(b,ke,Ve,Ae,Fe){return(he,ve)=>{let Ke=Ve,lt=ke,mt=0;he.subscribe((0,H.x)(ve,jt=>{const kt=mt++;lt=Ke?b(lt,jt,kt):(Ke=!0,jt),Ae&&ve.next(lt)},Fe&&(()=>{Ke&&ve.next(lt),ve.complete()})))}}(b,ke,arguments.length>=2,!0))}},3020:(pn,st,V)=>{V.d(st,{B:()=>b});var d=V(4829),H=V(8645),ae=V(305),Te=V(9360);function b(Ve={}){const{connector:Ae=(()=>new H.x),resetOnError:Fe=!0,resetOnComplete:he=!0,resetOnRefCountZero:ve=!0}=Ve;return Ke=>{let lt,mt,jt,kt=0,St=!1,Rt=!1;const Zt=()=>{mt?.unsubscribe(),mt=void 0},Ut=()=>{Zt(),lt=jt=void 0,St=Rt=!1},Re=()=>{const Qe=lt;Ut(),Qe?.unsubscribe()};return(0,Te.e)((Qe,je)=>{kt++,!Rt&&!St&&Zt();const Je=jt=jt??Ae();je.add(()=>{kt--,0===kt&&!Rt&&!St&&(mt=ke(Re,ve))}),Je.subscribe(je),!lt&&kt>0&&(lt=new ae.Hp({next:Pt=>Je.next(Pt),error:Pt=>{Rt=!0,Zt(),mt=ke(Ut,Fe,Pt),Je.error(Pt)},complete:()=>{St=!0,Zt(),mt=ke(Ut,he),Je.complete()}}),(0,d.Xf)(Qe).subscribe(lt))})(Ke)}}function ke(Ve,Ae,...Fe){if(!0===Ae)return void Ve();if(!1===Ae)return;const he=new ae.Hp({next:()=>{he.unsubscribe(),Ve()}});return(0,d.Xf)(Ae(...Fe)).subscribe(he)}},940:(pn,st,V)=>{V.d(st,{d:()=>b});var d=V(8645),H=V(4552);class ae extends d.x{constructor(Ve=1/0,Ae=1/0,Fe=H.l){super(),this._bufferSize=Ve,this._windowTime=Ae,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,Ve),this._windowTime=Math.max(1,Ae)}next(Ve){const{isStopped:Ae,_buffer:Fe,_infiniteTimeWindow:he,_timestampProvider:ve,_windowTime:Ke}=this;Ae||(Fe.push(Ve),!he&&Fe.push(ve.now()+Ke)),this._trimBuffer(),super.next(Ve)}_subscribe(Ve){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(Ve),{_infiniteTimeWindow:Fe,_buffer:he}=this,ve=he.slice();for(let Ke=0;Ke<ve.length&&!Ve.closed;Ke+=Fe?1:2)Ve.next(ve[Ke]);return this._checkFinalizedStatuses(Ve),Ae}_trimBuffer(){const{_bufferSize:Ve,_timestampProvider:Ae,_buffer:Fe,_infiniteTimeWindow:he}=this,ve=(he?1:2)*Ve;if(Ve<1/0&&ve<Fe.length&&Fe.splice(0,Fe.length-ve),!he){const Ke=Ae.now();let lt=0;for(let mt=1;mt<Fe.length&&Fe[mt]<=Ke;mt+=2)lt=mt;lt&&Fe.splice(0,lt+1)}}}var Te=V(3020);function b(ke,Ve,Ae){let Fe,he=!1;return ke&&"object"==typeof ke?({bufferSize:Fe=1/0,windowTime:Ve=1/0,refCount:he=!1,scheduler:Ae}=ke):Fe=ke??1/0,(0,Te.B)({connector:()=>new ae(Fe,Ve,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:he})}},836:(pn,st,V)=>{V.d(st,{T:()=>H});var d=V(2181);function H(ae){return(0,d.h)((Te,b)=>ae<=b)}},7921:(pn,st,V)=>{V.d(st,{O:()=>Te});var d=V(5211),H=V(9940),ae=V(9360);function Te(...b){const ke=(0,H.yG)(b);return(0,ae.e)((Ve,Ae)=>{(ke?(0,d.z)(b,Ve,ke):(0,d.z)(b,Ve)).subscribe(Ae)})}},5137:(pn,st,V)=>{V.d(st,{R:()=>H});var d=V(9360);function H(ae,Te=0){return(0,d.e)((b,ke)=>{ke.add(ae.schedule(()=>b.subscribe(ke),Te))})}},4664:(pn,st,V)=>{V.d(st,{w:()=>Te});var d=V(4829),H=V(9360),ae=V(8251);function Te(b,ke){return(0,H.e)((Ve,Ae)=>{let Fe=null,he=0,ve=!1;const Ke=()=>ve&&!Fe&&Ae.complete();Ve.subscribe((0,ae.x)(Ae,lt=>{Fe?.unsubscribe();let mt=0;const jt=he++;(0,d.Xf)(b(lt,jt)).subscribe(Fe=(0,ae.x)(Ae,kt=>Ae.next(ke?ke(lt,kt,jt,mt++):kt),()=>{Fe=null,Ke()}))},()=>{ve=!0,Ke()}))})}},8180:(pn,st,V)=>{V.d(st,{q:()=>Te});var d=V(6232),H=V(9360),ae=V(8251);function Te(b){return b<=0?()=>d.E:(0,H.e)((ke,Ve)=>{let Ae=0;ke.subscribe((0,ae.x)(Ve,Fe=>{++Ae<=b&&(Ve.next(Fe),b<=Ae&&Ve.complete())}))})}},9773:(pn,st,V)=>{V.d(st,{R:()=>b});var d=V(9360),H=V(8251),ae=V(4829),Te=V(2420);function b(ke){return(0,d.e)((Ve,Ae)=>{(0,ae.Xf)(ke).subscribe((0,H.x)(Ae,()=>Ae.complete(),Te.Z)),!Ae.closed&&Ve.subscribe(Ae)})}},9397:(pn,st,V)=>{V.d(st,{b:()=>b});var d=V(4674),H=V(9360),ae=V(8251),Te=V(2737);function b(ke,Ve,Ae){const Fe=(0,d.m)(ke)||Ve||Ae?{next:ke,error:Ve,complete:Ae}:ke;return Fe?(0,H.e)((he,ve)=>{var Ke;null===(Ke=Fe.subscribe)||void 0===Ke||Ke.call(Fe);let lt=!0;he.subscribe((0,ae.x)(ve,mt=>{var jt;null===(jt=Fe.next)||void 0===jt||jt.call(Fe,mt),ve.next(mt)},()=>{var mt;lt=!1,null===(mt=Fe.complete)||void 0===mt||mt.call(Fe),ve.complete()},mt=>{var jt;lt=!1,null===(jt=Fe.error)||void 0===jt||jt.call(Fe,mt),ve.error(mt)},()=>{var mt,jt;lt&&(null===(mt=Fe.unsubscribe)||void 0===mt||mt.call(Fe)),null===(jt=Fe.finalize)||void 0===jt||jt.call(Fe)}))}):Te.y}},3026:(pn,st,V)=>{V.d(st,{T:()=>Te});var d=V(6973),H=V(9360),ae=V(8251);function Te(ke=b){return(0,H.e)((Ve,Ae)=>{let Fe=!1;Ve.subscribe((0,ae.x)(Ae,he=>{Fe=!0,Ae.next(he)},()=>Fe?Ae.complete():Ae.error(ke())))})}function b(){return new d.K}},1954:(pn,st,V)=>{V.d(st,{o:()=>b});var d=V(7394);class H extends d.w0{constructor(Ve,Ae){super()}schedule(Ve,Ae=0){return this}}const ae={setInterval(ke,Ve,...Ae){const{delegate:Fe}=ae;return Fe?.setInterval?Fe.setInterval(ke,Ve,...Ae):setInterval(ke,Ve,...Ae)},clearInterval(ke){const{delegate:Ve}=ae;return(Ve?.clearInterval||clearInterval)(ke)},delegate:void 0};var Te=V(9039);class b extends H{constructor(Ve,Ae){super(Ve,Ae),this.scheduler=Ve,this.work=Ae,this.pending=!1}schedule(Ve,Ae=0){var Fe;if(this.closed)return this;this.state=Ve;const he=this.id,ve=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ve,he,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(Fe=this.id)&&void 0!==Fe?Fe:this.requestAsyncId(ve,this.id,Ae),this}requestAsyncId(Ve,Ae,Fe=0){return ae.setInterval(Ve.flush.bind(Ve,this),Fe)}recycleAsyncId(Ve,Ae,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Ae;null!=Ae&&ae.clearInterval(Ae)}execute(Ve,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Ve,Ae);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,Ae){let he,Fe=!1;try{this.work(Ve)}catch(ve){Fe=!0,he=ve||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:Ae}=this,{actions:Fe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(Fe,this),null!=Ve&&(this.id=this.recycleAsyncId(Ae,Ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(pn,st,V)=>{V.d(st,{v:()=>ae});var d=V(4552);class H{constructor(b,ke=H.now){this.schedulerActionCtor=b,this.now=ke}schedule(b,ke=0,Ve){return new this.schedulerActionCtor(this,b).schedule(Ve,ke)}}H.now=d.l.now;class ae extends H{constructor(b,ke=H.now){super(b,ke),this.actions=[],this._active=!1}flush(b){const{actions:ke}=this;if(this._active)return void ke.push(b);let Ve;this._active=!0;do{if(Ve=b.execute(b.state,b.delay))break}while(b=ke.shift());if(this._active=!1,Ve){for(;b=ke.shift();)b.unsubscribe();throw Ve}}}},6321:(pn,st,V)=>{V.d(st,{P:()=>Te,z:()=>ae});var d=V(1954);const ae=new(V(2631).v)(d.o),Te=ae},4552:(pn,st,V)=>{V.d(st,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(pn,st,V)=>{V.d(st,{z:()=>d});const d={setTimeout(H,ae,...Te){const{delegate:b}=d;return b?.setTimeout?b.setTimeout(H,ae,...Te):setTimeout(H,ae,...Te)},clearTimeout(H){const{delegate:ae}=d;return(ae?.clearTimeout||clearTimeout)(H)},delegate:void 0}},4971:(pn,st,V)=>{V.d(st,{h:()=>H});const H=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pn,st,V)=>{V.d(st,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(pn,st,V)=>{V.d(st,{K:()=>H});const H=(0,V(2306).d)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(pn,st,V)=>{V.d(st,{_6:()=>ke,jO:()=>Te,yG:()=>b});var d=V(4674),H=V(671);function ae(Ve){return Ve[Ve.length-1]}function Te(Ve){return(0,d.m)(ae(Ve))?Ve.pop():void 0}function b(Ve){return(0,H.K)(ae(Ve))?Ve.pop():void 0}function ke(Ve,Ae){return"number"==typeof ae(Ve)?Ve.pop():Ae}},7453:(pn,st,V)=>{V.d(st,{D:()=>b});const{isArray:d}=Array,{getPrototypeOf:H,prototype:ae,keys:Te}=Object;function b(Ve){if(1===Ve.length){const Ae=Ve[0];if(d(Ae))return{args:Ae,keys:null};if(function ke(Ve){return Ve&&"object"==typeof Ve&&H(Ve)===ae}(Ae)){const Fe=Te(Ae);return{args:Fe.map(he=>Ae[he]),keys:Fe}}}return{args:Ve,keys:null}}},9039:(pn,st,V)=>{function d(H,ae){if(H){const Te=H.indexOf(ae);0<=Te&&H.splice(Te,1)}}V.d(st,{P:()=>d})},2306:(pn,st,V)=>{function d(H){const Te=H(b=>{Error.call(b),b.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}V.d(st,{d:()=>d})},2714:(pn,st,V)=>{function d(H,ae){return H.reduce((Te,b,ke)=>(Te[b]=ae[ke],Te),{})}V.d(st,{n:()=>d})},1441:(pn,st,V)=>{V.d(st,{O:()=>Te,x:()=>ae});var d=V(2653);let H=null;function ae(b){if(d.config.useDeprecatedSynchronousErrorHandling){const ke=!H;if(ke&&(H={errorThrown:!1,error:null}),b(),ke){const{errorThrown:Ve,error:Ae}=H;if(H=null,Ve)throw Ae}}else b()}function Te(b){d.config.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=b)}},7103:(pn,st,V)=>{function d(H,ae,Te,b=0,ke=!1){const Ve=ae.schedule(function(){Te(),ke?H.add(this.schedule(null,b)):this.unsubscribe()},b);if(H.add(Ve),!ke)return Ve}V.d(st,{f:()=>d})},2737:(pn,st,V)=>{function d(H){return H}V.d(st,{y:()=>d})},4266:(pn,st,V)=>{V.d(st,{z:()=>d});const d=H=>H&&"number"==typeof H.length&&"function"!=typeof H},5726:(pn,st,V)=>{V.d(st,{D:()=>H});var d=V(4674);function H(ae){return Symbol.asyncIterator&&(0,d.m)(ae?.[Symbol.asyncIterator])}},4674:(pn,st,V)=>{function d(H){return"function"==typeof H}V.d(st,{m:()=>d})},8382:(pn,st,V)=>{V.d(st,{c:()=>ae});var d=V(4850),H=V(4674);function ae(Te){return(0,H.m)(Te[d.L])}},3664:(pn,st,V)=>{V.d(st,{T:()=>ae});var d=V(4971),H=V(4674);function ae(Te){return(0,H.m)(Te?.[d.h])}},4026:(pn,st,V)=>{V.d(st,{t:()=>H});var d=V(4674);function H(ae){return(0,d.m)(ae?.then)}},541:(pn,st,V)=>{V.d(st,{L:()=>Te,Q:()=>ae});var d=V(7582),H=V(4674);function ae(b){return(0,d.FC)(this,arguments,function*(){const Ve=b.getReader();try{for(;;){const{value:Ae,done:Fe}=yield(0,d.qq)(Ve.read());if(Fe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ae)}}finally{Ve.releaseLock()}})}function Te(b){return(0,H.m)(b?.getReader)}},671:(pn,st,V)=>{V.d(st,{K:()=>H});var d=V(4674);function H(ae){return ae&&(0,d.m)(ae.schedule)}},9360:(pn,st,V)=>{V.d(st,{A:()=>H,e:()=>ae});var d=V(4674);function H(Te){return(0,d.m)(Te?.lift)}function ae(Te){return b=>{if(H(b))return b.lift(function(ke){try{return Te(ke,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(pn,st,V)=>{V.d(st,{Z:()=>Te});var d=V(7398);const{isArray:H}=Array;function Te(b){return(0,d.U)(ke=>function ae(b,ke){return H(ke)?b(...ke):b(ke)}(b,ke))}},2420:(pn,st,V)=>{function d(){}V.d(st,{Z:()=>d})},8407:(pn,st,V)=>{V.d(st,{U:()=>ae,z:()=>H});var d=V(2737);function H(...Te){return ae(Te)}function ae(Te){return 0===Te.length?d.y:1===Te.length?Te[0]:function(ke){return Te.reduce((Ve,Ae)=>Ae(Ve),ke)}}},3894:(pn,st,V)=>{V.d(st,{h:()=>ae});var d=V(2653),H=V(7599);function ae(Te){H.z.setTimeout(()=>{const{onUnhandledError:b}=d.config;if(!b)throw Te;b(Te)})}},9853:(pn,st,V)=>{function d(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(st,{z:()=>d})},6825:(pn,st,V)=>{V.d(st,{IO:()=>jt,LC:()=>H,SB:()=>Fe,X$:()=>Te,ZE:()=>Rt,ZN:()=>St,_j:()=>d,eR:()=>ve,jt:()=>b,k1:()=>Zt,l3:()=>ae,oB:()=>Ae,pV:()=>lt,ru:()=>ke,vP:()=>Ve});class d{}class H{}const ae="*";function Te(Ut,Re){return{type:7,name:Ut,definitions:Re,options:{}}}function b(Ut,Re=null){return{type:4,styles:Re,timings:Ut}}function ke(Ut,Re=null){return{type:3,steps:Ut,options:Re}}function Ve(Ut,Re=null){return{type:2,steps:Ut,options:Re}}function Ae(Ut){return{type:6,styles:Ut,offset:null}}function Fe(Ut,Re,Qe){return{type:0,name:Ut,styles:Re,options:Qe}}function ve(Ut,Re,Qe=null){return{type:1,expr:Ut,animation:Re,options:Qe}}function lt(Ut=null){return{type:9,options:Ut}}function jt(Ut,Re,Qe=null){return{type:11,selector:Ut,animation:Re,options:Qe}}class St{constructor(Re=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._originalOnStartFns.push(Re),this._onStartFns.push(Re)}onDone(Re){this._originalOnDoneFns.push(Re),this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const Qe="start"==Re?this._onStartFns:this._onDoneFns;Qe.forEach(je=>je()),Qe.length=0}}class Rt{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let Qe=0,je=0,Je=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(et=>{et.onDone(()=>{++Qe==Pt&&this._onFinish()}),et.onDestroy(()=>{++je==Pt&&this._onDestroy()}),et.onStart(()=>{++Je==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((et,Ft)=>Math.max(et,Ft.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const Qe=Re*this.totalTime;this.players.forEach(je=>{const Je=je.totalTime?Math.min(1,Qe/je.totalTime):1;je.setPosition(Je)})}getPosition(){const Re=this.players.reduce((Qe,je)=>null===Qe||je.totalTime>Qe.totalTime?je:Qe,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const Qe="start"==Re?this._onStartFns:this._onDoneFns;Qe.forEach(je=>je()),Qe.length=0}}const Zt="!"},4300:(pn,st,V)=>{V.d(st,{Kd:()=>fr,X6:()=>br,ic:()=>cn,qV:()=>Xn,qm:()=>Mi,rt:()=>wr,tE:()=>vr,yG:()=>zr});var d=V(6814),H=V(5879),ae=V(2831),Te=V(5619),b=V(8645),ke=V(2096),Ve=V(6028),Ae=V(8180),Fe=V(836),he=V(3997),ve=V(9773),Ke=V(2495),lt=V(7131),mt=V(719);let cn=(()=>{var Et;class Ye{constructor(Xe){this._platform=Xe}isDisabled(Xe){return Xe.hasAttribute("disabled")}isVisible(Xe){return function ei(Et){return!!(Et.offsetWidth||Et.offsetHeight||"function"==typeof Et.getClientRects&&Et.getClientRects().length)}(Xe)&&"visible"===getComputedStyle(Xe).visibility}isTabbable(Xe){if(!this._platform.isBrowser)return!1;const ht=function or(Et){try{return Et.frameElement}catch{return null}}(function Ht(Et){return Et.ownerDocument&&Et.ownerDocument.defaultView||window}(Xe));if(ht&&(-1===yt(ht)||!this.isVisible(ht)))return!1;let Bt=Xe.nodeName.toLowerCase(),gn=yt(Xe);return Xe.hasAttribute("contenteditable")?-1!==gn:!("iframe"===Bt||"object"===Bt||this._platform.WEBKIT&&this._platform.IOS&&!function Mt(Et){let Ye=Et.nodeName.toLowerCase(),Tt="input"===Ye&&Et.type;return"text"===Tt||"password"===Tt||"select"===Ye||"textarea"===Ye}(Xe))&&("audio"===Bt?!!Xe.hasAttribute("controls")&&-1!==gn:"video"===Bt?-1!==gn&&(null!==gn||this._platform.FIREFOX||Xe.hasAttribute("controls")):Xe.tabIndex>=0)}isFocusable(Xe,ht){return function ut(Et){return!function Ur(Et){return function _t(Et){return"input"==Et.nodeName.toLowerCase()}(Et)&&"hidden"==Et.type}(Et)&&(function gr(Et){let Ye=Et.nodeName.toLowerCase();return"input"===Ye||"select"===Ye||"button"===Ye||"textarea"===Ye}(Et)||function zn(Et){return function Ct(Et){return"a"==Et.nodeName.toLowerCase()}(Et)&&Et.hasAttribute("href")}(Et)||Et.hasAttribute("contenteditable")||ct(Et))}(Xe)&&!this.isDisabled(Xe)&&(ht?.ignoreVisibility||this.isVisible(Xe))}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(ae.t4))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})();function ct(Et){if(!Et.hasAttribute("tabindex")||void 0===Et.tabIndex)return!1;let Ye=Et.getAttribute("tabindex");return!(!Ye||isNaN(parseInt(Ye,10)))}function yt(Et){if(!ct(Et))return null;const Ye=parseInt(Et.getAttribute("tabindex")||"",10);return isNaN(Ye)?-1:Ye}class At{get enabled(){return this._enabled}set enabled(Ye){this._enabled=Ye,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ye,this._startAnchor),this._toggleAnchorTabIndex(Ye,this._endAnchor))}constructor(Ye,Tt,Xe,ht,Bt=!1){this._element=Ye,this._checker=Tt,this._ngZone=Xe,this._document=ht,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Bt||this.attachAnchors()}destroy(){const Ye=this._startAnchor,Tt=this._endAnchor;Ye&&(Ye.removeEventListener("focus",this.startAnchorListener),Ye.remove()),Tt&&(Tt.removeEventListener("focus",this.endAnchorListener),Tt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ye){return new Promise(Tt=>{this._executeOnStable(()=>Tt(this.focusInitialElement(Ye)))})}focusFirstTabbableElementWhenReady(Ye){return new Promise(Tt=>{this._executeOnStable(()=>Tt(this.focusFirstTabbableElement(Ye)))})}focusLastTabbableElementWhenReady(Ye){return new Promise(Tt=>{this._executeOnStable(()=>Tt(this.focusLastTabbableElement(Ye)))})}_getRegionBoundary(Ye){const Tt=this._element.querySelectorAll(`[cdk-focus-region-${Ye}], [cdkFocusRegion${Ye}], [cdk-focus-${Ye}]`);return"start"==Ye?Tt.length?Tt[0]:this._getFirstTabbableElement(this._element):Tt.length?Tt[Tt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ye){const Tt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Tt){if(!this._checker.isFocusable(Tt)){const Xe=this._getFirstTabbableElement(Tt);return Xe?.focus(Ye),!!Xe}return Tt.focus(Ye),!0}return this.focusFirstTabbableElement(Ye)}focusFirstTabbableElement(Ye){const Tt=this._getRegionBoundary("start");return Tt&&Tt.focus(Ye),!!Tt}focusLastTabbableElement(Ye){const Tt=this._getRegionBoundary("end");return Tt&&Tt.focus(Ye),!!Tt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ye){if(this._checker.isFocusable(Ye)&&this._checker.isTabbable(Ye))return Ye;const Tt=Ye.children;for(let Xe=0;Xe<Tt.length;Xe++){const ht=Tt[Xe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Tt[Xe]):null;if(ht)return ht}return null}_getLastTabbableElement(Ye){if(this._checker.isFocusable(Ye)&&this._checker.isTabbable(Ye))return Ye;const Tt=Ye.children;for(let Xe=Tt.length-1;Xe>=0;Xe--){const ht=Tt[Xe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Tt[Xe]):null;if(ht)return ht}return null}_createAnchor(){const Ye=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ye),Ye.classList.add("cdk-visually-hidden"),Ye.classList.add("cdk-focus-trap-anchor"),Ye.setAttribute("aria-hidden","true"),Ye}_toggleAnchorTabIndex(Ye,Tt){Ye?Tt.setAttribute("tabindex","0"):Tt.removeAttribute("tabindex")}toggleAnchors(Ye){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ye,this._startAnchor),this._toggleAnchorTabIndex(Ye,this._endAnchor))}_executeOnStable(Ye){this._ngZone.isStable?Ye():this._ngZone.onStable.pipe((0,Ae.q)(1)).subscribe(Ye)}}let Xn=(()=>{var Et;class Ye{constructor(Xe,ht,Bt){this._checker=Xe,this._ngZone=ht,this._document=Bt}create(Xe,ht=!1){return new At(Xe,this._checker,this._ngZone,this._document,ht)}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(cn),H.LFG(H.R0b),H.LFG(d.K0))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})();function br(Et){return 0===Et.buttons||0===Et.offsetX&&0===Et.offsetY}function zr(Et){const Ye=Et.touches&&Et.touches[0]||Et.changedTouches&&Et.changedTouches[0];return!(!Ye||-1!==Ye.identifier||null!=Ye.radiusX&&1!==Ye.radiusX||null!=Ye.radiusY&&1!==Ye.radiusY)}const ui=new H.OlP("cdk-input-modality-detector-options"),gi={ignoreKeys:[Ve.zL,Ve.jx,Ve.b2,Ve.MW,Ve.JU]},Kr=(0,ae.i$)({passive:!0,capture:!0});let fi=(()=>{var Et;class Ye{get mostRecentModality(){return this._modality.value}constructor(Xe,ht,Bt,gn){this._platform=Xe,this._mostRecentTarget=null,this._modality=new Te.X(null),this._lastTouchMs=0,this._onKeydown=Hn=>{this._options?.ignoreKeys?.some(pr=>pr===Hn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ae.sA)(Hn))},this._onMousedown=Hn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(br(Hn)?"keyboard":"mouse"),this._mostRecentTarget=(0,ae.sA)(Hn))},this._onTouchstart=Hn=>{zr(Hn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ae.sA)(Hn))},this._options={...gi,...gn},this.modalityDetected=this._modality.pipe((0,Fe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,he.x)()),Xe.isBrowser&&ht.runOutsideAngular(()=>{Bt.addEventListener("keydown",this._onKeydown,Kr),Bt.addEventListener("mousedown",this._onMousedown,Kr),Bt.addEventListener("touchstart",this._onTouchstart,Kr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kr),document.removeEventListener("mousedown",this._onMousedown,Kr),document.removeEventListener("touchstart",this._onTouchstart,Kr))}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(ae.t4),H.LFG(H.R0b),H.LFG(d.K0),H.LFG(ui,8))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})();const Ar=new H.OlP("liveAnnouncerElement",{providedIn:"root",factory:function kn(){return null}}),$n=new H.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Yn=0,fr=(()=>{var Et;class Ye{constructor(Xe,ht,Bt,gn){this._ngZone=ht,this._defaultOptions=gn,this._document=Bt,this._liveElement=Xe||this._createLiveElement()}announce(Xe,...ht){const Bt=this._defaultOptions;let gn,Hn;return 1===ht.length&&"number"==typeof ht[0]?Hn=ht[0]:[gn,Hn]=ht,this.clear(),clearTimeout(this._previousTimeout),gn||(gn=Bt&&Bt.politeness?Bt.politeness:"polite"),null==Hn&&Bt&&(Hn=Bt.duration),this._liveElement.setAttribute("aria-live",gn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(pr=>this._currentResolve=pr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Xe,"number"==typeof Hn&&(this._previousTimeout=setTimeout(()=>this.clear(),Hn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Xe="cdk-live-announcer-element",ht=this._document.getElementsByClassName(Xe),Bt=this._document.createElement("div");for(let gn=0;gn<ht.length;gn++)ht[gn].remove();return Bt.classList.add(Xe),Bt.classList.add("cdk-visually-hidden"),Bt.setAttribute("aria-atomic","true"),Bt.setAttribute("aria-live","polite"),Bt.id="cdk-live-announcer-"+Yn++,this._document.body.appendChild(Bt),Bt}_exposeAnnouncerToModals(Xe){const ht=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Bt=0;Bt<ht.length;Bt++){const gn=ht[Bt],Hn=gn.getAttribute("aria-owns");Hn?-1===Hn.indexOf(Xe)&&gn.setAttribute("aria-owns",Hn+" "+Xe):gn.setAttribute("aria-owns",Xe)}}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(Ar,8),H.LFG(H.R0b),H.LFG(d.K0),H.LFG($n,8))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})();const Zr=new H.OlP("cdk-focus-monitor-default-options"),Er=(0,ae.i$)({passive:!0,capture:!0});let vr=(()=>{var Et;class Ye{constructor(Xe,ht,Bt,gn,Hn){this._ngZone=Xe,this._platform=ht,this._inputModalityDetector=Bt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.x,this._rootNodeFocusAndBlurListener=pr=>{for(let be=(0,ae.sA)(pr);be;be=be.parentElement)"focus"===pr.type?this._onFocus(pr,be):this._onBlur(pr,be)},this._document=gn,this._detectionMode=Hn?.detectionMode||0}monitor(Xe,ht=!1){const Bt=(0,Ke.fI)(Xe);if(!this._platform.isBrowser||1!==Bt.nodeType)return(0,ke.of)();const gn=(0,ae.kV)(Bt)||this._getDocument(),Hn=this._elementInfo.get(Bt);if(Hn)return ht&&(Hn.checkChildren=!0),Hn.subject;const pr={checkChildren:ht,subject:new b.x,rootNode:gn};return this._elementInfo.set(Bt,pr),this._registerGlobalListeners(pr),pr.subject}stopMonitoring(Xe){const ht=(0,Ke.fI)(Xe),Bt=this._elementInfo.get(ht);Bt&&(Bt.subject.complete(),this._setClasses(ht),this._elementInfo.delete(ht),this._removeGlobalListeners(Bt))}focusVia(Xe,ht,Bt){const gn=(0,Ke.fI)(Xe);gn===this._getDocument().activeElement?this._getClosestElementsInfo(gn).forEach(([pr,_i])=>this._originChanged(pr,ht,_i)):(this._setOrigin(ht),"function"==typeof gn.focus&&gn.focus(Bt))}ngOnDestroy(){this._elementInfo.forEach((Xe,ht)=>this.stopMonitoring(ht))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Xe&&this._isLastInteractionFromInputLabel(Xe)?"mouse":"program"}_shouldBeAttributedToTouch(Xe){return 1===this._detectionMode||!!Xe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Xe,ht){Xe.classList.toggle("cdk-focused",!!ht),Xe.classList.toggle("cdk-touch-focused","touch"===ht),Xe.classList.toggle("cdk-keyboard-focused","keyboard"===ht),Xe.classList.toggle("cdk-mouse-focused","mouse"===ht),Xe.classList.toggle("cdk-program-focused","program"===ht)}_setOrigin(Xe,ht=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Xe,this._originFromTouchInteraction="touch"===Xe&&ht,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Xe,ht){const Bt=this._elementInfo.get(ht),gn=(0,ae.sA)(Xe);!Bt||!Bt.checkChildren&&ht!==gn||this._originChanged(ht,this._getFocusOrigin(gn),Bt)}_onBlur(Xe,ht){const Bt=this._elementInfo.get(ht);!Bt||Bt.checkChildren&&Xe.relatedTarget instanceof Node&&ht.contains(Xe.relatedTarget)||(this._setClasses(ht),this._emitOrigin(Bt,null))}_emitOrigin(Xe,ht){Xe.subject.observers.length&&this._ngZone.run(()=>Xe.subject.next(ht))}_registerGlobalListeners(Xe){if(!this._platform.isBrowser)return;const ht=Xe.rootNode,Bt=this._rootNodeFocusListenerCount.get(ht)||0;Bt||this._ngZone.runOutsideAngular(()=>{ht.addEventListener("focus",this._rootNodeFocusAndBlurListener,Er),ht.addEventListener("blur",this._rootNodeFocusAndBlurListener,Er)}),this._rootNodeFocusListenerCount.set(ht,Bt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ve.R)(this._stopInputModalityDetector)).subscribe(gn=>{this._setOrigin(gn,!0)}))}_removeGlobalListeners(Xe){const ht=Xe.rootNode;if(this._rootNodeFocusListenerCount.has(ht)){const Bt=this._rootNodeFocusListenerCount.get(ht);Bt>1?this._rootNodeFocusListenerCount.set(ht,Bt-1):(ht.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Er),ht.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Er),this._rootNodeFocusListenerCount.delete(ht))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Xe,ht,Bt){this._setClasses(Xe,ht),this._emitOrigin(Bt,ht),this._lastFocusOrigin=ht}_getClosestElementsInfo(Xe){const ht=[];return this._elementInfo.forEach((Bt,gn)=>{(gn===Xe||Bt.checkChildren&&gn.contains(Xe))&&ht.push([gn,Bt])}),ht}_isLastInteractionFromInputLabel(Xe){const{_mostRecentTarget:ht,mostRecentModality:Bt}=this._inputModalityDetector;if("mouse"!==Bt||!ht||ht===Xe||"INPUT"!==Xe.nodeName&&"TEXTAREA"!==Xe.nodeName||Xe.disabled)return!1;const gn=Xe.labels;if(gn)for(let Hn=0;Hn<gn.length;Hn++)if(gn[Hn].contains(ht))return!0;return!1}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(H.R0b),H.LFG(ae.t4),H.LFG(fi),H.LFG(d.K0,8),H.LFG(Zr,8))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})();const ar="cdk-high-contrast-black-on-white",Vi="cdk-high-contrast-white-on-black",Mr="cdk-high-contrast-active";let Mi=(()=>{var Et;class Ye{constructor(Xe,ht){this._platform=Xe,this._document=ht,this._breakpointSubscription=(0,H.f3M)(mt.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Xe=this._document.createElement("div");Xe.style.backgroundColor="rgb(1,2,3)",Xe.style.position="absolute",this._document.body.appendChild(Xe);const ht=this._document.defaultView||window,Bt=ht&&ht.getComputedStyle?ht.getComputedStyle(Xe):null,gn=(Bt&&Bt.backgroundColor||"").replace(/ /g,"");switch(Xe.remove(),gn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Xe=this._document.body.classList;Xe.remove(Mr,ar,Vi),this._hasCheckedHighContrastMode=!0;const ht=this.getHighContrastMode();1===ht?Xe.add(Mr,ar):2===ht&&Xe.add(Mr,Vi)}}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(ae.t4),H.LFG(d.K0))},Et.\u0275prov=H.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Ye})(),wr=(()=>{var Et;class Ye{constructor(Xe){Xe._applyBodyHighContrastModeCssClasses()}}return(Et=Ye).\u0275fac=function(Xe){return new(Xe||Et)(H.LFG(Mi))},Et.\u0275mod=H.oAB({type:Et}),Et.\u0275inj=H.cJS({imports:[lt.Q8]}),Ye})()},9388:(pn,st,V)=>{V.d(st,{Is:()=>Ve,vT:()=>Fe});var d=V(5879),H=V(6814);const ae=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function Te(){return(0,d.f3M)(H.K0)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ve=(()=>{var he;class ve{constructor(lt){this.value="ltr",this.change=new d.vpe,lt&&(this.value=function ke(he){const ve=he?.toLowerCase()||"";return"auto"===ve&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===ve?"rtl":"ltr"}((lt.body?lt.body.dir:null)||(lt.documentElement?lt.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(he=ve).\u0275fac=function(lt){return new(lt||he)(d.LFG(ae,8))},he.\u0275prov=d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),ve})(),Fe=(()=>{var he;class ve{}return(he=ve).\u0275fac=function(lt){return new(lt||he)},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({}),ve})()},2495:(pn,st,V)=>{V.d(st,{Eq:()=>b,HM:()=>ke,Ig:()=>H,fI:()=>Ve,su:()=>ae});var d=V(5879);function H(Fe){return null!=Fe&&"false"!=`${Fe}`}function ae(Fe,he=0){return function Te(Fe){return!isNaN(parseFloat(Fe))&&!isNaN(Number(Fe))}(Fe)?Number(Fe):he}function b(Fe){return Array.isArray(Fe)?Fe:[Fe]}function ke(Fe){return null==Fe?"":"string"==typeof Fe?Fe:`${Fe}px`}function Ve(Fe){return Fe instanceof d.SBq?Fe.nativeElement:Fe}},6028:(pn,st,V)=>{V.d(st,{JU:()=>ke,MW:()=>Er,Vb:()=>oe,b2:()=>nt,hY:()=>ve,jx:()=>Ve,zL:()=>Ae});const ke=16,Ve=17,Ae=18,ve=27,Er=91,nt=224;function oe(Pe,...$){return $.length?$.some(ce=>Pe[ce]):Pe.altKey||Pe.shiftKey||Pe.ctrlKey||Pe.metaKey}},719:(pn,st,V)=>{V.d(st,{Yg:()=>je,u3:()=>Pt});var d=V(5879),H=V(2495),ae=V(8645),Te=V(2572),b=V(5211),ke=V(5592),Ve=V(8180),Ae=V(836),Fe=V(6321),he=V(9360),ve=V(8251),lt=V(7398),mt=V(7921),jt=V(9773),kt=V(2831);const Rt=new Set;let Zt,Ut=(()=>{var et;class Ft{constructor(hn,cn){this._platform=hn,this._nonce=cn,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qe}matchMedia(hn){return(this._platform.WEBKIT||this._platform.BLINK)&&function Re(et,Ft){if(!Rt.has(et))try{Zt||(Zt=document.createElement("style"),Ft&&(Zt.nonce=Ft),Zt.setAttribute("type","text/css"),document.head.appendChild(Zt)),Zt.sheet&&(Zt.sheet.insertRule(`@media ${et} {body{ }}`,0),Rt.add(et))}catch(yn){console.error(yn)}}(hn,this._nonce),this._matchMedia(hn)}}return(et=Ft).\u0275fac=function(hn){return new(hn||et)(d.LFG(kt.t4),d.LFG(d.Ojb,8))},et.\u0275prov=d.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),Ft})();function Qe(et){return{matches:"all"===et||""===et,media:et,addListener:()=>{},removeListener:()=>{}}}let je=(()=>{var et;class Ft{constructor(hn,cn){this._mediaMatcher=hn,this._zone=cn,this._queries=new Map,this._destroySubject=new ae.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(hn){return Je((0,H.Eq)(hn)).some(or=>this._registerQuery(or).mql.matches)}observe(hn){const or=Je((0,H.Eq)(hn)).map(gr=>this._registerQuery(gr).observable);let ei=(0,Te.a)(or);return ei=(0,b.z)(ei.pipe((0,Ve.q)(1)),ei.pipe((0,Ae.T)(1),function Ke(et,Ft=Fe.z){return(0,he.e)((yn,hn)=>{let cn=null,or=null,ei=null;const gr=()=>{if(cn){cn.unsubscribe(),cn=null;const zn=or;or=null,hn.next(zn)}};function Ur(){const zn=ei+et,_t=Ft.now();if(_t<zn)return cn=this.schedule(void 0,zn-_t),void hn.add(cn);gr()}yn.subscribe((0,ve.x)(hn,zn=>{or=zn,ei=Ft.now(),cn||(cn=Ft.schedule(Ur,et),hn.add(cn))},()=>{gr(),hn.complete()},void 0,()=>{or=cn=null}))})}(0))),ei.pipe((0,lt.U)(gr=>{const Ur={matches:!1,breakpoints:{}};return gr.forEach(({matches:zn,query:_t})=>{Ur.matches=Ur.matches||zn,Ur.breakpoints[_t]=zn}),Ur}))}_registerQuery(hn){if(this._queries.has(hn))return this._queries.get(hn);const cn=this._mediaMatcher.matchMedia(hn),ei={observable:new ke.y(gr=>{const Ur=zn=>this._zone.run(()=>gr.next(zn));return cn.addListener(Ur),()=>{cn.removeListener(Ur)}}).pipe((0,mt.O)(cn),(0,lt.U)(({matches:gr})=>({query:hn,matches:gr})),(0,jt.R)(this._destroySubject)),mql:cn};return this._queries.set(hn,ei),ei}}return(et=Ft).\u0275fac=function(hn){return new(hn||et)(d.LFG(Ut),d.LFG(d.R0b))},et.\u0275prov=d.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),Ft})();function Je(et){return et.map(Ft=>Ft.split(",")).reduce((Ft,yn)=>Ft.concat(yn)).map(Ft=>Ft.trim())}const Pt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(pn,st,V)=>{V.d(st,{Q8:()=>b});var d=V(5879);let H=(()=>{var ke;class Ve{create(Fe){return typeof MutationObserver>"u"?null:new MutationObserver(Fe)}}return(ke=Ve).\u0275fac=function(Fe){return new(Fe||ke)},ke.\u0275prov=d.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),Ve})(),b=(()=>{var ke;class Ve{}return(ke=Ve).\u0275fac=function(Fe){return new(Fe||ke)},ke.\u0275mod=d.oAB({type:ke}),ke.\u0275inj=d.cJS({providers:[H]}),Ve})()},9451:(pn,st,V)=>{V.d(st,{aV:()=>Qr,X_:()=>F,Xj:()=>Ir,U8:()=>Ui,Iu:()=>Fi});var d=V(2495),H=V(5879),ae=V(8645),Te=V(2096),b=V(5592),ke=V(4829),Ve=V(1631),Ae=V(4266),Fe=V(4674),he=V(7400);const ve=["addListener","removeListener"],Ke=["addEventListener","removeEventListener"],lt=["on","off"];function mt(nt,oe,Pe,$){if((0,Fe.m)(Pe)&&($=Pe,Pe=void 0),$)return mt(nt,oe,Pe).pipe((0,he.Z)($));const[ce,Ee]=function Rt(nt){return(0,Fe.m)(nt.addEventListener)&&(0,Fe.m)(nt.removeEventListener)}(nt)?Ke.map(qe=>bt=>nt[qe](oe,bt,Pe)):function kt(nt){return(0,Fe.m)(nt.addListener)&&(0,Fe.m)(nt.removeListener)}(nt)?ve.map(jt(nt,oe)):function St(nt){return(0,Fe.m)(nt.on)&&(0,Fe.m)(nt.off)}(nt)?lt.map(jt(nt,oe)):[];if(!ce&&(0,Ae.z)(nt))return(0,Ve.z)(qe=>mt(qe,oe,Pe))((0,ke.Xf)(nt));if(!ce)throw new TypeError("Invalid event target");return new b.y(qe=>{const bt=(...xe)=>qe.next(1<xe.length?xe:xe[0]);return ce(bt),()=>Ee(bt)})}function jt(nt,oe){return Pe=>$=>nt[Pe](oe,$)}var Zt=V(1954),Ut=V(7394);const Re={schedule(nt){let oe=requestAnimationFrame,Pe=cancelAnimationFrame;const{delegate:$}=Re;$&&(oe=$.requestAnimationFrame,Pe=$.cancelAnimationFrame);const ce=oe(Ee=>{Pe=void 0,nt(Ee)});return new Ut.w0(()=>Pe?.(ce))},requestAnimationFrame(...nt){const{delegate:oe}=Re;return(oe?.requestAnimationFrame||requestAnimationFrame)(...nt)},cancelAnimationFrame(...nt){const{delegate:oe}=Re;return(oe?.cancelAnimationFrame||cancelAnimationFrame)(...nt)},delegate:void 0};var je=V(2631);new class Je extends je.v{flush(oe){this._active=!0;const Pe=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let ce;oe=oe||$.shift();do{if(ce=oe.execute(oe.state,oe.delay))break}while((oe=$[0])&&oe.id===Pe&&$.shift());if(this._active=!1,ce){for(;(oe=$[0])&&oe.id===Pe&&$.shift();)oe.unsubscribe();throw ce}}}(class Qe extends Zt.o{constructor(oe,Pe){super(oe,Pe),this.scheduler=oe,this.work=Pe}requestAsyncId(oe,Pe,$=0){return null!==$&&$>0?super.requestAsyncId(oe,Pe,$):(oe.actions.push(this),oe._scheduled||(oe._scheduled=Re.requestAnimationFrame(()=>oe.flush(void 0))))}recycleAsyncId(oe,Pe,$=0){var ce;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(oe,Pe,$);const{actions:Ee}=oe;null!=Pe&&(null===(ce=Ee[Ee.length-1])||void 0===ce?void 0:ce.id)!==Pe&&(Re.cancelAnimationFrame(Pe),oe._scheduled=void 0)}});let yn,Ft=1;const hn={};function cn(nt){return nt in hn&&(delete hn[nt],!0)}const or={setImmediate(nt){const oe=Ft++;return hn[oe]=!0,yn||(yn=Promise.resolve()),yn.then(()=>cn(oe)&&nt()),oe},clearImmediate(nt){cn(nt)}},{setImmediate:gr,clearImmediate:Ur}=or,zn={setImmediate(...nt){const{delegate:oe}=zn;return(oe?.setImmediate||gr)(...nt)},clearImmediate(nt){const{delegate:oe}=zn;return(oe?.clearImmediate||Ur)(nt)},delegate:void 0};new class Ct extends je.v{flush(oe){this._active=!0;const Pe=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let ce;oe=oe||$.shift();do{if(ce=oe.execute(oe.state,oe.delay))break}while((oe=$[0])&&oe.id===Pe&&$.shift());if(this._active=!1,ce){for(;(oe=$[0])&&oe.id===Pe&&$.shift();)oe.unsubscribe();throw ce}}}(class _t extends Zt.o{constructor(oe,Pe){super(oe,Pe),this.scheduler=oe,this.work=Pe}requestAsyncId(oe,Pe,$=0){return null!==$&&$>0?super.requestAsyncId(oe,Pe,$):(oe.actions.push(this),oe._scheduled||(oe._scheduled=zn.setImmediate(oe.flush.bind(oe,void 0))))}recycleAsyncId(oe,Pe,$=0){var ce;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(oe,Pe,$);const{actions:Ee}=oe;null!=Pe&&(null===(ce=Ee[Ee.length-1])||void 0===ce?void 0:ce.id)!==Pe&&(zn.clearImmediate(Pe),oe._scheduled===Pe&&(oe._scheduled=void 0))}});var Mt=V(6321),ut=V(9360),Ht=V(8251),Xn=V(671);function Un(nt,oe=Mt.z){return function At(nt){return(0,ut.e)((oe,Pe)=>{let $=!1,ce=null,Ee=null,qe=!1;const bt=()=>{if(Ee?.unsubscribe(),Ee=null,$){$=!1;const ge=ce;ce=null,Pe.next(ge)}qe&&Pe.complete()},xe=()=>{Ee=null,qe&&Pe.complete()};oe.subscribe((0,Ht.x)(Pe,ge=>{$=!0,ce=ge,Ee||(0,ke.Xf)(nt(ge)).subscribe(Ee=(0,Ht.x)(Pe,bt,xe))},()=>{qe=!0,(!$||!Ee||Ee.closed)&&Pe.complete()}))})}(()=>function jn(nt=0,oe,Pe=Mt.P){let $=-1;return null!=oe&&((0,Xn.K)(oe)?Pe=oe:$=oe),new b.y(ce=>{let Ee=function Mn(nt){return nt instanceof Date&&!isNaN(nt)}(nt)?+nt-Pe.now():nt;Ee<0&&(Ee=0);let qe=0;return Pe.schedule(function(){ce.closed||(ce.next(qe++),0<=$?this.schedule(void 0,$):ce.complete())},Ee)})}(nt,oe))}var Zn=V(2181),Fn=V(2831),kr=V(6814),br=V(9388);let kn=(()=>{var nt;class oe{constructor($,ce,Ee){this._ngZone=$,this._platform=ce,this._scrolled=new ae.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ee}register($){this.scrollContainers.has($)||this.scrollContainers.set($,$.elementScrolled().subscribe(()=>this._scrolled.next($)))}deregister($){const ce=this.scrollContainers.get($);ce&&(ce.unsubscribe(),this.scrollContainers.delete($))}scrolled($=20){return this._platform.isBrowser?new b.y(ce=>{this._globalSubscription||this._addGlobalListener();const Ee=$>0?this._scrolled.pipe(Un($)).subscribe(ce):this._scrolled.subscribe(ce);return this._scrolledCount++,()=>{Ee.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Te.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach(($,ce)=>this.deregister(ce)),this._scrolled.complete()}ancestorScrolled($,ce){const Ee=this.getAncestorScrollContainers($);return this.scrolled(ce).pipe((0,Zn.h)(qe=>!qe||Ee.indexOf(qe)>-1))}getAncestorScrollContainers($){const ce=[];return this.scrollContainers.forEach((Ee,qe)=>{this._scrollableContainsElement(qe,$)&&ce.push(qe)}),ce}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement($,ce){let Ee=(0,d.fI)(ce),qe=$.getElementRef().nativeElement;do{if(Ee==qe)return!0}while(Ee=Ee.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(H.R0b),H.LFG(Fn.t4),H.LFG(kr.K0,8))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),fr=(()=>{var nt;class oe{constructor($,ce,Ee){this._platform=$,this._change=new ae.x,this._changeListener=qe=>{this._change.next(qe)},this._document=Ee,ce.runOutsideAngular(()=>{if($.isBrowser){const qe=this._getWindow();qe.addEventListener("resize",this._changeListener),qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const $=this._getWindow();$.removeEventListener("resize",this._changeListener),$.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const $={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),$}getViewportRect(){const $=this.getViewportScrollPosition(),{width:ce,height:Ee}=this.getViewportSize();return{top:$.top,left:$.left,bottom:$.top+Ee,right:$.left+ce,height:Ee,width:ce}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const $=this._document,ce=this._getWindow(),Ee=$.documentElement,qe=Ee.getBoundingClientRect();return{top:-qe.top||$.body.scrollTop||ce.scrollY||Ee.scrollTop||0,left:-qe.left||$.body.scrollLeft||ce.scrollX||Ee.scrollLeft||0}}change($=20){return $>0?this._change.pipe(Un($)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const $=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:$.innerWidth,height:$.innerHeight}:{width:0,height:0}}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(Fn.t4),H.LFG(H.R0b),H.LFG(kr.K0,8))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),wr=(()=>{var nt;class oe{}return(nt=oe).\u0275fac=function($){return new($||nt)},nt.\u0275mod=H.oAB({type:nt}),nt.\u0275inj=H.cJS({}),oe})(),Et=(()=>{var nt;class oe{}return(nt=oe).\u0275fac=function($){return new($||nt)},nt.\u0275mod=H.oAB({type:nt}),nt.\u0275inj=H.cJS({imports:[br.vT,wr,br.vT,wr]}),oe})();var Ye=V(8180),Tt=V(9773),Xe=V(8484),ht=V(3019);const Bt=(0,Fn.Mq)();class gn{constructor(oe,Pe){this._viewportRuler=oe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Pe}attach(){}enable(){if(this._canBeEnabled()){const oe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=oe.style.left||"",this._previousHTMLStyles.top=oe.style.top||"",oe.style.left=(0,d.HM)(-this._previousScrollPosition.left),oe.style.top=(0,d.HM)(-this._previousScrollPosition.top),oe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const oe=this._document.documentElement,$=oe.style,ce=this._document.body.style,Ee=$.scrollBehavior||"",qe=ce.scrollBehavior||"";this._isEnabled=!1,$.left=this._previousHTMLStyles.left,$.top=this._previousHTMLStyles.top,oe.classList.remove("cdk-global-scrollblock"),Bt&&($.scrollBehavior=ce.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Bt&&($.scrollBehavior=Ee,ce.scrollBehavior=qe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Pe=this._document.body,$=this._viewportRuler.getViewportSize();return Pe.scrollHeight>$.height||Pe.scrollWidth>$.width}}class pr{constructor(oe,Pe,$,ce){this._scrollDispatcher=oe,this._ngZone=Pe,this._viewportRuler=$,this._config=ce,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(oe){this._overlayRef=oe}enable(){if(this._scrollSubscription)return;const oe=this._scrollDispatcher.scrolled(0).pipe((0,Zn.h)(Pe=>!Pe||!this._overlayRef.overlayElement.contains(Pe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=oe.subscribe(()=>{const Pe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Pe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=oe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _i{enable(){}disable(){}attach(){}}function be(nt,oe){return oe.some(Pe=>nt.bottom<Pe.top||nt.top>Pe.bottom||nt.right<Pe.left||nt.left>Pe.right)}function G(nt,oe){return oe.some(Pe=>nt.top<Pe.top||nt.bottom>Pe.bottom||nt.left<Pe.left||nt.right>Pe.right)}class k{constructor(oe,Pe,$,ce){this._scrollDispatcher=oe,this._viewportRuler=Pe,this._ngZone=$,this._config=ce,this._scrollSubscription=null}attach(oe){this._overlayRef=oe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Pe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:$,height:ce}=this._viewportRuler.getViewportSize();be(Pe,[{width:$,height:ce,bottom:ce,right:$,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let L=(()=>{var nt;class oe{constructor($,ce,Ee,qe){this._scrollDispatcher=$,this._viewportRuler=ce,this._ngZone=Ee,this.noop=()=>new _i,this.close=bt=>new pr(this._scrollDispatcher,this._ngZone,this._viewportRuler,bt),this.block=()=>new gn(this._viewportRuler,this._document),this.reposition=bt=>new k(this._scrollDispatcher,this._viewportRuler,this._ngZone,bt),this._document=qe}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(kn),H.LFG(fr),H.LFG(H.R0b),H.LFG(kr.K0))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})();class F{constructor(oe){if(this.scrollStrategy=new _i,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,oe){const Pe=Object.keys(oe);for(const $ of Pe)void 0!==oe[$]&&(this[$]=oe[$])}}}class vt{constructor(oe,Pe){this.connectionPair=oe,this.scrollableViewProperties=Pe}}let Sn=(()=>{var nt;class oe{constructor($){this._attachedOverlays=[],this._document=$}ngOnDestroy(){this.detach()}add($){this.remove($),this._attachedOverlays.push($)}remove($){const ce=this._attachedOverlays.indexOf($);ce>-1&&this._attachedOverlays.splice(ce,1),0===this._attachedOverlays.length&&this.detach()}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(kr.K0))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),In=(()=>{var nt;class oe extends Sn{constructor($,ce){super($),this._ngZone=ce,this._keydownListener=Ee=>{const qe=this._attachedOverlays;for(let bt=qe.length-1;bt>-1;bt--)if(qe[bt]._keydownEvents.observers.length>0){const xe=qe[bt]._keydownEvents;this._ngZone?this._ngZone.run(()=>xe.next(Ee)):xe.next(Ee);break}}}add($){super.add($),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(kr.K0),H.LFG(H.R0b,8))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),rr=(()=>{var nt;class oe extends Sn{constructor($,ce,Ee){super($),this._platform=ce,this._ngZone=Ee,this._cursorStyleIsSet=!1,this._pointerDownListener=qe=>{this._pointerDownEventTarget=(0,Fn.sA)(qe)},this._clickListener=qe=>{const bt=(0,Fn.sA)(qe),xe="click"===qe.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:bt;this._pointerDownEventTarget=null;const ge=this._attachedOverlays.slice();for(let $e=ge.length-1;$e>-1;$e--){const De=ge[$e];if(De._outsidePointerEvents.observers.length<1||!De.hasAttached())continue;if(De.overlayElement.contains(bt)||De.overlayElement.contains(xe))break;const Ge=De._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ge.next(qe)):Ge.next(qe)}}}add($){if(super.add($),!this._isAttached){const ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ce)):this._addEventListeners(ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ce.style.cursor,ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const $=this._document.body;$.removeEventListener("pointerdown",this._pointerDownListener,!0),$.removeEventListener("click",this._clickListener,!0),$.removeEventListener("auxclick",this._clickListener,!0),$.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&($.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners($){$.addEventListener("pointerdown",this._pointerDownListener,!0),$.addEventListener("click",this._clickListener,!0),$.addEventListener("auxclick",this._clickListener,!0),$.addEventListener("contextmenu",this._clickListener,!0)}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(kr.K0),H.LFG(Fn.t4),H.LFG(H.R0b,8))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),Ir=(()=>{var nt;class oe{constructor($,ce){this._platform=ce,this._document=$}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const $="cdk-overlay-container";if(this._platform.isBrowser||(0,Fn.Oy)()){const Ee=this._document.querySelectorAll(`.${$}[platform="server"], .${$}[platform="test"]`);for(let qe=0;qe<Ee.length;qe++)Ee[qe].remove()}const ce=this._document.createElement("div");ce.classList.add($),(0,Fn.Oy)()?ce.setAttribute("platform","test"):this._platform.isBrowser||ce.setAttribute("platform","server"),this._document.body.appendChild(ce),this._containerElement=ce}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(kr.K0),H.LFG(Fn.t4))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})();class Fi{constructor(oe,Pe,$,ce,Ee,qe,bt,xe,ge,$e=!1){this._portalOutlet=oe,this._host=Pe,this._pane=$,this._config=ce,this._ngZone=Ee,this._keyboardDispatcher=qe,this._document=bt,this._location=xe,this._outsideClickDispatcher=ge,this._animationsDisabled=$e,this._backdropElement=null,this._backdropClick=new ae.x,this._attachments=new ae.x,this._detachments=new ae.x,this._locationChanges=Ut.w0.EMPTY,this._backdropClickHandler=De=>this._backdropClick.next(De),this._backdropTransitionendHandler=De=>{this._disposeBackdrop(De.target)},this._keydownEvents=new ae.x,this._outsidePointerEvents=new ae.x,ce.scrollStrategy&&(this._scrollStrategy=ce.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ce.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(oe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Pe=this._portalOutlet.attach(oe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ye.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Pe?.onDestroy&&Pe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Pe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const oe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),oe}dispose(){const oe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,oe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(oe){oe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=oe,this.hasAttached()&&(oe.attach(this),this.updatePosition()))}updateSize(oe){this._config={...this._config,...oe},this._updateElementSize()}setDirection(oe){this._config={...this._config,direction:oe},this._updateElementDirection()}addPanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!0)}removePanelClass(oe){this._pane&&this._toggleClasses(this._pane,oe,!1)}getDirection(){const oe=this._config.direction;return oe?"string"==typeof oe?oe:oe.value:"ltr"}updateScrollStrategy(oe){oe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=oe,this.hasAttached()&&(oe.attach(this),oe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const oe=this._pane.style;oe.width=(0,d.HM)(this._config.width),oe.height=(0,d.HM)(this._config.height),oe.minWidth=(0,d.HM)(this._config.minWidth),oe.minHeight=(0,d.HM)(this._config.minHeight),oe.maxWidth=(0,d.HM)(this._config.maxWidth),oe.maxHeight=(0,d.HM)(this._config.maxHeight)}_togglePointerEvents(oe){this._pane.style.pointerEvents=oe?"":"none"}_attachBackdrop(){const oe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(oe)})}):this._backdropElement.classList.add(oe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const oe=this._backdropElement;if(oe){if(this._animationsDisabled)return void this._disposeBackdrop(oe);oe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{oe.addEventListener("transitionend",this._backdropTransitionendHandler)}),oe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(oe)},500))}}_toggleClasses(oe,Pe,$){const ce=(0,d.Eq)(Pe||[]).filter(Ee=>!!Ee);ce.length&&($?oe.classList.add(...ce):oe.classList.remove(...ce))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const oe=this._ngZone.onStable.pipe((0,Tt.R)((0,ht.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),oe.unsubscribe())})})}_disposeScrollStrategy(){const oe=this._scrollStrategy;oe&&(oe.disable(),oe.detach&&oe.detach())}_disposeBackdrop(oe){oe&&(oe.removeEventListener("click",this._backdropClickHandler),oe.removeEventListener("transitionend",this._backdropTransitionendHandler),oe.remove(),this._backdropElement===oe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const pi="cdk-overlay-connected-position-bounding-box",Dt=/([A-Za-z%]+)$/;class gt{get positions(){return this._preferredPositions}constructor(oe,Pe,$,ce,Ee){this._viewportRuler=Pe,this._document=$,this._platform=ce,this._overlayContainer=Ee,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ae.x,this._resizeSubscription=Ut.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(oe)}attach(oe){this._validatePositions(),oe.hostElement.classList.add(pi),this._overlayRef=oe,this._boundingBox=oe.hostElement,this._pane=oe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const oe=this._originRect,Pe=this._overlayRect,$=this._viewportRect,ce=this._containerRect,Ee=[];let qe;for(let bt of this._preferredPositions){let xe=this._getOriginPoint(oe,ce,bt),ge=this._getOverlayPoint(xe,Pe,bt),$e=this._getOverlayFit(ge,Pe,$,bt);if($e.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(bt,xe);this._canFitWithFlexibleDimensions($e,ge,$)?Ee.push({position:bt,origin:xe,overlayRect:Pe,boundingBoxRect:this._calculateBoundingBoxRect(xe,bt)}):(!qe||qe.overlayFit.visibleArea<$e.visibleArea)&&(qe={overlayFit:$e,overlayPoint:ge,originPoint:xe,position:bt,overlayRect:Pe})}if(Ee.length){let bt=null,xe=-1;for(const ge of Ee){const $e=ge.boundingBoxRect.width*ge.boundingBoxRect.height*(ge.position.weight||1);$e>xe&&(xe=$e,bt=ge)}return this._isPushed=!1,void this._applyPosition(bt.position,bt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(qe.position,qe.originPoint);this._applyPosition(qe.position,qe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pi),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const oe=this._lastPosition;if(oe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Pe=this._getOriginPoint(this._originRect,this._containerRect,oe);this._applyPosition(oe,Pe)}else this.apply()}withScrollableContainers(oe){return this._scrollables=oe,this}withPositions(oe){return this._preferredPositions=oe,-1===oe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(oe){return this._viewportMargin=oe,this}withFlexibleDimensions(oe=!0){return this._hasFlexibleDimensions=oe,this}withGrowAfterOpen(oe=!0){return this._growAfterOpen=oe,this}withPush(oe=!0){return this._canPush=oe,this}withLockedPosition(oe=!0){return this._positionLocked=oe,this}setOrigin(oe){return this._origin=oe,this}withDefaultOffsetX(oe){return this._offsetX=oe,this}withDefaultOffsetY(oe){return this._offsetY=oe,this}withTransformOriginOn(oe){return this._transformOriginSelector=oe,this}_getOriginPoint(oe,Pe,$){let ce,Ee;if("center"==$.originX)ce=oe.left+oe.width/2;else{const qe=this._isRtl()?oe.right:oe.left,bt=this._isRtl()?oe.left:oe.right;ce="start"==$.originX?qe:bt}return Pe.left<0&&(ce-=Pe.left),Ee="center"==$.originY?oe.top+oe.height/2:"top"==$.originY?oe.top:oe.bottom,Pe.top<0&&(Ee-=Pe.top),{x:ce,y:Ee}}_getOverlayPoint(oe,Pe,$){let ce,Ee;return ce="center"==$.overlayX?-Pe.width/2:"start"===$.overlayX?this._isRtl()?-Pe.width:0:this._isRtl()?0:-Pe.width,Ee="center"==$.overlayY?-Pe.height/2:"top"==$.overlayY?0:-Pe.height,{x:oe.x+ce,y:oe.y+Ee}}_getOverlayFit(oe,Pe,$,ce){const Ee=an(Pe);let{x:qe,y:bt}=oe,xe=this._getOffset(ce,"x"),ge=this._getOffset(ce,"y");xe&&(qe+=xe),ge&&(bt+=ge);let Ge=0-bt,ot=bt+Ee.height-$.height,Wt=this._subtractOverflows(Ee.width,0-qe,qe+Ee.width-$.width),vn=this._subtractOverflows(Ee.height,Ge,ot),Ln=Wt*vn;return{visibleArea:Ln,isCompletelyWithinViewport:Ee.width*Ee.height===Ln,fitsInViewportVertically:vn===Ee.height,fitsInViewportHorizontally:Wt==Ee.width}}_canFitWithFlexibleDimensions(oe,Pe,$){if(this._hasFlexibleDimensions){const ce=$.bottom-Pe.y,Ee=$.right-Pe.x,qe=_n(this._overlayRef.getConfig().minHeight),bt=_n(this._overlayRef.getConfig().minWidth);return(oe.fitsInViewportVertically||null!=qe&&qe<=ce)&&(oe.fitsInViewportHorizontally||null!=bt&&bt<=Ee)}return!1}_pushOverlayOnScreen(oe,Pe,$){if(this._previousPushAmount&&this._positionLocked)return{x:oe.x+this._previousPushAmount.x,y:oe.y+this._previousPushAmount.y};const ce=an(Pe),Ee=this._viewportRect,qe=Math.max(oe.x+ce.width-Ee.width,0),bt=Math.max(oe.y+ce.height-Ee.height,0),xe=Math.max(Ee.top-$.top-oe.y,0),ge=Math.max(Ee.left-$.left-oe.x,0);let $e=0,De=0;return $e=ce.width<=Ee.width?ge||-qe:oe.x<this._viewportMargin?Ee.left-$.left-oe.x:0,De=ce.height<=Ee.height?xe||-bt:oe.y<this._viewportMargin?Ee.top-$.top-oe.y:0,this._previousPushAmount={x:$e,y:De},{x:oe.x+$e,y:oe.y+De}}_applyPosition(oe,Pe){if(this._setTransformOrigin(oe),this._setOverlayElementStyles(Pe,oe),this._setBoundingBoxStyles(Pe,oe),oe.panelClass&&this._addPanelClasses(oe.panelClass),this._lastPosition=oe,this._positionChanges.observers.length){const $=this._getScrollVisibility(),ce=new vt(oe,$);this._positionChanges.next(ce)}this._isInitialRender=!1}_setTransformOrigin(oe){if(!this._transformOriginSelector)return;const Pe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let $,ce=oe.overlayY;$="center"===oe.overlayX?"center":this._isRtl()?"start"===oe.overlayX?"right":"left":"start"===oe.overlayX?"left":"right";for(let Ee=0;Ee<Pe.length;Ee++)Pe[Ee].style.transformOrigin=`${$} ${ce}`}_calculateBoundingBoxRect(oe,Pe){const $=this._viewportRect,ce=this._isRtl();let Ee,qe,bt,$e,De,Ge;if("top"===Pe.overlayY)qe=oe.y,Ee=$.height-qe+this._viewportMargin;else if("bottom"===Pe.overlayY)bt=$.height-oe.y+2*this._viewportMargin,Ee=$.height-bt+this._viewportMargin;else{const ot=Math.min($.bottom-oe.y+$.top,oe.y),Wt=this._lastBoundingBoxSize.height;Ee=2*ot,qe=oe.y-ot,Ee>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(qe=oe.y-Wt/2)}if("end"===Pe.overlayX&&!ce||"start"===Pe.overlayX&&ce)Ge=$.width-oe.x+this._viewportMargin,$e=oe.x-this._viewportMargin;else if("start"===Pe.overlayX&&!ce||"end"===Pe.overlayX&&ce)De=oe.x,$e=$.right-oe.x;else{const ot=Math.min($.right-oe.x+$.left,oe.x),Wt=this._lastBoundingBoxSize.width;$e=2*ot,De=oe.x-ot,$e>Wt&&!this._isInitialRender&&!this._growAfterOpen&&(De=oe.x-Wt/2)}return{top:qe,left:De,bottom:bt,right:Ge,width:$e,height:Ee}}_setBoundingBoxStyles(oe,Pe){const $=this._calculateBoundingBoxRect(oe,Pe);!this._isInitialRender&&!this._growAfterOpen&&($.height=Math.min($.height,this._lastBoundingBoxSize.height),$.width=Math.min($.width,this._lastBoundingBoxSize.width));const ce={};if(this._hasExactPosition())ce.top=ce.left="0",ce.bottom=ce.right=ce.maxHeight=ce.maxWidth="",ce.width=ce.height="100%";else{const Ee=this._overlayRef.getConfig().maxHeight,qe=this._overlayRef.getConfig().maxWidth;ce.height=(0,d.HM)($.height),ce.top=(0,d.HM)($.top),ce.bottom=(0,d.HM)($.bottom),ce.width=(0,d.HM)($.width),ce.left=(0,d.HM)($.left),ce.right=(0,d.HM)($.right),ce.alignItems="center"===Pe.overlayX?"center":"end"===Pe.overlayX?"flex-end":"flex-start",ce.justifyContent="center"===Pe.overlayY?"center":"bottom"===Pe.overlayY?"flex-end":"flex-start",Ee&&(ce.maxHeight=(0,d.HM)(Ee)),qe&&(ce.maxWidth=(0,d.HM)(qe))}this._lastBoundingBoxSize=$,Kt(this._boundingBox.style,ce)}_resetBoundingBoxStyles(){Kt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(oe,Pe){const $={},ce=this._hasExactPosition(),Ee=this._hasFlexibleDimensions,qe=this._overlayRef.getConfig();if(ce){const $e=this._viewportRuler.getViewportScrollPosition();Kt($,this._getExactOverlayY(Pe,oe,$e)),Kt($,this._getExactOverlayX(Pe,oe,$e))}else $.position="static";let bt="",xe=this._getOffset(Pe,"x"),ge=this._getOffset(Pe,"y");xe&&(bt+=`translateX(${xe}px) `),ge&&(bt+=`translateY(${ge}px)`),$.transform=bt.trim(),qe.maxHeight&&(ce?$.maxHeight=(0,d.HM)(qe.maxHeight):Ee&&($.maxHeight="")),qe.maxWidth&&(ce?$.maxWidth=(0,d.HM)(qe.maxWidth):Ee&&($.maxWidth="")),Kt(this._pane.style,$)}_getExactOverlayY(oe,Pe,$){let ce={top:"",bottom:""},Ee=this._getOverlayPoint(Pe,this._overlayRect,oe);return this._isPushed&&(Ee=this._pushOverlayOnScreen(Ee,this._overlayRect,$)),"bottom"===oe.overlayY?ce.bottom=this._document.documentElement.clientHeight-(Ee.y+this._overlayRect.height)+"px":ce.top=(0,d.HM)(Ee.y),ce}_getExactOverlayX(oe,Pe,$){let qe,ce={left:"",right:""},Ee=this._getOverlayPoint(Pe,this._overlayRect,oe);return this._isPushed&&(Ee=this._pushOverlayOnScreen(Ee,this._overlayRect,$)),qe=this._isRtl()?"end"===oe.overlayX?"left":"right":"end"===oe.overlayX?"right":"left","right"===qe?ce.right=this._document.documentElement.clientWidth-(Ee.x+this._overlayRect.width)+"px":ce.left=(0,d.HM)(Ee.x),ce}_getScrollVisibility(){const oe=this._getOriginRect(),Pe=this._pane.getBoundingClientRect(),$=this._scrollables.map(ce=>ce.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:G(oe,$),isOriginOutsideView:be(oe,$),isOverlayClipped:G(Pe,$),isOverlayOutsideView:be(Pe,$)}}_subtractOverflows(oe,...Pe){return Pe.reduce(($,ce)=>$-Math.max(ce,0),oe)}_getNarrowedViewportRect(){const oe=this._document.documentElement.clientWidth,Pe=this._document.documentElement.clientHeight,$=this._viewportRuler.getViewportScrollPosition();return{top:$.top+this._viewportMargin,left:$.left+this._viewportMargin,right:$.left+oe-this._viewportMargin,bottom:$.top+Pe-this._viewportMargin,width:oe-2*this._viewportMargin,height:Pe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(oe,Pe){return"x"===Pe?null==oe.offsetX?this._offsetX:oe.offsetX:null==oe.offsetY?this._offsetY:oe.offsetY}_validatePositions(){}_addPanelClasses(oe){this._pane&&(0,d.Eq)(oe).forEach(Pe=>{""!==Pe&&-1===this._appliedPanelClasses.indexOf(Pe)&&(this._appliedPanelClasses.push(Pe),this._pane.classList.add(Pe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(oe=>{this._pane.classList.remove(oe)}),this._appliedPanelClasses=[])}_getOriginRect(){const oe=this._origin;if(oe instanceof H.SBq)return oe.nativeElement.getBoundingClientRect();if(oe instanceof Element)return oe.getBoundingClientRect();const Pe=oe.width||0,$=oe.height||0;return{top:oe.y,bottom:oe.y+$,left:oe.x,right:oe.x+Pe,height:$,width:Pe}}}function Kt(nt,oe){for(let Pe in oe)oe.hasOwnProperty(Pe)&&(nt[Pe]=oe[Pe]);return nt}function _n(nt){if("number"!=typeof nt&&null!=nt){const[oe,Pe]=nt.split(Dt);return Pe&&"px"!==Pe?null:parseFloat(oe)}return nt||null}function an(nt){return{top:Math.floor(nt.top),right:Math.floor(nt.right),bottom:Math.floor(nt.bottom),left:Math.floor(nt.left),width:Math.floor(nt.width),height:Math.floor(nt.height)}}const Yr="cdk-global-overlay-wrapper";class vi{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(oe){const Pe=oe.getConfig();this._overlayRef=oe,this._width&&!Pe.width&&oe.updateSize({width:this._width}),this._height&&!Pe.height&&oe.updateSize({height:this._height}),oe.hostElement.classList.add(Yr),this._isDisposed=!1}top(oe=""){return this._bottomOffset="",this._topOffset=oe,this._alignItems="flex-start",this}left(oe=""){return this._xOffset=oe,this._xPosition="left",this}bottom(oe=""){return this._topOffset="",this._bottomOffset=oe,this._alignItems="flex-end",this}right(oe=""){return this._xOffset=oe,this._xPosition="right",this}start(oe=""){return this._xOffset=oe,this._xPosition="start",this}end(oe=""){return this._xOffset=oe,this._xPosition="end",this}width(oe=""){return this._overlayRef?this._overlayRef.updateSize({width:oe}):this._width=oe,this}height(oe=""){return this._overlayRef?this._overlayRef.updateSize({height:oe}):this._height=oe,this}centerHorizontally(oe=""){return this.left(oe),this._xPosition="center",this}centerVertically(oe=""){return this.top(oe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const oe=this._overlayRef.overlayElement.style,Pe=this._overlayRef.hostElement.style,$=this._overlayRef.getConfig(),{width:ce,height:Ee,maxWidth:qe,maxHeight:bt}=$,xe=!("100%"!==ce&&"100vw"!==ce||qe&&"100%"!==qe&&"100vw"!==qe),ge=!("100%"!==Ee&&"100vh"!==Ee||bt&&"100%"!==bt&&"100vh"!==bt),$e=this._xPosition,De=this._xOffset,Ge="rtl"===this._overlayRef.getConfig().direction;let ot="",Wt="",vn="";xe?vn="flex-start":"center"===$e?(vn="center",Ge?Wt=De:ot=De):Ge?"left"===$e||"end"===$e?(vn="flex-end",ot=De):("right"===$e||"start"===$e)&&(vn="flex-start",Wt=De):"left"===$e||"start"===$e?(vn="flex-start",ot=De):("right"===$e||"end"===$e)&&(vn="flex-end",Wt=De),oe.position=this._cssPosition,oe.marginLeft=xe?"0":ot,oe.marginTop=ge?"0":this._topOffset,oe.marginBottom=this._bottomOffset,oe.marginRight=xe?"0":Wt,Pe.justifyContent=vn,Pe.alignItems=ge?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const oe=this._overlayRef.overlayElement.style,Pe=this._overlayRef.hostElement,$=Pe.style;Pe.classList.remove(Yr),$.justifyContent=$.alignItems=oe.marginTop=oe.marginBottom=oe.marginLeft=oe.marginRight=oe.position="",this._overlayRef=null,this._isDisposed=!0}}let nn=(()=>{var nt;class oe{constructor($,ce,Ee,qe){this._viewportRuler=$,this._document=ce,this._platform=Ee,this._overlayContainer=qe}global(){return new vi}flexibleConnectedTo($){return new gt($,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(fr),H.LFG(kr.K0),H.LFG(Fn.t4),H.LFG(Ir))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})(),ti=0,Qr=(()=>{var nt;class oe{constructor($,ce,Ee,qe,bt,xe,ge,$e,De,Ge,ot,Wt){this.scrollStrategies=$,this._overlayContainer=ce,this._componentFactoryResolver=Ee,this._positionBuilder=qe,this._keyboardDispatcher=bt,this._injector=xe,this._ngZone=ge,this._document=$e,this._directionality=De,this._location=Ge,this._outsideClickDispatcher=ot,this._animationsModuleType=Wt}create($){const ce=this._createHostElement(),Ee=this._createPaneElement(ce),qe=this._createPortalOutlet(Ee),bt=new F($);return bt.direction=bt.direction||this._directionality.value,new Fi(qe,ce,Ee,bt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement($){const ce=this._document.createElement("div");return ce.id="cdk-overlay-"+ti++,ce.classList.add("cdk-overlay-pane"),$.appendChild(ce),ce}_createHostElement(){const $=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild($),$}_createPortalOutlet($){return this._appRef||(this._appRef=this._injector.get(H.z2F)),new Xe.u0($,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(nt=oe).\u0275fac=function($){return new($||nt)(H.LFG(L),H.LFG(Ir),H.LFG(H._Vd),H.LFG(nn),H.LFG(In),H.LFG(H.zs3),H.LFG(H.R0b),H.LFG(kr.K0),H.LFG(br.Is),H.LFG(kr.Ye),H.LFG(rr),H.LFG(H.QbO,8))},nt.\u0275prov=H.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),oe})();const Xr={provide:new H.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Qr],useFactory:function un(nt){return()=>nt.scrollStrategies.reposition()}};let Ui=(()=>{var nt;class oe{}return(nt=oe).\u0275fac=function($){return new($||nt)},nt.\u0275mod=H.oAB({type:nt}),nt.\u0275inj=H.cJS({providers:[Qr,Xr],imports:[br.vT,Xe.eL,Et,Et]}),oe})()},2831:(pn,st,V)=>{V.d(st,{Mq:()=>mt,Oy:()=>Re,ht:()=>Zt,i$:()=>ve,kV:()=>Rt,qK:()=>Ae,sA:()=>Ut,t4:()=>Te});var d=V(5879),H=V(6814);let ae;try{ae=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ae=!1}let ke,Te=(()=>{var Qe;class je{constructor(Pt){this._platformId=Pt,this.isBrowser=this._platformId?(0,H.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ae)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(Qe=je).\u0275fac=function(Pt){return new(Pt||Qe)(d.LFG(d.Lbi))},Qe.\u0275prov=d.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),je})();const Ve=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ae(){if(ke)return ke;if("object"!=typeof document||!document)return ke=new Set(Ve),ke;let Qe=document.createElement("input");return ke=new Set(Ve.filter(je=>(Qe.setAttribute("type",je),Qe.type===je))),ke}let Fe,lt,kt;function ve(Qe){return function he(){if(null==Fe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fe=!0}))}finally{Fe=Fe||!1}return Fe}()?Qe:!!Qe.capture}function mt(){if(null==lt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lt=!1,lt;if("scrollBehavior"in document.documentElement.style)lt=!0;else{const Qe=Element.prototype.scrollTo;lt=!!Qe&&!/\{\s*\[native code\]\s*\}/.test(Qe.toString())}}return lt}function Rt(Qe){if(function St(){if(null==kt){const Qe=typeof document<"u"?document.head:null;kt=!(!Qe||!Qe.createShadowRoot&&!Qe.attachShadow)}return kt}()){const je=Qe.getRootNode?Qe.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function Zt(){let Qe=typeof document<"u"&&document?document.activeElement:null;for(;Qe&&Qe.shadowRoot;){const je=Qe.shadowRoot.activeElement;if(je===Qe)break;Qe=je}return Qe}function Ut(Qe){return Qe.composedPath?Qe.composedPath()[0]:Qe.target}function Re(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(pn,st,V)=>{V.d(st,{C5:()=>he,Pl:()=>Zt,UE:()=>ve,eL:()=>Re,en:()=>lt,u0:()=>jt});var d=V(5879),H=V(6814);class Fe{attach(Je){return this._attachedHost=Je,Je.attach(this)}detach(){let Je=this._attachedHost;null!=Je&&(this._attachedHost=null,Je.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Je){this._attachedHost=Je}}class he extends Fe{constructor(Je,Pt,et,Ft,yn){super(),this.component=Je,this.viewContainerRef=Pt,this.injector=et,this.componentFactoryResolver=Ft,this.projectableNodes=yn}}class ve extends Fe{constructor(Je,Pt,et,Ft){super(),this.templateRef=Je,this.viewContainerRef=Pt,this.context=et,this.injector=Ft}get origin(){return this.templateRef.elementRef}attach(Je,Pt=this.context){return this.context=Pt,super.attach(Je)}detach(){return this.context=void 0,super.detach()}}class Ke extends Fe{constructor(Je){super(),this.element=Je instanceof d.SBq?Je.nativeElement:Je}}class lt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Je){return Je instanceof he?(this._attachedPortal=Je,this.attachComponentPortal(Je)):Je instanceof ve?(this._attachedPortal=Je,this.attachTemplatePortal(Je)):this.attachDomPortal&&Je instanceof Ke?(this._attachedPortal=Je,this.attachDomPortal(Je)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Je){this._disposeFn=Je}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jt extends lt{constructor(Je,Pt,et,Ft,yn){super(),this.outletElement=Je,this._componentFactoryResolver=Pt,this._appRef=et,this._defaultInjector=Ft,this.attachDomPortal=hn=>{const cn=hn.element,or=this._document.createComment("dom-portal");cn.parentNode.insertBefore(or,cn),this.outletElement.appendChild(cn),this._attachedPortal=hn,super.setDisposeFn(()=>{or.parentNode&&or.parentNode.replaceChild(cn,or)})},this._document=yn}attachComponentPortal(Je){const et=(Je.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Je.component);let Ft;return Je.viewContainerRef?(Ft=Je.viewContainerRef.createComponent(et,Je.viewContainerRef.length,Je.injector||Je.viewContainerRef.injector,Je.projectableNodes||void 0),this.setDisposeFn(()=>Ft.destroy())):(Ft=et.create(Je.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(Ft.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ft.hostView),Ft.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ft)),this._attachedPortal=Je,Ft}attachTemplatePortal(Je){let Pt=Je.viewContainerRef,et=Pt.createEmbeddedView(Je.templateRef,Je.context,{injector:Je.injector});return et.rootNodes.forEach(Ft=>this.outletElement.appendChild(Ft)),et.detectChanges(),this.setDisposeFn(()=>{let Ft=Pt.indexOf(et);-1!==Ft&&Pt.remove(Ft)}),this._attachedPortal=Je,et}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Je){return Je.hostView.rootNodes[0]}}let Zt=(()=>{var je;class Je extends lt{constructor(et,Ft,yn){super(),this._componentFactoryResolver=et,this._viewContainerRef=Ft,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=hn=>{const cn=hn.element,or=this._document.createComment("dom-portal");hn.setAttachedHost(this),cn.parentNode.insertBefore(or,cn),this._getRootNode().appendChild(cn),this._attachedPortal=hn,super.setDisposeFn(()=>{or.parentNode&&or.parentNode.replaceChild(cn,or)})},this._document=yn}get portal(){return this._attachedPortal}set portal(et){this.hasAttached()&&!et&&!this._isInitialized||(this.hasAttached()&&super.detach(),et&&super.attach(et),this._attachedPortal=et||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(et){et.setAttachedHost(this);const Ft=null!=et.viewContainerRef?et.viewContainerRef:this._viewContainerRef,hn=(et.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(et.component),cn=Ft.createComponent(hn,Ft.length,et.injector||Ft.injector,et.projectableNodes||void 0);return Ft!==this._viewContainerRef&&this._getRootNode().appendChild(cn.hostView.rootNodes[0]),super.setDisposeFn(()=>cn.destroy()),this._attachedPortal=et,this._attachedRef=cn,this.attached.emit(cn),cn}attachTemplatePortal(et){et.setAttachedHost(this);const Ft=this._viewContainerRef.createEmbeddedView(et.templateRef,et.context,{injector:et.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=et,this._attachedRef=Ft,this.attached.emit(Ft),Ft}_getRootNode(){const et=this._viewContainerRef.element.nativeElement;return et.nodeType===et.ELEMENT_NODE?et:et.parentNode}}return(je=Je).\u0275fac=function(et){return new(et||je)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(H.K0))},je.\u0275dir=d.lG2({type:je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),Je})(),Re=(()=>{var je;class Je{}return(je=Je).\u0275fac=function(et){return new(et||je)},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({}),Je})()},6814:(pn,st,V)=>{V.d(st,{Do:()=>kt,EM:()=>_o,HT:()=>Te,JF:()=>So,K0:()=>ke,Mx:()=>ti,NF:()=>go,O5:()=>nt,PC:()=>$e,PM:()=>Vs,RF:()=>ce,S$:()=>lt,V_:()=>Ae,Ye:()=>St,b0:()=>jt,bD:()=>Ki,ez:()=>Li,mk:()=>cs,n9:()=>Ee,q:()=>ae,sg:()=>Xr,tP:()=>De,w_:()=>b});var d=V(5879);let H=null;function ae(){return H}function Te(T){H||(H=T)}class b{}const ke=new d.OlP("DocumentToken");let Ve=(()=>{var T;class te{historyGo(q){throw new Error("Not implemented")}}return(T=te).\u0275fac=function(q){return new(q||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(Fe)},providedIn:"platform"}),te})();const Ae=new d.OlP("Location Initialized");let Fe=(()=>{var T;class te extends Ve{constructor(){super(),this._doc=(0,d.f3M)(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(q){const we=ae().getGlobalEventTarget(this._doc,"window");return we.addEventListener("popstate",q,!1),()=>we.removeEventListener("popstate",q)}onHashChange(q){const we=ae().getGlobalEventTarget(this._doc,"window");return we.addEventListener("hashchange",q,!1),()=>we.removeEventListener("hashchange",q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(q){this._location.pathname=q}pushState(q,we,tt){this._history.pushState(q,we,tt)}replaceState(q,we,tt){this._history.replaceState(q,we,tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return(T=te).\u0275fac=function(q){return new(q||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return new T},providedIn:"platform"}),te})();function he(T,te){if(0==T.length)return te;if(0==te.length)return T;let Ne=0;return T.endsWith("/")&&Ne++,te.startsWith("/")&&Ne++,2==Ne?T+te.substring(1):1==Ne?T+te:T+"/"+te}function ve(T){const te=T.match(/#|\?|$/),Ne=te&&te.index||T.length;return T.slice(0,Ne-("/"===T[Ne-1]?1:0))+T.slice(Ne)}function Ke(T){return T&&"?"!==T[0]?"?"+T:T}let lt=(()=>{var T;class te{historyGo(q){throw new Error("Not implemented")}}return(T=te).\u0275fac=function(q){return new(q||T)},T.\u0275prov=d.Yz7({token:T,factory:function(){return(0,d.f3M)(jt)},providedIn:"root"}),te})();const mt=new d.OlP("appBaseHref");let jt=(()=>{var T;class te extends lt{constructor(q,we){super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=we??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return he(this._baseHref,q)}path(q=!1){const we=this._platformLocation.pathname+Ke(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&q?`${we}${tt}`:we}pushState(q,we,tt,zt){const En=this.prepareExternalUrl(tt+Ke(zt));this._platformLocation.pushState(q,we,En)}replaceState(q,we,tt,zt){const En=this.prepareExternalUrl(tt+Ke(zt));this._platformLocation.replaceState(q,we,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){this._platformLocation.historyGo?.(q)}}return(T=te).\u0275fac=function(q){return new(q||T)(d.LFG(Ve),d.LFG(mt,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),te})(),kt=(()=>{var T;class te extends lt{constructor(q,we){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=we&&(this._baseHref=we)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){let we=this._platformLocation.hash;return null==we&&(we="#"),we.length>0?we.substring(1):we}prepareExternalUrl(q){const we=he(this._baseHref,q);return we.length>0?"#"+we:we}pushState(q,we,tt,zt){let En=this.prepareExternalUrl(tt+Ke(zt));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(q,we,En)}replaceState(q,we,tt,zt){let En=this.prepareExternalUrl(tt+Ke(zt));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(q,we,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){this._platformLocation.historyGo?.(q)}}return(T=te).\u0275fac=function(q){return new(q||T)(d.LFG(Ve),d.LFG(mt,8))},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac}),te})(),St=(()=>{var T;class te{constructor(q){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const we=this._locationStrategy.getBaseHref();this._basePath=function Re(T){if(new RegExp("^(https?:)?//").test(T)){const[,Ne]=T.split(/\/\/[^\/]+/);return Ne}return T}(ve(Ut(we))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,we=""){return this.path()==this.normalize(q+Ke(we))}normalize(q){return te.stripTrailingSlash(function Zt(T,te){if(!T||!te.startsWith(T))return te;const Ne=te.substring(T.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:te}(this._basePath,Ut(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,we="",tt=null){this._locationStrategy.pushState(tt,"",q,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Ke(we)),tt)}replaceState(q,we="",tt=null){this._locationStrategy.replaceState(tt,"",q,we),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Ke(we)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){this._locationStrategy.historyGo?.(q)}onUrlChange(q){return this._urlChangeListeners.push(q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(we=>{this._notifyUrlChangeListeners(we.url,we.state)})),()=>{const we=this._urlChangeListeners.indexOf(q);this._urlChangeListeners.splice(we,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",we){this._urlChangeListeners.forEach(tt=>tt(q,we))}subscribe(q,we,tt){return this._subject.subscribe({next:q,error:we,complete:tt})}}return(T=te).normalizeQueryParams=Ke,T.joinWithSlash=he,T.stripTrailingSlash=ve,T.\u0275fac=function(q){return new(q||T)(d.LFG(lt))},T.\u0275prov=d.Yz7({token:T,factory:function(){return function Rt(){return new St((0,d.LFG)(lt))}()},providedIn:"root"}),te})();function Ut(T){return T.replace(/\/index.html$/,"")}function ti(T,te){te=encodeURIComponent(te);for(const Ne of T.split(";")){const q=Ne.indexOf("="),[we,tt]=-1==q?[Ne,""]:[Ne.slice(0,q),Ne.slice(q+1)];if(we.trim()===te)return decodeURIComponent(tt)}return null}const Qr=/\s+/,Tr=[];let cs=(()=>{var T;class te{constructor(q,we,tt,zt){this._iterableDiffers=q,this._keyValueDiffers=we,this._ngEl=tt,this._renderer=zt,this.initialClasses=Tr,this.stateMap=new Map}set klass(q){this.initialClasses=null!=q?q.trim().split(Qr):Tr}set ngClass(q){this.rawClass="string"==typeof q?q.trim().split(Qr):q}ngDoCheck(){for(const we of this.initialClasses)this._updateState(we,!0);const q=this.rawClass;if(Array.isArray(q)||q instanceof Set)for(const we of q)this._updateState(we,!0);else if(null!=q)for(const we of Object.keys(q))this._updateState(we,!!q[we]);this._applyStateDiff()}_updateState(q,we){const tt=this.stateMap.get(q);void 0!==tt?(tt.enabled!==we&&(tt.changed=!0,tt.enabled=we),tt.touched=!0):this.stateMap.set(q,{enabled:we,changed:!0,touched:!0})}_applyStateDiff(){for(const q of this.stateMap){const we=q[0],tt=q[1];tt.changed?(this._toggleClass(we,tt.enabled),tt.changed=!1):tt.touched||(tt.enabled&&this._toggleClass(we,!1),this.stateMap.delete(we)),tt.touched=!1}}_toggleClass(q,we){(q=q.trim()).length>0&&q.split(Qr).forEach(tt=>{we?this._renderer.addClass(this._ngEl.nativeElement,tt):this._renderer.removeClass(this._ngEl.nativeElement,tt)})}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),te})();class un{constructor(te,Ne,q,we){this.$implicit=te,this.ngForOf=Ne,this.index=q,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xr=(()=>{var T;class te{set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}constructor(q,we,tt){this._viewContainer=q,this._template=we,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const we=this._viewContainer;q.forEachOperation((tt,zt,En)=>{if(null==tt.previousIndex)we.createEmbeddedView(this._template,new un(tt.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)we.remove(null===zt?void 0:zt);else if(null!==zt){const Lr=we.get(zt);we.move(Lr,En),Ui(Lr,tt)}});for(let tt=0,zt=we.length;tt<zt;tt++){const Lr=we.get(tt).context;Lr.index=tt,Lr.count=zt,Lr.ngForOf=this._ngForOf}q.forEachIdentityChange(tt=>{Ui(we.get(tt.currentIndex),tt)})}static ngTemplateContextGuard(q,we){return!0}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),te})();function Ui(T,te){T.context.$implicit=te.item}let nt=(()=>{var T;class te{constructor(q,we){this._viewContainer=q,this._context=new oe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=we}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Pe("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Pe("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,we){return!0}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.s_b),d.Y36(d.Rgc))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),te})();class oe{constructor(){this.$implicit=null,this.ngIf=null}}function Pe(T,te){if(te&&!te.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,d.AaK)(te)}'.`)}class ${constructor(te,Ne){this._viewContainerRef=te,this._templateRef=Ne,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let ce=(()=>{var T;class te{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(q){this._ngSwitch=q,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(q){this._defaultViews.push(q)}_matchCase(q){const we=q==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||we,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),we}_updateDefaultCases(q){if(this._defaultViews.length>0&&q!==this._defaultUsed){this._defaultUsed=q;for(const we of this._defaultViews)we.enforceState(q)}}}return(T=te).\u0275fac=function(q){return new(q||T)},T.\u0275dir=d.lG2({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),te})(),Ee=(()=>{var T;class te{constructor(q,we,tt){this.ngSwitch=tt,tt._addCase(),this._view=new $(q,we)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ce,9))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),te})(),$e=(()=>{var T;class te{constructor(q,we,tt){this._ngEl=q,this._differs=we,this._renderer=tt,this._ngStyle=null,this._differ=null}set ngStyle(q){this._ngStyle=q,!this._differ&&q&&(this._differ=this._differs.find(q).create())}ngDoCheck(){if(this._differ){const q=this._differ.diff(this._ngStyle);q&&this._applyChanges(q)}}_setStyle(q,we){const[tt,zt]=q.split("."),En=-1===tt.indexOf("-")?void 0:d.JOm.DashCase;null!=we?this._renderer.setStyle(this._ngEl.nativeElement,tt,zt?`${we}${zt}`:we,En):this._renderer.removeStyle(this._ngEl.nativeElement,tt,En)}_applyChanges(q){q.forEachRemovedItem(we=>this._setStyle(we.key,null)),q.forEachAddedItem(we=>this._setStyle(we.key,we.currentValue)),q.forEachChangedItem(we=>this._setStyle(we.key,we.currentValue))}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),te})(),De=(()=>{var T;class te{constructor(q){this._viewContainerRef=q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(q){if(q.ngTemplateOutlet||q.ngTemplateOutletInjector){const we=this._viewContainerRef;if(this._viewRef&&we.remove(we.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:tt,ngTemplateOutletContext:zt,ngTemplateOutletInjector:En}=this;this._viewRef=we.createEmbeddedView(tt,zt,En?{injector:En}:void 0)}else this._viewRef=null}else this._viewRef&&q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(T=te).\u0275fac=function(q){return new(q||T)(d.Y36(d.s_b))},T.\u0275dir=d.lG2({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),te})(),Li=(()=>{var T;class te{}return(T=te).\u0275fac=function(q){return new(q||T)},T.\u0275mod=d.oAB({type:T}),T.\u0275inj=d.cJS({}),te})();const Ki="browser",To="server";function go(T){return T===Ki}function Vs(T){return T===To}let _o=(()=>{var T;class te{}return(T=te).\u0275prov=(0,d.Yz7)({token:T,providedIn:"root",factory:()=>new va((0,d.LFG)(ke),window)}),te})();class va{constructor(te,Ne){this.document=te,this.window=Ne,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const Ne=function oa(T,te){const Ne=T.getElementById(te)||T.getElementsByName(te)[0];if(Ne)return Ne;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const q=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let we=q.currentNode;for(;we;){const tt=we.shadowRoot;if(tt){const zt=tt.getElementById(te)||tt.querySelector(`[name="${te}"]`);if(zt)return zt}we=q.nextNode()}}return null}(this.document,te);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(te){this.supportsScrolling()&&(this.window.history.scrollRestoration=te)}scrollToElement(te){const Ne=te.getBoundingClientRect(),q=Ne.left+this.window.pageXOffset,we=Ne.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(q-tt[0],we-tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class So{}},5879:(pn,st,V)=>{V.d(st,{$8M:()=>is,$WT:()=>ys,$Z:()=>vp,AFp:()=>tm,AaK:()=>Ke,CHM:()=>ki,CRH:()=>OE,DdM:()=>uE,EJc:()=>kx,EiD:()=>Uu,EpF:()=>Y_,F$t:()=>s,F4k:()=>Q_,FYo:()=>lp,FiY:()=>rt,Gf:()=>ME,GfV:()=>Hg,Gpc:()=>jt,HDt:()=>tw,HTZ:()=>hE,Hsn:()=>l,Ikx:()=>Wy,JOm:()=>Nr,JVY:()=>bg,JZr:()=>Ut,KtG:()=>Co,L6k:()=>Ev,LAX:()=>Vu,LFG:()=>vt,LSH:()=>Zh,Lbi:()=>rm,Lck:()=>bC,MAs:()=>q_,MMx:()=>nE,NdJ:()=>Xm,Ojb:()=>ul,OlP:()=>Ts,Oqu:()=>Gy,P3R:()=>Sg,PXZ:()=>aT,Q6J:()=>Gm,QGY:()=>Qm,QbO:()=>im,Qsj:()=>Lv,R0b:()=>il,RDi:()=>gg,Rgc:()=>cg,SBq:()=>wh,Sil:()=>Lx,Suo:()=>RE,TTD:()=>di,TgZ:()=>qm,VKq:()=>dE,VuI:()=>zT,W1O:()=>FE,WFA:()=>Jm,X6Q:()=>mT,XFs:()=>kn,Xpm:()=>Wt,Xq5:()=>O_,Xts:()=>Bu,Y36:()=>Sh,YKP:()=>eE,YNc:()=>G_,Yjl:()=>Qo,Yz7:()=>Un,Z0I:()=>br,ZZ4:()=>Db,_Bn:()=>J0,_UZ:()=>K_,_Vd:()=>Pd,_c5:()=>RT,_uU:()=>o0,aQg:()=>Sb,c2e:()=>ew,cJS:()=>Fn,cg1:()=>Ky,d8E:()=>qy,dDg:()=>rT,dqk:()=>Er,eBb:()=>Eg,eFA:()=>dw,eJc:()=>db,ekj:()=>zy,eoX:()=>aw,f3M:()=>qt,g9A:()=>nm,h0i:()=>Pf,hGG:()=>OT,hij:()=>tv,iGM:()=>AE,ifc:()=>Kt,ip1:()=>JE,jDz:()=>rE,kL8:()=>x0,lG2:()=>$s,lqb:()=>tu,lri:()=>sw,mCW:()=>fu,n5z:()=>js,oAB:()=>xi,oxw:()=>e,pB0:()=>wg,q3G:()=>ld,q4F:()=>hm,qFp:()=>GT,qLn:()=>hd,qOj:()=>T_,qZA:()=>Km,qzn:()=>bc,rWj:()=>ow,rg0:()=>we,s9C:()=>u,sBO:()=>gT,s_b:()=>lv,soG:()=>uv,tb:()=>Eb,tp0:()=>Jt,uIk:()=>Ap,vHH:()=>Re,vpe:()=>vu,wAp:()=>Np,xp6:()=>bm,z2F:()=>Up,z3N:()=>Lu,zSh:()=>gu,zs3:()=>wc});var d=V(8645),H=V(7394),ae=V(5592),Te=V(3019),b=V(5619),ke=V(2096),Ve=V(3020),Ae=V(4664),Fe=V(3997);function he(t){for(let r in t)if(t[r]===he)return r;throw Error("Could not find renamed property on target object.")}function ve(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ke(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ke).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function lt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const mt=he({__forward_ref__:he});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return Ke(this())},t}function kt(t){return St(t)?t():t}function St(t){return"function"==typeof t&&t.hasOwnProperty(mt)&&t.__forward_ref__===jt}function Rt(t){return t&&!!t.\u0275providers}const Ut="https://g.co/ng/security#xss";class Re extends Error{constructor(r,o){super(function Qe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function yn(t,r){throw new Re(-201,!1)}function Ht(t,r){null==t&&function At(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kr(t){return zr(t,hi)||zr(t,fi)}function br(t){return null!==kr(t)}function zr(t,r){return t.hasOwnProperty(r)?t[r]:null}function gi(t){return t&&(t.hasOwnProperty(Kr)||t.hasOwnProperty(Ar))?t[Kr]:null}const hi=he({\u0275prov:he}),Kr=he({\u0275inj:he}),fi=he({ngInjectableDef:he}),Ar=he({ngInjectorDef:he});var kn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(kn||{});let $n;function fr(t){const r=$n;return $n=t,r}function _r(t,r,o){const a=kr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&kn.Optional?null:void 0!==r?r:void yn(Ke(t))}const Er=globalThis,gn={},Hn="__NG_DI_FLAG__",pr="ngTempTokenPath",be=/\n/gm,k="__source";let L;function de(t){const r=L;return L=t,r}function We(t,r=kn.Default){if(void 0===L)throw new Re(-203,!1);return null===L?_r(t,void 0,r):L.get(t,r&kn.Optional?null:void 0,r)}function vt(t,r=kn.Default){return(function Yn(){return $n}()||We)(kt(t),r)}function qt(t,r=kn.Default){return vt(t,Sn(r))}function Sn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function In(t){const r=[];for(let o=0;o<t.length;o++){const a=kt(t[o]);if(Array.isArray(a)){if(0===a.length)throw new Re(900,!1);let c,f=kn.Default;for(let y=0;y<a.length;y++){const x=a[y],P=Ir(x);"number"==typeof P?-1===P?c=x.token:f|=P:c=x}r.push(vt(c,f))}else r.push(vt(a))}return r}function rr(t,r){return t[Hn]=r,t.prototype[Hn]=r,t}function Ir(t){return t[Hn]}function Dt(t){return{toString:t}.toString()}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gt||{}),Kt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kt||{});const _n={},an=[],Nn=he({\u0275cmp:he}),dr=he({\u0275dir:he}),Yr=he({\u0275pipe:he}),vi=he({\u0275mod:he}),nn=he({\u0275fac:he}),ti=he({__NG_ELEMENT_ID__:he}),Qr=he({__NG_ENV_ID__:he});function Tr(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const f=r.length;if(c+f===a||t.charCodeAt(c+f)<=32)return c}o=c+1}}function cs(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const f=o[a++],y=o[a++],x=o[a++];t.setAttribute(r,y,x,f)}else{const f=c,y=o[++a];mo(f)?t.setProperty(r,f,y):t.setAttribute(r,f,y),a++}}return a}function vs(t){return 3===t||4===t||6===t}function mo(t){return 64===t.charCodeAt(0)}function un(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||Xr(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function Xr(t,r,o,a,c){let f=0,y=t.length;if(-1===r)y=-1;else for(;f<t.length;){const x=t[f++];if("number"==typeof x){if(x===r){y=-1;break}if(x>r){y=f-1;break}}}for(;f<t.length;){const x=t[f];if("number"==typeof x)break;if(x===o){if(null===a)return void(null!==c&&(t[f+1]=c));if(a===t[f+1])return void(t[f+2]=c)}f++,null!==a&&f++,null!==c&&f++}-1!==y&&(t.splice(y,0,r),f=y+1),t.splice(f++,0,o),null!==a&&t.splice(f++,0,a),null!==c&&t.splice(f++,0,c)}const Ui="ng-template";function us(t,r,o){let a=0,c=!0;for(;a<t.length;){let f=t[a++];if("string"==typeof f&&c){const y=t[a++];if(o&&"class"===f&&-1!==Tr(y.toLowerCase(),r,0))return!0}else{if(1===f){for(;a<t.length&&"string"==typeof(f=t[a++]);)if(f.toLowerCase()===r)return!0;return!1}"number"==typeof f&&(c=!1)}}return!1}function nt(t){return 4===t.type&&t.value!==Ui}function oe(t,r,o){return r===(4!==t.type||o?t.value:Ui)}function Pe(t,r,o){let a=4;const c=t.attrs||[],f=function bt(t){for(let r=0;r<t.length;r++)if(vs(t[r]))return r;return t.length}(c);let y=!1;for(let x=0;x<r.length;x++){const P=r[x];if("number"!=typeof P){if(!y)if(4&a){if(a=2|1&a,""!==P&&!oe(t,P,o)||""===P&&1===r.length){if($(a))return!1;y=!0}}else{const re=8&a?P:r[++x];if(8&a&&null!==t.attrs){if(!us(t.attrs,re,o)){if($(a))return!1;y=!0}continue}const Ue=ce(8&a?"class":P,c,nt(t),o);if(-1===Ue){if($(a))return!1;y=!0;continue}if(""!==re){let at;at=Ue>f?"":c[Ue+1].toLowerCase();const It=8&a?at:null;if(It&&-1!==Tr(It,re,0)||2&a&&re!==at){if($(a))return!1;y=!0}}}}else{if(!y&&!$(a)&&!$(P))return!1;if(y&&$(P))continue;y=!1,a=P|1&a}}return $(a)||y}function $(t){return 0==(1&t)}function ce(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let f=!1;for(;c<r.length;){const y=r[c];if(y===t)return c;if(3===y||6===y)f=!0;else{if(1===y||2===y){let x=r[++c];for(;"string"==typeof x;)x=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=f?1:2}return-1}return function xe(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function Ee(t,r,o=!1){for(let a=0;a<r.length;a++)if(Pe(t,r[a],o))return!0;return!1}function ge(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function $e(t,r){return t?":not("+r.trim()+")":r}function De(t){let r=t[0],o=1,a=2,c="",f=!1;for(;o<t.length;){let y=t[o];if("string"==typeof y)if(2&a){const x=t[++o];c+="["+y+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!$(y)&&(r+=$e(f,c),c=""),a=y,f=f||!$(a);o++}return""!==c&&(r+=$e(f,c)),r}function Wt(t){return Dt(()=>{const r=ts(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kt.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""};Ys(o);const a=t.dependencies;return o.directiveDefs=jo(a,!1),o.pipeDefs=jo(a,!0),o.id=function Ma(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Ln(t){return Cr(t)||ii(t)}function Br(t){return null!==t}function xi(t){return Dt(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zs(t,r){if(null==t)return _n;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=a,r&&(r[c]=f)}return o}function $s(t){return Dt(()=>{const r=ts(t);return Ys(r),r})}function Qo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cr(t){return t[Nn]||null}function ii(t){return t[dr]||null}function Ri(t){return t[Yr]||null}function ys(t){const r=Cr(t)||ii(t)||Ri(t);return null!==r&&r.standalone}function ai(t,r){const o=t[vi]||null;if(!o&&!0===r)throw new Error(`Type ${Ke(t)} does not have '\u0275mod' property.`);return o}function ts(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||_n,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zs(t.inputs,r),outputs:Zs(t.outputs)}}function Ys(t){t.features?.forEach(r=>r(t))}function jo(t,r){if(!t)return null;const o=r?Ri:Ln;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Br)}const yi=0,Cn=1,yr=2,bi=3,zi=4,Gs=5,ns=6,Ws=7,Li=8,Ki=9,To=10,lr=11,Do=12,go=13,Vs=14,Zi=15,oo=16,sa=17,_o=18,va=19,oa=20,Qs=21,So=22,Ho=23,ao=24,Gr=25,Ra=1,Ss=2,rs=7,Js=9,Wr=11;function ps(t){return Array.isArray(t)&&"object"==typeof t[Ra]}function Jr(t){return Array.isArray(t)&&!0===t[Ra]}function ya(t){return 0!=(4&t.flags)}function Ao(t){return t.componentOffset>-1}function qs(t){return 1==(1&t.flags)}function As(t){return!!t.template}function vo(t){return 0!=(512&t[yr])}function Xo(t,r){return t.hasOwnProperty(nn)?t[nn]:null}let Ti=null,zo=!1;function Rs(t){const r=Ti;return Ti=t,r}const co={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fa(t){if(!qa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ms(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function La(t){t.dirty=!0,function no(t){if(void 0===t.liveConsumerNode)return;const r=zo;zo=!0;try{for(const o of t.liveConsumerNode)o.dirty||La(o)}finally{zo=r}}(t),t.consumerMarkedDirty?.(t)}function Eo(t){return t&&(t.nextProducerIndex=0),Rs(t)}function Va(t,r){if(Rs(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(qa(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ll(t.producerNode[o],t.producerIndexOfThis[o]);for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ms(t){Yi(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Fa(o),a!==o.version))return!0}return!1}function Ua(t){if(Yi(t),qa(t))for(let r=0;r<t.producerNode.length;r++)Ll(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ll(t,r){if(function ol(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Yi(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ll(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Yi(c),c.producerIndexOfThis[a]=r}}function qa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Yi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Qi=null;function we(t){const r=Rs(null);try{return t()}finally{Rs(r)}}const zt=()=>{},En={...co,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:zt};class ni{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function di(){return qr}function qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bi),hs}function hs(){const t=Ro(this),r=t?.current;if(r){const o=t.previous;if(o===_n)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Bi(t,r,o,a){const c=this.declaredInputs[o],f=Ro(t)||function ja(t,r){return t[fs]=r}(t,{previous:_n,current:null}),y=f.current||(f.current={}),x=f.previous,P=x[c];y[c]=new ni(P&&P.currentValue,r,x===_n),t[a]=r}di.ngInherit=!0;const fs="__ngSimpleChanges__";function Ro(t){return t[fs]||null}const Os=function(t,r,o){};function $i(t){for(;Array.isArray(t);)t=t[yi];return t}function Vl(t,r){return $i(r[t])}function Po(t,r){return $i(r[t.index])}function xc(t,r){return t.data[r]}function Go(t,r){const o=r[t];return ps(o)?o:o[yi]}function Ya(t,r){return null==r?null:t[r]}function wa(t){t[sa]=0}function au(t){1024&t[yr]||(t[yr]|=1024,Tl(t,1))}function xu(t){1024&t[yr]&&(t[yr]&=-1025,Tl(t,-1))}function Tl(t,r){let o=t[bi];if(null===o)return;o[Gs]+=r;let a=o;for(o=o[bi];null!==o&&(1===r&&1===a[Gs]||-1===r&&0===a[Gs]);)o[Gs]+=r,a=o,o=o[bi]}const Dr={lFrame:Us(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bl(){return Dr.bindingsEnabled}function ko(){return null!==Dr.skipHydrationRootTNode}function tn(){return Dr.lFrame.lView}function mi(){return Dr.lFrame.tView}function ki(t){return Dr.lFrame.contextLView=t,t[Li]}function Co(t){return Dr.lFrame.contextLView=null,t}function _s(){let t=Qa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qa(){return Dr.lFrame.currentTNode}function sn(t,r){const o=Dr.lFrame;o.currentTNode=t,o.isParent=r}function cr(){return Dr.lFrame.isParent}function ho(){Dr.lFrame.isParent=!1}function No(){const t=Dr.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function w(){return Dr.lFrame.bindingIndex++}function Q(t,r){const o=Dr.lFrame;o.bindingIndex=o.bindingRootIndex=t,Me(r)}function Me(t){Dr.lFrame.currentDirectiveIndex=t}function wt(t){const r=Dr.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function bn(){return Dr.lFrame.currentQueryIndex}function Gt(t){Dr.lFrame.currentQueryIndex=t}function hr(t){const r=t[Cn];return 2===r.type?r.declTNode:1===r.type?t[ns]:null}function li(t,r,o){if(o&kn.SkipSelf){let c=r,f=t;for(;!(c=c.parent,null!==c||o&kn.Host||(c=hr(f),null===c||(f=f[Vs],10&c.type))););if(null===c)return!1;r=c,t=f}const a=Dr.lFrame=Rn();return a.currentTNode=r,a.lView=t,!0}function Xi(t){const r=Rn(),o=t[Cn];Dr.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Rn(){const t=Dr.lFrame,r=null===t?null:t.child;return null===r?Us(t):r}function Us(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ia(){const t=Dr.lFrame;return Dr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ji=Ia;function Wn(){const t=Ia();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ca(){return Dr.lFrame.selectedIndex}function Oi(t){Dr.lFrame.selectedIndex=t}function dn(){const t=Dr.lFrame;return xc(t.tView,t.selectedIndex)}let Jl=!0;function Ml(){return Jl}function Xa(t){Jl=t}function Ps(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const f=t.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:x,ngAfterViewInit:P,ngAfterViewChecked:re,ngOnDestroy:pe}=f;y&&(t.contentHooks??=[]).push(-o,y),x&&((t.contentHooks??=[]).push(o,x),(t.contentCheckHooks??=[]).push(o,x)),P&&(t.viewHooks??=[]).push(-o,P),re&&((t.viewHooks??=[]).push(o,re),(t.viewCheckHooks??=[]).push(o,re)),null!=pe&&(t.destroyHooks??=[]).push(o,pe)}}function Wo(t,r,o){Ha(t,r,3,o)}function ec(t,r,o,a){(3&t[yr])===o&&Ha(t,r,o,a)}function dc(t,r){let o=t[yr];(3&o)===r&&(o&=8191,o+=1,t[yr]=o)}function Ha(t,r,o,a){const f=a??-1,y=r.length-1;let x=0;for(let P=void 0!==a?65535&t[sa]:0;P<y;P++)if("number"==typeof r[P+1]){if(x=r[P],null!=a&&x>=a)break}else r[P]<0&&(t[sa]+=65536),(x<f||-1==f)&&(Rc(t,o,r,P),t[sa]=(4294901760&t[sa])+P+2),P++}function Ot(t,r){Os(4,t,r);const o=Rs(null);try{r.call(t)}finally{Rs(o),Os(5,t,r)}}function Rc(t,r,o,a){const c=o[a]<0,f=o[a+1],x=t[c?-o[a]:o[a]];c?t[yr]>>13<t[sa]>>16&&(3&t[yr])===r&&(t[yr]+=8192,Ot(x,f)):Ot(x,f)}const Bs=-1;class tc{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function ks(t){return t!==Bs}function Ja(t){return 32767&t}function hc(t,r){let o=function Rl(t){return t>>16}(t),a=r;for(;o>0;)a=a[Vs],o--;return a}let Fo=!0;function nc(t){const r=Fo;return Fo=t,r}const cl=255,Du=5;let qc=0;const xa={};function Ol(t,r){const o=Su(t,r);if(-1!==o)return o;const a=r[Cn];a.firstCreatePass&&(t.injectorIndex=r.length,Kc(a.data,t),Kc(r,null),Kc(a.blueprint,null));const c=Hl(t,r),f=t.injectorIndex;if(ks(c)){const y=Ja(c),x=hc(c,r),P=x[Cn].data;for(let re=0;re<8;re++)r[f+re]=x[y+re]|P[y+re]}return r[f+8]=c,f}function Kc(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Su(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Hl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Ru(c),null===a)return Bs;if(o++,c=c[Vs],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Bs}function Zc(t,r,o){!function Yu(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ti)&&(a=o[ti]),null==a&&(a=o[ti]=qc++);const c=a&cl;r.data[t+(c>>Du)]|=1<<c}(t,r,o)}function fc(t,r,o){if(o&kn.Optional||void 0!==t)return t;yn()}function Nc(t,r,o,a){if(o&kn.Optional&&void 0===a&&(a=null),!(o&(kn.Self|kn.Host))){const c=t[Ki],f=fr(void 0);try{return c?c.get(r,a,o&kn.Optional):_r(r,a,o&kn.Optional)}finally{fr(f)}}return fc(a,0,o)}function Yc(t,r,o,a=kn.Default,c){if(null!==t){if(2048&r[yr]&&!(a&kn.Self)){const y=function rc(t,r,o,a,c){let f=t,y=r;for(;null!==f&&null!==y&&2048&y[yr]&&!(512&y[yr]);){const x=Fc(f,y,o,a|kn.Self,xa);if(x!==xa)return x;let P=f.parent;if(!P){const re=y[oa];if(re){const pe=re.get(o,xa,a);if(pe!==xa)return pe}P=Ru(y),y=y[Vs]}f=P}return c}(t,r,o,a,xa);if(y!==xa)return y}const f=Fc(t,r,o,a,xa);if(f!==xa)return f}return Nc(r,o,a,c)}function Fc(t,r,o,a,c){const f=function Qu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ti)?t[ti]:void 0;return"number"==typeof r?r>=0?r&cl:gl:r}(o);if("function"==typeof f){if(!li(r,t,a))return a&kn.Host?fc(c,0,a):Nc(r,o,a,c);try{let y;if(y=f(a),null!=y||a&kn.Optional)return y;yn()}finally{ji()}}else if("number"==typeof f){let y=null,x=Su(t,r),P=Bs,re=a&kn.Host?r[Zi][ns]:null;for((-1===x||a&kn.SkipSelf)&&(P=-1===x?Hl(t,r):r[x+8],P!==Bs&&zl(a,!1)?(y=r[Cn],x=Ja(P),r=hc(P,r)):x=-1);-1!==x;){const pe=r[Cn];if(Au(f,x,pe.data)){const Ue=bd(x,r,o,y,a,re);if(Ue!==xa)return Ue}P=r[x+8],P!==Bs&&zl(a,r[Cn].data[x+8]===re)&&Au(f,x,r)?(y=pe,x=Ja(P),r=hc(P,r)):x=-1}}return c}function bd(t,r,o,a,c,f){const y=r[Cn],x=y.data[t+8],pe=lu(x,y,o,null==a?Ao(x)&&Fo:a!=y&&0!=(3&x.type),c&kn.Host&&f===x);return null!==pe?pc(r,y,pe,x):xa}function lu(t,r,o,a,c){const f=t.providerIndexes,y=r.data,x=1048575&f,P=t.directiveStart,pe=f>>20,at=c?x+pe:t.directiveEnd;for(let It=a?x:x+pe;It<at;It++){const Qt=y[It];if(It<P&&o===Qt||It>=P&&Qt.type===o)return It}if(c){const It=y[P];if(It&&As(It)&&It.type===o)return P}return null}function pc(t,r,o,a){let c=t[o];const f=r.data;if(function Oc(t){return t instanceof tc}(c)){const y=c;y.resolving&&function Pt(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Re(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(f[o]));const x=nc(y.canSeeViewProviders);y.resolving=!0;const re=y.injectImpl?fr(y.injectImpl):null;li(t,a,kn.Default);try{c=t[o]=y.factory(void 0,f,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Mc(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(a){const y=qr(r);(o.preOrderHooks??=[]).push(t,y),(o.preOrderCheckHooks??=[]).push(t,y)}c&&(o.preOrderHooks??=[]).push(0-t,c),f&&((o.preOrderHooks??=[]).push(t,f),(o.preOrderCheckHooks??=[]).push(t,f))}(o,f[o],r)}finally{null!==re&&fr(re),nc(x),y.resolving=!1,ji()}}return c}function Au(t,r,o){return!!(o[r+(t>>Du)]&1<<t)}function zl(t,r){return!(t&kn.Self||t&kn.Host&&r)}class ea{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Yc(this._tNode,this._lView,r,Sn(a),o)}}function gl(){return new ea(_s(),tn())}function js(t){return Dt(()=>{const r=t.prototype.constructor,o=r[nn]||_l(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const f=c[nn]||_l(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function _l(t){return St(t)?()=>{const r=_l(kt(t));return r&&r()}:Xo(t)}function Ru(t){const r=t[Cn],o=r.type;return 2===o?r.declTNode:1===o?t[ns]:null}function is(t){return function kc(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const f=o[c];if(vs(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(f===r)return o[c+1];c+=2}}}return null}(_s(),t)}const Ks="__parameters__";function se(t,r,o){return Dt(()=>{const a=function Y(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...f){if(this instanceof c)return a.apply(this,f),this;const y=new c(...f);return x.annotation=y,x;function x(P,re,pe){const Ue=P.hasOwnProperty(Ks)?P[Ks]:Object.defineProperty(P,Ks,{value:[]})[Ks];for(;Ue.length<=pe;)Ue.push(null);return(Ue[pe]=Ue[pe]||[]).push(y),P}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ta(t,r){t.forEach(o=>Array.isArray(o)?ta(o,r):r(o))}function da(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Lc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function vl(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function Ta(t,r,o){let a=Jc(t,r);return a>=0?t[1|a]=o:(a=~a,function mc(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function cu(t,r){const o=Jc(t,r);if(o>=0)return t[1|o]}function Jc(t,r){return function ic(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const f=a+(c-a>>1),y=t[f<<o];if(r===y)return f<<o;y>r?c=f:a=f+1}return~(c<<o)}(t,r,1)}const rt=rr(se("Optional"),8),Jt=rr(se("SkipSelf"),4);function Vn(t){return 128==(128&t.flags)}var Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nr||{});const xo=new Map;let Is=0;const na="__ngContext__";function Uo(t,r){ps(r)?(t[na]=r[va],function Ls(t){xo.set(t[va],t)}(r)):t[na]=r}let Cs;function Wl(t,r){return Cs(t,r)}function qo(t){const r=t[bi];return Jr(r)?r[bi]:r}function yc(t){return $h(t[Do])}function du(t){return $h(t[zi])}function $h(t){for(;null!==t&&!Jr(t);)t=t[zi];return t}function Bc(t,r,o,a,c){if(null!=a){let f,y=!1;Jr(a)?f=a:ps(a)&&(y=!0,a=a[yi]);const x=$i(a);0===t&&null!==o?null==c?ur(r,o,x):Bn(r,o,x,c||null,!0):1===t&&null!==o?Bn(r,o,x,c||null,!0):2===t?function xd(t,r,o){const a=Ko(t,r);a&&function Wi(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,x,y):3===t&&r.destroyNode(x),null!=f&&function rh(t,r,o,a,c){const f=o[rs];f!==$i(o)&&Bc(r,t,a,f,c);for(let x=Wr;x<o.length;x++){const P=o[x];qh(P[Cn],P,t,r,a,f)}}(r,t,f,o,c)}}function sc(t,r,o){return t.createElement(r,o)}function p(t,r){const o=t[Js],a=o.indexOf(r);xu(r),o.splice(a,1)}function I(t,r){if(t.length<=Wr)return;const o=Wr+r,a=t[o];if(a){const c=a[oo];null!==c&&c!==t&&p(c,a),r>0&&(t[o-1][zi]=a[zi]);const f=Lc(t,Wr+r);!function Wh(t,r){qh(t,r,r[lr],2,null,null),r[yi]=null,r[ns]=null}(a[Cn],a);const y=f[_o];null!==y&&y.detachView(f[Cn]),a[bi]=null,a[zi]=null,a[yr]&=-129}return a}function X(t,r){if(!(256&r[yr])){const o=r[lr];r[Ho]&&Ua(r[Ho]),r[ao]&&Ua(r[ao]),o.destroyNode&&qh(t,r,o,3,null,null),function od(t){let r=t[Do];if(!r)return ue(t[Cn],t);for(;r;){let o=null;if(ps(r))o=r[Do];else{const a=r[Wr];a&&(o=a)}if(!o){for(;r&&!r[zi]&&r!==t;)ps(r)&&ue(r[Cn],r),r=r[bi];null===r&&(r=t),ps(r)&&ue(r[Cn],r),o=r&&r[zi]}r=o}}(r)}}function ue(t,r){if(!(256&r[yr])){r[yr]&=-129,r[yr]|=256,function ze(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof tc)){const f=o[a+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const x=c[f[y]],P=f[y+1];Os(4,x,P);try{P.call(x)}finally{Os(5,x,P)}}else{Os(4,c,f);try{f.call(c)}finally{Os(5,c,f)}}}}}(t,r),function Ie(t,r){const o=t.cleanup,a=r[Ws];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const y=o[f+3];y>=0?a[y]():a[-y].unsubscribe(),f+=2}else o[f].call(a[o[f+1]]);null!==a&&(r[Ws]=null);const c=r[Qs];if(null!==c){r[Qs]=null;for(let f=0;f<c.length;f++)(0,c[f])()}}(t,r),1===r[Cn].type&&r[lr].destroy();const o=r[oo];if(null!==o&&Jr(r[bi])){o!==r[bi]&&p(o,r);const a=r[_o];null!==a&&a.detachView(t)}!function io(t){xo.delete(t[va])}(r)}}function dt(t,r,o){return function en(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[yi];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:f}=t.data[a.directiveStart+c];if(f===Kt.None||f===Kt.Emulated)return null}return Po(a,o)}}(t,r.parent,o)}function Bn(t,r,o,a,c){t.insertBefore(r,o,a,c)}function ur(t,r,o){t.appendChild(r,o)}function xr(t,r,o,a,c){null!==a?Bn(t,r,o,a,c):ur(t,r,o)}function Ko(t,r){return t.parentNode(r)}function $a(t,r,o){return nl(t,r,o)}let xs,Kh,Bf,jf,nl=function oc(t,r,o){return 40&t.type?Po(t,o):null};function rl(t,r,o,a){const c=dt(t,a,r),f=r[lr],x=$a(a.parent||r[ns],a,r);if(null!=c)if(Array.isArray(o))for(let P=0;P<o.length;P++)xr(f,c,o[P],x,!1);else xr(f,c,o,x,!1);void 0!==xs&&xs(f,a,r,o,c)}function eu(t,r){if(null!==r){const o=r.type;if(3&o)return Po(r,t);if(4&o)return ad(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return eu(t,a);{const c=t[r.index];return Jr(c)?ad(-1,c):$i(c)}}if(32&o)return Wl(r,t)()||$i(t[r.index]);{const a=Ff(t,r);return null!==a?Array.isArray(a)?a[0]:eu(qo(t[Zi]),a):eu(t,r.next)}}return null}function Ff(t,r){return null!==r?t[Zi][ns].projection[r.projection]:null}function ad(t,r){const o=Wr+t+1;if(o<r.length){const a=r[o],c=a[Cn].firstChild;if(null!==c)return eu(a,c)}return r[rs]}function zp(t,r,o,a,c,f,y){for(;null!=o;){const x=a[o.index],P=o.type;if(y&&0===r&&(x&&Uo($i(x),a),o.flags|=2),32!=(32&o.flags))if(8&P)zp(t,r,o.child,a,c,f,!1),Bc(r,t,c,x,f);else if(32&P){const re=Wl(o,a);let pe;for(;pe=re();)Bc(r,t,c,pe,f);Bc(r,t,c,x,f)}else 16&P?Lf(t,r,a,o,c,f):Bc(r,t,c,x,f);o=y?o.projectionNext:o.next}}function qh(t,r,o,a,c,f){zp(o,a,t.firstChild,r,c,f,!1)}function Lf(t,r,o,a,c,f){const y=o[Zi],P=y[ns].projection[a.projection];if(Array.isArray(P))for(let re=0;re<P.length;re++)Bc(r,t,c,P[re],f);else{let re=P;const pe=y[bi];Vn(a)&&(re.flags|=128),zp(t,r,re,pe,c,f,!0)}}function ga(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Vf(t,r,o){const{mergedAttrs:a,classes:c,styles:f}=o;null!==a&&cs(t,r,a),null!==c&&ga(t,r,c),null!==f&&function _v(t,r,o){t.setAttribute(r,"style",o)}(t,r,f)}function ql(t){return function Td(){if(void 0===Kh&&(Kh=null,Er.trustedTypes))try{Kh=Er.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kh}()?.createHTML(t)||t}function gg(t){Bf=t}function Gp(t){return function Dd(){if(void 0===jf&&(jf=null,Er.trustedTypes))try{jf=Er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jf}()?.createScriptURL(t)||t}class Fu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}class vg extends Fu{getTypeName(){return"HTML"}}class vv extends Fu{getTypeName(){return"Style"}}class yg extends Fu{getTypeName(){return"Script"}}class yv extends Fu{getTypeName(){return"URL"}}class bv extends Fu{getTypeName(){return"ResourceURL"}}function Lu(t){return t instanceof Fu?t.changingThisBreaksApplicationSecurity:t}function bc(t,r){const o=function sh(t){return t instanceof Fu&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Ut})`)}return o===r}function bg(t){return new vg(t)}function Ev(t){return new vv(t)}function Eg(t){return new yg(t)}function Vu(t){return new yv(t)}function wg(t){return new bv(t)}class Cg{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(ql(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class zf{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=ql(r),o}}const Ad=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fu(t){return(t=String(t)).match(Ad)?t:"unsafe:"+t}function Ec(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function oh(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const $f=Ec("area,br,col,hr,img,wbr"),Gf=Ec("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wp=Ec("rp,rt"),Wf=oh($f,oh(Gf,Ec("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oh(Wp,Ec("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oh(Wp,Gf)),ah=Ec("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xg=oh(ah,Ec("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ec("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tg=Ec("script,style,template");class Cv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Wf.hasOwnProperty(o))return this.sanitizedSomething=!0,!Tg.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const f=a.item(c),y=f.name,x=y.toLowerCase();if(!xg.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let P=f.value;ah[x]&&(P=fu(P)),this.buf.push(" ",y,'="',ch(P),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Wf.hasOwnProperty(o)&&!$f.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(ch(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const xv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tv=/([^\#-~ |!])/g;function ch(t){return t.replace(/&/g,"&amp;").replace(xv,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Tv,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pu;function Uu(t,r){let o=null;try{pu=pu||function Ig(t){const r=new zf(t);return function Sd(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch{return!1}}()?new Cg(r):r}(t);let a=r?String(r):"";o=pu.getInertBodyElement(a);let c=5,f=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=f,f=o.innerHTML,o=pu.getInertBodyElement(a)}while(a!==f);return ql((new Cv).sanitizeChildren(Kf(o)||o))}finally{if(o){const a=Kf(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Kf(t){return"content"in t&&function Dv(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ld=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ld||{});function Zh(t){const r=Yh();return r?r.sanitize(ld.URL,t)||"":bc(t,"URL")?Lu(t):fu(je(t))}function Kp(t){const r=Yh();if(r)return Gp(r.sanitize(ld.RESOURCE_URL,t)||"");if(bc(t,"ResourceURL"))return Gp(Lu(t));throw new Re(904,!1)}function Sg(t,r,o){return function Zf(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Kp:Zh}(r,o)(t)}function Yh(){const t=tn();return t&&t[To].sanitizer}class Ts{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bu=new Ts("ENVIRONMENT_INITIALIZER"),Qh=new Ts("INJECTOR",-1),uh=new Ts("INJECTOR_DEF_TYPES");class Yf{get(r,o=gn){if(o===gn){const a=new Error(`NullInjectorError: No provider for ${Ke(r)}!`);throw a.name="NullInjectorError",a}return o}}function Nl(...t){return{\u0275providers:Jp(0,t),\u0275fromNgModule:!0}}function Jp(t,...r){const o=[],a=new Set;let c;const f=y=>{o.push(y)};return ta(r,y=>{const x=y;Md(x,f,[],a)&&(c||=[],c.push(x))}),void 0!==c&&Xh(c,f),o}function Xh(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];mu(c,f=>{r(f,a)})}}function Md(t,r,o,a){if(!(t=kt(t)))return!1;let c=null,f=gi(t);const y=!f&&Cr(t);if(f||y){if(y&&!y.standalone)return!1;c=t}else{const P=t.ngModule;if(f=gi(P),!f)return!1;c=P}const x=a.has(c);if(y){if(x)return!1;if(a.add(c),y.dependencies){const P="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const re of P)Md(re,r,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!x){let re;a.add(c);try{ta(f.imports,pe=>{Md(pe,r,o,a)&&(re||=[],re.push(pe))})}finally{}void 0!==re&&Xh(re,r)}if(!x){const re=Xo(c)||(()=>new c);r({provide:c,useFactory:re,deps:an},c),r({provide:uh,useValue:c,multi:!0},c),r({provide:Bu,useValue:()=>vt(c),multi:!0},c)}const P=f.providers;if(null!=P&&!x){const re=t;mu(P,pe=>{r(pe,re)})}}}return c!==t&&void 0!==t.providers}function mu(t,r){for(let o of t)Rt(o)&&(o=o.\u0275providers),Array.isArray(o)?mu(o,r):r(o)}const dh=he({provide:String,useValue:he});function Qf(t){return null!==t&&"object"==typeof t&&dh in t}function jc(t){return"function"==typeof t}const gu=new Ts("Set Injector scope."),Jh={},Mv={};let Xf;function Jf(){return void 0===Xf&&(Xf=new Yf),Xf}class tu{}class ep extends tu{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tp(r,y=>this.processProvider(y)),this.records.set(Qh,fh(void 0,this)),c.has("environment")&&this.records.set(tu,fh(void 0,this));const f=this.records.get(gu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(uh.multi,an,kn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=de(this),a=fr(void 0);try{return r()}finally{de(o),fr(a)}}get(r,o=gn,a=kn.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Qr))return r[Qr](this);a=Sn(a);const f=de(this),y=fr(void 0);try{if(!(a&kn.SkipSelf)){let P=this.records.get(r);if(void 0===P){const re=function ef(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ts}(r)&&kr(r);P=re&&this.injectableDefInScope(re)?fh(hh(r),Jh):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(a&kn.Self?Jf():this.parent).get(r,o=a&kn.Optional&&o===gn?null:o)}catch(x){if("NullInjectorError"===x.name){if((x[pr]=x[pr]||[]).unshift(Ke(r)),f)throw x;return function Fi(t,r,o,a){const c=t[pr];throw r[k]&&c.unshift(r[k]),t.message=function pi(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ke(r);if(Array.isArray(r))c=r.map(Ke).join(" -> ");else if("object"==typeof r){let f=[];for(let y in r)if(r.hasOwnProperty(y)){let x=r[y];f.push(y+":"+("string"==typeof x?JSON.stringify(x):Ke(x)))}c=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(be,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[pr]=null,t}(x,r,"R3InjectorError",this.source)}throw x}finally{fr(y),de(f)}}resolveInjectorInitializers(){const r=de(this),o=fr(void 0);try{const c=this.get(Bu.multi,an,kn.Self);for(const f of c)f()}finally{de(r),fr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ke(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(r){let o=jc(r=kt(r))?r:kt(r&&r.provide);const a=function Rv(t){return Qf(t)?fh(void 0,t.useValue):fh(em(t),Jh)}(r);if(jc(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=fh(void 0,Jh,!0),c.factory=()=>In(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Jh&&(o.value=Mv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Rd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=kt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function hh(t){const r=kr(t),o=null!==r?r.factory:Xo(t);if(null!==o)return o;if(t instanceof Ts)throw new Re(204,!1);if(t instanceof Function)return function Og(t){const r=t.length;if(r>0)throw vl(r,"?"),new Re(204,!1);const o=function ui(t){return t&&(t[hi]||t[fi])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Re(204,!1)}function em(t,r,o){let a;if(jc(t)){const c=kt(t);return Xo(c)||hh(c)}if(Qf(t))a=()=>kt(t.useValue);else if(function Mg(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...In(t.deps||[]));else if(function cd(t){return!(!t||!t.useExisting)}(t))a=()=>vt(kt(t.useExisting));else{const c=kt(t&&(t.useClass||t.provide));if(!function Pg(t){return!!t.deps}(t))return Xo(c)||hh(c);a=()=>new c(...In(t.deps))}return a}function fh(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function tp(t,r){for(const o of t)Array.isArray(o)?tp(o,r):o&&Rt(o)?tp(o.\u0275providers,r):r(o)}const tm=new Ts("AppId",{providedIn:"root",factory:()=>Ov}),Ov="ng",nm=new Ts("Platform Initializer"),rm=new Ts("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),im=new Ts("AnimationModuleType"),ul=new Ts("CSP nonce",{providedIn:"root",factory:()=>function ih(){if(void 0!==Bf)return Bf;if(typeof document<"u")return document;throw new Re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ng=(t,r,o)=>null;function ip(t,r,o=!1){return Ng(t,r,o)}class um{}class sf{}class dm{resolveComponentFactory(r){throw function af(t){const r=Error(`No component factory found for ${Ke(t)}.`);return r.ngComponent=t,r}(r)}}let Pd=(()=>{class r{}return r.NULL=new dm,r})();function jg(){return Eh(_s(),tn())}function Eh(t,r){return new wh(Po(t,r))}let wh=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=jg,r})();function ap(t){return t instanceof wh?t.nativeElement:t}class lp{}let Lv=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Vv(){const t=tn(),o=Go(_s().index,t);return(ps(o)?o:t)[lr]}(),r})(),Fl=(()=>{var t;class r{}return(t=r).\u0275prov=Un({token:t,providedIn:"root",factory:()=>null}),r})();class Hg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const hm=new Hg("16.2.4"),Ih={};function hf(t,r=null,o=null,a){const c=Ch(t,r,o,a);return c.resolveInjectorInitializers(),c}function Ch(t,r=null,o=null,a,c=new Set){const f=[o||an,Nl(t)];return a=a||("object"==typeof t?void 0:Ke(t)),new ep(f,r||Jf(),a||null,c)}let wc=(()=>{var t;class r{static create(a,c){if(Array.isArray(a))return hf({name:""},c,a,"");{const f=a.name??"";return hf({name:f},a.parent,a.providers,f)}}}return(t=r).THROW_IF_NOT_FOUND=gn,t.NULL=new Yf,t.\u0275prov=Un({token:t,providedIn:"any",factory:()=>vt(Qh)}),t.__NG_ELEMENT_ID__=-1,r})();function dp(t){return r=>{setTimeout(t,void 0,r)}}const vu=class ud extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,f=o||(()=>null),y=a;if(r&&"object"==typeof r){const P=r;c=P.next?.bind(P),f=P.error?.bind(P),y=P.complete?.bind(P)}this.__isAsync&&(f=dp(f),c&&(c=dp(c)),y&&(y=dp(y)));const x=super.subscribe({next:c,error:f,complete:y});return r instanceof H.w0&&r.add(x),x}};function Wg(...t){}class il{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function zv(){const t="function"==typeof Er.requestAnimationFrame;let r=Er[t?"requestAnimationFrame":"setTimeout"],o=Er[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function qg(t){const r=()=>{!function $v(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Er,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hp(t),t.isCheckStableRunning=!0,gm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,f,y,x)=>{if(function vm(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(x))return o.invokeTask(c,f,y,x);try{return Kg(t),o.invokeTask(c,f,y,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&r(),Zg(t)}},onInvoke:(o,a,c,f,y,x,P)=>{try{return Kg(t),o.invoke(c,f,y,x,P)}finally{t.shouldCoalesceRunChangeDetection&&r(),Zg(t)}},onHasTask:(o,a,c,f)=>{o.hasTask(c,f),a===c&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,hp(t),gm(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,c,f)=>(o.handleError(c,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!il.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(il.isInAngularZone())throw new Re(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+c,r,xh,Wg,Wg);try{return f.runTask(y,o,a)}finally{f.cancelTask(y)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const xh={};function gm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zg(t){t._nesting--,gm(t)}class Gv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const Yg=new Ts("",{providedIn:"root",factory:_m});function _m(){const t=qt(il);let r=!0;const o=new ae.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ae.y(c=>{let f;t.runOutsideAngular(()=>{f=t.onStable.subscribe(()=>{il.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=t.onUnstable.subscribe(()=>{il.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,Te.T)(o,a.pipe((0,Ve.B)()))}function ac(t){return t instanceof Function?t():t}let ff=(()=>{var t;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Re(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=r).\u0275prov=Un({token:t,providedIn:"root",factory:()=>new t}),r})();function Nd(t){for(;t;){t[yr]|=64;const r=qo(t);if(vo(t)&&!r)return t;t=r}return null}function pf(t){return t.ngOriginalError}class hd{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&pf(r);for(;o&&pf(o);)o=pf(o);return o||null}}const Jg=new Ts("",{providedIn:"root",factory:()=>!1});let mf=null;function l_(t,r){return t[r]??gp()}function c_(t,r){const o=gp();o.producerNode?.length&&(t[r]=mf,o.lView=t,mf=mp())}const Zv={...co,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nd(t.lView)},lView:null};function mp(){return Object.create(Zv)}function gp(){return mf??=mp(),mf}const ci={};function bm(t){_p(mi(),tn(),ca()+t,!1)}function _p(t,r,o,a){if(!a)if(3==(3&r[yr])){const f=t.preOrderCheckHooks;null!==f&&Wo(r,f,o)}else{const f=t.preOrderHooks;null!==f&&ec(r,f,0,o)}Oi(o)}function Sh(t,r=kn.Default){const o=tn();return null===o?vt(t,r):Yc(_s(),o,kt(t),r)}function vp(){throw new Error("invalid")}function yp(t,r,o,a,c,f,y,x,P,re,pe){const Ue=r.blueprint.slice();return Ue[yi]=c,Ue[yr]=140|a,(null!==re||t&&2048&t[yr])&&(Ue[yr]|=2048),wa(Ue),Ue[bi]=Ue[Vs]=t,Ue[Li]=o,Ue[To]=y||t&&t[To],Ue[lr]=x||t&&t[lr],Ue[Ki]=P||t&&t[Ki]||null,Ue[ns]=f,Ue[va]=function Sa(){return Is++}(),Ue[So]=pe,Ue[oa]=re,Ue[Zi]=2==r.type?t[Zi]:Ue,Ue}function Ah(t,r,o,a,c){let f=t.data[r];if(null===f)f=function Em(t,r,o,a,c){const f=Qa(),y=cr(),P=t.data[r]=function f_(t,r,o,a,c,f){let y=r?r.injectorIndex:-1,x=0;return ko()&&(x|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=P),null!==f&&(y?null==f.child&&null!==P.parent&&(f.child=P):null===f.next&&(f.next=P,P.prev=f)),P}(t,r,o,a,c),function U(){return Dr.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=a,f.attrs=c;const y=function Gi(){const t=Dr.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return sn(f,!0),f}function gf(t,r,o,a){if(0===o)return-1;const c=r.length;for(let f=0;f<o;f++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function u_(t,r,o,a,c){const f=l_(r,Ho),y=ca(),x=2&a;try{Oi(-1),x&&r.length>Gr&&_p(t,r,Gr,!1),Os(x?2:0,c);const re=x?f:null,pe=Eo(re);try{null!==re&&(re.dirty=!1),o(a,c)}finally{Va(re,pe)}}finally{x&&null===r[Ho]&&c_(r,Ho),Oi(y),Os(x?3:1,c)}}function wm(t,r,o){if(ya(r)){const a=Rs(null);try{const f=r.directiveEnd;for(let y=r.directiveStart;y<f;y++){const x=t.data[y];x.contentQueries&&x.contentQueries(1,o[y],y)}}finally{Rs(a)}}}function bp(t,r,o){Bl()&&(function p_(t,r,o,a){const c=o.directiveStart,f=o.directiveEnd;Ao(o)&&function g_(t,r,o){const a=Po(r,t),c=d_(o);let y=16;o.signals?y=4096:o.onPush&&(y=64);const x=bf(t,yp(t,c,null,y,a,r,null,t[To].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=x}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||Ol(o,r),Uo(a,r);const y=o.initialInputs;for(let x=c;x<f;x++){const P=t.data[x],re=pc(r,t,x,o);Uo(re,r),null!==y&&iy(0,x-c,re,P,0,y),As(P)&&(Go(o.index,r)[Li]=pc(r,t,x,o))}}(t,r,o,Po(o,r)),64==(64&o.flags)&&yf(t,r,o))}function Ep(t,r,o=Po){const a=r.localNames;if(null!==a){let c=r.index+1;for(let f=0;f<a.length;f+=2){const y=a[f+1],x=-1===y?o(r,t):t[y];t[c++]=x}}}function d_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Im(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Im(t,r,o,a,c,f,y,x,P,re,pe){const Ue=Gr+a,at=Ue+c,It=function Yv(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:ci);return o}(Ue,at),Qt="function"==typeof re?re():re;return It[Cn]={type:t,blueprint:It,template:o,queries:null,viewQuery:x,declTNode:r,data:It.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:P,consts:Qt,incompleteFirstPass:!1,ssrId:pe}}let h_=t=>null;function Fd(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const f=t[c];null===a?Dm(o,r,c,f):a.hasOwnProperty(c)&&Dm(o,r,a[c],f)}return o}function Dm(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Ic(t,r,o,a,c,f,y,x){const P=Po(r,o);let pe,re=r.inputs;!x&&null!=re&&(pe=re[a])?(Tp(t,o,pe,a,c),Ao(r)&&function Jv(t,r){const o=Go(r,t);16&o[yr]||(o[yr]|=64)}(o,r.index)):3&r.type&&(a=function Xv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=y?y(c,r.value||"",a):c,f.setProperty(P,a,c))}function vf(t,r,o,a){if(Bl()){const c=null===a?null:{"":-1},f=function Rm(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let f=0;f<o.length;f++){const y=o[f];if(Ee(r,y.selectors,!1))if(a||(a=[]),As(y))if(null!==y.findHostDirectiveDefs){const x=[];c=c||new Map,y.findHostDirectiveDefs(y,x,c),a.unshift(...x,y),Cp(t,r,x.length)}else a.unshift(y),Cp(t,r,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,a,c),a.push(y)}return null===a?null:[a,c]}(t,o);let y,x;null===f?y=x=null:[y,x]=f,null!==y&&Am(t,r,o,y,c,x),c&&function Mh(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const f=o[r[c+1]];if(null==f)throw new Re(-301,!1);a.push(r[c],f)}}}(o,a,c)}o.mergedAttrs=un(o.mergedAttrs,o.attrs)}function Am(t,r,o,a,c,f){for(let re=0;re<a.length;re++)Zc(Ol(o,r),t,a[re].type);!function ny(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let re=0;re<a.length;re++){const pe=a[re];pe.providersResolver&&pe.providersResolver(pe)}let y=!1,x=!1,P=gf(t,r,a.length,null);for(let re=0;re<a.length;re++){const pe=a[re];o.mergedAttrs=un(o.mergedAttrs,pe.hostAttrs),ry(t,o,r,P,pe),ty(P,pe,c),null!==pe.contentQueries&&(o.flags|=4),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(o.flags|=64);const Ue=pe.type.prototype;!y&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),y=!0),!x&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),x=!0),P++}!function wp(t,r,o){const c=r.directiveEnd,f=t.data,y=r.attrs,x=[];let P=null,re=null;for(let pe=r.directiveStart;pe<c;pe++){const Ue=f[pe],at=o?o.get(Ue):null,Qt=at?at.outputs:null;P=Fd(Ue.inputs,pe,P,at?at.inputs:null),re=Fd(Ue.outputs,pe,re,Qt);const xn=null===P||null===y||nt(r)?null:sy(P,pe,y);x.push(xn)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=8),P.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=x,r.inputs=P,r.outputs=re}(t,o,f)}function yf(t,r,o){const a=o.directiveStart,c=o.directiveEnd,f=o.index,y=function me(){return Dr.lFrame.currentDirectiveIndex}();try{Oi(f);for(let x=a;x<c;x++){const P=t.data[x],re=r[x];Me(x),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&m_(P,re)}}finally{Oi(-1),Me(y)}}function m_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Cp(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function ty(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;As(r)&&(o[""]=t)}}function ry(t,r,o,a,c){t.data[a]=c;const f=c.factory||(c.factory=Xo(c.type)),y=new tc(f,As(c),Sh);t.blueprint[a]=y,o[a]=y,function Mm(t,r,o,a,c){const f=c.hostBindings;if(f){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const x=~r.index;(function Ip(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(y)!=x&&y.push(x),y.push(o,a,f)}}(t,r,a,gf(t,o,c.hostVars,ci),c)}function yu(t,r,o,a,c,f){const y=Po(t,r);!function xp(t,r,o,a,c,f,y){if(null==f)t.removeAttribute(r,c,o);else{const x=null==y?je(f):y(f,a||"",c);t.setAttribute(r,c,x,o)}}(r[lr],y,f,t.value,o,a,c)}function iy(t,r,o,a,c,f){const y=f[r];if(null!==y)for(let x=0;x<y.length;)__(a,o,y[x++],y[x++],y[x++])}function __(t,r,o,a,c){const f=Rs(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{Rs(f)}}function sy(t,r,o){let a=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;if(t.hasOwnProperty(f)){null===a&&(a=[]);const y=t[f];for(let x=0;x<y.length;x+=2)if(y[x]===r){a.push(f,y[x+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function v_(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Om(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const f=o[a+1];if(-1!==f){const y=t.data[f];Gt(o[a]),y.contentQueries(2,r[f],f)}}}function bf(t,r){return t[Do]?t[go][zi]=r:t[Do]=r,t[go]=r,r}function Ef(t,r,o){Gt(0);const a=Rs(null);try{r(t,o)}finally{Rs(a)}}function Pm(t){return t[Ws]||(t[Ws]=[])}function km(t){return t.cleanup||(t.cleanup=[])}function wf(t,r,o){return(null===t||As(t))&&(o=function Il(t){for(;Array.isArray(t);){if("object"==typeof t[Ra])return t;t=t[yi]}return null}(o[r.index])),o[lr]}function es(t,r){const o=t[Ki],a=o?o.get(hd,null):null;a&&a.handleError(r)}function Tp(t,r,o,a,c){for(let f=0;f<o.length;){const y=o[f++],x=o[f++];__(t.data[y],r[y],a,x,c)}}function If(t,r){const o=Go(r,t),a=o[Cn];!function y_(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[yi];null!==c&&null===o[So]&&(o[So]=ip(c,o[Ki])),Zo(a,o,o[Li])}function Zo(t,r,o){Xi(r);try{const a=t.viewQuery;null!==a&&Ef(1,a,o);const c=t.template;null!==c&&u_(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Om(t,r),t.staticViewQueries&&Ef(2,t.viewQuery,o);const f=t.components;null!==f&&function bl(t,r){for(let o=0;o<r.length;o++)If(t,r[o])}(r,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[yr]&=-5,Wn()}}let ru=(()=>{var t;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,f){const y=typeof Zone>"u"?null:Zone.current,x=function tt(t,r,o){const a=Object.create(En);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=y=>{a.cleanupFn=y};return a.ref={notify:()=>La(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ms(a))return;a.hasRun=!0;const y=Eo(a);try{a.cleanupFn(),a.cleanupFn=zt,a.fn(c)}finally{Va(a,y)}},cleanup:()=>a.cleanupFn()},a.ref}(a,pe=>{this.all.has(pe)&&this.queue.set(pe,y)},f);let P;this.all.add(x),x.notify();const re=()=>{x.cleanup(),P?.(),this.all.delete(x),this.queue.delete(x)};return P=c?.onDestroy(re),{destroy:re}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=r).\u0275prov=Un({token:t,providedIn:"root",factory:()=>new t}),r})();function Dp(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,f=0;if(null!==r)for(let y=0;y<r.length;y++){const x=r[y];"number"==typeof x?f=x:1==f?c=lt(c,x):2==f&&(a=lt(a,x+": "+r[++y]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Rh(t,r,o,a,c=!1){for(;null!==o;){const f=r[o.index];null!==f&&a.push($i(f)),Jr(f)&&b_(f,a);const y=o.type;if(8&y)Rh(t,r,o.child,a);else if(32&y){const x=Wl(o,r);let P;for(;P=x();)a.push(P)}else if(16&y){const x=Ff(r,o);if(Array.isArray(x))a.push(...x);else{const P=qo(r[Zi]);Rh(P[Cn],P,x,a,!0)}}o=c?o.projectionNext:o.next}return a}function b_(t,r){for(let o=Wr;o<t.length;o++){const a=t[o],c=a[Cn].firstChild;null!==c&&Rh(a[Cn],a,c,r)}t[rs]!==t[yi]&&r.push(t[rs])}function Oh(t,r,o,a=!0){const c=r[To],f=c.rendererFactory,y=c.afterRenderEventManager;f.begin?.(),y?.begin();try{E_(t,r,t.template,o)}catch(P){throw a&&es(r,P),P}finally{f.end?.(),c.effectManager?.flush(),y?.end()}}function E_(t,r,o,a){const c=r[yr];if(256!=(256&c)){r[To].effectManager?.flush(),Xi(r);try{wa(r),function Lt(t){return Dr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&u_(t,r,o,2,a);const y=3==(3&c);if(y){const re=t.preOrderCheckHooks;null!==re&&Wo(r,re,null)}else{const re=t.preOrderHooks;null!==re&&ec(r,re,0,null),dc(r,0)}if(function Bo(t){for(let r=yc(t);null!==r;r=du(r)){if(!r[Ss])continue;const o=r[Js];for(let a=0;a<o.length;a++){au(o[a])}}}(r),w_(r,2),null!==t.contentQueries&&Om(t,r),y){const re=t.contentCheckHooks;null!==re&&Wo(r,re)}else{const re=t.contentHooks;null!==re&&ec(r,re,1),dc(r,1)}!function Hu(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=l_(r,ao);try{for(let c=0;c<o.length;c++){const f=o[c];if(f<0)Oi(~f);else{const y=f,x=o[++c],P=o[++c];Q(x,y),a.dirty=!1;const re=Eo(a);try{P(2,r[y])}finally{Va(a,re)}}}}finally{null===r[ao]&&c_(r,ao),Oi(-1)}}(t,r);const x=t.components;null!==x&&_a(r,x,0);const P=t.viewQuery;if(null!==P&&Ef(2,P,a),y){const re=t.viewCheckHooks;null!==re&&Wo(r,re)}else{const re=t.viewHooks;null!==re&&ec(r,re,2),dc(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[yr]&=-73,xu(r)}finally{Wn()}}}function w_(t,r){for(let o=yc(t);null!==o;o=du(o))for(let a=Wr;a<o.length;a++)I_(o[a],r)}function Bb(t,r,o){I_(Go(r,t),o)}function I_(t,r){if(!function cc(t){return 128==(128&t[yr])}(t))return;const o=t[Cn],a=t[yr];if(80&a&&0===r||1024&a||2===r)E_(o,t,o.template,t[Li]);else if(t[Gs]>0){w_(t,1);const c=o.components;null!==c&&_a(t,c,1)}}function _a(t,r,o){for(let a=0;a<r.length;a++)Bb(t,r[a],o)}class Ph{get rootNodes(){const r=this._lView,o=r[Cn];return Rh(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Li]}set context(r){this._lView[Li]=r}get destroyed(){return 256==(256&this._lView[yr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[bi];if(Jr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(I(r,a),Lc(o,a))}this._attachedToViewContainer=!1}X(this._lView[Cn],this._lView)}onDestroy(r){!function Zl(t,r){if(256==(256&t[yr]))throw new Re(911,!1);null===t[Qs]&&(t[Qs]=[]),t[Qs].push(r)}(this._lView,r)}markForCheck(){Nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[yr]&=-129}reattach(){this._lView[yr]|=128}detectChanges(){Oh(this._lView[Cn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hp(t,r){qh(t,r,r[lr],2,null,null)}(this._lView[Cn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=r}}class ly extends Ph{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Oh(r[Cn],r,r[Li],!1)}checkNoChanges(){}get context(){return null}}class C_ extends Pd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Cr(r);return new Cf(o,this.ngModule)}}function Fm(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class uy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Sn(a);const c=this.injector.get(r,Ih,a);return c!==Ih||o===Ih?c:this.parentInjector.get(r,o,a)}}class Cf extends sf{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Fm(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return Fm(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Ge(t){return t.map(De).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){let f=(c=c||this.ngModule)instanceof tu?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new uy(r,f):r,x=y.get(lp,null);if(null===x)throw new Re(407,!1);const Ue={rendererFactory:x,sanitizer:y.get(Fl,null),effectManager:y.get(ru,null),afterRenderEventManager:y.get(ff,null)},at=x.createRenderer(null,this.componentDef),It=this.componentDef.selectors[0][0]||"div",Qt=a?function Cm(t,r,o,a){const f=a.get(Jg,!1)||o===Kt.ShadowDom,y=t.selectRootElement(r,f);return function xm(t){h_(t)}(y),y}(at,a,this.componentDef.encapsulation,y):sc(at,It,function cy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(It)),Vr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let mn=null;null!==Qt&&(mn=ip(Qt,y,!0));const Ci=Im(0,null,null,1,0,null,null,null,null,null,null),qi=yp(null,Ci,null,Vr,null,null,Ue,at,y,null,mn);let po,$c;Xi(qi);try{const Kd=this.componentDef;let Bp,Mb=null;Kd.findHostDirectiveDefs?(Bp=[],Mb=new Map,Kd.findHostDirectiveDefs(Kd,Bp,Mb),Bp.push(Kd)):Bp=[Kd];const WT=function jb(t,r){const o=t[Cn],a=Gr;return t[a]=r,Ah(o,a,2,"#host",null)}(qi,Qt),qT=function hy(t,r,o,a,c,f,y){const x=c[Cn];!function fy(t,r,o,a){for(const c of t)r.mergedAttrs=un(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Dp(r,r.mergedAttrs,!0),null!==o&&Vf(a,o,r))}(a,t,r,y);let P=null;null!==r&&(P=ip(r,c[Ki]));const re=f.rendererFactory.createRenderer(r,o);let pe=16;o.signals?pe=4096:o.onPush&&(pe=64);const Ue=yp(c,d_(o),null,pe,c[t.index],t,f,re,null,null,P);return x.firstCreatePass&&Cp(x,t,a.length-1),bf(c,Ue),c[t.index]=Ue}(WT,Qt,Kd,Bp,qi,Ue,at);$c=xc(Ci,Gr),Qt&&function xf(t,r,o,a){if(a)cs(t,o,["ng-version",hm.full]);else{const{attrs:c,classes:f}=function ot(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===c?""!==f&&r.push(f,t[++a]):8===c&&o.push(f);else{if(!$(c))break;c=f}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&cs(t,o,c),f&&f.length>0&&ga(t,o,f.join(" "))}}(at,Kd,Qt,a),void 0!==o&&function py(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const f=o[c];a.push(null!=f?Array.from(f):null)}}($c,this.ngContentSelectors,o),po=function x_(t,r,o,a,c,f){const y=_s(),x=c[Cn],P=Po(y,c);Am(x,c,y,o,null,a);for(let pe=0;pe<o.length;pe++)Uo(pc(c,x,y.directiveStart+pe,y),c);yf(x,c,y),P&&Uo(P,c);const re=pc(c,x,y.directiveStart+y.componentOffset,y);if(t[Li]=c[Li]=re,null!==f)for(const pe of f)pe(re,r);return wm(x,y,t),re}(qT,Kd,Bp,Mb,qi,[fd]),Zo(Ci,qi,null)}finally{Wn()}return new dy(this.componentType,po,Eh($c,qi),qi,$c)}}class dy extends um{constructor(r,o,a,c,f){super(),this.location=a,this._rootLView=c,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new ly(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const f=this._rootLView;Tp(f[Cn],f,c,r,o),this.previousInputValues.set(r,o),Nd(Go(this._tNode.index,f))}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function fd(){const t=_s();Ps(tn()[Cn],t)}function T_(t){let r=function zu(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if(As(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Re(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const y=t;y.inputs=Vd(t.inputs),y.inputTransforms=Vd(t.inputTransforms),y.declaredInputs=Vd(t.declaredInputs),y.outputs=Vd(t.outputs);const x=c.hostBindings;x&&D_(t,x);const P=c.viewQuery,re=c.contentQueries;if(P&&my(t,P),re&&gy(t,re),ve(t.inputs,c.inputs),ve(t.declaredInputs,c.declaredInputs),ve(t.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),ve(y.inputTransforms,c.inputTransforms)),As(c)&&c.data.animation){const pe=t.data;pe.animation=(pe.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let y=0;y<f.length;y++){const x=f[y];x&&x.ngInherit&&x(t),x===T_&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Ld(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=un(c.hostAttrs,o=un(o,c.hostAttrs))}}(a)}function Vd(t){return t===_n?{}:t===an?[]:t}function my(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function gy(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,f)=>{r(a,c,f),o(a,c,f)}:r}function D_(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function O_(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Nh(t){return!!$u(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function $u(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function iu(t,r,o){return t[r]=o}function Bd(t,r){return t[r]}function Ga(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function jd(t,r,o,a){const c=Ga(t,r,o);return Ga(t,r+1,a)||c}function Ap(t,r,o,a){const c=tn();return Ga(c,w(),r)&&(mi(),yu(dn(),c,t,r,o,a)),Ap}function Fh(t,r,o,a){return Ga(t,w(),o)?r+je(o)+a:ci}function G_(t,r,o,a,c,f,y,x){const P=tn(),re=mi(),pe=t+Gr,Ue=re.firstCreatePass?function Ry(t,r,o,a,c,f,y,x,P){const re=r.consts,pe=Ah(r,t,4,y||null,Ya(re,x));vf(r,o,pe,Ya(re,P)),Ps(r,pe);const Ue=pe.tView=Im(2,pe,a,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,re,null);return null!==r.queries&&(r.queries.template(r,pe),Ue.queries=r.queries.embeddedTView(pe)),pe}(pe,re,P,r,o,a,c,f,y):re.data[pe];sn(Ue,!1);const at=W_(re,P,Ue,t);Ml()&&rl(re,P,at,Ue),Uo(at,P),bf(P,P[pe]=v_(at,P,at,Ue)),qs(Ue)&&bp(re,P,Ue),null!=y&&Ep(P,Ue,x)}let W_=function qd(t,r,o,a){return Xa(!0),r[lr].createComment("")};function q_(t){return function Cl(t,r){return t[r]}(function Xl(){return Dr.lFrame.contextLView}(),Gr+t)}function Gm(t,r,o){const a=tn();return Ga(a,w(),r)&&Ic(mi(),dn(),a,t,r,a[lr],o,!1),Gm}function Wm(t,r,o,a,c){const y=c?"class":"style";Tp(t,o,r.inputs[y],y,a)}function qm(t,r,o,a){const c=tn(),f=mi(),y=Gr+t,x=c[lr],P=f.firstCreatePass?function Py(t,r,o,a,c,f){const y=r.consts,P=Ah(r,t,2,a,Ya(y,c));return vf(r,o,P,Ya(y,f)),null!==P.attrs&&Dp(P,P.attrs,!1),null!==P.mergedAttrs&&Dp(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(y,f,c,r,o,a):f.data[y],re=ky(f,c,P,x,r,t);c[y]=re;const pe=qs(P);return sn(P,!0),Vf(x,re,P),32!=(32&P.flags)&&Ml()&&rl(f,c,re,P),0===function Dl(){return Dr.lFrame.elementDepthCount}()&&Uo(re,c),function uc(){Dr.lFrame.elementDepthCount++}(),pe&&(bp(f,c,P),wm(f,P,c)),null!==a&&Ep(c,P),qm}function Km(){let t=_s();cr()?ho():(t=t.parent,sn(t,!1));const r=t;(function ml(t){return Dr.skipHydrationRootTNode===t})(r)&&function Ql(){Dr.skipHydrationRootTNode=null}(),function Ul(){Dr.lFrame.elementDepthCount--}();const o=mi();return o.firstCreatePass&&(Ps(o,t),ya(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function vd(t){return 0!=(8&t.flags)}(r)&&Wm(o,r,tn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Wc(t){return 0!=(16&t.flags)}(r)&&Wm(o,r,tn(),r.stylesWithoutHost,!1),Km}function K_(t,r,o,a){return qm(t,r,o,a),Km(),K_}let ky=(t,r,o,a,c,f)=>(Xa(!0),sc(a,c,function Ca(){return Dr.lFrame.currentNamespace}()));function Y_(){return tn()}function Qm(t){return!!t&&"function"==typeof t.then}function Q_(t){return!!t&&"function"==typeof t.subscribe}function Xm(t,r,o,a){const c=tn(),f=mi(),y=_s();return By(f,c,c[lr],y,t,r,a),Xm}function Jm(t,r){const o=_s(),a=tn(),c=mi();return By(c,a,wf(wt(c.data),o,a),o,t,r),Jm}function By(t,r,o,a,c,f,y){const x=qs(a),re=t.firstCreatePass&&km(t),pe=r[Li],Ue=Pm(r);let at=!0;if(3&a.type||y){const xn=Po(a,r),qn=y?y(xn):xn,Vr=Ue.length,mn=y?qi=>y($i(qi[a.index])):a.index;let Ci=null;if(!y&&x&&(Ci=function Wb(t,r,o,a){const c=t.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const y=c[f];if(y===o&&c[f+1]===a){const x=r[Ws],P=c[f+2];return x.length>P?x[P]:null}"string"==typeof y&&(f+=2)}return null}(t,r,c,a.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=f,Ci.__ngLastListenerFn__=f,at=!1;else{f=i(a,r,pe,f,!1);const qi=o.listen(qn,c,f);Ue.push(f,qi),re&&re.push(c,mn,Vr,Vr+1)}}else f=i(a,r,pe,f,!1);const It=a.outputs;let Qt;if(at&&null!==It&&(Qt=It[c])){const xn=Qt.length;if(xn)for(let qn=0;qn<xn;qn+=2){const po=r[Qt[qn]][Qt[qn+1]].subscribe(f),$c=Ue.length;Ue.push(f,po),re&&re.push(c,a.index,$c,-($c+1))}}}function eg(t,r,o,a){try{return Os(6,r,o),!1!==o(a)}catch(c){return es(t,c),!1}finally{Os(7,r,o)}}function i(t,r,o,a,c){return function f(y){if(y===Function)return a;Nd(t.componentOffset>-1?Go(t.index,r):r);let P=eg(r,o,a,y),re=f.__ngNextListenerFn__;for(;re;)P=eg(r,o,re,y)&&P,re=re.__ngNextListenerFn__;return c&&!1===P&&y.preventDefault(),P}}function e(t=1){return function ll(t){return(Dr.lFrame.contextLView=function Si(t,r){for(;t>0;)r=r[Vs],t--;return r}(t,Dr.lFrame.contextLView))[Li]}(t)}function n(t,r){let o=null;const a=function qe(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f){if(null===a?Ee(t,f,!0):ge(a,f))return c}else o=c}return o}function s(t){const r=tn()[Zi][ns];if(!r.projection){const a=r.projection=vl(t?t.length:1,null),c=a.slice();let f=r.child;for(;null!==f;){const y=t?n(f,t):0;null!==y&&(c[y]?c[y].projectionNext=f:a[y]=f,c[y]=f),f=f.next}}}function l(t,r=0,o){const a=tn(),c=mi(),f=Ah(c,Gr+t,16,null,o||null);null===f.projection&&(f.projection=r),ho(),(!a[So]||ko())&&32!=(32&f.flags)&&function gv(t,r,o){Lf(r[lr],0,r,o,dt(t,o,r),$a(o.parent||r[ns],o,r))}(c,a,f)}function u(t,r,o){return m(t,"",r,"",o),u}function m(t,r,o,a,c){const f=tn(),y=Fh(f,r,o,a);return y!==ci&&Ic(mi(),dn(),f,t,y,f[lr],c,!1),m}function Tn(t,r){return t<<17|r<<2}function Pn(t){return t>>17&32767}function Pr(t){return 2|t}function wi(t){return(131068&t)>>2}function Ds(t,r){return-131069&t|r<<2}function El(t){return 1|t}function Rf(t,r,o,a,c){const f=t[o+1],y=null===r;let x=a?Pn(f):wi(f),P=!1;for(;0!==x&&(!1===P||y);){const pe=t[x+1];Hy(t[x],r)&&(P=!0,t[x+1]=a?El(pe):Pr(pe)),x=a?Pn(pe):wi(pe)}P&&(t[o+1]=a?Pr(f):El(f))}function Hy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Jc(t,r)>=0}function zy(t,r){return function qu(t,r,o,a){const c=tn(),f=mi(),y=function S(t){const r=Dr.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);f.firstUpdatePass&&function e0(t,r,o,a){const c=t.data;if(null===c[o+1]){const f=c[ca()],y=function Jb(t,r){return r>=t.expandoStartIndex}(t,o);(function s0(t,r){return 0!=(t.flags&(r?8:16))})(f,a)&&null===r&&!y&&(r=!1),r=function Gw(t,r,o,a){const c=wt(t);let f=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=tg(o=$y(null,t,r,o,a),r.attrs,a),f=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==c)if(o=$y(c,t,r,o,a),null===f){let P=function Ww(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==wi(a))return t[Pn(a)]}(t,r,a);void 0!==P&&Array.isArray(P)&&(P=$y(null,t,r,P[1],a),P=tg(P,r.attrs,a),function qw(t,r,o,a){t[Pn(o?r.classBindings:r.styleBindings)]=a}(t,r,a,P))}else f=function Kw(t,r,o){let a;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)a=tg(a,t[f].hostAttrs,o);return tg(a,r.attrs,o)}(t,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),o}(c,f,r,a),function jy(t,r,o,a,c,f){let y=f?r.classBindings:r.styleBindings,x=Pn(y),P=wi(y);t[a]=o;let pe,re=!1;if(Array.isArray(o)?(pe=o[1],(null===pe||Jc(o,pe)>0)&&(re=!0)):pe=o,c)if(0!==P){const at=Pn(t[x+1]);t[a+1]=Tn(at,x),0!==at&&(t[at+1]=Ds(t[at+1],a)),t[x+1]=function Ai(t,r){return 131071&t|r<<17}(t[x+1],a)}else t[a+1]=Tn(x,0),0!==x&&(t[x+1]=Ds(t[x+1],a)),x=a;else t[a+1]=Tn(P,0),0===x?x=a:t[P+1]=Ds(t[P+1],a),P=a;re&&(t[a+1]=Pr(t[a+1])),Rf(t,pe,a,!0),Rf(t,pe,a,!1),function X_(t,r,o,a,c){const f=c?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof r&&Jc(f,r)>=0&&(o[a+1]=El(o[a+1]))}(r,pe,t,a,f),y=Tn(x,P),f?r.classBindings=y:r.styleBindings=y}(c,f,r,o,y,a)}}(f,t,y,a),r!==ci&&Ga(c,y,r)&&function n0(t,r,o,a,c,f,y,x){if(!(3&r.type))return;const P=t.data,re=P[x+1],pe=function Yo(t){return 1==(1&t)}(re)?r0(P,r,o,c,wi(re),y):void 0;ev(pe)||(ev(f)||function Ii(t){return 2==(2&t)}(re)&&(f=r0(P,null,o,c,x,y)),function fg(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:Nr.DashCase;null==c?t.removeStyle(o,a,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Nr.Important),t.setStyle(o,a,c,f))}}(a,y,Vl(ca(),o),c,f))}(f,f.data[ca()],c,c[lr],t,c[y+1]=function Xw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ke(Lu(t)))),t}(r,o),a,y)}(t,r,null,!0),zy}function $y(t,r,o,a,c){let f=null;const y=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<y&&(f=r[x],a=tg(a,f.hostAttrs,c),f!==t);)x++;return null!==t&&(o.directiveStylingLast=x),a}function tg(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const y=r[f];"number"==typeof y?c=y:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ta(t,y,!!o||r[++f]))}return void 0===t?null:t}function r0(t,r,o,a,c,f){const y=null===r;let x;for(;c>0;){const P=t[c],re=Array.isArray(P),pe=re?P[1]:P,Ue=null===pe;let at=o[c+1];at===ci&&(at=Ue?an:void 0);let It=Ue?cu(at,a):pe===a?at:void 0;if(re&&!ev(It)&&(It=cu(P,a)),ev(It)&&(x=It,y))return x;const Qt=t[c+1];c=y?Pn(Qt):wi(Qt)}if(null!==r){let P=f?r.residualClasses:r.residualStyles;null!=P&&(x=cu(P,a))}return x}function ev(t){return void 0!==t}function o0(t,r=""){const o=tn(),a=mi(),c=t+Gr,f=a.firstCreatePass?Ah(a,c,1,r,null):a.data[c],y=a0(a,o,f,r,t);o[c]=y,Ml()&&rl(a,o,y,f),sn(f,!1)}let a0=(t,r,o,a,c)=>(Xa(!0),function nh(t,r){return t.createText(r)}(r[lr],a));function Gy(t){return tv("",t,""),Gy}function tv(t,r,o){const a=tn(),c=Fh(a,t,r,o);return c!==ci&&function bu(t,r,o){const a=Vl(r,t);!function Gh(t,r,o){t.setValue(r,o)}(t[lr],a,o)}(a,ca(),c),tv}function Wy(t,r,o){const a=tn();return Ga(a,w(),r)&&Ic(mi(),dn(),a,t,r,a[lr],o,!0),Wy}function qy(t,r,o){const a=tn();if(Ga(a,w(),r)){const f=mi(),y=dn();Ic(f,y,a,t,r,wf(wt(f.data),y,a),o,!0)}return qy}const Of=void 0;var bI=["en",[["a","p"],["AM","PM"],Of],[["AM","PM"],Of,Of],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Of,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Of,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Of,"{1} 'at' {0}",Of],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yI(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let kp={};function Ky(t){const r=function EI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=T0(r);if(o)return o;const a=r.split("-")[0];if(o=T0(a),o)return o;if("en"===a)return bI;throw new Re(701,!1)}function x0(t){return Ky(t)[Np.PluralCase]}function T0(t){return t in kp||(kp[t]=Er.ng&&Er.ng.common&&Er.ng.common.locales&&Er.ng.common.locales[t]),kp[t]}var Np=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Np||{});const Fp="en-US";let D0=Fp;function Qy(t,r,o,a,c){if(t=kt(t),Array.isArray(t))for(let f=0;f<t.length;f++)Qy(t[f],r,o,a,c);else{const f=mi(),y=tn(),x=_s();let P=jc(t)?t:kt(t.provide);const re=em(t),pe=1048575&x.providerIndexes,Ue=x.directiveStart,at=x.providerIndexes>>20;if(jc(t)||!t.multi){const It=new tc(re,c,Sh),Qt=Jy(P,r,c?pe:pe+at,Ue);-1===Qt?(Zc(Ol(x,y),f,P),Xy(f,t,r.length),r.push(P),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),o.push(It),y.push(It)):(o[Qt]=It,y[Qt]=It)}else{const It=Jy(P,r,pe+at,Ue),Qt=Jy(P,r,pe,pe+at),qn=Qt>=0&&o[Qt];if(c&&!qn||!c&&!(It>=0&&o[It])){Zc(Ol(x,y),f,P);const Vr=function yC(t,r,o,a,c){const f=new tc(t,o,Sh);return f.multi=[],f.index=r,f.componentProviders=0,X0(f,c,a&&!o),f}(c?vC:_C,o.length,c,a,re);!c&&qn&&(o[Qt].providerFactory=Vr),Xy(f,t,r.length,0),r.push(P),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),o.push(Vr),y.push(Vr)}else Xy(f,t,It>-1?It:Qt,X0(o[c?Qt:It],re,!c&&a));!c&&a&&qn&&o[Qt].componentProviders++}}}function Xy(t,r,o,a){const c=jc(r),f=function Rg(t){return!!t.useClass}(r);if(c||f){const P=(f?kt(r.useClass):r).prototype.ngOnDestroy;if(P){const re=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const pe=re.indexOf(o);-1===pe?re.push(o,[a,P]):re[pe+1].push(a,P)}else re.push(o,P)}}}function X0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function Jy(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function _C(t,r,o,a){return eb(this.multi,[])}function vC(t,r,o,a){const c=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,x=pc(o,o[Cn],this.providerFactory.index,a);f=x.slice(0,y),eb(c,f);for(let P=y;P<x.length;P++)f.push(x[P])}else f=[],eb(c,f);return f}function eb(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function J0(t,r=[]){return o=>{o.providersResolver=(a,c)=>function gC(t,r,o){const a=mi();if(a.firstCreatePass){const c=As(t);Qy(o,a.data,a.blueprint,c,!0),Qy(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Pf{}class eE{}function bC(t,r){return new tb(t,r??null,[])}class tb extends Pf{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new C_(this);const c=ai(r);this._bootstrapComponents=ac(c.bootstrap),this._r3Injector=Ch(r,o,[{provide:Pf,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...a],Ke(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class nb extends eE{constructor(r){super(),this.moduleType=r}create(r){return new tb(this.moduleType,r,[])}}class tE extends Pf{constructor(r){super(),this.componentFactoryResolver=new C_(this),this.instance=null;const o=new ep([...r.providers,{provide:Pf,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],r.parent||Jf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function nE(t,r,o=null){return new tE({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let wC=(()=>{var t;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Jp(0,a.type),f=c.length>0?nE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=r).\u0275prov=Un({token:t,providedIn:"environment",factory:()=>new t(vt(tu))}),r})();function rE(t){t.getStandaloneInjector=r=>r.get(wC).getOrCreateStandaloneInjector(t)}function uE(t,r,o){const a=No()+t,c=tn();return c[a]===ci?iu(c,a,o?r.call(o):r()):Bd(c,a)}function dE(t,r,o,a){return function fE(t,r,o,a,c,f){const y=r+o;return Ga(t,y,c)?iu(t,y+1,f?a.call(f,c):a(c)):function ag(t,r){const o=t[r];return o===ci?void 0:o}(t,y+1)}(tn(),No(),t,r,o,a)}function hE(t,r,o,a,c,f,y,x,P){const re=No()+t,pe=tn(),Ue=function Kl(t,r,o,a,c,f){const y=jd(t,r,o,a);return jd(t,r+2,c,f)||y}(pe,re,o,a,c,f);return jd(pe,re+4,y,x)||Ue?iu(pe,re+6,P?r.call(P,o,a,c,f,y,x):r(o,a,c,f,y,x)):Bd(pe,re+6)}function GC(){return this._results[Symbol.iterator]()}class ib{get changes(){return this._changes||(this._changes=new vu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ib.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=GC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function Ni(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Rr(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],f=r[a];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qC(t,r,o,a=!0){const c=r[Cn];if(function B(t,r,o,a){const c=Wr+a,f=o.length;a>0&&(o[c-1][zi]=r),a<f-Wr?(r[zi]=o[c],da(o,Wr+a,r)):(o.push(r),r[zi]=null),r[bi]=o;const y=r[oo];null!==y&&o!==y&&function h(t,r){const o=t[Js];r[Zi]!==r[bi][bi][Zi]&&(t[Ss]=!0),null===o?t[Js]=[r]:o.push(r)}(y,r);const x=r[_o];null!==x&&x.insertView(t),r[yr]|=128}(c,r,t,o),a){const f=ad(o,t),y=r[lr],x=Ko(y,t[rs]);null!==x&&function Nf(t,r,o,a,c,f){a[yi]=c,a[ns]=r,qh(t,a,o,1,c,f)}(c,t[ns],y,r,x,f)}}let cg=(()=>{class r{}return r.__NG_ELEMENT_ID__=YC,r})();const KC=cg,ZC=class extends KC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function WC(t,r,o,a){const c=r.tView,x=yp(t,c,o,4096&t[yr]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);x[oo]=t[r.index];const re=t[_o];return null!==re&&(x[_o]=re.createEmbeddedView(c)),Zo(c,x,o),x}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Ph(c)}};function YC(){return ov(_s(),tn())}function ov(t,r){return 4&t.type?new ZC(r,t,Eh(t,r)):null}let lv=(()=>{class r{}return r.__NG_ELEMENT_ID__=nx,r})();function nx(){return CE(_s(),tn())}const rx=lv,wE=class extends rx{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Eh(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const r=Hl(this._hostTNode,this._hostLView);if(ks(r)){const o=hc(r,this._hostLView),a=Ja(r);return new ea(o[Cn].data[a+8],o)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=IE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(r,o,a){let c,f;"number"==typeof a?c=a:null!=a&&(c=a.index,f=a.injector);const x=r.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(x,c,false),x}createComponent(r,o,a,c,f){const y=r&&!function Ns(t){return"function"==typeof t}(r);let x;if(y)x=o;else{const xn=o||{};x=xn.index,a=xn.injector,c=xn.projectableNodes,f=xn.environmentInjector||xn.ngModuleRef}const P=y?r:new Cf(Cr(r)),re=a||this.parentInjector;if(!f&&null==P.ngModule){const qn=(y?re:this.parentInjector).get(tu,null);qn&&(f=qn)}Cr(P.componentType??{});const It=P.create(re,c,null,f);return this.insertImpl(It.hostView,x,false),It}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Gc(t){return Jr(t[bi])}(c)){const P=this.indexOf(r);if(-1!==P)this.detach(P);else{const re=c[bi],pe=new wE(re,re[ns],re[bi]);pe.detach(pe.indexOf(r))}}const y=this._adjustIndex(o),x=this._lContainer;return qC(x,c,y,!a),r.attachToViewContainerRef(),da(sb(x),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=IE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=I(this._lContainer,o);a&&(Lc(sb(this._lContainer),o),X(a[Cn],a))}detach(r){const o=this._adjustIndex(r,-1),a=I(this._lContainer,o);return a&&null!=Lc(sb(this._lContainer),o)?new Ph(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function IE(t){return t[8]}function sb(t){return t[8]||(t[8]=[])}function CE(t,r){let o;const a=r[t.index];return Jr(a)?o=a:(o=v_(a,r,null,t),r[t.index]=o,bf(r,o)),xE(o,r,t,a),new wE(o,t,r)}let xE=function TE(t,r,o,a){if(t[rs])return;let c;c=8&o.type?$i(a):function ix(t,r){const o=t[lr],a=o.createComment(""),c=Po(r,t);return Bn(o,Ko(o,c),a,function ia(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[rs]=c};class ob{constructor(r){this.queryList=r,this.matches=null}clone(){return new ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class ab{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let f=0;f<a;f++){const y=o.getByIndex(f);c.push(this.queries[y.indexInDeclarationView].clone())}return new ab(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==NE(r,o).matches&&this.queries[o].setDirty()}}class DE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class lb{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(r,c);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new lb(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class cb{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new cb(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const f=a[c];this.matchTNodeWithReadOption(r,o,ax(o,f)),this.matchTNodeWithReadOption(r,o,lu(o,r,f,!1,!1))}else a===cg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,lu(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===wh||c===lv||c===cg&&4&o.type)this.addMatch(o.index,-2);else{const f=lu(o,r,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ax(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function cx(t,r,o,a){return-1===o?function lx(t,r){return 11&t.type?Eh(t,r):4&t.type?ov(t,r):null}(r,t):-2===o?function ux(t,r,o){return o===wh?Eh(r,t):o===cg?ov(r,t):o===lv?CE(r,t):void 0}(t,r,a):pc(t,t[Cn],o,r)}function SE(t,r,o,a){const c=r[_o].queries[a];if(null===c.matches){const f=t.data,y=o.matches,x=[];for(let P=0;P<y.length;P+=2){const re=y[P];x.push(re<0?null:cx(r,f[re],y[P+1],o.metadata.read))}c.matches=x}return c.matches}function ub(t,r,o,a){const c=t.queries.getByIndex(o),f=c.matches;if(null!==f){const y=SE(t,r,c,o);for(let x=0;x<f.length;x+=2){const P=f[x];if(P>0)a.push(y[x/2]);else{const re=f[x+1],pe=r[-P];for(let Ue=Wr;Ue<pe.length;Ue++){const at=pe[Ue];at[oo]===at[bi]&&ub(at[Cn],at,re,a)}if(null!==pe[Js]){const Ue=pe[Js];for(let at=0;at<Ue.length;at++){const It=Ue[at];ub(It[Cn],It,re,a)}}}}}return a}function AE(t){const r=tn(),o=mi(),a=bn();Gt(a+1);const c=NE(o,a);if(t.dirty&&function xl(t){return 4==(4&t[yr])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const f=c.crossesNgTemplate?ub(o,r,a,[]):SE(o,r,c,a);t.reset(f,ap),t.notifyOnChanges()}return!0}return!1}function ME(t,r,o){const a=mi();a.firstCreatePass&&(kE(a,new DE(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),PE(a,tn(),r)}function RE(t,r,o,a){const c=mi();if(c.firstCreatePass){const f=_s();kE(c,new DE(r,o,a),f.index),function hx(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}PE(c,tn(),o)}function OE(){return function dx(t,r){return t[_o].queries[r].queryList}(tn(),bn())}function PE(t,r,o){const a=new ib(4==(4&o));(function Tm(t,r,o,a){const c=Pm(r);c.push(o),t.firstCreatePass&&km(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[_o]&&(r[_o]=new ab),r[_o].queries.push(new ob(a))}function kE(t,r,o){null===t.queries&&(t.queries=new lb),t.queries.track(new cb(r,o))}function NE(t,r){return t.queries.getByIndex(r)}function FE(t,r){return ov(t,r)}function db(t){return!!ai(t)}const JE=new Ts("Application Initializer");let gb=(()=>{var t;class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=qt(JE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const f of this.appInits){const y=f();if(Qm(y))a.push(y);else if(Q_(y)){const x=new Promise((P,re)=>{y.subscribe({complete:P,error:re})});a.push(x)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),0===a.length&&c(),this.initialized=!0}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"root"}),r})(),ew=(()=>{var t;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();const uv=new Ts("LocaleId",{providedIn:"root",factory:()=>qt(uv,kn.Optional|kn.SkipSelf)||function Px(){return typeof $localize<"u"&&$localize.locale||Fp}()}),kx=new Ts("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tw=(()=>{var t;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class Fx{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Lx=(()=>{var t;class r{compileModuleSync(a){return new nb(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=ac(ai(a).declarations).reduce((x,P)=>{const re=Cr(P);return re&&x.push(new Cf(re)),x},[]);return new Fx(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();const sw=new Ts(""),ow=new Ts("");let yb,rT=(()=>{var t;class r{constructor(a,c,f){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yb||(function iT(t){yb=t}(f),f.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{il.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,f){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:f})}whenStable(a,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,f){return[]}}return(t=r).\u0275fac=function(a){return new(a||t)(vt(il),vt(aw),vt(ow))},t.\u0275prov=Un({token:t,factory:t.\u0275fac}),r})(),aw=(()=>{var t;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return yb?.findTestabilityInTree(this,a,c)??null}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})(),Bh=null;const lw=new Ts("AllowMultipleToken"),bb=new Ts("PlatformDestroyListeners"),Eb=new Ts("appBootstrapListener");class aT{constructor(r,o){this.name=r,this.token=o}}function dw(t,r,o=[]){const a=`Platform: ${r}`,c=new Ts(a);return(f=[])=>{let y=wb();if(!y||y.injector.get(lw,!1)){const x=[...o,...f,{provide:c,useValue:!0}];t?t(x):function lT(t){if(Bh&&!Bh.get(lw,!1))throw new Re(400,!1);(function cw(){!function Za(t){Qi=t}(()=>{throw new Re(600,!1)})})(),Bh=t;const r=t.get(fw);(function uw(t){t.get(nm,null)?.forEach(o=>o())})(t)}(function hw(t=[],r){return wc.create({name:r,providers:[{provide:gu,useValue:"platform"},{provide:bb,useValue:new Set([()=>Bh=null])},...t]})}(x,a))}return function uT(t){const r=wb();if(!r)throw new Re(401,!1);return r}()}}function wb(){return Bh?.get(fw)??null}let fw=(()=>{var t;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const f=function dT(t="zone.js",r){return"noop"===t?new Gv:"zone.js"===t?new il(r):t}(c?.ngZone,function pw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return f.run(()=>{const y=function EC(t,r,o){return new tb(t,r,o)}(a.moduleType,this.injector,function yw(t){return[{provide:il,useFactory:t},{provide:Bu,multi:!0,useFactory:()=>{const r=qt(fT,{optional:!0});return()=>r.initialize()}},{provide:vw,useFactory:hT},{provide:Yg,useFactory:_m}]}(()=>f)),x=y.injector.get(hd,null);return f.runOutsideAngular(()=>{const P=f.onError.subscribe({next:re=>{x.handleError(re)}});y.onDestroy(()=>{hv(this._modules,y),P.unsubscribe()})}),function mw(t,r,o){try{const a=o();return Qm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(x,f,()=>{const P=y.injector.get(gb);return P.runInitializers(),P.donePromise.then(()=>(function S0(t){Ht(t,"Expected localeId to be defined"),"string"==typeof t&&(D0=t.toLowerCase().replace(/_/g,"-"))}(y.injector.get(uv,Fp)||Fp),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,c=[]){const f=gw({},c);return function sT(t,r,o){const a=new nb(o);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(a){const c=a.injector.get(Up);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!a.instance.ngDoBootstrap)throw new Re(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(bb,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=r).\u0275fac=function(a){return new(a||t)(vt(wc))},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"platform"}),r})();function gw(t,r){return Array.isArray(r)?r.reduce(gw,t):{...t,...r}}let Up=(()=>{var t;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qt(vw),this.zoneIsStable=qt(Yg),this.componentTypes=[],this.components=[],this.isStable=qt(tw).hasPendingTasks.pipe((0,Ae.w)(a=>a?(0,ke.of)(!1):this.zoneIsStable),(0,Fe.x)(),(0,Ve.B)()),this._injector=qt(tu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const f=a instanceof sf;if(!this._injector.get(gb).done)throw!f&&ys(a),new Re(405,!1);let x;x=f?a:this._injector.get(Pd).resolveComponentFactory(a),this.componentTypes.push(x.componentType);const P=function oT(t){return t.isBoundToModule}(x)?void 0:this._injector.get(Pf),pe=x.create(wc.NULL,[],c||x.selector,P),Ue=pe.location.nativeElement,at=pe.injector.get(sw,null);return at?.registerApplication(Ue),pe.onDestroy(()=>{this.detachView(pe.hostView),hv(this.components,pe),at?.unregisterApplication(Ue)}),this._loadComponent(pe),pe}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;hv(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Eb,[]);c.push(...this._bootstrapListeners),c.forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>hv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Re(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function hv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const vw=new Ts("",{providedIn:"root",factory:()=>qt(hd).handleError.bind(void 0)});function hT(){const t=qt(il),r=qt(hd);return o=>t.runOutsideAngular(()=>r.handleError(o))}let fT=(()=>{var t;class r{constructor(){this.zone=qt(il),this.applicationRef=qt(Up)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Un({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();function mT(){return!1}let gT=(()=>{class r{}return r.__NG_ELEMENT_ID__=_T,r})();function _T(t){return function vT(t,r,o){if(Ao(t)&&!o){const a=Go(t.index,r);return new Ph(a,a)}return 47&t.type?new Ph(r[Zi],r):null}(_s(),tn(),16==(16&t))}class Iw{constructor(){}supports(r){return Nh(r)}create(r){return new CT(r)}}const IT=(t,r)=>r;class CT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||IT}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,f=null;for(;o||a;){const y=!a||o&&o.currentIndex<xw(a,c,f)?o:a,x=xw(y,c,f),P=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(o=o._next,null==y.previousIndex)c++;else{f||(f=[]);const re=x-c,pe=P-c;if(re!=pe){for(let at=0;at<re;at++){const It=at<f.length?f[at]:f[at]=0,Qt=It+at;pe<=Qt&&Qt<re&&(f[at]=It+1)}f[y.previousIndex]=pe-re}}x!==P&&r(y,x,P)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Nh(r))throw new Re(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,y,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let x=0;x<this.length;x++)f=r[x],y=this._trackByFn(x,f),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,f,y,x)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,y,x),a=!0),o=o._next}else c=0,function P_(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,x=>{y=this._trackByFn(c,x),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,x,y,c)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,y,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,c)):r=this._addAfter(new xT(o,a),f,c),r}_verifyReinsertion(r,o,a,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class xT{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Cw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new TT,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xw(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class Tw{constructor(){}supports(r){return r instanceof Map||$u(r)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||$u(r)))throw new Re(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const f=c._prev,y=c._next;return f&&(f._next=y),y&&(y._prev=f),c._next=null,c._prev=null,c}const a=new ST(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class ST{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dw(){return new Db([new Iw])}let Db=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const f=c.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Dw()),deps:[[r,new Jt,new rt]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(null!=c)return c;throw new Re(901,!1)}}return(t=r).\u0275prov=Un({token:t,providedIn:"root",factory:Dw}),r})();function Sw(){return new Sb([new Tw])}let Sb=(()=>{var t;class r{constructor(a){this.factories=a}static create(a,c){if(c){const f=c.factories.slice();a=a.concat(f)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Sw()),deps:[[r,new Jt,new rt]]}}find(a){const c=this.factories.find(f=>f.supports(a));if(c)return c;throw new Re(901,!1)}}return(t=r).\u0275prov=Un({token:t,providedIn:"root",factory:Sw}),r})();const RT=dw(null,"core",[]);let OT=(()=>{var t;class r{constructor(a){}}return(t=r).\u0275fac=function(a){return new(a||t)(vt(Up))},t.\u0275mod=xi({type:t}),t.\u0275inj=Fn({}),r})();function zT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GT(t){const r=Cr(t);if(!r)return null;const o=new Cf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},4097:(pn,st,V)=>{V.d(st,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=V(534);(0,d.registerVersion)("firebase","9.23.0","app")},120:(pn,st,V)=>{V.d(st,{Z:()=>d.Z});var d=V(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(pn,st,V)=>{V.r(st);var Ae,Fe,he,ve,Ke,d=V(5861),H=V(3106),ae=V(6710),Te=V(9058),Ve=(V(534),V(7879),V(4537));function lt(){return window}class je extends ae.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(L)),super.onEvent(L)}initialized(){var L=this;return(0,d.Z)(function*(){yield L.initPromise})()}}function et(k){return(Ke=Ke||(0,d.Z)(function*(L){const F=yield hn()._get(cn(L));return F&&(yield hn()._remove(cn(L))),F})).apply(this,arguments)}function yn(){const k=[];for(let F=0;F<20;F++){const de=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return k.join("")}function hn(){return(0,ae.aC)(ae.b)}function cn(k){return(0,ae.aD)("authEvent",k.config.apiKey,k.name)}function gr(k){if(!k?.includes("?"))return{};const[L,...F]=k.split("?");return(0,Te.zd)(F.join("?"))}const _t=class zn{constructor(){this._redirectPersistence=ae.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae.aE,this._overrideRedirectResult=ae.aF}_initialize(L){var F=this;return(0,d.Z)(function*(){const de=L._key();let We=F.eventManagers.get(de);return We||(We=new je(L),F.eventManagers.set(de,We),F.attachCallbackListeners(L,We)),We})()}_openPopup(L){(0,ae.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,F,de,We){var vt=this;return(0,d.Z)(function*(){!function Zt(k){var L,F,de,We,vt,on,qt,Sn,In,rr;const Ir=lt();(0,ae.aA)("function"==typeof(null===(L=Ir?.universalLinks)||void 0===L?void 0:L.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ae.aA)(typeof(null===(F=Ir?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ae.aA)("function"==typeof(null===(vt=null===(We=null===(de=Ir?.cordova)||void 0===de?void 0:de.plugins)||void 0===We?void 0:We.browsertab)||void 0===vt?void 0:vt.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aA)("function"==typeof(null===(Sn=null===(qt=null===(on=Ir?.cordova)||void 0===on?void 0:on.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===Sn?void 0:Sn.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.aA)("function"==typeof(null===(rr=null===(In=Ir?.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===rr?void 0:rr.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const on=yield vt._initialize(L);yield on.initialized(),on.resetRedirect(),(0,ae.aG)(),yield vt._originValidation(L);const qt=function Je(k,L,F=null){return{type:L,eventId:F,urlResponse:null,sessionId:yn(),postBody:null,tenantId:k.tenantId,error:(0,ae.az)(k,"no-auth-event")}}(L,de,We);yield function Pt(k,L){return hn()._set(cn(k),L)}(L,qt);const Sn=yield function jt(k,L,F){return(Ae=Ae||(0,d.Z)(function*(de,We,vt){var on;const{BuildInfo:qt}=lt();(0,ae.as)(We.sessionId,"AuthEvent did not contain a session ID");const Sn=yield function Ut(k){return(ve=ve||(0,d.Z)(function*(L){const F=function Re(k){if((0,ae.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const L=new ArrayBuffer(k.length),F=new Uint8Array(L);for(let de=0;de<k.length;de++)F[de]=k.charCodeAt(de);return F}(L),de=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(de)).map(vt=>vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}(We.sessionId),In={};return(0,ae.at)()?In.ibi=qt.packageName:(0,ae.au)()?In.apn=qt.packageName:(0,ae.av)(de,"operation-not-supported-in-this-environment"),qt.displayName&&(In.appDisplayName=qt.displayName),In.sessionId=Sn,(0,ae.aw)(de,vt,We.type,void 0,null!==(on=We.eventId)&&void 0!==on?on:void 0,In)})).apply(this,arguments)}(L,qt,F),In=yield function St(k){const{cordova:L}=lt();return new Promise(F=>{L.plugins.browsertab.isAvailable(de=>{let We=null;de?L.plugins.browsertab.openUrl(k):We=L.InAppBrowser.open(k,(0,ae.ay)()?"_blank":"_system","location=yes"),F(We)})})}(Sn);return function Rt(k,L,F){return(he=he||(0,d.Z)(function*(de,We,vt){const{cordova:on}=lt();let qt=()=>{};try{yield new Promise((Sn,In)=>{let rr=null;function Ir(){var Dt;Sn();const gt=null===(Dt=on.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof gt&&gt(),"function"==typeof vt?.close&&vt.close()}function Fi(){rr||(rr=window.setTimeout(()=>{In((0,ae.az)(de,"redirect-cancelled-by-user"))},2e3))}function pi(){"visible"===document?.visibilityState&&Fi()}We.addPassiveListener(Ir),document.addEventListener("resume",Fi,!1),(0,ae.au)()&&document.addEventListener("visibilitychange",pi,!1),qt=()=>{We.removePassiveListener(Ir),document.removeEventListener("resume",Fi,!1),document.removeEventListener("visibilitychange",pi,!1),rr&&window.clearTimeout(rr)}})}finally{qt()}})).apply(this,arguments)}(L,on,In)})()}_isIframeWebStorageSupported(L,F){throw new Error("Method not implemented.")}_originValidation(L){const F=L._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function kt(k){return(Fe=Fe||(0,d.Z)(function*(L){const{BuildInfo:F}=lt(),de={};(0,ae.at)()?de.iosBundleId=F.packageName:(0,ae.au)()?de.androidPackageName=F.packageName:(0,ae.av)(L,"operation-not-supported-in-this-environment"),yield(0,ae.ax)(L,de)})).apply(this,arguments)}(L)),this.originValidationPromises[F]}attachCallbackListeners(L,F){var de,We;const{universalLinks:vt,handleOpenURL:on,BuildInfo:qt}=lt(),Sn=setTimeout((0,d.Z)(function*(){yield et(L),F.onEvent(Ct())}),500),In=function(pi){return(de=de||(0,d.Z)(function*(Dt){clearTimeout(Sn);const gt=yield et(L);let Kt=null;gt&&Dt?.url&&(Kt=function Ft(k,L){var F,de;const We=function ei(k){const L=gr(k),F=L.link?decodeURIComponent(L.link):void 0,de=gr(F).link,We=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return gr(We).link||We||de||F||k}(L);if(We.includes("/__/auth/callback")){const vt=gr(We),on=vt.firebaseError?function or(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,qt=null===(de=null===(F=on?.code)||void 0===F?void 0:F.split("auth/"))||void 0===de?void 0:de[1],Sn=qt?(0,ae.az)(qt):null;return Sn?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:Sn,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:We,postBody:null}}return null}(gt,Dt.url)),F.onEvent(Kt||Ct())})).apply(this,arguments)};typeof vt<"u"&&"function"==typeof vt.subscribe&&vt.subscribe(null,In);const rr=on,Ir=`${qt.packageName.toLowerCase()}://`;lt().handleOpenURL=function(Fi){return(We=We||(0,d.Z)(function*(pi){if(pi.toLowerCase().startsWith(Ir)&&In({url:pi}),"function"==typeof rr)try{rr(pi)}catch(Dt){console.error(Dt)}})).apply(this,arguments)}}};function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ae.az)("no-auth-event")}}var yt,Mt,ut;function Mn(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function Un(k=(0,Te.z$)()){return!("file:"!==Mn()&&"ionic:"!==Mn()&&"capacitor:"!==Mn()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function zr(){try{const k=self.localStorage,L=ae.aL();if(k)return k.setItem(L,"1"),k.removeItem(L),!function br(k=(0,Te.z$)()){return function Fn(){return(0,Te.w1)()&&11===document?.documentMode}()||function kr(k=(0,Te.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,Te.hl)()}catch{return ui()&&(0,Te.hl)()}return!1}function ui(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gi(){return(function jn(){return"http:"===Mn()||"https:"===Mn()}()||(0,Te.ru)()||Un())&&!function Zn(){return(0,Te.b$)()||(0,Te.UG)()}()&&zr()&&!ui()}function hi(){return Un()&&typeof document<"u"}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},kn=ae.aA,$n="persistence";function fr(k){return(Mt=Mt||(0,d.Z)(function*(L){yield L._initializationPromise;const F=Zr(),de=ae.aD($n,L.config.apiKey,L.name);F&&F.setItem(de,L._getPersistence())})).apply(this,arguments)}function Zr(){var k;try{return(null===(k=function fi(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Er=ae.aA;class vr{constructor(){this.browserResolver=ae.aC(ae.k),this.cordovaResolver=ae.aC(_t),this.underlyingResolver=null,this._redirectPersistence=ae.a,this._completeRedirectFn=ae.aE,this._overrideRedirectResult=ae.aF}_initialize(L){var F=this;return(0,d.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,F,de,We){var vt=this;return(0,d.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(L,F,de,We)})()}_openRedirect(L,F,de,We){var vt=this;return(0,d.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(L,F,de,We)})()}_isIframeWebStorageSupported(L,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,F)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return hi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Er(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,d.Z)(function*(){if(L.underlyingResolver)return;const F=yield function Kr(){return(yt=yt||(0,d.Z)(function*(){return!!hi()&&new Promise(k=>{const L=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),k(!0)})})})).apply(this,arguments)}();L.underlyingResolver=F?L.cordovaResolver:L.browserResolver})()}}function os(k){return k.unwrap()}function Vi(k){return Mi(k)}function Mi(k){const{_tokenResponse:L}=k instanceof Te.ZR?k.customData:k;if(!L)return null;if(!(k instanceof Te.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return ae.P.credentialFromResult(k);const F=L.providerId;if(!F||F===ae.p.PASSWORD)return null;let de;switch(F){case ae.p.GOOGLE:de=ae.V;break;case ae.p.FACEBOOK:de=ae.U;break;case ae.p.GITHUB:de=ae.W;break;case ae.p.TWITTER:de=ae.Z;break;default:const{oauthIdToken:We,oauthAccessToken:vt,oauthTokenSecret:on,pendingToken:qt,nonce:Sn}=L;return vt||on||We||qt?qt?F.startsWith("saml.")?ae.aO._create(F,qt):ae.L._fromParams({providerId:F,signInMethod:F,pendingToken:qt,idToken:We,accessToken:vt}):new ae.X(F).credential({idToken:We,accessToken:vt,rawNonce:Sn}):null}return k instanceof Te.ZR?de.credentialFromError(k):de.credentialFromResult(k)}function wr(k,L){return L.catch(F=>{throw F instanceof Te.ZR&&function Mr(k,L){var F;const de=null===(F=L.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Ye(k,ae.aq(k,L));else if(de){const We=Mi(L),vt=L;We&&(vt.credential=We,vt.tenantId=de.tenantId||void 0,vt.email=de.email||void 0,vt.phoneNumber=de.phoneNumber||void 0)}}(k,F),F}).then(F=>{const We=F.user;return{operationType:F.operationType,credential:Vi(F),additionalUserInfo:ae.ao(F),user:Tt.getOrCreate(We)}})}function Et(k,L){return(ut=ut||(0,d.Z)(function*(F,de){const We=yield de;return{verificationId:We.verificationId,confirm:vt=>wr(F,We.confirm(vt))}})).apply(this,arguments)}class Ye{constructor(L,F){this.resolver=F,this.auth=function ar(k){return k.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return wr(os(this.auth),this.resolver.resolveSignIn(L))}}class Tt{constructor(L){this._delegate=L,this.multiFactor=ae.ar(L)}static getOrCreate(L){return Tt.USER_MAP.has(L)||Tt.USER_MAP.set(L,new Tt(L)),Tt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var F=this;return(0,d.Z)(function*(){return wr(F.auth,ae.a0(F._delegate,L))})()}linkWithPhoneNumber(L,F){var de=this;return(0,d.Z)(function*(){return Et(de.auth,ae.l(de._delegate,L,F))})()}linkWithPopup(L){var F=this;return(0,d.Z)(function*(){return wr(F.auth,ae.d(F._delegate,L,vr))})()}linkWithRedirect(L){var F=this;return(0,d.Z)(function*(){return yield fr(ae.aH(F.auth)),ae.g(F._delegate,L,vr)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var F=this;return(0,d.Z)(function*(){return wr(F.auth,ae.a1(F._delegate,L))})()}reauthenticateWithPhoneNumber(L,F){return Et(this.auth,ae.r(this._delegate,L,F))}reauthenticateWithPopup(L){return wr(this.auth,ae.e(this._delegate,L,vr))}reauthenticateWithRedirect(L){var F=this;return(0,d.Z)(function*(){return yield fr(ae.aH(F.auth)),ae.h(F._delegate,L,vr)})()}sendEmailVerification(L){return ae.ae(this._delegate,L)}unlink(L){var F=this;return(0,d.Z)(function*(){return yield ae.an(F._delegate,L),F})()}updateEmail(L){return ae.aj(this._delegate,L)}updatePassword(L){return ae.ak(this._delegate,L)}updatePhoneNumber(L){return ae.u(this._delegate,L)}updateProfile(L){return ae.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,F){return ae.af(this._delegate,L,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tt.USER_MAP=new WeakMap;const Xe=ae.aA;let ht=(()=>{class k{constructor(F,de){if(this.app=F,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:We}=F.options;Xe(We,"invalid-api-key",{appName:F.name}),Xe(We,"invalid-api-key",{appName:F.name});const vt=typeof window<"u"?vr:void 0;this._delegate=de.initialize({options:{persistence:gn(We,F.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(ae.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,de){ae.I(this._delegate,F,de)}applyActionCode(F){return ae.a5(this._delegate,F)}checkActionCode(F){return ae.a6(this._delegate,F)}confirmPasswordReset(F,de){return ae.a4(this._delegate,F,de)}createUserWithEmailAndPassword(F,de){var We=this;return(0,d.Z)(function*(){return wr(We._delegate,ae.a8(We._delegate,F,de))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return ae.ad(this._delegate,F)}isSignInWithEmailLink(F){return ae.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,d.Z)(function*(){Xe(gi(),F._delegate,"operation-not-supported-in-this-environment");const de=yield ae.j(F._delegate,vr);return de?wr(F._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function ct(k,L){(0,ae.aH)(k)._logFramework(L)}(this._delegate,F)}onAuthStateChanged(F,de,We){const{next:vt,error:on,complete:qt}=Bt(F,de,We);return this._delegate.onAuthStateChanged(vt,on,qt)}onIdTokenChanged(F,de,We){const{next:vt,error:on,complete:qt}=Bt(F,de,We);return this._delegate.onIdTokenChanged(vt,on,qt)}sendSignInLinkToEmail(F,de){return ae.aa(this._delegate,F,de)}sendPasswordResetEmail(F,de){return ae.a3(this._delegate,F,de||void 0)}setPersistence(F){var de=this;return(0,d.Z)(function*(){let We;switch(function Yn(k,L){kn(Object.values(Ar).includes(L),k,"invalid-persistence-type"),(0,Te.b$)()?kn(L!==Ar.SESSION,k,"unsupported-persistence-type"):(0,Te.UG)()?kn(L===Ar.NONE,k,"unsupported-persistence-type"):ui()?kn(L===Ar.NONE||L===Ar.LOCAL&&(0,Te.hl)(),k,"unsupported-persistence-type"):kn(L===Ar.NONE||zr(),k,"unsupported-persistence-type")}(de._delegate,F),F){case Ar.SESSION:We=ae.a;break;case Ar.LOCAL:We=(yield ae.aC(ae.i)._isAvailable())?ae.i:ae.b;break;case Ar.NONE:We=ae.N;break;default:return ae.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(We)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return wr(this._delegate,ae._(this._delegate))}signInWithCredential(F){return wr(this._delegate,ae.$(this._delegate,F))}signInWithCustomToken(F){return wr(this._delegate,ae.a2(this._delegate,F))}signInWithEmailAndPassword(F,de){return wr(this._delegate,ae.a9(this._delegate,F,de))}signInWithEmailLink(F,de){return wr(this._delegate,ae.ac(this._delegate,F,de))}signInWithPhoneNumber(F,de){return Et(this._delegate,ae.s(this._delegate,F,de))}signInWithPopup(F){var de=this;return(0,d.Z)(function*(){return Xe(gi(),de._delegate,"operation-not-supported-in-this-environment"),wr(de._delegate,ae.c(de._delegate,F,vr))})()}signInWithRedirect(F){var de=this;return(0,d.Z)(function*(){return Xe(gi(),de._delegate,"operation-not-supported-in-this-environment"),yield fr(de._delegate),ae.f(de._delegate,F,vr)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return ae.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Ar,k})();function Bt(k,L,F){let de=k;"function"!=typeof k&&({next:de,error:L,complete:F}=k);const We=de;return{next:on=>We(on&&Tt.getOrCreate(on)),error:L,complete:F}}function gn(k,L){const F=function _r(k,L){const F=Zr();if(!F)return[];const de=ae.aD($n,k,L);switch(F.getItem(de)){case Ar.NONE:return[ae.N];case Ar.LOCAL:return[ae.i,ae.a];case Ar.SESSION:return[ae.a];default:return[]}}(k,L);if(typeof self<"u"&&!F.includes(ae.i)&&F.push(ae.i),typeof window<"u")for(const de of[ae.b,ae.a])F.includes(de)||F.push(de);return F.includes(ae.N)||F.push(ae.N),F}class Hn{constructor(){this.providerId="phone",this._delegate=new ae.P(os(H.Z.auth()))}static credential(L,F){return ae.P.credential(L,F)}verifyPhoneNumber(L,F){return this._delegate.verifyPhoneNumber(L,F)}unwrap(){return this._delegate}}Hn.PHONE_SIGN_IN_METHOD=ae.P.PHONE_SIGN_IN_METHOD,Hn.PROVIDER_ID=ae.P.PROVIDER_ID;const pr=ae.aA;class _i{constructor(L,F,de=H.Z.app()){var We;pr(null===(We=de.options)||void 0===We?void 0:We.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new ae.R(L,F,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(k){k.INTERNAL.registerComponent(new Ve.wA("auth-compat",L=>{const F=L.getProvider("app-compat").getImmediate(),de=L.getProvider("auth");return new ht(F,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae.A.EMAIL_SIGNIN,PASSWORD_RESET:ae.A.PASSWORD_RESET,RECOVER_EMAIL:ae.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae.A.VERIFY_EMAIL}},EmailAuthProvider:ae.Q,FacebookAuthProvider:ae.U,GithubAuthProvider:ae.W,GoogleAuthProvider:ae.V,OAuthProvider:ae.X,SAMLAuthProvider:ae.Y,PhoneAuthProvider:Hn,PhoneMultiFactorGenerator:ae.m,RecaptchaVerifier:_i,TwitterAuthProvider:ae.Z,Auth:ht,AuthCredential:ae.J,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(H.Z)},6223:(pn,st,V)=>{V.d(st,{F:()=>Ui,Fj:()=>mt,JJ:()=>ui,JL:()=>gi,NI:()=>oe,On:()=>ot,Q7:()=>Ho,UX:()=>Ms,_Y:()=>Wt,a5:()=>Fn,cw:()=>G,kI:()=>Ut,oH:()=>ys,qu:()=>vo,sg:()=>ts,u5:()=>Pa});var d=V(5879),H=V(6814),ae=V(2459),Te=V(9315),b=V(7398);let ke=(()=>{var ne;class K{constructor(ee,Ce){this._renderer=ee,this._elementRef=Ce,this.onChange=rn=>{},this.onTouched=()=>{}}setProperty(ee,Ce){this._renderer.setProperty(this._elementRef.nativeElement,ee,Ce)}registerOnTouched(ee){this.onTouched=ee}registerOnChange(ee){this.onChange=ee}setDisabledState(ee){this.setProperty("disabled",ee)}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(d.Qsj),d.Y36(d.SBq))},ne.\u0275dir=d.lG2({type:ne}),K})(),Ve=(()=>{var ne;class K extends ke{}return(ne=K).\u0275fac=function(){let ye;return function(Ce){return(ye||(ye=d.n5z(ne)))(Ce||ne)}}(),ne.\u0275dir=d.lG2({type:ne,features:[d.qOj]}),K})();const Ae=new d.OlP("NgValueAccessor"),ve={provide:Ae,useExisting:(0,d.Gpc)(()=>mt),multi:!0},lt=new d.OlP("CompositionEventMode");let mt=(()=>{var ne;class K extends ke{constructor(ee,Ce,rn){super(ee,Ce),this._compositionMode=rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ke(){const ne=(0,H.q)()?(0,H.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(ee){this.setProperty("value",ee??"")}_handleInput(ee){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ee)}_compositionStart(){this._composing=!0}_compositionEnd(ee){this._composing=!1,this._compositionMode&&this.onChange(ee)}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(lt,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Ce){1&ee&&d.NdJ("input",function(er){return Ce._handleInput(er.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(er){return Ce._compositionEnd(er.target.value)})},features:[d._Bn([ve]),d.qOj]}),K})();function jt(ne){return null==ne||("string"==typeof ne||Array.isArray(ne))&&0===ne.length}function kt(ne){return null!=ne&&"number"==typeof ne.length}const St=new d.OlP("NgValidators"),Rt=new d.OlP("NgAsyncValidators"),Zt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(K){return function Re(ne){return K=>{if(jt(K.value)||jt(ne))return null;const ye=parseFloat(K.value);return!isNaN(ye)&&ye<ne?{min:{min:ne,actual:K.value}}:null}}(K)}static max(K){return function Qe(ne){return K=>{if(jt(K.value)||jt(ne))return null;const ye=parseFloat(K.value);return!isNaN(ye)&&ye>ne?{max:{max:ne,actual:K.value}}:null}}(K)}static required(K){return je(K)}static requiredTrue(K){return function Je(ne){return!0===ne.value?null:{required:!0}}(K)}static email(K){return function Pt(ne){return jt(ne.value)||Zt.test(ne.value)?null:{email:!0}}(K)}static minLength(K){return function et(ne){return K=>jt(K.value)||!kt(K.value)?null:K.value.length<ne?{minlength:{requiredLength:ne,actualLength:K.value.length}}:null}(K)}static maxLength(K){return function Ft(ne){return K=>kt(K.value)&&K.value.length>ne?{maxlength:{requiredLength:ne,actualLength:K.value.length}}:null}(K)}static pattern(K){return function yn(ne){if(!ne)return hn;let K,ye;return"string"==typeof ne?(ye="","^"!==ne.charAt(0)&&(ye+="^"),ye+=ne,"$"!==ne.charAt(ne.length-1)&&(ye+="$"),K=new RegExp(ye)):(ye=ne.toString(),K=ne),ee=>{if(jt(ee.value))return null;const Ce=ee.value;return K.test(Ce)?null:{pattern:{requiredPattern:ye,actualValue:Ce}}}}(K)}static nullValidator(K){return null}static compose(K){return _t(K)}static composeAsync(K){return ct(K)}}function je(ne){return jt(ne.value)?{required:!0}:null}function hn(ne){return null}function cn(ne){return null!=ne}function or(ne){return(0,d.QGY)(ne)?(0,ae.D)(ne):ne}function ei(ne){let K={};return ne.forEach(ye=>{K=null!=ye?{...K,...ye}:K}),0===Object.keys(K).length?null:K}function gr(ne,K){return K.map(ye=>ye(ne))}function zn(ne){return ne.map(K=>function Ur(ne){return!ne.validate}(K)?K:ye=>K.validate(ye))}function _t(ne){if(!ne)return null;const K=ne.filter(cn);return 0==K.length?null:function(ye){return ei(gr(ye,K))}}function Ct(ne){return null!=ne?_t(zn(ne)):null}function ct(ne){if(!ne)return null;const K=ne.filter(cn);return 0==K.length?null:function(ye){const ee=gr(ye,K).map(or);return(0,Te.D)(ee).pipe((0,b.U)(ei))}}function yt(ne){return null!=ne?ct(zn(ne)):null}function Mt(ne,K){return null===ne?[K]:Array.isArray(ne)?[...ne,K]:[ne,K]}function ut(ne){return ne._rawValidators}function Ht(ne){return ne._rawAsyncValidators}function At(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function Xn(ne,K){return Array.isArray(ne)?ne.includes(K):ne===K}function Mn(ne,K){const ye=At(K);return At(ne).forEach(Ce=>{Xn(ye,Ce)||ye.push(Ce)}),ye}function jn(ne,K){return At(K).filter(ye=>!Xn(ne,ye))}class Un{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,ye){return!!this.control&&this.control.hasError(K,ye)}getError(K,ye){return this.control?this.control.getError(K,ye):null}}class Zn extends Un{get formDirective(){return null}get path(){return null}}class Fn extends Un{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ui=(()=>{var ne;class K extends kr{constructor(ee){super(ee)}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(Fn,2))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Ce){2&ee&&d.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)},features:[d.qOj]}),K})(),gi=(()=>{var ne;class K extends kr{constructor(ee){super(ee)}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(Zn,10))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Ce){2&ee&&d.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)("ng-submitted",Ce.isSubmitted)},features:[d.qOj]}),K})();const wr="VALID",Et="INVALID",Ye="PENDING",Tt="DISABLED";function Xe(ne){return(Hn(ne)?ne.validators:ne)||null}function Bt(ne,K){return(Hn(K)?K.asyncValidators:ne)||null}function Hn(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}function pr(ne,K,ye){const ee=ne.controls;if(!(K?Object.keys(ee):ee).length)throw new d.vHH(1e3,"");if(!ee[ye])throw new d.vHH(1001,"")}function _i(ne,K,ye){ne._forEachChild((ee,Ce)=>{if(void 0===ye[Ce])throw new d.vHH(1002,"")})}class be{constructor(K,ye){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(ye)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===wr}get invalid(){return this.status===Et}get pending(){return this.status==Ye}get disabled(){return this.status===Tt}get enabled(){return this.status!==Tt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Mn(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Mn(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(jn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(jn(K,this._rawAsyncValidators))}hasValidator(K){return Xn(this._rawValidators,K)}hasAsyncValidator(K){return Xn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ye=>{ye.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ye=>{ye.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=Ye,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const ye=this._parentMarkedDirty(K.onlySelf);this.status=Tt,this.errors=null,this._forEachChild(ee=>{ee.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:ye}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(K={}){const ye=this._parentMarkedDirty(K.onlySelf);this.status=wr,this._forEachChild(ee=>{ee.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:ye}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wr||this.status===Ye)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(ye=>ye._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tt:wr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=Ye,this._hasOwnPendingAsyncValidator=!0;const ye=or(this.asyncValidator(this));this._asyncValidationSubscription=ye.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,ye={}){this.errors=K,this._updateControlsErrors(!1!==ye.emitEvent)}get(K){let ye=K;return null==ye||(Array.isArray(ye)||(ye=ye.split(".")),0===ye.length)?null:ye.reduce((ee,Ce)=>ee&&ee._find(Ce),this)}getError(K,ye){const ee=ye?this.get(ye):this;return ee&&ee.errors?ee.errors[K]:null}hasError(K,ye){return!!this.getError(K,ye)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Tt:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ye)?Ye:this._anyControlsHaveStatus(Et)?Et:wr}_anyControlsHaveStatus(K){return this._anyControls(ye=>ye.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Hn(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ht(ne){return Array.isArray(ne)?Ct(ne):ne||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function gn(ne){return Array.isArray(ne)?yt(ne):ne||null}(this._rawAsyncValidators)}}class G extends be{constructor(K,ye,ee){super(Xe(ye),Bt(ee,ye)),this.controls=K,this._initObservables(),this._setUpdateStrategy(ye),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,ye){return this.controls[K]?this.controls[K]:(this.controls[K]=ye,ye.setParent(this),ye._registerOnCollectionChange(this._onCollectionChange),ye)}addControl(K,ye,ee={}){this.registerControl(K,ye),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(K,ye={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}setControl(K,ye,ee={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],ye&&this.registerControl(K,ye),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,ye={}){_i(this,0,K),Object.keys(K).forEach(ee=>{pr(this,!0,ee),this.controls[ee].setValue(K[ee],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye)}patchValue(K,ye={}){null!=K&&(Object.keys(K).forEach(ee=>{const Ce=this.controls[ee];Ce&&Ce.patchValue(K[ee],{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye))}reset(K={},ye={}){this._forEachChild((ee,Ce)=>{ee.reset(K[Ce],{onlySelf:!0,emitEvent:ye.emitEvent})}),this._updatePristine(ye),this._updateTouched(ye),this.updateValueAndValidity(ye)}getRawValue(){return this._reduceChildren({},(K,ye,ee)=>(K[ee]=ye.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(ye,ee)=>!!ee._syncPendingControls()||ye);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(ye=>{const ee=this.controls[ye];ee&&K(ee,ye)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[ye,ee]of Object.entries(this.controls))if(this.contains(ye)&&K(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ye,ee,Ce)=>((ee.enabled||this.disabled)&&(ye[Ce]=ee.value),ye))}_reduceChildren(K,ye){let ee=K;return this._forEachChild((Ce,rn)=>{ee=ye(ee,Ce,rn)}),ee}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}class F extends G{}const We=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>vt}),vt="always";function qt(ne,K,ye=vt){Ir(ne,K),K.valueAccessor.writeValue(ne.value),(ne.disabled||"always"===ye)&&K.valueAccessor.setDisabledState?.(ne.disabled),function pi(ne,K){K.valueAccessor.registerOnChange(ye=>{ne._pendingValue=ye,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&gt(ne,K)})}(ne,K),function Kt(ne,K){const ye=(ee,Ce)=>{K.valueAccessor.writeValue(ee),Ce&&K.viewToModelUpdate(ee)};ne.registerOnChange(ye),K._registerOnDestroy(()=>{ne._unregisterOnChange(ye)})}(ne,K),function Dt(ne,K){K.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&gt(ne,K),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,K),function rr(ne,K){if(K.valueAccessor.setDisabledState){const ye=ee=>{K.valueAccessor.setDisabledState(ee)};ne.registerOnDisabledChange(ye),K._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(ye)})}}(ne,K)}function Sn(ne,K,ye=!0){const ee=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(ee),K.valueAccessor.registerOnTouched(ee)),Fi(ne,K),ne&&(K._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function In(ne,K){ne.forEach(ye=>{ye.registerOnValidatorChange&&ye.registerOnValidatorChange(K)})}function Ir(ne,K){const ye=ut(ne);null!==K.validator?ne.setValidators(Mt(ye,K.validator)):"function"==typeof ye&&ne.setValidators([ye]);const ee=Ht(ne);null!==K.asyncValidator?ne.setAsyncValidators(Mt(ee,K.asyncValidator)):"function"==typeof ee&&ne.setAsyncValidators([ee]);const Ce=()=>ne.updateValueAndValidity();In(K._rawValidators,Ce),In(K._rawAsyncValidators,Ce)}function Fi(ne,K){let ye=!1;if(null!==ne){if(null!==K.validator){const Ce=ut(ne);if(Array.isArray(Ce)&&Ce.length>0){const rn=Ce.filter(er=>er!==K.validator);rn.length!==Ce.length&&(ye=!0,ne.setValidators(rn))}}if(null!==K.asyncValidator){const Ce=Ht(ne);if(Array.isArray(Ce)&&Ce.length>0){const rn=Ce.filter(er=>er!==K.asyncValidator);rn.length!==Ce.length&&(ye=!0,ne.setAsyncValidators(rn))}}}const ee=()=>{};return In(K._rawValidators,ee),In(K._rawAsyncValidators,ee),ye}function gt(ne,K){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function _n(ne,K){Ir(ne,K)}function ti(ne,K){if(!ne.hasOwnProperty("model"))return!1;const ye=ne.model;return!!ye.isFirstChange()||!Object.is(K,ye.currentValue)}function Tr(ne,K){ne._syncPendingControls(),K.forEach(ye=>{const ee=ye.control;"submit"===ee.updateOn&&ee._pendingChange&&(ye.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}function cs(ne,K){if(!K)return null;let ye,ee,Ce;return Array.isArray(K),K.forEach(rn=>{rn.constructor===mt?ye=rn:function Qr(ne){return Object.getPrototypeOf(ne.constructor)===Ve}(rn)?ee=rn:Ce=rn}),Ce||ee||ye||null}const un={provide:Zn,useExisting:(0,d.Gpc)(()=>Ui)},Xr=(()=>Promise.resolve())();let Ui=(()=>{var ne;class K extends Zn{constructor(ee,Ce,rn){super(),this.callSetDisabledState=rn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new G({},Ct(ee),yt(Ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ee){Xr.then(()=>{const Ce=this._findContainer(ee.path);ee.control=Ce.registerControl(ee.name,ee.control),qt(ee.control,ee,this.callSetDisabledState),ee.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ee)})}getControl(ee){return this.form.get(ee.path)}removeControl(ee){Xr.then(()=>{const Ce=this._findContainer(ee.path);Ce&&Ce.removeControl(ee.name),this._directives.delete(ee)})}addFormGroup(ee){Xr.then(()=>{const Ce=this._findContainer(ee.path),rn=new G({});_n(rn,ee),Ce.registerControl(ee.name,rn),rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ee){Xr.then(()=>{const Ce=this._findContainer(ee.path);Ce&&Ce.removeControl(ee.name)})}getFormGroup(ee){return this.form.get(ee.path)}updateModel(ee,Ce){Xr.then(()=>{this.form.get(ee.path).setValue(Ce)})}setValue(ee){this.control.setValue(ee)}onSubmit(ee){return this.submitted=!0,Tr(this.form,this._directives),this.ngSubmit.emit(ee),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ee){return ee.pop(),ee.length?this.form.get(ee):this.form}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(St,10),d.Y36(Rt,10),d.Y36(We,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ee,Ce){1&ee&&d.NdJ("submit",function(er){return Ce.onSubmit(er)})("reset",function(){return Ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([un]),d.qOj]}),K})();function us(ne,K){const ye=ne.indexOf(K);ye>-1&&ne.splice(ye,1)}function nt(ne){return"object"==typeof ne&&null!==ne&&2===Object.keys(ne).length&&"value"in ne&&"disabled"in ne}const oe=class extends be{constructor(K=null,ye,ee){super(Xe(ye),Bt(ee,ye)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(ye),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hn(ye)&&(ye.nonNullable||ye.initialValueIsDefault)&&(this.defaultValue=nt(K)?K.value:K)}setValue(K,ye={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==ye.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==ye.emitViewToModelChange)),this.updateValueAndValidity(ye)}patchValue(K,ye={}){this.setValue(K,ye)}reset(K=this.defaultValue,ye={}){this._applyFormState(K),this.markAsPristine(ye),this.markAsUntouched(ye),this.setValue(this.value,ye),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){us(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){us(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){nt(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},De={provide:Fn,useExisting:(0,d.Gpc)(()=>ot)},Ge=(()=>Promise.resolve())();let ot=(()=>{var ne;class K extends Fn{constructor(ee,Ce,rn,er,Ei,as){super(),this._changeDetectorRef=Ei,this.callSetDisabledState=as,this.control=new oe,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=ee,this._setValidators(Ce),this._setAsyncValidators(rn),this.valueAccessor=cs(0,er)}ngOnChanges(ee){if(this._checkForErrors(),!this._registered||"name"in ee){if(this._registered&&(this._checkName(),this.formDirective)){const Ce=ee.name.previousValue;this.formDirective.removeControl({name:Ce,path:this._getPath(Ce)})}this._setUpControl()}"isDisabled"in ee&&this._updateDisabled(ee),ti(ee,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ee){Ge.then(()=>{this.control.setValue(ee,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ee){const Ce=ee.isDisabled.currentValue,rn=0!==Ce&&(0,d.VuI)(Ce);Ge.then(()=>{rn&&!this.control.disabled?this.control.disable():!rn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ee){return this._parent?function on(ne,K){return[...K.path,ne]}(ee,this._parent):[ee]}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(Zn,9),d.Y36(St,10),d.Y36(Rt,10),d.Y36(Ae,10),d.Y36(d.sBO,8),d.Y36(We,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([De]),d.qOj,d.TTD]}),K})(),Wt=(()=>{var ne;class K{}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275dir=d.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),ri=(()=>{var ne;class K{}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({}),K})();const ii=new d.OlP("NgModelWithFormControlWarning"),Ri={provide:Fn,useExisting:(0,d.Gpc)(()=>ys)};let ys=(()=>{var ne;class K extends Fn{set isDisabled(ee){}constructor(ee,Ce,rn,er,Ei){super(),this._ngModelWarningConfig=er,this.callSetDisabledState=Ei,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(ee),this._setAsyncValidators(Ce),this.valueAccessor=cs(0,rn)}ngOnChanges(ee){if(this._isControlChanged(ee)){const Ce=ee.form.previousValue;Ce&&Sn(Ce,this,!1),qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ti(ee,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Sn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_isControlChanged(ee){return ee.hasOwnProperty("form")}}return(ne=K)._ngModelWarningSentOnce=!1,ne.\u0275fac=function(ee){return new(ee||ne)(d.Y36(St,10),d.Y36(Rt,10),d.Y36(Ae,10),d.Y36(ii,8),d.Y36(We,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Ri]),d.qOj,d.TTD]}),K})();const ai={provide:Zn,useExisting:(0,d.Gpc)(()=>ts)};let ts=(()=>{var ne;class K extends Zn{constructor(ee,Ce,rn){super(),this.callSetDisabledState=rn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(ee),this._setAsyncValidators(Ce)}ngOnChanges(ee){this._checkFormPresent(),ee.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ee){const Ce=this.form.get(ee.path);return qt(Ce,ee,this.callSetDisabledState),Ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(ee),Ce}getControl(ee){return this.form.get(ee.path)}removeControl(ee){Sn(ee.control||null,ee,!1),function vs(ne,K){const ye=ne.indexOf(K);ye>-1&&ne.splice(ye,1)}(this.directives,ee)}addFormGroup(ee){this._setUpFormContainer(ee)}removeFormGroup(ee){this._cleanUpFormContainer(ee)}getFormGroup(ee){return this.form.get(ee.path)}addFormArray(ee){this._setUpFormContainer(ee)}removeFormArray(ee){this._cleanUpFormContainer(ee)}getFormArray(ee){return this.form.get(ee.path)}updateModel(ee,Ce){this.form.get(ee.path).setValue(Ce)}onSubmit(ee){return this.submitted=!0,Tr(this.form,this.directives),this.ngSubmit.emit(ee),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this.submitted=!1}_updateDomValue(){this.directives.forEach(ee=>{const Ce=ee.control,rn=this.form.get(ee.path);Ce!==rn&&(Sn(Ce||null,ee),(ne=>ne instanceof oe)(rn)&&(qt(rn,ee,this.callSetDisabledState),ee.control=rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ee){const Ce=this.form.get(ee.path);_n(Ce,ee),Ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ee){if(this.form){const Ce=this.form.get(ee.path);Ce&&function an(ne,K){return Fi(ne,K)}(Ce,ee)&&Ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ir(this.form,this),this._oldForm&&Fi(this._oldForm,this)}_checkFormPresent(){}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)(d.Y36(St,10),d.Y36(Rt,10),d.Y36(We,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function(ee,Ce){1&ee&&d.NdJ("submit",function(er){return Ce.onSubmit(er)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ai]),d.qOj,d.TTD]}),K})(),oo=(()=>{var ne;class K{constructor(){this._validator=hn}ngOnChanges(ee){if(this.inputName in ee){const Ce=this.normalizeInput(ee[this.inputName].currentValue);this._enabled=this.enabled(Ce),this._validator=this._enabled?this.createValidator(Ce):hn,this._onChange&&this._onChange()}}validate(ee){return this._validator(ee)}registerOnValidatorChange(ee){this._onChange=ee}enabled(ee){return null!=ee}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275dir=d.lG2({type:ne,features:[d.TTD]}),K})();const Qs={provide:St,useExisting:(0,d.Gpc)(()=>Ho),multi:!0};let Ho=(()=>{var ne;class K extends oo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.VuI,this.createValidator=ee=>je}enabled(ee){return ee}}return(ne=K).\u0275fac=function(){let ye;return function(Ce){return(ye||(ye=d.n5z(ne)))(Ce||ne)}}(),ne.\u0275dir=d.lG2({type:ne,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ee,Ce){2&ee&&d.uIk("required",Ce._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([Qs]),d.qOj]}),K})(),Jr=(()=>{var ne;class K{}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[ri]}),K})();class ya extends be{constructor(K,ye,ee){super(Xe(ye),Bt(ee,ye)),this.controls=K,this._initObservables(),this._setUpdateStrategy(ye),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(K){return this.controls[this._adjustIndex(K)]}push(K,ye={}){this.controls.push(K),this._registerControl(K),this.updateValueAndValidity({emitEvent:ye.emitEvent}),this._onCollectionChange()}insert(K,ye,ee={}){this.controls.splice(K,0,ye),this._registerControl(ye),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(K,ye={}){let ee=this._adjustIndex(K);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:ye.emitEvent})}setControl(K,ye,ee={}){let Ce=this._adjustIndex(K);Ce<0&&(Ce=0),this.controls[Ce]&&this.controls[Ce]._registerOnCollectionChange(()=>{}),this.controls.splice(Ce,1),ye&&(this.controls.splice(Ce,0,ye),this._registerControl(ye)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,ye={}){_i(this,0,K),K.forEach((ee,Ce)=>{pr(this,!1,Ce),this.at(Ce).setValue(ee,{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye)}patchValue(K,ye={}){null!=K&&(K.forEach((ee,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(ee,{onlySelf:!0,emitEvent:ye.emitEvent})}),this.updateValueAndValidity(ye))}reset(K=[],ye={}){this._forEachChild((ee,Ce)=>{ee.reset(K[Ce],{onlySelf:!0,emitEvent:ye.emitEvent})}),this._updatePristine(ye),this._updateTouched(ye),this.updateValueAndValidity(ye)}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(ye=>ye._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((ye,ee)=>!!ee._syncPendingControls()||ye,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((ye,ee)=>{K(ye,ee)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(ye=>ye.enabled&&K(ye))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}function As(ne){return!!ne&&(void 0!==ne.asyncValidators||void 0!==ne.validators||void 0!==ne.updateOn)}let vo=(()=>{var ne;class K{constructor(){this.useNonNullable=!1}get nonNullable(){const ee=new K;return ee.useNonNullable=!0,ee}group(ee,Ce=null){const rn=this._reduceControls(ee);let er={};return As(Ce)?er=Ce:null!==Ce&&(er.validators=Ce.validator,er.asyncValidators=Ce.asyncValidator),new G(rn,er)}record(ee,Ce=null){const rn=this._reduceControls(ee);return new F(rn,Ce)}control(ee,Ce,rn){let er={};return this.useNonNullable?(As(Ce)?er=Ce:(er.validators=Ce,er.asyncValidators=rn),new oe(ee,{...er,nonNullable:!0})):new oe(ee,Ce,rn)}array(ee,Ce,rn){const er=ee.map(Ei=>this._createControl(Ei));return new ya(er,Ce,rn)}_reduceControls(ee){const Ce={};return Object.keys(ee).forEach(rn=>{Ce[rn]=this._createControl(ee[rn])}),Ce}_createControl(ee){return ee instanceof oe||ee instanceof be?ee:Array.isArray(ee)?this.control(ee[0],ee.length>1?ee[1]:null,ee.length>2?ee[2]:null):this.control(ee)}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275prov=d.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),K})(),Pa=(()=>{var ne;class K{static withConfig(ee){return{ngModule:K,providers:[{provide:We,useValue:ee.callSetDisabledState??vt}]}}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[Jr]}),K})(),Ms=(()=>{var ne;class K{static withConfig(ee){return{ngModule:K,providers:[{provide:ii,useValue:ee.warnOnNgModelWithFormControl??"always"},{provide:We,useValue:ee.callSetDisabledState??vt}]}}}return(ne=K).\u0275fac=function(ee){return new(ee||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[Jr]}),K})()},2296:(pn,st,V)=>{V.d(st,{RK:()=>zn,lW:()=>Pt,ot:()=>Ct,zs:()=>et});var d=V(2831),H=V(5879),ae=V(4300),Te=V(2495),b=V(3680);const ke=["mat-button",""],Ve=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ae=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],he=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",mt=["mat-icon-button",""],jt=["*"],Zt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ut=(0,b.pj)((0,b.Id)((0,b.Kr)(class{constructor(ct){this._elementRef=ct}})));let Re=(()=>{var ct;class yt extends Ut{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ut){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ut)}get disableRipple(){return this._disableRipple}set disableRipple(ut){this._disableRipple=(0,Te.Ig)(ut),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ut){this._disabled=(0,Te.Ig)(ut),this._updateRippleDisabled()}constructor(ut,Ht,At,Xn){super(ut),this._platform=Ht,this._ngZone=At,this._animationMode=Xn,this._focusMonitor=(0,H.f3M)(ae.tE),this._rippleLoader=(0,H.f3M)(b.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const Mn=ut.nativeElement.classList;for(const jn of Zt)this._hasHostAttributes(jn.selector)&&jn.mdcClasses.forEach(Un=>{Mn.add(Un)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ut="program",Ht){ut?this._focusMonitor.focusVia(this._elementRef.nativeElement,ut,Ht):this._elementRef.nativeElement.focus(Ht)}_hasHostAttributes(...ut){return ut.some(Ht=>this._elementRef.nativeElement.hasAttribute(Ht))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(ct=yt).\u0275fac=function(ut){H.$Z()},ct.\u0275dir=H.lG2({type:ct,features:[H.qOj]}),yt})(),Je=(()=>{var ct;class yt extends Re{constructor(ut,Ht,At,Xn){super(ut,Ht,At,Xn),this._haltDisabledEvents=Mn=>{this.disabled&&(Mn.preventDefault(),Mn.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return(ct=yt).\u0275fac=function(ut){H.$Z()},ct.\u0275dir=H.lG2({type:ct,features:[H.qOj]}),yt})(),Pt=(()=>{var ct;class yt extends Re{constructor(ut,Ht,At,Xn){super(ut,Ht,At,Xn)}}return(ct=yt).\u0275fac=function(ut){return new(ut||ct)(H.Y36(H.SBq),H.Y36(d.t4),H.Y36(H.R0b),H.Y36(H.QbO,8))},ct.\u0275cmp=H.Xpm({type:ct,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(ut,Ht){2&ut&&(H.uIk("disabled",Ht.disabled||null),H.ekj("_mat-animation-noopable","NoopAnimations"===Ht._animationMode)("mat-unthemed",!Ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[H.qOj],attrs:ke,ngContentSelectors:Ae,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ut,Ht){1&ut&&(H.F$t(Ve),H._UZ(0,"span",0),H.Hsn(1),H.TgZ(2,"span",1),H.Hsn(3,1),H.qZA(),H.Hsn(4,2),H._UZ(5,"span",2)(6,"span",3)),2&ut&&H.ekj("mdc-button__ripple",!Ht._isFab)("mdc-fab__ripple",Ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),yt})(),et=(()=>{var ct;class yt extends Je{constructor(ut,Ht,At,Xn){super(ut,Ht,At,Xn)}}return(ct=yt).\u0275fac=function(ut){return new(ut||ct)(H.Y36(H.SBq),H.Y36(d.t4),H.Y36(H.R0b),H.Y36(H.QbO,8))},ct.\u0275cmp=H.Xpm({type:ct,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(ut,Ht){2&ut&&(H.uIk("disabled",Ht.disabled||null)("tabindex",Ht.disabled?-1:Ht.tabIndex)("aria-disabled",Ht.disabled.toString()),H.ekj("_mat-animation-noopable","NoopAnimations"===Ht._animationMode)("mat-unthemed",!Ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[H.qOj],attrs:ke,ngContentSelectors:Ae,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ut,Ht){1&ut&&(H.F$t(Ve),H._UZ(0,"span",0),H.Hsn(1),H.TgZ(2,"span",1),H.Hsn(3,1),H.qZA(),H.Hsn(4,2),H._UZ(5,"span",2)(6,"span",3)),2&ut&&H.ekj("mdc-button__ripple",!Ht._isFab)("mdc-fab__ripple",Ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',he],encapsulation:2,changeDetection:0}),yt})(),zn=(()=>{var ct;class yt extends Re{constructor(ut,Ht,At,Xn){super(ut,Ht,At,Xn),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(ct=yt).\u0275fac=function(ut){return new(ut||ct)(H.Y36(H.SBq),H.Y36(d.t4),H.Y36(H.R0b),H.Y36(H.QbO,8))},ct.\u0275cmp=H.Xpm({type:ct,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(ut,Ht){2&ut&&(H.uIk("disabled",Ht.disabled||null),H.ekj("_mat-animation-noopable","NoopAnimations"===Ht._animationMode)("mat-unthemed",!Ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[H.qOj],attrs:mt,ngContentSelectors:jt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ut,Ht){1&ut&&(H.F$t(),H._UZ(0,"span",0),H.Hsn(1),H._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',he],encapsulation:2,changeDetection:0}),yt})(),Ct=(()=>{var ct;class yt{}return(ct=yt).\u0275fac=function(ut){return new(ut||ct)},ct.\u0275mod=H.oAB({type:ct}),ct.\u0275inj=H.cJS({imports:[b.BQ,b.si,b.BQ]}),yt})()},3680:(pn,st,V)=>{V.d(st,{rD:()=>At,BQ:()=>Qe,Fq:()=>_i,si:()=>$n,pj:()=>Ft,Kr:()=>yn,Id:()=>et,FD:()=>cn});var d=V(5879),H=V(4300),ae=V(9388),b=V(6814),ke=V(2831),Ve=V(2495);const Re=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ut(){return!0}});let Qe=(()=>{var be;class G{constructor(L,F,de){this._sanityChecks=F,this._document=de,this._hasDoneGlobalChecks=!1,L._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(L){return!(0,ke.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[L])}}return(be=G).\u0275fac=function(L){return new(L||be)(d.LFG(H.qm),d.LFG(Re,8),d.LFG(b.K0))},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({imports:[ae.vT,ae.vT]}),G})();function et(be){return class extends be{get disabled(){return this._disabled}set disabled(G){this._disabled=(0,Ve.Ig)(G)}constructor(...G){super(...G),this._disabled=!1}}}function Ft(be,G){return class extends be{get color(){return this._color}set color(k){const L=k||this.defaultColor;L!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),L&&this._elementRef.nativeElement.classList.add(`mat-${L}`),this._color=L)}constructor(...k){super(...k),this.defaultColor=G,this.color=G}}}function yn(be){return class extends be{get disableRipple(){return this._disableRipple}set disableRipple(G){this._disableRipple=(0,Ve.Ig)(G)}constructor(...G){super(...G),this._disableRipple=!1}}}function cn(be){return class extends be{updateErrorState(){const G=this.errorState,de=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);de!==G&&(this.errorState=de,this.stateChanges.next())}constructor(...G){super(...G),this.errorState=!1}}}let At=(()=>{var be;class G{isErrorState(L,F){return!!(L&&L.invalid&&(L.touched||F&&F.submitted))}}return(be=G).\u0275fac=function(L){return new(L||be)},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),G})();class Zn{constructor(G,k,L,F=!1){this._renderer=G,this.element=k,this.config=L,this._animationForciblyDisabledThroughCss=F,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Fn=(0,ke.i$)({passive:!0,capture:!0});class kr{constructor(){this._events=new Map,this._delegateEventHandler=G=>{const k=(0,ke.sA)(G);k&&this._events.get(G.type)?.forEach((L,F)=>{(F===k||F.contains(k))&&L.forEach(de=>de.handleEvent(G))})}}addHandler(G,k,L,F){const de=this._events.get(k);if(de){const We=de.get(L);We?We.add(F):de.set(L,new Set([F]))}else this._events.set(k,new Map([[L,new Set([F])]])),G.runOutsideAngular(()=>{document.addEventListener(k,this._delegateEventHandler,Fn)})}removeHandler(G,k,L){const F=this._events.get(G);if(!F)return;const de=F.get(k);de&&(de.delete(L),0===de.size&&F.delete(k),0===F.size&&(this._events.delete(G),document.removeEventListener(G,this._delegateEventHandler,Fn)))}}const br={enterDuration:225,exitDuration:150},ui=(0,ke.i$)({passive:!0,capture:!0}),gi=["mousedown","touchstart"],hi=["mouseup","mouseleave","touchend","touchcancel"];class Kr{constructor(G,k,L,F){this._target=G,this._ngZone=k,this._platform=F,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,F.isBrowser&&(this._containerElement=(0,Ve.fI)(L))}fadeInRipple(G,k,L={}){const F=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),de={...br,...L.animation};L.centered&&(G=F.left+F.width/2,k=F.top+F.height/2);const We=L.radius||function fi(be,G,k){const L=Math.max(Math.abs(be-k.left),Math.abs(be-k.right)),F=Math.max(Math.abs(G-k.top),Math.abs(G-k.bottom));return Math.sqrt(L*L+F*F)}(G,k,F),vt=G-F.left,on=k-F.top,qt=de.enterDuration,Sn=document.createElement("div");Sn.classList.add("mat-ripple-element"),Sn.style.left=vt-We+"px",Sn.style.top=on-We+"px",Sn.style.height=2*We+"px",Sn.style.width=2*We+"px",null!=L.color&&(Sn.style.backgroundColor=L.color),Sn.style.transitionDuration=`${qt}ms`,this._containerElement.appendChild(Sn);const In=window.getComputedStyle(Sn),Ir=In.transitionDuration,Fi="none"===In.transitionProperty||"0s"===Ir||"0s, 0s"===Ir||0===F.width&&0===F.height,pi=new Zn(this,Sn,L,Fi);Sn.style.transform="scale3d(1, 1, 1)",pi.state=0,L.persistent||(this._mostRecentTransientRipple=pi);let Dt=null;return!Fi&&(qt||de.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const gt=()=>this._finishRippleTransition(pi),Kt=()=>this._destroyRipple(pi);Sn.addEventListener("transitionend",gt),Sn.addEventListener("transitioncancel",Kt),Dt={onTransitionEnd:gt,onTransitionCancel:Kt}}),this._activeRipples.set(pi,Dt),(Fi||!qt)&&this._finishRippleTransition(pi),pi}fadeOutRipple(G){if(2===G.state||3===G.state)return;const k=G.element,L={...br,...G.config.animation};k.style.transitionDuration=`${L.exitDuration}ms`,k.style.opacity="0",G.state=2,(G._animationForciblyDisabledThroughCss||!L.exitDuration)&&this._finishRippleTransition(G)}fadeOutAll(){this._getActiveRipples().forEach(G=>G.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(G=>{G.config.persistent||G.fadeOut()})}setupTriggerEvents(G){const k=(0,Ve.fI)(G);!this._platform.isBrowser||!k||k===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=k,gi.forEach(L=>{Kr._eventManager.addHandler(this._ngZone,L,k,this)}))}handleEvent(G){"mousedown"===G.type?this._onMousedown(G):"touchstart"===G.type?this._onTouchStart(G):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hi.forEach(k=>{this._triggerElement.addEventListener(k,this,ui)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(G){0===G.state?this._startFadeOutTransition(G):2===G.state&&this._destroyRipple(G)}_startFadeOutTransition(G){const k=G===this._mostRecentTransientRipple,{persistent:L}=G.config;G.state=1,!L&&(!k||!this._isPointerDown)&&G.fadeOut()}_destroyRipple(G){const k=this._activeRipples.get(G)??null;this._activeRipples.delete(G),this._activeRipples.size||(this._containerRect=null),G===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),G.state=3,null!==k&&(G.element.removeEventListener("transitionend",k.onTransitionEnd),G.element.removeEventListener("transitioncancel",k.onTransitionCancel)),G.element.remove()}_onMousedown(G){const k=(0,H.X6)(G),L=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!k&&!L&&(this._isPointerDown=!0,this.fadeInRipple(G.clientX,G.clientY,this._target.rippleConfig))}_onTouchStart(G){if(!this._target.rippleDisabled&&!(0,H.yG)(G)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const k=G.changedTouches;if(k)for(let L=0;L<k.length;L++)this.fadeInRipple(k[L].clientX,k[L].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(G=>{!G.config.persistent&&(1===G.state||G.config.terminateOnPointerUp&&0===G.state)&&G.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const G=this._triggerElement;G&&(gi.forEach(k=>Kr._eventManager.removeHandler(k,G,this)),this._pointerUpEventsRegistered&&hi.forEach(k=>G.removeEventListener(k,this,ui)))}}Kr._eventManager=new kr;const Ar=new d.OlP("mat-ripple-global-options");let kn=(()=>{var be;class G{get disabled(){return this._disabled}set disabled(L){L&&this.fadeOutAllNonPersistent(),this._disabled=L,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(L){this._trigger=L,this._setupTriggerEventsIfEnabled()}constructor(L,F,de,We,vt){this._elementRef=L,this._animationMode=vt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=We||{},this._rippleRenderer=new Kr(this,F,L,de)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(L,F=0,de){return"number"==typeof L?this._rippleRenderer.fadeInRipple(L,F,{...this.rippleConfig,...de}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...L})}}return(be=G).\u0275fac=function(L){return new(L||be)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ke.t4),d.Y36(Ar,8),d.Y36(d.QbO,8))},be.\u0275dir=d.lG2({type:be,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(L,F){2&L&&d.ekj("mat-ripple-unbounded",F.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),G})(),$n=(()=>{var be;class G{}return(be=G).\u0275fac=function(L){return new(L||be)},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({imports:[Qe,Qe]}),G})();const Xe={capture:!0},ht=["focus","click","mouseenter","touchstart"],Bt="mat-ripple-loader-uninitialized",gn="mat-ripple-loader-class-name",Hn="mat-ripple-loader-centered",pr="mat-ripple-loader-disabled";let _i=(()=>{var be;class G{constructor(){this._document=(0,d.f3M)(b.K0,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(Ar,{optional:!0}),this._platform=(0,d.f3M)(ke.t4),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=L=>{if(!(L.target instanceof HTMLElement))return;const de=L.target.closest(`[${Bt}]`);de&&this.createRipple(de)},this._ngZone.runOutsideAngular(()=>{for(const L of ht)this._document?.addEventListener(L,this._onInteraction,Xe)})}ngOnDestroy(){for(const L of ht)this._document?.removeEventListener(L,this._onInteraction,Xe)}configureRipple(L,F){L.setAttribute(Bt,""),(F.className||!L.hasAttribute(gn))&&L.setAttribute(gn,F.className||""),F.centered&&L.setAttribute(Hn,""),F.disabled&&L.setAttribute(pr,"")}getRipple(L){return L.matRipple?L.matRipple:this.createRipple(L)}setDisabled(L,F){const de=L.matRipple;de?de.disabled=F:F?L.setAttribute(pr,""):L.removeAttribute(pr)}createRipple(L){if(!this._document)return;L.querySelector(".mat-ripple")?.remove();const F=this._document.createElement("span");F.classList.add("mat-ripple",L.getAttribute(gn)),L.append(F);const de=new kn(new d.SBq(F),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return de._isInitialized=!0,de.trigger=L,de.centered=L.hasAttribute(Hn),de.disabled=L.hasAttribute(pr),this.attachRipple(L,de),de}attachRipple(L,F){L.removeAttribute(Bt),L.matRipple=F}}return(be=G).\u0275fac=function(L){return new(L||be)},be.\u0275prov=d.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),G})()},1175:(pn,st,V)=>{V.d(st,{Hw:()=>qe,Ps:()=>bt});var d=V(5879),H=V(3680),ae=V(2495),Te=V(6814),b=V(2096),ke=V(8504),Ve=V(9315),Ae=V(7394),Fe=V(9397),he=V(7398),ve=V(6306),Ke=V(4716),lt=V(3020),mt=V(8180),jt=V(6328),kt=V(2181);class St{}class Zt{constructor(ge){this.normalizedNames=new Map,this.lazyUpdate=null,ge?"string"==typeof ge?this.lazyInit=()=>{this.headers=new Map,ge.split("\n").forEach($e=>{const De=$e.indexOf(":");if(De>0){const Ge=$e.slice(0,De),ot=Ge.toLowerCase(),Wt=$e.slice(De+1).trim();this.maybeSetNormalizedName(Ge,ot),this.headers.has(ot)?this.headers.get(ot).push(Wt):this.headers.set(ot,[Wt])}})}:typeof Headers<"u"&&ge instanceof Headers?(this.headers=new Map,ge.forEach(($e,De)=>{this.setHeaderEntries(De,$e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ge).forEach(([$e,De])=>{this.setHeaderEntries($e,De)})}:this.headers=new Map}has(ge){return this.init(),this.headers.has(ge.toLowerCase())}get(ge){this.init();const $e=this.headers.get(ge.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ge){return this.init(),this.headers.get(ge.toLowerCase())||null}append(ge,$e){return this.clone({name:ge,value:$e,op:"a"})}set(ge,$e){return this.clone({name:ge,value:$e,op:"s"})}delete(ge,$e){return this.clone({name:ge,value:$e,op:"d"})}maybeSetNormalizedName(ge,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,ge)}init(){this.lazyInit&&(this.lazyInit instanceof Zt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ge=>this.applyUpdate(ge)),this.lazyUpdate=null))}copyFrom(ge){ge.init(),Array.from(ge.headers.keys()).forEach($e=>{this.headers.set($e,ge.headers.get($e)),this.normalizedNames.set($e,ge.normalizedNames.get($e))})}clone(ge){const $e=new Zt;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zt?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([ge]),$e}applyUpdate(ge){const $e=ge.name.toLowerCase();switch(ge.op){case"a":case"s":let De=ge.value;if("string"==typeof De&&(De=[De]),0===De.length)return;this.maybeSetNormalizedName(ge.name,$e);const Ge=("a"===ge.op?this.headers.get($e):void 0)||[];Ge.push(...De),this.headers.set($e,Ge);break;case"d":const ot=ge.value;if(ot){let Wt=this.headers.get($e);if(!Wt)return;Wt=Wt.filter(vn=>-1===ot.indexOf(vn)),0===Wt.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,Wt)}else this.headers.delete($e),this.normalizedNames.delete($e)}}setHeaderEntries(ge,$e){const De=(Array.isArray($e)?$e:[$e]).map(ot=>ot.toString()),Ge=ge.toLowerCase();this.headers.set(Ge,De),this.maybeSetNormalizedName(ge,Ge)}forEach(ge){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>ge(this.normalizedNames.get($e),this.headers.get($e)))}}class Re{encodeKey(ge){return Pt(ge)}encodeValue(ge){return Pt(ge)}decodeKey(ge){return decodeURIComponent(ge)}decodeValue(ge){return decodeURIComponent(ge)}}const je=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(xe){return encodeURIComponent(xe).replace(je,(ge,$e)=>Je[$e]??ge)}function et(xe){return`${xe}`}class Ft{constructor(ge={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ge.encoder||new Re,ge.fromString){if(ge.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(xe,ge){const $e=new Map;return xe.length>0&&xe.replace(/^\?/,"").split("&").forEach(Ge=>{const ot=Ge.indexOf("="),[Wt,vn]=-1==ot?[ge.decodeKey(Ge),""]:[ge.decodeKey(Ge.slice(0,ot)),ge.decodeValue(Ge.slice(ot+1))],Ln=$e.get(Wt)||[];Ln.push(vn),$e.set(Wt,Ln)}),$e}(ge.fromString,this.encoder)}else ge.fromObject?(this.map=new Map,Object.keys(ge.fromObject).forEach($e=>{const De=ge.fromObject[$e],Ge=Array.isArray(De)?De.map(et):[et(De)];this.map.set($e,Ge)})):this.map=null}has(ge){return this.init(),this.map.has(ge)}get(ge){this.init();const $e=this.map.get(ge);return $e?$e[0]:null}getAll(ge){return this.init(),this.map.get(ge)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ge,$e){return this.clone({param:ge,value:$e,op:"a"})}appendAll(ge){const $e=[];return Object.keys(ge).forEach(De=>{const Ge=ge[De];Array.isArray(Ge)?Ge.forEach(ot=>{$e.push({param:De,value:ot,op:"a"})}):$e.push({param:De,value:Ge,op:"a"})}),this.clone($e)}set(ge,$e){return this.clone({param:ge,value:$e,op:"s"})}delete(ge,$e){return this.clone({param:ge,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(ge=>{const $e=this.encoder.encodeKey(ge);return this.map.get(ge).map(De=>$e+"="+this.encoder.encodeValue(De)).join("&")}).filter(ge=>""!==ge).join("&")}clone(ge){const $e=new Ft({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(ge),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ge=>this.map.set(ge,this.cloneFrom.map.get(ge))),this.updates.forEach(ge=>{switch(ge.op){case"a":case"s":const $e=("a"===ge.op?this.map.get(ge.param):void 0)||[];$e.push(et(ge.value)),this.map.set(ge.param,$e);break;case"d":if(void 0===ge.value){this.map.delete(ge.param);break}{let De=this.map.get(ge.param)||[];const Ge=De.indexOf(et(ge.value));-1!==Ge&&De.splice(Ge,1),De.length>0?this.map.set(ge.param,De):this.map.delete(ge.param)}}}),this.cloneFrom=this.updates=null)}}class hn{constructor(){this.map=new Map}set(ge,$e){return this.map.set(ge,$e),this}get(ge){return this.map.has(ge)||this.map.set(ge,ge.defaultValue()),this.map.get(ge)}delete(ge){return this.map.delete(ge),this}has(ge){return this.map.has(ge)}keys(){return this.map.keys()}}function or(xe){return typeof ArrayBuffer<"u"&&xe instanceof ArrayBuffer}function ei(xe){return typeof Blob<"u"&&xe instanceof Blob}function gr(xe){return typeof FormData<"u"&&xe instanceof FormData}class zn{constructor(ge,$e,De,Ge){let ot;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ge.toUpperCase(),function cn(xe){switch(xe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ge?(this.body=void 0!==De?De:null,ot=Ge):ot=De,ot&&(this.reportProgress=!!ot.reportProgress,this.withCredentials=!!ot.withCredentials,ot.responseType&&(this.responseType=ot.responseType),ot.headers&&(this.headers=ot.headers),ot.context&&(this.context=ot.context),ot.params&&(this.params=ot.params)),this.headers||(this.headers=new Zt),this.context||(this.context=new hn),this.params){const Wt=this.params.toString();if(0===Wt.length)this.urlWithParams=$e;else{const vn=$e.indexOf("?");this.urlWithParams=$e+(-1===vn?"?":vn<$e.length-1?"&":"")+Wt}}else this.params=new Ft,this.urlWithParams=$e}serializeBody(){return null===this.body?null:or(this.body)||ei(this.body)||gr(this.body)||function Ur(xe){return typeof URLSearchParams<"u"&&xe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ft?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gr(this.body)?null:ei(this.body)?this.body.type||null:or(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ft?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ge={}){const $e=ge.method||this.method,De=ge.url||this.url,Ge=ge.responseType||this.responseType,ot=void 0!==ge.body?ge.body:this.body,Wt=void 0!==ge.withCredentials?ge.withCredentials:this.withCredentials,vn=void 0!==ge.reportProgress?ge.reportProgress:this.reportProgress;let Ln=ge.headers||this.headers,Br=ge.params||this.params;const xi=ge.context??this.context;return void 0!==ge.setHeaders&&(Ln=Object.keys(ge.setHeaders).reduce((ri,Zs)=>ri.set(Zs,ge.setHeaders[Zs]),Ln)),ge.setParams&&(Br=Object.keys(ge.setParams).reduce((ri,Zs)=>ri.set(Zs,ge.setParams[Zs]),Br)),new zn($e,De,ot,{params:Br,headers:Ln,context:xi,reportProgress:vn,responseType:Ge,withCredentials:Wt})}}var _t=function(xe){return xe[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe}(_t||{});class Ct{constructor(ge,$e=200,De="OK"){this.headers=ge.headers||new Zt,this.status=void 0!==ge.status?ge.status:$e,this.statusText=ge.statusText||De,this.url=ge.url||null,this.ok=this.status>=200&&this.status<300}}class yt extends Ct{constructor(ge={}){super(ge),this.type=_t.Response,this.body=void 0!==ge.body?ge.body:null}clone(ge={}){return new yt({body:void 0!==ge.body?ge.body:this.body,headers:ge.headers||this.headers,status:void 0!==ge.status?ge.status:this.status,statusText:ge.statusText||this.statusText,url:ge.url||this.url||void 0})}}function ut(xe,ge){return{body:ge,headers:xe.headers,context:xe.context,observe:xe.observe,params:xe.params,reportProgress:xe.reportProgress,responseType:xe.responseType,withCredentials:xe.withCredentials}}let Ht=(()=>{var xe;class ge{constructor(De){this.handler=De}request(De,Ge,ot={}){let Wt;if(De instanceof zn)Wt=De;else{let Br,xi;Br=ot.headers instanceof Zt?ot.headers:new Zt(ot.headers),ot.params&&(xi=ot.params instanceof Ft?ot.params:new Ft({fromObject:ot.params})),Wt=new zn(De,Ge,void 0!==ot.body?ot.body:null,{headers:Br,context:ot.context,params:xi,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials})}const vn=(0,b.of)(Wt).pipe((0,jt.b)(Br=>this.handler.handle(Br)));if(De instanceof zn||"events"===ot.observe)return vn;const Ln=vn.pipe((0,kt.h)(Br=>Br instanceof yt));switch(ot.observe||"body"){case"body":switch(Wt.responseType){case"arraybuffer":return Ln.pipe((0,he.U)(Br=>{if(null!==Br.body&&!(Br.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Br.body}));case"blob":return Ln.pipe((0,he.U)(Br=>{if(null!==Br.body&&!(Br.body instanceof Blob))throw new Error("Response is not a Blob.");return Br.body}));case"text":return Ln.pipe((0,he.U)(Br=>{if(null!==Br.body&&"string"!=typeof Br.body)throw new Error("Response is not a string.");return Br.body}));default:return Ln.pipe((0,he.U)(Br=>Br.body))}case"response":return Ln;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(De,Ge={}){return this.request("DELETE",De,Ge)}get(De,Ge={}){return this.request("GET",De,Ge)}head(De,Ge={}){return this.request("HEAD",De,Ge)}jsonp(De,Ge){return this.request("JSONP",De,{params:(new Ft).append(Ge,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,Ge={}){return this.request("OPTIONS",De,Ge)}patch(De,Ge,ot={}){return this.request("PATCH",De,ut(ot,Ge))}post(De,Ge,ot={}){return this.request("POST",De,ut(ot,Ge))}put(De,Ge,ot={}){return this.request("PUT",De,ut(ot,Ge))}}return(xe=ge).\u0275fac=function(De){return new(De||xe)(d.LFG(St))},xe.\u0275prov=d.Yz7({token:xe,factory:xe.\u0275fac}),ge})();var _n=V(6593);const an=["*"];let Nn;function Yr(xe){return function dr(){if(void 0===Nn&&(Nn=null,typeof window<"u")){const xe=window;void 0!==xe.trustedTypes&&(Nn=xe.trustedTypes.createPolicy("angular#components",{createHTML:ge=>ge}))}return Nn}()?.createHTML(xe)||xe}function vi(xe){return Error(`Unable to find icon with the name "${xe}"`)}function ti(xe){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${xe}".`)}function Qr(xe){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${xe}".`)}class Tr{constructor(ge,$e,De){this.url=ge,this.svgText=$e,this.options=De}}let cs=(()=>{var xe;class ge{constructor(De,Ge,ot,Wt){this._httpClient=De,this._sanitizer=Ge,this._errorHandler=Wt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ot}addSvgIcon(De,Ge,ot){return this.addSvgIconInNamespace("",De,Ge,ot)}addSvgIconLiteral(De,Ge,ot){return this.addSvgIconLiteralInNamespace("",De,Ge,ot)}addSvgIconInNamespace(De,Ge,ot,Wt){return this._addSvgIconConfig(De,Ge,new Tr(ot,null,Wt))}addSvgIconResolver(De){return this._resolvers.push(De),this}addSvgIconLiteralInNamespace(De,Ge,ot,Wt){const vn=this._sanitizer.sanitize(d.q3G.HTML,ot);if(!vn)throw Qr(ot);const Ln=Yr(vn);return this._addSvgIconConfig(De,Ge,new Tr("",Ln,Wt))}addSvgIconSet(De,Ge){return this.addSvgIconSetInNamespace("",De,Ge)}addSvgIconSetLiteral(De,Ge){return this.addSvgIconSetLiteralInNamespace("",De,Ge)}addSvgIconSetInNamespace(De,Ge,ot){return this._addSvgIconSetConfig(De,new Tr(Ge,null,ot))}addSvgIconSetLiteralInNamespace(De,Ge,ot){const Wt=this._sanitizer.sanitize(d.q3G.HTML,Ge);if(!Wt)throw Qr(Ge);const vn=Yr(Wt);return this._addSvgIconSetConfig(De,new Tr("",vn,ot))}registerFontClassAlias(De,Ge=De){return this._fontCssClassesByAlias.set(De,Ge),this}classNameForFontAlias(De){return this._fontCssClassesByAlias.get(De)||De}setDefaultFontSetClass(...De){return this._defaultFontSetClass=De,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(De){const Ge=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,De);if(!Ge)throw ti(De);const ot=this._cachedIconsByUrl.get(Ge);return ot?(0,b.of)(un(ot)):this._loadSvgIconFromConfig(new Tr(De,null)).pipe((0,Fe.b)(Wt=>this._cachedIconsByUrl.set(Ge,Wt)),(0,he.U)(Wt=>un(Wt)))}getNamedSvgIcon(De,Ge=""){const ot=Xr(Ge,De);let Wt=this._svgIconConfigs.get(ot);if(Wt)return this._getSvgFromConfig(Wt);if(Wt=this._getIconConfigFromResolvers(Ge,De),Wt)return this._svgIconConfigs.set(ot,Wt),this._getSvgFromConfig(Wt);const vn=this._iconSetConfigs.get(Ge);return vn?this._getSvgFromIconSetConfigs(De,vn):(0,ke._)(vi(ot))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(De){return De.svgText?(0,b.of)(un(this._svgElementFromConfig(De))):this._loadSvgIconFromConfig(De).pipe((0,he.U)(Ge=>un(Ge)))}_getSvgFromIconSetConfigs(De,Ge){const ot=this._extractIconWithNameFromAnySet(De,Ge);if(ot)return(0,b.of)(ot);const Wt=Ge.filter(vn=>!vn.svgText).map(vn=>this._loadSvgIconSetFromConfig(vn).pipe((0,ve.K)(Ln=>{const xi=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,vn.url)} failed: ${Ln.message}`;return this._errorHandler.handleError(new Error(xi)),(0,b.of)(null)})));return(0,Ve.D)(Wt).pipe((0,he.U)(()=>{const vn=this._extractIconWithNameFromAnySet(De,Ge);if(!vn)throw vi(De);return vn}))}_extractIconWithNameFromAnySet(De,Ge){for(let ot=Ge.length-1;ot>=0;ot--){const Wt=Ge[ot];if(Wt.svgText&&Wt.svgText.toString().indexOf(De)>-1){const vn=this._svgElementFromConfig(Wt),Ln=this._extractSvgIconFromSet(vn,De,Wt.options);if(Ln)return Ln}}return null}_loadSvgIconFromConfig(De){return this._fetchIcon(De).pipe((0,Fe.b)(Ge=>De.svgText=Ge),(0,he.U)(()=>this._svgElementFromConfig(De)))}_loadSvgIconSetFromConfig(De){return De.svgText?(0,b.of)(null):this._fetchIcon(De).pipe((0,Fe.b)(Ge=>De.svgText=Ge))}_extractSvgIconFromSet(De,Ge,ot){const Wt=De.querySelector(`[id="${Ge}"]`);if(!Wt)return null;const vn=Wt.cloneNode(!0);if(vn.removeAttribute("id"),"svg"===vn.nodeName.toLowerCase())return this._setSvgAttributes(vn,ot);if("symbol"===vn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(vn),ot);const Ln=this._svgElementFromString(Yr("<svg></svg>"));return Ln.appendChild(vn),this._setSvgAttributes(Ln,ot)}_svgElementFromString(De){const Ge=this._document.createElement("DIV");Ge.innerHTML=De;const ot=Ge.querySelector("svg");if(!ot)throw Error("<svg> tag not found");return ot}_toSvgElement(De){const Ge=this._svgElementFromString(Yr("<svg></svg>")),ot=De.attributes;for(let Wt=0;Wt<ot.length;Wt++){const{name:vn,value:Ln}=ot[Wt];"id"!==vn&&Ge.setAttribute(vn,Ln)}for(let Wt=0;Wt<De.childNodes.length;Wt++)De.childNodes[Wt].nodeType===this._document.ELEMENT_NODE&&Ge.appendChild(De.childNodes[Wt].cloneNode(!0));return Ge}_setSvgAttributes(De,Ge){return De.setAttribute("fit",""),De.setAttribute("height","100%"),De.setAttribute("width","100%"),De.setAttribute("preserveAspectRatio","xMidYMid meet"),De.setAttribute("focusable","false"),Ge&&Ge.viewBox&&De.setAttribute("viewBox",Ge.viewBox),De}_fetchIcon(De){const{url:Ge,options:ot}=De,Wt=ot?.withCredentials??!1;if(!this._httpClient)throw function nn(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ge)throw Error(`Cannot fetch icon from URL "${Ge}".`);const vn=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,Ge);if(!vn)throw ti(Ge);const Ln=this._inProgressUrlFetches.get(vn);if(Ln)return Ln;const Br=this._httpClient.get(vn,{responseType:"text",withCredentials:Wt}).pipe((0,he.U)(xi=>Yr(xi)),(0,Ke.x)(()=>this._inProgressUrlFetches.delete(vn)),(0,lt.B)());return this._inProgressUrlFetches.set(vn,Br),Br}_addSvgIconConfig(De,Ge,ot){return this._svgIconConfigs.set(Xr(De,Ge),ot),this}_addSvgIconSetConfig(De,Ge){const ot=this._iconSetConfigs.get(De);return ot?ot.push(Ge):this._iconSetConfigs.set(De,[Ge]),this}_svgElementFromConfig(De){if(!De.svgElement){const Ge=this._svgElementFromString(De.svgText);this._setSvgAttributes(Ge,De.options),De.svgElement=Ge}return De.svgElement}_getIconConfigFromResolvers(De,Ge){for(let ot=0;ot<this._resolvers.length;ot++){const Wt=this._resolvers[ot](Ge,De);if(Wt)return Ui(Wt)?new Tr(Wt.url,null,Wt.options):new Tr(Wt,null)}}}return(xe=ge).\u0275fac=function(De){return new(De||xe)(d.LFG(Ht,8),d.LFG(_n.H7),d.LFG(Te.K0,8),d.LFG(d.qLn))},xe.\u0275prov=d.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),ge})();function un(xe){return xe.cloneNode(!0)}function Xr(xe,ge){return xe+":"+ge}function Ui(xe){return!(!xe.url||!xe.options)}const us=(0,H.pj)(class{constructor(xe){this._elementRef=xe}}),nt=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),oe=new d.OlP("mat-icon-location",{providedIn:"root",factory:function Pe(){const xe=(0,d.f3M)(Te.K0),ge=xe?xe.location:null;return{getPathname:()=>ge?ge.pathname+ge.search:""}}}),$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ce=$.map(xe=>`[${xe}]`).join(", "),Ee=/^url\(['"]?#(.*?)['"]?\)$/;let qe=(()=>{var xe;class ge extends us{get inline(){return this._inline}set inline(De){this._inline=(0,ae.Ig)(De)}get svgIcon(){return this._svgIcon}set svgIcon(De){De!==this._svgIcon&&(De?this._updateSvgIcon(De):this._svgIcon&&this._clearSvgElement(),this._svgIcon=De)}get fontSet(){return this._fontSet}set fontSet(De){const Ge=this._cleanupFontValue(De);Ge!==this._fontSet&&(this._fontSet=Ge,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(De){const Ge=this._cleanupFontValue(De);Ge!==this._fontIcon&&(this._fontIcon=Ge,this._updateFontIconClasses())}constructor(De,Ge,ot,Wt,vn,Ln){super(De),this._iconRegistry=Ge,this._location=Wt,this._errorHandler=vn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ae.w0.EMPTY,Ln&&(Ln.color&&(this.color=this.defaultColor=Ln.color),Ln.fontSet&&(this.fontSet=Ln.fontSet)),ot||De.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(De){if(!De)return["",""];const Ge=De.split(":");switch(Ge.length){case 1:return["",Ge[0]];case 2:return Ge;default:throw Error(`Invalid icon name: "${De}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const De=this._elementsWithExternalReferences;if(De&&De.size){const Ge=this._location.getPathname();Ge!==this._previousPath&&(this._previousPath=Ge,this._prependPathToReferences(Ge))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(De){this._clearSvgElement();const Ge=this._location.getPathname();this._previousPath=Ge,this._cacheChildrenWithExternalReferences(De),this._prependPathToReferences(Ge),this._elementRef.nativeElement.appendChild(De)}_clearSvgElement(){const De=this._elementRef.nativeElement;let Ge=De.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ge--;){const ot=De.childNodes[Ge];(1!==ot.nodeType||"svg"===ot.nodeName.toLowerCase())&&ot.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const De=this._elementRef.nativeElement,Ge=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ot=>ot.length>0);this._previousFontSetClass.forEach(ot=>De.classList.remove(ot)),Ge.forEach(ot=>De.classList.add(ot)),this._previousFontSetClass=Ge,this.fontIcon!==this._previousFontIconClass&&!Ge.includes("mat-ligature-font")&&(this._previousFontIconClass&&De.classList.remove(this._previousFontIconClass),this.fontIcon&&De.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(De){return"string"==typeof De?De.trim().split(" ")[0]:De}_prependPathToReferences(De){const Ge=this._elementsWithExternalReferences;Ge&&Ge.forEach((ot,Wt)=>{ot.forEach(vn=>{Wt.setAttribute(vn.name,`url('${De}#${vn.value}')`)})})}_cacheChildrenWithExternalReferences(De){const Ge=De.querySelectorAll(ce),ot=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Wt=0;Wt<Ge.length;Wt++)$.forEach(vn=>{const Ln=Ge[Wt],Br=Ln.getAttribute(vn),xi=Br?Br.match(Ee):null;if(xi){let ri=ot.get(Ln);ri||(ri=[],ot.set(Ln,ri)),ri.push({name:vn,value:xi[1]})}})}_updateSvgIcon(De){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),De){const[Ge,ot]=this._splitIconName(De);Ge&&(this._svgNamespace=Ge),ot&&(this._svgName=ot),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ot,Ge).pipe((0,mt.q)(1)).subscribe(Wt=>this._setSvgElement(Wt),Wt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ge}:${ot}! ${Wt.message}`))})}}}return(xe=ge).\u0275fac=function(De){return new(De||xe)(d.Y36(d.SBq),d.Y36(cs),d.$8M("aria-hidden"),d.Y36(oe),d.Y36(d.qLn),d.Y36(nt,8))},xe.\u0275cmp=d.Xpm({type:xe,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(De,Ge){2&De&&(d.uIk("data-mat-icon-type",Ge._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ge._svgName||Ge.fontIcon)("data-mat-icon-namespace",Ge._svgNamespace||Ge.fontSet)("fontIcon",Ge._usingFontIcon()?Ge.fontIcon:null),d.ekj("mat-icon-inline",Ge.inline)("mat-icon-no-color","primary"!==Ge.color&&"accent"!==Ge.color&&"warn"!==Ge.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:an,decls:1,vars:0,template:function(De,Ge){1&De&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ge})(),bt=(()=>{var xe;class ge{}return(xe=ge).\u0275fac=function(De){return new(De||xe)},xe.\u0275mod=d.oAB({type:xe}),xe.\u0275inj=d.cJS({imports:[H.BQ,H.BQ]}),ge})()},6593:(pn,st,V)=>{V.d(st,{Dx:()=>Kr,H7:()=>Et,b2:()=>br,q6:()=>Un,se:()=>et});var d=V(5879),H=V(6814);class ae extends H.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends ae{static makeCurrent(){(0,H.HT)(new Te)}onAndCancel(k,L,F){return k.addEventListener(L,F),()=>{k.removeEventListener(L,F)}}dispatchEvent(k,L){k.dispatchEvent(L)}remove(k){k.parentNode&&k.parentNode.removeChild(k)}createElement(k,L){return(L=L||this.getDefaultDocument()).createElement(k)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(k){return k.nodeType===Node.ELEMENT_NODE}isShadowRoot(k){return k instanceof DocumentFragment}getGlobalEventTarget(k,L){return"window"===L?window:"document"===L?k:"body"===L?k.body:null}getBaseHref(k){const L=function ke(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==L?null:function Ae(G){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",G);const k=Ve.pathname;return"/"===k.charAt(0)?k:`/${k}`}(L)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(k){return(0,H.Mx)(document.cookie,k)}}let Ve,b=null,he=(()=>{var G;class k{build(){return new XMLHttpRequest}}return(G=k).\u0275fac=function(F){return new(F||G)},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();const ve=new d.OlP("EventManagerPlugins");let Ke=(()=>{var G;class k{constructor(F,de){this._zone=de,this._eventNameToPlugin=new Map,F.forEach(We=>{We.manager=this}),this._plugins=F.slice().reverse()}addEventListener(F,de,We){return this._findPluginFor(de).addEventListener(F,de,We)}getZone(){return this._zone}_findPluginFor(F){let de=this._eventNameToPlugin.get(F);if(de)return de;if(de=this._plugins.find(vt=>vt.supports(F)),!de)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(F,de),de}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(ve),d.LFG(d.R0b))},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();class lt{constructor(k){this._doc=k}}const mt="ng-app-id";let jt=(()=>{var G;class k{constructor(F,de,We,vt={}){this.doc=F,this.appId=de,this.nonce=We,this.platformId=vt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,H.PM)(vt),this.resetHostNodes()}addStyles(F){for(const de of F)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(F){for(const de of F)this.changeUsageCount(de,-1)<=0&&this.onStyleRemoved(de)}ngOnDestroy(){const F=this.styleNodesInDOM;F&&(F.forEach(de=>de.remove()),F.clear());for(const de of this.getAllStyles())this.onStyleRemoved(de);this.resetHostNodes()}addHost(F){this.hostNodes.add(F);for(const de of this.getAllStyles())this.addStyleToHost(F,de)}removeHost(F){this.hostNodes.delete(F)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(F){for(const de of this.hostNodes)this.addStyleToHost(de,F)}onStyleRemoved(F){const de=this.styleRef;de.get(F)?.elements?.forEach(We=>We.remove()),de.delete(F)}collectServerRenderedStyles(){const F=this.doc.head?.querySelectorAll(`style[${mt}="${this.appId}"]`);if(F?.length){const de=new Map;return F.forEach(We=>{null!=We.textContent&&de.set(We.textContent,We)}),de}return null}changeUsageCount(F,de){const We=this.styleRef;if(We.has(F)){const vt=We.get(F);return vt.usage+=de,vt.usage}return We.set(F,{usage:de,elements:[]}),de}getStyleElement(F,de){const We=this.styleNodesInDOM,vt=We?.get(de);if(vt?.parentNode===F)return We.delete(de),vt.removeAttribute(mt),vt;{const on=this.doc.createElement("style");return this.nonce&&on.setAttribute("nonce",this.nonce),on.textContent=de,this.platformIsServer&&on.setAttribute(mt,this.appId),on}}addStyleToHost(F,de){const We=this.getStyleElement(F,de);F.appendChild(We);const vt=this.styleRef,on=vt.get(de)?.elements;on?on.push(We):vt.set(de,{elements:[We],usage:1})}resetHostNodes(){const F=this.hostNodes;F.clear(),F.add(this.doc.head)}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(H.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},St=/%COMP%/g,Qe=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(G,k){return k.map(L=>L.replace(St,G))}let et=(()=>{var G;class k{constructor(F,de,We,vt,on,qt,Sn,In=null){this.eventManager=F,this.sharedStylesHost=de,this.appId=We,this.removeStylesOnCompDestroy=vt,this.doc=on,this.platformId=qt,this.ngZone=Sn,this.nonce=In,this.rendererByCompId=new Map,this.platformIsServer=(0,H.PM)(qt),this.defaultRenderer=new Ft(F,on,Sn,this.platformIsServer)}createRenderer(F,de){if(!F||!de)return this.defaultRenderer;this.platformIsServer&&de.encapsulation===d.ifc.ShadowDom&&(de={...de,encapsulation:d.ifc.Emulated});const We=this.getOrCreateRenderer(F,de);return We instanceof gr?We.applyToHost(F):We instanceof ei&&We.applyStyles(),We}getOrCreateRenderer(F,de){const We=this.rendererByCompId;let vt=We.get(de.id);if(!vt){const on=this.doc,qt=this.ngZone,Sn=this.eventManager,In=this.sharedStylesHost,rr=this.removeStylesOnCompDestroy,Ir=this.platformIsServer;switch(de.encapsulation){case d.ifc.Emulated:vt=new gr(Sn,In,de,this.appId,rr,on,qt,Ir);break;case d.ifc.ShadowDom:return new or(Sn,In,F,de,on,qt,this.nonce,Ir);default:vt=new ei(Sn,In,de,rr,on,qt,Ir)}We.set(de.id,vt)}return vt}ngOnDestroy(){this.rendererByCompId.clear()}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(Ke),d.LFG(jt),d.LFG(d.AFp),d.LFG(Qe),d.LFG(H.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();class Ft{constructor(k,L,F,de){this.eventManager=k,this.doc=L,this.ngZone=F,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(k,L){return L?this.doc.createElementNS(kt[L]||L,k):this.doc.createElement(k)}createComment(k){return this.doc.createComment(k)}createText(k){return this.doc.createTextNode(k)}appendChild(k,L){(cn(k)?k.content:k).appendChild(L)}insertBefore(k,L,F){k&&(cn(k)?k.content:k).insertBefore(L,F)}removeChild(k,L){k&&k.removeChild(L)}selectRootElement(k,L){let F="string"==typeof k?this.doc.querySelector(k):k;if(!F)throw new d.vHH(-5104,!1);return L||(F.textContent=""),F}parentNode(k){return k.parentNode}nextSibling(k){return k.nextSibling}setAttribute(k,L,F,de){if(de){L=de+":"+L;const We=kt[de];We?k.setAttributeNS(We,L,F):k.setAttribute(L,F)}else k.setAttribute(L,F)}removeAttribute(k,L,F){if(F){const de=kt[F];de?k.removeAttributeNS(de,L):k.removeAttribute(`${F}:${L}`)}else k.removeAttribute(L)}addClass(k,L){k.classList.add(L)}removeClass(k,L){k.classList.remove(L)}setStyle(k,L,F,de){de&(d.JOm.DashCase|d.JOm.Important)?k.style.setProperty(L,F,de&d.JOm.Important?"important":""):k.style[L]=F}removeStyle(k,L,F){F&d.JOm.DashCase?k.style.removeProperty(L):k.style[L]=""}setProperty(k,L,F){k[L]=F}setValue(k,L){k.nodeValue=L}listen(k,L,F){if("string"==typeof k&&!(k=(0,H.q)().getGlobalEventTarget(this.doc,k)))throw new Error(`Unsupported event target ${k} for event ${L}`);return this.eventManager.addEventListener(k,L,this.decoratePreventDefault(F))}decoratePreventDefault(k){return L=>{if("__ngUnwrap__"===L)return k;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>k(L)):k(L))&&L.preventDefault()}}}function cn(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class or extends Ft{constructor(k,L,F,de,We,vt,on,qt){super(k,We,vt,qt),this.sharedStylesHost=L,this.hostEl=F,this.shadowRoot=F.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Sn=Pt(de.id,de.styles);for(const In of Sn){const rr=document.createElement("style");on&&rr.setAttribute("nonce",on),rr.textContent=In,this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot(k){return k===this.hostEl?this.shadowRoot:k}appendChild(k,L){return super.appendChild(this.nodeOrShadowRoot(k),L)}insertBefore(k,L,F){return super.insertBefore(this.nodeOrShadowRoot(k),L,F)}removeChild(k,L){return super.removeChild(this.nodeOrShadowRoot(k),L)}parentNode(k){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(k)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ei extends Ft{constructor(k,L,F,de,We,vt,on,qt){super(k,We,vt,on),this.sharedStylesHost=L,this.removeStylesOnCompDestroy=de,this.styles=qt?Pt(qt,F.styles):F.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends ei{constructor(k,L,F,de,We,vt,on,qt){const Sn=de+"-"+F.id;super(k,L,F,We,vt,on,qt,Sn),this.contentAttr=function je(G){return"_ngcontent-%COMP%".replace(St,G)}(Sn),this.hostAttr=function Je(G){return"_nghost-%COMP%".replace(St,G)}(Sn)}applyToHost(k){this.applyStyles(),this.setAttribute(k,this.hostAttr,"")}createElement(k,L){const F=super.createElement(k,L);return super.setAttribute(F,this.contentAttr,""),F}}let Ur=(()=>{var G;class k extends lt{constructor(F){super(F)}supports(F){return!0}addEventListener(F,de,We){return F.addEventListener(de,We,!1),()=>this.removeEventListener(F,de,We)}removeEventListener(F,de,We){return F.removeEventListener(de,We)}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(H.K0))},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();const zn=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let ct=(()=>{var G;class k extends lt{constructor(F){super(F)}supports(F){return null!=k.parseEventName(F)}addEventListener(F,de,We){const vt=k.parseEventName(de),on=k.eventCallback(vt.fullKey,We,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,H.q)().onAndCancel(F,vt.domEventName,on))}static parseEventName(F){const de=F.toLowerCase().split("."),We=de.shift();if(0===de.length||"keydown"!==We&&"keyup"!==We)return null;const vt=k._normalizeKey(de.pop());let on="",qt=de.indexOf("code");if(qt>-1&&(de.splice(qt,1),on="code."),zn.forEach(In=>{const rr=de.indexOf(In);rr>-1&&(de.splice(rr,1),on+=In+".")}),on+=vt,0!=de.length||0===vt.length)return null;const Sn={};return Sn.domEventName=We,Sn.fullKey=on,Sn}static matchEventFullKeyCode(F,de){let We=_t[F.key]||F.key,vt="";return de.indexOf("code.")>-1&&(We=F.code,vt="code."),!(null==We||!We)&&(We=We.toLowerCase()," "===We?We="space":"."===We&&(We="dot"),zn.forEach(on=>{on!==We&&(0,Ct[on])(F)&&(vt+=on+".")}),vt+=We,vt===de)}static eventCallback(F,de,We){return vt=>{k.matchEventFullKeyCode(vt,F)&&We.runGuarded(()=>de(vt))}}static _normalizeKey(F){return"esc"===F?"escape":F}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(H.K0))},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac}),k})();const Un=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:H.bD},{provide:d.g9A,useValue:function At(){Te.makeCurrent()},multi:!0},{provide:H.K0,useFactory:function Mn(){return(0,d.RDi)(document),document},deps:[]}]),Zn=new d.OlP(""),Fn=[{provide:d.rWj,useClass:class Fe{addToWindow(k){d.dqk.getAngularTestability=(F,de=!0)=>{const We=k.findTestabilityInTree(F,de);if(null==We)throw new d.vHH(5103,!1);return We},d.dqk.getAllAngularTestabilities=()=>k.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>k.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(F=>{const de=d.dqk.getAllAngularTestabilities();let We=de.length,vt=!1;const on=function(qt){vt=vt||qt,We--,0==We&&F(vt)};de.forEach(qt=>{qt.whenStable(on)})})}findTestabilityInTree(k,L,F){return null==L?null:k.getTestability(L)??(F?(0,H.q)().isShadowRoot(L)?this.findTestabilityInTree(k,L.host,!0):this.findTestabilityInTree(k,L.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],kr=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Xn(){return new d.qLn},deps:[]},{provide:ve,useClass:Ur,multi:!0,deps:[H.K0,d.R0b,d.Lbi]},{provide:ve,useClass:ct,multi:!0,deps:[H.K0]},et,jt,Ke,{provide:d.FYo,useExisting:et},{provide:H.JF,useClass:he,deps:[]},[]];let br=(()=>{var G;class k{constructor(F){}static withServerTransition(F){return{ngModule:k,providers:[{provide:d.AFp,useValue:F.appId}]}}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(Zn,12))},G.\u0275mod=d.oAB({type:G}),G.\u0275inj=d.cJS({providers:[...kr,...Fn],imports:[H.ez,d.hGG]}),k})(),Kr=(()=>{var G;class k{constructor(F){this._doc=F}getTitle(){return this._doc.title}setTitle(F){this._doc.title=F||""}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(H.K0))},G.\u0275prov=d.Yz7({token:G,factory:function(F){let de=null;return de=F?new F:function hi(){return new Kr((0,d.LFG)(H.K0))}(),de},providedIn:"root"}),k})();typeof window<"u"&&window;let Et=(()=>{var G;class k{}return(G=k).\u0275fac=function(F){return new(F||G)},G.\u0275prov=d.Yz7({token:G,factory:function(F){let de=null;return de=F?new(F||G):d.LFG(Tt),de},providedIn:"root"}),k})(),Tt=(()=>{var G;class k extends Et{constructor(F){super(),this._doc=F}sanitize(F,de){if(null==de)return null;switch(F){case d.q3G.NONE:return de;case d.q3G.HTML:return(0,d.qzn)(de,"HTML")?(0,d.z3N)(de):(0,d.EiD)(this._doc,String(de)).toString();case d.q3G.STYLE:return(0,d.qzn)(de,"Style")?(0,d.z3N)(de):de;case d.q3G.SCRIPT:if((0,d.qzn)(de,"Script"))return(0,d.z3N)(de);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(de,"URL")?(0,d.z3N)(de):(0,d.mCW)(String(de));case d.q3G.RESOURCE_URL:if((0,d.qzn)(de,"ResourceURL"))return(0,d.z3N)(de);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(F){return(0,d.JVY)(F)}bypassSecurityTrustStyle(F){return(0,d.L6k)(F)}bypassSecurityTrustScript(F){return(0,d.eBb)(F)}bypassSecurityTrustUrl(F){return(0,d.LAX)(F)}bypassSecurityTrustResourceUrl(F){return(0,d.pB0)(F)}}return(G=k).\u0275fac=function(F){return new(F||G)(d.LFG(H.K0))},G.\u0275prov=d.Yz7({token:G,factory:function(F){let de=null;return de=F?new F:function Ye(G){return new Tt(G.get(H.K0))}(d.LFG(d.zs3)),de},providedIn:"root"}),k})()},9790:(pn,st,V)=>{V.d(st,{gz:()=>ts,F0:()=>ls,rH:()=>Il,Bz:()=>ki,lC:()=>zi});var d=V(5879),H=V(5592),ae=V(4674),b=V(2459),ke=V(2096),Ve=V(5619),Ae=V(2572),Fe=V(6973),he=V(5211),ve=V(4911),Ke=V(8407),lt=V(8504),mt=V(6232),jt=V(7394),kt=V(9360),St=V(8251);function Rt(){return(0,kt.e)((w,S)=>{let U=null;w._refCount++;const R=(0,St.x)(S,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(U=null);const Q=w._connection,me=U;U=null,Q&&(!me||Q===me)&&Q.unsubscribe(),S.unsubscribe()});w.subscribe(R),R.closed||(U=w.connect())})}class Zt extends H.y{constructor(S,U){super(),this.source=S,this.subjectFactory=U,this._subject=null,this._refCount=0,this._connection=null,(0,kt.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new jt.w0;const U=this.getSubject();S.add(this.source.subscribe((0,St.x)(U,void 0,()=>{this._teardown(),U.complete()},R=>{this._teardown(),U.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=jt.w0.EMPTY)}return S}refCount(){return Rt()(this)}}var Ut=V(8645),Re=V(6814),Qe=V(7398),je=V(4664),Je=V(8180),Pt=V(7921),et=V(2181),Ft=V(1631),yn=V(1374),hn=V(6328),cn=V(9397),or=V(6306),ei=V(6699),gr=V(3572);function Ur(w){return w<=0?()=>mt.E:(0,kt.e)((S,U)=>{let R=[];S.subscribe((0,St.x)(U,Q=>{R.push(Q),w<R.length&&R.shift()},()=>{for(const Q of R)U.next(Q);U.complete()},void 0,()=>{R=null}))})}var zn=V(3026),_t=V(2737),yt=V(4716),Mt=V(9773),ut=V(7537),Ht=V(6593);const At="primary",Xn=Symbol("RouteTitle");class Mn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const U=this.params[S];return Array.isArray(U)?U[0]:U}return null}getAll(S){if(this.has(S)){const U=this.params[S];return Array.isArray(U)?U:[U]}return[]}get keys(){return Object.keys(this.params)}}function jn(w){return new Mn(w)}function Un(w,S,U){const R=U.path.split("/");if(R.length>w.length||"full"===U.pathMatch&&(S.hasChildren()||R.length<w.length))return null;const Q={};for(let me=0;me<R.length;me++){const Me=R[me],wt=w[me];if(Me.startsWith(":"))Q[Me.substring(1)]=wt;else if(Me!==wt.path)return null}return{consumed:w.slice(0,R.length),posParams:Q}}function Fn(w,S){const U=w?Object.keys(w):void 0,R=S?Object.keys(S):void 0;if(!U||!R||U.length!=R.length)return!1;let Q;for(let me=0;me<U.length;me++)if(Q=U[me],!kr(w[Q],S[Q]))return!1;return!0}function kr(w,S){if(Array.isArray(w)&&Array.isArray(S)){if(w.length!==S.length)return!1;const U=[...w].sort(),R=[...S].sort();return U.every((Q,me)=>R[me]===Q)}return w===S}function br(w){return w.length>0?w[w.length-1]:null}function zr(w){return function Te(w){return!!w&&(w instanceof H.y||(0,ae.m)(w.lift)&&(0,ae.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,b.D)(Promise.resolve(w)):(0,ke.of)(w)}const ui={exact:function fi(w,S,U){if(!vr(w.segments,S.segments)||!Yn(w.segments,S.segments,U)||w.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!w.children[R]||!fi(w.children[R],S.children[R],U))return!1;return!0},subset:kn},gi={exact:function Kr(w,S){return Fn(w,S)},subset:function Ar(w,S){return Object.keys(S).length<=Object.keys(w).length&&Object.keys(S).every(U=>kr(w[U],S[U]))},ignored:()=>!0};function hi(w,S,U){return ui[U.paths](w.root,S.root,U.matrixParams)&&gi[U.queryParams](w.queryParams,S.queryParams)&&!("exact"===U.fragment&&w.fragment!==S.fragment)}function kn(w,S,U){return $n(w,S,S.segments,U)}function $n(w,S,U,R){if(w.segments.length>U.length){const Q=w.segments.slice(0,U.length);return!(!vr(Q,U)||S.hasChildren()||!Yn(Q,U,R))}if(w.segments.length===U.length){if(!vr(w.segments,U)||!Yn(w.segments,U,R))return!1;for(const Q in S.children)if(!w.children[Q]||!kn(w.children[Q],S.children[Q],R))return!1;return!0}{const Q=U.slice(0,w.segments.length),me=U.slice(w.segments.length);return!!(vr(w.segments,Q)&&Yn(w.segments,Q,R)&&w.children[At])&&$n(w.children[At],S,me,R)}}function Yn(w,S,U){return S.every((R,Q)=>gi[U](w[Q].parameters,R.parameters))}class fr{constructor(S=new _r([],{}),U={},R=null){this.root=S,this.queryParams=U,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return Mr.serialize(this)}}class _r{constructor(S,U){this.segments=S,this.children=U,this.parent=null,Object.values(U).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mi(this)}}class Zr{constructor(S,U){this.path=S,this.parameters=U}get parameterMap(){return this._parameterMap||(this._parameterMap=jn(this.parameters)),this._parameterMap}toString(){return gn(this)}}function vr(w,S){return w.length===S.length&&w.every((U,R)=>U.path===S[R].path)}let ar=(()=>{var w;class S{}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new Vi},providedIn:"root"}),S})();class Vi{parse(S){const U=new vt(S);return new fr(U.parseRootSegment(),U.parseQueryParams(),U.parseFragment())}serialize(S){const U=`/${wr(S.root,!0)}`,R=function pr(w){const S=Object.keys(w).map(U=>{const R=w[U];return Array.isArray(R)?R.map(Q=>`${Ye(U)}=${Ye(Q)}`).join("&"):`${Ye(U)}=${Ye(R)}`}).filter(U=>!!U);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${U}${R}${"string"==typeof S.fragment?`#${function Tt(w){return encodeURI(w)}(S.fragment)}`:""}`}}const Mr=new Vi;function Mi(w){return w.segments.map(S=>gn(S)).join("/")}function wr(w,S){if(!w.hasChildren())return Mi(w);if(S){const U=w.children[At]?wr(w.children[At],!1):"",R=[];return Object.entries(w.children).forEach(([Q,me])=>{Q!==At&&R.push(`${Q}:${wr(me,!1)}`)}),R.length>0?`${U}(${R.join("//")})`:U}{const U=function os(w,S){let U=[];return Object.entries(w.children).forEach(([R,Q])=>{R===At&&(U=U.concat(S(Q,R)))}),Object.entries(w.children).forEach(([R,Q])=>{R!==At&&(U=U.concat(S(Q,R)))}),U}(w,(R,Q)=>Q===At?[wr(w.children[At],!1)]:[`${Q}:${wr(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[At]?`${Mi(w)}/${U[0]}`:`${Mi(w)}/(${U.join("//")})`}}function Et(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ye(w){return Et(w).replace(/%3B/gi,";")}function Xe(w){return Et(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ht(w){return decodeURIComponent(w)}function Bt(w){return ht(w.replace(/\+/g,"%20"))}function gn(w){return`${Xe(w.path)}${function Hn(w){return Object.keys(w).map(S=>`;${Xe(S)}=${Xe(w[S])}`).join("")}(w.parameters)}`}const _i=/^[^\/()?;#]+/;function be(w){const S=w.match(_i);return S?S[0]:""}const G=/^[^\/()?;=#]+/,L=/^[^=?&#]+/,de=/^[^&#]+/;class vt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _r([],{}):new _r([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let U={};this.peekStartsWith("/(")&&(this.capture("/"),U=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(U).length>0)&&(R[At]=new _r(S,U)),R}parseSegment(){const S=be(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(S),new Zr(ht(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const U=function k(w){const S=w.match(G);return S?S[0]:""}(this.remaining);if(!U)return;this.capture(U);let R="";if(this.consumeOptional("=")){const Q=be(this.remaining);Q&&(R=Q,this.capture(R))}S[ht(U)]=ht(R)}parseQueryParam(S){const U=function F(w){const S=w.match(L);return S?S[0]:""}(this.remaining);if(!U)return;this.capture(U);let R="";if(this.consumeOptional("=")){const Me=function We(w){const S=w.match(de);return S?S[0]:""}(this.remaining);Me&&(R=Me,this.capture(R))}const Q=Bt(U),me=Bt(R);if(S.hasOwnProperty(Q)){let Me=S[Q];Array.isArray(Me)||(Me=[Me],S[Q]=Me),Me.push(me)}else S[Q]=me}parseParens(S){const U={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=be(this.remaining),Q=this.remaining[R.length];if("/"!==Q&&")"!==Q&&";"!==Q)throw new d.vHH(4010,!1);let me;R.indexOf(":")>-1?(me=R.slice(0,R.indexOf(":")),this.capture(me),this.capture(":")):S&&(me=At);const Me=this.parseChildren();U[me]=1===Object.keys(Me).length?Me[At]:new _r([],Me),this.consumeOptional("//")}return U}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new d.vHH(4011,!1)}}function on(w){return w.segments.length>0?new _r([],{[At]:w}):w}function qt(w){const S={};for(const R of Object.keys(w.children)){const me=qt(w.children[R]);if(R===At&&0===me.segments.length&&me.hasChildren())for(const[Me,wt]of Object.entries(me.children))S[Me]=wt;else(me.segments.length>0||me.hasChildren())&&(S[R]=me)}return function Sn(w){if(1===w.numberOfChildren&&w.children[At]){const S=w.children[At];return new _r(w.segments.concat(S.segments),S.children)}return w}(new _r(w.segments,S))}function In(w){return w instanceof fr}function Ir(w){let S;const Q=on(function U(me){const Me={};for(const bn of me.children){const Gt=U(bn);Me[bn.outlet]=Gt}const wt=new _r(me.url,Me);return me===w&&(S=wt),wt}(w.root));return S??Q}function Fi(w,S,U,R){let Q=w;for(;Q.parent;)Q=Q.parent;if(0===S.length)return gt(Q,Q,Q,U,R);const me=function an(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new _n(!0,0,w);let S=0,U=!1;const R=w.reduce((Q,me,Me)=>{if("object"==typeof me&&null!=me){if(me.outlets){const wt={};return Object.entries(me.outlets).forEach(([bn,Gt])=>{wt[bn]="string"==typeof Gt?Gt.split("/"):Gt}),[...Q,{outlets:wt}]}if(me.segmentPath)return[...Q,me.segmentPath]}return"string"!=typeof me?[...Q,me]:0===Me?(me.split("/").forEach((wt,bn)=>{0==bn&&"."===wt||(0==bn&&""===wt?U=!0:".."===wt?S++:""!=wt&&Q.push(wt))}),Q):[...Q,me]},[]);return new _n(U,S,R)}(S);if(me.toRoot())return gt(Q,Q,new _r([],{}),U,R);const Me=function dr(w,S,U){if(w.isAbsolute)return new Nn(S,!0,0);if(!U)return new Nn(S,!1,NaN);if(null===U.parent)return new Nn(U,!0,0);const R=pi(w.commands[0])?0:1;return function Yr(w,S,U){let R=w,Q=S,me=U;for(;me>Q;){if(me-=Q,R=R.parent,!R)throw new d.vHH(4005,!1);Q=R.segments.length}return new Nn(R,!1,Q-me)}(U,U.segments.length-1+R,w.numberOfDoubleDots)}(me,Q,w),wt=Me.processChildren?ti(Me.segmentGroup,Me.index,me.commands):nn(Me.segmentGroup,Me.index,me.commands);return gt(Q,Me.segmentGroup,wt,U,R)}function pi(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Dt(w){return"object"==typeof w&&null!=w&&w.outlets}function gt(w,S,U,R,Q){let Me,me={};R&&Object.entries(R).forEach(([bn,Gt])=>{me[bn]=Array.isArray(Gt)?Gt.map(hr=>`${hr}`):`${Gt}`}),Me=w===S?U:Kt(w,S,U);const wt=on(qt(Me));return new fr(wt,me,Q)}function Kt(w,S,U){const R={};return Object.entries(w.children).forEach(([Q,me])=>{R[Q]=me===S?U:Kt(me,S,U)}),new _r(w.segments,R)}class _n{constructor(S,U,R){if(this.isAbsolute=S,this.numberOfDoubleDots=U,this.commands=R,S&&R.length>0&&pi(R[0]))throw new d.vHH(4003,!1);const Q=R.find(Dt);if(Q&&Q!==br(R))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nn{constructor(S,U,R){this.segmentGroup=S,this.processChildren=U,this.index=R}}function nn(w,S,U){if(w||(w=new _r([],{})),0===w.segments.length&&w.hasChildren())return ti(w,S,U);const R=function Qr(w,S,U){let R=0,Q=S;const me={match:!1,pathIndex:0,commandIndex:0};for(;Q<w.segments.length;){if(R>=U.length)return me;const Me=w.segments[Q],wt=U[R];if(Dt(wt))break;const bn=`${wt}`,Gt=R<U.length-1?U[R+1]:null;if(Q>0&&void 0===bn)break;if(bn&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!mo(bn,Gt,Me))return me;R+=2}else{if(!mo(bn,{},Me))return me;R++}Q++}return{match:!0,pathIndex:Q,commandIndex:R}}(w,S,U),Q=U.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const me=new _r(w.segments.slice(0,R.pathIndex),{});return me.children[At]=new _r(w.segments.slice(R.pathIndex),w.children),ti(me,0,Q)}return R.match&&0===Q.length?new _r(w.segments,{}):R.match&&!w.hasChildren()?Tr(w,S,U):R.match?ti(w,0,Q):Tr(w,S,U)}function ti(w,S,U){if(0===U.length)return new _r(w.segments,{});{const R=function vi(w){return Dt(w[0])?w[0].outlets:{[At]:w}}(U),Q={};if(Object.keys(R).some(me=>me!==At)&&w.children[At]&&1===w.numberOfChildren&&0===w.children[At].segments.length){const me=ti(w.children[At],S,U);return new _r(w.segments,me.children)}return Object.entries(R).forEach(([me,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(Q[me]=nn(w.children[me],S,Me))}),Object.entries(w.children).forEach(([me,Me])=>{void 0===R[me]&&(Q[me]=Me)}),new _r(w.segments,Q)}}function Tr(w,S,U){const R=w.segments.slice(0,S);let Q=0;for(;Q<U.length;){const me=U[Q];if(Dt(me)){const bn=cs(me.outlets);return new _r(R,bn)}if(0===Q&&pi(U[0])){R.push(new Zr(w.segments[S].path,vs(U[0]))),Q++;continue}const Me=Dt(me)?me.outlets[At]:`${me}`,wt=Q<U.length-1?U[Q+1]:null;Me&&wt&&pi(wt)?(R.push(new Zr(Me,vs(wt))),Q+=2):(R.push(new Zr(Me,{})),Q++)}return new _r(R,{})}function cs(w){const S={};return Object.entries(w).forEach(([U,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[U]=Tr(new _r([],{}),0,R))}),S}function vs(w){const S={};return Object.entries(w).forEach(([U,R])=>S[U]=`${R}`),S}function mo(w,S,U){return w==U.path&&Fn(S,U.parameters)}const un="imperative";class Xr{constructor(S,U){this.id=S,this.url=U}}class Ui extends Xr{constructor(S,U,R="imperative",Q=null){super(S,U),this.type=0,this.navigationTrigger=R,this.restoredState=Q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class us extends Xr{constructor(S,U,R){super(S,U),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nt extends Xr{constructor(S,U,R,Q){super(S,U),this.reason=R,this.code=Q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oe extends Xr{constructor(S,U,R,Q){super(S,U),this.reason=R,this.code=Q,this.type=16}}class Pe extends Xr{constructor(S,U,R,Q){super(S,U),this.error=R,this.target=Q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $ extends Xr{constructor(S,U,R,Q){super(S,U),this.urlAfterRedirects=R,this.state=Q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce extends Xr{constructor(S,U,R,Q){super(S,U),this.urlAfterRedirects=R,this.state=Q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends Xr{constructor(S,U,R,Q,me){super(S,U),this.urlAfterRedirects=R,this.state=Q,this.shouldActivate=me,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qe extends Xr{constructor(S,U,R,Q){super(S,U),this.urlAfterRedirects=R,this.state=Q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bt extends Xr{constructor(S,U,R,Q){super(S,U),this.urlAfterRedirects=R,this.state=Q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ge{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $e{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wt{constructor(S,U,R){this.routerEvent=S,this.position=U,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vn{}class Ln{constructor(S){this.url=S}}class xi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ri,this.attachRef=null}}let ri=(()=>{var w;class S{constructor(){this.contexts=new Map}onChildOutletCreated(R,Q){const me=this.getOrCreateContext(R);me.outlet=Q,this.contexts.set(R,me)}onChildOutletDestroyed(R){const Q=this.getContext(R);Q&&(Q.outlet=null,Q.attachRef=null)}onOutletDeactivated(){const R=this.contexts;return this.contexts=new Map,R}onOutletReAttached(R){this.contexts=R}getOrCreateContext(R){let Q=this.getContext(R);return Q||(Q=new xi,this.contexts.set(R,Q)),Q}getContext(R){return this.contexts.get(R)||null}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();class Zs{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const U=this.pathFromRoot(S);return U.length>1?U[U.length-2]:null}children(S){const U=$s(S,this._root);return U?U.children.map(R=>R.value):[]}firstChild(S){const U=$s(S,this._root);return U&&U.children.length>0?U.children[0].value:null}siblings(S){const U=Qo(S,this._root);return U.length<2?[]:U[U.length-2].children.map(Q=>Q.value).filter(Q=>Q!==S)}pathFromRoot(S){return Qo(S,this._root).map(U=>U.value)}}function $s(w,S){if(w===S.value)return S;for(const U of S.children){const R=$s(w,U);if(R)return R}return null}function Qo(w,S){if(w===S.value)return[S];for(const U of S.children){const R=Qo(w,U);if(R.length)return R.unshift(S),R}return[]}class Cr{constructor(S,U){this.value=S,this.children=U}toString(){return`TreeNode(${this.value})`}}function ii(w){const S={};return w&&w.children.forEach(U=>S[U.value.outlet]=U),S}class Ri extends Zs{constructor(S,U){super(S),this.snapshot=U,yi(this,S)}toString(){return this.snapshot.toString()}}function ys(w,S){const U=function ai(w,S){const Me=new Fr([],{},{},"",{},At,S,null,{});return new Ma("",new Cr(Me,[]))}(0,S),R=new Ve.X([new Zr("",{})]),Q=new Ve.X({}),me=new Ve.X({}),Me=new Ve.X({}),wt=new Ve.X(""),bn=new ts(R,Q,Me,wt,me,At,S,U.root);return bn.snapshot=U.root,new Ri(new Cr(bn,[]),U)}class ts{constructor(S,U,R,Q,me,Me,wt,bn){this.urlSubject=S,this.paramsSubject=U,this.queryParamsSubject=R,this.fragmentSubject=Q,this.dataSubject=me,this.outlet=Me,this.component=wt,this._futureSnapshot=bn,this.title=this.dataSubject?.pipe((0,Qe.U)(Gt=>Gt[Xn]))??(0,ke.of)(void 0),this.url=S,this.params=U,this.queryParams=R,this.fragment=Q,this.data=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(S=>jn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(S=>jn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ys(w,S="emptyOnly"){const U=w.pathFromRoot;let R=0;if("always"!==S)for(R=U.length-1;R>=1;){const Q=U[R],me=U[R-1];if(Q.routeConfig&&""===Q.routeConfig.path)R--;else{if(me.component)break;R--}}return function jo(w){return w.reduce((S,U)=>({params:{...S.params,...U.params},data:{...S.data,...U.data},resolve:{...U.data,...S.resolve,...U.routeConfig?.data,...U._resolvedData}}),{params:{},data:{},resolve:{}})}(U.slice(R))}class Fr{get title(){return this.data?.[Xn]}constructor(S,U,R,Q,me,Me,wt,bn,Gt){this.url=S,this.params=U,this.queryParams=R,this.fragment=Q,this.data=me,this.outlet=Me,this.component=wt,this.routeConfig=bn,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ma extends Zs{constructor(S,U){super(U),this.url=S,yi(this,U)}toString(){return Cn(this._root)}}function yi(w,S){S.value._routerState=w,S.children.forEach(U=>yi(w,U))}function Cn(w){const S=w.children.length>0?` { ${w.children.map(Cn).join(", ")} } `:"";return`${w.value}${S}`}function yr(w){if(w.snapshot){const S=w.snapshot,U=w._futureSnapshot;w.snapshot=U,Fn(S.queryParams,U.queryParams)||w.queryParamsSubject.next(U.queryParams),S.fragment!==U.fragment&&w.fragmentSubject.next(U.fragment),Fn(S.params,U.params)||w.paramsSubject.next(U.params),function Zn(w,S){if(w.length!==S.length)return!1;for(let U=0;U<w.length;++U)if(!Fn(w[U],S[U]))return!1;return!0}(S.url,U.url)||w.urlSubject.next(U.url),Fn(S.data,U.data)||w.dataSubject.next(U.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function bi(w,S){const U=Fn(w.params,S.params)&&function Er(w,S){return vr(w,S)&&w.every((U,R)=>Fn(U.parameters,S[R].parameters))}(w.url,S.url);return U&&!(!w.parent!=!S.parent)&&(!w.parent||bi(w.parent,S.parent))}let zi=(()=>{var w;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ri),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(ns,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(R){if(R.name){const{firstChange:Q,previousValue:me}=R.name;if(Q)return;this.isTrackedInParentContexts(me)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(me)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(R){return this.parentContexts.getContext(R)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const R=this.parentContexts.getContext(this.name);R?.route&&(R.attachRef?this.attach(R.attachRef,R.route):this.activateWith(R.route,R.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const R=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(R.instance),R}attach(R,Q){this.activated=R,this._activatedRoute=Q,this.location.insert(R.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(R.instance)}deactivate(){if(this.activated){const R=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(R)}}activateWith(R,Q){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=R;const me=this.location,wt=R.snapshot.component,bn=this.parentContexts.getOrCreateContext(this.name).children,Gt=new Gs(R,bn,me.injector);this.activated=me.createComponent(wt,{index:me.length,injector:Gt,environmentInjector:Q??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),S})();class Gs{constructor(S,U,R){this.route=S,this.childContexts=U,this.parent=R}get(S,U){return S===ts?this.route:S===ri?this.childContexts:this.parent.get(S,U)}}const ns=new d.OlP("");let Ws=(()=>{var w;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(R){this.unsubscribeFromRouteData(R),this.subscribeToRouteData(R)}unsubscribeFromRouteData(R){this.outletDataSubscriptions.get(R)?.unsubscribe(),this.outletDataSubscriptions.delete(R)}subscribeToRouteData(R){const{activatedRoute:Q}=R,me=(0,Ae.a)([Q.queryParams,Q.params,Q.data]).pipe((0,je.w)(([Me,wt,bn],Gt)=>(bn={...Me,...wt,...bn},0===Gt?(0,ke.of)(bn):Promise.resolve(bn)))).subscribe(Me=>{if(!R.isActivated||!R.activatedComponentRef||R.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(R);const wt=(0,d.qFp)(Q.component);if(wt)for(const{templateName:bn}of wt.inputs)R.activatedComponentRef.setInput(bn,Me[bn]);else this.unsubscribeFromRouteData(R)});this.outletDataSubscriptions.set(R,me)}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),S})();function Ki(w,S,U){if(U&&w.shouldReuseRoute(S.value,U.value.snapshot)){const R=U.value;R._futureSnapshot=S.value;const Q=function To(w,S,U){return S.children.map(R=>{for(const Q of U.children)if(w.shouldReuseRoute(R.value,Q.value.snapshot))return Ki(w,R,Q);return Ki(w,R)})}(w,S,U);return new Cr(R,Q)}{if(w.shouldAttach(S.value)){const me=w.retrieve(S.value);if(null!==me){const Me=me.route;return Me.value._futureSnapshot=S.value,Me.children=S.children.map(wt=>Ki(w,wt)),Me}}const R=function lr(w){return new ts(new Ve.X(w.url),new Ve.X(w.params),new Ve.X(w.queryParams),new Ve.X(w.fragment),new Ve.X(w.data),w.outlet,w.component,w)}(S.value),Q=S.children.map(me=>Ki(w,me));return new Cr(R,Q)}}const Do="ngNavigationCancelingError";function go(w,S){const{redirectTo:U,navigationBehaviorOptions:R}=In(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,Q=Vs(!1,0,S);return Q.url=U,Q.navigationBehaviorOptions=R,Q}function Vs(w,S,U){const R=new Error("NavigationCancelingError: "+(w||""));return R[Do]=!0,R.cancellationCode=S,U&&(R.url=U),R}function oo(w){return w&&w[Do]}let sa=(()=>{var w;class S{}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(R,Q){1&R&&d._UZ(0,"router-outlet")},dependencies:[zi],encapsulation:2}),S})();function Ra(w){const S=w.children&&w.children.map(Ra),U=S?{...w,children:S}:{...w};return!U.component&&!U.loadComponent&&(S||U.loadChildren)&&U.outlet&&U.outlet!==At&&(U.component=sa),U}function Ss(w){return w.outlet||At}function ds(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let S=w.parent;S;S=S.parent){const U=S.routeConfig;if(U?._loadedInjector)return U._loadedInjector;if(U?._injector)return U._injector}return null}class Wr{constructor(S,U,R,Q,me){this.routeReuseStrategy=S,this.futureState=U,this.currState=R,this.forwardEvent=Q,this.inputBindingEnabled=me}activate(S){const U=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(U,R,S),yr(this.futureState.root),this.activateChildRoutes(U,R,S)}deactivateChildRoutes(S,U,R){const Q=ii(U);S.children.forEach(me=>{const Me=me.value.outlet;this.deactivateRoutes(me,Q[Me],R),delete Q[Me]}),Object.values(Q).forEach(me=>{this.deactivateRouteAndItsChildren(me,R)})}deactivateRoutes(S,U,R){const Q=S.value,me=U?U.value:null;if(Q===me)if(Q.component){const Me=R.getContext(Q.outlet);Me&&this.deactivateChildRoutes(S,U,Me.children)}else this.deactivateChildRoutes(S,U,R);else me&&this.deactivateRouteAndItsChildren(U,R)}deactivateRouteAndItsChildren(S,U){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,U):this.deactivateRouteAndOutlet(S,U)}detachAndStoreRouteSubtree(S,U){const R=U.getContext(S.value.outlet),Q=R&&S.value.component?R.children:U,me=ii(S);for(const Me of Object.keys(me))this.deactivateRouteAndItsChildren(me[Me],Q);if(R&&R.outlet){const Me=R.outlet.detach(),wt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Me,route:S,contexts:wt})}}deactivateRouteAndOutlet(S,U){const R=U.getContext(S.value.outlet),Q=R&&S.value.component?R.children:U,me=ii(S);for(const Me of Object.keys(me))this.deactivateRouteAndItsChildren(me[Me],Q);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,U,R){const Q=ii(U);S.children.forEach(me=>{this.activateRoutes(me,Q[me.value.outlet],R),this.forwardEvent(new ot(me.value.snapshot))}),S.children.length&&this.forwardEvent(new De(S.value.snapshot))}activateRoutes(S,U,R){const Q=S.value,me=U?U.value:null;if(yr(Q),Q===me)if(Q.component){const Me=R.getOrCreateContext(Q.outlet);this.activateChildRoutes(S,U,Me.children)}else this.activateChildRoutes(S,U,R);else if(Q.component){const Me=R.getOrCreateContext(Q.outlet);if(this.routeReuseStrategy.shouldAttach(Q.snapshot)){const wt=this.routeReuseStrategy.retrieve(Q.snapshot);this.routeReuseStrategy.store(Q.snapshot,null),Me.children.onOutletReAttached(wt.contexts),Me.attachRef=wt.componentRef,Me.route=wt.route.value,Me.outlet&&Me.outlet.attach(wt.componentRef,wt.route.value),yr(wt.route.value),this.activateChildRoutes(S,null,Me.children)}else{const wt=ds(Q.snapshot);Me.attachRef=null,Me.route=Q,Me.injector=wt,Me.outlet&&Me.outlet.activateWith(Q,Me.injector),this.activateChildRoutes(S,null,Me.children)}}else this.activateChildRoutes(S,null,R)}}class dl{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class ps{constructor(S,U){this.component=S,this.route=U}}function Jr(w,S,U){const R=w._root;return qs(R,S?S._root:null,U,[R.value])}function Ao(w,S){const U=Symbol(),R=S.get(w,U);return R===U?"function"!=typeof w||(0,d.Z0I)(w)?S.get(w):w:R}function qs(w,S,U,R,Q={canDeactivateChecks:[],canActivateChecks:[]}){const me=ii(S);return w.children.forEach(Me=>{(function As(w,S,U,R,Q={canDeactivateChecks:[],canActivateChecks:[]}){const me=w.value,Me=S?S.value:null,wt=U?U.getContext(w.value.outlet):null;if(Me&&me.routeConfig===Me.routeConfig){const bn=function vo(w,S,U){if("function"==typeof U)return U(w,S);switch(U){case"pathParamsChange":return!vr(w.url,S.url);case"pathParamsOrQueryParamsChange":return!vr(w.url,S.url)||!Fn(w.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bi(w,S)||!Fn(w.queryParams,S.queryParams);default:return!bi(w,S)}}(Me,me,me.routeConfig.runGuardsAndResolvers);bn?Q.canActivateChecks.push(new dl(R)):(me.data=Me.data,me._resolvedData=Me._resolvedData),qs(w,S,me.component?wt?wt.children:null:U,R,Q),bn&&wt&&wt.outlet&&wt.outlet.isActivated&&Q.canDeactivateChecks.push(new ps(wt.outlet.component,Me))}else Me&&lo(S,wt,Q),Q.canActivateChecks.push(new dl(R)),qs(w,null,me.component?wt?wt.children:null:U,R,Q)})(Me,me[Me.value.outlet],U,R.concat([Me.value]),Q),delete me[Me.value.outlet]}),Object.entries(me).forEach(([Me,wt])=>lo(wt,U.getContext(Me),Q)),Q}function lo(w,S,U){const R=ii(w),Q=w.value;Object.entries(R).forEach(([me,Me])=>{lo(Me,Q.component?S?S.children.getContext(me):null:S,U)}),U.canDeactivateChecks.push(new ps(Q.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,Q))}function Oa(w){return"function"==typeof w}function rn(w){return w instanceof Fe.K||"EmptyError"===w?.name}const er=Symbol("INITIAL_VALUE");function Ei(){return(0,je.w)(w=>(0,Ae.a)(w.map(S=>S.pipe((0,Je.q)(1),(0,Pt.O)(er)))).pipe((0,Qe.U)(S=>{for(const U of S)if(!0!==U){if(U===er)return er;if(!1===U||U instanceof fr)return U}return!0}),(0,et.h)(S=>S!==er),(0,Je.q)(1)))}function Xo(w){return(0,Ke.z)((0,cn.b)(S=>{if(In(S))throw go(0,S)}),(0,Qe.U)(S=>!0===S))}class yo{constructor(S){this.segmentGroup=S||null}}class Na{constructor(S){this.urlTree=S}}function Ti(w){return(0,lt._)(new yo(w))}function zo(w){return(0,lt._)(new Na(w))}class bo{constructor(S,U){this.urlSerializer=S,this.urlTree=U}noMatchError(S){return new d.vHH(4002,!1)}lineralizeSegments(S,U){let R=[],Q=U.root;for(;;){if(R=R.concat(Q.segments),0===Q.numberOfChildren)return(0,ke.of)(R);if(Q.numberOfChildren>1||!Q.children[At])return(0,lt._)(new d.vHH(4e3,!1));Q=Q.children[At]}}applyRedirectCommands(S,U,R){return this.applyRedirectCreateUrlTree(U,this.urlSerializer.parse(U),S,R)}applyRedirectCreateUrlTree(S,U,R,Q){const me=this.createSegmentGroup(S,U.root,R,Q);return new fr(me,this.createQueryParams(U.queryParams,this.urlTree.queryParams),U.fragment)}createQueryParams(S,U){const R={};return Object.entries(S).forEach(([Q,me])=>{if("string"==typeof me&&me.startsWith(":")){const wt=me.substring(1);R[Q]=U[wt]}else R[Q]=me}),R}createSegmentGroup(S,U,R,Q){const me=this.createSegments(S,U.segments,R,Q);let Me={};return Object.entries(U.children).forEach(([wt,bn])=>{Me[wt]=this.createSegmentGroup(S,bn,R,Q)}),new _r(me,Me)}createSegments(S,U,R,Q){return U.map(me=>me.path.startsWith(":")?this.findPosParam(S,me,Q):this.findOrReturn(me,R))}findPosParam(S,U,R){const Q=R[U.path.substring(1)];if(!Q)throw new d.vHH(4001,!1);return Q}findOrReturn(S,U){let R=0;for(const Q of U){if(Q.path===S.path)return U.splice(R),Q;R++}return S}}const Fa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function no(w,S,U,R,Q){const me=fl(w,S,U);return me.matched?(R=function _o(w,S){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,S,`Route: ${w.path}`)),w._injector??S}(S,R),function Es(w,S,U,R){const Q=S.canMatch;if(!Q||0===Q.length)return(0,ke.of)(!0);const me=Q.map(Me=>{const wt=Ao(Me,w);return zr(function ye(w){return w&&Oa(w.canMatch)}(wt)?wt.canMatch(S,U):w.runInContext(()=>wt(S,U)))});return(0,ke.of)(me).pipe(Ei(),Xo())}(R,S,U).pipe((0,Qe.U)(Me=>!0===Me?me:{...Fa}))):(0,ke.of)(me)}function fl(w,S,U){if(""===S.path)return"full"===S.pathMatch&&(w.hasChildren()||U.length>0)?{...Fa}:{matched:!0,consumedSegments:[],remainingSegments:U,parameters:{},positionalParamSegments:{}};const Q=(S.matcher||Un)(U,w,S);if(!Q)return{...Fa};const me={};Object.entries(Q.posParams??{}).forEach(([wt,bn])=>{me[wt]=bn.path});const Me=Q.consumed.length>0?{...me,...Q.consumed[Q.consumed.length-1].parameters}:me;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:U.slice(Q.consumed.length),parameters:Me,positionalParamSegments:Q.posParams??{}}}function La(w,S,U,R){return U.length>0&&function ms(w,S,U){return U.some(R=>jr(w,S,R)&&Ss(R)!==At)}(w,U,R)?{segmentGroup:new _r(S,Va(R,new _r(U,w.children))),slicedSegments:[]}:0===U.length&&function Ua(w,S,U){return U.some(R=>jr(w,S,R))}(w,U,R)?{segmentGroup:new _r(w.segments,Eo(w,0,U,R,w.children)),slicedSegments:U}:{segmentGroup:new _r(w.segments,w.children),slicedSegments:U}}function Eo(w,S,U,R,Q){const me={};for(const Me of R)if(jr(w,U,Me)&&!Q[Ss(Me)]){const wt=new _r([],{});me[Ss(Me)]=wt}return{...Q,...me}}function Va(w,S){const U={};U[At]=S;for(const R of w)if(""===R.path&&Ss(R)!==At){const Q=new _r([],{});U[Ss(R)]=Q}return U}function jr(w,S,U){return(!(w.hasChildren()||S.length>0)||"full"!==U.pathMatch)&&""===U.path}class ol{constructor(S,U,R,Q,me,Me,wt){this.injector=S,this.configLoader=U,this.rootComponentType=R,this.config=Q,this.urlTree=me,this.paramsInheritanceStrategy=Me,this.urlSerializer=wt,this.allowRedirects=!0,this.applyRedirects=new bo(this.urlSerializer,this.urlTree)}noMatchError(S){return new d.vHH(4002,!1)}recognize(){const S=La(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,At).pipe((0,or.K)(U=>{if(U instanceof Na)return this.allowRedirects=!1,this.urlTree=U.urlTree,this.match(U.urlTree);throw U instanceof yo?this.noMatchError(U):U}),(0,Qe.U)(U=>{const R=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),Q=new Cr(R,U),me=new Ma("",Q),Me=function rr(w,S,U=null,R=null){return Fi(Ir(w),S,U,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,me.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(me._root),{state:me,tree:Me}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,At).pipe((0,or.K)(R=>{throw R instanceof yo?this.noMatchError(R):R}))}inheritParamsAndData(S){const U=S.value,R=Ys(U,this.paramsInheritanceStrategy);U.params=Object.freeze(R.params),U.data=Object.freeze(R.data),S.children.forEach(Q=>this.inheritParamsAndData(Q))}processSegmentGroup(S,U,R,Q){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,U,R):this.processSegment(S,U,R,R.segments,Q,!0)}processChildren(S,U,R){const Q=[];for(const me of Object.keys(R.children))"primary"===me?Q.unshift(me):Q.push(me);return(0,b.D)(Q).pipe((0,hn.b)(me=>{const Me=R.children[me],wt=function rs(w,S){const U=w.filter(R=>Ss(R)===S);return U.push(...w.filter(R=>Ss(R)!==S)),U}(U,me);return this.processSegmentGroup(S,wt,Me,me)}),(0,ei.R)((me,Me)=>(me.push(...Me),me)),(0,gr.d)(null),function Ct(w,S){const U=arguments.length>=2;return R=>R.pipe(w?(0,et.h)((Q,me)=>w(Q,me,R)):_t.y,Ur(1),U?(0,gr.d)(S):(0,zn.T)(()=>new Fe.K))}(),(0,Ft.z)(me=>{if(null===me)return Ti(R);const Me=ro(me);return function al(w){w.sort((S,U)=>S.value.outlet===At?-1:U.value.outlet===At?1:S.value.outlet.localeCompare(U.value.outlet))}(Me),(0,ke.of)(Me)}))}processSegment(S,U,R,Q,me,Me){return(0,b.D)(U).pipe((0,hn.b)(wt=>this.processSegmentAgainstRoute(wt._injector??S,U,wt,R,Q,me,Me).pipe((0,or.K)(bn=>{if(bn instanceof yo)return(0,ke.of)(null);throw bn}))),(0,yn.P)(wt=>!!wt),(0,or.K)(wt=>{if(rn(wt))return function qa(w,S,U){return 0===S.length&&!w.children[U]}(R,Q,me)?(0,ke.of)([]):Ti(R);throw wt}))}processSegmentAgainstRoute(S,U,R,Q,me,Me,wt){return function Ll(w,S,U,R){return!!(Ss(w)===R||R!==At&&jr(S,U,w))&&("**"===w.path||fl(S,w,U).matched)}(R,Q,me,Me)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,Q,R,me,Me,wt):wt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,Q,U,R,me,Me):Ti(Q):Ti(Q)}expandSegmentAgainstRouteUsingRedirect(S,U,R,Q,me,Me){return"**"===Q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,R,Q,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(S,U,R,Q,me,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,U,R,Q){const me=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?zo(me):this.applyRedirects.lineralizeSegments(R,me).pipe((0,Ft.z)(Me=>{const wt=new _r(Me,{});return this.processSegment(S,U,wt,Me,Q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,U,R,Q,me,Me){const{matched:wt,consumedSegments:bn,remainingSegments:Gt,positionalParamSegments:hr}=fl(U,Q,me);if(!wt)return Ti(U);const li=this.applyRedirects.applyRedirectCommands(bn,Q.redirectTo,hr);return Q.redirectTo.startsWith("/")?zo(li):this.applyRedirects.lineralizeSegments(Q,li).pipe((0,Ft.z)(Xi=>this.processSegment(S,R,U,Xi.concat(Gt),Me,!1)))}matchSegmentAgainstRoute(S,U,R,Q,me,Me){let wt;if("**"===R.path){const bn=Q.length>0?br(Q).parameters:{},Gt=new Fr(Q,bn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(R),Ss(R),R.component??R._loadedComponent??null,R,$o(R));wt=(0,ke.of)({snapshot:Gt,consumedSegments:[],remainingSegments:[]}),U.children={}}else wt=no(U,R,Q,S).pipe((0,Qe.U)(({matched:bn,consumedSegments:Gt,remainingSegments:hr,parameters:li})=>bn?{snapshot:new Fr(Gt,li,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(R),Ss(R),R.component??R._loadedComponent??null,R,$o(R)),consumedSegments:Gt,remainingSegments:hr}:null));return wt.pipe((0,je.w)(bn=>null===bn?Ti(U):this.getChildConfig(S=R._injector??S,R,Q).pipe((0,je.w)(({routes:Gt})=>{const hr=R._loadedInjector??S,{snapshot:li,consumedSegments:Xi,remainingSegments:Rn}=bn,{segmentGroup:Us,slicedSegments:Ia}=La(U,Xi,Rn,Gt);if(0===Ia.length&&Us.hasChildren())return this.processChildren(hr,Gt,Us).pipe((0,Qe.U)(Wn=>null===Wn?null:[new Cr(li,Wn)]));if(0===Gt.length&&0===Ia.length)return(0,ke.of)([new Cr(li,[])]);const ji=Ss(R)===me;return this.processSegment(hr,Gt,Us,Ia,ji?At:me,!0).pipe((0,Qe.U)(Wn=>[new Cr(li,Wn)]))}))))}getChildConfig(S,U,R){return U.children?(0,ke.of)({routes:U.children,injector:S}):U.loadChildren?void 0!==U._loadedRoutes?(0,ke.of)({routes:U._loadedRoutes,injector:U._loadedInjector}):function bs(w,S,U,R){const Q=S.canLoad;if(void 0===Q||0===Q.length)return(0,ke.of)(!0);const me=Q.map(Me=>{const wt=Ao(Me,w);return zr(function Pa(w){return w&&Oa(w.canLoad)}(wt)?wt.canLoad(S,U):w.runInContext(()=>wt(S,U)))});return(0,ke.of)(me).pipe(Ei(),Xo())}(S,U,R).pipe((0,Ft.z)(Q=>Q?this.configLoader.loadChildren(S,U).pipe((0,cn.b)(me=>{U._loadedRoutes=me.routes,U._loadedInjector=me.injector})):function co(w){return(0,lt._)(Vs(!1,3))}())):(0,ke.of)({routes:[],injector:S})}}function Ba(w){const S=w.value.routeConfig;return S&&""===S.path}function ro(w){const S=[],U=new Set;for(const R of w){if(!Ba(R)){S.push(R);continue}const Q=S.find(me=>R.value.routeConfig===me.value.routeConfig);void 0!==Q?(Q.children.push(...R.children),U.add(Q)):S.push(R)}for(const R of U){const Q=ro(R.children);S.push(new Cr(R.value,Q))}return S.filter(R=>!U.has(R))}function wo(w){return w.data||{}}function $o(w){return w.resolve||{}}function uo(w){return"string"==typeof w.title||null===w.title}function Ea(w){return(0,je.w)(S=>{const U=w(S);return U?(0,b.D)(U).pipe((0,Qe.U)(()=>S)):(0,ke.of)(S)})}const T=new d.OlP("ROUTES");let te=(()=>{var w;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(R){if(this.componentLoaders.get(R))return this.componentLoaders.get(R);if(R._loadedComponent)return(0,ke.of)(R._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(R);const Q=zr(R.loadComponent()).pipe((0,Qe.U)(q),(0,cn.b)(Me=>{this.onLoadEndListener&&this.onLoadEndListener(R),R._loadedComponent=Me}),(0,yt.x)(()=>{this.componentLoaders.delete(R)})),me=new Zt(Q,()=>new Ut.x).pipe(Rt());return this.componentLoaders.set(R,me),me}loadChildren(R,Q){if(this.childrenLoaders.get(Q))return this.childrenLoaders.get(Q);if(Q._loadedRoutes)return(0,ke.of)({routes:Q._loadedRoutes,injector:Q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Q);const Me=this.loadModuleFactoryOrRoutes(Q.loadChildren).pipe((0,Qe.U)(bn=>{this.onLoadEndListener&&this.onLoadEndListener(Q);let Gt,hr;return Array.isArray(bn)?hr=bn:(Gt=bn.create(R).injector,hr=Gt.get(T,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:hr.map(Ra),injector:Gt}}),(0,yt.x)(()=>{this.childrenLoaders.delete(Q)})),wt=new Zt(Me,()=>new Ut.x).pipe(Rt());return this.childrenLoaders.set(Q,wt),wt}loadModuleFactoryOrRoutes(R){return zr(R()).pipe((0,Qe.U)(q),(0,Ft.z)(Q=>Q instanceof d.YKP||Array.isArray(Q)?(0,ke.of)(Q):(0,b.D)(this.compiler.compileModuleAsync(Q))))}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();function q(w){return function Ne(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let we=(()=>{var w;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ut.x,this.transitionAbortSubject=new Ut.x,this.configLoader=(0,d.f3M)(te),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(ar),this.rootContexts=(0,d.f3M)(ri),this.inputBindingEnabled=null!==(0,d.f3M)(ns,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ke.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=me=>this.events.next(new ge(me)),this.configLoader.onLoadStartListener=me=>this.events.next(new xe(me))}complete(){this.transitions?.complete()}handleNavigationRequest(R){const Q=++this.navigationId;this.transitions?.next({...this.transitions.value,...R,id:Q})}setupNavigations(R,Q,me){return this.transitions=new Ve.X({id:0,currentUrlTree:Q,currentRawUrl:Q,currentBrowserUrl:Q,extractedUrl:R.urlHandlingStrategy.extract(Q),urlAfterRedirects:R.urlHandlingStrategy.extract(Q),rawUrl:Q,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:un,restoredState:null,currentSnapshot:me.snapshot,targetSnapshot:null,currentRouterState:me,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.h)(Me=>0!==Me.id),(0,Qe.U)(Me=>({...Me,extractedUrl:R.urlHandlingStrategy.extract(Me.rawUrl)})),(0,je.w)(Me=>{this.currentTransition=Me;let wt=!1,bn=!1;return(0,ke.of)(Me).pipe((0,cn.b)(Gt=>{this.currentNavigation={id:Gt.id,initialUrl:Gt.rawUrl,extractedUrl:Gt.extractedUrl,trigger:Gt.source,extras:Gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,je.w)(Gt=>{const hr=Gt.currentBrowserUrl.toString(),li=!R.navigated||Gt.extractedUrl.toString()!==hr||hr!==Gt.currentUrlTree.toString();if(!li&&"reload"!==(Gt.extras.onSameUrlNavigation??R.onSameUrlNavigation)){const Rn="";return this.events.next(new oe(Gt.id,this.urlSerializer.serialize(Gt.rawUrl),Rn,0)),Gt.resolve(null),mt.E}if(R.urlHandlingStrategy.shouldProcessUrl(Gt.rawUrl))return(0,ke.of)(Gt).pipe((0,je.w)(Rn=>{const Us=this.transitions?.getValue();return this.events.next(new Ui(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),Rn.source,Rn.restoredState)),Us!==this.transitions?.getValue()?mt.E:Promise.resolve(Rn)}),function Qi(w,S,U,R,Q,me){return(0,Ft.z)(Me=>function Yi(w,S,U,R,Q,me,Me="emptyOnly"){return new ol(w,S,U,R,Q,Me,me).recognize()}(w,S,U,R,Me.extractedUrl,Q,me).pipe((0,Qe.U)(({state:wt,tree:bn})=>({...Me,targetSnapshot:wt,urlAfterRedirects:bn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,R.config,this.urlSerializer,R.paramsInheritanceStrategy),(0,cn.b)(Rn=>{Me.targetSnapshot=Rn.targetSnapshot,Me.urlAfterRedirects=Rn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Rn.urlAfterRedirects};const Us=new $(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Us)}));if(li&&R.urlHandlingStrategy.shouldProcessUrl(Gt.currentRawUrl)){const{id:Rn,extractedUrl:Us,source:Ia,restoredState:ji,extras:Wn}=Gt,ll=new Ui(Rn,this.urlSerializer.serialize(Us),Ia,ji);this.events.next(ll);const Si=ys(0,this.rootComponentType).snapshot;return this.currentTransition=Me={...Gt,targetSnapshot:Si,urlAfterRedirects:Us,extras:{...Wn,skipLocationChange:!1,replaceUrl:!1}},(0,ke.of)(Me)}{const Rn="";return this.events.next(new oe(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Rn,1)),Gt.resolve(null),mt.E}}),(0,cn.b)(Gt=>{const hr=new ce(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(hr)}),(0,Qe.U)(Gt=>(this.currentTransition=Me={...Gt,guards:Jr(Gt.targetSnapshot,Gt.currentSnapshot,this.rootContexts)},Me)),function as(w,S){return(0,Ft.z)(U=>{const{targetSnapshot:R,currentSnapshot:Q,guards:{canActivateChecks:me,canDeactivateChecks:Me}}=U;return 0===Me.length&&0===me.length?(0,ke.of)({...U,guardsResult:!0}):function ka(w,S,U,R){return(0,b.D)(w).pipe((0,Ft.z)(Q=>function wl(w,S,U,R,Q){const me=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!me||0===me.length)return(0,ke.of)(!0);const Me=me.map(wt=>{const bn=ds(S)??Q,Gt=Ao(wt,bn);return zr(function K(w){return w&&Oa(w.canDeactivate)}(Gt)?Gt.canDeactivate(w,S,U,R):bn.runInContext(()=>Gt(w,S,U,R))).pipe((0,yn.P)())});return(0,ke.of)(Me).pipe(Ei())}(Q.component,Q.route,U,S,R)),(0,yn.P)(Q=>!0!==Q,!0))}(Me,R,Q,w).pipe((0,Ft.z)(wt=>wt&&function sl(w){return"boolean"==typeof w}(wt)?function eo(w,S,U,R){return(0,b.D)(S).pipe((0,hn.b)(Q=>(0,he.z)(function to(w,S){return null!==w&&S&&S(new $e(w)),(0,ke.of)(!0)}(Q.route.parent,R),function aa(w,S){return null!==w&&S&&S(new Ge(w)),(0,ke.of)(!0)}(Q.route,R),function hl(w,S,U){const R=S[S.length-1],me=S.slice(0,S.length-1).reverse().map(Me=>function ya(w){const S=w.routeConfig?w.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:w,guards:S}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,ve.P)(()=>{const wt=Me.guards.map(bn=>{const Gt=ds(Me.node)??U,hr=Ao(bn,Gt);return zr(function ne(w){return w&&Oa(w.canActivateChild)}(hr)?hr.canActivateChild(R,w):Gt.runInContext(()=>hr(R,w))).pipe((0,yn.P)())});return(0,ke.of)(wt).pipe(Ei())}));return(0,ke.of)(me).pipe(Ei())}(w,Q.path,U),function ba(w,S,U){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ke.of)(!0);const Q=R.map(me=>(0,ve.P)(()=>{const Me=ds(S)??U,wt=Ao(me,Me);return zr(function Ms(w){return w&&Oa(w.canActivate)}(wt)?wt.canActivate(S,w):Me.runInContext(()=>wt(S,w))).pipe((0,yn.P)())}));return(0,ke.of)(Q).pipe(Ei())}(w,Q.route,U))),(0,yn.P)(Q=>!0!==Q,!0))}(R,me,w,S):(0,ke.of)(wt)),(0,Qe.U)(wt=>({...U,guardsResult:wt})))})}(this.environmentInjector,Gt=>this.events.next(Gt)),(0,cn.b)(Gt=>{if(Me.guardsResult=Gt.guardsResult,In(Gt.guardsResult))throw go(0,Gt.guardsResult);const hr=new Ee(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot,!!Gt.guardsResult);this.events.next(hr)}),(0,et.h)(Gt=>!!Gt.guardsResult||(this.cancelNavigationTransition(Gt,"",3),!1)),Ea(Gt=>{if(Gt.guards.canActivateChecks.length)return(0,ke.of)(Gt).pipe((0,cn.b)(hr=>{const li=new qe(hr.id,this.urlSerializer.serialize(hr.extractedUrl),this.urlSerializer.serialize(hr.urlAfterRedirects),hr.targetSnapshot);this.events.next(li)}),(0,je.w)(hr=>{let li=!1;return(0,ke.of)(hr).pipe(function Ka(w,S){return(0,Ft.z)(U=>{const{targetSnapshot:R,guards:{canActivateChecks:Q}}=U;if(!Q.length)return(0,ke.of)(U);let me=0;return(0,b.D)(Q).pipe((0,hn.b)(Me=>function Za(w,S,U,R){const Q=w.routeConfig,me=w._resolve;return void 0!==Q?.title&&!uo(Q)&&(me[Xn]=Q.title),function pl(w,S,U,R){const Q=function ws(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===Q.length)return(0,ke.of)({});const me={};return(0,b.D)(Q).pipe((0,Ft.z)(Me=>function Mo(w,S,U,R){const Q=ds(S)??R,me=Ao(w,Q);return zr(me.resolve?me.resolve(S,U):Q.runInContext(()=>me(S,U)))}(w[Me],S,U,R).pipe((0,yn.P)(),(0,cn.b)(wt=>{me[Me]=wt}))),Ur(1),function ct(w){return(0,Qe.U)(()=>w)}(me),(0,or.K)(Me=>rn(Me)?mt.E:(0,lt._)(Me)))}(me,w,S,R).pipe((0,Qe.U)(Me=>(w._resolvedData=Me,w.data=Ys(w,U).resolve,Q&&uo(Q)&&(w.data[Xn]=Q.title),null)))}(Me.route,R,w,S)),(0,cn.b)(()=>me++),Ur(1),(0,Ft.z)(Me=>me===Q.length?(0,ke.of)(U):mt.E))})}(R.paramsInheritanceStrategy,this.environmentInjector),(0,cn.b)({next:()=>li=!0,complete:()=>{li||this.cancelNavigationTransition(hr,"",2)}}))}),(0,cn.b)(hr=>{const li=new bt(hr.id,this.urlSerializer.serialize(hr.extractedUrl),this.urlSerializer.serialize(hr.urlAfterRedirects),hr.targetSnapshot);this.events.next(li)}))}),Ea(Gt=>{const hr=li=>{const Xi=[];li.routeConfig?.loadComponent&&!li.routeConfig._loadedComponent&&Xi.push(this.configLoader.loadComponent(li.routeConfig).pipe((0,cn.b)(Rn=>{li.component=Rn}),(0,Qe.U)(()=>{})));for(const Rn of li.children)Xi.push(...hr(Rn));return Xi};return(0,Ae.a)(hr(Gt.targetSnapshot.root)).pipe((0,gr.d)(),(0,Je.q)(1))}),Ea(()=>this.afterPreactivation()),(0,Qe.U)(Gt=>{const hr=function Li(w,S,U){const R=Ki(w,S._root,U?U._root:void 0);return new Ri(R,S)}(R.routeReuseStrategy,Gt.targetSnapshot,Gt.currentRouterState);return this.currentTransition=Me={...Gt,targetRouterState:hr},Me}),(0,cn.b)(()=>{this.events.next(new vn)}),((w,S,U,R)=>(0,Qe.U)(Q=>(new Wr(S,Q.targetRouterState,Q.currentRouterState,U,R).activate(w),Q)))(this.rootContexts,R.routeReuseStrategy,Gt=>this.events.next(Gt),this.inputBindingEnabled),(0,Je.q)(1),(0,cn.b)({next:Gt=>{wt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new us(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects))),R.titleStrategy?.updateTitle(Gt.targetRouterState.snapshot),Gt.resolve(!0)},complete:()=>{wt=!0}}),(0,Mt.R)(this.transitionAbortSubject.pipe((0,cn.b)(Gt=>{throw Gt}))),(0,yt.x)(()=>{wt||bn||this.cancelNavigationTransition(Me,"",1),this.currentNavigation?.id===Me.id&&(this.currentNavigation=null)}),(0,or.K)(Gt=>{if(bn=!0,oo(Gt))this.events.next(new nt(Me.id,this.urlSerializer.serialize(Me.extractedUrl),Gt.message,Gt.cancellationCode)),function Zi(w){return oo(w)&&In(w.url)}(Gt)?this.events.next(new Ln(Gt.url)):Me.resolve(!1);else{this.events.next(new Pe(Me.id,this.urlSerializer.serialize(Me.extractedUrl),Gt,Me.targetSnapshot??void 0));try{Me.resolve(R.errorHandler(Gt))}catch(hr){Me.reject(hr)}}return mt.E}))}))}cancelNavigationTransition(R,Q,me){const Me=new nt(R.id,this.urlSerializer.serialize(R.extractedUrl),Q,me);this.events.next(Me),R.resolve(!1)}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();function tt(w){return w!==un}let zt=(()=>{var w;class S{buildTitle(R){let Q,me=R.root;for(;void 0!==me;)Q=this.getResolvedTitleForRoute(me)??Q,me=me.children.find(Me=>Me.outlet===At);return Q}getResolvedTitleForRoute(R){return R.data[Xn]}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(En)},providedIn:"root"}),S})(),En=(()=>{var w;class S extends zt{constructor(R){super(),this.title=R}updateTitle(R){const Q=this.buildTitle(R);void 0!==Q&&this.title.setTitle(Q)}}return(w=S).\u0275fac=function(R){return new(R||w)(d.LFG(Ht.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})(),Lr=(()=>{var w;class S{}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(di)},providedIn:"root"}),S})();class ni{shouldDetach(S){return!1}store(S,U){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,U){return S.routeConfig===U.routeConfig}}let di=(()=>{var w;class S extends ni{}return(w=S).\u0275fac=function(){let U;return function(Q){return(U||(U=d.n5z(w)))(Q||w)}}(),w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();const qr=new d.OlP("",{providedIn:"root",factory:()=>({})});let hs=(()=>{var w;class S{}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Bi)},providedIn:"root"}),S})(),Bi=(()=>{var w;class S{shouldProcessUrl(R){return!0}extract(R){return R}merge(R,Q){return R}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();var fs=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(fs||{});function Ro(w,S){w.events.pipe((0,et.h)(U=>U instanceof us||U instanceof nt||U instanceof Pe||U instanceof oe),(0,Qe.U)(U=>U instanceof us||U instanceof oe?fs.COMPLETE:U instanceof nt&&(0===U.code||1===U.code)?fs.REDIRECTING:fs.FAILED),(0,et.h)(U=>U!==fs.REDIRECTING),(0,Je.q)(1)).subscribe(()=>{S()})}function ja(w){throw w}function la(w,S,U){return S.parse("/")}const Jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Os={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ls=(()=>{var w;class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Ut.x,this.options=(0,d.f3M)(qr,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||ja,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||la,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(hs),this.routeReuseStrategy=(0,d.f3M)(Lr),this.titleStrategy=(0,d.f3M)(zt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(T,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(we),this.urlSerializer=(0,d.f3M)(ar),this.location=(0,d.f3M)(Re.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(ns,{optional:!0}),this.eventsSubscription=new jt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ys(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(R=>{this.lastSuccessfulId=R.id,this.currentPageId=this.browserPageId},R=>{this.console.warn(`Unhandled Navigation Error: ${R}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const R=this.navigationTransitions.events.subscribe(Q=>{try{const{currentTransition:me}=this.navigationTransitions;if(null===me)return void($i(Q)&&this._events.next(Q));if(Q instanceof Ui)tt(me.source)&&(this.browserUrlTree=me.extractedUrl);else if(Q instanceof oe)this.rawUrlTree=me.rawUrl;else if(Q instanceof $){if("eager"===this.urlUpdateStrategy){if(!me.extras.skipLocationChange){const Me=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl);this.setBrowserUrl(Me,me)}this.browserUrlTree=me.urlAfterRedirects}}else if(Q instanceof vn)this.currentUrlTree=me.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(me.urlAfterRedirects,me.rawUrl),this.routerState=me.targetRouterState,"deferred"===this.urlUpdateStrategy&&(me.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,me),this.browserUrlTree=me.urlAfterRedirects);else if(Q instanceof nt)0!==Q.code&&1!==Q.code&&(this.navigated=!0),(3===Q.code||2===Q.code)&&this.restoreHistory(me);else if(Q instanceof Ln){const Me=this.urlHandlingStrategy.merge(Q.url,me.currentRawUrl),wt={skipLocationChange:me.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tt(me.source)};this.scheduleNavigation(Me,un,null,wt,{resolve:me.resolve,reject:me.reject,promise:me.promise})}Q instanceof Pe&&this.restoreHistory(me,!0),Q instanceof us&&(this.navigated=!0),$i(Q)&&this._events.next(Q)}catch(me){this.navigationTransitions.transitionAbortSubject.next(me)}});this.eventsSubscription.add(R)}resetRootComponentType(R){this.routerState.root.component=R,this.navigationTransitions.rootComponentType=R}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const R=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),un,R)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(R=>{const Q="popstate"===R.type?"popstate":"hashchange";"popstate"===Q&&setTimeout(()=>{this.navigateToSyncWithBrowser(R.url,Q,R.state)},0)}))}navigateToSyncWithBrowser(R,Q,me){const Me={replaceUrl:!0},wt=me?.navigationId?me:null;if(me){const Gt={...me};delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(Me.state=Gt)}const bn=this.parseUrl(R);this.scheduleNavigation(bn,Q,wt,Me)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(R){this.config=R.map(Ra),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(R,Q={}){const{relativeTo:me,queryParams:Me,fragment:wt,queryParamsHandling:bn,preserveFragment:Gt}=Q,hr=Gt?this.currentUrlTree.fragment:wt;let Xi,li=null;switch(bn){case"merge":li={...this.currentUrlTree.queryParams,...Me};break;case"preserve":li=this.currentUrlTree.queryParams;break;default:li=Me||null}null!==li&&(li=this.removeEmptyProps(li));try{Xi=Ir(me?me.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof R[0]||!R[0].startsWith("/"))&&(R=[]),Xi=this.currentUrlTree.root}return Fi(Xi,R,li,hr??null)}navigateByUrl(R,Q={skipLocationChange:!1}){const me=In(R)?R:this.parseUrl(R),Me=this.urlHandlingStrategy.merge(me,this.rawUrlTree);return this.scheduleNavigation(Me,un,null,Q)}navigate(R,Q={skipLocationChange:!1}){return function Oo(w){for(let S=0;S<w.length;S++)if(null==w[S])throw new d.vHH(4008,!1)}(R),this.navigateByUrl(this.createUrlTree(R,Q),Q)}serializeUrl(R){return this.urlSerializer.serialize(R)}parseUrl(R){let Q;try{Q=this.urlSerializer.parse(R)}catch(me){Q=this.malformedUriErrorHandler(me,this.urlSerializer,R)}return Q}isActive(R,Q){let me;if(me=!0===Q?{...Jo}:!1===Q?{...Os}:Q,In(R))return hi(this.currentUrlTree,R,me);const Me=this.parseUrl(R);return hi(this.currentUrlTree,Me,me)}removeEmptyProps(R){return Object.keys(R).reduce((Q,me)=>{const Me=R[me];return null!=Me&&(Q[me]=Me),Q},{})}scheduleNavigation(R,Q,me,Me,wt){if(this.disposed)return Promise.resolve(!1);let bn,Gt,hr;wt?(bn=wt.resolve,Gt=wt.reject,hr=wt.promise):hr=new Promise((Xi,Rn)=>{bn=Xi,Gt=Rn});const li=this.pendingTasks.add();return Ro(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(li))}),this.navigationTransitions.handleNavigationRequest({source:Q,restoredState:me,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:R,extras:Me,resolve:bn,reject:Gt,promise:hr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),hr.catch(Xi=>Promise.reject(Xi))}setBrowserUrl(R,Q){const me=this.urlSerializer.serialize(R);if(this.location.isCurrentPathEqualTo(me)||Q.extras.replaceUrl){const wt={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId)};this.location.replaceState(me,"",wt)}else{const Me={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId+1)};this.location.go(me,"",Me)}}restoreHistory(R,Q=!1){if("computed"===this.canceledNavigationResolution){const Me=this.currentPageId-this.browserPageId;0!==Me?this.location.historyGo(Me):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Me&&(this.resetState(R),this.browserUrlTree=R.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Q&&this.resetState(R),this.resetUrlToCurrentUrlTree())}resetState(R){this.routerState=R.currentRouterState,this.currentUrlTree=R.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,R.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(R,Q){return"computed"===this.canceledNavigationResolution?{navigationId:R,\u0275routerPageId:Q}:{navigationId:R}}}return(w=S).\u0275fac=function(R){return new(R||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();function $i(w){return!(w instanceof vn||w instanceof Ln)}let Il=(()=>{var w;class S{constructor(R,Q,me,Me,wt,bn){this.router=R,this.route=Q,this.tabIndexAttribute=me,this.renderer=Me,this.el=wt,this.locationStrategy=bn,this.href=null,this.commands=null,this.onChanges=new Ut.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Gt=wt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Gt||"area"===Gt,this.isAnchorElement?this.subscription=R.events.subscribe(hr=>{hr instanceof us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(R){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",R)}ngOnChanges(R){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(R){null!=R?(this.commands=Array.isArray(R)?R:[R],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(R,Q,me,Me,wt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==R||Q||me||Me||wt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const R=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(R,Q){const me=this.renderer,Me=this.el.nativeElement;null!==Q?me.setAttribute(Me,R,Q):me.removeAttribute(Me,R)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(w=S).\u0275fac=function(R){return new(R||w)(d.Y36(ls),d.Y36(ts),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Re.S$))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,Q){1&R&&d.NdJ("click",function(Me){return Q.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&R&&d.uIk("target",Q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),S})();class lc{}let Go=(()=>{var w;class S{constructor(R,Q,me,Me,wt){this.router=R,this.injector=me,this.preloadingStrategy=Me,this.loader=wt}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(R=>R instanceof us),(0,hn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(R,Q){const me=[];for(const Me of Q){Me.providers&&!Me._injector&&(Me._injector=(0,d.MMx)(Me.providers,R,`Route: ${Me.path}`));const wt=Me._injector??R,bn=Me._loadedInjector??wt;(Me.loadChildren&&!Me._loadedRoutes&&void 0===Me.canLoad||Me.loadComponent&&!Me._loadedComponent)&&me.push(this.preloadConfig(wt,Me)),(Me.children||Me._loadedRoutes)&&me.push(this.processRoutes(bn,Me.children??Me._loadedRoutes))}return(0,b.D)(me).pipe((0,ut.J)())}preloadConfig(R,Q){return this.preloadingStrategy.preload(Q,()=>{let me;me=Q.loadChildren&&void 0===Q.canLoad?this.loader.loadChildren(R,Q):(0,ke.of)(null);const Me=me.pipe((0,Ft.z)(wt=>null===wt?(0,ke.of)(void 0):(Q._loadedRoutes=wt.routes,Q._loadedInjector=wt.injector,this.processRoutes(wt.injector??R,wt.routes))));if(Q.loadComponent&&!Q._loadedComponent){const wt=this.loader.loadComponent(Q);return(0,b.D)([Me,wt]).pipe((0,ut.J)())}return Me})}}return(w=S).\u0275fac=function(R){return new(R||w)(d.LFG(ls),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(lc),d.LFG(te))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),S})();const xl=new d.OlP("");let cc=(()=>{var w;class S{constructor(R,Q,me,Me,wt={}){this.urlSerializer=R,this.transitions=Q,this.viewportScroller=me,this.zone=Me,this.options=wt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},wt.scrollPositionRestoration=wt.scrollPositionRestoration||"disabled",wt.anchorScrolling=wt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=R.navigationTrigger,this.restoredId=R.restoredState?R.restoredState.navigationId:0):R instanceof us?(this.lastId=R.id,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.urlAfterRedirects).fragment)):R instanceof oe&&0===R.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(R,this.urlSerializer.parse(R.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(R=>{R instanceof Wt&&(R.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(R.position):R.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(R.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(R,Q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wt(R,"popstate"===this.lastSource?this.store[this.restoredId]:null,Q))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(w=S).\u0275fac=function(R){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),S})();function wa(w,S){return{\u0275kind:w,\u0275providers:S}}function Yl(){const w=(0,d.f3M)(d.zs3);return S=>{const U=w.get(d.z2F);if(S!==U.components[0])return;const R=w.get(ls),Q=w.get(Dr);1===w.get(Io)&&R.initialNavigation(),w.get(Ul,null,d.XFs.Optional)?.setUpPreloading(),w.get(xl,null,d.XFs.Optional)?.init(),R.resetRootComponentType(U.componentTypes[0]),Q.closed||(Q.next(),Q.complete(),Q.unsubscribe())}}const Dr=new d.OlP("",{factory:()=>new Ut.x}),Io=new d.OlP("",{providedIn:"root",factory:()=>1}),Ul=new d.OlP("");function Bl(w){return wa(0,[{provide:Ul,useExisting:Go},{provide:lc,useExisting:w}])}const Ql=new d.OlP("ROUTER_FORROOT_GUARD"),tn=[Re.Ye,{provide:ar,useClass:Vi},ls,ri,{provide:ts,useFactory:function Ya(w){return w.routerState.root},deps:[ls]},te,[]];function mi(){return new d.PXZ("Router",ls)}let ki=(()=>{var w;class S{constructor(R){}static forRoot(R,Q){return{ngModule:S,providers:[tn,[],{provide:T,multi:!0,useValue:R},{provide:Ql,useFactory:Gi,deps:[[ls,new d.FiY,new d.tp0]]},{provide:qr,useValue:Q||{}},Q?.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:xl,useFactory:()=>{const w=(0,d.f3M)(Re.EM),S=(0,d.f3M)(d.R0b),U=(0,d.f3M)(qr),R=(0,d.f3M)(we),Q=(0,d.f3M)(ar);return U.scrollOffset&&w.setOffset(U.scrollOffset),new cc(Q,R,w,S,U)}},Q?.preloadingStrategy?Bl(Q.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:mi},Q?.initialNavigation?sn(Q):[],Q?.bindToComponentInputs?wa(8,[Ws,{provide:ns,useExisting:Ws}]).\u0275providers:[],[{provide:cr,useFactory:Yl},{provide:d.tb,multi:!0,useExisting:cr}]]}}static forChild(R){return{ngModule:S,providers:[{provide:T,multi:!0,useValue:R}]}}}return(w=S).\u0275fac=function(R){return new(R||w)(d.LFG(Ql,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),S})();function Gi(w){return"guarded"}function sn(w){return["disabled"===w.initialNavigation?wa(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const S=(0,d.f3M)(ls);return()=>{S.setUpLocationChangeListener()}}},{provide:Io,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?wa(2,[{provide:Io,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:S=>{const U=S.get(Re.V_,Promise.resolve());return()=>U.then(()=>new Promise(R=>{const Q=S.get(ls),me=S.get(Dr);Ro(Q,()=>{R(!0)}),S.get(we).afterPreactivation=()=>(R(!0),me.closed?(0,ke.of)(void 0):me),Q.initialNavigation()}))}}]).\u0275providers:[]]}const cr=new d.OlP("")},3106:(pn,st,V)=>{V.d(st,{Z:()=>jt});var d=V(9058),H=V(4537),ae=V(534),Te=V(7879);class b{constructor(St,Rt){this._delegate=St,this.firebase=Rt,(0,ae._addComponent)(St,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=St.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this._delegate.automaticDataCollectionEnabled=St}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(St=>{this._delegate.checkDestroyed(),St()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(St,Rt=ae._DEFAULT_ENTRY_NAME){var Zt;this._delegate.checkDestroyed();const Ut=this._delegate.container.getProvider(St);return!Ut.isInitialized()&&"EXPLICIT"===(null===(Zt=Ut.getComponent())||void 0===Zt?void 0:Zt.instantiationMode)&&Ut.initialize(),Ut.getImmediate({identifier:Rt})}_removeServiceInstance(St,Rt=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(St).clearInstance(Rt)}_addComponent(St){(0,ae._addComponent)(this._delegate,St)}_addOrOverwriteComponent(St){(0,ae._addOrOverwriteComponent)(this._delegate,St)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Fe(){const kt=function Ae(kt){const St={},Rt={__esModule:!0,initializeApp:function Re(Pt,et={}){const Ft=ae.initializeApp(Pt,et);if((0,d.r3)(St,Ft.name))return St[Ft.name];const yn=new kt(Ft,Rt);return St[Ft.name]=yn,yn},app:Ut,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function je(Pt){const et=Pt.name,Ft=et.replace("-compat","");if(ae._registerComponent(Pt)&&"PUBLIC"===Pt.type){const yn=(hn=Ut())=>{if("function"!=typeof hn[Ft])throw Ve.create("invalid-app-argument",{appName:et});return hn[Ft]()};void 0!==Pt.serviceProps&&(0,d.ZB)(yn,Pt.serviceProps),Rt[Ft]=yn,kt.prototype[Ft]=function(...hn){return this._getService.bind(this,et).apply(this,Pt.multipleInstances?hn:[])}}return"PUBLIC"===Pt.type?Rt[Ft]:null},removeApp:function Zt(Pt){delete St[Pt]},useAsService:function Je(Pt,et){return"serverAuth"===et?null:et},modularAPIs:ae}};function Ut(Pt){if(!(0,d.r3)(St,Pt=Pt||ae._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:Pt});return St[Pt]}return Rt.default=Rt,Object.defineProperty(Rt,"apps",{get:function Qe(){return Object.keys(St).map(Pt=>St[Pt])}}),Ut.App=kt,Rt}(b);return kt.INTERNAL=Object.assign(Object.assign({},kt.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function St(Rt){(0,d.ZB)(kt,Rt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),kt}(),ve=new Te.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const kt=self.firebase.SDK_VERSION;kt&&kt.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jt=he;!function mt(kt){(0,ae.registerVersion)("@firebase/app-compat","0.2.13",kt)}()},534:(pn,st,V)=>{V.r(st),V.d(st,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>Tt,_DEFAULT_ENTRY_NAME:()=>fr,_addComponent:()=>vr,_addOrOverwriteComponent:()=>os,_apps:()=>Zr,_clearComponents:()=>Mi,_components:()=>Er,_getProvider:()=>Vi,_registerComponent:()=>ar,_removeServiceInstance:()=>Mr,deleteApp:()=>gn,getApp:()=>ht,getApps:()=>Bt,initializeApp:()=>Xe,onLog:()=>pr,registerVersion:()=>Hn,setLogLevel:()=>_i});var d=V(5861),H=V(4537),ae=V(7879),Te=V(9058);const b=(Dt,gt)=>gt.some(Kt=>Dt instanceof Kt);let ke,Ve;const he=new WeakMap,ve=new WeakMap,Ke=new WeakMap,lt=new WeakMap,mt=new WeakMap;let St={get(Dt,gt,Kt){if(Dt instanceof IDBTransaction){if("done"===gt)return ve.get(Dt);if("objectStoreNames"===gt)return Dt.objectStoreNames||Ke.get(Dt);if("store"===gt)return Kt.objectStoreNames[1]?void 0:Kt.objectStore(Kt.objectStoreNames[0])}return Re(Dt[gt])},set:(Dt,gt,Kt)=>(Dt[gt]=Kt,!0),has:(Dt,gt)=>Dt instanceof IDBTransaction&&("done"===gt||"store"===gt)||gt in Dt};function Ut(Dt){return"function"==typeof Dt?function Zt(Dt){return Dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fe(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Dt)?function(...gt){return Dt.apply(Qe(this),gt),Re(he.get(this))}:function(...gt){return Re(Dt.apply(Qe(this),gt))}:function(gt,...Kt){const _n=Dt.call(Qe(this),gt,...Kt);return Ke.set(_n,gt.sort?gt.sort():[gt]),Re(_n)}}(Dt):(Dt instanceof IDBTransaction&&function kt(Dt){if(ve.has(Dt))return;const gt=new Promise((Kt,_n)=>{const an=()=>{Dt.removeEventListener("complete",Nn),Dt.removeEventListener("error",dr),Dt.removeEventListener("abort",dr)},Nn=()=>{Kt(),an()},dr=()=>{_n(Dt.error||new DOMException("AbortError","AbortError")),an()};Dt.addEventListener("complete",Nn),Dt.addEventListener("error",dr),Dt.addEventListener("abort",dr)});ve.set(Dt,gt)}(Dt),b(Dt,function Ae(){return ke||(ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Dt,St):Dt)}function Re(Dt){if(Dt instanceof IDBRequest)return function jt(Dt){const gt=new Promise((Kt,_n)=>{const an=()=>{Dt.removeEventListener("success",Nn),Dt.removeEventListener("error",dr)},Nn=()=>{Kt(Re(Dt.result)),an()},dr=()=>{_n(Dt.error),an()};Dt.addEventListener("success",Nn),Dt.addEventListener("error",dr)});return gt.then(Kt=>{Kt instanceof IDBCursor&&he.set(Kt,Dt)}).catch(()=>{}),mt.set(gt,Dt),gt}(Dt);if(lt.has(Dt))return lt.get(Dt);const gt=Ut(Dt);return gt!==Dt&&(lt.set(Dt,gt),mt.set(gt,Dt)),gt}const Qe=Dt=>mt.get(Dt),Pt=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],Ft=new Map;function yn(Dt,gt){var Kt;if(!(Dt instanceof IDBDatabase)||gt in Dt||"string"!=typeof gt)return;if(Ft.get(gt))return Ft.get(gt);const _n=gt.replace(/FromIndex$/,""),an=gt!==_n,Nn=et.includes(_n);if(!(_n in(an?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Pt.includes(_n))return;const dr=function(vi){return(Kt=Kt||(0,d.Z)(function*(nn,...ti){const Qr=this.transaction(nn,Nn?"readwrite":"readonly");let Tr=Qr.store;return an&&(Tr=Tr.index(ti.shift())),(yield Promise.all([Tr[_n](...ti),Nn&&Qr.done]))[0]})).apply(this,arguments)};return Ft.set(gt,dr),dr}var hn,cn,or;!function Rt(Dt){St=Dt(St)}(Dt=>({...Dt,get:(gt,Kt,_n)=>yn(gt,Kt)||Dt.get(gt,Kt,_n),has:(gt,Kt)=>!!yn(gt,Kt)||Dt.has(gt,Kt)}));class ei{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(Kt=>{if(function gr(Dt){const gt=Dt.getComponent();return"VERSION"===gt?.type}(Kt)){const _n=Kt.getImmediate();return`${_n.library}/${_n.version}`}return null}).filter(Kt=>Kt).join(" ")}}const Ur="@firebase/app",_t=new ae.Yd("@firebase/app"),fr="[DEFAULT]",_r={[Ur]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zr=new Map,Er=new Map;function vr(Dt,gt){try{Dt.container.addComponent(gt)}catch(Kt){_t.debug(`Component ${gt.name} failed to register with FirebaseApp ${Dt.name}`,Kt)}}function os(Dt,gt){Dt.container.addOrOverwriteComponent(gt)}function ar(Dt){const gt=Dt.name;if(Er.has(gt))return _t.debug(`There were multiple attempts to register component ${gt}.`),!1;Er.set(gt,Dt);for(const Kt of Zr.values())vr(Kt,Dt);return!0}function Vi(Dt,gt){const Kt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Kt&&Kt.triggerHeartbeat(),Dt.container.getProvider(gt)}function Mr(Dt,gt,Kt=fr){Vi(Dt,gt).clearInstance(Kt)}function Mi(){Er.clear()}const Et=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ye{constructor(gt,Kt,_n){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},Kt),this._name=Kt.name,this._automaticDataCollectionEnabled=Kt.automaticDataCollectionEnabled,this._container=_n,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}const Tt="9.23.0";function Xe(Dt,gt={}){let Kt=Dt;"object"!=typeof gt&&(gt={name:gt});const _n=Object.assign({name:fr,automaticDataCollectionEnabled:!1},gt),an=_n.name;if("string"!=typeof an||!an)throw Et.create("bad-app-name",{appName:String(an)});if(Kt||(Kt=(0,Te.aH)()),!Kt)throw Et.create("no-options");const Nn=Zr.get(an);if(Nn){if((0,Te.vZ)(Kt,Nn.options)&&(0,Te.vZ)(_n,Nn.config))return Nn;throw Et.create("duplicate-app",{appName:an})}const dr=new H.H0(an);for(const vi of Er.values())dr.addComponent(vi);const Yr=new Ye(Kt,_n,dr);return Zr.set(an,Yr),Yr}function ht(Dt=fr){const gt=Zr.get(Dt);if(!gt&&Dt===fr&&(0,Te.aH)())return Xe();if(!gt)throw Et.create("no-app",{appName:Dt});return gt}function Bt(){return Array.from(Zr.values())}function gn(Dt){return(hn=hn||(0,d.Z)(function*(gt){const Kt=gt.name;Zr.has(Kt)&&(Zr.delete(Kt),yield Promise.all(gt.container.getProviders().map(_n=>_n.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function Hn(Dt,gt,Kt){var _n;let an=null!==(_n=_r[Dt])&&void 0!==_n?_n:Dt;Kt&&(an+=`-${Kt}`);const Nn=an.match(/\s|\//),dr=gt.match(/\s|\//);if(Nn||dr){const Yr=[`Unable to register library "${an}" with version "${gt}":`];return Nn&&Yr.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Nn&&dr&&Yr.push("and"),dr&&Yr.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void _t.warn(Yr.join(" "))}ar(new H.wA(`${an}-version`,()=>({library:an,version:gt}),"VERSION"))}function pr(Dt,gt){if(null!==Dt&&"function"!=typeof Dt)throw Et.create("invalid-log-argument");(0,ae.Am)(Dt,gt)}function _i(Dt){(0,ae.Ub)(Dt)}const be="firebase-heartbeat-database",G=1,k="firebase-heartbeat-store";let L=null;function F(){return L||(L=function je(Dt,gt,{blocked:Kt,upgrade:_n,blocking:an,terminated:Nn}={}){const dr=indexedDB.open(Dt,gt),Yr=Re(dr);return _n&&dr.addEventListener("upgradeneeded",vi=>{_n(Re(dr.result),vi.oldVersion,vi.newVersion,Re(dr.transaction),vi)}),Kt&&dr.addEventListener("blocked",vi=>Kt(vi.oldVersion,vi.newVersion,vi)),Yr.then(vi=>{Nn&&vi.addEventListener("close",()=>Nn()),an&&vi.addEventListener("versionchange",nn=>an(nn.oldVersion,nn.newVersion,nn))}).catch(()=>{}),Yr}(be,G,{upgrade:(Dt,gt)=>{0===gt&&Dt.createObjectStore(k)}}).catch(Dt=>{throw Et.create("idb-open",{originalErrorMessage:Dt.message})})),L}function We(Dt,gt){return(or=or||(0,d.Z)(function*(Kt,_n){try{const Nn=(yield F()).transaction(k,"readwrite");yield Nn.objectStore(k).put(_n,vt(Kt)),yield Nn.done}catch(an){if(an instanceof Te.ZR)_t.warn(an.message);else{const Nn=Et.create("idb-set",{originalErrorMessage:an?.message});_t.warn(Nn.message)}}})).apply(this,arguments)}function vt(Dt){return`${Dt.name}!${Dt.options.appId}`}class Sn{constructor(gt){this.container=gt,this._heartbeatsCache=null;const Kt=this.container.getProvider("app").getImmediate();this._storage=new Ir(Kt),this._heartbeatsCachePromise=this._storage.read().then(_n=>(this._heartbeatsCache=_n,_n))}triggerHeartbeat(){var gt=this;return(0,d.Z)(function*(){const _n=gt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=In();if(null===gt._heartbeatsCache&&(gt._heartbeatsCache=yield gt._heartbeatsCachePromise),gt._heartbeatsCache.lastSentHeartbeatDate!==an&&!gt._heartbeatsCache.heartbeats.some(Nn=>Nn.date===an))return gt._heartbeatsCache.heartbeats.push({date:an,agent:_n}),gt._heartbeatsCache.heartbeats=gt._heartbeatsCache.heartbeats.filter(Nn=>{const dr=new Date(Nn.date).valueOf();return Date.now()-dr<=2592e6}),gt._storage.overwrite(gt._heartbeatsCache)})()}getHeartbeatsHeader(){var gt=this;return(0,d.Z)(function*(){if(null===gt._heartbeatsCache&&(yield gt._heartbeatsCachePromise),null===gt._heartbeatsCache||0===gt._heartbeatsCache.heartbeats.length)return"";const Kt=In(),{heartbeatsToSend:_n,unsentEntries:an}=function rr(Dt,gt=1024){const Kt=[];let _n=Dt.slice();for(const an of Dt){const Nn=Kt.find(dr=>dr.agent===an.agent);if(Nn){if(Nn.dates.push(an.date),Fi(Kt)>gt){Nn.dates.pop();break}}else if(Kt.push({agent:an.agent,dates:[an.date]}),Fi(Kt)>gt){Kt.pop();break}_n=_n.slice(1)}return{heartbeatsToSend:Kt,unsentEntries:_n}}(gt._heartbeatsCache.heartbeats),Nn=(0,Te.L)(JSON.stringify({version:2,heartbeats:_n}));return gt._heartbeatsCache.lastSentHeartbeatDate=Kt,an.length>0?(gt._heartbeatsCache.heartbeats=an,yield gt._storage.overwrite(gt._heartbeatsCache)):(gt._heartbeatsCache.heartbeats=[],gt._storage.overwrite(gt._heartbeatsCache)),Nn})()}}function In(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(gt){this.app=gt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var gt=this;return(0,d.Z)(function*(){return(yield gt._canUseIndexedDBPromise)&&(yield function de(Dt){return(cn=cn||(0,d.Z)(function*(gt){try{return yield(yield F()).transaction(k).objectStore(k).get(vt(gt))}catch(Kt){if(Kt instanceof Te.ZR)_t.warn(Kt.message);else{const _n=Et.create("idb-get",{originalErrorMessage:Kt?.message});_t.warn(_n.message)}}})).apply(this,arguments)}(gt.app))||{heartbeats:[]}})()}overwrite(gt){var Kt=this;return(0,d.Z)(function*(){var _n;if(yield Kt._canUseIndexedDBPromise){const Nn=yield Kt.read();return We(Kt.app,{lastSentHeartbeatDate:null!==(_n=gt.lastSentHeartbeatDate)&&void 0!==_n?_n:Nn.lastSentHeartbeatDate,heartbeats:gt.heartbeats})}})()}add(gt){var Kt=this;return(0,d.Z)(function*(){var _n;if(yield Kt._canUseIndexedDBPromise){const Nn=yield Kt.read();return We(Kt.app,{lastSentHeartbeatDate:null!==(_n=gt.lastSentHeartbeatDate)&&void 0!==_n?_n:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...gt.heartbeats]})}})()}}function Fi(Dt){return(0,Te.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function pi(Dt){ar(new H.wA("platform-logger",gt=>new ei(gt),"PRIVATE")),ar(new H.wA("heartbeat",gt=>new Sn(gt),"PRIVATE")),Hn(Ur,"0.9.13",Dt),Hn(Ur,"0.9.13","esm2017"),Hn("fire-js","")}("")},4537:(pn,st,V)=>{V.d(st,{H0:()=>Ae,wA:()=>ae});var d=V(5861),H=V(9058);class ae{constructor(he,ve,Ke){this.name=he,this.instanceFactory=ve,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Te="[DEFAULT]";class b{constructor(he,ve){this.name=he,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ve=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ve)){const Ke=new H.BH;if(this.instancesDeferred.set(ve,Ke),this.isInitialized(ve)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:ve});lt&&Ke.resolve(lt)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(he){var ve;const Ke=this.normalizeInstanceIdentifier(he?.identifier),lt=null!==(ve=he?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(mt){if(lt)return null;throw mt}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Ve(Fe){return"EAGER"===Fe.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[ve,Ke]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(ve);try{const mt=this.getOrInitializeService({instanceIdentifier:lt});Ke.resolve(mt)}catch{}}}}clearInstance(he=Te){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,d.Z)(function*(){const ve=Array.from(he.instances.values());yield Promise.all([...ve.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...ve.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Te){return this.instances.has(he)}getOptions(he=Te){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ve={}}=he,Ke=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:Ke,options:ve});for(const[mt,jt]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(mt)&&jt.resolve(lt);return lt}onInit(he,ve){var Ke;const lt=this.normalizeInstanceIdentifier(ve),mt=null!==(Ke=this.onInitCallbacks.get(lt))&&void 0!==Ke?Ke:new Set;mt.add(he),this.onInitCallbacks.set(lt,mt);const jt=this.instances.get(lt);return jt&&he(jt,lt),()=>{mt.delete(he)}}invokeOnInitCallbacks(he,ve){const Ke=this.onInitCallbacks.get(ve);if(Ke)for(const lt of Ke)try{lt(he,ve)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ve={}}){let Ke=this.instances.get(he);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=he,Fe===Te?void 0:Fe),options:ve}),this.instances.set(he,Ke),this.instancesOptions.set(he,ve),this.invokeOnInitCallbacks(Ke,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Ke)}catch{}var Fe;return Ke||null}normalizeInstanceIdentifier(he=Te){return this.component?this.component.multipleInstances?he:Te:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ve=this.getProvider(he.name);if(ve.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ve.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ve=new b(he,this);return this.providers.set(he,ve),ve}getProviders(){return Array.from(this.providers.values())}}},7879:(pn,st,V)=>{V.d(st,{Am:()=>Fe,Ub:()=>Ae,Yd:()=>Ve,in:()=>H});const d=[];var H=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(H||{});const ae={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},Te=H.INFO,b={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ke=(he,ve,...Ke)=>{if(ve<he.logLevel)return;const lt=(new Date).toISOString(),mt=b[ve];if(!mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[mt](`[${lt}]  ${he.name}:`,...Ke)};class Ve{constructor(ve){this.name=ve,this._logLevel=Te,this._logHandler=ke,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in H))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?ae[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...ve),this._logHandler(this,H.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...ve),this._logHandler(this,H.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,H.INFO,...ve),this._logHandler(this,H.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,H.WARN,...ve),this._logHandler(this,H.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...ve),this._logHandler(this,H.ERROR,...ve)}}function Ae(he){d.forEach(ve=>{ve.setLogLevel(he)})}function Fe(he,ve){for(const Ke of d){let lt=null;ve&&ve.level&&(lt=ae[ve.level]),Ke.userLogHandler=null===he?null:(mt,jt,...kt)=>{const St=kt.map(Rt=>{if(null==Rt)return null;if("string"==typeof Rt)return Rt;if("number"==typeof Rt||"boolean"==typeof Rt)return Rt.toString();if(Rt instanceof Error)return Rt.message;try{return JSON.stringify(Rt)}catch{return null}}).filter(Rt=>Rt).join(" ");jt>=(lt??mt.logLevel)&&he({level:H[jt].toLowerCase(),message:St,args:kt,type:mt.name})}}}},5861:(pn,st,V)=>{function d(ae,Te,b,ke,Ve,Ae,Fe){try{var he=ae[Ae](Fe),ve=he.value}catch(Ke){return void b(Ke)}he.done?Te(ve):Promise.resolve(ve).then(ke,Ve)}function H(ae){return function(){var Te=this,b=arguments;return new Promise(function(ke,Ve){var Ae=ae.apply(Te,b);function Fe(ve){d(Ae,ke,Ve,Fe,he,"next",ve)}function he(ve){d(Ae,ke,Ve,Fe,he,"throw",ve)}Fe(void 0)})}}V.d(st,{Z:()=>H})},7582:(pn,st,V)=>{function Te(_t,Ct){var ct={};for(var yt in _t)Object.prototype.hasOwnProperty.call(_t,yt)&&Ct.indexOf(yt)<0&&(ct[yt]=_t[yt]);if(null!=_t&&"function"==typeof Object.getOwnPropertySymbols){var Mt=0;for(yt=Object.getOwnPropertySymbols(_t);Mt<yt.length;Mt++)Ct.indexOf(yt[Mt])<0&&Object.prototype.propertyIsEnumerable.call(_t,yt[Mt])&&(ct[yt[Mt]]=_t[yt[Mt]])}return ct}function Ke(_t,Ct,ct,yt){return new(ct||(ct=Promise))(function(ut,Ht){function At(jn){try{Mn(yt.next(jn))}catch(Un){Ht(Un)}}function Xn(jn){try{Mn(yt.throw(jn))}catch(Un){Ht(Un)}}function Mn(jn){jn.done?ut(jn.value):function Mt(ut){return ut instanceof ct?ut:new ct(function(Ht){Ht(ut)})}(jn.value).then(At,Xn)}Mn((yt=yt.apply(_t,Ct||[])).next())})}function Re(_t){return this instanceof Re?(this.v=_t,this):new Re(_t)}function Qe(_t,Ct,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt,yt=ct.apply(_t,Ct||[]),ut=[];return Mt={},Ht("next"),Ht("throw"),Ht("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt;function Ht(Zn){yt[Zn]&&(Mt[Zn]=function(Fn){return new Promise(function(kr,br){ut.push([Zn,Fn,kr,br])>1||At(Zn,Fn)})})}function At(Zn,Fn){try{!function Xn(Zn){Zn.value instanceof Re?Promise.resolve(Zn.value.v).then(Mn,jn):Un(ut[0][2],Zn)}(yt[Zn](Fn))}catch(kr){Un(ut[0][3],kr)}}function Mn(Zn){At("next",Zn)}function jn(Zn){At("throw",Zn)}function Un(Zn,Fn){Zn(Fn),ut.shift(),ut.length&&At(ut[0][0],ut[0][1])}}function Je(_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Ct=_t[Symbol.asyncIterator];return Ct?Ct.call(_t):(_t=function kt(_t){var Ct="function"==typeof Symbol&&Symbol.iterator,ct=Ct&&_t[Ct],yt=0;if(ct)return ct.call(_t);if(_t&&"number"==typeof _t.length)return{next:function(){return _t&&yt>=_t.length&&(_t=void 0),{value:_t&&_t[yt++],done:!_t}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")}(_t),ct={},yt("next"),yt("throw"),yt("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function yt(ut){ct[ut]=_t[ut]&&function(Ht){return new Promise(function(At,Xn){!function Mt(ut,Ht,At,Xn){Promise.resolve(Xn).then(function(Mn){ut({value:Mn,done:At})},Ht)}(At,Xn,(Ht=_t[ut](Ht)).done,Ht.value)})}}}V.d(st,{FC:()=>Qe,KL:()=>Je,_T:()=>Te,mG:()=>Ke,qq:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},pn=>{pn(pn.s=517)}]);